<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head prefix="dc: http://purl.org/dc/terms/ og: http://ogp.me/ns#">
  <meta charset="utf-8" /> 
  <title>Knitr with flickr and wordpress</title>
  <meta name="author" content="Carl Boettiger" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  

<!-- Some liquid code so that pages get the site.time creation date 
      Would be nice to use github modified times, but doesn't handle 
      the path for pages -->







<!-- HTML5 metadata -->
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="resource_type" content="website"/> 
<!-- RDFa Metadata (in DublinCore) -->
<meta property="dc:title" content="Knitr with flickr and wordpress" />
<meta property="dc:creator" content="Carl Boettiger" />
<meta property="dc:date" content="2013-04-18T07:26:47-07:00" />
<meta property="dc:format" content="text/html" />
<meta property="dc:language" content="en" />
<meta property="dc:identifier" content="/2012/02/28/knitr-with-flickr-and-wordpress.html" />
<meta property="dc:rights" content="CC0" />
<meta property="dc:source" content="Lab Notebook" />
<meta property="dc:subject" content="Ecology" /> 
<meta property="dc:type" content="website" /> 
<!-- RDFa Metadata (in OpenGraph) -->
<meta property="og:title" content="Knitr with flickr and wordpress" />
<meta property="og:author" content="http://www.carlboettiger.info/index.html#me" />  <!-- Should be Liquid? URI? -->
<meta property="http://ogp.me/ns/profile#first_name" content="Carl"/>
<meta property="http://ogp.me/ns/profile#last_name" content="Boettiger"/>
<meta property="http://ogp.me/ns/article#published_time" content="2013-04-18T07:26:47-07:00" />
<meta property="og:site_name" content="Lab Notebook" /> <!-- Same as dc:source? -->
<meta property="og:url" content="http://www.carlboettiger.info/2012/02/28/knitr-with-flickr-and-wordpress.html" />
<meta property="og:type" content="website" /> 
<!-- Google Scholar Metadata -->
<meta name="citation_author" content="Carl Boettiger"/>
<meta name="citation_date" content="2013-04-18T07:26:47-07:00"/>
<meta name="citation_title" content="Knitr with flickr and wordpress"/>
<meta name="citation_journal_title" content="Lab Notebook"/>

<!--NOTE: see also the COinS Metadata in span element in footer -->




  <!-- CSS Stylesheets (toggled with javascript) -->
  <link href="/assets/css/light.css" rel="stylesheet"
        type="text/css" id="stl" title="light" />
  <link href="/assets/css/dark.css" rel="alternate stylesheet" 
        type="text/css" title="dark" />
  <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet" 
        type="text/css"/>
  <!-- Javascript needed for theme toggle, load immediately -->
  <script type="text/javascript" src="/assets/js/switch-css.js"></script>
  <script type="text/javascript">
    set_style_from_cookie(); 
  </script>
</head>


  <body prefix="dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/"> 
    
<!-- Navbar  ================================================== -->
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="/README.html"><span  class="showtooltip" 
          title="Credits and technical information about this site" 
          data-placement="bottom"><i style="float:right;" class="icon-info-sign" alt="info"></i></span></a>
      <div class="nav-collapse">
        <ul class="nav">
          <li>
          <a href="/index.html">Home</a></li>

          <li>
          <a href="/vita.html">Vita</a></li>

          <li>
          <a href="/research.html">Research</a></li>

          <li>
          <a href="/teaching.html">Teaching</a></li>

          <li>
          <a href="/community.html">Community</a></li>

          <li>
          <a href="/lab-notebook.html">Lab Notebook</a></li>

        </ul>
      </div><!--/.nav-collapse -->

      <!-- Search site using Google's index --><!--
      <form class="navbar-search pull-right" method="get" action="http://google.com/search">
        <p>
          <input type="hidden" name="q" value="site:carlboettiger.info" />
          <input type="text" class="search-query" name="q" />
          <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button> 
        </p>
      </form>
      -->
      <div id="search">
      <form method="get" class="navbar-search pull-right form-search">
        <p>
        <input type="text" name="search-text" id="search-text">
         <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button> 
        </p>
      </form>
      </div>
     </div> <!-- /container -->
   </div> <!-- /navbar-inner -->
 </div> <!-- /navbar -->



    <div class="container"> <!-- Responsive grid layout --> 

      <header class="jumbotron">
  <h1 class="entry-title">Knitr with flickr and wordpress</h1>
  <h3></h3>
</header>



<div class="row">
  <div class="span7 offset1">
    <article>
    <p>It’s amazing how nice it is to work with well-developed software. It took me about 20 minutes to extend Yuhui’s interface to allow me to upload images through flickr instead of imgur, and embed them into a wordpress blog using the shortcode from the flickr gallery plugin.</p>
<p>To do this, I just modified the hook used by the markdown format. First, I define a quick R function that uploads to flickr and returns the flickr identifier number. For the moment this is just calling<a href="http://search.cpan.org/~cpb/Flickr-Upload-1.32/flickr_upload">a command-line flickr uploader</a>, though it should be straight-forward to replace this with something like <a href="http://www.omegahat.org/Rflickr/">Rflickr</a>.</p>
<pre class="sourceCode r"><code class="sourceCode r">
flickr &lt;-<span class="st"> </span>function(file, 
    <span class="dt">tags =</span> <span class="st">&quot;&quot;</span>, <span class="dt">description =</span> <span class="st">&quot;&quot;</span>, 
    <span class="dt">public =</span> <span class="ot">TRUE</span>) {
    out &lt;-<span class="st"> </span><span class="kw">system</span>(<span class="kw">paste</span>(<span class="st">&quot;flickr_upload --tag=</span><span class="ch">\&quot;</span><span class="st">&quot;</span>, 
        tags, <span class="st">&quot; </span><span class="ch">\&quot;</span><span class="st"> --description=</span><span class="ch">\&quot;</span><span class="st">&quot;</span>, 
        description, <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">&quot;</span>, 
        <span class="st">&quot; --public &quot;</span>, <span class="kw">as.integer</span>(public), 
        file), <span class="dt">intern =</span> <span class="ot">TRUE</span>)
    <span class="kw">gsub</span>(<span class="st">&quot;.*ids=(</span><span class="ch">\\</span><span class="st">d+)&quot;</span>, 
        <span class="st">&quot;</span><span class="ch">\\</span><span class="st">1&quot;</span>, out[<span class="dv">3</span>])
}</code></pre>
<p>Once we have such an uploading function, it’s super simple to wrap into knitr. I let my function be triggered by the same “upload” option that Yuhui introduced for imgur, but instead call the flickr function above,</p>
<pre class="sourceCode r"><code class="sourceCode r">
.flickr.url =<span class="st"> </span>function(x) {
    file =<span class="st"> </span><span class="kw">paste</span>(x, <span class="dt">collapse =</span> <span class="st">&quot;.&quot;</span>)
    if (opts_knit$<span class="kw">get</span>(<span class="st">&quot;upload&quot;</span>)) {
        <span class="kw">flickr</span>(file)
    } else file
}</code></pre>
<p>Lastly I define the function hook to run the upload and return the shortcode:</p>
<pre class="sourceCode r"><code class="sourceCode r">
hook_plot_flickr =<span class="st"> </span>function(x, 
    options) {
    <span class="kw">sprintf</span>(<span class="st">&quot;[flickr]%s[/flickr]&quot;</span>, 
        <span class="kw">.flickr.url</span>(x))
}</code></pre>
<p>I can then define a wordpress rendering environment by mapping the hooks to my choices.</p>
<pre class="sourceCode r"><code class="sourceCode r">
render_wordpress &lt;-<span class="st"> </span>function() {
    <span class="kw">render_gfm</span>()
    <span class="kw">options</span>(<span class="dt">width =</span> <span class="dv">30</span>)
    opts_knit$<span class="kw">set</span>(<span class="dt">upload =</span> <span class="ot">TRUE</span>)
    output =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;[ code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        x, <span class="st">&quot;[ /code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    warning =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;[ code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        x, <span class="st">&quot;[ /code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    message =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;[ code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        x, <span class="st">&quot;[ /code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    inline =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;&lt;pre&gt;&quot;</span>, 
        x, <span class="st">&quot;&lt;/pre&gt;&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    error =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;[ code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        x, <span class="st">&quot;[ /code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    source =<span class="st"> </span>function(x, 
        options) <span class="kw">paste</span>(<span class="st">&quot;[ code lang=&#39;r&#39;]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        x, <span class="st">&quot;[ /code]</span><span class="ch">\n</span><span class="st">&quot;</span>, 
        <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
    knit_hooks$<span class="kw">set</span>(<span class="dt">output =</span> output, 
        <span class="dt">warning =</span> warning, 
        <span class="dt">message =</span> message, 
        <span class="dt">inline =</span> inline, 
        <span class="dt">error =</span> error, 
        <span class="dt">source =</span> source, 
        <span class="dt">plot =</span> hook_plot_flickr)
}</code></pre>
<p>Note that the rendering sets a custom 30 character width that fits my theme better. Now simply adding the call to render_wordpress in the header of my documents will render this in wordpress format. If you’re reading this on wordpress, it was already in the header. Any figures will embed as flickr shortcode:</p>
<pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">library</span>(ggplot2)
<span class="kw">qplot</span>(hp, mpg, 
    <span class="dt">data =</span> mtcars) +<span class="st"> </span><span class="kw">geom_smooth</span>()</code></pre>
<div class="figure">
<img src="http://farm8.staticflickr.com/7184/6793394960_94c5a5b017_o.png" />
</div>
<p>It would be nicer to have built this around flickR, and provide the urls so that the image can be used without the wordpress flickr shortcode. But for now, the real point is that it’s intuitive to extend knitr to this very customized format, specific to my platform, my plugins, and my shortcodes, with minimal effort. All thanks to Yuhui’s very nice implementation of knitr.</p>
<h3 id="addendum">Addendum</h3>
<p>If we’d rather upload the images to wordpress itself (seems sensible), this is also straight forward thanks to Duncan’s RWordPress package on <a href="http://www.omegahat.org/">Omegahat</a>. Writing the hooks would look like this:</p>
<pre class="sourceCode R"><code class="sourceCode r">
.wordpress.url =<span class="st"> </span>function(x) {
  <span class="kw">require</span>(RWordPress)
  file =<span class="st"> </span><span class="kw">paste</span>(x, <span class="dt">collapse =</span> <span class="st">&#39;.&#39;</span>)
  if (opts_knit$<span class="kw">get</span>(<span class="st">&#39;upload&#39;</span>)) {
            <span class="kw">fileUpload</span>(file)$url
      } else file
}</code></pre>
<p>Note that RWordPress will look for the login credentials defined in “options”, i.e. put something like this in your .Rprofile.</p>
<pre class="sourceCode R"><code class="sourceCode r">
<span class="kw">options</span>(<span class="dt">WordPressLogin =</span> <span class="kw">c</span>(<span class="dt">userid =</span> <span class="st">&quot;password&quot;</span>),
    <span class="dt">WordPressURL =</span> <span class="st">&quot;http://www.yourdomain.com/xmlrpc.php&quot;</span>)</code></pre>
<p>We then just define a hook based on the hook_plot_html that uses the Wordpress URL.</p>
<pre class="sourceCode r"><code class="sourceCode r">
.hook_plot_wordpress =<span class="st"> </span>function(x, options) {
a =<span class="st"> </span>options$fig.align
  <span class="kw">sprintf</span>(<span class="st">&#39;&lt;img src=&quot;%s&quot; class=&quot;plot&quot; %s/&gt;</span><span class="ch">\n</span><span class="st">&#39;</span>, <span class="kw">.wordpress.url</span>(x),
          switch(a,
                 <span class="dt">default =</span> <span class="st">&#39;&#39;</span>,
                 <span class="dt">left =</span> <span class="st">&#39;style=&quot;float: left&quot;&#39;</span>,
                 <span class="dt">right =</span> <span class="st">&#39;style=&quot;float: right&quot;&#39;</span>,
                 <span class="dt">center =</span> <span class="st">&#39;style=&quot;margin: auto; display: block&quot;&#39;</span>))
}</code></pre>
<p>Put this hook in the render function instead/or as an option, and we’re good to go.</p>
<h3 id="addendum-ii">Addendum II</h3>
<p>knitr now supports additional uploading protocols out of the box. For instance, uploading to wordpress just requires a call to knitr options specifying the upload function:</p>
<pre class="sourceCode r"><code class="sourceCode r">
opts_knit$<span class="kw">set</span>(<span class="dt">upload.fun =</span> function(file){
   <span class="kw">library</span>(RWordPress) 
   <span class="kw">uploadFile</span>(file)$url
  })</code></pre>
<p>We could likewise specify the flickr function there, etc. Note that I don’t need to worry about the “paste” or “else” conditions either, that’s all handled automatically now. Just specify an upload function and we’re good to go.</p>
<p>Minor you (I) might think the one-line namespace call could be used instead of loading the library:</p>
<pre class="sourceCode R"><code class="sourceCode r">
RWordPress::<span class="kw">uploadFile</span>(file)$url</code></pre>
<p>but it appears you’d be wrong.</p>
    </article>
  </div>
  <div class="span4">
    <div class="sidebar">
      <aside prefix="og:http://ogp.me/ns/article#">
  <p> <i class="icon-calendar"></i>
    <time datetime="2012-02-28T06:59:21-08:00" 
    property="dc:created">28 Feb 2012</time></p>
  <p><small> modified: <time 
            datetime="2013-02-19T10:27:50-08:00" 
            property="dc:modified">19 Feb 2013</time></small></p>

 <br />

  
    <p><a class="btn btn-mini" rel="prev" href='/2012/02/27/using-knitr-and-rwordpress-to-publish-results-directly-from-r-6.html'><i class="icon-chevron-left"></i> prev</a>
  
  
  <a class="btn btn-mini" rel="next" href='/2012/02/28/warning-signals-in-fish-collapse.html'>next <i class="icon-chevron-right"></i></a></p>
  

  <br />

  <p> <a  onclick="recordOutboundLink(this, 'Outbound Links', 'history'); 
            return false;" 
          class="btn btn-mini" 
          href="https://github.com/cboettig/labnotebook/commits/master/_posts/2012-02-28-knitr-with-flickr-and-wordpress.md"><i class="icon-time"></i> history</a></p>

  <br />

  <p><i class="icon-list"></i> Posted in 
     
      <a rel="dc:subject" class="category" 
         href="/categories.html#open-science">open-science</a>
    
    </p>

  <p> <i class="icon-tag"></i> tags: 
    </p>

  <br/>

   <p style="font-style:italic"> <i class="icon-signal"></i> pageviews: 163</p>

  <br/>

  <p><small> <i class="icon-barcode"></i> SHA Hash: <a href="https://github.com/cboettig/labnotebook/commit/8c159703b2a376bd2c60f16e0e0d5cea04d20876
/_posts/2012-02-28-knitr-with-flickr-and-wordpress.md"> 8c159703b2a376bd2c60f16e0e0d5cea04d20876
</a></small></p>
    
  <br/>

  


</aside>

    </div>
  </div>
</div>

      <!-- Disqus Comments -->
      <div class="row disqus">
        <div class="span8">          
            <div id="disqus_thread"></div>
            <script type="text/javascript">
                var disqus_shortname = 'cboettig'; // required: replace example with your forum shortname
                /* * * DON'T EDIT BELOW THIS LINE * * */
                (function() {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>






<footer class="footer">
  <!-- ************* Buttons to toggle theme CSS ********************** -->
    <div class="row">
      <div class="span12">
        <form style="font-size:10px" class="pull-right">
          <a onclick="switch_style('dark'); 
                      recordOutboundLink(this, 'Outbound Links', 'dark theme'); 
                      return false;" 
             name="theme" value="dark" id="dark" 
             class="btn btn-mini"><span class="showtooltip" 
                                        title="switch to dark theme"><i class="icon-adjust"></i>
                                   </span></a>
          
          <a onclick="switch_style('light'); 
                      recordOutboundLink(this, 'Outbound Links', 'light theme'); 
                      return false;" 
             name="theme" value="light" id="light" 
             class="btn btn-mini"><span class="showtooltip" 
                                        title="switch to light theme"><i class="icon-certificate"></i>
                                  </span></a>
        </form>
      </div>
    </div>

<!--************** FOAF information to social networks ***************************** -->
  <div class="row">
    <div class="span3 socialicons" style="font-size:20px" typeof="foaf:Person" about="http://www.carlboettiger.info#me">
      <p>
          <a rel="foaf:account" alt="email" href="mailto:cboettig@gmail.com" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'email'); 
             return false;"><span class="showtooltip" title="email me"><i class="icon-envelope-alt"></i></span></a>
          <a rel="foaf:account" alt="twitter" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="icon-twitter"></i></span></a> 
          <a rel="foaf:account" alt="github" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="icon-github"></i></span></a>
      <!--
          <a rel="foaf:account" href="https://plus.google.com/" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'GPlus'); 
             return false;"><i class="icon-google-plus"></i></a>
          <a rel="foaf:account" href="http://www.mendeley.com/profiles/carl-boettiger" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Mendeley'); 
             return false;"><img src="/assets/img/icon-mendeley.png" alt="mendeley" /></a> 
           citations on google-scholar
           stackoverflow
      -->
      <a alt="rss" type="application/atom+xml" href="/atom.xml"  
         class="showtooltip" title="subscribe to RSS feeds for my open lab notebook" 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="icon-rss"></i></a>
       </p>
    </div>
    <!--**************** End social links **************************** -->
    <div class="span1">
      <br />
    </div>
    <div class="span4">
      <p>
      <a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="http://onsclaims.wikispaces.com/file/view/ons-aci2-icon.png" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a>

      <a title="This site uses linked data semantics. Click to extract as RDF XML." class="btn btn-mini showtooltip" style="font-size: .8em" 
       href="http://any23.org/?format=rdfxml&validate=validate&uri=http://www.carlboettiger.info/2012/02/28/knitr-with-flickr-and-wordpress.html"><i 
         class="icon-cloud-download"  onclick="recordOutboundLink(this, 'Outbound Links', 'RDF'); return false;"></i> RDF</a>
      </p>
    </div>
    <div class="span1">
      <br />
    </div>
    <div class="span3">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="http://i.creativecommons.org/l/zero/1.0/88x31.png" alt="CC0"/></a> 
      </p>
    </div>

  </div>
  
<!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
  <span
      class="Z3988" 
      title="ctx_ver=Z39.88-2004
      &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
      &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
      &amp;rft.title=Knitr with flickr and wordpress
      &amp;rft.creator=Carl Boettiger
      &amp;rft.date=2012-02-28
      &amp;rft.language=EN
      &amp;rft.rights=CC0
      &amp;rft_id=http://www.carlboettiger.info/2012/02/28/knitr-with-flickr-and-wordpress.html">
  </span>



</footer>




    <!-- Le javascript
    ================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQuery, used on a few pages -->
    <script type="text/javascript" src="/assets/js/jquery.js"></script>
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <!-- Twitter Bootstrap Javascript -->
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- Tooltip javascript -->
    <script type="text/javascript">
      $(document).ready(function (){
        $(".showtooltip").tooltip();
      });
    </script>

    <!-- Marran's Search Javascript -->
    <script type="text/javascript" src="/assets/js/porter-stemmer.js"></script>
    <script type="text/javascript" src="/assets/js/site-search.js"></script>

    <!-- Code collapse Javascript -->
    <script type="text/javascript">
    $(document).ready(function(){
      $("#toggle_code").click(function(){
        $(".highlight").toggle();
        $(".sourceCode").toggle();
      });
    });
    </script>


  <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-18401403-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
  </script>



<script type="text/javascript">
function recordOutboundLink(link, category, action) {
  try {
    var pageTracker=_gat._getTracker("UA-18401403-1");
    pageTracker._trackEvent(category, action);
    setTimeout('document.location = "' + link.href + '"', 100)
  }catch(err){}
}
</script>




    


    </div>
  </body>
</html>

