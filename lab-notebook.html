<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head prefix="dc: http://purl.org/dc/terms/ og: http://ogp.me/ns#">
  <meta http-equiv='Content-Type' content='text/html; charset=utf-8'/>
  <title>Lab Notebook</title>
  <meta name="author" content="Carl Boettiger" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  

<!-- Some liquid code so that pages get the site.time creation date 
      Would be nice to use github modified times, but doesn't handle 
      the path for pages -->







<!-- HTML5 metadata -->
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta name="resource_type" content="website"/> 
<!-- RDFa Metadata (in DublinCore) -->
<meta property="dc:title" content="Lab Notebook" />
<meta property="dc:creator" content="Carl Boettiger" />
<meta property="dc:date" content="2013-05-15T11:55:32-07:00" />
<meta property="dc:format" content="text/html" />
<meta property="dc:language" content="en" />
<meta property="dc:identifier" content="/lab-notebook.html" />
<meta property="dc:rights" content="CC0" />
<meta property="dc:source" content="Lab Notebook" />
<meta property="dc:subject" content="Ecology" /> 
<meta property="dc:type" content="website" /> 
<!-- RDFa Metadata (in OpenGraph) -->
<meta property="og:title" content="Lab Notebook" />
<meta property="og:author" content="http://www.carlboettiger.info/index.html#me" />  <!-- Should be Liquid? URI? -->
<meta property="http://ogp.me/ns/profile#first_name" content="Carl"/>
<meta property="http://ogp.me/ns/profile#last_name" content="Boettiger"/>
<meta property="http://ogp.me/ns/article#published_time" content="2013-05-15T11:55:32-07:00" />
<meta property="og:site_name" content="Lab Notebook" /> <!-- Same as dc:source? -->
<meta property="og:url" content="http://www.carlboettiger.info/lab-notebook.html" />
<meta property="og:type" content="website" /> 
<!-- Google Scholar Metadata -->
<meta name="citation_author" content="Carl Boettiger"/>
<meta name="citation_date" content="2013-05-15T11:55:32-07:00"/>
<meta name="citation_title" content="Lab Notebook"/>
<meta name="citation_journal_title" content="Lab Notebook"/>

<!--NOTE: see also the COinS Metadata in span element in footer -->




  <!-- CSS Stylesheets (toggled with javascript) -->
  <link href="/assets/css/light.css" rel="stylesheet"
        type="text/css" id="stl" title="light" />
  <link href="/assets/css/dark.css" rel="alternate stylesheet" 
        type="text/css" title="dark" />
  <link href="/assets/css/bootstrap-responsive.css" rel="stylesheet" 
        type="text/css"/>
  <!-- Javascript needed for theme toggle, load immediately -->
  <script type="text/javascript" src="/assets/js/switch-css.js"></script>
  <script type="text/javascript">
    set_style_from_cookie(); 
  </script>
</head>


  <body prefix="dc: http://purl.org/dc/terms/ foaf: http://xmlns.com/foaf/0.1/"> 
    
<!-- Navbar  ================================================== -->
<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <a class="brand" href="/README.html"><span  class="showtooltip" 
          title="Credits and technical information about this site" 
          data-placement="bottom"><i style="float:right;" class="icon-info-sign" alt="info"></i></span></a>
      <div class="nav-collapse">
        <ul class="nav">
          <li>
          <a href="/index.html">Home</a></li>

          <li>
          <a href="/vita.html">Vita</a></li>

          <li>
          <a href="/research.html">Research</a></li>

          <li>
          <a href="/teaching.html">Teaching</a></li>

          <li>
          <a href="/community.html">Community</a></li>

          <li class="active">
          <a href="/lab-notebook.html">Lab Notebook</a></li>

        </ul>
      </div><!--/.nav-collapse -->

      <!-- Search site using Google's index --><!--
      <form class="navbar-search pull-right" method="get" action="http://google.com/search">
        <p>
          <input type="hidden" name="q" value="site:carlboettiger.info" />
          <input type="text" class="search-query" name="q" />
          <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button> 
        </p>
      </form>
      -->
      <div id="search">
      <form method="get" class="navbar-search pull-right form-search">
        <p>
        <input type="text" name="search-text" id="search-text">
         <button class="btn btn-mini" type="submit"><i class="icon-search"></i></button> 
        </p>
      </form>
      </div>
     </div> <!-- /container -->
   </div> <!-- /navbar-inner -->
 </div> <!-- /navbar -->



    <div class="container"> <!-- Responsive grid layout --> 

      <header class="jumbotron">
  <h1 class="entry-title">Lab Notebook</h1>
  <h3>(<a href="http://www.carlboettiger.info/2012/09/28/Welcome-to-my-lab-notebook.html">Introduction</a>)</h3>
</header>



<div class="row feed">
  <div class="span3 offset1">
    <h4>  <a property="account" href="https://github.com/cboettig" onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); return false;"><i class="icon-github" alt="github"></i> Coding </a></h4> 
     <div class="excerpt">
        <ul><li>cboettig pushed to master at cboettig/labnotebook: <em>fix category and tag links from sidebar finish and release post layout as posts</em> <a href="https://github.com/cboettig/labnotebook/compare/09e30fdcc1...5fac687f69">06:57 2013/05/15</a></li><li>cboettig pushed to master at cboettig/nonparametric-bayes: <em>verbose version with plots and explanation (for notes) tweak figure layout</em> <a href="https://github.com/cboettig/nonparametric-bayes/compare/4f5858c4a7...39a40333de">06:33 2013/05/15</a></li><li>cboettig pushed to master at cboettig/cboettig.github.com: <em>update site</em> <a href="https://github.com/cboettig/cboettig.github.com/compare/f07fe6766f...f5b593520b">05:52 2013/05/15</a></li><li>cboettig pushed to master at cboettig/cboettig.github.com: <em>update site</em> <a href="https://github.com/cboettig/cboettig.github.com/compare/c4a9b7eeea...f07fe6766f">05:38 2013/05/15</a></li><li>cboettig pushed to master at cboettig/nonparametric-bayes: <em>Fixed GP use of standard deviation in place of variance</em> <a href="https://github.com/cboettig/nonparametric-bayes/compare/177a1e28dd...4f5858c4a7">05:24 2013/05/15</a></li></ul>
    </div>
  </div>
  <div class="span3">
    <h4> <a property="account" href="https://twitter.com/cboettig" onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); return false;"><i class="icon-twitter"></i> Discussing </a></h4> 
     <div class="excerpt">
       <ul><li><p>wow there are a lot of static website generators out there today... <a href="http://t.co/vnNRQtHIpE">http://t.co/vnNRQtHIpE</a></p>
 <a href="http://twitter.com/cboettig/statuses/334742259390107648">11:49 2013/05/15</a> </li><li><p>RT @hadleywickham: a (partial) #rstats expression to latex math converter: <a href="https://t.co/m12Vvn82FW">https://t.co/m12Vvn82FW</a></p>
 <a href="http://twitter.com/cboettig/statuses/334318998118342658">07:47 2013/05/14</a> </li><li><p>is @ctitusbrown too hard on himself about #openscience in his post: <a href="http://t.co/fmaLPcJCq9">http://t.co/fmaLPcJCq9</a> Is it being visible or discussed that counts?</p>
 <a href="http://twitter.com/cboettig/statuses/334318853448409088">07:46 2013/05/14</a> </li><li><p>RT @trvrb: @cboettig @phylorich I asked the editorial staff at eLife before posting the reviews. They asked and got an okay from the review…</p>
 <a href="http://twitter.com/cboettig/statuses/334318108401602562">07:43 2013/05/14</a> </li><li><p>@trvrb @phylorich Nice! Did you ask before getting the reviews? Maybe I should start putting something like that in a cover letter or such?</p>
 <a href="http://twitter.com/cboettig/statuses/334318091959943168">07:43 2013/05/14</a> </li></ul>
    </div> 
  </div> 
  <div class="span3">
    <h4> <a href="http://www.mendeley.com/groups/634301/theoretical-ecology/papers/" onClick="recordOutboundLink(this, 'Outbound Links', 'Mendeley'); return false;"><i class="icon-book"></i> Reading </a></h4> 
    <div class="excerpt">
      <ul><li>Speed of expansion and extinction in experimental populations.: Ecology letters (2009). Volume: 12, Issue: 8. Pages: 772-8. John M Drake, Blaine D Griffen et al. <a href="http://www.mendeley.com/catalog/speed-expansion-extinction-experimental-populations/">06:00 2013/04/23</a></li><li>Nonlinear Forecasting for the Classification of Natural Time Series: Philosophical Transactions of the Royal Society A: Mathematical, Physical and Engineering Sciences (1994). Volume: 348, Issue: 1688. Pages: 477-495. G. Sugihara et al. <a href="http://www.mendeley.com/research/nonlinear-forecasting-classification-natural-time-series/">11:56 2013/04/22</a></li><li>Distinguishing random environmental fluctuations from ecological catastrophes for the North Pacific Ocean.: Nature (2005). Volume: 435, Issue: 7040. Pages: 336-40. Chih-hao Hsieh, Sarah M Glaser, Andrew J Lucas, George Sugihara et al. <a href="http://www.mendeley.comhttp://www.mendeley.com/c/5744815114/g/634301/hsieh-2005-distinguishing-random-environmental-fluctuations-from-ecological-catastrophes-for-the-north-pacific-ocean/">11:56 2013/04/22</a></li><li>Persistence of Dynamical Systems under Random Perturbations: SIAM Review (1975). Volume: 17, Issue: 4. Pages: 605-640. Donald Ludwig et al. <a href="http://www.mendeley.com/research/persistence-dynamical-systems-under-random-perturbations-1/">11:54 2013/04/22</a></li></ul>
    </div>
  </div> 
</div>

<hr>
<div class="row postpreview">
  <div class="span11 offset1">
    <div class="row">
      <h4> <a href="http://www.carlboettiger.info/atom.xml"
              onClick="recordOutboundLink(this,
              'Outbound Links', 'RSS'); return false;"
              style="color: inherit;"
              ><i class="icon-rss" ></i> Entries</a></h4>
      
        <div class="span3">
          <header><h4><a href="/2013/05/14/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 14 May 2013</p>

<p style="font-style:italic"> pageviews: (not calculated) </p>

<article>
<div class="excerpt">
<h2 id="one-step-ahead-predictor-plots-and-forecasting-plots">One-step ahead predictor plots and forecasting plots</h2>
<p>Set our usual plotting options for the notebook</p>
<pre class="sourceCode r"><code class="sourceCode r">opts_chunk$<span class="kw">set</span>(<span class="dt">tidy =</span> <span class="ot">FALSE</span>, <span class="dt">warning =</span> <span class="ot">FALSE</span>, <span class="dt">message =</span> <span class="ot">FALSE</span>, <span class="dt">cache =</span> <span class="ot">FALSE</span>, 
    <span class="dt">comment =</span> <span class="ot">NA</span>, <span class="dt">fig.width =</span> <span class="dv">7</span>, <span class="dt">fig.height =</span> <span class="dv">4</span>)
<span class="kw">library</span>(ggplot2)
opts_knit$<span class="kw">set</span>(<span class="dt">upload.fun =</span> socialR::flickr.url)
<span class="kw">theme_set</span>(<span class="kw">theme_bw</span>(<span class="dt">base_size =</span> <span class="dv">12</span>))
<span class="kw">theme_update</span>(<span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>, <span class="dt">colour =</span> <span class="ot">NA</span>), 
    <span class="dt">plot.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;transparent&quot;</span>, <span class="dt">colour =</span> <span class="ot">NA</span>))
cbPalette &lt;- <span class="kw">c</span>(<span class="st">&quot;#000000&quot;</span>, <span class="st">&quot;#E69F00&quot;</span>, <span class="st">&quot;#56B4E9&quot;</span>, <span class="st">&quot;#009E73&quot;</span>, <span class="st">&quot;#F0E442&quot;</span>, <span class="st">&quot;#0072B2&quot;</span>, 
    <span class="st">&quot;#D55E00&quot;</span>, <span class="st">&quot;#CC79A7&quot;</span>)</code></pre>
<p>Now we show how each of the fitted models performs on the training data (e.g. plot of the step-ahead predictors). For the GP, we need to predict on the training data first:</p>
<pre class="sourceCode r"><code class="sourceCode r">gp_f_at_obs &lt;- <span class="kw">gp_predict</span>(gp, x, <span class="dt">burnin=</span><span class="fl">1e4</span>, <span class="dt">thin=</span><span class="dv">300</span>)</code></pre>
<p>For the parametric models, prediction is a matter of feeding in each of the observed data points to the fitted parameters, like so</p>
<pre class="sourceCode r"><code class="sourceCode r">step_ahead &lt;- function(x, f, p){
  h = <span class="dv">0</span>
  x_predict &lt;- <span class="kw">sapply</span>(x, f, h, p)
  n &lt;- <span class="kw">length</span>(x_predict) - <span class="dv">1</span>
  y &lt;- <span class="kw">c</span>(x[<span class="dv">1</span>], x_predict[<span class="dv">1</span>:n])
  y
}</code></pre>
<p>Which we apply over each of the fitted models, including the GP, organizing the “expected” transition points (given the previous point) into a data frame.</p>
<pre class="sourceCode r"><code class="sourceCode r">df &lt;- <span class="kw">melt</span>(<span class="kw">data.frame</span>(<span class="dt">time =</span> <span class="dv">1</span>:<span class="kw">length</span>(x), <span class="dt">stock =</span> x, 
                <span class="dt">GP =</span> gp_f_at_obs$E_Ef,
                <span class="dt">True =</span> <span class="kw">step_ahead</span>(x,f,p),  
                <span class="dt">MLE =</span> <span class="kw">step_ahead</span>(x,f,est$p), 
                <span class="dt">Parametric.Bayes =</span> <span class="kw">step_ahead</span>(x, f, bayes_pars), 
                <span class="dt">Ricker =</span> <span class="kw">step_ahead</span>(x,alt$f, ricker_bayes_pars), 
                <span class="dt">Myers =</span> <span class="kw">step_ahead</span>(x, Myer_harvest, myers_bayes_pars)
                 ), <span class="dt">id=</span><span class="kw">c</span>(<span class="st">&quot;time&quot;</span>, <span class="st">&quot;stock&quot;</span>))

<span class="kw">ggplot</span>(df) + <span class="kw">geom_point</span>(<span class="kw">aes</span>(time, stock)) + 
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(time, value, <span class="dt">col=</span>variable)) +
    <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7283/8741083767_cb39364f39_o.png" alt="plot of chunk unnamed-chunk-3" /><figcaption>plot of chunk unnamed-chunk-3</figcaption>
</figure>
<h2 id="posterior-predictive-curves">Posterior predictive curves</h2>
<p>This shows only the mean predictions. For the Bayesian cases, we can instead loop over the posteriors of the parameters (or samples from the GP posterior) to get the distribution of such curves in each case.</p>
<p>We will need a vector version (<code>pmin</code> in place of <code>min</code>) of this function that can operate on the posteriors, others are vectorized already.</p>
<pre class="sourceCode r"><code class="sourceCode r">ricker_f &lt;- function(x,h,p){
  <span class="kw">sapply</span>(x, function(x){ 
    x &lt;- <span class="kw">pmax</span>(<span class="dv">0</span>, x-h) 
    <span class="kw">pmax</span>(<span class="dv">0</span>, x * <span class="kw">exp</span>(p[<span class="dv">2</span>] * (<span class="dv">1</span> - x / p[<span class="dv">1</span>] )) )
  })
}</code></pre>
<p>Then we proceed as before, now looping over 100 random samples from the posterior for each Bayesian estimate. We write this as a function for easy reuse.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(MASS)

step_ahead_posteriors &lt;- function(x){
gp_f_at_obs &lt;- <span class="kw">gp_predict</span>(gp, x, <span class="dt">burnin=</span><span class="fl">1e4</span>, <span class="dt">thin=</span><span class="dv">300</span>)
df_post &lt;- <span class="kw">melt</span>(<span class="kw">lapply</span>(<span class="kw">sample</span>(<span class="dv">100</span>), 
  function(i){
    <span class="kw">data.frame</span>(<span class="dt">time =</span> <span class="dv">1</span>:<span class="kw">length</span>(x), <span class="dt">stock =</span> x, 
                <span class="dt">GP =</span> <span class="kw">mvrnorm</span>(<span class="dv">1</span>, gp_f_at_obs$Ef_posterior[,i], gp_f_at_obs$Cf_posterior[[i]]),
                <span class="dt">True =</span> <span class="kw">step_ahead</span>(x,f,p),  
                <span class="dt">MLE =</span> <span class="kw">step_ahead</span>(x,f,est$p), 
                <span class="dt">Parametric.Bayes =</span> <span class="kw">step_ahead</span>(x, allen_f, pardist[i,]), 
                <span class="dt">Ricker =</span> <span class="kw">step_ahead</span>(x, ricker_f, ricker_pardist[i,]), 
                <span class="dt">Myers =</span> <span class="kw">step_ahead</span>(x, myers_f, myers_pardist[i,]))
  }), <span class="dt">id=</span><span class="kw">c</span>(<span class="st">&quot;time&quot;</span>, <span class="st">&quot;stock&quot;</span>))

}


df_post &lt;- <span class="kw">step_ahead_posteriors</span>(x)
<span class="kw">ggplot</span>(df_post) + <span class="kw">geom_point</span>(<span class="kw">aes</span>(time, stock)) + 
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(time, value, <span class="dt">col=</span>variable, <span class="dt">group=</span><span class="kw">interaction</span>(L1,variable)), <span class="dt">alpha=</span>.<span class="dv">1</span>) + 
  <span class="kw">facet_wrap</span>(~variable) + 
  <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey, <span class="dt">guide =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">alpha =</span> <span class="dv">1</span>))) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7291/8741085295_a3b39b4468_o.png" alt="plot of chunk unnamed-chunk-5" /><figcaption>plot of chunk unnamed-chunk-5</figcaption>
</figure>
<h2 id="performance-on-data-outside-of-observations">Performance on data outside of observations</h2>
<p>Of course it is hardly suprising that all models do reasonably well on the data on which they were trained. A crux of the problem is the model performance on data outside the observed range. (Though we might also wish to repeat the above plot on data in the observed range but a different sequence from the observed data).</p>
<p>First we generate some data from the underlying model coming from below the tipping point:</p>
<pre class="sourceCode r"><code class="sourceCode r">y &lt;- <span class="kw">numeric</span>(Tobs)
y[<span class="dv">1</span>] = <span class="fl">4.5</span>
for(t in <span class="dv">1</span>:(Tobs<span class="dv">-1</span>))
    y[t<span class="dv">+1</span>] = <span class="kw">z_g</span>() * <span class="kw">f</span>(y[t], <span class="dt">h=</span><span class="dv">0</span>, <span class="dt">p=</span>p)</code></pre>
<p>Proceed as before on this data:</p>
<pre class="sourceCode r"><code class="sourceCode r">df_post &lt;- <span class="kw">step_ahead_predictors</span>(y)</code></pre>
<pre><code>Error: could not find function &quot;step_ahead_predictors&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">
<span class="kw">ggplot</span>(df_post) + <span class="kw">geom_point</span>(<span class="kw">aes</span>(time, stock)) + 
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(time, value, <span class="dt">col=</span>variable, <span class="dt">group=</span><span class="kw">interaction</span>(L1,variable)), <span class="dt">alpha=</span>.<span class="dv">1</span>) + 
  <span class="kw">facet_wrap</span>(~variable) + 
  <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey, <span class="dt">guide =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">alpha =</span> <span class="dv">1</span>))) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7286/8742201658_0d93ca01d4_o.png" alt="plot of chunk unnamed-chunk-7" /><figcaption>plot of chunk unnamed-chunk-7</figcaption>
</figure>
<p>alternately, try the plot without facets</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(df_post) + <span class="kw">geom_point</span>(<span class="kw">aes</span>(time, stock)) + 
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(time, value, <span class="dt">col=</span>variable, <span class="dt">group=</span><span class="kw">interaction</span>(L1,variable)), <span class="dt">alpha=</span>.<span class="dv">1</span>) + 
  <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey, <span class="dt">guide =</span> <span class="kw">guide_legend</span>(<span class="dt">override.aes =</span> <span class="kw">list</span>(<span class="dt">alpha =</span> <span class="dv">1</span>))) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7284/8742201996_648946d8eb_o.png" alt="plot of chunk unnamed-chunk-8" /><figcaption>plot of chunk unnamed-chunk-8</figcaption>
</figure>
<h2 id="forecast-distributions">Forecast Distributions</h2>
<p>Another way to visualize this is to look directly at the distribution predicted under each model, one step and several steps into the future (say, at a fixed harvest level).</p>
<pre class="sourceCode r"><code class="sourceCode r">get_forecasts &lt;- function(i, Tobs, h_i){

df &lt;- <span class="kw">data.frame</span>(
  <span class="dt">x =</span> x_grid,  
  <span class="dt">GP =</span> matrices_gp[[h_i]][i,], 
  <span class="dt">True =</span> matrices_true[[h_i]][i,], 
  <span class="dt">MLE =</span> matrices_estimated[[h_i]][i,], 
  <span class="dt">Parametric.Bayes =</span> matrices_par_bayes[[h_i]][i,], 
  <span class="dt">Ricker =</span> matrices_alt[[h_i]][i,],
  <span class="dt">Myers =</span> matrices_myers[[h_i]][i,])

df2 &lt;- <span class="kw">data.frame</span>(
  <span class="dt">x =</span> x_grid,
  <span class="dt">GP =</span> (matrices_gp[[h_i]] %^% Tobs)[i,], 
  <span class="dt">True =</span> (matrices_true[[h_i]] %^% Tobs)[i,], 
  <span class="dt">MLE =</span> (matrices_estimated[[h_i]] %^% Tobs)[i,],
  <span class="dt">Parametric.Bayes =</span> (matrices_par_bayes[[h_i]] %^% Tobs)[i,], 
  <span class="dt">Ricker =</span> (matrices_alt[[h_i]] %^% Tobs)[i,], 
  <span class="dt">Myers =</span> (matrices_myers[[h_i]] %^% Tobs)[i,])

T2 &lt;- <span class="dv">2</span> * Tobs

df4 &lt;- <span class="kw">data.frame</span>(
  <span class="dt">x =</span> x_grid,
  <span class="dt">GP =</span> (matrices_gp[[h_i]] %^% T2)[i,], 
  <span class="dt">True =</span> (matrices_true[[h_i]] %^% T2)[i,], 
  <span class="dt">MLE =</span> (matrices_estimated[[h_i]] %^% T2)[i,],
  <span class="dt">Parametric.Bayes =</span> (matrices_par_bayes[[h_i]] %^% T2)[i,], 
  <span class="dt">Ricker =</span> (matrices_alt[[h_i]] %^% T2)[i,], 
  <span class="dt">Myers =</span> (matrices_myers[[h_i]] %^% T2)[i,])

forecasts &lt;- <span class="kw">melt</span>(<span class="kw">list</span>(<span class="dt">T_start =</span> df, <span class="dt">T_mid =</span> df2, <span class="dt">T_end =</span> df4), <span class="dt">id=</span><span class="st">&quot;x&quot;</span>)

}

i = <span class="dv">15</span></code></pre>
<p>This takes <code>i</code>, an index to <code>x_grid</code> value (e.g. for <code>i</code>=15 corresponds to a starting postion <code>x</code> = 3.4286)</p>
<pre class="sourceCode r"><code class="sourceCode r">forecasts &lt;- <span class="kw">get_forecasts</span>(<span class="dt">i =</span> <span class="dv">15</span>, <span class="dt">Tobs =</span> <span class="dv">5</span>, <span class="dt">h_i =</span> <span class="dv">1</span>)

<span class="kw">ggplot</span>(forecasts) +
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(x, value, <span class="dt">group=</span><span class="kw">interaction</span>(variable, L1), <span class="dt">col=</span>variable, <span class="dt">lty=</span>L1)) +
  <span class="kw">facet_wrap</span>(~ variable, <span class="dt">scale=</span><span class="st">&quot;free_y&quot;</span>, <span class="dt">ncol=</span><span class="dv">2</span>) + 
  <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7287/8742202218_4efb297402_o.png" alt="plot of chunk unnamed-chunk-10" /><figcaption>plot of chunk unnamed-chunk-10</figcaption>
</figure>
<p>We can compare to a better starting stock,</p>
<pre class="sourceCode r"><code class="sourceCode r">i&lt;-<span class="dv">30</span></code></pre>
<p>where <code>i</code>=30 corresponds to a starting postion <code>x</code> = 7.102</p>
<pre class="sourceCode r"><code class="sourceCode r">forecasts &lt;- <span class="kw">get_forecasts</span>(<span class="dt">i =</span> i, <span class="dt">Tobs =</span> <span class="dv">5</span>, <span class="dt">h_i =</span> <span class="dv">1</span>)

<span class="kw">ggplot</span>(forecasts) +
  <span class="kw">geom_line</span>(<span class="kw">aes</span>(x, value, <span class="dt">group=</span><span class="kw">interaction</span>(variable, L1), <span class="dt">col=</span>variable, <span class="dt">lty=</span>L1)) +
  <span class="kw">facet_wrap</span>(~ variable, <span class="dt">scale=</span><span class="st">&quot;free_y&quot;</span>, <span class="dt">ncol=</span><span class="dv">2</span>) + 
  <span class="kw">scale_colour_manual</span>(<span class="dt">values=</span>colorkey) </code></pre>
<figure>
<img src="http://farm8.staticflickr.com/7285/8742202444_63e6a633d0_o.png" alt="plot of chunk unnamed-chunk-12" /><figcaption>plot of chunk unnamed-chunk-12</figcaption>
</figure>
<h2 id="misc-reading">Misc reading</h2>
<p>Apparently I am catching up on my C. Titus Brown reading… Achiving comments for my records &amp; to keep them in my local search index.</p>
<p><a href="http://ivory.idyll.org/blog/blog-practicing-open-science.html">Titus Brown on if he really practices Open Science?</a></p>
<p>Methinks:</p>
<blockquote>
<p>I think you undersell your Github practices regarding Open Science. While I agree entirely that anyone reading through your source-code to scoop you is incredibly unlikely; I imagine many researchers would still fear the practice of using a public, Google-indexed repository, particularly if they also practice reasonable literate programming documentation, provide test cases, and use issue tracking that could allow some close rival to scoop them.</p>
</blockquote>
<blockquote>
<p>It sounds like you are talking more about not marketing your work before it is “finished”, rather not being open. (When you say “to really open up about what we’re doing” I assume you mean advertising the results, rather than something like simply putting your notebook or publication drafts on github). Though “Open Science” is used in in both contexts, marketing your pre-publication science takes additional time that exposing your workflow on Github does not. The latter practice provides transparency, provenance machine-discoverability, (and cool graphs of research contributions like https://github.com/ctb/khmer/c… etc. Perhaps you are too hard on yourself here.</p>
</blockquote>
<blockquote>
<p>Meanwhile, I think suggesting that being open prematurely would “waste other people’s time, energy, and attention” is misleading and damaging here. Sure, I understand you mean that marketing unfinished results (blog, tweet, present at conferences) would do these things, but when the same reason is frequently given for not sharing data, code, etc this becomes very damaging. Some people may find it useful to blog/tweet/present unfinished work (with appropriate disclaimer) to get feedback, build audience, or for all the same reasons one would do so with published work, but to me that is really just a question of timing &amp; marketing, not a question of “openness”.</p>
</blockquote>
<p><a href="http://ivory.idyll.org/blog/research-software-reuse.html">On Research Software Reuse</a></p>
<p><a href="http://ivory.idyll.org/blog/the-cost-of-open-science.html">On the Costs of Open Science</a>, which I refute:</p>
<blockquote>
<p>Great post and important question. I certainly agree that it is all about incentives, but I think an important missing part of that discussion is in the timescales. Certainly there is a cost to not writing up the low-lying fruit following up on your work, but surely such exercises would take non-trivial time away from doing whatever (presumably more interesting) stuff you did instead. Perhaps the it is the benefits, not the costs, that are hidden:</p>
</blockquote>
<blockquote>
<p>It sounds like you may have forgone a short-term cost in not publishing these easy follow-ups while gaining a benefit both of time to work on other interesting things and of getting other researchers invested in your work, who might not have taken it up at all if there was no low-hanging fruit to entice them in. Once invested in it, no doubt they can continue to be a multiplier of impact. Meanwhile you break new ground rather than appearing to continue to wring every ounce from one good idea, right? (If I read this correctly, both you and George Gey appear to regard these other publications as not particularly exciting work; the regret comes only because they are intrinsically valued publications)</p>
</blockquote>
<blockquote>
<p>It sounds like the difficulty with these benefits is that they pay off only on a longer timescale than the gristmill publication strategy. On the longest timescales, e.g. career lifetime, it seems clear that at least in a statistical sense, researchers who keep breaking new ground while allowing others to pick the low-hanging follow-up work will be much more likely to end up as the most distinguished researchers, etc. When the relevant timescale is a tenure clock rather than a career, the perhaps the calculus is different?</p>
</blockquote>
<blockquote>
<p>Without open science, moving on to other exciting stuff is far less effective, since it leaves both unfinished work and less impact. Perhaps this a somewhat idealized view, and perhaps the timescales for tenure etc work against this strategy. You and others could no doubt better speak to whether the candidate who says “look at all the papers I wrote about X” or the one who says “look at all the papers others have built upon my method X while I break ground in hard problem Y” has the stronger case.</p>
</blockquote>
<ul>
<li><p><a href="https://gist.github.com/hadley/5576263">Partial implementation of R to Latex equation converter</a> from @hadleywickam.</p></li>
<li><p>Ah ha! <a href="http://stackoverflow.com/questions/14041601/documenting-equations-with-deqn-and-roxygen">Documenting equations in ROxygen</a>. Guess one day I (or devtools) will move to Roxygen3.</p></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/14/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/13/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 13 May 2013</p>

<p style="font-style:italic"> pageviews: 1 </p>

<article>
<div class="excerpt">
<h3 id="prosecutors-fallacy-comment">Prosecutor’s Fallacy comment</h3>
<ul>
<li>Fallacy comment revisions</li>
<li>Comment reply letter (draft)</li>
<li>ROC curves instead? (<a href="https://github.com/cboettig/earlywarning/blob/abcc1cd727f2a45ee7cbb2220135a6ebfc3e4277/inst/doc/roc_curves.md">examples</a>)</li>
<li>Add example of system with an alternative stable state?</li>
</ul>
<h3 id="policy-costs-pdg-control">Policy costs (pdg-control)</h3>
<ul>
<li>touched up <a href="https://github.com/cboettig/pdg_control/blob/master/inst/doc/policycosts/policycosts_PRA.tex">tex document</a> following Paul’s edits (mostly reflects comments and decisions from Meeting 3). Reminder of why collaborating on TeX documents can be annoying even when co-authors are tex-literate. Attempted quick conversion to markdown but mapping is troublesome.</li>
</ul>
<h2 id="misc">Misc</h2>
<ul>
<li>Some <a href="https://github.com/coolwanglu/pdf2htmlEX">software</a> providing rather impressive/high fidelity pdf to html conversion… Not just rendering as images – the text is searchable, though in the html source it just looks like a bunch of binary data URIs.<br /></li>
<li>Scathingly honest review of the classical ecological statistics text by Sokal and Rohlf (<a href="http://t.co/5IioNf1p1y">pdf</a>)</li>
<li><a href="http://www.steinsaltz.me.uk/pnas.html">PNAS hates mathematics</a> Not really, but a depressing example of poor reviewing.</li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/13/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/09/notes.html">Prep for ERE talk</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 09 May 2013</p>

<p style="font-style:italic"> pageviews: 11 </p>

<article>
<div class="excerpt">
<h2 id="talk-prep">Talk prep</h2>
<ul>
<li>Finished preparing slides for Environmental Resources Economics talk</li>
</ul>
<p>Toying around with animations for final plots. Building up plot by subsetting progressively more of the data each time is a bit of a nuciance (both in coding and efficiency). Can convert replicates to characters and assign as a data.table <code>key</code> for fast join subsetting, but straight-forward subsetting seems best (e.g. once we want reps 1:5 from both “True” and “Ricker” models, <code>dt[J(c(&quot;True&quot;, &quot;Ricker&quot;), as.character(1:5)]</code> doesn’t quite do this. (Can you guess what it gives? Actually alternates “True”+rep1, “Ricker”+rep2, “True”+rep3, …)</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(animation)
<span class="kw">ani.options</span>(<span class="dt">loop=</span><span class="ot">TRUE</span>)
<span class="kw">saveMovie</span>({    
    for (i in <span class="kw">seq</span>(<span class="dv">1</span>, OptTime, <span class="dt">by=</span><span class="dv">2</span>)) {
      <span class="kw">print</span>(
        <span class="kw">ggplot</span>(<span class="kw">subset</span>(dt, method %in% <span class="kw">c</span>(<span class="st">&quot;True&quot;</span>, <span class="st">&quot;Ricker&quot;</span>) &amp; reps &lt; <span class="dv">5</span> &amp; time &lt;= i), 
               <span class="kw">aes</span>(time, fishstock, <span class="dt">group=</span><span class="kw">interaction</span>(reps,method), <span class="dt">color =</span> method), <span class="dt">alpha=</span>.<span class="dv">9</span>) + 
          <span class="kw">geom_line</span>() + <span class="kw">xlim</span>(<span class="dv">0</span>, OptTime)
        )
    }
}, <span class="dt">interval =</span> <span class="fl">0.1</span>, <span class="dt">movie.name =</span> <span class="st">&quot;wrong-model.gif&quot;</span>, <span class="dt">ani.width =</span> <span class="dv">600</span>, <span class="dt">ani.height =</span> <span class="dv">600</span>)</code></pre>
<p>Added plots of one-step-ahead predictors, e.g.</p>
<figure>
<img src="http://farm8.staticflickr.com/7317/8736417226_03129480a9_c.jpg" alt="One-step ahead predictions on orginal (training) data by each model" /><figcaption>One-step ahead predictions on orginal (training) data by each model</figcaption>
</figure>
<ul>
<li><p>All plots for slides also archived in <a href="http://www.flickr.com/photos/cboettig/tags/ere2013">flickr/ere2013</a></p></li>
<li><p>Which were quickly converted from vector pdfs into decent resolution pngs with a few commands:</p></li>
</ul>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">for</span> f <span class="kw">in</span> *.pdf ; <span class="kw">do</span> convert -density 300 <span class="st">&quot;</span><span class="ot">$f</span><span class="st">&quot;</span> <span class="st">&quot;</span><span class="ot">${f/</span>.pdf<span class="ot">}</span><span class="st">&quot;</span>.png ; <span class="kw">done</span>
flickr_upload --tag=<span class="st">&quot;nonparametric-bayes ere2013 talk&quot;</span> *.png</code></pre>
<h2 id="reading">Reading</h2>
<ul>
<li>(<span class="showtooltip" title="Sirota J, Baiser B, Gotelli N and Ellison A (2013). 'Organic-Matter Loading Determines Regime Shifts And Alternative States in an Aquatic Ecosystem.' Proceedings of The National Academy of Sciences, 110, pp. 7742-7747. ISSN 0027-8424."><a href="http://dx.doi.org/10.1073/pnas.1221037110" rel="http://purl.org/spar/cito/discusses" >Sirota et al. 2013</a></span> ) provide a cute example of a system that can be manipulated through a tipping point of eutrophication in the tiny pools forming inside pitcher plants by adding ground-up dead insects. A nice natural system that provides a more realistic setting than lab manipulations of single species micro-organisms while also being more accessible to replication that the whole-lake experiments in Wisconsin. I do note they critique retrospective analyses on the basis of length, but don’t mention the prosecutor’s fallacy. Five stars for archiving the raw data very nicely (see below) along with the mathematica notebook file used for the analysis. Also notable that the first author is an undergrad at North Dakota State.<br /></li>
<li>Wow, Harvard Forest provides a data repository with EML files for each data entry (<a href="http://t.co/G2sgd2n5L9">example</a>). EML file serves more as a metadata description, raw data provided as an 8.8 MB .csv file in tidy (long) format. Very nice.<br /></li>
<li><p><a href="http://t.co/4mtDCuNoIG">The default state of new and modernized Government information resources shall be open and machine readable</a> I can’t really express just how incredible that is. May it impact government funded science appropriately.</p></li>
<li><p>J. Sirota, B. Baiser, N. J. Gotelli, A. M. Ellison, (2013) Organic-Matter Loading Determines Regime Shifts And Alternative States in an Aquatic Ecosystem. <em>Proceedings of The National Academy of Sciences</em> <strong>110</strong> 7742-7747 <a href="http://dx.doi.org/10.1073/pnas.1221037110">10.1073/pnas.1221037110</a></p></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/09/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

    <div class="row">
      
        <div class="span3">
          <header><h4><a href="/2013/05/07/notes.html">Notes</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 07 May 2013</p>

<p style="font-style:italic"> pageviews: 8 </p>

<article>
<div class="excerpt">
<h2 id="monday">Monday</h2>
<ul>
<li>MacKenzie meeting</li>
<li>paperwork to Marc</li>
<li>paperwork to Karthik</li>
<li>Writing</li>
</ul>
<h2 id="tuesday">Tuesday</h2>
<h3 id="log">Log</h3>
<ul>
<li>Weak thresholds example – no cost but no profit if stocks are reduced below a certain threshold <a href="https://github.com/cboettig/nonparametric-bayes/commit/6bdc9535f0def3c5f2ed168bfac9c86517d48466">09:31 pm 2013/05/07</a></li>
<li>example using short (20 pts) observation period <a href="https://github.com/cboettig/nonparametric-bayes/commit/ac225715a20a0628d84d33d240bced834228424c">02:00 pm 2013/05/07</a></li>
<li>subset plotting of simulations (for slides potentially) <a href="https://github.com/cboettig/nonparametric-bayes/commit/04ddf0d5022ed66d214d58232224dc618f7fa898">02:00 pm 2013/05/07</a></li>
<li>script for the parallel analysis based on policy thresholds <a href="https://github.com/cboettig/nonparametric-bayes/commit/ca0219bd833cae278aa855fc42c1c07b6aaf850f">01:59 pm 2013/05/07</a></li>
<li>short vs long observation time runs <a href="https://github.com/cboettig/nonparametric-bayes/commit/d420c0578e8c77906b4d4e7f94fa4c4dcdfefeee">12:54 pm 2013/05/07</a></li>
<li>online example of replicates comparing all models <a href="https://github.com/cboettig/nonparametric-bayes/commit/0f682028113e42355f811793c915252d40ac45bb">12:28 pm 2013/05/07</a></li>
</ul>
<h2 id="misc">Misc</h2>
<ul>
<li><p><a href="https://github.com/cboettig/sandbox/blob/c319b983535be2e79ea8987d68ad6d21f7bc5381/tex-pandoc-tricks/ucscletter.cls">latex templates for UCSC AMS dept</a> Gosh sometimes it’s nice to be officially in a department that understands tex.</p></li>
<li><p><a href="http://news.harvard.edu/gazette/story/2013/04/understanding-student-weaknesses/">Best teacher’s know student’s misconceptions</a> Hmm, our misconceptions are probably a bigger barrier than lack of knowledge for most scientists too…</p></li>
<li><p>Ohh, <a href="http://jekyllrb.com/docs/upgrading/">Jekyll 1.0 released</a>, <a href="https://github.com/mojombo/jekyll/blob/v1.0.0/History.txt">changelog</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=pFJtwSXC6qA">#openoxford’s debate</a> Elseiver rep says that if they disclose prices, prices would be driven so low that they’d go out of buisness. Yikes, what would the economists say!</p></li>
<li><p>Finally, you can <a href="https://github.com/blog/1492-repository-search-on-all-repositories">search within a git repositories</a> (without cloning first and using grep obviously. Before one was had global search options only, albeit filtered by language, etc).</p></li>
<li><p><span class="showtooltip" title="Callaway E (2013). 'Biomedical Journal And Publisher Hope to Bring Preprints to Life.' Nature Medicine, 19, pp. 512-512. ISSN 1078-8956."><a href="http://dx.doi.org/10.1038/nm0513-512" rel="http://purl.org/spar/cito/critiques" >Callaway (2013)</a></span> Ironic that they quote @mfenner saying that peerJ preprints are too like Nature Preceedings while also pointing out the role of archiving things like slides and posters (as these were categories of objects in Preceedings, but not in arXiv or PeerJ). Of course I agree with Martin about diverse outputs, but there appears to be something about the concept of preprint server that carries more meaning for people. Clearly figshare is a viable preprint server that is both the most discipline agonstic (arXiv isn’t interesting in expanding its scope, and peerJ’s stated scope does not cover earth science / climate science / physical oceanography side of things) and content-type agnostic (paper, poster, data, code, or anything else), and has a rich API that is absent or minimal in the other platforms.</p></li>
</ul>
<h3 id="esa-schedule">ESA schedule</h3>
<ul>
<li>Sun Aug 4 noon-5pm <a href="http://eco.confex.com/eco/2013/webprogrampreliminary/Session9030.html">Conducting Open Science Using R and DataOne</a></li>
<li>Tues Aug 6 8-10 pm <a href="http://eco.confex.com/eco/2013/webprogrampreliminary/Session8911.html">Open Science and Ecology</a></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Ewen Callaway, (2013) Biomedical Journal And Publisher Hope to Bring Preprints to Life. <em>Nature Medicine</em> <strong>19</strong> 512-512 <a href="http://dx.doi.org/10.1038/nm0513-512">10.1038/nm0513-512</a></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/07/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/03/notes.html">Reading and potential examples for talk to ERE next week</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 03 May 2013</p>

<p style="font-style:italic"> pageviews: 7 </p>

<article>
<div class="excerpt">
<h2 id="parametric-bayesian-comparisons">Parametric Bayesian comparisons</h2>
<ul>
<li>Added parameteric Bayesian version of Ricker to the set of comparisons, see <a href="https://github.com/cboettig/nonparametric-bayes/blob/ee4467c8defe81a27aadfbc4359cd0695339de6b/inst/examples/BUGS/allen.md">allen.Rmd</a></li>
<li>Adjusted thinning of posterior sample before determining optimum of GP</li>
</ul>
<h2 id="reading-examples">Reading / Examples</h2>
<p>Need a nice set of basic fisheries examples involving potential tipping points for ERE talk. hmm.</p>
<ul>
<li>As mentioned in <span class="showtooltip" title="Worm B, Hilborn R, Baum J, Branch T, Collie J, Costello C, Fogarty M, Fulton E, Hutchings J, Jennings S, Jensen O, Lotze H, Mace P, McClanahan T, Minto C, Palumbi S, Parma A, Ricard D, Rosenberg A, Watson R and Zeller D (2009). 'Rebuilding Global Fisheries.' Science, 325, pp. 578-585. ISSN 0036-8075."><a href="http://dx.doi.org/10.1126/science.1173146" rel="http://purl.org/spar/cito/citesAsEvidence" >Worm et al. (2009)</a></span> .</li>
<li>Algal-reef example from <span class="showtooltip" title="Aronson R and Precht W (2000). 'Herbivory And Algal Dynamics on The Coral Reef at Discovery Bay, Jamaica.' Limnology And Oceanography, 45, pp. 251-255. ."><a href="http://dx.doi.org/10.4319/lo.2000.45.1.0251" rel="http://purl.org/spar/cito/citesAsEvidence" >Aronson &amp; Precht (2000)</a></span></li>
<li>Fish collapse following reef distruction <span class="showtooltip" title="Paddack M, Reynolds J, Aguilar C, Appeldoorn R, Beets J, Burkett E, Chittaro P, Clarke K, Esteves R, Fonseca A, Forrester G, Friedlander A, García-Sais J, González-Sansón G, Jordan L, McClellan D, Miller M, Molloy P, Mumby P, Nagelkerken I, Nemeth M, Navas-Camacho R, Pitt J, Polunin N, Reyes-Nivia M, Robertson D, Rodríguez-Ramírez A, Salas E, Smith S, Spieler R, Steele M, Williams I, Wormald C, Watkinson A and Côté I (2009). 'Recent Region-Wide Declines in Caribbean Reef Fish Abundance.' Current Biology, 19, pp. 590-595. ISSN 09609822."><a href="http://dx.doi.org/10.1016/j.cub.2009.02.041" rel="http://purl.org/spar/cito/citesAsEvidence" >Paddack et al. (2009)</a></span></li>
<li>Alt stable states in marine systems <span class="showtooltip" title="Petraitis P and Dudgeon S (2004). 'Detection of Alternative Stable States in Marine Communities.' Journal of Experimental Marine Biology And Ecology, 300, pp. 343-371. ISSN 00220981."><a href="http://dx.doi.org/10.1016/j.jembe.2003.12.026" rel="http://purl.org/spar/cito/citesAsEvidence" >Petraitis &amp; Dudgeon (2004)</a></span> , <span class="showtooltip" title="Osman R, Munguia P and Zajac R (2010). 'Ecological Thresholds in Marine Communities: Theory, Experiments And Management.' Marine Ecology Progress Series, 413, pp. 185-187. ISSN 0171-8630."><a href="http://dx.doi.org/10.3354/meps08765" rel="http://purl.org/spar/cito/citesAsEvidence" >Osman et al. (2010)</a></span></li>
<li><p>Cod examples? Forage fish? Peruvian Anchovy. Overfishing vs climate variability.</p></li>
<li><p>And more examples from marine systems in <span class="showtooltip" title="Oguz T and Velikova V (2010). 'Abrupt Transition of The Northwestern Black Sea Shelf Ecosystem From A Eutrophic to an Alternative Pristine State.' Marine Ecology Progress Series, 405, pp. 231-242. ISSN 0171-8630."><a href="http://dx.doi.org/10.3354/meps08538" rel="http://purl.org/spar/cito/discusses" >Oguz &amp; Velikova (2010)</a></span> , <span class="showtooltip" title="Lindegren M, Diekmann R and Möllmann C (2010). 'Regime Shifts, Resilience And Recovery of A Cod Stock.' Marine Ecology Progress Series, 402, pp. 239-253. ISSN 0171-8630."><a href="http://dx.doi.org/10.3354/meps08454" rel="http://purl.org/spar/cito/discusses" >Lindegren et al. (2010)</a></span> , <span class="showtooltip" title="deYoung B, Barange M, Beaugrand G, Harris R, Perry R, Scheffer M and Werner F (2008). 'Regime Shifts in Marine Ecosystems: Detection, Prediction And Management.' Trends in Ecology &amp; Evolution, 23, pp. 402-409. ISSN 01695347."><a href="http://dx.doi.org/10.1016/j.tree.2008.03.008" rel="http://purl.org/spar/cito/discusses" >deYoung et al. (2008)</a></span></p></li>
<li><p>Beyond tipping points: avoiding policy-based thresholds. <span class="showtooltip" title="Pikitch E (2012). 'The Risks of Overfishing.' Science, 338, pp. 474-475. ISSN 0036-8075."><a href="http://dx.doi.org/10.1126/science.1229965" rel="http://purl.org/spar/cito/citesAsEvidence" >Pikitch (2012)</a></span></p></li>
<li>http://www.ecotippingpoints.org/our-stories/indepth/usa-hawaii-hanauma-environmental-management.html ?</li>
<li><p>http://www.ecotippingpoints.org/our-stories/indepth/philippines-apo-marine-sanctuary-coral-reef-fishery.html</p></li>
</ul>
<h2 id="references">References</h2>
<ul>
<li>Richard B. Aronson, William F. Precht, (2000) Herbivory And Algal Dynamics on The Coral Reef at Discovery Bay, Jamaica. <em>Limnology And Oceanography</em> <strong>45</strong> 251-255 <a href="http://dx.doi.org/10.4319/lo.2000.45.1.0251">10.4319/lo.2000.45.1.0251</a></li>
<li>M Lindegren, R Diekmann, C Möllmann, (2010) Regime Shifts, Resilience And Recovery of A Cod Stock. <em>Marine Ecology Progress Series</em> <strong>402</strong> 239-253 <a href="http://dx.doi.org/10.3354/meps08454">10.3354/meps08454</a></li>
<li>T Oguz, V Velikova, (2010) Abrupt Transition of The Northwestern Black Sea Shelf Ecosystem From A Eutrophic to an Alternative Pristine State. <em>Marine Ecology Progress Series</em> <strong>405</strong> 231-242 <a href="http://dx.doi.org/10.3354/meps08538">10.3354/meps08538</a></li>
<li>RW Osman, P Munguia, RN Zajac, (2010) Ecological Thresholds in Marine Communities: Theory, Experiments And Management. <em>Marine Ecology Progress Series</em> <strong>413</strong> 185-187 <a href="http://dx.doi.org/10.3354/meps08765">10.3354/meps08765</a></li>
<li>Michelle J. Paddack, John D. Reynolds, Consuelo Aguilar, Richard S. Appeldoorn, Jim Beets, Edward W. Burkett, Paul M. Chittaro, Kristen Clarke, Rene Esteves, Ana C. Fonseca, Graham E. Forrester, Alan M. Friedlander, Jorge García-Sais, Gaspar González-Sansón, Lance K.B. Jordan, David B. McClellan, Margaret W. Miller, Philip P. Molloy, Peter J. Mumby, Ivan Nagelkerken, Michael Nemeth, Raúl Navas-Camacho, Joanna Pitt, Nicholas V.C. Polunin, Maria Catalina Reyes-Nivia, D. Ross Robertson, Alberto Rodríguez-Ramírez, Eva Salas, Struan R. Smith, Richard E. Spieler, Mark A. Steele, Ivor D. Williams, Clare L. Wormald, Andrew R. Watkinson, Isabelle M. Côté, (2009) Recent Region-Wide Declines in Caribbean Reef Fish Abundance. <em>Current Biology</em> <strong>19</strong> 590-595 <a href="http://dx.doi.org/10.1016/j.cub.2009.02.041">10.1016/j.cub.2009.02.041</a></li>
<li>Peter S. Petraitis, Steve R. Dudgeon, (2004) Detection of Alternative Stable States in Marine Communities. <em>Journal of Experimental Marine Biology And Ecology</em> <strong>300</strong> 343-371 <a href="http://dx.doi.org/10.1016/j.jembe.2003.12.026">10.1016/j.jembe.2003.12.026</a></li>
<li>E. K. Pikitch, (2012) The Risks of Overfishing. <em>Science</em> <strong>338</strong> 474-475 <a href="http://dx.doi.org/10.1126/science.1229965">10.1126/science.1229965</a></li>
<li>B. Worm, R. Hilborn, J. K. Baum, T. A. Branch, J. S. Collie, C. Costello, M. J. Fogarty, E. A. Fulton, J. A. Hutchings, S. Jennings, O. P. Jensen, H. K. Lotze, P. M. Mace, T. R. McClanahan, C. Minto, S. R. Palumbi, A. M. Parma, D. Ricard, A. A. Rosenberg, R. Watson, D. Zeller, (2009) Rebuilding Global Fisheries. <em>Science</em> <strong>325</strong> 578-585 <a href="http://dx.doi.org/10.1126/science.1173146">10.1126/science.1173146</a></li>
<li>Brad deYoung, Manuel Barange, Gregory Beaugrand, Roger Harris, R. Ian Perry, Marten Scheffer, Francisco Werner, (2008) Regime Shifts in Marine Ecosystems: Detection, Prediction And Management. <em>Trends in Ecology &amp; Evolution</em> <strong>23</strong> 402-409 <a href="http://dx.doi.org/10.1016/j.tree.2008.03.008">10.1016/j.tree.2008.03.008</a></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/03/notes.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/03/notebook-features-hashes-providing-an-immutable-and-verifiable-research-record.html">Notebook features: SHA Hashes</a></h4></header>
<p><span>Providing an immutable and verifiable research record</span></p>
<p style="font-style:italic"> 03 May 2013</p>

<p style="font-style:italic"> pageviews: 177 </p>

<article>
<div class="excerpt">
<p>Note: this entry is part of a <a href="http://carlboettiger.info/2013/04/26/notebook-features-introduction.html">series of posts</a> which explain some of the techinical features of my lab notebook.</p>
<p>I version manage all changes to my entry using git. Each page is linked to its source history on Github, which will display a list of all previous edits to the post with an easy-to-read commit log and highlighted diffs. A version history is often considered an essential part of an open lab notebook, where changes to the notebook are documented and preserved. While wikis, google docs, dropbox, wordpress plugins, or just regular backups can provide version history of pages, none come close to comparison with a full version management system such as git. This is because git’s underlying architecture is based on<br /><a href="http://www-cs-students.stanford.edu/~blynn/gitmagic/ch08.html">The magic of cryptographic SHA hashes</a>.</p>
<p>Hashes provide an immutable and verifiable record of any all changes I make. Because the hash is generated by the cryptographic SHA1 algorithm from the contents of the site, it is impossible to make changes without causing the hash to update. By referencing the content’s hash value we can be sure to link to a constant version of the entry. These can be verified by re-generating the hash (requiring the previous state of the repository in this case, see note below). Unlike publication timestamps, versions, or DOIs, this provides a way not only to reference particular versions of a file, but a cryptographically secure way to <em>verify</em> that the version is what it claims to be. <a href="http://www.tkuhn.ch/">Tobias Kuhn</a> has <a href="http://www.force11.org/node/4301">observed</a> that this is a valuable feature we should want to see for all scientific publishing. Each of my posts now displays its SHA hash on the sidebar along with other metadata. While the <code>history</code> button already provides a convient way to browse all previous versions of a post, I chose to display the SHA hash directly so that the hash value would be part of the document metadata, while also highlighting this feature.</p>
<p>In addition to the GitHub repository for my lab notebook, My research code, analyses, and manuscripts are collected into Github repositories by project. This allows my analysis and paper writing to benefit from this same immutable and verifiable record. Because GitHub uses the SHA hashes in its link structure, this also provides a convenient way to link to a particular version of code in a given entry. This way, I can be sure the contents of the file displayed at that link never change, even as I continue to update that file. Even if the file or containing directory is later deleted or moved, the link will still resolve. Only if the entire project repo were deleted or if Github itself dissolved would the link be lost. Even then, using the SHA hash given in the link we could determine the contents of the file from some other copy of the repository (such as a local or figshare archive).</p>
<p>Tobias is actually working on his own SHA hash approach which is somewhat superior to the simpler method of using git. The Github hash corresponds to the state of the entire repository/notebook at the time of the commit, rather than the contents of an individual file. Consequently, one would need a snapshot of the entire repository, available on Github, to perform the verification. Tobias is looking into generating hashes based on the contents of the file directly – so far, only RDF data – that could proivde a unique and verifiable reference for any scholarly data or publication.</p>
<p>Version managing the notebook and code has many more practical day-to-day benefits, such as recovering from a mistaken deleted or corrupted file, merging changes made on different machines or by collaborators, or creating branches to test new features without disrupting current version, and comparing differences as a file evolves.</p>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/03/notebook-features-hashes-providing-an-immutable-and-verifiable-research-record.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

    <div class="row">
      
        <div class="span3">
          <header><h4><a href="/2013/05/02/scholarly-infrastructure-thoughts.html">Scholarly Infrastructure Thoughts</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 02 May 2013</p>

<p style="font-style:italic"> pageviews: 4 </p>

<article>
<div class="excerpt">
<h2 id="sustainable-research">Sustainable Research</h2>
<p>Happened across a provocative <a href="http://cran.r-project.org/web/packages/mcmc/ChangeLog">example</a> of why we need a software ecosystem, though it was certainly not intended to be one, which led me to ask myself:</p>
<blockquote>
<p>How complex does an algorithm have to be before a talented researcher with expertise in both the relevant mathematics and computer science will make a significant mistake in their first release of the software?</p>
</blockquote>
<p>As a corollary we might also ask, “How much less care do we put into research code not destined for release?”</p>
<p>This changelog clearly reflects these difficulties face well-established researchers with long publication records on these very methods. If such individuals can make mistakes in packages, are we supposed to trust the myriad personal implementations of this and more complex algorithms that bulwark our literature today?</p>
<p>Academic knowledge is currently built in the mortar and bricks of publication and citation. Publications advance new claims built up on existing claims (and very occasionally replacing them) through citations. It an approach that does not scale well on many fronts. To verify information we must trace the citation chain, which grows far to quickly to for human processing and is not usually amenable to computer processing. Yet here it is the statistical scaling that concerns me more – a paper advances that a claim is true with a certain probability, given that the methods are implemented without error. The more publications we string together, the higher the probability that we observe false positives, but also that we observe implementation errors. For much of research today, we need not construct the scientific argument in this manner.</p>
<p>Thanks to computational advances of the last several decades, public repositories of the data and the methods (such as can be implemented as software anyway), we can build on existing work by direct analysis of the data and methods, rather than treating the conclusions as given. Evidence would no longer come primarily in the highly circumstantial manner of citations to previous claims, but to direct analysis of data. Using a common pool of data and methods would align incentives better to maintain and improve upon this infrastructure (the way major companies contribute to the underlying ‘plumbing’ provided by shared open source infrastructure), while there is no incentive for the literature to work in such a way.</p>
<ul>
<li><a href="http://cameronneylon.net/blog/whats-the-right-model-for-shared-scholarly-communications-infrastructure">Cameron Neylon</a>, and link in my comment.</li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/02/scholarly-infrastructure-thoughts.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/02/musings-on-conservation-literature.html">Musings On Conservation Literature</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 02 May 2013</p>

<p style="font-style:italic"> pageviews: 3 </p>

<article>
<div class="excerpt">
<p>Just because I’m a theorist deeply entrenched in methodological concerns about uncertainty and decision making doesn’t mean I don’t think about practical conservation from time to time. Some musings from my <a href="http://dynamicecology.wordpress.com/2013/04/29/the-implementation-gap-in-conservation-biology-is-math-contributing-to-the-problem">comment here</a>, copied over for my own reference.</p>
<p>Though I would like to believe the gap stems from the problems you discuss, I think that differing objectives between research and application may play a much larger role. I suspect that scientific papers that are most useful and influential for conservation practitioners and policymakers are those which confirm what they already believe, or whatever the interests opposed to them least want to hear. Let’s call these “Cassandra” papers, since in this context they usually forecast disaster. For the practitioner it may matters little whether the math is simple or complex, clearly explained or impenetrable, or even right or not so right. Worm et al 2006 paper which the media quickly decided predicted the end of global fisheries within 50 years is perhaps a good example.</p>
<p>Okay, so beyond bolstering arguments already being made by those who propose, implement or legislate conservation against their opposition, there are certainly unknowns that they might turn to research to answer. Resource allocation might be an example of this; e.g. do we prioritize purchasing pristine areas that are not likely to be threatened or less pristine areas in more immediate danger (a la Pfaff). Let’s call these “rule of thumb” papers, where the conclusion is an easily applied guide-line. It seems doubtful that the practitioners would be inhibited by their access and understanding of the math in this case, since they want the research to provide an answer they can trust, and not worry so much about what math justifies it. They are more likely to use proxies of quality (journal, researcher, affiliation, popularity of the method), then working through the assumptions to see if they like them; no?</p>
<p>So there is a third case in which the conclusion is of the sort “apply my method and it will tell you what to do”, as opposed to “here’s what to do”. I think only this case falls at risk to the mathematics being a barrier, though when accompanied by user-friendly software tools perhaps that can be dismissed as well. These “methods” papers are probably the favorite option of many researchers, as they seem the most rigorous, accurate way, reflecting the details of the problem at hand. Scientists are probably least fond of the first example, where even the paper’s authors may feel the conclusions are being overstated, while others feel such work is wrong and counterproductive. I’d guess many researchers are lukewarm towards the middle case, as better than a coin flip. I imagine from the conservation practitioner’s ranking is reversed. To what extent would you agree with this classification? If so, how is the conservation literature distributed across these categories, and how might we want it to be distributed? Do we indeed have the greatest impact writing Cassandra papers rather than writing nice clear methods, and if so, what are the implications?</p>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/02/musings-on-conservation-literature.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
        <div class="span3">
          <header><h4><a href="/2013/05/01/integrating-over-posterior-gp.html">Integrating Over Posterior Gp</a></h4></header>
<p><span></span></p>
<p style="font-style:italic"> 01 May 2013</p>

<p style="font-style:italic"> pageviews: 3 </p>

<article>
<div class="excerpt">
<ul>
<li><p>Added integration over the posterior distribution of the GP</p></li>
<li><p>Added example of parametric Bayesian inference based on Ricker</p></li>
</ul>
<h2 id="log">Log</h2>
<ul>
<li>varying parameters <a href="https://github.com/cboettig/nonparametric-bayes/commit/eecb2c12c33a522fb8dcbe588d7cf4fcbb0269eb">06:07 pm 2013/05/01</a></li>
<li>example based on gp means <a href="https://github.com/cboettig/nonparametric-bayes/commit/68004b28ab15e89c6f6e05cd2953a4844385dca2">03:44 pm 2013/05/01</a></li>
<li>run means example as separate script <a href="https://github.com/cboettig/nonparametric-bayes/commit/91a21b655f6fadeb8daf364c87bcd87d5069c2e7">02:55 pm 2013/05/01</a></li>
<li>compare against just using means <a href="https://github.com/cboettig/nonparametric-bayes/commit/ba4e491d6ecd0fd3fae533337e099d522d5a6b8d">02:52 pm 2013/05/01</a></li>
<li>Merge branch ‘master’ of github.com:cboettig/nonparametric-bayes <a href="https://github.com/cboettig/nonparametric-bayes/commit/9a58d0f9c73f85dee5b7010d895f024cd3f6dbb5">02:26 pm 2013/05/01</a></li>
<li>Merge branch ‘master’ of github.com:cboettig/nonparametric-bayes <a href="https://github.com/cboettig/nonparametric-bayes/commit/eb9ee9f76f6638d8300132a4830e39a052cb223f">02:23 pm 2013/05/01</a></li>
<li>add gp posteriors to package <a href="https://github.com/cboettig/nonparametric-bayes/commit/e32361cdc39e7902d9374b303d9474f0f26a860c">02:16 pm 2013/05/01</a></li>
<li>staging run for integrating over GP posterior (large memory reqs) <a href="https://github.com/cboettig/nonparametric-bayes/commit/50c0bc655f8d71f98f7b144f6d51d2e269d878fc">02:13 pm 2013/05/01</a></li>
<li>updated example of gp basics includes mcmc and shows influence of the prior <a href="https://github.com/cboettig/nonparametric-bayes/commit/e6c9b3048fd0cc50d0ec7eb00ac7cb9b00591618">01:15 pm 2013/05/01</a></li>
<li>example testing new routine <a href="https://github.com/cboettig/nonparametric-bayes/commit/331a441ca8bdf83ce660e9fc35c58bb9fb5e2a47">01:14 pm 2013/05/01</a></li>
<li>tidying repo <a href="https://github.com/cboettig/nonparametric-bayes/commit/2b33ab0323778dfc7a60c18fc62acb98486d9c72">01:07 pm 2013/05/01</a></li>
<li>merge analyses back into allen.Rmd <a href="https://github.com/cboettig/nonparametric-bayes/commit/27f4db239583bd861d58d9a2e63a9e3c2907a943">12:48 pm 2013/05/01</a></li>
<li>adapted to the custom version <a href="https://github.com/cboettig/nonparametric-bayes/commit/368456178edc571bb4d48b1c5952f40c1224f187">12:37 pm 2013/05/01</a></li>
<li>Test examples demonstrating the custom mcmc GP <a href="https://github.com/cboettig/nonparametric-bayes/commit/a1a2c37aae225005193029d19d6a9b435cbf3921">12:36 pm 2013/05/01</a></li>
<li>package updates with the custom gp method <a href="https://github.com/cboettig/nonparametric-bayes/commit/61508484713958d00dc8072fb9d224749f1a9915">12:35 pm 2013/05/01</a></li>
<li>Example using custom GP routine. In this case, both MLE methods fail, while the GP does fine and the parametric Bayesian method performs best. <a href="https://github.com/cboettig/nonparametric-bayes/commit/ff33c9b6f78ffa1e135204789e730e65e82951b5">12:34 pm 2013/05/01</a></li>
</ul>
 
<!-- not that raw_content depends on custom generator, 
     see _plugins/jekyll-labnotebook-plugins/raw_content --> 
</article> 
<p> <a href="/2013/05/01/integrating-over-posterior-gp.html"> <em>Read more</em></a> </p>
<br />
<br />


        </div>
      
    </div>

  </div>
</div> <!--end row -->

<div class="row">
  <div class="span11 offset1">
    <div class="socialicons">
      <p> <a href="/archive.html"><i class="icon-calendar"></i> All entries by date</a></p> 
      <p> <a href="/categories.html"><i class="icon-list"></i> All entries by category</a> </p>
      <p> <a href="/tags.html"><i class="icon-tags"></i> All entries by tag</a> </p>
    </div>
  </div> <!--end span9 -->
</div> <!--end row -->




<footer class="footer">
  <!-- ************* Buttons to toggle theme CSS ********************** -->
    <div class="row">
      <div class="span12">
        <form style="font-size:10px" class="pull-right">
          <a onclick="switch_style('dark'); 
                      recordOutboundLink(this, 'Outbound Links', 'dark theme'); 
                      return false;" 
             name="theme" value="dark" id="dark" 
             class="btn btn-mini"><span class="showtooltip" 
                                        title="switch to dark theme"><i class="icon-adjust"></i>
                                   </span></a>
          
          <a onclick="switch_style('light'); 
                      recordOutboundLink(this, 'Outbound Links', 'light theme'); 
                      return false;" 
             name="theme" value="light" id="light" 
             class="btn btn-mini"><span class="showtooltip" 
                                        title="switch to light theme"><i class="icon-certificate"></i>
                                  </span></a>
        </form>
      </div>
    </div>

<!--************** FOAF information to social networks ***************************** -->
  <div class="row">
    <div class="span3 socialicons" style="font-size:20px" typeof="foaf:Person" about="http://www.carlboettiger.info#me">
      <p>
          <a rel="foaf:account" alt="email" href="mailto:cboettig@gmail.com" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'email'); 
             return false;"><span class="showtooltip" title="email me"><i class="icon-envelope-alt"></i></span></a>
          <a rel="foaf:account" alt="twitter" href="https://twitter.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Twitter'); 
             return false;"><span class="showtooltip" title="follow me on twitter (reading, discussing)"><i class="icon-twitter"></i></span></a> 
          <a rel="foaf:account" alt="github" href="https://github.com/cboettig" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Github'); 
             return false;"><span class="showtooltip" title="follow me on Github (code, research)"><i class="icon-github"></i></span></a>
      <!--
          <a rel="foaf:account" href="https://plus.google.com/" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'GPlus'); 
             return false;"><i class="icon-google-plus"></i></a>
          <a rel="foaf:account" href="http://www.mendeley.com/profiles/carl-boettiger" 
             onclick="recordOutboundLink(this, 'Outbound Links', 'Mendeley'); 
             return false;"><img src="/assets/img/icon-mendeley.png" alt="mendeley" /></a> 
           citations on google-scholar
           stackoverflow
      -->
      <a alt="rss" type="application/atom+xml" href="/atom.xml"  
         class="showtooltip" title="subscribe to RSS feeds for my open lab notebook" 
         onclick="recordOutboundLink(this, 'Outbound Links', 'RSS'); 
         return false;"><i class="icon-rss"></i></a>
       </p>
    </div>
    <!--**************** End social links **************************** -->
    <div class="span1">
      <br />
    </div>
    <div class="span4">
      <p>
      <a onclick="recordOutboundLink(this, 'Outbound Links', 'ONS_claim'); return false;" href="http://onsclaims.wikispaces.com/"><img src="http://onsclaims.wikispaces.com/file/view/ons-aci2-icon.png" alt="ONS" class="showtooltip" title="An Open Notebook Science (ONS) project claim: Entry provides all content (AC) immediately (I) or without significant delay.  See link for details"/></a>

      <a title="This site uses linked data semantics. Click to extract as RDF XML." class="btn btn-mini showtooltip" style="font-size: .8em" 
       href="http://any23.org/?format=rdfxml&validate=validate&uri=http://www.carlboettiger.info/lab-notebook.html"><i 
         class="icon-cloud-download"  onclick="recordOutboundLink(this, 'Outbound Links', 'RDF'); return false;"></i> RDF</a>
      </p>
    </div>
    <div class="span1">
      <br />
    </div>
    <div class="span3">
      <p>
      <a rel="license" property="http://creativecommons.org/ns#license" href="http://creativecommons.org/publicdomain/zero/1.0/" onclick="recordOutboundLink(this, 'Outbound Links', 'CC0'); return false;"><img src="http://i.creativecommons.org/l/zero/1.0/88x31.png" alt="CC0"/></a> 
      </p>
    </div>

  </div>
  
<!-- COinS metadata (for citation managers like Zotero etc), goes in body text -->
  <span
      class="Z3988" 
      title="ctx_ver=Z39.88-2004
      &amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc
      &amp;rfr_id=info%3Asid%2Focoins.info%3Agenerator
      &amp;rft.title=Lab Notebook
      &amp;rft.creator=Carl Boettiger
      &amp;rft.date=
      &amp;rft.language=EN
      &amp;rft.rights=CC0
      &amp;rft_id=http://www.carlboettiger.info/lab-notebook.html">
  </span>



</footer>




    <!-- Le javascript
    ================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQuery, used on a few pages -->
    <script type="text/javascript" src="/assets/js/jquery.js"></script>
    <!-- Equations using MathJax -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: {autoNumber: "all"} } });       </script>
    <!-- Twitter Bootstrap Javascript -->
    <script src="/assets/js/bootstrap.min.js"></script>
    <!-- Tooltip javascript -->
    <script type="text/javascript">
      $(document).ready(function (){
        $(".showtooltip").tooltip();
      });
    </script>

    <!-- Marran's Search Javascript -->
    <script type="text/javascript" src="/assets/js/porter-stemmer.js"></script>
    <script type="text/javascript" src="/assets/js/site-search.js"></script>

    <!-- Code collapse Javascript -->
    <script type="text/javascript">
    $(document).ready(function(){
      $("#toggle_code").click(function(){
        $(".highlight").toggle();
        $(".sourceCode").toggle();
      });
    });
    </script>


  <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-18401403-1']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
  </script>



<script type="text/javascript">
function recordOutboundLink(link, category, action) {
  try {
    var pageTracker=_gat._getTracker("UA-18401403-1");
    pageTracker._trackEvent(category, action);
    setTimeout('document.location = "' + link.href + '"', 100)
  }catch(err){}
}
</script>




    


    </div>
  </body>
</html>

