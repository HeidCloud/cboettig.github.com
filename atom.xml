<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>Lab Notebook</title>
 <link href="/atom.xml" rel="self"/>
 <link href=""/>
 <updated>2013-03-25T14:38:44-07:00</updated>
 <id></id>
 <author>
   <name>Carl Boettiger</name>
   <email>cboettig@gmail.com</email>
 </author>

 
 <entry>
   <title>Research</title>
   <link href="/2013/03/22/research.html"/>
   <updated>2013-03-22T00:00:00-07:00</updated>
   <id>h/2013/03/22/research</id>
   <content type="html">&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;multiple-uncertainty&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fixed issues with translation to matlab and &lt;code&gt;applyfun&lt;/code&gt;. Element-wise calls can use meshgrid arguments directly, and one can force functions to use element-wise operations with &lt;code&gt;bxfun&lt;/code&gt;. So the following are equivalent: :&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;[X, Y] = meshgrid(x,y)
applyfun(@min, X, Y)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;function out = element_min(x,y) bxfun(@min, x, y)
element_min(X, Y)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Meanwhile my challenge with additional arguments to &lt;code&gt;applyfun&lt;/code&gt; can be circumvented with an inline function,&lt;/p&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;applyfun(@(x,y) ssum(x,y, additional_arg), X, Y)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;In other developments, may have missed a rownormalization on growth noise.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Time to run and compare R and matlab codes and send to Jim.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;prosecutors-fallacy&quot;&gt;prosecutors-fallacy&lt;/h2&gt;
&lt;p&gt;Check status of runs on farm. Appears that a type error blocked calculations of null distribution. Also, may need further threshold, a threshold of 220 for deviation occurs in 75% of (2000) runs (though depends on run length whether that is sufficiently rare). Threshold of 200 is reached in about 2%. re-running now.&lt;/p&gt;
&lt;p&gt;tweaked my original code a bit to run the case with a single stable state and condition on observing large deviations, and see if the observations prior to the deviation show the ‘spurious’ increase in autocorrelation and variance observed in the original paper.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/019d68ee4c6459d9c56f20c84af3a46c98bdbb03/inst/examples/beer.md&quot;&gt;Results/code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://raw.github.com/cboettig/earlywarning/05611419aeb254ed54a0bb0cd2974c5b328e86fe/inst/examples/beer_dat.csv&quot;&gt;Data for the conditional on deviation warning signal tau values (44 of the timeseries)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://raw.github.com/cboettig/earlywarning/05611419aeb254ed54a0bb0cd2974c5b328e86fe/inst/examples/beer_nulldat.csv&quot;&gt;tau values for unconditional set (2000 timeseries)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Looks like there is still a bias to me.&lt;/p&gt;
&lt;h3 id=&quot;ropensci&quot;&gt;ropensci&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;write coversheet&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://rd-alliance.org&quot;&gt;Research Data Alliance&lt;/a&gt; launch. Interesting &lt;a href=&quot;http://rd-alliance.org/working-groups/current-candidate-groups/&quot;&gt;working groups&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2013/03/20/research.html"/>
   <updated>2013-03-20T00:00:00-07:00</updated>
   <id>h/2013/03/20/research</id>
   <content type="html">&lt;h2 id=&quot;pomp&quot;&gt;pomp&lt;/h2&gt;
&lt;p&gt;Exploring pomp for examples tomorrow. See &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/tree/master/inst/examples/pomp-example.md&quot;&gt;pomp-example&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To access help on S4 methods&lt;/li&gt;
&lt;li&gt;print method source code: &lt;code&gt;getMethod(&amp;quot;simulate&amp;quot;, &amp;quot;pomp&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;access help file on available methods: &lt;code&gt;method?show(&amp;quot;pomp&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;pomp &lt;code&gt;simulate&lt;/code&gt; method returns object of class pomp with data in &lt;code&gt;object@data&lt;/code&gt;, unless user sets either/both of &lt;code&gt;obs=TRUE&lt;/code&gt; and &lt;code&gt;state=TRUE&lt;/code&gt; to return the observed and true state data (in list objects). Seems to be the only way to get the true state data out of the simulate routine (other than shortcutting the observation method &lt;code&gt;rmeasure&lt;/code&gt;). Poor form to change return type based on input options, but oh well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;prosecutors-fallacy&quot;&gt;prosecutor’s fallacy&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;troubleshooting comment runs setup. Some replicates realize their extrema within the first 200 points, causing negative indexing (if not handled) and mismatched length of data objects (if not handled). Improve exception handling and restart runs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;nonparametric-bayes&quot;&gt;nonparametric-bayes&lt;/h2&gt;
&lt;p&gt;Writing writing writing. see repo.&lt;/p&gt;
&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;multiple-uncertainty&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Troubleshooting the matlab translation&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Cannot seem to pass an array in place of a variable to matlab’s (okay, actually octave’s) &lt;code&gt;applyfun&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;function out = ssum(x,y, a)
  out = (x + y);
end
[X, Y] = meshgrid([&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;fl&quot;&gt;5&lt;/span&gt;], [&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;fl&quot;&gt;5&lt;/span&gt;])
b = arrayfun(@ssum, X, Y, &lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt;)  %Works fine&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But if the extra argument is a vector this fails.&lt;/p&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;b = arrayfun(@ssum, X, Y, [&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;fl&quot;&gt;6&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Need a convenient way to generate probability densities from continuous distributions in which parameter values and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; values are restricted to a grid. Matlab translation of this didn’t work.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I want to get the probability density of value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P\inline&quot;/&gt;&lt;/span&gt; from uniform distribution between &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu - \mu S\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu + \mu S\inline&quot;/&gt;&lt;/span&gt;.  If &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S\inline&quot;/&gt;&lt;/span&gt; is zero, I want to return unity if &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P\inline&quot;/&gt;&lt;/span&gt; is equal to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu\inline&quot;/&gt;&lt;/span&gt;.  The trick is that I want all values discretized to a grid, so P == mu really means if &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu\inline&quot;/&gt;&lt;/span&gt; fall in the same bin of the discrete grid.  &lt;/p&gt;
&lt;p&gt;I thought this function would do it:  &lt;/p&gt;
&lt;pre class=&quot;sourceCode matlab&quot;&gt;&lt;code class=&quot;sourceCode matlab&quot;&gt;    function out = snap_to_grid(x, grid)
      [v,i] = min(abs(grid-x));
      out = grid(i);  
    end
     
    &lt;span class=&quot;co&quot;&gt;%% generate various sources of noise, or delta fns if noise is zero&lt;/span&gt;
    function out = pdfn(P, mu, s)
      grid = [&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;fl&quot;&gt;5&lt;/span&gt;]; &lt;span class=&quot;co&quot;&gt;% dumb grid, ideally an argument to pdfn but doesn&amp;#39;t work&lt;/span&gt;
      if mu == &lt;span class=&quot;fl&quot;&gt;0&lt;/span&gt;
        out = (P == &lt;span class=&quot;fl&quot;&gt;0&lt;/span&gt;);
      elseif s &amp;gt; &lt;span class=&quot;fl&quot;&gt;0&lt;/span&gt;
        if mu &amp;gt; &lt;span class=&quot;fl&quot;&gt;0&lt;/span&gt;
          out = unifpdf(P, mu * (&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt; - s), mu * (&lt;span class=&quot;fl&quot;&gt;1&lt;/span&gt; + s));
        end
      else  % delta spike
        P = snap_to_grid(P, grid);
        mu = snap_to_grid(mu, grid);
        out = (P == mu);
      end
    end&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But clearly I’ve gone wrong somewhere.&lt;/p&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;ropensci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;final revisions, reread draft, close outstanding issues.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;troubleshooting SSOAP example. Added &lt;code&gt;checkCircular&lt;/code&gt; enables successful parsing, but now no luck generating functions:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(SSOAP)
wsdl =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;processWSDL&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.nbnws.net/ws_3_5/GatewayWebService?wsdl&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;checkCircular=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
iface =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;genSOAPClientInterface&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;def =&lt;/span&gt; wsdl)&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Collected notes from past few days</title>
   <link href="/2013/03/19/collected-notes.html"/>
   <updated>2013-03-19T00:00:00-07:00</updated>
   <id>h/2013/03/19/collected-notes</id>
   <content type="html">&lt;h2 id=&quot;friday&quot;&gt;Friday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;some ropensci coordination&lt;/li&gt;
&lt;li&gt;Adapt basic science abstract and broader impacts statement&lt;/li&gt;
&lt;li&gt;some writing on notebook features draft&lt;/li&gt;
&lt;li&gt;nonparametric writing!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;monday&quot;&gt;Monday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;nonparametric-bayes writing. Combining my generic position piece (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/tree/master/inst/doc/beyond-mechanistic-models.Rmd&quot;&gt;beyond-mechanistic-models.Rmd&lt;/a&gt;) with the technical nonparametric-bayes writeup (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/tree/master/inst/doc/nonparameteric-bayes.Rmd&quot;&gt;nonparametric-bayes.Rmd&lt;/a&gt;) to get a more general-audience paper.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;ropensci reviewing&lt;/li&gt;
&lt;li&gt;Note: annoying feature of knitr’s &lt;code&gt;purl&lt;/code&gt;: appears to generate valid “external” knitr code, but includes all options in comment headers instead of just the chunk names. This prevents “external” inclusion from identifying these chunks currectly. &lt;code&gt;tangle&lt;/code&gt; (option in &lt;code&gt;knit&lt;/code&gt;) appears not to generate any header at all. Maybe I’m missing something.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;prosecutors-fallacy-comments&quot;&gt;Prosecutor’s Fallacy Comments&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Further exchanges with John over prosecutors fallacy. Some scratch writing for a potential &lt;a href=&quot;&quot;&gt;reply piece&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Our discussion highlighted two potential test cases that would further demonstrate (or refute) that the critical slowing down we observed is an artifact – our ability to detect it in cases that do not transition (e.g. population of all cases reaching a certain excursion) in the original dynamics, and our ability to detect it in scenarios that do not involve transition dynamics at all. Running these two cases as&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/tree/prosecutor/inst/examples&quot;&gt;comment.Rmd&lt;/a&gt; – repeat the analysis using a generic threshold deviation rather than only populations that have crashed.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/tree/prosecutor/inst/examples&quot;&gt;beer.Rmd&lt;/a&gt; – repeat analysis in which there is only a single stable point.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ugh, looks like libraries on zero haven’t been kept up. Some delays before production code will be running.&lt;/p&gt;
&lt;h2 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;More writing&lt;/li&gt;
&lt;li&gt;Assemble material for applied math club. Going with particle filtering (&lt;span rel=&quot;tooltip&quot; title=&quot;Ionides E, Breto C and King A (2006). Inference For Nonlinear Dynamical Systems. _Proceedings of The National Academy of Sciences_, *103*. ISSN 0027-8424, http://dx.doi.org/10.1073/pnas.0603181103.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0603181103&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Ionides &lt;em&gt;et. al.&lt;/em&gt; 2006&lt;/a&gt;&lt;/span&gt;) and the &lt;code&gt;pomp&lt;/code&gt; vignette&lt;/li&gt;
&lt;li&gt;ropensci reviewing&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Sounds like exciting stuff happening a the #btpdf2 conference&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/03/14/notes.html"/>
   <updated>2013-03-14T00:00:00-07:00</updated>
   <id>h/2013/03/14/notes</id>
   <content type="html">&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Meeting with Steve over outline&lt;/li&gt;
&lt;li&gt;Writing on nonparametric-bayes manuscript&lt;/li&gt;
&lt;li&gt;A few notes on notebook-features draft&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;EasyABC by &lt;span rel=&quot;tooltip&quot; title=&quot;Jabot F, Faure T and Dumoulin N (2013). Easyabc: Performing
Efficient Approximate Bayesian Computation Sampling Schemes Using
R. _Methods in Ecology And Evolution_. 
http://dx.doi.org/10.1111/2041-210X.12050.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1111/2041-210X.12050&quot; rel=&quot;http://purl.org/spar/cito/critiques&quot; &gt;Jabot &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;. While it’s great that MEE publishes this stuff, this is unique in that the authors are updating and improving upon an existing package published by MEE the year before, &lt;span rel=&quot;tooltip&quot; title=&quot;Brook B, Ellis E, Perring M, Mackay A and Blomqvist L (2013).
Does The Terrestrial Biosphere Have Planetary Tipping Points?
_Trends in Ecology &amp; Evolution_. ISSN 01695347, 
http://dx.doi.org/10.1016/j.tree.2013.01.016.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2013.01.016&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Brook &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;. The authors of the recent manuscript have certainly made an important contribution which deserves the traditional recognition provided by a separate publication, but one must wonder why we need another package instead of building on the existing one. Is that necessary for the publication? If only there was a way to fork the original package, make their additions, issue a pull request instead… Could more research follow such a model?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;The rise of MOOCs may be old news, but the Nature column has a pretty excellent write-up on them all the same &lt;span rel=&quot;tooltip&quot; title=&quot;Halpern B, Longo C, Hardy D, McLeod K, Samhouri J, Katona S,
Kleisner K, Lester S, O’Leary J, Ranelletti M, Rosenberg A,
Scarborough C, Selig E, Best B, Brumbaugh D, Chapin F, Crowder L,
Daly K, Doney S, Elfes C, Fogarty M, Gaines S, Jacobsen K, Karrer
L, Leslie H, Neeley E, Pauly D, Polasky S, Ris B, St Martin K,
Stone G, Sumaila U and Zeller D (2012). an Index to Assess The
Health And Benefits of The Global Ocean. _Nature_, *488*. ISSN
0028-0836,  http://dx.doi.org/10.1038/nature11397.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1038/nature11397&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Halpern &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;&lt;/span&gt;, including a discussion of the challenges they face (e.g. completion rates) and how they might address them. Only passingly addresses the challenges these pose for universities seeking to get on board – such as the substantial upfront costs in providing content in a different medium and structure (see this recent &lt;a href=&quot;http://www.insidehighered.com/blogs/technology-and-learning/why-moocs-may-drive-higher-ed-costs&quot;&gt;Inside HigherEd piece&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nice column in &lt;em&gt;Nature&lt;/em&gt; on job opportunities in risk management, &lt;span rel=&quot;tooltip&quot; title=&quot;Nelson B (2013). Natural Disasters: A Calculated Risk. _Nature_,
*495*. ISSN 0028-0836, 
http://dx.doi.org/10.1038/nj7440-271a.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1038/nj7440-271a&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Nelson (2013)&lt;/a&gt;&lt;/span&gt; which highlights the interdisciplinary nature of the work. A pity they find the greatest market for jobs of this type in reinsurance companies and the smallest in academia…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TREE debates the existence and relevance of tipping points in global context and &lt;span rel=&quot;tooltip&quot; title=&quot;Hughes T, Linares C, Dakos V, van de Leemput I and van Nes E
(2013). Living Dangerously on Borrowed Time During Slow,
Unrecognized Regime Shifts. _Trends in Ecology &amp; Evolution_,
*28*. ISSN 01695347, 
http://dx.doi.org/10.1016/j.tree.2012.08.022.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2012.08.022&quot; rel=&quot;http://purl.org/spar/cito/critiques&quot; &gt;Hughes &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;, seemingly on the grounds that the globe isn’t a very connected place.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In the same issue, the usual suspects emphasize the idea that transitions due to saddle-node bifurcations need not be fast relative to the timescale of management &lt;span rel=&quot;tooltip&quot; title=&quot;Brook B, Ellis E, Perring M, Mackay A and Blomqvist L (2013).
Does The Terrestrial Biosphere Have Planetary Tipping Points?
_Trends in Ecology &amp; Evolution_. ISSN 01695347, 
http://dx.doi.org/10.1016/j.tree.2013.01.016.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2013.01.016&quot; rel=&quot;http://purl.org/spar/cito/critiques&quot; &gt;Brook &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;. The “fast” transition represents a return to equilibrium at the new laternative stable state. The authors remind us that this transient phase can take a long time (and amazingly failing to cite &lt;span rel=&quot;tooltip&quot; title=&quot;Hastings A and Higgins K (1994). Persistence of Transients in
Spatially Structured Ecological Models. _Science_, *263*. ISSN
0036-8075,  http://dx.doi.org/10.1126/science.263.5150.1133.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1126/science.263.5150.1133&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Hastings &amp;amp; Higgins (1994)&lt;/a&gt;&lt;/span&gt;, &lt;span rel=&quot;tooltip&quot; title=&quot;Hastings A (2001). Transient Dynamics And Persistence of
Ecological Systems. _Ecology Letters_, *4*. ISSN 1461-023X, 
http://dx.doi.org/10.1046/j.1461-0248.2001.00220.x.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.2001.00220.x&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Hastings (2001)&lt;/a&gt;&lt;/span&gt;, or &lt;span rel=&quot;tooltip&quot; title=&quot;Hastings A (2004). Transients: The Key to Long-Term Ecological
Understanding? _Trends in Ecology &amp; Evolution_, *19*. ISSN
01695347,  http://dx.doi.org/10.1016/j.tree.2003.09.007.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2003.09.007&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Hastings (2004)&lt;/a&gt;&lt;/span&gt; in the process).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Barry W. Brook, Erle C. Ellis, Michael P. Perring, Anson W. Mackay, Linus Blomqvist, (2013) Does The Terrestrial Biosphere Have Planetary Tipping Points?. &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2013.01.016&quot;&gt;10.1016/j.tree.2013.01.016&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Benjamin S. Halpern, Catherine Longo, Darren Hardy, Karen L. McLeod, Jameal F. Samhouri, Steven K. Katona, Kristin Kleisner, Sarah E. Lester, Jennifer O’Leary, Marla Ranelletti, Andrew A. Rosenberg, Courtney Scarborough, Elizabeth R. Selig, Benjamin D. Best, Daniel R. Brumbaugh, F. Stuart Chapin, Larry B. Crowder, Kendra L. Daly, Scott C. Doney, Cristiane Elfes, Michael J. Fogarty, Steven D. Gaines, Kelsey I. Jacobsen, Leah Bunce Karrer, Heather M. Leslie, Elizabeth Neeley, Daniel Pauly, Stephen Polasky, Bud Ris, Kevin St Martin, Gregory S. Stone, U. Rashid Sumaila, Dirk Zeller, (2012) an Index to Assess The Health And Benefits of The Global Ocean. &lt;em&gt;Nature&lt;/em&gt; &lt;strong&gt;488&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1038/nature11397&quot;&gt;10.1038/nature11397&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A. Hastings, K. Higgins, (1994) Persistence of Transients in Spatially Structured Ecological Models. &lt;em&gt;Science&lt;/em&gt; &lt;strong&gt;263&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1126/science.263.5150.1133&quot;&gt;10.1126/science.263.5150.1133&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Alan Hastings, (2001) Transient Dynamics And Persistence of Ecological Systems. &lt;em&gt;Ecology Letters&lt;/em&gt; &lt;strong&gt;4&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.2001.00220.x&quot;&gt;10.1046/j.1461-0248.2001.00220.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Alan Hastings, (2004) Transients: The Key to Long-Term Ecological Understanding?. &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt; &lt;strong&gt;19&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2003.09.007&quot;&gt;10.1016/j.tree.2003.09.007&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Terry P. Hughes, Cristina Linares, Vasilis Dakos, Ingrid A. van de Leemput, Egbert H. van Nes, (2013) Living Dangerously on Borrowed Time During Slow, Unrecognized Regime Shifts. &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt; &lt;strong&gt;28&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2012.08.022&quot;&gt;10.1016/j.tree.2012.08.022&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Franck Jabot, Thierry Faure, Nicolas Dumoulin, (2013) Easyabc: Performing Efficient Approximate Bayesian Computation Sampling Schemes Using R. &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/2041-210X.12050&quot;&gt;10.1111/2041-210X.12050&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bryn Nelson, (2013) Natural Disasters: A Calculated Risk. &lt;em&gt;Nature&lt;/em&gt; &lt;strong&gt;495&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1038/nj7440-271a&quot;&gt;10.1038/nj7440-271a&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/03/13/notes.html"/>
   <updated>2013-03-13T00:00:00-07:00</updated>
   <id>h/2013/03/13/notes</id>
   <content type="html">&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;Multiple-uncertainty&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Created smaller version of table to simplify comparisons&lt;/li&gt;
&lt;li&gt;Switched to stationary policy comparisons only. (Running out over longer time shifts total value a bit but doesn’t amplify scale of the differences much)&lt;/li&gt;
&lt;li&gt;Larger noise amplifies the effects (compare &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/commits/05637ec8845097c5059902a0f4f841343a44d9bc/inst/examples/smalltable.md&quot;&gt;0.3 levels&lt;/a&gt; to &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/05637ec8845097c5059902a0f4f841343a44d9bc/inst/examples/smalltable.mhttps://github.com/cboettig/multiple_uncertainty/blob/05637ec8845097c5059902a0f4f841343a44d9bc/inst/examples/smalltable.mdd&quot;&gt;0.5 levels&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;note that averaging over replicates gives rather consistent means. The differences between &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/05637ec8845097c5059902a0f4f841343a44d9bc/inst/examples/smalltable.md&quot;&gt;successive&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/bea28d918edccd7c7ab8b365cc12632166985e95/inst/examples/smalltable.md&quot;&gt;runs&lt;/a&gt; of the algorithm give results agreeing to the tenths place at least.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8381/8555792236_227bdbb05b_o.png&quot; alt=&quot;Example escapement, code&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Example escapement, &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/05637ec8845097c5059902a0f4f841343a44d9bc/inst/examples/smalltable.md&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8526/8554683747_02d0cecfa6_o.png&quot; alt=&quot;the distribution of profits by scenario&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;the distribution of profits by scenario&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;tables-of-results&quot;&gt;Tables of results&lt;/h2&gt;
&lt;p&gt;Note that columns represent the decision-maker’s beliefs about uncertainty and rows represent the true uncertainty present in the simulation.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;det&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;m&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;all&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;det&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;19.11&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;19.11&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.81&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.81&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;g&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.92&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.63&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.74&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.56&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;m&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;16.17&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;16.76&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;17.38&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;18.08&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;all&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;15.54&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;14.65&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;16.50&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;17.15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;det&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;m&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;all&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;det&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.00&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.00&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.00&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;g&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.41&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.31&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;3.59&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;3.28&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;m&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;3.10&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2.96&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1.60&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1.12&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;all&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;5.06&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.89&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.20&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;4.59&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;logistic-case&quot;&gt;logistic case&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Overcompensatory density dependence is tough on stock. With given discounting (5%) and finite horizon (15 cycles) strategies act &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/dc6fa3b8c1913cd771e72673083aa80ee733dc62/inst/examples/logistic_uniform.md&quot;&gt;conservatively&lt;/a&gt;. Hmm, strange that deterministic case is equally effected..&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;running with much weaker &lt;code&gt;r&lt;/code&gt; to reduce overcompensatory impacts…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;coding&quot;&gt;Coding&lt;/h3&gt;
&lt;p&gt;Attempting to translate algorithm into Jim’s native tongue (matlab) for feedback. &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/fa4404e1719111b28aa23e388519db94c6f990db/R/multiple_uncertainty.R&quot;&gt;R version&lt;/a&gt; vs &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/blob/fa4404e1719111b28aa23e388519db94c6f990db/inst/matlab/multiple_uncertainty.m&quot;&gt;matlab&lt;/a&gt; not there yet…&lt;/p&gt;
&lt;h2 id=&quot;reviewing&quot;&gt;Reviewing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Another review request, another review done.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;With Alistair, playing around with this HMM EM algorithm &lt;a href=&quot;https://github.com/gui11aume/HMMt/&quot;&gt;gui11aume/HMMt&lt;/a&gt;. Also threw in a pull request with documentation. grr, took a bit to understand what was going on with that paper.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/03/12/notes.html"/>
   <updated>2013-03-12T00:00:00-07:00</updated>
   <id>h/2013/03/12/notes</id>
   <content type="html">&lt;h3 id=&quot;monday&quot;&gt;Monday&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;multiple_uncertainty abstract&lt;/li&gt;
&lt;li&gt;Meeting with Robin Snyder&lt;/li&gt;
&lt;li&gt;application writing&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h3&gt;
&lt;h4 id=&quot;morning&quot;&gt;Morning&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;applications&lt;/li&gt;
&lt;li&gt;Coordinating summer conference travel&lt;/li&gt;
&lt;li&gt;ropensci proposals&lt;/li&gt;
&lt;li&gt;EML is not an ontology, not analgous to Dublin Core, etc. Just an XML schema. see &lt;a href=&quot;https://semtools.ecoinformatics.org/oboe&quot;&gt;OBOE&lt;/a&gt; for an ecological ontology. to explore later.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;afternoon&quot;&gt;Afternoon&lt;/h3&gt;
&lt;h4 id=&quot;multiple-uncertainty&quot;&gt;multiple-uncertainty&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Revisiting multiple-uncertainty runs. Running smaller table example. Recoded script to allow arbitrary set of noise configurations to be consistently compared.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Some debugging. Shared-memory parallelization prohibitive at current memory requirements.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;See: small table example (for issue #3) &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty/commit/a2806b079faf60ac1537e3dc8f129b79aab826f0&quot;&gt;04:48 pm 2013/03/12&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;nonparametric-bayes&quot;&gt;nonparametric-bayes&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Exploring options for approximate dynamic programming. For the moment, working through the basic ADP algorithm presented in Powell (2006).&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;in-progress notes: &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/master/inst/examples/adp-intro.md&quot;&gt;latest version&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/dc45de162b057a1eb53846e030354a02305c9ea5/inst/examples/adp-intro.md&quot;&gt;version-stable link&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes From The Week</title>
   <link href="/2013/03/08/notes-from-the-week.html"/>
   <updated>2013-03-08T00:00:00-08:00</updated>
   <id>h/2013/03/08/notes-from-the-week</id>
   <content type="html">&lt;p&gt;(Working from Galveston this week while at Louise’s conference, looking after little one. some progress below.)&lt;/p&gt;
&lt;h2 id=&quot;monday&quot;&gt;Monday&lt;/h2&gt;
&lt;h4 id=&quot;alan-skype-meeting&quot;&gt;Alan Skype meeting&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Comment piece / reply&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;ews-review&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Comments on TE review?&lt;/li&gt;
&lt;li&gt;IARPA Conference, funding options?&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;tasks&quot;&gt;Tasks&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;On Marc’s suggestion, writing comparison of pattern-based and mechanism based approaches to modeling, particularly in decision theory context. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/cb0f7d5f779bb424e5fb02b06463f946c360017d/inst/doc/beyond-mechanistic-models.md&quot;&gt;draft&lt;/a&gt; in nonparametric-bayes&lt;/li&gt;
&lt;li&gt;Review edits and writing on &lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;ews-review&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h2&gt;
&lt;h4 id=&quot;kathy-skype&quot;&gt;Kathy Skype&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Decision theory in early warning signals?&lt;/li&gt;
&lt;li&gt;NCEAS / SESYNC working group?&lt;/li&gt;
&lt;li&gt;Long term lake monitoring data, including some sedimentary analysis (see &lt;span rel=&quot;tooltip&quot; title=&quot;Wang R, Dearing J, Langdon P, Zhang E, Yang X, Dakos V and
Scheffer M (2012). Flickering Gives Early Warning Signals of A
Critical Transition to A Eutrophic Lake State. _Nature_, *492*.
ISSN 0028-0836,  http://dx.doi.org/10.1038/nature11655.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1038/nature11655&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Wang &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;&lt;/span&gt;).&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Send Kathy TREE articles: &lt;span rel=&quot;tooltip&quot; title=&quot;Polasky S, Carpenter S, Folke C and Keeler B (2011).
Decision-Making Under Great Uncertainty: Environmental Management
in an Era of Global Change. _Trends in Ecology &amp; Evolution_,
*26*. ISSN 01695347, 
http://dx.doi.org/10.1016/j.tree.2011.04.007.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.007&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Polasky &lt;em&gt;et. al.&lt;/em&gt; (2011)&lt;/a&gt;&lt;/span&gt; and &lt;span rel=&quot;tooltip&quot; title=&quot;Fischer J, Peterson G, Gardner T, Gordon L, Fazey I, Elmqvist T,
Felton A, Folke C and Dovers S (2009). Integrating Resilience
Thinking And Optimisation For Conservation. _Trends in Ecology &amp;
Evolution_, *24*. ISSN 01695347, 
http://dx.doi.org/10.1016/j.tree.2009.03.020.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.020&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Fischer &lt;em&gt;et. al.&lt;/em&gt; (2009)&lt;/a&gt;&lt;/span&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tasks-1&quot;&gt;Tasks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Writing comparison of pattern-based and mechanism based approaches to modeling, particularly in decision theory context&lt;/li&gt;
&lt;li&gt;Review edits and writing on &lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;ews-review&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wednesday&quot;&gt;Wednesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;more of the same.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;friday&quot;&gt;Friday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finished and submitted &lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;ews-review&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;See commit log and &lt;a href=&quot;https://github.com/cboettig/ews-review/issues&quot;&gt;issues&lt;/a&gt; tracker for details.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notebook-semantics&quot;&gt;Notebook: Semantics,&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;stemming-based search seems to perform poorly – i.e. cannot find phrases, weight terms in titles, etc, just most frequently occuring terms in a post. Trying lunr, loads full text into memory but should do so only on selecting search bar? See issue &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/7&quot;&gt;#7&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Modified google-analytics plugin to make single call to the API see issue &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/66&quot;&gt;#66&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tuning RDFa, primarily on vita. &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/22&quot;&gt;#22&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/63&quot;&gt;#63&lt;/a&gt;. Tuned FOAF referencing to common nodes. Note that &lt;code&gt;rel&lt;/code&gt; always applys to links while &lt;code&gt;property&lt;/code&gt; applies to the content of the tag (e.g. anchor text, span context). Use &lt;code&gt;rel&lt;/code&gt; in span and div elements, etc, to apply to multiple links.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Joern Fischer, Garry D. Peterson, Toby A. Gardner, Line J. Gordon, Ioan Fazey, Thomas Elmqvist, Adam Felton, Carl Folke, Stephen Dovers, (2009) Integrating Resilience Thinking And Optimisation For Conservation. &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt; &lt;strong&gt;24&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.020&quot;&gt;10.1016/j.tree.2009.03.020&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Stephen Polasky, Stephen R. Carpenter, Carl Folke, Bonnie Keeler, (2011) Decision-Making Under Great Uncertainty: Environmental Management in an Era of Global Change. &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt; &lt;strong&gt;26&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.007&quot;&gt;10.1016/j.tree.2011.04.007&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Rong Wang, John A. Dearing, Peter G. Langdon, Enlou Zhang, Xiangdong Yang, Vasilis Dakos, Marten Scheffer, (2012) Flickering Gives Early Warning Signals of A Critical Transition to A Eutrophic Lake State. &lt;em&gt;Nature&lt;/em&gt; &lt;strong&gt;492&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1038/nature11655&quot;&gt;10.1038/nature11655&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Delayed Release Archives</title>
   <link href="/2013/03/02/delayed-release-archives.html"/>
   <updated>2013-03-02T00:00:00-08:00</updated>
   <id>h/2013/03/02/delayed-release-archives</id>
   <content type="html">&lt;p&gt;Today I dug out a handful (37) posts from the past two years that were published as &lt;a href=&quot;http://carlboettiger.info/tags.html#delayed-release&quot;&gt;#delayed-release&lt;/a&gt; content (and have all been tagged as such to indicate they were not public at their publication date). Many of these were connected to the &lt;a href=&quot;http://carlboettiger.info/tags.html#warning-signals&quot;&gt;#warning-signals&lt;/a&gt; project but involved results that I or Alan weren’t ready to provide ahead of publication, as I discussed in a post when I first began marking some posts for delayed release, &lt;a href=&quot;http://www.carlboettiger.info/2011/03/21/challenges-with-collaboration-in-open-science.html&quot;&gt;challenges with collaboration in open science&lt;/a&gt; These posts were created while on the Wordpress platform and had been marked private, so that they would be invisible to public browsing. Wordpress makes this easy to do, as I discuss in the earlier post. When I switched to a Jekyll platform, these posts all received the yaml header &lt;code&gt;published: false&lt;/code&gt; and were also excluded from the Github repository until I could revisit and decide which to release. Managing these posts for release in the Jekyll framework just requires a little command-line fu, &lt;code&gt;grep -l 'published: false' *.md&lt;/code&gt; grabs the relevant posts for inspection and release.&lt;/p&gt;
&lt;p&gt;The notebook is currently back to an ONS All-content, immediate, as I have been able to okay the practice with all current major collaborations. (Sure, there’s always stuff that doesn’t make it into the notebook or is not appropriate for the notebook – the most common case of the latter being peer reviews I write for various journals. Though I make a practice of signing my reviews, I believe they still represent private communication unless the authors, editors and journals were to agree to publishing them.) All of these posts would have been released sooner but for finding a minute to remember to do so – perhaps a cautionary example for the delayed release practice.&lt;/p&gt;
&lt;p&gt;Looking back on these posts, I probably would not have delayed most of them today, as I have gotten more comfortable not only with the open notebook, but with discussing the practice with collaborators. My own feelings of not wanting to push my adviser in a discussion of the notebook was as much responsible for these delays as other factors that I discuss in the earlier post. One key thing I wondered about in writing delayed-release posts was whether I would (perhaps subconsciously) write in a different or more candid style than I do for my regular notes. I was glad not to notice any glaring examples (though perhaps a diligent or very bored reader might find some!) of expletives and insulting commentary in the delayed posts. I do notice the overall tone and volume of the textual content changes slightly. However, that trend is actually much more dominant in comparing my very early posts (mostly from the OWW days), which were quite discursive, to the current posts which tend to be much more terse.&lt;/p&gt;
&lt;p&gt;So have a look at the &lt;a href=&quot;http://carlboettiger.info/tags.html#delayed-release&quot;&gt;#delayed-release&lt;/a&gt; posts and let me know what you think!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/28/notes.html"/>
   <updated>2013-02-28T00:00:00-08:00</updated>
   <id>h/2013/02/28/notes</id>
   <content type="html">&lt;h2 id=&quot;meeting-with-marc&quot;&gt;Meeting with Marc&lt;/h2&gt;
&lt;p&gt;Selection of problem: consider simpler models only. Sep through complexity hierarchy at the beginning:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;classical approaches are to fix relationship of stock recruitment.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;parameter uncertainty&lt;/li&gt;
&lt;li&gt;Gaussian processes for model uncertainty&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The Discussion section can deal with model uncertainty model choice approaches.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A method where we don’t have to assume the stock recuritment relationship&lt;/li&gt;
&lt;li&gt;How well we can do with that.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;How much data we need.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;discussion of mathematical presentation, clarity&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finished review. I should stop signing reviews, then I could write more careless quick impressions.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;discussed potential of a GSOC proposal for an R NEXML parser&lt;/li&gt;
&lt;li&gt;requested to consider presenting at &lt;a href=&quot;http://isiconference2013.org/pgs/specsessions.php&quot;&gt;ISI Conference&lt;/a&gt; session on early warning.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;some-reading-on-semantics&quot;&gt;some reading on semantics&lt;/h2&gt;
&lt;p&gt;David Shotton and Tanya Gray have release a CiTO tool for adding semantic data to many major publication platforms, taking a clever approach to annotation that I’ve never considered – croudsourcing to readers (&lt;span class=&quot;showtooltip&quot; title=&quot;davidshotton (2013). CiTO Reference Annotation Tools. 
http://semanticpublishing.wordpress.com/2013/02/26/cito-tools/
[Online. last-accessed: 2013-02-26 15:32:11]. 
http://semanticpublishing.wordpress.com/2013/02/26/cito-tools/.&quot;&gt;&lt;a href=&quot;http://semanticpublishing.wordpress.com/2013/02/26/cito-tools/&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;davidshotton, 2013&lt;/a&gt;&lt;/span&gt;). The tool isn’t perfect but is very intuitive. The clever part is that all annotations the reader adds are collated in a database and cand be retrieved through their &lt;a href=&quot;http://www.miidi.org/cito/api/&quot;&gt;API&lt;/a&gt;. Not sure if many readers will make use of this, but time will tell. Meanwhile authors or publishers might pay attention.&lt;/p&gt;
&lt;p&gt;In that vein, David has also written a call of Ten Next Steps for publishers, (&lt;span class=&quot;showtooltip&quot; title=&quot;davidshotton (2013). Ten next steps for semantic authors and
publishers. 
http://semanticpublishing.wordpress.com/2013/02/26/ten-next-steps/
[Online. last-accessed: 2013-02-28 22:40:01]. 
http://semanticpublishing.wordpress.com/2013/02/26/ten-next-steps/.&quot;&gt;&lt;a href=&quot;http://semanticpublishing.wordpress.com/2013/02/26/ten-next-steps/&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;davidshotton, 2013b&lt;/a&gt;&lt;/span&gt;). Some may be redundant, but certainly shows how publishers could go a lot further. If only there was more incentive for publishers to innovate like this instead of crafting clever and questionable strategies to boost impact factors.&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Very interesting paper on implementing/teaching nonlinear model inference to ecologists out today (&lt;span class=&quot;showtooltip&quot; title=&quot;Bolker B, Gardner B, Maunder M, Berg C, Brooks M, Comita L, Crone
E, Cubaynes S, Davies T, de Valpine P, Ford J, Gimenez O, Kery M,
Kim E, Lennert-Cody C, Magnusson A, Martell S, Nash J, Nielsen A,
Regetz J, Skaug H and Zipkin E (2013). Strategies For Fitting
Nonlinear Ecological Models in R, ad Model Builder, And Bugs.
_Methods in Ecology And Evolution_. 
http://dx.doi.org/10.1111/2041-210X.12044.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1111/2041-210X.12044&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Bolker &lt;em&gt;et. al.&lt;/em&gt; 2013&lt;/a&gt;&lt;/span&gt;), and the &lt;a href=&quot;https://groups.nceas.ucsb.edu/non-linear-modeling/projects&quot;&gt;code and data for each of the examples they discuss&lt;/a&gt;. Lessons in the mansucript may be familiar to many, but should still be taught more widely in ecology. Should be useful for teaching this stuff in graduate courses too.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Benjamin M. Bolker, Beth Gardner, Mark Maunder, Casper W. Berg, Mollie Brooks, Liza Comita, Elizabeth Crone, Sarah Cubaynes, Trevor Davies, Perry de Valpine, Jessica Ford, Olivier Gimenez, Marc Kery, Eun Jung Kim, Cleridy Lennert-Cody, Arni Magnusson, Steve Martell, John Nash, Anders Nielsen, Jim Regetz, Hans Skaug, Elise Zipkin, (2013) Strategies For Fitting Nonlinear Ecological Models in R, ad Model Builder, And Bugs. &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/2041-210X.12044&quot;&gt;10.1111/2041-210X.12044&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;davidshotton, (2013) CiTO Reference Annotation Tools. &lt;em&gt;Semantic Publishing&lt;/em&gt; &lt;a href=&quot;http://semanticpublishing.wordpress.com/2013/02/26/cito-tools/&quot;&gt;http://semanticpublishing.wordpress.com/2013/02/26/cito-tools/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;davidshotton, (2013) Ten next steps for semantic authors and publishers. &lt;em&gt;Semantic Publishing&lt;/em&gt; &lt;a href=&quot;http://semanticpublishing.wordpress.com/2013/02/26/ten-next-steps/&quot;&gt;http://semanticpublishing.wordpress.com/2013/02/26/ten-next-steps/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/27/notes.html"/>
   <updated>2013-02-27T00:00:00-08:00</updated>
   <id>h/2013/02/27/notes</id>
   <content type="html">&lt;h3 id=&quot;reviewing&quot;&gt;Reviewing&lt;/h3&gt;
&lt;p&gt;arg, reviewing. so much time.&lt;/p&gt;
&lt;h3 id=&quot;seminar&quot;&gt;Seminar&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://katericherson.wordpress.com/&quot;&gt;Kate Richerson&lt;/a&gt; gave a fanstastic presentation to mega group yesterday showing her integration of behavior and dispersal in krill dynamics. She derives the krill’s behavioral movement patterns through a stochastic dynamic programming solution rather than just dictate it to the dispersal model directly.&lt;/p&gt;
&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Provicative stuff in PNAS &lt;span class=&quot;showtooltip&quot; title=&quot;Perretti C, Munch S and Sugihara G (2013). Model-Free Forecasting
Outperforms The Correct Mechanistic Model For Simulated And
Experimental Data. _Proceedings of The National Academy of
Sciences_. ISSN 0027-8424, 
http://dx.doi.org/10.1073/pnas.1216076110.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1216076110&quot;&gt;Perretti &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;. It would be nice to see the comparison against the generating model.  The forecasting errors of the fully Bayesian inference using the correct model shouldn’t necessary be small, but they should be just as big as the Bayesian model expects them to be (e.g. over replicates, the Bayesian forecast error reflects the widths of the posteriors (modulo some statement about priors)).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My worry with any approach doing better than the expected error is that it does so by generating biased estimation – e.g. something in the forecasting method, rather than in the data, happens to be biased towards the ‘right answer’.  In this example I don’t think that is the case.&lt;/p&gt;
&lt;p&gt;We already know that the modes of the posteriors don’t recover the correct model parameters of the generating model from an MCMC of such a complex model with limited data (though perhaps it is good to remind folks of this!), so it is not surprising that a heuristic approach can outperform this in cases.  &lt;/p&gt;
&lt;p&gt;It certainly is good to wrestle with these examples in any case.  Steve’s one of my post-doc advisors now so no doubt I’m biased.  Noam also pointed out this earlier article in Ecology &lt;span class=&quot;showtooltip&quot; title=&quot;Perretti C, Sugihara G and Munch S (2012). Nonparametric
Forecasting Outperforms Parametric Methods For A Simulated
Multi-Species System. _Ecology_. ISSN 0012-9658, 
http://dx.doi.org/10.1890/12-0904.1.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1890/12-0904.1&quot;&gt;Perretti &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;In seminar, Marc mentioned the great paper by &lt;span class=&quot;showtooltip&quot; title=&quot;Wiedenmann J, Cresswell K, Goldbogen J, Potvin J and Mangel M
(2011). Exploring The Effects of Reductions in Krill Biomass in
The Southern Ocean on Blue Whales Using A State-Dependent Foraging
Model. _Ecological Modelling_, *222*. ISSN 03043800, 
http://dx.doi.org/10.1016/j.ecolmodel.2011.07.013.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolmodel.2011.07.013&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Wiedenmann &lt;em&gt;et. al.&lt;/em&gt; (2011)&lt;/a&gt;&lt;/span&gt; that uses the comparison of the optimal foraging strategy evolved by whales in their evolutionary environment to how that strategy performs today (similar spirit to the kinds of comparisons I am interested in with #multiple-uncertainty project.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Reading an old Schaffer paper &lt;span class=&quot;showtooltip&quot; title=&quot;Schaffer W (1984). Stretching And Folding in Lynx Fur Returns:
Evidence For A Strange Attractor in Nature? _The American
Naturalist_, *124*. ISSN 0003-0147, 
http://dx.doi.org/10.1086/284318.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1086/284318&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Schaffer (1984)&lt;/a&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Though &lt;em&gt;Nature&lt;/em&gt; says the National Academy of Sciences needs an overhaul to stay relevant. Probably true but they still do some excellent reports that could deserve more eyes, like this on model fitting (&lt;span class=&quot;showtooltip&quot; title=&quot;(????). Assessing the Reliability of Complex Models: Mathematical
and Statistical Foundations of Verification, Validation, and
Uncertainty Quantification. 
http://www.nap.edu/catalog.php?record_id=13395 [Online.
last-accessed: 2013-02-28 18:23:05]. 
http://www.nap.edu/catalog.php?record_id=13395.&quot;&gt;&lt;a href=&quot;http://www.nap.edu/catalog.php?record_id=13395&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;&lt;/a&gt;&lt;/span&gt;). We could do more VVUQ in ecology and evolution, and the value of presenting benchmark examples of this in simple (trivial) cases cannot be overstated, e.g. Fig 5.2.1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GP methods in Biometrika &lt;span class=&quot;showtooltip&quot; title=&quot;Banerjee A, Dunson D and Tokdar S (2012). Efficient Gaussian
Process Regression For Large Datasets. _Biometrika_, *100*. ISSN
0006-3444,  http://dx.doi.org/10.1093/biomet/ass068.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1093/biomet/ass068&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Banerjee &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Luminaries of evolution forecast the future of the field, with an eye towards data and semantics in &lt;span class=&quot;showtooltip&quot; title=&quot;Losos J, Arnold S, Bejerano G, Brodie E, Hibbett D, Hoekstra H,
Mindell D, Monteiro A, Moritz C, Orr H, Petrov D, Renner S,
Ricklefs R, Soltis P and Turner T (2013). Evolutionary Biology
For The 21st Century. _Plos Biology_, *11*. 
http://dx.doi.org/10.1371/journal.pbio.1001466.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001466&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Losos &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;wrote a quick CSL format for knitcitations. (Generate inline citations using the copy function in Mendeley library. A bit silly since normally that would already generate the entire bibliographic citation.)&lt;/li&gt;
&lt;li&gt;Should really make a CSL format for Mendeley to paste in a HTML citation (with full metadata in tooltip). Might then use an existing format to copy-paste bib info at end.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;bibliography&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;A. Banerjee, D. B. Dunson, S. T. Tokdar, (2012) Efficient Gaussian Process Regression For Large Datasets. &lt;em&gt;Biometrika&lt;/em&gt; &lt;strong&gt;100&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1093/biomet/ass068&quot;&gt;10.1093/biomet/ass068&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Jonathan B. Losos, Stevan J. Arnold, Gill Bejerano, E. D. Brodie, David Hibbett, Hopi E. Hoekstra, David P. Mindell, Antónia Monteiro, Craig Moritz, H. Allen Orr, Dmitri A. Petrov, Susanne S. Renner, Robert E. Ricklefs, Pamela S. Soltis, Thomas L. Turner, (2013) Evolutionary Biology For The 21st Century. &lt;em&gt;Plos Biology&lt;/em&gt; &lt;strong&gt;11&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001466&quot;&gt;10.1371/journal.pbio.1001466&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Charles Thomas Perretti, George Sugihara, Stephan B. Munch, (2012) Nonparametric Forecasting Outperforms Parametric Methods For A Simulated Multi-Species System. &lt;em&gt;Ecology&lt;/em&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/12-0904.1&quot;&gt;10.1890/12-0904.1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;C. T. Perretti, S. B. Munch, G. Sugihara, (2013) Model-Free Forecasting Outperforms The Correct Mechanistic Model For Simulated And Experimental Data. &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt; &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1216076110&quot;&gt;10.1073/pnas.1216076110&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;William M. Schaffer, (1984) Stretching And Folding in Lynx Fur Returns: Evidence For A Strange Attractor in Nature?. &lt;em&gt;The American Naturalist&lt;/em&gt; &lt;strong&gt;124&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1086/284318&quot;&gt;10.1086/284318&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;John Wiedenmann, Katherine A. Cresswell, Jeremy Goldbogen, Jean Potvin, Marc Mangel, (2011) Exploring The Effects of Reductions in Krill Biomass in The Southern Ocean on Blue Whales Using A State-Dependent Foraging Model. &lt;em&gt;Ecological Modelling&lt;/em&gt; &lt;strong&gt;222&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolmodel.2011.07.013&quot;&gt;10.1016/j.ecolmodel.2011.07.013&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Assessing the Reliability of Complex Models: Mathematical and Statistical Foundations of Verification, Validation, and Uncertainty Quantification. &lt;a href=&quot;http://www.nap.edu/catalog.php?record_id=13395&quot;&gt;http://www.nap.edu/catalog.php?record_id=13395&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Semantic Citations For The Notebook And Knitr</title>
   <link href="/2013/02/22/semantic-citations-for-the-notebook-and-knitr.html"/>
   <updated>2013-02-22T00:00:00-08:00</updated>
   <id>h/2013/02/22/semantic-citations-for-the-notebook-and-knitr</id>
   <content type="html">&lt;p&gt;I have on ocassion been exploring the use of &lt;a href=&quot;/tags.html/#semantics&quot;&gt;semantic&lt;/a&gt; markup in the notebook. In this post I illustrate how I am handling semantic citations. One of the more intriguing ideas is the ability to add semantic meaning to citations through the CITO ontology of &lt;span class=&quot;showtooltip&quot; title=&quot;Shotton D (2010). Cito, The Citation Typing Ontology. _Journal
of Biomedical Semantics_, *1*. ISSN 2041-1480, 
http://dx.doi.org/10.1186/2041-1480-1-S1-S6.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&quot; rel=&quot;http://purl.org/spar/cito/usesMethodIn&quot; &gt;Shotton (2010)&lt;/a&gt;&lt;/span&gt;. Citation counts form a central part of academic discourse, but contain very little information regarding the reason for the citation. Most notably, ‘negative’ citations refuting a claim carry just the same weight as those confirming or relying upon a claim. Given the scale and expansion of academic literature, it is rarely reasonable to explore this citation graph manually. CITO provides a language for embedding the meaning of the citation, such as “discusses”, “refutes”, or “usesMethodIn”, to the citation. (For instance, my earlier citation to Shotton identifies itself as “usesMethodIn”, as I will explain).&lt;/p&gt;
&lt;p&gt;The main barrier to this approach is a lack of adoption. One of the primary concerns is the burden it places on authors of adding the extra data. On one hand, authors already bother formatting and reformatting layout, spelling, and reference order to the arcane specifications of different journals, which suggests authors can be persuaded to do some pretty tedious tasks if the publishers would require it. After all, the task of adding citations is already much easier than it was in the days of paper journals. Still, it is much simpler to remove a tedious requirement than to add a new one. My hope is that intelligent tools can simplify this process, as they already have with other aspects of managing citations, and encourage the use of CITO. In this spirit, I have recently started trying to consistently use the CITO ontology in my notebook entries as a test case, using some tools of my own design.&lt;/p&gt;
&lt;h3 id=&quot;semantics-in-knitcitations&quot;&gt;Semantics in knitcitations&lt;/h3&gt;
&lt;p&gt;Several months ago I created the R package &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; to provide a citation platform for &lt;a href=&quot;http://yihui.name/knitr&quot;&gt;knitr&lt;/a&gt; dynamic documents, which provide executable code and automatic inclusion of results inside plain-text (markdown) descriptions. I write most of my research scripts and many of my notebook entries in this manner. The package can generate citations by DOI, circumventing the need for maintaining bibtex or similar database of citation information, using commands such as&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1186/2041-1480-1-S1-S6&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Extending the package to support CITO was rather straight forward. Using the latest version of knitcitations, one can generate in-line citations with CITO semantics simply by passing the reason for the citation as well, such as&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1186/2041-1480-1-S1-S6&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cito=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;usesMethodIn&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which generates the following HTML:&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;http://purl.org/spar/cito/usesMethodIn&amp;#39;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Shotton (2010)&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This provides a convient platform to generate semantic citations in this lab notebook. As before, knitcitations will also generate a complete reference list at the end of the document by calling the &lt;code&gt;bibliography&lt;/code&gt; function at the end.&lt;/p&gt;
&lt;h3 id=&quot;semantic-overkill&quot;&gt;Semantic overkill?&lt;/h3&gt;
&lt;p&gt;It is possible to add far more semantic data to this reference list at the end of an article. Invisible semantic markup can identify to a machine what value corresponds to the volume number or issue number, or journal name, e,g, using the BIBO ontology. I have added support for ths kind of markup to knitcitations as well, and &lt;a href=&quot;/2013/02/12/notes.html&quot;&gt;several&lt;/a&gt; &lt;a href=&quot;/2013/02/21/notes.html&quot;&gt;of&lt;/a&gt; my posts provide examples. The raw markup looks like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; prefix=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc: http://purl.org/dc/terms/,&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                      bibo: http://purl.org/ontology/bibo/,&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                      foaf: http://xmlns.com/foaf/spec/,&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                      biro: http://purl.org/spar/biro/&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;        rel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/spar/biro/ReferenceList&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;ul&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;bibliography&amp;#39;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;kw&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:title&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Fisheries: Does Catch Reflect Abundance?.&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:creator&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:givenName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Daniel&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:familyName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Pauly&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:creator&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:givenName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Ray&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:familyName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Hilborn&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:creator&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:givenName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Trevor A.&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:familyName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Branch&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;  (&lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:date&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;2013&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;)  &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; rel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/dc/terms/isPartOf&amp;quot;&lt;/span&gt; 
&lt;span class=&quot;ot&quot;&gt;                            resource=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;[http://purl.org/dc/terms/journal]&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/dc/terms/title&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;                                content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; Nature &amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                          &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:shortTitle&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; Nature &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
               &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;  &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:volume&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;494&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:doi&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://dx.doi.org/10.1038/494303a&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;10.1038/494303a&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;li&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:title&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Net Gains.&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:creator&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:givenName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;unknown&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:familyName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;unknown&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;  (&lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:date&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;2013&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;)  &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; rel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/dc/terms/isPartOf&amp;quot;&lt;/span&gt; 
&lt;span class=&quot;ot&quot;&gt;                            resource=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;[http://purl.org/dc/terms/journal]&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/dc/terms/title&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;                                content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; Nature &amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
                          &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:shortTitle&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; Nature &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
               &lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;  &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:volume&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;494&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;    &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;bibo:doi&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://dx.doi.org/10.1038/494282a&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;10.1038/494282a&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;However, I have since decided that such markup is largely overkill. The DOI uniquely identifies the publication already, and allows us to programmatically retrieve the rest of the data (title, authors, journal, etc) from semantically identified XML by querying against services such as CrossRef. &lt;em&gt;This is the essential concept of linked data&lt;/em&gt;, by which both source and referer are enriched.&lt;/p&gt;
&lt;p&gt;Moreover, DOIs follows a specific construction that lets us reliably &lt;a href=&quot;http://stackoverflow.com/questions/27910/finding-a-doi-in-a-document-or-page&quot;&gt;identify them in plain text using regular expressions&lt;/a&gt;, making any futher semantics to declare that we are citing the article mostly irrelevant. This is convient for identifying all citations appearing in the notebook without any markup. The CITO example above has the advantage of providing a link and associating the DOI with the reason for the citation, by virtue of being inside the same html anchor element.&lt;/p&gt;
&lt;h3 id=&quot;replacing-the-reference-list&quot;&gt;Replacing the reference list?&lt;/h3&gt;
&lt;p&gt;If we are not going to semantically mark up the reference list, we could consider abolishing the reference list all together. After all, as a tool for the digital reader the concept is rather vestigal – I hate losing my place by scrolling to the end of an article just to see to what reference number 7 refers. With the method shown thus far, the reader can open the link to access this information, but that still interrupts the flow of reading. The digitally native solution is a mouse-over or tooltip effect that displays this information, as many professional publishers already use in their HTML versions.&lt;/p&gt;
&lt;p&gt;Once again, this is straight forward to support using the knitcitations package, at least for sites that include the popular &lt;a href=&quot;http://twitter.github.com/bootstrap&quot;&gt;bootstrap&lt;/a&gt; javascript libraries, such as this notebook. I have added an option to the in-text citation functions to provide such tooltips in a span element, such that calling the command&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;showtooltip&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; title=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;Shotton D (2010). &amp;quot;Cito, The Citation Typing Ontology.&amp;quot; _Journal of&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;Biomedical Semantics_, *1*. ISSN 2041-1480, &lt;/span&gt;&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;URL:&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&amp;gt;.&amp;#39;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;http://purl.org/spar/cito/usesMethodIn&amp;#39;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Shotton (2010)&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This behavior can be toggled on by calling&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;cite_options&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;tooltip=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;after loading the knitcitations library. &lt;strong&gt;EDIT&lt;/strong&gt;: Note that this requires the javascript trigger on the class &lt;code&gt;showtooltip&lt;/code&gt;, which can be done by adding this to your header:&lt;/p&gt;
&lt;pre class=&quot;js&quot;&gt;&lt;code&gt;    &amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
      $(document).ready(function (){
        $(&amp;quot;.showtooltip&amp;quot;).tooltip();
      });
    &amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;citing-without-dois&quot;&gt;Citing without DOIs&lt;/h3&gt;
&lt;p&gt;Not all the literature we may wish to cite includes DOIs, such as &lt;a href=&quot;http://arxiv.org&quot;&gt;arXiv&lt;/a&gt; preprints, Wikipedia pages, or other academic blogs. Even when a DOI is present it is not always trivial to locate. With version 0.4-0, knitcitations can produce citations given any URL using the &lt;a href=&quot;http://greycite.knowledgeblog.org&quot;&gt;Greycite API&lt;/a&gt; (&lt;span class=&quot;showtooltip&quot; title=&quot;Lord P (2012). Greycite. 
http://knowledgeblog.org/greycite [Online. last-accessed:
2012-10-10 13:36:24].  http://knowledgeblog.org/greycite.&quot;&gt;&lt;a href=&quot;http://knowledgeblog.org/greycite&quot; rel=&quot;http://purl.org/spar/cito/usesMethodIn&quot; &gt;Lord, 2012&lt;/a&gt;&lt;/span&gt;). For instance, this citation is created with the command &lt;code&gt;citep(&amp;quot;http://knowledgeblog.org/greycite&amp;quot;, cito=&amp;quot;usesMethodIn&amp;quot;)&lt;/code&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/21/notes.html"/>
   <updated>2013-02-21T00:00:00-08:00</updated>
   <id>h/2013/02/21/notes</id>
   <content type="html">&lt;h2 id=&quot;applied-math-club-meeting&quot;&gt;Applied Math Club meeting&lt;/h2&gt;
&lt;p&gt;(See reading material from &lt;a href=&quot;/2013/02/19/notes.html&quot;&gt;Tuesday&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Start with stable age distribtution (indep of stock-recrutiment)&lt;/li&gt;
&lt;li&gt;Consider the &lt;em&gt;Entropy&lt;/em&gt; of that probability distribution, as function of mortality, by max age&lt;/li&gt;
&lt;li&gt;Now consider the same for fecundity: the fraction/density of the population von Bertalanffy growth (fecundity)&lt;/li&gt;
&lt;li&gt;effective mortality rate - mortality rate in an unfished population, distributed with same entropy as the fished population,&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kullback-Leibler distance to measure fishing influence?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Mutual information and the design of surveys?&lt;/li&gt;
&lt;li&gt;(information in catch data?)&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bonsall: Information content of global dynamics from individual patch dynamics?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nceas.ucsb.edu/news/nceas-summer-institute-2013&quot;&gt;NCEAS Summer Institute&lt;/a&gt; for data synthesis. Intriguing.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Is there information in catch data: a comment piece highlighting the debate with Pauly on the affermative and Hilborn &amp;amp; Branch on the negative, (&lt;a href=&quot;http://dx.doi.org/10.1038/494303a&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Pauly &lt;em&gt;et. al.&lt;/em&gt; 2013&lt;/a&gt;) and editoral commentary (&lt;a href=&quot;http://dx.doi.org/10.1038/494282a&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;unknown, 2013&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking over this approximate dynamic programming (ADP) paper in MEE, &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2012.00242.x&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Schapaugh &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;. Possibly promising. I need to map out the space of ADP approaches and advantages/disadvantages a little more to get a better impression.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2012.00242.x&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Schapaugh &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt;: A new method for ADP? Or maybe not so new? see: &lt;a href=&quot;http://www.cs.rutgers.edu/~lihong/pub/Li06Towards.pdf&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;&lt;/a&gt;, &lt;em&gt;Towards a unified theory of state abstraction for MDPs&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cute analysis on malaria as branching process in policy forum piece in Science (with Alex’s mentor) &lt;a href=&quot;http://dx.doi.org/10.1126/science.1229509&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Chiyaka &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And following up on today’s chats about information theory, a neat paper from Marc &lt;a href=&quot;http://dx.doi.org/10.1111/jeb.12010&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Frank (2012)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and making the rounds on the blogosphere bashing MAXENT, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1541-0420.2012.01824.x&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Renner &amp;amp; Warton (2013)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div prefix=&quot;dc: http://purl.org/dc/terms/,
                      bibo: http://purl.org/ontology/bibo/,
                      foaf: http://xmlns.com/foaf/spec/,
                      biro: http://purl.org/spar/biro/&quot;
        rel=&quot;http://purl.org/spar/biro/ReferenceList&quot;&gt; &lt;ul class='bibliography'&gt; 
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;The Stability of Malaria Elimination.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;C.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Chiyaka&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;A. J.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Tatem&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;J. M.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Cohen&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;P. W.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Gething&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;G.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Johnston&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;R.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Gosling&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;R.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Laxminarayan&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;S. I.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Hay&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;D. L.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Smith&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Science &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Science &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;339&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1126/science.1229509&quot;&gt;10.1126/science.1229509&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Natural Selection. V. How to Read The Fundamental Equations of Evolutionary Change in Terms of Information Theory.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;S. A.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Frank&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2012&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Journal of Evolutionary Biology &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Journal of Evolutionary Biology &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;25&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1111/jeb.12010&quot;&gt;10.1111/jeb.12010&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Fisheries: Does Catch Reflect Abundance?.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Daniel&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Pauly&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Ray&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Hilborn&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Trevor A.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Branch&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Nature &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Nature &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;494&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1038/494303a&quot;&gt;10.1038/494303a&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Equivalence of Maxent And Poisson Point Process Models For Species Distribution Modeling in Ecology.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Ian W.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Renner&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;David I.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Warton&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Biometrics &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Biometrics &lt;/span&gt; &lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1111/j.1541-0420.2012.01824.x&quot;&gt;10.1111/j.1541-0420.2012.01824.x&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;A Simple Method For Dealing With Large State Spaces.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Adam W.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Schapaugh&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Andrew J.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Tyre&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Robert&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Freckleton&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2012&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Methods in Ecology And Evolution &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Methods in Ecology And Evolution &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;3&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2012.00242.x&quot;&gt;10.1111/j.2041-210X.2012.00242.x&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot;  &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; &lt;/span&gt; &lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/&quot;&gt;&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Net Gains.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;unknown&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;unknown&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Nature &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Nature &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;494&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1038/494282a&quot;&gt;10.1038/494282a&lt;/a&gt;
&lt;/li&gt;
 &lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;NULL&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Seminar Notes</title>
   <link href="/2013/02/20/seminar-notes.html"/>
   <updated>2013-02-20T00:00:00-08:00</updated>
   <id>h/2013/02/20/seminar-notes</id>
   <content type="html">&lt;h2 id=&quot;leo-polansky-seminar&quot;&gt;Leo Polansky Seminar&lt;/h2&gt;
&lt;p&gt;(all notes cover published results only)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wavelet analysis does a nice trick of seeing frequency-domain spectra change over time, rather than being entirely in frequency space or entirely in time space.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;higher rank elephants decrease their movement more in dry, resource-poor season than low rank. Guarding the good territory? I wonder if this is a stochastic effect - asset protection, where you take more risk when you have low assets than when you have higher assets, a feature that would dissappear in a deterministic environment.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Nice hidden markov model analysis from the mhsmm package.&lt;/li&gt;
&lt;li&gt;movement time series – high impact public data or closely guarded secret? (top secret)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;michael-bonsall&quot;&gt;Michael Bonsall&lt;/h2&gt;
&lt;p&gt;(Seminar to the Mangel megagroup meeting)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uncertainty and variability in population dynamics. Mike uses the very words I’ve used to describe my interests: dynamic, nonlinear, and noisy.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;blasocyst-dynamics&quot;&gt;Blasocyst Dynamics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Development of mammalian blastocyst much more messy/complicated than development in other taxa. heterogeneity in timing&lt;/li&gt;
&lt;li&gt;Begins with ODE model with time lags (to avoid poisson waiting times). Then add a distribution over the time lag.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Invasion analysis of cell types differing in time. Widening distribution of time lags increases fitness. &lt;em&gt;Interesting! But intuition/mechanism unclear&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Now add process noise, observation error and priors on parameters to compare model to data. Variability can be explained entirely by differences in rates. (as estimated from a particle filter). &lt;em&gt;Identifiability?&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;bruchid-dynamics&quot;&gt;Bruchid Dynamics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Spatial dynamics with beatles and their parasitic wasps.&lt;/li&gt;
&lt;li&gt;Beautiful microcosm setup that follows Nicholson-Bailey dynamics.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Within patch dynamics show regimes.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Consider stochastic birth-death-diffusion model&lt;/li&gt;
&lt;li&gt;Stochastic focusing / demographic heterogeneity observed&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;bipolar-disorder-dynamics&quot;&gt;Bipolar disorder dynamics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;(Inductive example)&lt;/li&gt;
&lt;li&gt;EM algorithm for missing values in time lag model&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-activities-today&quot;&gt;Other activities today&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;working on nominations&lt;/li&gt;
&lt;li&gt;ropensci sustainability plan (see email threads),&lt;/li&gt;
&lt;li&gt;also see the Conceptualizing an Institute for Sustainable Earth and Environmental Software (ISEES), http://isees.nceas.ucsb.edu/&lt;/li&gt;
&lt;li&gt;friendly review phylolm package and preprint&lt;/li&gt;
&lt;li&gt;summarizing reimbursement form&lt;/li&gt;
&lt;li&gt;updated issues lists for notebook&lt;/li&gt;
&lt;li&gt;Bonsall speaker dinner&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-reading&quot;&gt;Further reading&lt;/h2&gt;
&lt;p&gt;Following up on discussions today, seemed like a good time to reread:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bonsall, M. B. &amp;amp; Hastings, A. 2004 Demographic and environmental stochasticity in predator – prey metapopulation dynamics. , 1043–1055. (doi:10.1111/j.0021-8790.2004.00874.x)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also taking a look at the ‘stochastic focusing’ literature. Unclear if the term has caught on much beyond Paulsson and co. though.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Paulsson, J., Berg, O. G. &amp;amp; Ehrenberg, M. 2000 Stochastic focusing: fluctuation-enhanced sensitivity of intracellular regulation. Proceedings of the National Academy of Sciences of the United States of America 97, 7148–53. (doi:10.1073/pnas.110057697)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/19/notes.html"/>
   <updated>2013-02-19T00:00:00-08:00</updated>
   <id>h/2013/02/19/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Fixed notebook compile error, and adjusted timeouts on pageviews / google-analytics API&lt;/li&gt;
&lt;li&gt;Some minor fixes in knitcitations (thanks to another user bug report). &lt;a href=&quot;https://github.com/cboettig/knitcitations/blob/a717b5a3568db7e0f8b1a49cafb1e242bbef2fbe/NEWS&quot;&gt;NEWS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Accepted TE review request; better finish up ENMO review soon.&lt;/li&gt;
&lt;li&gt;Generating data tables for published figures for Dryad (from prosecutor’s fallacy). &lt;a href=&quot;http://dx.doi.org/10.5061/dryad.2k462&quot;&gt;Data in Dryad&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;applied-math-club-reading&quot;&gt;Applied Math club reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;with Marc and Mike Bonsall on Thurs, reading:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Strevens, C. M. J. &amp;amp; Bonsall, M. B. 2011 Density-dependent population dynamics and dispersal in heterogeneous metapopulations. The Journal of animal ecology 80, 282–93. (doi:10.1111/j.1365-2656.2010.01768.x)&lt;/li&gt;
&lt;li&gt;Cover, T. M. &amp;amp; Thomas, J. A. 2006 Elements of Information Theory. Second. Hoboken, NJ, USA: John Wiley &amp;amp; Sons, Inc.&lt;/li&gt;
&lt;li&gt;Liepe, J., Filippi, S., Komorowski, M. &amp;amp; Stumpf, M. P. H. 2013 Maximizing the Information Content of Experiments in Systems Biology. PLoS Computational Biology 9, e1002888. (doi:10.1371/journal.pcbi.1002888)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Silk, H., Demirel, G., Homer, M. &amp;amp; Gross, T. 2013 Exploring network dynamics with a mathematical triple jump. (Arxiv)&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Lade, S. J., Tavoni, A., Levin, S. A. &amp;amp; No, W. P. 2013 Regime shifts in a social-ecological system Centre for Climate Change Economics and Policy. preprint&lt;/li&gt;
&lt;li&gt;Torney, C. J., Levin, S. a. &amp;amp; Couzin, I. D. 2013 Decision Accuracy and the Role of Spatial Interaction in Opinion Dynamics. Journal of Statistical Physics (doi:10.1007/s10955-013-0700-5)&lt;/li&gt;
&lt;li&gt;Wang, S. &amp;amp; Campbell, B. C. 2013 Mr. Bayes Goes to Washington. Science 339, 758–759. (doi:10.1126/science.1232290)&lt;/li&gt;
&lt;li&gt;Kiernan, V. 2003 Diffusion of News about Research. Science Communication 25, 3–13. (doi:10.1177/1075547003255297) Interesting one of few papers discussing the role coverage in popular media has on citations&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/14/notes.html"/>
   <updated>2013-02-14T00:00:00-08:00</updated>
   <id>h/2013/02/14/notes</id>
   <content type="html">&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;consolidate and revise EWS text(?)&lt;/li&gt;
&lt;li&gt;replies to Luke and Brian on model choice&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notebook-meta&quot;&gt;Notebook meta&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fix google-analytics plugin (still needs to get toggle working?)&lt;/li&gt;
&lt;li&gt;tests of notebook-parsing.Rmd. New errors on &lt;code&gt;;&lt;/code&gt; somehow in straight XML parsing, ignoring for the moment.&lt;/li&gt;
&lt;li&gt;Opened a few new issues around improving site semantics. (#59, #60)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;ropensci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Resubmit rfishbase – silently load to local, not global namespace. Updated data cache (and ASCII-ify and compress).&lt;br /&gt;Also replaced &lt;code&gt;data&lt;/code&gt; loading with &lt;code&gt;system.file(&amp;quot;data&amp;quot;, &amp;quot;fishbase.rda&amp;quot;, package=&amp;quot;fishbase&amp;quot;)&lt;/code&gt;. ASCII-only .rda is very annoying. Should work around this with alternative data file?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Resubmit rfigshare – punt on 3.0.0 compatible vignette for the moment&lt;/li&gt;
&lt;li&gt;&lt;p&gt;knitcitations: Fix the stupid disambiguation for inline citations (took way too long).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Brandt, G. &amp;amp; Merico, A. 2013 Tipping points and user-resource system collapse in a simple model of evolutionary dynamics. Ecological Complexity (doi:10.1016/j.ecocom.2012.12.003)&lt;/li&gt;
&lt;li&gt;Cuddington, K., Fortin, M. &amp;amp; Gerber, L. 2013 Process-based models are required to manage ecological systems in a changing world. Ecosphere 4, 1–12. (doi:10.1890/ES12-00178.1)&lt;/li&gt;
&lt;li&gt;Reiner, R. C. et al. 2013 A systematic review of mathematical models of mosquito-borne pathogen transmission: 1970-2010. Journal of The Royal Society Interface 10, 20120921–20120921. (doi:10.1098/rsif.2012.0921)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/13/notes.html"/>
   <updated>2013-02-13T00:00:00-08:00</updated>
   <id>h/2013/02/13/notes</id>
   <content type="html">&lt;h3 id=&quot;ropensci&quot;&gt;ropensci&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rfishbase: 0.1-1 released to CRAN: bugfix updating server address. (Broke &lt;code&gt;updateCache()&lt;/code&gt;). See &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/NEWS&quot;&gt;NEWS&lt;/a&gt; for details.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;rfigshare: 0.2-4 released to CRAN: added method to remove attached files (issue &lt;a href=&quot;https://github.com/ropensci/rfigshare/issues/42&quot;&gt;#42&lt;/a&gt;), see &lt;a href=&quot;https://github.com/ropensci/rfigshare/blob/master/NEWS&quot;&gt;NEWS&lt;/a&gt; for details&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My reply to John on Prosecutor’s Fallacy piece.&lt;/li&gt;
&lt;li&gt;Thinking about a better way to provide convenient, stable access to code and data. Should provide csv versions of data.table outputs used to create each of the figures. Could by Dryad archived.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;reading&quot;&gt;Reading&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Deyle, E. R. &amp;amp; Sugihara, G. 2011 Generalized theorems for nonlinear state space reconstruction. PloS one 6, e18295. (doi:10.1371/journal.pone.0018295)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brock, W., Xepapadeas, A. &amp;amp; Yannacopoulos, A. 2013 Robust Control of a Spatially Distributed Commercial Fishery. (preprint)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Costello, C., Ovando, D., Hilborn, R., Gaines, S. D., Deschenes, O. &amp;amp; Lester, S. E. 2012 Status and solutions for the world’s unassessed fisheries. Science (New York, N.Y.) 338, 517–20. (doi:10.1126/science.1223389)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2013/02/12/notes.html"/>
   <updated>2013-02-12T00:00:00-08:00</updated>
   <id>h/2013/02/12/notes</id>
   <content type="html">&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working on nonparametric-bayes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Interesting PNAS comment from &lt;a rel=&quot;http://purl.org/spar/cito/discusses&quot;, href=&quot;http://dx.doi.org/10.1073/pnas.1222736110&quot;&gt;Doney &amp;amp; Sailley, (2013)&lt;/a&gt; (“When an ecological regime shift is really just stochastic noise”) on the &lt;a rel=&quot;http://purl.org/spar/cito/discusses&quot;, href=&quot;http://dx.doi.org/10.1073/pnas.1218022110&quot;&gt;Di Lorenzo &amp;amp; Ohman, (2013)&lt;/a&gt; piece in the same issue, showing that time integrated zooplankton data correlates closely with environmental drivers: in this case, the pacific decadal oscillation (PDO) index, which would be missed by the traditional approach of direct correlations. This refutes the previous explanation of such shifts observed in the krill populations as being driven by nonlinear ecological interactions, rather than merely linearly tracking the environment (&lt;a rel=&quot;http://purl.org/spar/cito/refutes&quot;, href=&quot;http://dx.doi.org/10.1016/S0079-6611(00)00033-1&quot;&gt;(Hare &amp;amp; Mantua, 2000)&lt;/a&gt;). While there is some mention of how this may complicate traditional assumptions of warning signals, they do not remark on the obvious converse that the integral data may be more informative of detecting such shifts (whether or not they are tracking some abiotic dynamics).&lt;/p&gt;
&lt;p&gt;In a related vein in the same issue is &lt;a rel=&quot;http://purl.org/spar/cito/discusses&quot;, href=&quot;http://dx.doi.org/10.1073/pnas.1215508110&quot;&gt;Liu &lt;em&gt;et. al.&lt;/em&gt; (2013)&lt;/a&gt;, discussing their algorithm for inferring complex dynamics from limited observations. Seems to do a poor job of putting the method into context of the suite of related approaches to addressing this problem (hidden Markov models, POMDP, etc), let alone directly comparing to them, which makes for a somewhat frustrating read. Still, could be a gem in the method I haven’t had a chance to dig into.&lt;/p&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;ropensci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/sandbox/blob/b5fc66ddfa690416a3d10c299f3245fe6e660416/testcache/inst/doc/example.md&quot;&gt;Example of caching for authentication&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Finalize scoring, replies to &lt;a href=&quot;http://ropensci.org/open-science-challenge/&quot;&gt;challenge&lt;/a&gt; participants&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;div prefix=&quot;dc: http://purl.org/dc/terms/,
                      bibo: http://purl.org/ontology/bibo/,
                      foaf: http://xmlns.com/foaf/spec/,
                      biro: http://purl.org/spar/biro/&quot;
        rel=&quot;http://purl.org/spar/biro/ReferenceList&quot;&gt; &lt;ul class='bibliography'&gt; 
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;From The Cover: A Double-Integration Hypothesis to Explain Ocean Ecosystem Response to Climate Forcing.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;E.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Di Lorenzo&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;M. D.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Ohman&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Proceedings of The National Academy of Sciences &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Proceedings of The National Academy of Sciences &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;110&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1073/pnas.1218022110&quot;&gt;10.1073/pnas.1218022110&lt;/a&gt;
&lt;/li&gt;
&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;When an Ecological Regime Shift is Really Just Stochastic Noise.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;S. C.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Doney&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;S. F.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Sailley&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Proceedings of The National Academy of Sciences &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Proceedings of The National Academy of Sciences &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;110&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1073/pnas.1222736110&quot;&gt;10.1073/pnas.1222736110&lt;/a&gt;
&lt;/li&gt;

&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Observability of Complex Systems.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Y.-Y.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Liu&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;J.-J.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Slotine&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;A.-L.&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Barabasi&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2013&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Proceedings of The National Academy of Sciences &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Proceedings of The National Academy of Sciences &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;110&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1073/pnas.1215508110&quot;&gt;10.1073/pnas.1215508110&lt;/a&gt;
&lt;/li&gt;

&lt;li&gt; 
&lt;span property=&quot;dc:title&quot;&gt;Empirical Evidence For North Pacific Regime Shifts in 1977 And 1989.&lt;/span&gt; &lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Steven R&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Hare&lt;/span&gt;, &lt;/span&gt;&lt;span property=&quot;dc:creator&quot;&gt; &lt;span property=&quot;foaf:givenName&quot;&gt;Nathan J&lt;/span&gt; &lt;span property=&quot;foaf:familyName&quot;&gt;Mantua&lt;/span&gt;, &lt;/span&gt; (&lt;span property=&quot;dc:date&quot;&gt;2000&lt;/span&gt;) &lt;span rel=&quot;http://purl.org/dc/terms/isPartOf&quot; 
                            resource=&quot;[http://purl.org/dc/terms/journal]&quot;&gt; &lt;span property=&quot;http://purl.org/dc/terms/title&quot;
                                content=&quot; Progress in Oceanography &quot;&gt; &lt;/span&gt; &lt;span property=&quot;bibo:shortTitle&quot;&gt; Progress in Oceanography &lt;/span&gt; &lt;/span&gt; &lt;span property=&quot;bibo:volume&quot;&gt;47&lt;/span&gt; &lt;a property=&quot;bibo:doi&quot; href=&quot;http://dx.doi.org/10.1016/S0079-6611(00)00033-1&quot;&gt;10.1016/S0079-6611(00)00033-1&lt;/a&gt;
&lt;/li&gt;


&lt;/ul&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Ews Review Paper Chat</title>
   <link href="/2013/02/11/ews-review-paper-chat.html"/>
   <updated>2013-02-11T00:00:00-08:00</updated>
   <id>h/2013/02/11/ews-review-paper-chat</id>
   <content type="html">&lt;h2 id=&quot;skype-with-alan-and-noam-on-ews&quot;&gt;Skype with Alan and Noam on EWS&lt;/h2&gt;
&lt;ul&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/11&quot;&gt;Expand section on statistical power and noise (following draft of Alan’s intro)&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/10&quot;&gt;Flush out unfinished sections in main body&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/9&quot;&gt;Write discussion (after intro is done)&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/8&quot;&gt;Discussion with Alan - misc notes&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/7&quot;&gt;edit introduction&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/6&quot;&gt;Schreiber figure&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/5&quot;&gt;Kefi figure&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/4&quot;&gt;Venn Diagram figure should have numbers corresponding to the references that examine each area&lt;/a&gt;
&lt;/li&gt;&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/ews-review/issues/3&quot;&gt;Finalize edits before sending for internal review&lt;/a&gt;
&lt;/li&gt;&lt;/ul&gt;


&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Some &lt;a href=&quot;https://github.com/cboettig/knitcitations/commits?author=cboettig&quot;&gt;updates to knitcitations&lt;/a&gt; addressing special cases.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Re-organized methods section to &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes&quot;&gt;nonparametric-bayes&lt;/a&gt; manuscript.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Updates Across Various Projects</title>
   <link href="/2013/02/04/updates-across-various-projects.html"/>
   <updated>2013-02-04T00:00:00-08:00</updated>
   <id>h/2013/02/04/updates-across-various-projects</id>
   <content type="html">&lt;p&gt;At home after birth of Edward since Jan 19th, leaving little time for research. Assembled notes from a few side projects I’ve moved forward in the wee hours. Covers the past several days.&lt;/p&gt;
&lt;h2 id=&quot;xml-and-rdfa-parsing&quot;&gt;XML and RDFa parsing&lt;/h2&gt;
&lt;p&gt;I have been using the lab notebook to explore technology for scientific communication, including making use of semantic and linked data concepts. To illustrate some of the potential these tools can offer I’ve started working on a short post with examples parsing and exploring the XML and RDFa data in the notebook. Still forthcoming. The &lt;a href=&quot;http://any23.org&quot;&gt;any23&lt;/a&gt; API provides a great tool for this (particularly RDFa to RDF XML, where we can then take full advantage of xpath tools on the semantics).&lt;/p&gt;
&lt;h2 id=&quot;other-notebook-updates&quot;&gt;Other notebook updates&lt;/h2&gt;
&lt;p&gt;MathML: Can have Pandoc render source in MathML and MathJax will still perform the HTML rendering in all browsers. Unfortunately, certain commands seem not to parse in this mode that do parse in Pandoc mathjax mode (e.g. those with &lt;code&gt;operatorname&lt;/code&gt; in 2012-11-01 post).&lt;/p&gt;
&lt;p&gt;Updated timeout setting on twitter plugin. &lt;a href=&quot;https://github.com/cboettig/labnotebook/commit/0cb7a11247d3dd4ca040ed156a63b6a5d2197bf7&quot;&gt;0cb7a11&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;pdg-control-follow-up&quot;&gt;PDG Control Follow-up&lt;/h2&gt;
&lt;p&gt;Skype with Paul for follow-up on third working group meeting. Key steps forward on policy costs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;All comparisons should be with reference to total value/profit of the strategy, rather than induced cost. Then compare against induced values directly. (Issue #35)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Quadratic costs should appear in supplement only (Issue #45)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Real-world context framing worked out. (Issue #39)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These and further details are listed in &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?direction=desc&amp;amp;labels=policy+costs&amp;amp;page=1&amp;amp;sort=created&amp;amp;state=open&quot;&gt;issues tracker&lt;/a&gt; for the project.&lt;/p&gt;
&lt;h2 id=&quot;updates-to-knitcitations&quot;&gt;Updates to knitcitations&lt;/h2&gt;
&lt;h3 id=&quot;v0.3-3&quot;&gt;v0.3-3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Added a new display option, &lt;code&gt;bibliography('markdown')&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;fixed BUG in the printing of the text-based name in bibliography for bibstyle-based calls&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;v0.3-2&quot;&gt;v0.3-2&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Semantic citations now enabled. &lt;code&gt;bibliography&lt;/code&gt; can print with method ‘rdfa’ to provide RDFa enhanced HTML bibliography data, and citations can take cito arguments as an option. (Closes issues #16 and #17)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bibliography&lt;/code&gt; now takes more options to match the &lt;code&gt;bibstyle&lt;/code&gt; and &lt;code&gt;print.bibentry&lt;/code&gt; functions.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;citet&lt;/code&gt; and &lt;code&gt;citep&lt;/code&gt; take an optional argument for formating the citation, defaulting to &lt;code&gt;authoryear&lt;/code&gt; format. Future versions may move this into an option.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;newbib()&lt;/code&gt; function initializes and clears existing cache files.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;README.md updated with semantic examples and more background text (generated by inst/examples/README.Rmd).&lt;/li&gt;
&lt;li&gt;Some basic unit tests built in. Could use more, but meanwhile closes #8.&lt;/li&gt;
&lt;li&gt;Test cases work with knit2html button in RStudio, closes #14&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;v0.3-1&quot;&gt;v0.3-1&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Switched to handling citation data using environment rather than an external bibfile. This does not refer to the handling of user-provided bibtex files as input data, which are supported as before, but changes only the backend management of that data. The external bibtex file method can be switched back on by setting &lt;code&gt;options(&amp;quot;bibtex_data&amp;quot; = TRUE)&lt;/code&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;There is no need to call &lt;code&gt;print(bibliography, &amp;quot;html&amp;quot;)&lt;/code&gt;, one can simply call &lt;code&gt;bibliography()&lt;/code&gt; or &lt;code&gt;bibliography(&amp;quot;html&amp;quot;)&lt;/code&gt;. Sort is still an option, other options that were for internal use (&lt;code&gt;debug&lt;/code&gt;, &lt;code&gt;remove_duplicates&lt;/code&gt;) are removed as they are no longer necessary.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Several new functions have been added to handle the new methods.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;v0.2-0&quot;&gt;v0.2-0&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fix vignette error that prevents knitr 1.0 submission&lt;/li&gt;
&lt;li&gt;Fixed errors on installing package and lack of entries in bibliography&lt;/li&gt;
&lt;li&gt;Semantic print option added but still in early testing&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;O’Dwyer, J. P. &amp;amp; Green, J. L. 2010 Field theory for biogeography: a spatially explicit model for predicting patterns of biodiversity. Ecology letters 13, 87–95. (doi:10.1111/j.1461-0248.2009.01404.x)&lt;/li&gt;
&lt;li&gt;Stewart, E. C. A., Almes, G. T., Mccaulay, D. S. &amp;amp; Bradley, C. 2009 Cyberinfrastructure Software Sustainability and Reusability : Report from an NSF-funded workshop Report from an NSF-funded workshop held 27 and 28 March 2009.&lt;/li&gt;
&lt;li&gt;Ingram, T. &amp;amp; Mahler, D. L. 2013 SURFACE: detecting convergent evolution from comparative data by fitting Ornstein-Uhlenbeck models with stepwise AIC. Methods in Ecology and Evolution , 1–25. (doi:10.1111/2041-210X.12034)&lt;/li&gt;
&lt;li&gt;Shelton, A. &amp;amp; Munch, S. 2012 Maternal age, fecundity, egg quality, and recruitment: linking stock structure to recruitment using an age-structured Ricker model. Canadian Journal of … 1641, 1631–1641. (doi:10.1139/F2012-082)&lt;/li&gt;
&lt;li&gt;Regan, T. J., Chadès, I. &amp;amp; Possingham, H. P. 2011 Optimally managing under imperfect detection: a method for plant invasions. Journal of Applied Ecology 48, 76–85. (doi:10.1111/j.1365-2664.2010.01915.x)&lt;/li&gt;
&lt;li&gt;Gewin, V. 2013 Turning point: Carl Boettiger. Nature 493, 711–711. (doi:10.1038/nj7434-711a)&lt;/li&gt;
&lt;li&gt;Nicol, S. &amp;amp; Chadès, I. 2012 Which states matter? An application of an intelligent discretization method to solve a continuous POMDP in conservation biology. PloS one 7, e28993. (doi:10.1371/journal.pone.0028993)&lt;/li&gt;
&lt;li&gt;McDonald-Madden, E., Chadès, I., McCarthy, M. a, Linkie, M. &amp;amp; Possingham, H. P. 2011 Allocating conservation resources between areas where persistence of a species is uncertain. Ecological applications : a publication of the Ecological Society of America 21, 844–58.&lt;/li&gt;
&lt;li&gt;Krell 2011 The U.S. Department of Energy Computational Science Graduate Fellowship 1991-­‐2011: Recipient Outcomes and Programmatic Impacts.&lt;/li&gt;
&lt;li&gt;Dougherty, D. T., Hilborn, R., Punt, A. E. &amp;amp; Stewart, I. J. 2013 Modeling co-occurring species : a simulation study on the effects of spatial scale for setting management targets. 8, 1–8.&lt;/li&gt;
&lt;li&gt;Chadès, I., Martin, T. G., Nicol, S., Burgman, M. a, Possingham, H. P. &amp;amp; Buckley, Y. M. 2011 General rules for managing and surveying networks of pests, diseases, and endangered species. Proceedings of the National Academy of Sciences of the United States of America 108, 8323–8. (doi:10.1073/pnas.1016846108)&lt;/li&gt;
&lt;li&gt;Chad, I., Carwardine, J., Martin, T. G. &amp;amp; Nicol, S. In press. MOMDPs : A Solution for Modelling Adaptive Management Problems. , 267–273.&lt;/li&gt;
&lt;li&gt;Kapaun, U. &amp;amp; Quaas, M. 2012 Does the optimal size of a fish stock increase with environmental uncertainties?&lt;/li&gt;
&lt;li&gt;Mattmann, C. A. 2013 Computing: A vision for data science. Nature 493, 473–5. (doi:10.1038/493473a)&lt;/li&gt;
&lt;li&gt;Seekell, D. a., Cline, T. J. &amp;amp; Winchcombe, R. J. 2013 Can Management Reduce Harvest Inequality in Recreational Fisheries? North American Journal of Fisheries Management 33, 148–152. (doi:10.1080/02755947.2012.746246)&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Data Uris For Image Archives</title>
   <link href="/2013/01/24/Data-URIs-for-image-archives.html"/>
   <updated>2013-01-24T00:00:00-08:00</updated>
   <id>h/2013/01/24/Data-URIs-for-image-archives</id>
   <content type="html">&lt;p&gt;Figures have been one of the standing challenges of the open notebook. Displaying figures online requires that they are first uploaded to a server somewhere. Recently I have used automated uploads to external servers such as figshare to host all images generated in the course of my research, and simply point to those graphs which I wish to include in a notebook page using an image link. Unfortunately, this means that the images themselves are not being permanently archived when I deposit my notebook entries into their annual archives on figshare. (Because figshare provides objects with unique identifier DOIs and benefits from &lt;a href=&quot;http://clockss.org&quot;&gt;CLOCKSS&lt;/a&gt; archival preservation, I use it to ensure a permanent backup of the notebook contents is available). I’ve recently discovered Data URIs, which provide a way to embed the image data directly into HTML (or markdown) entries. I am trying to decide if they offer a better way to address this challenge, so working through my thinking here.&lt;/p&gt;
&lt;h2 id=&quot;history-of-figure-management-in-the-notebook&quot;&gt;History of Figure management in the notebook&lt;/h2&gt;
&lt;p&gt;When I first started an open online notebook on the MediaWiki platform &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger&quot;&gt;OpenWetWare&lt;/a&gt;, I simply uploaded all images manually to the wiki. Soon I discovered that it was much easier to upload them programmatically. To accomplish this, I used Flickr as the image hosting service. Flickr gave me a few convenient tools like batch uploads, pre-sized images and slide-shows for embedding. More conveniently, Flickr allowed me to automate the uploading of images through the API. Using the API in my R scripts I could &lt;a href=&quot;http://www.carlboettiger.info/2010/12/10/socialr-an-r-package-to-track-the-status-of-computations-with-social-network-tools.html&quot;&gt;automate uploading&lt;/a&gt; of the figures as they were created when scripts were run. This integration became easier with my adoption of &lt;code&gt;knitr&lt;/code&gt;, which has the option to automatically upload images built in (using imgur.com). I soon extended this to &lt;a href=&quot;http://www.carlboettiger.info/2012/02/28/knitr-with-flickr-and-wordpress.html&quot;&gt;use Flickr or Wordpress&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;challenges-of-linked-images&quot;&gt;Challenges of linked images&lt;/h2&gt;
&lt;p&gt;While this simplified the workflow considerably, it does not lend itself to archiving content well. Since &lt;a href=&quot;http://www.carlboettiger.info/2012/09/19/migrating-from-wordpress-to-jekyll.html&quot;&gt;migrating to Jekyll&lt;/a&gt;, it is relatively straight forward to archive the notebook entry by entry in markdown format, without all the external web content for the appearance. Unfortunately, with images linked in from Flickr and other external hosting services are not included in this way. Even archiving the entire HTML source for the site doesn’t help, since the figures are on a remote repository. When I migrated my OWW and Wordpress notebooks to Jekyll, the image links remained pointing to OWW or Flickr or wherever the images were originally uploaded. Should Flickr vanish (as Delicious effectively did), the images would be lost. The copies of the notebook entries I &lt;a href=&quot;http://figshare.com/authors/Carl%20Boettiger/96387&quot;&gt;deposit on figshare&lt;/a&gt; only have the links to these entries, not the entries themselves. Even if the images were copied over, the entry would still point to the original URL, not the copy. To address this, I started &lt;a href=&quot;http://www.carlboettiger.info/2012/11/30/Note-on-notebook-figures.html&quot;&gt;archiving the images locally&lt;/a&gt;. This removed the external dependency and kept everything together so that it could be archived in a way that preserved the link structure, but has its own drawbacks.&lt;/p&gt;
&lt;p&gt;As I do far more runs of the scripts then I post to the notebook (though most of these can be found in the Github links), the image archive is much larger than what images are actually included in the notebook. Another issue is that the notebook source files are all conveniently managed with git and stored on Github, so storing the images locally involves explicitly excluding the image files which are both much larger and as binaries not ideal for version management.&lt;/p&gt;
&lt;h2 id=&quot;data-uris&quot;&gt;Data URIs&lt;/h2&gt;
&lt;p&gt;The simple solution is to avoid linking the images externally, but instead embed the image data directly into the notebook entry. &lt;a href=&quot;http://en.wikipedia.org/wiki/Data_URI_scheme&quot;&gt;Data URIs&lt;/a&gt; do exactly that, encoding all the image as part of the link url following a declaration of MIME type, such as&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;img&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUA&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;9TXL0Y4OHwAAAABJRU5ErkJggg==&amp;quot;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Image data URIs are usually introduced to reduce the load and waiting time on the server, which has to query each external image separately (CSS sprites are a more effective way to accomplish that goal; which is what I use for the icons on this site). They are also convenient for generating stand-alone HTML files, in which the externally linked data sources, such as images, CSS, etc, are encoded as 64bit data strings.&lt;/p&gt;
&lt;h2 id=&quot;generating-uris&quot;&gt;Generating URIs&lt;/h2&gt;
&lt;p&gt;Given an image, we can generate the data URI using the &lt;code&gt;knitr&lt;/code&gt; function &lt;code&gt;image_uri(&amp;quot;image_name.png&amp;quot;)&lt;/code&gt;. Knitr also supports data URIs as directly as an image output option, in just the same way that one would specify a custom upload function, using the command&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload.fun =&lt;/span&gt; image_uri)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pandoc can also generate HTML with data URIs for images in place of the remote image links using the &lt;code&gt;--self-contained&lt;/code&gt; option, where it will download all the external images and encode them. This may be the best strategy for creating archival versions of entries for figshare, etc. Unfortunately the conversion is not available when running markdown to markdown, but can be effected using markdown to HTML, and then back. The only downside of this approach is that the yaml header formatting is lost, and the output markdown used is Pandoc’s flavor.&lt;/p&gt;
&lt;h2 id=&quot;difficulties-of-data-uris&quot;&gt;Difficulties of Data URIs&lt;/h2&gt;
&lt;h3 id=&quot;not-displayed-in-github-markdown&quot;&gt;Not displayed in Github Markdown&lt;/h3&gt;
&lt;p&gt;My chief disappointment is realizing that Github’s markdown renderer will not display data URIs, so images won’t show up on the Github copy of &lt;code&gt;knitr&lt;/code&gt; markdown files. It would have been most convenient to have knitr always embed the images for my scripts and avoid external linking for Github files. This would be particularly helpful for scripts run on remote servers where the compute nodes do not have external web connections and so images have to be uploaded from the head node after running the script. Oh well, hopefully Github will consider addressing this.&lt;/p&gt;
&lt;p&gt;I don’t see a good reason why Github markdown doesn’t display images, since markdown displays any other valid HTML. Perhaps it is security related since almost anything can be put in a data URI. It may have something to do with how there server is handling images to begin with, since the images that are displayed come not from the original URL but from a separate link on &lt;code&gt;akamai.net&lt;/code&gt;. I did send in a suggestion that they address this and was told they would look into it. Meanwhile I will continue uploading these images externally, and converting to data URIs when generating the files for the notebook version.&lt;/p&gt;
&lt;h3 id=&quot;large-file-sizes&quot;&gt;Large File Sizes&lt;/h3&gt;
&lt;p&gt;Because all of the image encoding is embedded directly within the link, and these data URIs are huge. This creates several issues.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The markdown a deal less readable before it is rendered. A decent editor can just fold these away (e.g. select block and &lt;code&gt;zf&lt;/code&gt; in vim).&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;The data URIs increase the filesize of the HTML dramatically. Compression is about 1/3rd more than the original image sizes. This can slow load times and makes the repository larger. As most images in the notebook are generated as basic pngs, the file sizes aren’t huge (100 Kb range), but much larger than the raw HTML.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Not all browsers support Data URIs, so images may not render in older versions of IE&lt;/li&gt;
&lt;li&gt;The markdown parser takes much longer to generate the output. This appears to actually time out Jekyll building in my current notebook.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;resolution&quot;&gt;Resolution&lt;/h2&gt;
&lt;p&gt;I have a branch of the notebook, &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/image-uri&quot;&gt;image-uri&lt;/a&gt;, in which (almost) all images are converted to data URIs. Unfortunately, the images do not display on the Github copy and the branch takes rather much longer to compile, making this an impractical standard solution for the notebook.&lt;/p&gt;
&lt;p&gt;As I discussed above, I have recently experimented with hosting all images I generate on the local server, removing the dependency and archival concerns of Figshare. Unfortunately, it makes for a very large and potentially more fragile site to have to carry around the complete image log, 99% of which does not appear in the notebook but only on Github script runs. Keeping only the images used in posts makes more sense, but requires an extra step which is otherwise redundant, since the web being what it is can just point to the external copy. To address the primary concern is making sure that the archival copies on figshare include the images, I think I will stick with compiling an archival version with Data URIs while otherwise continuing to host the images on Flickr.&lt;/p&gt;
&lt;p&gt;Archival copies can be made using Pandoc by generating the site using the &lt;code&gt;--self-contained&lt;/code&gt; option for the pandoc parser in &lt;code&gt;_config.yaml&lt;/code&gt;, though this is rather slow. Then the archive would be the HTML files in the &lt;code&gt;_site&lt;/code&gt; directory, rather than the raw markdown files. While alternatively I could use a script to just render the markdown, overall it may make more sense to archive the stand-alone HTML, since it includes more metadata and the advantages of the XML formatting.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tipping Points Comment In Nature</title>
   <link href="/2013/01/12/tipping-points-comment-in-nature.html"/>
   <updated>2013-01-12T00:00:00-08:00</updated>
   <id>h/2013/01/12/tipping-points-comment-in-nature</id>
   <content type="html">&lt;p&gt;On Wednesday my comment piece with Alan, &lt;a href=&quot;http://www.nature.com/nature/journal/v493/n7431/full/493157a.html&quot;&gt;&lt;em&gt;Tipping points: from patterns to predictions&lt;/em&gt;&lt;/a&gt; appeared in Nature (next to a nice &lt;a href=&quot;http://www.nature.com/nature/journal/v493/n7431/full/493159a.html&quot;&gt;comment by Heather Piwowar&lt;/a&gt; on NSF’s move to recognizing products of research more broadly than publications alone).&lt;/p&gt;
&lt;p&gt;Heather has written an excellent &lt;a href=&quot;http://researchremix.wordpress.com/2013/01/11/process-behind-a-nature-comment/&quot;&gt;post&lt;/a&gt; on the process of writing, which rings true with my own experience. Working with an editor with clear expertise in science writing and communication who was otherwise unfamiliar with the details of this field was an immensely rewarding experience, and her contributions really ought to be recognized more clearly. She stuck with me as I struggled to explain concepts I wasn’t even sure were well understood in my subfield, and then helped me rephrase towards a larger audience. I learned how specific examples and even potentially extraneous details could help anchor and clarify a description. Of course, some compromise was inevitable. I later had some explaining to do when the fact-checker questioned some of my citations. Yes, I know Sebastian doesn’t actually talk about salemanders in Schreiber and Randolf 2008, and Stephen Lade and Thilo Gross don’t talk about cod collapse; but their models do, I promise!&lt;/p&gt;
&lt;p&gt;I doubt any scholar takes on a topic of close personal interest in the space of two pages and feels completely happy with the resulting message. While the piece will no doubt be received as a pushback against the bandwagon, our goal was more road-map to interesting open questions than critique of the early steps. In the piece, I aimed to raise two important issues or gaps in the existing literature, and then to propose two potential ways forward for each issue. The goal is not to close the door on early warning signals, but to further unroll the map and draw more attention to the uncharted lands.&lt;/p&gt;
&lt;h2 id=&quot;warning-signals-without-controls&quot;&gt;Warning signals without controls&lt;/h2&gt;
&lt;p&gt;The first gap we highlight is the need to understand how early warning signals might be applied in the real world, rather than in experimental designs that rely on replicates and controls to identify what is and what isn’t a warning signal. We propose two potential directions, one primarily empirical, one primarily theoretical:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Establish baselines.&lt;/strong&gt; The challenges to doing this well are manifold, but we won’t know if or how to address them without more active research.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Statistical Models&lt;/strong&gt; In the absence of controls, appropriate null models might be able to simulate comparison groups we do not have. I have begun to explore this in my own work, see &lt;a href=&quot;/vita.html&quot;&gt;Boettiger and Hastings (2012).&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;inability-to-leverage-context-specific-information&quot;&gt;Inability to leverage context-specific information&lt;/h2&gt;
&lt;p&gt;In our comment, this comes off as condeming the generality of warning signals. Early warning signals such as variance (Carpenter and Brock 2006) or spatial autocorrelation (Dakos et al 2011) may incerase before a catastrophic transition, but they can also decrease (Schreiber and Rudolf 2008, Bel et al 2012).&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Use all the data&lt;/strong&gt;. While a lack of detailed mechanistic understanding of complex systems is more often the rule then the exception, we mustn’t give into the huberis that we can ignore context-specific information we know. When facing problems as challenging as detecting sudden shifts are no time to go battle with one hand tied behind our backs. By working with domain experts in areas where transitions are best understood, we may learn how best to do this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Follow the data&lt;/strong&gt; A more widely appreciated issue for any signal is the concern of an adequately long and well sampled data set. While the globe ushers in an era of “big data”, long time series aren’t easy to come by. Perhaps this is a case in which searching under the street light for the keys can pay off. Early warning signal research has already shown us once how to find weak patterns if we know what to look for. A promising line of of work would identify (potentially system-specific) signals in the kind of data that is most likely to be available, such as high-resolution spatial imagery. Ignoring such patterns because they do not generalize to other systems will only slow us down.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;icanhazpdf&quot;&gt;#icanhazpdf?&lt;/h3&gt;
&lt;p&gt;Unfortunately the piece is not available open access (though do write to me for a reprint if you are interested). I can distribute the original text in 6 months. As an advocate for open science, my 0/9 record of publishing in open access journals might raise eyebrows, if also unequivocally demonstrating my commitment to pragmatism ;-). All my other papers are available through as green open access/preprints on arXiv, and I hope this one can join them when the terms permit.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Lade, S. J. &amp;amp; Gross, T. Early Warning Signals for Critical Transitions: A Generalized Modeling Approach. PLoS Computational Biology 8, e1002360 (2012). doi:10.1371/journal.pcbi.1002360&lt;/li&gt;
&lt;li&gt;Schreiber, S. J. &amp;amp; Rudolf, V. H. W. Crossing habitat boundaries: coupling dynamics of ecosystems through complex life cycles. Ecology Letters 11, 576–87 (2008). doi:10.1111/j.1461-0248.2008.01171.x&lt;/li&gt;
&lt;li&gt;Dakos, V., Kéfi, S., Rietkerk, M., Nes, E. H. Van &amp;amp; Scheffer, M. Slowing Down in Spatially Patterned Ecosystems at the Brink of Collapse. The American Naturalist (2011).doi:10.1086/659945&lt;/li&gt;
&lt;li&gt;Bel, G., Hagberg, A. &amp;amp; Meron, E. Gradual regime shifts in spatially extended ecosystems. Theoretical Ecology 5, 591–604 (2012). doi:10.1007/s12080-011-0149-6&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Learning Jekyll</title>
   <link href="/2012/12/30/learning-jekyll.html"/>
   <updated>2012-12-30T00:00:00-08:00</updated>
   <id>h/2012/12/30/learning-jekyll</id>
   <content type="html">&lt;h1 id=&quot;some-quick-thoughts-on-learning-jekyll&quot;&gt;Some quick thoughts on learning Jekyll&lt;/h1&gt;
&lt;p&gt;After recieving a few queries on how to get started with Jekyll I thought I’d jot down my own opinions here. Of course there is already rather good documentation for the software and plenty of blogs providing tutorials. While no doubt more than adequate, I have more opinions on how to get started actually &lt;em&gt;learning&lt;/em&gt; what’s going on than I could easily fit into a tweet, and also a couple favorite links to references so I thought I’d jot down my reply in long form here.&lt;/p&gt;
&lt;h2 id=&quot;brief-background&quot;&gt;Brief Background&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll&lt;/a&gt; is a fantastic and popular static blogging platform, written in Ruby by a Github founder, &lt;a href=&quot;http://tom.preston-werner.com/&quot;&gt;Tom Preston-Werner&lt;/a&gt;, which powers this site (at least currently). Similar static website generators exist for Python (&lt;a href=&quot;https://github.com/hyde/hyde&quot;&gt;Hyde&lt;/a&gt;) Haskell (&lt;a href=&quot;https://github.com/jgm/yst&quot;&gt;yst&lt;/a&gt;), and probably others, but Jekyll is quite widespread.&lt;/p&gt;
&lt;p&gt;With the (unofficial) slogan of the bloging platform for hackers, Jekyll is aimed at folks who don’t mind a little coding. If you’re looking for a polished, user-friendly product where a huge community of developers has written most imaginable extensions, check out Wordpress.org. If you want something where you can easily get into the guts and customize everything, Jekyll may be the best game in town. Compared to a dynamic site, a static site is much more lightweight, which translates into faster, more stable, and less expensive. What’s not to like?&lt;/p&gt;
&lt;h2 id=&quot;where-to-start&quot;&gt;Where to start?&lt;/h2&gt;
&lt;p&gt;A couple pre-configured Jekyll setups have emerged to reduce the learning curve, most notably &lt;a href=&quot;https://github.com/imathis/octopress&quot;&gt;Octopress&lt;/a&gt; and &lt;a href=&quot;https://github.com/plusjade/jekyll-bootstrap&quot;&gt;Jekyll Bootstrap&lt;/a&gt;. In my opinion, in an attempt to make things easier through tricks such as automated Ruby makefiles (Rakefiles) I think these projects have actually made Jekyll appear much more complicated than it really is, as evidenced by the number of talented programmers running Octopress with the identical configuration. They may get you started faster, but their use of advanced techniques to provide more functionality out-of-the-box makes for a tougher learning curve.&lt;/p&gt;
&lt;p&gt;See the Jekyll-Bootstrap’s &lt;a href=&quot;http://jekyllbootstrap.com/lessons/jekyll-introduction.html&quot;&gt;introduction&lt;/a&gt; to Jekyll for a nice explanation of how Jekyll is laid out. Understand the basic YAML headers, and the role of the &lt;code&gt;_layout&lt;/code&gt;, &lt;code&gt;_includes&lt;/code&gt; and &lt;code&gt;_posts&lt;/code&gt; directories, and you’ve mastered the basics. Or read on below for my take on getting started.&lt;/p&gt;
&lt;h2 id=&quot;running-jekyll&quot;&gt;Running Jekyll&lt;/h2&gt;
&lt;p&gt;For a basic site hosted on Github, one never actually has to run Jekyll locally – just push the site to a gh-pages branch of a Github repository, or to the master branch of a repository named &lt;code&gt;username.github.com&lt;/code&gt; for a personal website, and Jekyll will be run by the server. Jekyll is frequently run locally instead, allowing the user to copy the static website it generates to any (static) web server (see Hosting options, below). Simply install Jekyll following the directions on its &lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;homepage README&lt;/a&gt;.[^1]&lt;/p&gt;
&lt;h2 id=&quot;my-rough-guide-to-learn-by-doing&quot;&gt;My rough guide to learn-by-doing&lt;/h2&gt;
&lt;p&gt;I believe the best way to start with Jekyll is start with a really bare-bones site. You add features as you need them, making maintenance easy.&lt;/p&gt;
&lt;p&gt;Start with an empty repository. Create a markdown file, say, &lt;code&gt;index.md&lt;/code&gt;. Write whatever you want in standard markdown, just stick a &lt;a href=&quot;http://en.wikipedia.org/wiki/YAML&quot;&gt;YAML&lt;/a&gt; header on the top. Stick what? From your standardized testing days, think something like &lt;code&gt;markdown:html :: yaml:xml&lt;/code&gt;. Three &lt;code&gt;-&lt;/code&gt; on their own line to start, three &lt;code&gt;-&lt;/code&gt; on another line to close define the block of YAML data, whose mere existence is enough to get Jekyll to pay attention to that file. Here we specify any metadata we want.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    ---
    layout: default
    ---

    # My site title

    some text
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And voilà, we have a functional Jekyll site. The basic thing to remember is that everything else is gravy, to be mastered as you have a need for it. The advanced features can be super helpful once you know them, but in the beginning they may just get in the way of understanding what’s actually going on.&lt;/p&gt;
&lt;h3 id=&quot;getting-deeper-jekyll-site-file-structure&quot;&gt;Getting deeper: Jekyll site file structure&lt;/h3&gt;
&lt;p&gt;Directories that are functional for Jekyll but do not appear in the generated website start with an underscore &lt;code&gt;_&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Root directory. You don’t need any of the standard directories for a barebones site. As we saw above, any markdown file with YAML header matter in the root directory will be parsed. Don’t like markdown? We could write these files in html (with .html extension) instead. Jekyll will parse them as long as they have some YAML header matter, allowing us to still use things like page templates and other tricks from Liquid code described below.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;_posts&lt;/code&gt; Your posts live here. They should be titled in &lt;code&gt;YYYY-MM-DD-post-title.md&lt;/code&gt; format, which will allow Jekyll to automatically figure out the post date and title, while also keeping the posts neatly organized in this directory. (The title and the publication date, optionally including time can alternatively be given in the YAML header matter if you don’t like this convention. See below).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;_layout&lt;/code&gt; For a completely barebones site, you don’t need this directory. Here you can provide files defining the basic HTML layout, or template, for each of the pages in your website. If your familiar with HTML, you can go ahead and set up a page as you like, and then add the single line of Liquid code in the body to pull in the HTML generated by parsing the markdown files. The mimimal layout file might look something like this (see an HTML tutorial for details):&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;!doctype html&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;html&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; lang=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; charset=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;utf-8&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt; {{ page.title }} &lt;span class=&quot;kw&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;

{{ page.content }}

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where the double braces and words &lt;code&gt;page.title&lt;/code&gt; and &lt;code&gt;page.content&lt;/code&gt; are Liquid code that will tell Jekyll to insert the title and content of the page in the appropriate spot. To use a layout, save this file in &lt;code&gt;_layout&lt;/code&gt; with the desired layout name, e.g. &lt;code&gt;plainlayout&lt;/code&gt;, and then it can be applied to any page (markdown or html file in the root directory) or post by adding &lt;code&gt;layout: plainlayout&lt;/code&gt; to the YAML header of that file. This provides a super convenient way to create page templates for a static site.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;_includes&lt;/code&gt; Often one might have several layouts corresponding to different kinds of pages on your site. To avoid copy-pasting the parts of the layout that stay the same (perhaps all have the same header matter pointing to your CSS files and analytics tracker), you can just place these snippets inside the &lt;code&gt;_includes&lt;/code&gt; directory with their own filenames. For instance, we could move the header text to a file called &lt;code&gt;header&lt;/code&gt; in that directory with the contents:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;er&quot;&gt;&amp;lt;&lt;/span&gt;!doctype html&amp;gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;html&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; lang=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;en&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; charset=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;utf-8&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt; {{ page.title }} &lt;span class=&quot;kw&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To automatically reuse a snippet of HTML code in any file on your site (a layout file or other), we need to learn one more Liquid command. This one goes between brace-percent symbols, and uses the command &lt;code&gt;include&lt;/code&gt;, followed by the filename, like so:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;{% include header %}
&amp;lt;body&amp;gt;
{{ page.content }}
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The above example provides a shorter layout file, which pulls in the header snippet. If you have only one layout, this is of course pointless, but the more you add to and change your site, the more useful the ability to reuse a single HTML chunk with just a line of code becomes.&lt;/p&gt;
&lt;h3 id=&quot;configuration&quot;&gt;Configuration&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;YAML&lt;/strong&gt; and the &lt;code&gt;_config.yml&lt;/code&gt; file. Recall that YAML is the very human-readable data structure, whose syntax is explained quite throughly on &lt;a href=&quot;http://en.wikipedia.org/wiki/YAML&quot;&gt;it’s wikipedia page&lt;/a&gt;. One glance at an example reveals almost all you need to know about the syntax, such as:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;
---
layout: post
category: ecology
tags: 
  - howto
  - jekyll
modified: 2013-01-07
---&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lists can be done in a variety of ways, comma-s&lt;/p&gt;
&lt;p&gt;One of the Jekyll beginner’s mysteries is knowing just what words/metadata/variables are already available in Jekyll and how to add those that are not. &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Template-Data&quot;&gt;A list appears on the Jekyll Wiki&lt;/a&gt;. Note that the syntax uses the ruby structure, so &lt;code&gt;page.title&lt;/code&gt; and &lt;code&gt;page.date&lt;/code&gt; are both part of the page. We can create any custom variable by adding it to that page’s yaml header. For instance, &lt;code&gt;modified&lt;/code&gt; is not defined anywhere in Jekyll’s default Template Data, but none-the-less we can access this modification date in this page’s &lt;code&gt;layout&lt;/code&gt; or the page itself using {{ page.modified }} liquid tag.&lt;/p&gt;
&lt;p&gt;Metadata belonging to the site as a whole, rather than a particular page, is specified in the &lt;code&gt;_config.yml&lt;/code&gt; file, along with a few options telling Jekyll how to parse the site. Again, the &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Configuration&quot;&gt;Jekyll wiki has a great overview&lt;/a&gt;. As the extension implies, this entire file is in YAML. If we want to create new global variables, such as our twitter account, we can just add them to the YAML like so:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;author:
  twitter: cboettig
  github: cboettig&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(note the indentation for hierarchy) and now my twitter username is available through the liquid command &lt;code&gt;site.author.twitter&lt;/code&gt;. Again, it’s just another trick to insert some text, just like &lt;code&gt;_layout&lt;/code&gt; and &lt;code&gt;_includes&lt;/code&gt;. Only use can prove how helpful this can be.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Markdown parser hell&lt;/strong&gt;. A lot of Jekyll adopters are already familar with Github and it’s flavor of markdown with such features as fenced codeblocks, thus it comes as real suprise to run into advice explaining how code blocks need to be wrapped in the never-heard-of “Liquid” syntax &lt;code&gt;{% highlight %}&lt;/code&gt;. Ignore this nonsense. How your markdown is parsed depends on what flavor of markdown you use, and there is a special level of hell for anyone inventing a new flavor (&lt;a href=&quot;http://www.codinghorror.com/blog/2012/10/the-future-of-markdown.html&quot;&gt;Atwood 2012&lt;/a&gt;). Fortunately Github’s Tom Preston-Werner finally gave up the perfect irony that Github’s flavor was not one of the built-in Jekyll parsers (though being a hacker system, this could be added manually), and you can now get that behavior by setting your chosen parser to be &lt;code&gt;redcarpet&lt;/code&gt; with the convenient extensions [^2]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;markdown: redcarpet
redcarpet:
  extensions: [&amp;quot;no_intra_emphasis&amp;quot;, &amp;quot;fenced_code_blocks&amp;quot;, &amp;quot;autolink&amp;quot;, &amp;quot;tables&amp;quot;, &amp;quot;with_toc_data&amp;quot;]&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;more-advanced-tricks&quot;&gt;More advanced tricks&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Liquid&lt;/strong&gt; Your next stop should really be to read &lt;a href=&quot;https://github.com/Shopify/liquid/wiki/Liquid-for-Designers&quot;&gt;Liquid for Designers&lt;/a&gt;. Liquid is the glue that specifies all the rules needed to assemble your site, and is quite simple. Understand how Liquid works and you’ve mastered Jekyll. Jekyll provides &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Liquid-Extensions&quot;&gt;some additional Liquid functions&lt;/a&gt; common for blogs.&lt;/p&gt;
&lt;p&gt;Your next stop is to get some really nice customizable CSS scaffolding to control the layout for your site. While there’s a huge number of free CSS themes available, this isn’t 2002, so head on over to &lt;a href=&quot;http://twitter.github.com/bootstrap&quot;&gt;Twitter-Bootstrap&lt;/a&gt; (a project originally created by some of the programmers at Twitter, now evolved to it’s own community). The CSS-based grid layout and some very nice JQuery Javascripts tools can make your site as pretty and as interactive as you can imagine. Like Octopress, prebuilt CSS can lead to all sites looking the same. Check out themes for Bootstrap, and the excellent set of icons by &lt;a href=&quot;http://fortawesome.github.com/Font-Awesome/&quot;&gt;FontAwesome&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Your final step is where the hacking really begins. Now and again you imagine something you just can’t do with these tools. Your only recourse is to &lt;del&gt;ask on &lt;a href=&quot;http://stackoverflow.com&quot;&gt;Stackoverflow&lt;/a&gt; for someone to do it for you&lt;/del&gt; learn a bit of Ruby. Anything you can write in Ruby you can add to Jekyll as a “plugin”, by defining a Liquid extension for a Ruby function. Ruby is clearly a favorite language of web-developers thanks to its dynamic-site implementation Ruby-on-Rails and a vibrant Github community, so there’s a wealth of useful tools, including an implementation to most APIs you might care to interact with (Github, Twitter, various Google APIs, are among the ones I’m using).&lt;/p&gt;
&lt;h2 id=&quot;hosting-options&quot;&gt;Hosting options&lt;/h2&gt;
&lt;p&gt;Because Jekyll generates a static site, it can be hosted almost anywhere for nothing or next to nothing in costs. The primary question to consider is your choice of domain name. If you wish to host your site from university domain name, just copy the contents of &lt;code&gt;_site&lt;/code&gt; into your &lt;code&gt;public_html&lt;/code&gt; or similarly named directory on the web server.&lt;/p&gt;
&lt;p&gt;While having a university affiliated domain can appear more official and help with discoverability, buying your own domain name as your permanent Internet home may be a more reliable long-term solution. Once you’ve purchased a domain name from a provider, a static site can be hosted at your own domain name for next to nothing on &lt;a href=&quot;http://docs.amazonwebservices.com/AmazonS3/latest/dev/WebsiteHosting.html&quot;&gt;Amazon S3&lt;/a&gt;, or for literally nothing &lt;a href=&quot;https://help.github.com/articles/setting-up-a-custom-domain-with-pages&quot;&gt;through Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[1]: Details on installing and running ruby gems for Jekyll will vary by operating system, so I won’t bother with more details here. Some further background for linux based platforms at least appears in my &lt;a href=&quot;http://www.carlboettiger.info/README.html&quot;&gt;site’s info file&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/12/27/notes.html"/>
   <updated>2012-12-27T00:00:00-08:00</updated>
   <id>h/2012/12/27/notes</id>
   <content type="html">&lt;h1 id=&quot;nonparametric-bayes&quot;&gt;Nonparametric Bayes&lt;/h1&gt;
&lt;h2 id=&quot;continuing-sensitivity-analysis&quot;&gt;Continuing sensitivity analysis&lt;/h2&gt;
&lt;p&gt;The commit log to &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commits/af970f7c4ac759b95fca929b87cd06d45a5d2178/inst/examples/sensitivity.md&quot;&gt;sensitivity.md&lt;/a&gt; and earlier to &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commits/6aba5dce46370c600351eff270a76a664dacc7db/inst/examples/myers-exploration.md&quot;&gt;myer-exploration.md&lt;/a&gt; (now depricated) capture the summary figures for replicate runs of the observation data, with commits corresponding to various parameter configurations, etc. Here is a nice collection of replicates from &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/af970f7c4ac759b95fca929b87cd06d45a5d2178/inst/examples/sensitivity.md&quot;&gt;sensitivity.md&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Harvest during observations&lt;/strong&gt; Tweaked calculation of observation data given the harvest regime under which observations were taken (simulation was not implementing all harvests).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also adjusted norm used in GP (the parametric use log-normal densities in calculating the transition function on the untransformed data. The GP, also on untransformed data, uses normal noise as per its model).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Relaxed priors, shows no impact on GP performance.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;non-stationary-dynamics&quot;&gt;Non-stationary dynamics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ran the Allen et al. Allee model under conditions for non-stationary stable states (e.g. period 2, period 4) etc, with and without substantial process noise (to confirm the cyclical pattern). Shows good performance of GP against terrible perfomance of alternative parametric approaches. Closes issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/16&quot;&gt;#16&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-27-16-11-45-5da7c1081b-unnamed-chunk-2.png&quot; alt=&quot;plot of chunk unnamed-chunk-2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-2&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-27-16-13-35-5da7c1081b-unnamed-chunk-4.png&quot; alt=&quot;plot of chunk unnamed-chunk-4&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-4&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/da0fb51032334c0e11f962674d4022cc04b2279b/inst/examples/allee.md&quot;&gt;allee.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Commit log links to some additional examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;another allee example altering MLE initial condition to attempt better likelihood estimates. GP still outperforms. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/606350a764ff9998e87216f627ee94c1dce12460&quot;&gt;04:40 pm 2012/12/27&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;in oscillatory regime with non-negligible noise. again GP performs nearly optimally while MLE methods suffer greatly &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/4c05a9ca5864a5983fae4a6e015f2bc1b2c3e1c0&quot;&gt;04:27 pm 2012/12/27&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Example of Ricker-Allee in oscillation regime, shows non-trivial dynamics, GP does very well (closes #22) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/da0fb51032334c0e11f962674d4022cc04b2279b&quot;&gt;04:17 pm 2012/12/27&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;work with non-named arguments in MLE, consistent ordering for plot legends &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/5da7c1081b1c260e95f9808fc3c698d12e3b7cbd&quot;&gt;04:05 pm 2012/12/27&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;other-projects&quot;&gt;Other projects&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Upgraded gems, had to update notebook’s liquid code metadata to handle dates in string format on pages vs being date objects in posts. &lt;a href=&quot;https://github.com/cboettig/labnotebook/commit/de4d4cc0737eb5d16ca1785edcb39c01c646080a&quot;&gt;de4d4cc&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Setting up &lt;a href=&quot;https://github.com/cboettig/multiple_uncertainty&quot;&gt;multiple_uncertainty&lt;/a&gt; as a separate repository (branched from &lt;a href=&quot;https://github.com/cboettig/pdg_control&quot;&gt;pdg-control&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/12/23/notes.html"/>
   <updated>2012-12-23T00:00:00-08:00</updated>
   <id>h/2012/12/23/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;added generation of observational data under varying harvest conditions (issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/19&quot;&gt;#19&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;added MLE fit based on the data-generating model (issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/20&quot;&gt;#20&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GP plot with and without nugget variance (issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/17&quot;&gt;#17&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Run longer simulations under policy such that sustainable profits clearly beat out collapsing the fishery (part of issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/22&quot;&gt;#22&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Progress Summary</title>
   <link href="/2012/12/21/progress-summary.html"/>
   <updated>2012-12-21T00:00:00-08:00</updated>
   <id>h/2012/12/21/progress-summary</id>
   <content type="html">&lt;h1 id=&quot;progress-mid-october-through-mid-december&quot;&gt;Progress mid-October through mid-December&lt;/h1&gt;
&lt;h2 id=&quot;time-nonparametric-bayes&quot;&gt;80% Time: nonparametric-bayes&lt;/h2&gt;
&lt;p&gt;The bulk of my time has been spent becoming familiar with the literature on Gaussian Processes and their numerical implementation. I have written my own Gaussian process code from scratch to convince myself of my understanding of the methodology, and explored some of the related numerical issues addressing computational speed and stability.&lt;/p&gt;
&lt;p&gt;I then developed an algorithm for applying the Gaussian process inference of the state dynamics to stochastic dynamic programming methods for determining an optimal harvesting policy. I have compared the performance of the Gaussian-process inferred model to the optimal solution (given the exact underlying model) and to solutions based on estimated parametric models (both matching and not matching the underlying structure). This analysis shows the benefit of the nonparametric approach in better accounting for structural uncertainty in the underlying dynamics.&lt;/p&gt;
&lt;p&gt;Steve and I have just started to look into the potential for state shifts and warning signals there-of in the ENSO / Pacific decadal oscillation. I obtained 2 appropriate datasets and have run a very preliminary &lt;a href=&quot;http://www.carlboettiger.info/2012/12/17/random_ews_example.html&quot;&gt;analysis&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;time-independent-projects&quot;&gt;20% Time: Independent projects&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;strong&gt;pdg-control Working group paper.&lt;/strong&gt; Updated analysis for Figures 3 and 4. Updated draft. Conference call for feedback from working group participants. (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/doc/policycosts/policycosts.tex&quot;&gt;Current draft&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Wrote &lt;strong&gt;comment&lt;/strong&gt; piece on Early Warning Signals for &lt;em&gt;Nature&lt;/em&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Working on EWS review paper for Theoretical Ecology with Noam Ross. (&lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;Current draft&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Working on analysis optimal policies under multiple uncertainties (with Jim Sanchirico, Mike Springborn). &lt;a href=&quot;http://www.carlboettiger.info/tags.html#multiple-uncertainty&quot;&gt;#multiple-uncertainty&lt;/a&gt; tag in notebook; currently analyses are part of &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/examples&quot;&gt;pdg-control&lt;/a&gt; repository.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Finished and submitted NSF post-doc application&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;other-academic-activities&quot;&gt;Other academic activities&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Wrote requested reviews for &lt;em&gt;Conservation Letters&lt;/em&gt;, &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;em&gt;Proceedings of the Royal Society B&lt;/em&gt;. Declined to review for &lt;em&gt;Systematic Biology&lt;/em&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Presented my &lt;a href=&quot;http://dx.doi.org/10.6084/m9.figshare.97500&quot;&gt;exit seminar&lt;/a&gt; in the UC Davis Center for Population Biology Colloquia series.&lt;/li&gt;
&lt;li&gt;Interviewed for the &lt;em&gt;Nature&lt;/em&gt; column &lt;em&gt;Turning Point&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Invited and attended the PLoS alt-metrics workshop and hackathon&lt;/li&gt;
&lt;li&gt;Ran two sessions on version management, dynamic/reproducible papers, and building academic websites for the Mangel group.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Presented scaling from individual to population level models through the van Kampen expansion in Steve’s Applied Math Club&lt;/li&gt;
&lt;li&gt;Participated regularly in applied math club meetings.&lt;/li&gt;
&lt;li&gt;Established communication with FishBase team, arranged a coalition of developers interested in API access.&lt;/li&gt;
&lt;li&gt;ongoing development in &lt;a href=&quot;https://github.com/ropensci&quot;&gt;rOpenSci project&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;goals-for-january---march&quot;&gt;Goals for January - March&lt;/h1&gt;
&lt;h2 id=&quot;time&quot;&gt;80% Time&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;Writeup of the Nonparametric Bayesian approach to management paper.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Initial goal for manuscript is proof of concept piece with the aim of demonstrating the value of a nonparametric approach to ecological decision-making. Alternatively a more technical piece could focus on the details of using Gaussian processes models for stochastic dynamic programming.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Outline of manuscript: Dec 31st&lt;/li&gt;
&lt;li&gt;Decide on manuscript figures to include&lt;/li&gt;
&lt;li&gt;Complete draft&lt;/li&gt;
&lt;li&gt;Appendices&lt;/li&gt;
&lt;li&gt;Solocit friendly revisions&lt;/li&gt;
&lt;li&gt;Submit (by March 31?)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Next steps and Additional projects&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The multi-species context is probably the next goal. Depending on timing, Steve may take the lead on that in these three months; I aim to be working in this in March. The step after will be the active/reinforcement learning/approximate SDP approaches. I aim to start into the background reading for that material but real progress on that front will happen after March.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Steve and I will likely continue to do something with the ENSO / PDO analysis as well. (Currently waiting on Steve’s pending queries to domain experts for further discussion)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I will also need to determine my summer conference schedule during this interval, and submit abstracts, etc. I have committed to the symposium to which I was invited at SIAM in San Deigo, July 8 - 12, and plan on attending ESA.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;time-goals&quot;&gt;20% Time goals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finish and submit EWS review paper: end of January&lt;/li&gt;
&lt;li&gt;Finish and submit pdg-control policy costs paper (see &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?direction=desc&amp;amp;labels=policy+costs&amp;amp;milestone=&amp;amp;page=1&amp;amp;sort=created&amp;amp;state=open&quot;&gt;current issues&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Finish the methods section for the Labrids paper&lt;/li&gt;
&lt;li&gt;Finish my pending review for &lt;em&gt;Environmental Modeling and Assessment&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Skype with pdg-control Working group, basic follow-up tasks.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Some next steps on multiple uncertainty.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;additional-academic-goals&quot;&gt;Additional academic goals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Present in mega-group meeting: Feburary 20th&lt;/li&gt;
&lt;li&gt;Join the phylotastic hackathon remotely(?)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Results Comparing Gp To Parametric</title>
   <link href="/2012/12/20/results-comparing-gp-to-parametric.html"/>
   <updated>2012-12-20T00:00:00-08:00</updated>
   <id>h/2012/12/20/results-comparing-gp-to-parametric</id>
   <content type="html">&lt;p&gt;Comparison of the Gaussian process inference to the true optimum and a parametric estimate.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-20-23-12-06-60abafd424-unnamed-chunk-22.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Comparison across 100 simulations under the policies inferred from each approach show the nearly optimal performance of the GP and the tragic crashes introduced by the parametric management.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-20-23-12-07-60abafd424-unnamed-chunk-23.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;sensitivity-analysis&quot;&gt;Sensitivity analysis&lt;/h2&gt;
&lt;p&gt;Working through an exploratory sensitivity analysis to see GP performance over different parameters.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/6aba5dce46370c600351eff270a76a664dacc7db/inst/examples/myers-exploration.md&quot;&gt;Example from 32 replicates&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Distribution of yield over replicates shows the parametric model performing rather poorly, while most of the GP replicates perform nearly optimally.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-20-23-13-46-60abafd424-unnamed-chunk-3.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/60abafd4242b3840454b3a138a428a1c633e73fd/inst/examples/myers-exploration.md&quot;&gt;smaller noise&lt;/a&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-20-22-57-55-96ad28dd6e-unnamed-chunk-3.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/9d5cd1f027bdfe5f356dce83756726c95a6fcdd8/inst/examples/myers-exploration.md&quot;&gt;larger growth-rate parameters&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-20-20-50-42-3f7bd6aa34-unnamed-chunk-3.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;from-the-commit-log&quot;&gt;from the commit log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;smaller r, shows GP outperform parametric estimate &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/6aba5dce46370c600351eff270a76a664dacc7db&quot;&gt;09:21 am 2012/12/21&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;small noise. works well. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/60abafd4242b3840454b3a138a428a1c633e73fd&quot;&gt;11:01 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GP performs poorly with weak noise prior (nugget) when not conditioned on 0,0 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/96ad28dd6edfbcec720b77fe645719fa673dd44a&quot;&gt;10:45 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;less successful with higher noise level &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/0fdaadb9b57715390e149b3c182b8115ff036960&quot;&gt;09:10 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ah here we go! with a decent allee effect model, the results are much clearer! &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/9d5cd1f027bdfe5f356dce83756726c95a6fcdd8&quot;&gt;08:52 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;strange Ricker Allee example – even true model doesn’t harvest successfully &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/3f7bd6aa349d23aa7aeb28b772b9b32b5d7645b1&quot;&gt;08:37 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;delta 1.5, r 1.3 K 4.5 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ee54f02a6d81ca0e89395837666055f4f6d1bcb0&quot;&gt;08:17 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;higher K value results in better persistence in general, not always outperforming parametric model though. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/db67f4ccb4f185b3000bbe6a93d770490e027593&quot;&gt;07:57 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;harvest, and then escaped population recruits; comparable &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/8e5a4cd1abe38671fb884855bae3babac7d4802d&quot;&gt;07:09 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;shorter OptTime and lower initial state do not much change the fraction that fail to persist &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/1130545ef69d6b6e064ca3a0360ee905c0a2b32d&quot;&gt;06:31 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sensitivity analysis over replicates shows mixed results &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/e823ed12ef20d5c6dcbd04540bb957bf33116cab&quot;&gt;05:35 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;fixed bug (had Ef and V in gp_transition_matrix) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/8307de6858cc9fe067d7c86c31ce93a91862f75e&quot;&gt;05:18 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;still crashing &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/44c19ba3882ce5a419c63d13c61a1b63377d051b&quot;&gt;05:01 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;more iterations &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/61aeba3dd05033f6b9184a145035cf9708dbc18a&quot;&gt;04:34 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;corrected iterations &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/278d66f2af22eada8d704b87a20738aba874ceb4&quot;&gt;04:28 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;cpu=8 for running on one.ucdavis &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/4adf814f23c90b4d415e5580e776f07bb1f5f355&quot;&gt;02:21 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;unique seeds for parallel computing &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/9a79a72650d3bfbb9768853f9132cd5dec6f88d6&quot;&gt;02:11 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;30 replicates with full graphs &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/88d4295e217bc6b52e23c19f4094b2a85cb61bfb&quot;&gt;02:03 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;avoid external source call, print plots &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/fd14d9146826c529b6ce0a1912feffd839d37261&quot;&gt;12:49 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;trying methods for looping over replicates efficiently &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/edee0e6ef100702ed3f420dc2c0d47a691b52d3f&quot;&gt;12:38 pm 2012/12/20&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;next-goalsissues&quot;&gt;next goals/issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;#22 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/22&quot;&gt;Minor modifcations for the replicate comparisons&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;#20 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/20&quot;&gt;Compare against correct parametric model with parameters estimated from the data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;#19 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/19&quot;&gt;Vary harvest policy during the observation stage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;#17 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/17&quot;&gt;GP process plots should show with and without nugget variance&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Exploring Gp Model Space</title>
   <link href="/2012/12/19/exploring-gp-model-space.html"/>
   <updated>2012-12-19T00:00:00-08:00</updated>
   <id>h/2012/12/19/exploring-gp-model-space</id>
   <content type="html">&lt;p&gt;Trying to think about a more systematic way to go about varying the parameters: the underlying parametric model has 3 parameters for the stock-recruitment curve’s deterministic skeleton, plus growth noise. (My first exploratory phase has been just to try different things. See my &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commits/master/inst/examples/myer-example.md&quot;&gt;various tweaks in the history log&lt;/a&gt; Clearly time to be more systematic about both running and visualizing the various cases.)&lt;/p&gt;
&lt;p&gt;Should I just choose a handful of parameter combinations to test? (Trying to think of a way to do this that is easy to summarize – at least I can summarize expected profit under each set). Presumably, for each set of these parameters, I’d want a few (many?) stochastic realizations of the calibration/training data.&lt;/p&gt;
&lt;p&gt;Would it be worth digging up some real-world data-sets and base the selection of underlying model parameters on them?&lt;/p&gt;
&lt;p&gt;Then there’s a variety of nuisance parameters: grid size, discount rate, price of fish (non-dimensionalization eliminates that one I guess), cost to fishing (and whether the cost is on effort or harvest, whether linear or quadratic, etc), harvest grid size / possible constraints on maximum or minimum allowable levels for the control; length of the calibration period (and related dynamics if we use any of the variable fishing effort models you showed me today).&lt;/p&gt;
&lt;p&gt;Additionally there’s the MCMC-related nuisance parameters – parameters for the priors, possibly hyperpriors, and the MCMC convergence analysis (selecting burn-in period – currently 2000 steps out of 16000, etc) . Also the distributional shapes for the priors, and perhaps more meaningfully, the GP covariance function (using Gaussian for simplicity, but might want to look at Matern, and the various linear + Gaussian covariances).&lt;/p&gt;
&lt;h2 id=&quot;new-and-progressing-issues&quot;&gt;New and progressing issues&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/19&quot;&gt;Vary harvest policy during the observation stage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/18&quot;&gt;Add prior &amp;amp; posterior graphs (on same plot) to standard analysis (i.e. gaussian-process-control.R)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/17&quot;&gt;GP process plots should show with and without nugget variance&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/16&quot;&gt;examples with non-stationary dynamics (e.g. Ricker with oscillations)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/14&quot;&gt;evaluate GP under large noise conditions&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/12&quot;&gt;Characterize and develop a strategy for inferred GP that are not self-sustaining&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;from-the-commit-log-today&quot;&gt;from the commit log today&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;prior/posterior plots added to the BH-Ricker example. Comparable but non-optimal performance by GP. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/f1711a171c62005e88a17af13a7ad3e697ae382e&quot;&gt;06:07 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;oscillating ricker still does not give decent solutions &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/19c32b33a15c675c8bf900f24962aee4a6ade31f&quot;&gt;05:45 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;shows posteriors and priors of hyperparameters &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/4ce05b91910168114c86a417ec56de925de94969&quot;&gt;05:38 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;fixed minor typo in calc of posterior distribution plots #18 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/01d0f47bcce6aa977f79f27cb8a980eef04d4673&quot;&gt;05:15 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;plotting for posteriors and priors added #18 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ab9cfac258cfdc7c888c95473329f048e32a8ec3&quot;&gt;04:13 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;replicate &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ae91163f2e8c4eb5094913908f49e722cff52656&quot;&gt;02:22 pm 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;time to start writing &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/aef1d1ac8af8b7a49bcc4f8d13b397c587805087&quot;&gt;09:16 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ah, good. With a bit more data, a very nice example of how GP can avoid problems of a structurally inaccurate parametric approach (Myers vs Ricker). &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/a8ea0c17c1a4ed4ca8ab51bebb75a9c98ec32564&quot;&gt;09:15 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;more data going up to positive equilibrium, better but still does not avoid crash &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/325786ba1798c0f888da59b584af67e4a0117e42&quot;&gt;08:29 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;An interesting example – seems to work despite being calibrated on a crashing dataset. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/b88842a2537eff45c9b383f04a4ffc0a126e3fe7&quot;&gt;08:08 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;With smaller K, GP cannot quite determine a proper policy &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/a462d4165b92a6c226e02460bd83d48acae7232f&quot;&gt;07:37 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;try different dynamic parameters on Myers (lower K) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/36a9985baf70df0d020a7a509490650d9bcd6f80&quot;&gt;05:59 am 2012/12/19&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc-ropensci&quot;&gt;Misc: ropensci&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;resolved some outstanding issues on rfigshare (&lt;a href=&quot;https://github.com/ropensci/rfigshare/issues?state=closed&quot;&gt;rfigshare/issues?state=closed&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Random_ews_example</title>
   <link href="/2012/12/17/random_ews_example.html"/>
   <updated>2012-12-17T00:00:00-08:00</updated>
   <id>h/2012/12/17/random_ews_example</id>
   <content type="html">&lt;h1 id=&quot;enso-ews&quot;&gt;ENSO EWS&lt;/h1&gt;
&lt;p&gt;Let’s just see what happens with the &lt;a href=&quot;http://www.esrl.noaa.gov/psd/enso/mei/&quot;&gt;MEI data&lt;/a&gt; for PDO:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.table&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info/assets/data/mei.csv&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;header=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;!-- html table generated in R 2.15.2 by xtable 1.7-0 package --&gt;
&lt;!-- Mon Dec 17 15:31:58 2012 --&gt;

&lt;p&gt;For the moment let’s ignore annual structure and just collapse this into timeseries sampled bimonthly.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;YEAR&amp;quot;&lt;/span&gt;)
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt$value
Z &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;X[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(X)]
Z &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(Z)-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), Z[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(Z)-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)])&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;mei.png&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(earlywarnings)
a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;generic_ews&lt;/span&gt;(Z, &lt;span class=&quot;dt&quot;&gt;detrending=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gaussian&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-18-6c85b56d2c-mei2012.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;How about the data from MacDonald (2005)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/treering/reconstructions/pdo-macdonald2005.txt&quot;&gt;original data link&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.table&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info/assets/data/pdo-macdonald2005.csv&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;header=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;macdonald2005.png&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(earlywarnings)
a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;generic_ews&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;detrending=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gaussian&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-18-6c85b56d2c-pdo-macdonald2005.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Nonparametric Bayes Comparisons</title>
   <link href="/2012/12/15/nonparametric-bayes-comparisons.html"/>
   <updated>2012-12-15T00:00:00-08:00</updated>
   <id>h/2012/12/15/nonparametric-bayes-comparisons</id>
   <content type="html">&lt;h2 id=&quot;notes-on-structure-of-examples&quot;&gt;Notes on structure of examples&lt;/h2&gt;
&lt;p&gt;Externalized code so that different example scripts call identical commands for fitting and plotting to avoid duplication of code. Example scripts tend to be pretty text poor at the moment, would probably benefit by better descriptions in the markdown. May still involve redundant and potentially out of date descriptions though.&lt;/p&gt;
&lt;p&gt;Currently, externalized code for GP comparison experiments is in &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/526b54b09e23f550198863741bce9e9cb52e9325/inst/examples/gaussian-process-control.R&quot;&gt;gaussian-process-control.R&lt;/a&gt;, and is called by &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/cac79bcc42433a6b8720d5d4c5824c57a850a56c/inst/examples/may79-example.Rmd&quot;&gt;may79-example.Rmd&lt;/a&gt;, &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/cac79bcc42433a6b8720d5d4c5824c57a850a56c/inst/examples/myer-example.Rmd&quot;&gt;myer-example.Rmd&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/cac79bcc42433a6b8720d5d4c5824c57a850a56c/inst/examples/reed-example.Rmd&quot;&gt;reed-example.Rmd&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Also fixed &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; to at least include citations in markdown files.&lt;/p&gt;
&lt;h2 id=&quot;performance-of-gp-compared-to-ricker-on-an-underlying-allee-model&quot;&gt;Performance of GP compared to Ricker on an underlying Allee model&lt;/h2&gt;
&lt;h3 id=&quot;using-stationary-data-only&quot;&gt;Using stationary data only&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-f42127cba3-gp-plot.png&quot; alt=&quot;Inferred GP&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Inferred GP&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-f42127cba3-policy_plot.png&quot; alt=&quot;plot of policy functions&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of policy functions&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-f42127cba3-sim-fish.png&quot; alt=&quot;fish stock dynamics&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;fish stock dynamics&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-f42127cba3-sim-harvest.png&quot; alt=&quot;harvest dynamics&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;harvest dynamics&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;(see &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/a3aad15b159aae10264e39ccf3cbe0cdb8aec279/inst/examples/myer-example.md&quot;&gt;myer-example.md&lt;/a&gt; for code and more graphs &amp;amp; details)&lt;/p&gt;
&lt;h3 id=&quot;using-more-data&quot;&gt;Using more data&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-003da6e98e-gp-plot.png&quot; alt=&quot;Inferred GP&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Inferred GP&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-003da6e98e-policy_plot.png&quot; alt=&quot;plot of policy functions&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of policy functions&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-003da6e98e-sim-fish.png&quot; alt=&quot;plot of sim-fish&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of sim-fish&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-003da6e98e-sim-harvest.png&quot; alt=&quot;plot of sim-harvest&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of sim-harvest&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;(from &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/a1bc09a4a7a2edabbd63916416db6b095d1ead6b/inst/examples/myer-example.md&quot;&gt;earlier myer-example.md&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;comparing-gp-to-estimated-ricker-on-bh-dynamics&quot;&gt;Comparing GP to estimated Ricker on BH dynamics:&lt;/h2&gt;
&lt;p&gt;GP performs well, but Ricker performs adequately as well: &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/cac79bcc42433a6b8720d5d4c5824c57a850a56c/inst/examples/reed-example.md&quot;&gt;reed-example.md&lt;/a&gt; (shows an example with stationary data).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-8b057f1f24-gp-plot.png&quot; alt=&quot;plot of chunk gp-plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk gp-plot&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-8b057f1f24-policy_plot.png&quot; alt=&quot;plot of chunk policy_plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policy_plot&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-8b057f1f24-sim-fish.png&quot; alt=&quot;plot of chunk sim-fish&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk sim-fish&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-8b057f1f24-sim-harvest.png&quot; alt=&quot;plot of chunk sim-harvest&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk sim-harvest&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;other-advances&quot;&gt;Other advances&lt;/h2&gt;
&lt;p&gt;Approaches shown above address a variety of issues as well:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compares to a Ricker estimated by MLE (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/8&quot;&gt;#8&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Considers fewer non-stationary observations, but include 0,0 as observation (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/13&quot;&gt;#13&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Includes scrap value (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/10&quot;&gt;#10&lt;/a&gt;), though this does not guarentee no fishing under non-persistence estimation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A few next steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;measurement error should be introduced in the simulations (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/11&quot;&gt;#11&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Evaluate GP performance under larger noise conditions. (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/14&quot;&gt;#14&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See issues log for further issues to explore and more details on closed issues. See commit log for full details, this entry summarizes progress over the latter half of the week.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Nonparametric Bayes Notes</title>
   <link href="/2012/12/11/nonparametric-bayes-notes.html"/>
   <updated>2012-12-11T00:00:00-08:00</updated>
   <id>h/2012/12/11/nonparametric-bayes-notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Code &lt;code&gt;gp_transition_matrix&lt;/code&gt; for generic multi-dimensional case&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;understanding-gaussian-process-performance&quot;&gt;Understanding Gaussian Process performance&lt;/h2&gt;
&lt;p&gt;If the estimated recruitment dynamics correspond to population dynamics that are non-persistent (might call this non self-sustaining, but in a rather stricter sense than when Reed (1979) introduced that term), and if no reward is offered at the terminal time point for a standing stock (zero scrap value), the GP dictates the rather counter-intuitive practice of simply removing the stock entirely.&lt;/p&gt;
&lt;p&gt;Exploring this by comparing evolution of the probability density for the population size under the transition function. Consider this example from a May1979 model (full run in &lt;a href=&quot;&quot;&gt;may1979-example.md&lt;/a&gt;): The Gaussian process infers a rather pessemistic evolution of the probabilty density (grey distribution becomes black distribution when unharvested, 20 years (OptTime)):&lt;/p&gt;
&lt;h4 id=&quot;gp-transition-function&quot;&gt;GP transition function&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-a3aad15b15-gp-F-sim.png&quot; alt=&quot;plot of chunk gp-F-sim&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk gp-F-sim&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Whereas the actual transition function moves the stock to a tight window around the high carrying capacity:&lt;/p&gt;
&lt;h4 id=&quot;true-transition-function&quot;&gt;true transition function&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-15-a3aad15b15-par-F-sim.png&quot; alt=&quot;plot of chunk par-F-sim&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk par-F-sim&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Often this results in a policy function that harvests all the fish, since they won’t persist. Exploring approaches to avoid such solutions, such as adding a reward for leaving some standing stock at the boundary time (issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/10&quot;&gt;#10&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;multi-species-examples-issue-7&quot;&gt;Multi-species examples (issue &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/7&quot;&gt;#7&lt;/a&gt;)&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/b5b1d3300497399fb364a40c9f4523203944702d/inst/examples/multidimensional.md&quot;&gt;multidimensional.md&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;fragility-of-parametric-rigidity-examples&quot;&gt;Fragility of parametric rigidity examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;infer under BH and simulate under allee&lt;/li&gt;
&lt;li&gt;Infer ricker, simulate under BH&lt;/li&gt;
&lt;li&gt;Other examples?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;mcmc&quot;&gt;MCMC&lt;/h2&gt;
&lt;p&gt;Examples of controlling priors, resulting posteriors. &lt;a href=&quot;http://www.carlboettiger.info/2012/12/10/prior-distributions-for-tgp-mcmc.html&quot;&gt;See yesterday’s notes for details&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;additional-r-software-support&quot;&gt;additional R software support&lt;/h2&gt;
&lt;p&gt;Have been focusing recently on the MCMC implementation for treed Gaussian Processes, provided in the &lt;a href=&quot;http://cran.r-project.org/web/packages/tgp&quot;&gt;&lt;code&gt;tgp&lt;/code&gt;&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;Lots of various implementations of Gaussian Proccesses in R in &lt;a href=&quot;http://cran.r-project.org/web/views/Spatial.html&quot;&gt;geospatial stats packages&lt;/a&gt; (e.g. Kriging implementations) including some the offer fully heirachical Bayesian approaches with a variety of twists:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/psgp/index.html&quot;&gt;&lt;code&gt;psgp&lt;/code&gt;&lt;/a&gt; Projected Spatial Gaussian Process (psgp) methods, Implements projected sparse Gaussian process kriging for the intamap package&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/gstat/&quot;&gt;&lt;code&gt;gstat&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/geoR/&quot;&gt;&lt;code&gt;geoR&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/spBayes/index.html&quot;&gt;&lt;code&gt;spBayes&lt;/code&gt;&lt;/a&gt; spBayes fits univariate and multivariate spatial models with Markov chain Monte Carlo (MCMC).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/ramps/index.html&quot;&gt;&lt;code&gt;ramps&lt;/code&gt;&lt;/a&gt; Bayesian geostatistical modeling of Gaussian processes using a reparameterized and marginalized posterior sampling (RAMPS) algorithm designed to lower autocorrelation in MCMC samples. Package performance is tuned for large spatial datasets.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;from-the-commit-log&quot;&gt;From the commit log…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;another example (includes some data in the higher range) #7 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/b5b1d3300497399fb364a40c9f4523203944702d&quot;&gt;06:49 pm 2012/12/11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;a simple multi-demensional example (no policy function yet) #7 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/b74ccc45667d4e20790acca3c5947d9a23fc5e95&quot;&gt;06:43 pm 2012/12/11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;updated notes on mcmc approach #6 &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/19bbd1028b702ab9243cb525e3a8b441324408c7&quot;&gt;03:51 pm 2012/12/11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;transition matrix method for GP takes Ef, Cf explicitly now. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/49cea150618907f48b058e45bbbc01a43c44f8c5&quot;&gt;03:50 pm 2012/12/11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;GP that results in scorched earth fishing strategy &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/6fc937211b6c5381b46dc0e8ffff6092545d7519&quot;&gt;02:19 pm 2012/12/11&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Prior Distributions For Tgp Mcmc</title>
   <link href="/2012/12/10/prior-distributions-for-tgp-mcmc.html"/>
   <updated>2012-12-10T00:00:00-08:00</updated>
   <id>h/2012/12/10/prior-distributions-for-tgp-mcmc</id>
   <content type="html">&lt;p&gt;I am trying to understand the interface for tgp method, but much of it is not well documented (yes, despite reading through the package R manual, two nice vignettes, and a the PhD Thesis describing it.)&lt;/p&gt;
&lt;p&gt;Just to get some consistent notation down: consider the case of a Gaussian process with a Gaussian/radial basis function kernel, parameterized as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K(X, X&amp;#39;) = \sigma^2 e^{\frac{(X-X&amp;#39;)^2}{d}}&quot; alt=&quot;K(X, X&amp;#39;) = \sigma^2 e^{\frac{(X-X&amp;#39;)^2}{d}}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And observations from &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z = f(X) + \varepsilon\inline&quot;/&gt;&lt;/span&gt;, for which we seek to approximate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt; as a (multivariate) Gaussian process, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z | X ~ N(\mu, C)\inline&quot;/&gt;&lt;/span&gt;. The covariance matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C\inline&quot;/&gt;&lt;/span&gt; is given by our kernel &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K\inline&quot;/&gt;&lt;/span&gt;, conditioned on our observations; the mean &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu\inline&quot;/&gt;&lt;/span&gt; is given by a constant or linear model, likewise conditioned on our observations. If the multivariate normal of observed and predicted points is,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\begin{align}\begin{pmatrix} y_{\textrm{obs}} \ y_{\textrm{pred}} \end{pmatrix} \sim \mathcal{N}\left( \mathbf{0}, \begin{bmatrix} cov(X_o,X_o) &amp;amp; cov(X_o, X_p) \ cov(X_p,X_o) &amp;amp; cov(X_p, X_p) \end{bmatrix} \right)\end{align}&quot; alt=&quot;\begin{align}\begin{pmatrix} y_{\textrm{obs}} \ y_{\textrm{pred}} \end{pmatrix} \sim \mathcal{N}\left( \mathbf{0}, \begin{bmatrix} cov(X_o,X_o) &amp;amp; cov(X_o, X_p) \ cov(X_p,X_o) &amp;amp; cov(X_p, X_p) \end{bmatrix} \right)\end{align}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;the conditional probability is&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x|y \sim \mathcal{N}(E,C)&quot; alt=&quot;x|y \sim \mathcal{N}(E,C)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E = \operatorname{cov}(X_p, X_o) (\operatorname{cov}(X_o,X_o) + \varepsilon \mathbb{I}) ^{-1} y&quot; alt=&quot;E = \operatorname{cov}(X_p, X_o) (\operatorname{cov}(X_o,X_o) + \varepsilon \mathbb{I}) ^{-1} y&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C= \operatorname{cov}(X_p, X_p) - \operatorname{cov}(X_p, X_o) (\operatorname{cov}(X_o,X_o)+ \varepsilon \mathbb{I} )^{-1} \operatorname{cov}(X_o, X_p)&quot; alt=&quot;C= \operatorname{cov}(X_p, X_p) - \operatorname{cov}(X_p, X_o) (\operatorname{cov}(X_o,X_o)+ \varepsilon \mathbb{I} )^{-1} \operatorname{cov}(X_o, X_p)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Our hyperparameters are &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2\inline&quot;/&gt;&lt;/span&gt;, and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\varepsilon\inline&quot;/&gt;&lt;/span&gt;, for which we need priors. We’ll use the inverse gamma,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(x; a, g) = \frac{g^a}{\Gamma(a)} x^{-a - 1}\exp\left(-\frac{g}{x}\right)&quot; alt=&quot;P(x; a, g) = \frac{g^a}{\Gamma(a)} x^{-a - 1}\exp\left(-\frac{g}{x}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The distribution arises as the marginal posterior distribution for the unknown variance of a normal distribution if an uninformative prior is used; and as a useful conjugate prior if a less uninformative prior is preferred. However, it is common among Bayesians to consider an alternative parametrization of the normal distribution in terms of the precision, defined as the reciprocal of the variance, which allows the gamma distribution to be used directly as a conjugate prior.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X\inline&quot;/&gt;&lt;/span&gt; is &lt;code&gt;X&lt;/code&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z\inline&quot;/&gt;&lt;/span&gt; is &lt;code&gt;Z&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2\inline&quot;/&gt;&lt;/span&gt; is the parameter &lt;code&gt;s2&lt;/code&gt; in the &lt;code&gt;tgp&lt;/code&gt; package, coming from inverse gamma prior with parameters &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a = a_0\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?g = g_0\inline&quot;/&gt;&lt;/span&gt;, which are set by &lt;code&gt;s2.p = c(a_0, g_0)&lt;/code&gt;. Optionally, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a_0\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?g_0\inline&quot;/&gt;&lt;/span&gt; can be taken from an exponential prior &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda e^{-\lambda x}\inline&quot;/&gt;&lt;/span&gt;, in which the value of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda\inline&quot;/&gt;&lt;/span&gt; is given by &lt;code&gt;s2.lam = c(lambda_a, lambda_g)&lt;/code&gt;. Setting &lt;code&gt;s2.lam = &amp;quot;fixed&amp;quot;&lt;/code&gt; “turns off” the use of a hyperprior.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d\inline&quot;/&gt;&lt;/span&gt; I believe is &lt;code&gt;d&lt;/code&gt;, which Grammarcy calls the range parameter (other terms include the “lengthscale”). I am not sure what either &lt;code&gt;d&lt;/code&gt; or &lt;code&gt;s2&lt;/code&gt; correspond to if the covariance function &lt;code&gt;corr&lt;/code&gt; is something other than the radial basis function. I’m also not clear how to set the correlation function to a strictly Gaussian covariance – &lt;code&gt;corr&lt;/code&gt; is set to the &lt;code&gt;exp&lt;/code&gt; family, which leaves the power as a parameter &lt;code&gt;p_0&lt;/code&gt;:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K(X, X&amp;#39;) =  e^{\frac{-(X-X&amp;#39;)^p_0}{d}}&quot; alt=&quot;K(X, X&amp;#39;) =  e^{\frac{-(X-X&amp;#39;)^p_0}{d}}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(from equation 4 in the Vignette (1)). The parameter &lt;code&gt;p_0&lt;/code&gt; is fixed at &lt;code&gt;2&lt;/code&gt;, and not treated as a hyperparameter.&lt;/p&gt;
&lt;p&gt;The length-scale comes from a hyperparameter that is the sum (mixture) of two Gamma distributions, with prior parameter &lt;code&gt;c(a1,g1,a2,g2)&lt;/code&gt; where &lt;code&gt;g1&lt;/code&gt; and &lt;code&gt;g2&lt;/code&gt; are scale (1/rate) parameters. As before, these parameters &lt;code&gt;c(a1, g1, a2, g2)&lt;/code&gt; can be drawn from an exponential distribution hyperprior whose &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda\inline&quot;/&gt;&lt;/span&gt; values are given by &lt;code&gt;d.lam&lt;/code&gt;, or turned off.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\varepsilon\inline&quot;/&gt;&lt;/span&gt; is &lt;code&gt;nug&lt;/code&gt;. It seems to have same shape prior as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d\inline&quot;/&gt;&lt;/span&gt;, specified by &lt;code&gt;c(a1,g1,a2,g2)&lt;/code&gt;, and optional hyperprior as well. Additionally it can be fixed to a constant by setting &lt;code&gt;nug.p = 0&lt;/code&gt; and specifying the staring value as &lt;code&gt;gd[1]&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The mean is not fixed at zero but is instead a linear model, we need hyperparameters for it as well. The key parameter there is the slope &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta\inline&quot;/&gt;&lt;/span&gt;. The functional form for it’s prior is specified as &lt;code&gt;bprior&lt;/code&gt;, which takes values &lt;code&gt;bflat&lt;/code&gt;, &lt;code&gt;b0&lt;/code&gt;, &lt;code&gt;bmzt&lt;/code&gt;, or &lt;code&gt;bmznot&lt;/code&gt;. A sensible choice is as a Gaussian &lt;code&gt;b0&lt;/code&gt;, as shown in Equation 1 of the vignette&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[
\begin{align} 
Z | \beta, \sigma^2, K &amp;amp;\sim N_n(\mathbf{F} \beta, \sigma^2 \mathbf{K}) \\
\beta | \sigma^2, \tau^2, \mathbf{W}, \beta_0 &amp;amp;\sim N_m(\beta_0, \sigma^2 \tau^2 \mathbf{W} )  \\
\beta_0 &amp;amp;\sim N_m(\mathbf{\mu}, \mathbf{B})
\end{align}
\]&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;example-comparison&quot;&gt;Example comparison&lt;/h2&gt;
&lt;p&gt;Say, given some observed data pairs &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x,y\inline&quot;/&gt;&lt;/span&gt; and predictions desired on a grid &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;X =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;)
x =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
y =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Manually I could just do:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;d =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;; epsilon =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;; sigma =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;; &lt;span class=&quot;co&quot;&gt;#fixed hyperparamaters&lt;/span&gt;
SE &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(Xi,Xj, d) sigma *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(-&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(Xi -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Xj) ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;d ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
cov &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, Y) &lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(X, Y, SE, d) 
cov_xx_inv &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x, x) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;epsilon *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x)))
Ef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, x) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y
Cf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, x)  %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x, X)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And &lt;code&gt;Ef&lt;/code&gt; and &lt;code&gt;Cf&lt;/code&gt; are the estimated (krieging) mean and covariance.&lt;/p&gt;
&lt;h2 id=&quot;priors&quot;&gt;Priors&lt;/h2&gt;
&lt;p&gt;Note: it appears that the mixed gammas for &lt;code&gt;d&lt;/code&gt; and &lt;code&gt;nug&lt;/code&gt; actually treat the second argument, &lt;code&gt;g1&lt;/code&gt; and &lt;code&gt;g2&lt;/code&gt;, as the rate instead of the scale, so I invert the desired scale:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;s2.p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;)
tau2.p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
d.p =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;)
nug.p =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Define as curves and plot the priors:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;s2_prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dinvgamma&lt;/span&gt;(x, s2.p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], s2.p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
tau2_prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dinvgamma&lt;/span&gt;(x, tau2.p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], tau2.p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
d_prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dgamma&lt;/span&gt;(x, d.p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;scale =&lt;/span&gt; d.p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dgamma&lt;/span&gt;(x, d.p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;scale =&lt;/span&gt; d.p[&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;])
nug_prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dgamma&lt;/span&gt;(x, nug.p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;scale =&lt;/span&gt; nug.p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dgamma&lt;/span&gt;(x, nug.p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;scale =&lt;/span&gt; nug.p[&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;])
beta0_prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, tau) &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(x, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, tau)

xx &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(.&lt;span class=&quot;dv&quot;&gt;0001&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length.out=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)
priors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; xx, &lt;span class=&quot;dt&quot;&gt;s2 =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;s2_prior&lt;/span&gt;(xx), &lt;span class=&quot;dt&quot;&gt;tau2 =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;tau2_prior&lt;/span&gt;(xx), &lt;span class=&quot;dt&quot;&gt;beta0 =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;beta0_prior&lt;/span&gt;(xx, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;nug =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;nug_prior&lt;/span&gt;(xx), &lt;span class=&quot;dt&quot;&gt;d =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;d_prior&lt;/span&gt;(xx))
priors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(priors, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(priors) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~variable, &lt;span class=&quot;dt&quot;&gt;scale=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-10-9b2d792442-unnamed-chunk-5.png&quot; alt=&quot;plot of chunk unnamed-chunk-5&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-5&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bgp&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;X=&lt;/span&gt;x, &lt;span class=&quot;dt&quot;&gt;XX=&lt;/span&gt;X, &lt;span class=&quot;dt&quot;&gt;Z=&lt;/span&gt;y, &lt;span class=&quot;dt&quot;&gt;verb=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,
          &lt;span class=&quot;dt&quot;&gt;meanfn=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;constant&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;bprior=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;b0&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;BTE=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2000&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;6000&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;m0r1=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, 
          &lt;span class=&quot;dt&quot;&gt;corr=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;exp&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;trace=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;beta =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,
          &lt;span class=&quot;dt&quot;&gt;s2.p =&lt;/span&gt; s2.p, &lt;span class=&quot;dt&quot;&gt;d.p =&lt;/span&gt; d.p, &lt;span class=&quot;dt&quot;&gt;nug.p =&lt;/span&gt; nug.p,
          &lt;span class=&quot;dt&quot;&gt;s2.lam =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;d.lam =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;nug.lam =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, 
          &lt;span class=&quot;dt&quot;&gt;tau2.lam =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;tau2.p =&lt;/span&gt; tau2.p)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Extract the posterior Gaussian process mean and the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pm 2\inline&quot;/&gt;&lt;/span&gt; standard deviations over the predicted grid from the fit:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gp$ZZ.ks2
tgp_dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x   =&lt;/span&gt; gp$XX[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], 
                  &lt;span class=&quot;dt&quot;&gt;y   =&lt;/span&gt; gp$ZZ.km, 
                 &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; gp$ZZ.km -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(gp$ZZ.ks2), 
                 &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; gp$ZZ.km +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(gp$ZZ.ks2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and likewise for our manual data:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;manual_dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, 
                         &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; Ef, 
                         &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; (Ef -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf))), 
                         &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; (Ef +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf))))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Compare the GP posteriors:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(tgp_dat) +
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; ymin, &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ymax), &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# Var&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# mean&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; y), &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# raw data&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;dat =&lt;/span&gt; manual_dat, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; ymin, &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ymax), &lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# Var&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;dat =&lt;/span&gt; manual_dat, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;)  +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#MEAN    &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;theme_bw&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;theme&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;plot.background =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;element_rect&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;colour =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-10-9b2d792442-gp-plot.png&quot; alt=&quot;plot of chunk gp-plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk gp-plot&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;posteriors-of-hyperparameters&quot;&gt;Posteriors of hyperparameters&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
hyperparameters &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;index&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;s2&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;tau2&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;beta0&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;nug&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;ldetK&amp;quot;&lt;/span&gt;)
posteriors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(gp$trace$XX[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][,hyperparameters], &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;index&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(posteriors) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_histogram&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~variable, &lt;span class=&quot;dt&quot;&gt;scales=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-10-9b2d792442-unnamed-chunk-9.png&quot; alt=&quot;plot of chunk unnamed-chunk-9&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-9&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Github Issues Tracker: The Perfect Research Todo List</title>
   <link href="/2012/12/06/github-issues-tracker%3A-the-perfect-research-todo-list.html"/>
   <updated>2012-12-06T00:00:00-08:00</updated>
   <id>h/2012/12/06/github-issues-tracker:-the-perfect-research-todo-list</id>
   <content type="html">&lt;p&gt;Github issues tracker has increasingly become my research to-do list. Far beyond bugs and features of the code associated with the project, the issues sign-post different directions for investigation and the progress I’ve made in each. Tags serve to group issues related to a common sub-project (as in my &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues&quot;&gt;pdg-control&lt;/a&gt;) repo or priotize tasks (as in my &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues&quot;&gt;nonparametric-bayes&lt;/a&gt; repo.&lt;/p&gt;
&lt;p&gt;Issues not only have title and tags, but support a comment thread for progress and discussion of the issue. Thanks to github-flavored-markdown, issues can reference each other simply by number, and can be updated or closed automatically by mentioning the issue number in a commit.&lt;/p&gt;
&lt;p&gt;Issues can also be grouped into shared deadlines, or milestones; a feature I haven’t fully exploited (but see our &lt;a href=&quot;https://github.com/cboettig/ews-review/issues/milestones&quot;&gt;ews-review&lt;/a&gt; paper). In any collaborative project the issues can be assigned to different people, (though currently this requires they have a Github account).&lt;/p&gt;
&lt;p&gt;A consequence of this workflow is a conveniently numbered, color-coded and cross-linked collection of steps involved in a given research project. This tends to be a higher-level overview than the individual commit log, particularly as I often use commits to track multiple runs with different parameters, or move code across to different supercomputers that do the actual runs.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8490/8250376085_09f734c6f1.jpg&quot; alt=&quot;Example from closed issues on pdg-control&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Example from closed issues on &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?labels=&amp;amp;milestone=&amp;amp;page=1&amp;amp;state=closed&quot;&gt;&lt;code&gt;pdg-control&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I am still figuring out the right level or “resolution” on which to create and track issues.&lt;sup&gt;&lt;a href=&quot;#fn1&quot; class=&quot;footnoteRef&quot; id=&quot;fnref1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; On one extreme, almost every commit could be seen as resolving an issue. The ideal use for me is probably nearer the other extreme, where individual issues are rather big-picture, and may be referenced by many commits. Perhaps the right way to think about it is that the questions addressed by resolving an issue are on the level of &lt;em&gt;what is interesting to others&lt;/em&gt;, while changes in individual commits are more for me. Hopefully I get better at finding this relevant level.&lt;/p&gt;
&lt;p&gt;Another nice feature of issues is that they can be closed when a particular line of investigation hits a dead-end, or stalls, or when the problem is resolved. Unlike the resulting paper from an investigation which essentially summarizes the issues that were closed successfully, the issues tracker also reveals the dead-ends, as well as those issues that were not closed a time of publication (but perhaps left to “further research”). Hopefully I will have some decent examples of this in the repositories accompanying my next papers.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot;&gt;&lt;p&gt;Unlike issues, commits do not have a native tag structure (so-called “tags” mark important events in the commit history rather than grouping common commits). So at least this would group commits by the tag of the associated issue.&lt;a href=&quot;#fnref1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/12/05/notes.html"/>
   <updated>2012-12-05T00:00:00-08:00</updated>
   <id>h/2012/12/05/notes</id>
   <content type="html">&lt;h2 id=&quot;pdg-control-call&quot;&gt;pdg-control Call&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Send Figure 3 and 4 with stock dynamics to Paul.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Detailed to do items coming out of talk filed as Github Issues for &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?labels=policy+costs&amp;amp;page=1&amp;amp;state=open&quot;&gt;pdg-control (policycosts)&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/41&quot;&gt;Comparisons between assumed and true policy costs (Figure 5 style but as a Table)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/40&quot;&gt;Snappier, more meaningful names for “L1”, “L2” etc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/39&quot;&gt;Write real-world context/significance of L1, L2, fixed, etc.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/38&quot;&gt;Add graph &amp;amp; discussion of stock dynamics for Fig 3 &amp;amp; 4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/37&quot;&gt;Figure 5 interpretation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/36&quot;&gt;Fix boundary issues in Figure 4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/35&quot;&gt;Resolve confusion about apples-to-apples / definition of NPV0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/34&quot;&gt;Resolve cost structure question&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/33&quot;&gt;On functional forms, drop ALL asymmetric cases for now.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;comment-piece&quot;&gt;Comment piece&lt;/h2&gt;
&lt;p&gt;Round 1 revisions sent to Lucy and Alan.&lt;/p&gt;
&lt;h3 id=&quot;workflow-workshop&quot;&gt;Workflow Workshop&lt;/h3&gt;
&lt;p&gt;At Simone’s invitation, I’m running a little session on workflow in git/Github, Rstudio, and knitr for the Mangel lab group. A quick brainstorm for an outline:&lt;/p&gt;
&lt;h4 id=&quot;a-first-tutorial&quot;&gt;A first tutorial&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Create a new repository on Github&lt;/li&gt;
&lt;li&gt;launch an RStudio session, select create new project&lt;/li&gt;
&lt;li&gt;Add the &lt;code&gt;git@&lt;/code&gt; url to the project, select a local directory, hit “create”&lt;/li&gt;
&lt;li&gt;In Rstudio, create new R Markdown file.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Editing the file. Hit “Knit HTML” button.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;add the files to git: git tab, check boxes.&lt;/li&gt;
&lt;li&gt;commit the .Rmd and md files, and push files to Github.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Viewing files on github.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Navigating Github: Project directory, viewing &lt;code&gt;.md&lt;/code&gt; files, raw mode, viewing history of a file, getting permanent links to specific versions.&lt;br /&gt;10: Github extras: using issues. (Referencing issues in commits)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recovering a deleted file.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;git-more-advanced&quot;&gt;Git More Advanced&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Create a gh-pages branch and add the html generated from the Rstudio/knitr. (Covers branching &amp;amp; webpage hosting on github)&lt;/li&gt;
&lt;li&gt;Create a github homepage&lt;/li&gt;
&lt;li&gt;Merging changes, resolving conflicts.&lt;/li&gt;
&lt;li&gt;collaborating via github.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;why sha hashes are awesome&lt;/li&gt;
&lt;li&gt;private repositories&lt;/li&gt;
&lt;li&gt;Repo Readmes&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;other-topics&quot;&gt;Other topics&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Managing references. Sharing collections (Mendeley)&lt;/li&gt;
&lt;li&gt;References in markdown. Pandoc. (knitcitations?)&lt;/li&gt;
&lt;li&gt;Managing data. Figshare.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Social media for science.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tgp Mcmc For Gaussian Processes</title>
   <link href="/2012/12/04/tgp-mcmc-for-gaussian-processes.html"/>
   <updated>2012-12-04T00:00:00-08:00</updated>
   <id>h/2012/12/04/tgp-mcmc-for-gaussian-processes</id>
   <content type="html">&lt;p&gt;Exploring implementation through &lt;code&gt;tgp&lt;/code&gt; package MCMC routine and background reading (manual, vignettes, thesis).&lt;/p&gt;
&lt;p&gt;Example call:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bgp&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;X=&lt;/span&gt;X, &lt;span class=&quot;dt&quot;&gt;XX=&lt;/span&gt;XX, &lt;span class=&quot;dt&quot;&gt;Z=&lt;/span&gt;Z, &lt;span class=&quot;dt&quot;&gt;meanfn=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;constant&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;bprior=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;b0&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;BTE=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;6000&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;m0r1=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;verb=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;corr=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;exp&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;trace=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;s2.p=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;tau2.p=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;s2.lam=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;tau2.lam=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Verbose return:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;n=39, d=1, nn=101
BTE=(1000,6000,2), R=1, linburn=0
RNG state RK using rk_seed
preds: data krige
T[alpha,beta,nmin,smin,bmax]=[0,0,10,1,1]
mean function: constant
beta prior: b0 hierarchical
s2[a0,g0]=[5,10]
s2 prior fixed
tau2[a0,g0]=[5,10]
tau2 prior fixed
corr prior: isotropic power
nug[a,b][0,1]=[1,1],[1,1]
nug prior fixed
gamlin=[0,0.2,0.7]
d[a,b][0,1]=[1,20],[10,10]
d prior fixed&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The parameters in this run are constant across the trace points (because hyperparameters are fixed).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;X&lt;/code&gt; is the observed X values (or matrix of appropriate dimension)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;XX&lt;/code&gt; the desired predicted grid. (will also predict on X)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Z&lt;/code&gt; is observed Y values (or matrix of appropriate dimension)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;m0r1&lt;/code&gt; means scale data to mean zero and unit range&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bprior&lt;/code&gt; is the prior distribution, defaulting to &lt;code&gt;bfalt&lt;/code&gt;. &lt;code&gt;b0&lt;/code&gt; is a Gaussian. This prior is for the Gaussian process and is not to be confused with the hyperpriors describing the distribution of various parameters.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;BTE&lt;/code&gt; Burn-in B steps, Terminate after T steps, sample Every E steps.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;verb&lt;/code&gt; Very verbose output&lt;/li&gt;
&lt;li&gt;Other options (for adaptive/query learning, etc, igored for now. Focus on priors).&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The priors for the hyperparameters are given by &lt;code&gt;s2.p&lt;/code&gt;, &lt;code&gt;tau.p&lt;/code&gt; etc (both are Inverse Gammas). Their parameters can vary hiearchically in general, but we hold them fixed, &lt;code&gt;s2.lam = 'fixed'&lt;/code&gt;, etc.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;s2&lt;/code&gt; is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2\inline&quot;/&gt;&lt;/span&gt; in Gramacy and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tau\inline&quot;/&gt;&lt;/span&gt; in Rassmussen and Williams, is the scale of the noise. Comes from an inverse gamma prior. Set by inverse-gamma parameters &lt;code&gt;a0&lt;/code&gt; and &lt;code&gt;g0&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;tau2&lt;/code&gt; Also comes from an inverse gamma prior. It is also set by inverse-gamma parameters &lt;code&gt;a0&lt;/code&gt; and &lt;code&gt;g0&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z | \beta, \sigma^2, K \sim N_n(\mathbf{F} \beta, \sigma^2 \mathbf{K})&quot; alt=&quot;Z | \beta, \sigma^2, K \sim N_n(\mathbf{F} \beta, \sigma^2 \mathbf{K})&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta | \sigma^2, \tau^2, \mathbf{W}, \beta_0 ~ N_m(\beta_0, \sigma^2 \tau^2 \mathbf{W} )&quot; alt=&quot;\beta | \sigma^2, \tau^2, \mathbf{W}, \beta_0 ~ N_m(\beta_0, \sigma^2 \tau^2 \mathbf{W} )&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta_0 | N_m(\mathbf{\mu}, \mathbf{B})&quot; alt=&quot;\beta_0 | N_m(\mathbf{\mu}, \mathbf{B})&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We keep the heirachical priors fixed in the &lt;code&gt;tau.lm&lt;/code&gt;, &lt;code&gt;s2.lm&lt;/code&gt;, etc. &lt;code&gt;nug&lt;/code&gt; fixed by default. Note this results in the the priors from which these are sampled are fixed: e.g. &lt;code&gt;gp$trace$hier$s2.a0&lt;/code&gt;, &lt;code&gt;gp$trace$hier$s2.g0&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;nug.p&lt;/code&gt; This is the “nugget,” the measurement error. Comes from a mixture of gamma prior parameter (initial values) for the nugget parameter &lt;code&gt;c(a1,g1,a2,g2)&lt;/code&gt; where &lt;code&gt;g1&lt;/code&gt; and &lt;code&gt;g2&lt;/code&gt; are scale (&lt;code&gt;1/rate&lt;/code&gt;) parameters. &lt;em&gt;Default reduces to simple exponential prior.&lt;/em&gt; Specifying &lt;code&gt;nug.p = 0&lt;/code&gt; fixes the nugget parameter to the “starting” value in &lt;code&gt;gd[1]&lt;/code&gt;, i.e., it is excluded from the MCMC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;index&lt;/code&gt; is the sampling point (from &lt;code&gt;BTE&lt;/code&gt;, we see we sample starting at step 1000 and ending at step 6000, recording every 2 steps, so there are &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?(T-B)/E = 2500\inline&quot;/&gt;&lt;/span&gt; index points).&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lambda&lt;/code&gt; possibly a mixing parameter in the importance sampler temperature??&lt;/li&gt;
&lt;li&gt;&lt;code&gt;beta0&lt;/code&gt; No mention in the manual&lt;/li&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; The parameter for priors using the hierachical exponential distribution for the parameters &lt;code&gt;a1&lt;/code&gt;, &lt;code&gt;a2&lt;/code&gt;, &lt;code&gt;g1&lt;/code&gt;, &lt;code&gt;g2&lt;/code&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;b&lt;/code&gt; ??&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where are the hyperparameters for the correlation function (e.g. the length-scale for the Gaussian??)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;traces&quot;&gt;Traces&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(gp$trace$XX[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;index&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(pars, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(index, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~variable, &lt;span class=&quot;dt&quot;&gt;scales=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free_y&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-unnamed-chunk-5.png&quot; alt=&quot;plot of chunk unnamed-chunk-5&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-5&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It is possible to calculate summary statistics and check out the distribution of these fellows.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(gp$trace$XX[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][,&lt;span class=&quot;st&quot;&gt;&amp;quot;nug&amp;quot;&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 0.009755&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(pars, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_histogram&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~variable, &lt;span class=&quot;dt&quot;&gt;scales=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-unnamed-chunk-6.png&quot; alt=&quot;plot of chunk unnamed-chunk-6&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-6&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;extracting-the-estimated-process&quot;&gt;Extracting the estimated process&lt;/h2&gt;
&lt;p&gt;(The &lt;strong&gt;MAP&lt;/strong&gt;, maximum a posteriori expected mean and variance).&lt;/p&gt;
&lt;p&gt;Extract the posterior Gaussian process mean and the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pm 2\inline&quot;/&gt;&lt;/span&gt; standard deviations over the predicted grid from the fit:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gp$ZZ.ks2
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x   =&lt;/span&gt; gp$XX[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], 
                 &lt;span class=&quot;dt&quot;&gt;y    =&lt;/span&gt; gp$ZZ.km, 
                 &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; gp$ZZ.km -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(gp$ZZ.ks2), 
                 &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; gp$ZZ.km +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.96&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(gp$ZZ.ks2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Plot the posterior Gaussian Process:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;  p1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat) +
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;y, &lt;span class=&quot;dt&quot;&gt;ymin=&lt;/span&gt;ymin, &lt;span class=&quot;dt&quot;&gt;ymax=&lt;/span&gt;ymax), &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;grey80&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# Var&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;y), &lt;span class=&quot;dt&quot;&gt;size=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#MEAN&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;gp$obs,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;llik =&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;prettyNum&lt;/span&gt;(gp$llik)))
  if(!&lt;span class=&quot;kw&quot;&gt;is.null&lt;/span&gt;(true))
    p1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; true, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) 
p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;theme_notebook&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-gp-plot.png&quot; alt=&quot;plot of chunk gp-plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk gp-plot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Find the actual optimum policy from the true parametric model&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat$x
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid
matrices_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f_transition_matrix&lt;/span&gt;(f, p, x_grid, h_grid)
opt_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(matrices_true, x_grid, h_grid, &lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;01&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Estimate a policy from the Gaussian Process:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;rownorm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(M) &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(M, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, function(x) x/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(x)))
matrices_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(h_grid, function(h){
    S &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat$y -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h
    F_ &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(S), function(i){
      if(S[i]&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {
        out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x_grid/S[i], &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, V[i])
      } else {
        out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x_grid))
        out[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
        out
      }
    }))
    F_ &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rownorm&lt;/span&gt;(F_)
  })
opt_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(matrices_gp, x_grid, h_grid, &lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;01&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and plot&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;policies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;stock=&lt;/span&gt;x_grid, &lt;span class=&quot;dt&quot;&gt;GP =&lt;/span&gt; x_grid[opt_gp$D[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;Exact =&lt;/span&gt; x_grid[opt_true$D[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]), &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;)
policy_plot &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policies, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, stock -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;stock size&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;escapement&amp;quot;&lt;/span&gt;) 
policy_plot +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;theme_notebook&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-policy_plot.png&quot; alt=&quot;plot of chunk policy_plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policy_plot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;We can see what happens when we attempt to manage a stock using this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
sim_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, p, x_grid, h_grid, K, opt_gp$D, z_g, &lt;span class=&quot;dt&quot;&gt;profit=&lt;/span&gt;profit)
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
sim_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, p, x_grid, h_grid, K, opt_true$D, z_g, &lt;span class=&quot;dt&quot;&gt;profit=&lt;/span&gt;profit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; sim_gp$time, &lt;span class=&quot;dt&quot;&gt;stock_gp =&lt;/span&gt; sim_gp$fishstock, &lt;span class=&quot;dt&quot;&gt;stock_true =&lt;/span&gt; sim_true$fishstock, &lt;span class=&quot;dt&quot;&gt;harvest_gp =&lt;/span&gt; sim_gp$harvest, &lt;span class=&quot;dt&quot;&gt;havest_true =&lt;/span&gt; sim_true$harvest)
df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(df, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
simplot &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time,value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable))
simplot +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;theme_notebook&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-simplot.png&quot; alt=&quot;plot of chunk simplot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk simplot&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Figures 3 And 4 For Policycosts</title>
   <link href="/2012/12/03/Figures-3-and-4-for-policycosts.html"/>
   <updated>2012-12-03T00:00:00-08:00</updated>
   <id>h/2012/12/03/Figures-3-and-4-for-policycosts</id>
   <content type="html">&lt;p&gt;Straight-forward tasks can sometimes take forever. In advance of our upcoming conference call for the Pretty Darn Good Control (&lt;code&gt;pdg-control&lt;/code&gt;) NIMBioS working group, I had a few remaining issues to touch up in Figures 3 and 4.&lt;/p&gt;
&lt;p&gt;Figure 3 shows harvest and stock dynamics under the different functional forms fo the cost. The goal is to provide a very intuitive, visual sense of how the policies differ under these different functional forms, such as a fixed “transaction fee” (fixed) or a cost that is proportional to the size of the change in policy (L1), or the square of that change (L2), etc. I had already cobbled together the code for this, but simply had to run over the same set of replicates and pick a window length appropriate to see the differences. The trick was make sure we were comparing functional forms that had the same overall net impact on the Net Present Value of the stock. In this way, the differences observed are due only to differences in the form of the cost, and not the total magnitude of the cost. Figure 2 already provided a way to do this scaling, I simply needed to back out the scaling programmatically.&lt;/p&gt;
&lt;p&gt;Finding these “apples-to-apples” levels is something of a computational brute force excercise, computing the costs along a grid of coefficients for each method. Otherwise the idea is pretty straight forward. One trick was being able to use the policies calculated in this step to generate the Figure 3 simulations, rather than recalculating the policy once the right scaling value &lt;code&gt;c2&lt;/code&gt; is known.&lt;/p&gt;
&lt;p&gt;Figure 4 provides a more quantitative way to look at the comparison. I had already created a version of this graph that showed how variance and autocorrelation in the policy and state variable dynamics changed as the total magnitude of the cost increased. Unfortunately this suffered from the apples-to-oranges problem for comparing between functional forms. The x-axis needed to be calculated in terms of the reduction of the NPV, rather then the coefficients (&lt;code&gt;c2&lt;/code&gt;, which mean different things in the different forms), for a proper apples-to-apples comparison.&lt;/p&gt;
&lt;p&gt;Okay, straight forward exercise. 47 commits and 19 hours later, I have what I need. And it is 5am. Oh well, this post is still going down as “Monday”.&lt;/p&gt;
&lt;h3 id=&quot;figure-3&quot;&gt;Figure 3&lt;/h3&gt;
&lt;h4 id=&quot;stock-state-variable-dynamics&quot;&gt;Stock (state variable) dynamics&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-p1.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;harvest-control-variable-dynamics&quot;&gt;Harvest (control variable) dynamics&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-Figure3.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;figure-4&quot;&gt;Figure 4&lt;/h3&gt;
&lt;h4 id=&quot;stock-state-variable-dynamics-1&quot;&gt;Stock (state variable) dynamics&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-Figure4S1.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-Figure4S2.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;harvest-control-variable-dynamics-1&quot;&gt;Harvest (control variable) dynamics&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-Figure41.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-Figure42.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/25e6f1c1a599440be790a7ec047b8b63540255c5/inst/examples/policycosts/writeup.md&quot;&gt;full knitr file here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;These are calculated with &lt;code&gt;c0 = 30&lt;/code&gt;. There’s corresponding figures when fishing effort itself is cost-free, &lt;code&gt;c0 = 0&lt;/code&gt;. See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/cccec55a8ac2ef47dea99d45fdb732e5028aec98/inst/examples/policycosts/costfree.md&quot;&gt;costfree.md&lt;/a&gt;. Looks like the &lt;code&gt;c2&lt;/code&gt; range needs to be extended for this run.&lt;/p&gt;
&lt;h3 id=&quot;figure-2&quot;&gt;Figure 2&lt;/h3&gt;
&lt;p&gt;The apples-to-apples illustration is also generated in this script.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-05-72dc8741fb-apples_plot.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;misc-notes&quot;&gt;Misc notes&lt;/h3&gt;
&lt;p&gt;Caching is pretty helpful in fiddling with these slow computations. Sometimes it helps to copy the cache of the intensive part of a run over from the supercomputer to the local machine, and load the whole cache into an interactive R session. Loading the whole cache can be done as such:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;e &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;environment&lt;/span&gt;()
files &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;.rdb&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;ls *.rdb&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;intern=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(files, lazyLoad, &lt;span class=&quot;dt&quot;&gt;env=&lt;/span&gt;e)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;providied the target chache directory doesn’t have caches of different commits.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Note On Notebook Figures</title>
   <link href="/2012/11/30/Note-on-notebook-figures.html"/>
   <updated>2012-11-30T00:00:00-08:00</updated>
   <id>h/2012/11/30/Note-on-notebook-figures</id>
   <content type="html">&lt;h2 id=&quot;plots-for-the-notebook&quot;&gt;plots for the notebook&lt;/h2&gt;
&lt;p&gt;I have started uploading images to my own server, rather than flickr. Programmatically, this is just a matter of switching the knitr upload function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload.fun =&lt;/span&gt; socialR::notebook.url)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;from my custom &lt;a href=&quot;https://github.com/cboettig/socialR/blob/299f4aeb8cc1a9b31c761dc7c9b14b1d73f7ef25/R/custom_knit.R&quot;&gt;flickr.url&lt;/a&gt; function (a wrapper to &lt;code&gt;Rflickr&lt;/code&gt;) to a custom function &lt;a href=&quot;https://github.com/cboettig/socialR/blob/e9a30fd6381c1a8147cbaec0e3886d559de6d48c/R/notebook.R&quot;&gt;notebook.url&lt;/a&gt; using a system call to &lt;code&gt;cp&lt;/code&gt; (to my local jekyll notebook) and &lt;code&gt;rsync&lt;/code&gt; (so the figure displays before my next jekyll push).&lt;/p&gt;
&lt;p&gt;The new script names image by date and the first 10 characters of the sha hash, as well as the knitr chunk name. This way multiple runs tweaking an individual file are not recorded as separate files if no commits are made to the repository, but every commit is guaranteed to link to a unique set of figures (unless the chunk is loaded from cache and does not generate a new image). All figures also &lt;a href=&quot;http://www.carlboettiger.info/assets/figures/&quot;&gt;appear sorted by date on the webserver&lt;/a&gt; in the manner. I could probably put some lightweightphotobrowser on the server, if browsing images serves any purpose.&lt;/p&gt;
&lt;p&gt;The real reason for the change is to maintain the images in my labnotebook directory, such that the directory is a complete archive that can exist independent of web services such as flickr. The images aren’t included in the git management for obvious reasons. My current archiving on figshare has simple involved zipping up the markdown versions of all my posts by year (in _posts). If I continue in this way, I should need to archive the &lt;code&gt;figures/&lt;/code&gt; directory along with it. Perhaps I should archive the entire Jekyll directory instead.&lt;sup&gt;&lt;a href=&quot;#fn1&quot; class=&quot;footnoteRef&quot; id=&quot;fnref1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;p&gt;An alternative strategy would be to upload each figure to figshare directly in the same way I was doing with flickr. While this has the advantage of clockss archiving, mostly I’m not sure that I should flood my figshare account in this way. I really don’t need a different doi for every attempt to create a figure (just as I’ve decided not to archive each notebook entry as a separate figshare object.)&lt;/p&gt;
&lt;h3 id=&quot;plot-appearance-transparency-in-the-notebook&quot;&gt;Plot appearance (transparency) in the notebook&lt;/h3&gt;
&lt;p&gt;It’s not easy to generate figures that display nicely in both dark and light themes (well, I should just tell ggplot to use a solarized set of theme colors, but I’m too lazy to write that). Meanwhile, just setting the transparent background to the plot, and transparent grid lines against the grey boxes seems to do pretty well:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-12-04-046b509f8d-unnamed-chunk-6.png&quot; alt=&quot;Example transparent plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Example transparent plot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This is accomplished with the codeblock below. Note that we need to tell &lt;code&gt;knitr&lt;/code&gt; chunks to set the background of the png device to transparent, as well as telling ggplot what we want to be transparent:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opts_chunk$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;dev.args=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;bg=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;))
theme_notebook &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;theme_grey&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;theme&lt;/span&gt;(
    &lt;span class=&quot;dt&quot;&gt;plot.background =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;element_rect&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;colour =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;),
    &lt;span class=&quot;dt&quot;&gt;panel.grid.major =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;element_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;colour =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;)),
    panel.grid.minor =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;element_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;colour =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;transparent&amp;quot;&lt;/span&gt;)&lt;span class=&quot;er&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;theme_set&lt;/span&gt;(theme_notebook)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(It appears this makes the gridlines invisible, since they appear over the grey &lt;code&gt;panel.background&lt;/code&gt;. For now, best to leave them white, which shows up against the grey background in any event).&lt;/p&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot;&gt;&lt;p&gt;One challenge this introduces is private posts (such as the reviews I write in peer review, which I sign but cannot publicly disclose). Currently these are ignored by github (&lt;code&gt;.gitignore&lt;/code&gt;) and by Jekyll (&lt;code&gt;exclude:&lt;/code&gt; in &lt;code&gt;_config.yml&lt;/code&gt;). I suppose I could likewise simply tell tarball to ignore &lt;code&gt;_posts/private&lt;/code&gt;.&lt;a href=&quot;#fnref1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>early results in nonparametric-bayes approaches to optimal policy</title>
   <link href="/2012/11/28/nonparametric-bayes-work.html"/>
   <updated>2012-11-28T00:00:00-08:00</updated>
   <id>h/2012/11/28/nonparametric-bayes-work</id>
   <content type="html">&lt;h2 id=&quot;resolving-numerical-and-computational-issues&quot;&gt;Resolving Numerical and Computational issues&lt;/h2&gt;
&lt;h4 id=&quot;sequential-approach-issue-4&quot;&gt;Sequential approach? (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/4&quot;&gt;issue #4&lt;/a&gt;)&lt;/h4&gt;
&lt;p&gt;Thinking through whether or not it is worth optimizing the computational performance of the sequential approach.&lt;/p&gt;
&lt;p&gt;Can it be demonstrated that this actually has higher numerical stability? Alternatively, can it be demonstrated that this is (or is not) equivalent to the calculation performed by the direct inversion? What is the difference in computational complexity between these approaches? e.g. the inverse ends up effectively O(n^3), but what is the recursion?&lt;/p&gt;
&lt;p&gt;If we assume measurement noise, is stability an issue? e.g. introducing such small noise or jitter apparently a standard method to address stability; see pg 12 and citations there-in (Matheron, 1963; Cressie, 1991, Neal, 1997).&lt;/p&gt;
&lt;p&gt;How much accuracy is lost with reasonable grids? Compared to adding jitter?&lt;/p&gt;
&lt;p&gt;Is there any evidence of use for this approach in the substantial GP literature of computational experts?&lt;/p&gt;
&lt;p&gt;With large data sets, the determinant does get close to zero, but solutions appear stable with direct (DGESV) inversion. See &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/4&quot;&gt;issue #4&lt;/a&gt; for a discussion.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;seeing if I get singular matrices in the inversion &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/7faf6791cb386db48687144937868f976814dc65&quot;&gt;09:55 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;print determinant value &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/71f2443754193910bd20af1e9659848d5de1dc86&quot;&gt;10:00 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;choleski-issue-2&quot;&gt;Choleski, (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/2&quot;&gt;issue #2&lt;/a&gt;)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;basic example comparing methods &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/113df7a98a46e0fb91443a60867c887a76f3ccb6&quot;&gt;08:10 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;choleski approach using backsolve &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/5c332aa3ade026973fa5cb873f7ec3c7b5c6f7d3&quot;&gt;05:49 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some explaining to do here.&lt;/p&gt;
&lt;h3 id=&quot;hyperparameter-optimization-issue-3&quot;&gt;Hyperparameter optimization (&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/issues/3&quot;&gt;issue #3&lt;/a&gt;)&lt;/h3&gt;
&lt;p&gt;Added necessary hyperparameter for variance in the covariance kernel &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tau\inline&quot;/&gt;&lt;/span&gt;, in kernel &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tau e^{-(x-x&amp;#39;)^2/\ell}\inline&quot;/&gt;&lt;/span&gt;. Alternatively should be scaling data s.t. variance is unity. Manually tuning this does allow for better fits. Need to try optimization still. Have added a method to condition on the function going through (0,0) with negligible error, currently in a somewhat direct/inelegant code (and potential for numerical instability).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reed example using tau not set to 1 and conditioning on going through (0,0) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/0de731ae0924ea649549dafebb4914f2da3269a6&quot;&gt;05:34 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;allow for tau as hyperparameter &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ca583db171b79f732c00ce8acd5b902942619c4e&quot;&gt;02:55 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now getting reasonable performance of the Gaussian process relative to the optimal policy (also see earlier examples below). Comforting to see that the Gaussian Process results in slightly larger uncertainty and manages slightly more conservatively (higher standing stock, lower harvests). Very conservative outside range of data – resulting in a policy function deviating strongly from Reed’s constant escapement.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-ca583db171-unnamed-chunk-2.png&quot; alt=&quot;plot of chunk unnamed-chunk-2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-2&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-ca583db171-policy_plot.png&quot; alt=&quot;plot of chunk policy_plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policy_plot&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-ca583db171-simplot.png&quot; alt=&quot;plot of chunk simplot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk simplot&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;functionalize-package&quot;&gt;Functionalize package&lt;/h3&gt;
&lt;p&gt;Existing methods now all implemented in package function &lt;code&gt;gp_fit&lt;/code&gt;, and method for SDP via GP in &lt;code&gt;gp_transition_matrices&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;as before but with kernlab fit (underestimates lengthscale) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/16892e97b750b8d2e0bf7e31cf05cdaae592e979&quot;&gt;02:16 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Identical to previous reed-example commit but with kernlab engine (not fit) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ba98931d271492ff1b819b558dceefcc04c444f2&quot;&gt;02:14 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Example of direct method using subroutines from &lt;code&gt;R/&lt;/code&gt; &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/158fae025441495527c58dda627756ff54d9862f&quot;&gt;02:11 pm 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Different GP fitting routines can all be called with gp_fit and plotted with plot.gpfit. transition matrices for GP can be estimated with &lt;code&gt;gp_transition_matrices&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;See example use in reed-example.R &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/8fa49628f1969eab457109c7364382649e87143e&quot;&gt;01:48 pm 2012/11/28&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Policy Costs Work</title>
   <link href="/2012/11/27/policy-costs-work.html"/>
   <updated>2012-11-27T00:00:00-08:00</updated>
   <id>h/2012/11/27/policy-costs-work</id>
   <content type="html">&lt;p&gt;Scripts to estimate apples to apples comparisons for different penalty functions and plot instances of the resulting policy. Example run with fixed linear costs on effort.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Double the actual variance leads to terminal overfishing &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/ee608e9a5dc94f98c7cb97e13133e01bd0823815&quot;&gt;11:16 am 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;use fixed seed. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/22930fb2a81b2e89d848516b6bbca4278fc1e59b&quot;&gt;09:45 am 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Compare GP to Reed optimum for BH (successful run this time) &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/59d864f621fbe6926407fb2e9adf7a255f8b84a7&quot;&gt;09:37 am 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;basic GP example in BH system, compared to Reed Optimum &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/05e096fce1f65155b7b288be39d983717069edef&quot;&gt;09:17 am 2012/11/28&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Content of current working example, run on server &lt;em&gt;zero&lt;/em&gt;. See commit &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/942b2faa91d4930622133f7c9385ef2c65e976f1/inst/examples/policycosts/policycosts_writeup_c0_30.md&quot;&gt;942b2faa91&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;seed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;123&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# Random seed (replicable results)&lt;/span&gt;
delta &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# economic discounting rate&lt;/span&gt;
OptTime &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# stopping time&lt;/span&gt;
gridsize &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# grid size for fish stock and harvest rate (discretized population)&lt;/span&gt;
sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.2&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
reward &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# bonus for satisfying the boundary condition&lt;/span&gt;
z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)  &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# No measurement noise,&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# No implemenation noise&lt;/span&gt;
f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;BevHolt  &lt;span class=&quot;co&quot;&gt;# Select the state equation&lt;/span&gt;
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)  &lt;span class=&quot;co&quot;&gt;# parameters for the state equation&lt;/span&gt;
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]  &lt;span class=&quot;co&quot;&gt;# Carrying capacity (for reference&lt;/span&gt;
xT &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# boundary conditions&lt;/span&gt;
x0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K
profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;c0 =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;c1 =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; gridsize)
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.8&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; gridsize)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;determine_SDP_matrix&lt;/span&gt;(f, pars, x_grid, h_grid, sigma_g)
opt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, delta, &lt;span class=&quot;dt&quot;&gt;reward =&lt;/span&gt; reward)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;L1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(c2) function(h, h_prev) c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(h -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_prev)
free_increase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(c2) function(h, h_prev) c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;min&lt;/span&gt;(h -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_prev, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))  &lt;span class=&quot;co&quot;&gt;# increasing harvest is free&lt;/span&gt;
free_decrease &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(c2) function(h, h_prev) c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(h -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_prev, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)  &lt;span class=&quot;co&quot;&gt;# decreasing harvest is free&lt;/span&gt;
fixed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(c2) function(h, h_prev) c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(!(h ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_prev))
L2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(c2) function(h, h_prev) c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(h -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_prev)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
none &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(h, h_prev) &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
penaltyfns &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;L2 =&lt;/span&gt; L2, &lt;span class=&quot;dt&quot;&gt;L1 =&lt;/span&gt; L1, &lt;span class=&quot;dt&quot;&gt;free_decrease =&lt;/span&gt; free_decrease, &lt;span class=&quot;dt&quot;&gt;fixed =&lt;/span&gt; fixed, 
    &lt;span class=&quot;dt&quot;&gt;free_increase =&lt;/span&gt; free_increase)
c2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length.out =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;apples-to-apples-levels&quot;&gt;Apples to Apples levels&lt;/h2&gt;
&lt;p&gt;This can take a while, so we use explicit parallelization,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(snowfall)
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;cpu =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;parallel =&lt;/span&gt; T)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;R Version:  R version 2.15.2 (2012-10-26) 
&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sfLibrary&lt;/span&gt;(pdgControl)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Library pdgControl loaded.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sfExportAll&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;loop-over-penalty-functions-and-magnitudes&quot;&gt;Loop over penalty functions and magnitudes&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;policies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(penaltyfns, function(penalty) {
    policies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(c2, function(c2) {
        policycost &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, 
            delta, reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;penalty&lt;/span&gt;(c2))
        i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which&lt;/span&gt;(x_grid &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K)[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]
        &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(policycost$penalty_free_V[i, ])
    })
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that &lt;code&gt;optim_policy&lt;/code&gt; has been updated to return the equilibrium value of profits from fish harvests before the adjustment costs have been paid, &lt;code&gt;penalty_free_V&lt;/code&gt;. This containst the values for all possible states, we simply evaluate it at the carrying capacity (which is our initial condition.) The index in &lt;code&gt;x_grid&lt;/code&gt; that corresponds to the carrying capacity (initial condition) &lt;code&gt;i&lt;/code&gt; indicates this.&lt;/p&gt;
&lt;p&gt;Quadratic costs on fishing effort have to be done separately,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;quad &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(c2, function(c2) {
    effort_penalty =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, h) &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;c2 *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h/x
    policycost &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, 
        delta, reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fixed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;), effort_penalty)
    i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which&lt;/span&gt;(x_grid &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K)[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]
    &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(policycost$penalty_free_V[i, ])  &lt;span class=&quot;co&quot;&gt;# chooses the most sensible harvest in t=1&lt;/span&gt;
})
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cbind&lt;/span&gt;(policies, quad)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tidy up the data and plot the net present value (before the penalty has been paid) relative to that achieved when managed without a penalty.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;npv0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;]
npv0&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;free_decrease 
        709.7 &lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;c2 =&lt;/span&gt; c2, dat)
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;c2&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(c2, value, &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-5e6d8d80ac-npv-plot.png&quot; alt=&quot;plot of chunk npv-plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk npv-plot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Find the value of &lt;code&gt;c2&lt;/code&gt; that brings each penalty closest to 75% of the cost-free adjustment value:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(c2, (npv0 -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;value)/npv0, &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-5e6d8d80ac-apples_plot.png&quot; alt=&quot;plot of chunk apples_plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk apples_plot&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;closest &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, v) {
    &lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(v -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x))
}
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat)
index &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[, &lt;span class=&quot;kw&quot;&gt;closest&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.25&lt;/span&gt;, (npv0 -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;value)/value), by =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;variable]
apples &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;c2[index$V1]
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(apples) =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;index$variable
apples&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;           L2            L1 free_decrease         fixed free_increase 
        1.034         1.724         0.000         8.276         0.000 
         quad 
        1.034 &lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;
&lt;p&gt;Solve the policy cost for the specified penalty function&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;L2_policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, delta, 
    reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;L2&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;L2&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;fixed_policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, delta, 
    reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fixed&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;L1_policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, delta, 
    reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;L1&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;L1&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;free_increase_policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, 
    delta, reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;free_increase&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;free_increase&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;free_decrease_policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, 
    delta, reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;free_decrease&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;free_decrease&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We also compare to the case in which costs of harvesting increase quadratically with effort; a common approach to create smoother policies.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;quad_profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;c0 =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;c1 =&lt;/span&gt; apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;quad&amp;quot;&lt;/span&gt;])
quad_costs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;optim_policy&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, quad_profit, 
    delta, reward, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; none)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sims &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;L1 =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, L1_policy$D, z_g, 
    z_m, z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;L1&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;L1&amp;quot;&lt;/span&gt;]), &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed), 
    &lt;span class=&quot;dt&quot;&gt;L2 =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, L2_policy$D, z_g, z_m, 
        z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;L2&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;L2&amp;quot;&lt;/span&gt;]), &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed), 
    &lt;span class=&quot;dt&quot;&gt;fixed =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, fixed_policy$D, z_g, 
        z_m, z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fixed&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;]), 
        &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed), &lt;span class=&quot;dt&quot;&gt;increase =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, 
        free_increase_policy$D, z_g, z_m, z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;free_increase&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;increase&amp;quot;&lt;/span&gt;]), 
        &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed), &lt;span class=&quot;dt&quot;&gt;decrease =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, 
        free_decrease_policy$D, z_g, z_m, z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;free_decrease&lt;/span&gt;(apples[&lt;span class=&quot;st&quot;&gt;&amp;quot;decrease&amp;quot;&lt;/span&gt;]), 
        &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed), &lt;span class=&quot;dt&quot;&gt;quad =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;simulate_optim&lt;/span&gt;(f, pars, x_grid, h_grid, x0, free_decrease_policy$D, 
        z_g, z_m, z_i, opt$D, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; quad_profit, &lt;span class=&quot;dt&quot;&gt;penalty =&lt;/span&gt; none, &lt;span class=&quot;dt&quot;&gt;seed =&lt;/span&gt; seed))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;co&quot;&gt;# Make data tidy (melt), fast (data.tables), and nicely labeled.&lt;/span&gt;
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(sims, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(sims[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]))
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat)
&lt;span class=&quot;kw&quot;&gt;setnames&lt;/span&gt;(dt, &lt;span class=&quot;st&quot;&gt;&amp;quot;L1&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;penalty_fn&amp;quot;&lt;/span&gt;)  &lt;span class=&quot;co&quot;&gt;# names are nice&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h1 id=&quot;plots&quot;&gt;Plots&lt;/h1&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dt) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, alternate), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;grey20&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; penalty_fn, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; penalty_fn)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;stock size&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Stock Dynamics&amp;quot;&lt;/span&gt;)
p0&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-5e6d8d80ac-p0.png&quot; alt=&quot;plot of chunk p0&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk p0&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dt) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, alternate), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;grey20&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.8&lt;/span&gt;)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~penalty_fn) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;stock size&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Stock Dynamics&amp;quot;&lt;/span&gt;)
p1&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-5e6d8d80ac-p1.png&quot; alt=&quot;plot of chunk p1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk p1&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dt) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, harvest_alt), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;grey20&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, harvest), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.8&lt;/span&gt;)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~penalty_fn) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;havest intensity (fish taken)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Harvest Policy Dynamics&amp;quot;&lt;/span&gt;)
p2&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-28-5e6d8d80ac-p2.png&quot; alt=&quot;plot of chunk p2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk p2&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Citing Lab Notebook Entries</title>
   <link href="/2012/11/23/citing-lab-notebook-entries.html"/>
   <updated>2012-11-23T00:00:00-08:00</updated>
   <id>h/2012/11/23/citing-lab-notebook-entries</id>
   <content type="html">&lt;p&gt;C. Titus Brown has an excellent &lt;a href=&quot;http://ivory.idyll.org/blog/posting-blog-entries-to-figshare.html&quot;&gt;post&lt;/a&gt; discussing his exploration into the merits and technicalities cross-posting his blog posts to figshare. The &lt;a href=&quot;https://github.com/ropensci/rfigshare&quot;&gt;&lt;code&gt;rfigshare&lt;/code&gt; package&lt;/a&gt; written by &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart&lt;/a&gt; and myself can do just this, once we puzzled out some of the same challenges (Notes to Titus: though the documentation doesn’t mention it, you can get a programmatic list of available categories from &lt;a href=&quot;http://api.figshare.com/v1/categories&quot;&gt;http://api.figshare.com/v1/categories&lt;/a&gt;. Figshare can also take code as a fileset or dataset, and may soon add a type for it. The coolest thing about figshare is perhaps the way they add types in response to how they see users using the service).&lt;/p&gt;
&lt;p&gt;The real discussion, though, is not about &lt;em&gt;how&lt;/em&gt;, but &lt;em&gt;why&lt;/em&gt;? Currently figshare doesn’t render the html or markdown/restructured-text source (other than as plain text), so it’s not a great place to &lt;em&gt;read&lt;/em&gt; the posts. This may change in the near future as well, but the primary motivation for doing this seems to be on the ability to get an honest-to-goodness DOI for your entry. So why a DOI?&lt;/p&gt;
&lt;p&gt;The answer most often put forward is that “a DOI facilitates citing a paper in the formal literature.” I think that’s not entirely accurate. For one, the formal literature has no trouble citing things that do not have a DOI. Perhaps the answer is meant to mean track citations to my content, &lt;em&gt;e.g.&lt;/em&gt; for statistical/impact purposes. This may be closer to the mark, but it still needs work. What counts depends on whose doing the counting. Anyone browsing the citation counts of a work through different mediums has surely encountered Thompson-Reuters has very specific criteria to be included, so I don’t believe they are tracking citations to anything with a DOI. Nor, I think is Scopus. Perhaps the target is Google then?&lt;/p&gt;
&lt;p&gt;If you want Google Scholar to count the number of citations to your blog post, I have good news for you. You do not need a DOI and cross-posting to figshare. You just need to follow the &lt;a href=&quot;http://scholar.google.com/intl/en/scholar/inclusion.html#indexing&quot;&gt;metadata requirements&lt;/a&gt; as outlined by Google Scholar itself. This will help Google Scholar identify your blog post as a academic object, and add it to your profile. Anything indexed by Google scholar that cites your blog post will count as a reference. The basics are really simple. Have metadata such as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;resource_type&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Lab Notebook&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;citation_journal_title&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Lab Notebook&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;citation_publication_date&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;2012-11-23 00:00:00 -0800&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;citation_date&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;2012-11-23 00:00:00 -0800&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;citation_author&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Carl Boettiger&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;citation_title&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Citing Lab Notebook Entries&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Just replace &lt;code&gt;Lab Notebook&lt;/code&gt; etc. with the correct values for your site. The example above will do so automatically if you use Jekyll using information specified in the YAML header. It seems the entry also needs a section called either “References” or “Bibliography” followed by a list of references. Not sure what format Google Scholar will do best at disambiguating. (Note that what I refer to as “Google Scholar” metadata looks like it was originally the convention adopted by HireWire Press.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.russet.org.uk&quot;&gt;Phil Lord&lt;/a&gt; and colleagues have written the fantastic API called &lt;a href=&quot;http://knowledgeblog.org/greycite&quot;&gt;greycite&lt;/a&gt; [Lord 2012], which can be used to generate citation data from any website that has semantic markup (including HTML5 semantics, also Dublin Core or OpenGraph ontologies and Google Scholar metadata). The API can return citations formatted in bibtex or JSON. Try it out at &lt;a href=&quot;http://greycite.knowledgeblog.org&quot;&gt;greycite.knowledgeblog.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now there is another reason to use DOIs and figshare, which is, I think, entirely independent – archival preservation (decoupled journal, anyone?). DOIs are potentially more permanent than URLs (though I’ll leave that debate to the experts). Figshare content is backed up by &lt;a href=&quot;http://clockss.org/&quot;&gt;CLOCKSS&lt;/a&gt;. Forever is a long time, but this certainly sounds like a better archiving strategy. Figshare should be providing the necessary Google Scholar metadata on each object now. My current practice has been to archive my notebook in annual chunks on figshare (posting entries individually feels fragmented and cluttered to me), and rely on the more native web solution of HTML metadata to allow my entries to “citable”. Perhaps this is not ideal, but for the short term, the content is discoverable and citable via Google Scholar, which points to my address. If my site vanishes from the web, one might hope that an academic search for my lab notebook might recover the content from the archived version.&lt;/p&gt;
&lt;h2 id=&quot;edit-thoughts-examples-and-disclaimer&quot;&gt;Edit: thoughts, examples and disclaimer&lt;/h2&gt;
&lt;p&gt;I stumbled across Google’s indexing of some of my lab notebook entries somewhat by accident. For instance, one of my &lt;a href=&quot;http://www.carlboettiger.info/2011/10/28/optimal-control-examples-continued-bellman-dynamic-programming.html&quot;&gt;entries&lt;/a&gt; on optimal control in which I had listed some references started turning up &lt;a href=&quot;http://scholar.google.com/citations?view_op=view_citation&amp;amp;hl=en&amp;amp;user=zj2rRtEAAAAJ&amp;amp;citation_for_view=zj2rRtEAAAAJ:4TOpqqG69KYC&quot;&gt;in Google Scholar&lt;/a&gt; Being able to engage in a scholarly exchange through blogs that can cite and be cited by the formal literature certainly sounds like an important step forward in generating new publishing models. Of course it is also obvious that the procedure I have outlined could be trivially exploited for some rather blatant gaming of Google Scholar’s citation statistics. This post certainly is not an endorsement of gaming such statistics. If nothing else, perhaps this once again underscores the weakness of reliance on metrics of quantity when trying to infer quality. Will we ever let go of that fallacy?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Titus Brown (2012) Posting blog entries to figshare, Living in an Ivory Basement. http://ivory.idyll.org/blog/posting-blog-entries-to-figshare.html&lt;/li&gt;
&lt;li&gt;Phillip Lord (2012) Greycite. Knowledge Blog. http://knowledgeblog.org/greycite&lt;/li&gt;
&lt;li&gt;Carl Boettiger (2011) Optimal Control examples continued: Bellman, Dynamic Programming, Lab Notebook http://www.carlboettiger.info/2011/10/28/optimal-control-examples-continued-bellman-dynamic-programming.html&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/11/22/notes.html"/>
   <updated>2012-11-22T00:00:00-08:00</updated>
   <id>h/2012/11/22/notes</id>
   <content type="html">&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;multiple-uncertainty&lt;/h2&gt;
&lt;p&gt;Working out the multiple uncertainty computational performance and noise forms. Fixing a few things in the way log-normal noise was calculated. Uniform noise in particular can still give rather non-smooth policy, needs a bit of digging. Uniform noise doesn’t show the non-monotonicity of the log-normal noise in measurement uncertainty though.&lt;/p&gt;
&lt;h2 id=&quot;uniform&quot;&gt;Uniform&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-23-bcf87363db-policyfunctions.png&quot; alt=&quot;uniform noise policy functions&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;uniform noise policy functions&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;lognormal&quot;&gt;lognormal&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-22-11f7d70977-policyfunctions.png&quot; alt=&quot;log-normal noise policy functions&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;log-normal noise policy functions&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;log&quot;&gt;log&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A few small tweaks to probability calculations&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Handle the case of mu = grid zero, not just exactly zero, to avoid introducing NAs&lt;/li&gt;
&lt;li&gt;Calculate dlnorm as &lt;code&gt;(x_grid/mu, 0, sigma)&lt;/code&gt;, rather than as &lt;code&gt;(x_grid, mu, sigma)&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Transpose of measurement error in &lt;code&gt;M %*% F&lt;/code&gt;. Because now we want to treat x as given, integrate over range of y? (no, probably not?)&lt;/li&gt;
&lt;li&gt;standardize noise level between old and g &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/0f7889f9ce483735228e708b1f0770f295343d1d&quot;&gt;12:52 pm 2012/11/22&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;With transposed M time F. (include image) &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/e277e624334e7f6d2e3367676b032cac3eea26c2&quot;&gt;01:04 pm 2012/11/22&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And now without transpose, M %*% F &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/11f7d709775769c6f1cb1dca38b73d0b3b395742&quot;&gt;01:07 pm 2012/11/22&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Larger (log-normal in all variables) noise, weirder results. &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/ae6f7ff220a566c76330b8204529f3a5ec8aea8c&quot;&gt;01:39 pm 2012/11/22&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Changes improving performance of F calculation (rate-limiting step)&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;vectorized calculation of mu.&lt;/li&gt;
&lt;li&gt;matrix-based calc of deterministic part of growth rate &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/d5f2509c5341dc3be2706dd42caaa7642ec6e782&quot;&gt;02:13 pm 2012/11/22&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Another efficiency change. Not identical but appears to be a decent approximation: Snap mu to the x_grid, and look up the pdfn value rather than calculating it each time in F. &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/f151258fe146199dd34cc0194fea55515e3f8716&quot;&gt;03:00 pm 2012/11/22&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now pretty efficient. Matrix multiplication is dominant time sink, followed by the applys. &lt;code&gt;snap_to_grid&lt;/code&gt; is probably the slowest functional contribution.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/11/21/notes.html"/>
   <updated>2012-11-21T00:00:00-08:00</updated>
   <id>h/2012/11/21/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;writing comment piece. writing writing writing.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;also-today-misc&quot;&gt;Also today (misc):&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Check in with Peter re: Labrids paper&lt;/li&gt;
&lt;li&gt;Fix issue #32 rfigshare&lt;/li&gt;
&lt;li&gt;Follow up with Nina about improved FishBase API&lt;/li&gt;
&lt;li&gt;pay ESA and SSE dues&lt;/li&gt;
&lt;li&gt;Santa Cruz SOE email lists&lt;/li&gt;
&lt;li&gt;uniform growth noise version on corrected multiple-uncertainty run&lt;/li&gt;
&lt;li&gt;transparent plots in new ggplot theme? Set in &lt;code&gt;dev.args=list(bg=&amp;quot;transparent&amp;quot;)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Consider SOE AMS lecturer pool? &lt;a href=&quot;http://apo.ucsc.edu/academic_employment/jobs/T02-01rev2011.pdf&quot;&gt;Description&lt;/a&gt;, &lt;a href=&quot;https://intranet.soe.ucsc.edu/employment/application/lecturer&quot;&gt;Application&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CV, Letter of application with course list.&lt;/li&gt;
&lt;li&gt;Optional: Teaching evaluations. Sample course material.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;multiple uncertainty&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Whoops, not preventing negative harvest values can lead to some weird results. &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/c5e857ebeab2f73eff9afaf6d56d0e5dabd81e14&quot;&gt;06:16 pm 2012/11/21&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;numerical instabilities in uniform noise case? &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/9dc17dc56494b9e2f998e3992e4c891573d80570&quot;&gt;04:01 pm 2012/11/21&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;notes on policycost manuscript &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/81df88cc50ac0c7c2448e55b42dc2bfe8fd15299&quot;&gt;01:34 pm 2012/11/21&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sequential Updating</title>
   <link href="/2012/11/19/sequential-updating.html"/>
   <updated>2012-11-19T00:00:00-08:00</updated>
   <id>h/2012/11/19/sequential-updating</id>
   <content type="html">&lt;p&gt;Fixed the sequential updating algorithm (avoids numerical instabilities associated with matrix inversion). Currently defined as the function recursion:&lt;/p&gt;
&lt;p&gt;for the covariance:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;C_seq &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, X_prime, i){
    if(i &amp;lt;=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
          &lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, X_prime) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mmult&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X,x[i]), &lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x[i], X_prime)) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x[i], x[i]) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
            else
                  &lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(X, X_prime,   i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mmult&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(X,x[i],   i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(x[i], X_prime,   i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;)) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(x[i], x[i],   i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;)  +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;  )
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for the mean:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;mu_seq &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, i){
    if(i &amp;lt;=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
          &lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x[i], X) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(y[i]-mu[i]) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x[i], x[i]) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
            else
                  &lt;span class=&quot;kw&quot;&gt;mu_seq&lt;/span&gt;(X, i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(x[i], X,  i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(y[i]-mu[i]) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;C_seq&lt;/span&gt;(x[i], x[i], i&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;)  +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; )
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that this needed a custom matrix multiplication to handle scalar by vector cases:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;mmult &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x,y){
  if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x) ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;){
    x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x) 
    x *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y
  } else if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(y) ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;){ 
    y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(y)
    x *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y
  }  else 
  x %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And probably needs to be written in C at least to have any hope of scaling. See implementation in &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/e19802885c6ddf2a30807e6b3addf2b9fa3e2ff0/inst/examples/sequential-method.md&quot;&gt;sequential-method&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Match is perfect (jittered to avoid overplotting the lazy way):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-19-58073767b5-unnamed-chunk-6.png&quot; alt=&quot;Sequential vs direct calculation of the mean&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Sequential vs direct calculation of the mean&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Now should rewrite to use a grid for the covariance matrices of each data point. Memory intensive but should be much faster than function recursion.&lt;/p&gt;
&lt;p&gt;(Should also confirm variance calculation in comparison, and test on larger grid sizes)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multiple uncertainty corrected</title>
   <link href="/2012/11/16/mult-uncertainty.html"/>
   <updated>2012-11-16T00:00:00-08:00</updated>
   <id>h/2012/11/16/mult-uncertainty</id>
   <content type="html">&lt;p&gt;Fixed the &lt;a href=&quot;http://www.carlboettiger.info/2012/11/01/multiple-uncertainty-corrections.html&quot;&gt;multiple uncertainty calculation&lt;/a&gt; implementation. Code had transposed &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{I}\inline&quot;/&gt;&lt;/span&gt;, also one of the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{M}\inline&quot;/&gt;&lt;/span&gt; matrices. Should still confirm final implementation. In the below example each case has log-normal growth noise present. The non-monotonic section of the measurement uncertainty&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-17-f6c225f69f-policyfunctions.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/954cea9310063150bb42567b19caa272b34d32c2&quot;&gt;See notes on code changes inline.&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;additional-notes-from-walking-through-algoritm-step-by-step.&quot;&gt;Additional notes from walking through algoritm step by step.&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; index in the true state space&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; index in the observed state space&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; index in the true action&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; index in the policy/decision space&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V[y,q]\inline&quot;/&gt;&lt;/span&gt; the Expected value of policy &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; and observed state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi[x,h]\inline&quot;/&gt;&lt;/span&gt; the profit of a harvest of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; given a true stock of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M[y,x]\inline&quot;/&gt;&lt;/span&gt; is the probability of a true state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; given an observed stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;. (How does this relate to the probability the observed stock is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; given the true stock is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;? Should be the transpose? Is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M\inline&quot;/&gt;&lt;/span&gt; symmetric?)&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?I[h,q]\inline&quot;/&gt;&lt;/span&gt; is the probability of implementing a harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;, given a quota set to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Q[y,q]\inline&quot;/&gt;&lt;/span&gt; the Expected profit from a policy &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; and observed state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;. In Einstein summation, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Q[y_k,q_l] = M[y_k, x_i] \Pi[x_i,h_j] I[h_j, q_l]\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M(y_1, x_1) (\Pi(x_1,h_1)I(h_1, q_1) + \Pi(x_1,h_2)I(h_2, q_1) + \dots) +  M(y_1, x_2) (\Pi(x_2,h_1)I(h_1, q_1) + \Pi(x_2,h_2)I(h_2, q_1) + \dots)  +\dots&quot; alt=&quot;M(y_1, x_1) (\Pi(x_1,h_1)I(h_1, q_1) + \Pi(x_1,h_2)I(h_2, q_1) + \dots) +  M(y_1, x_2) (\Pi(x_2,h_1)I(h_1, q_1) + \Pi(x_2,h_2)I(h_2, q_1) + \dots)  +\dots&quot; /&gt;&lt;/div&gt;&lt;/span&gt; - &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?[\tilde{y}_t, y_k, q_l] = M[\tilde{y}_t, \tilde{x}_s] M[y_k, x_i] f[\tilde{x}_s, x_i, h_j] I[h_j, q_l]\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://flowingdata.com/2010/01/21/how-to-make-a-heatmap-a-quick-and-easy-solution/&quot;&gt;heatmap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://learnr.wordpress.com/2010/01/26/ggplot2-quick-heatmap-plotting/&quot;&gt;ggplot version&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/11/15/notes.html"/>
   <updated>2012-11-15T00:00:00-08:00</updated>
   <id>h/2012/11/15/notes</id>
   <content type="html">&lt;h2 id=&quot;stuck-on-many-things&quot;&gt;Stuck on many things&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Have not correctly defined the recursion in the sequential updating approach. Can I really calculate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(y_3 | (y2 | y_1))\inline&quot;/&gt;&lt;/span&gt; in place of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(y_3 | y2, y1)\inline&quot;/&gt;&lt;/span&gt;? e.g. instead of calculating:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_3 = K(y_3, y_3) - K(y_{1:2}, y_3) K(y_{1:2}, y_{1:2})^{-1} ) K(y_3, y_{1:2})&quot; alt=&quot;V_3 = K(y_3, y_3) - K(y_{1:2}, y_3) K(y_{1:2}, y_{1:2})^{-1} ) K(y_3, y_{1:2})&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Is there some scalar &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?v_2\inline&quot;/&gt;&lt;/span&gt; such that&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_3 = K(y_3, y_3) - K(y_{1:2}, y_3) K(y_3, y_{1:2}) / v_2&quot; alt=&quot;V_3 = K(y_3, y_3) - K(y_{1:2}, y_3) K(y_3, y_{1:2}) / v_2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;e.g. a term like:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_2 = K(y_2, y_2) - K(y_1, y_2) K(y_1, y_1)^{-1} ) K(y_2, y_1)&quot; alt=&quot;V_2 = K(y_2, y_2) - K(y_1, y_2) K(y_1, y_1)^{-1} ) K(y_2, y_1)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and a similar recursion for the mean?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cannot get posterior covariance matrix from kernlab’s &lt;code&gt;gausspr&lt;/code&gt;. Can this be reconstructed from &lt;code&gt;alpha&lt;/code&gt;? (&lt;a href=&quot;http://stats.stackexchange.com/questions/43713/how-do-i-access-or-compute-the-posterior-covariance-matrix-returned-by-kernlab&quot;&gt;question posted to cross-validated&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Likelihood optimization does not handle the noise term. Examples in Rasmussen and Wiliams suggest this should work. (See commit log below)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;nonparametric-bayes-log&quot;&gt;nonparametric-bayes log&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;re-run example with updated plots, but otherwise as before. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/73396d797b8398f25dcfe8307befafb7546c1097&quot;&gt;07:40 pm 2012/11/15&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Question on how to get the covariance matrix back from the kernlab gausspr method. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/80fcefbc391e5d75fa63300f95e60c98af7bcb2c&quot;&gt;07:39 pm 2012/11/15&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Attempted to fix the sequential method example.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Still incorrect. See sequential-method.Rmd &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/01307f5c36060a07fdbb9f3ba6b83b8660f88103&quot;&gt;07:37 pm 2012/11/15&lt;/a&gt; - Attempting to write the sequential method algorithm.&lt;/p&gt;
&lt;p&gt;Not correct at the moment, need to understand the recursion properly. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/e732f74985def53677478f6f0e10e8f931201252&quot;&gt;07:36 pm 2012/11/15&lt;/a&gt; - Stick with direct method.&lt;/p&gt;
&lt;p&gt;Current version of sequential method is not correct. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/14821223d59b6f68e9e0b6f962476b8c5119e2ce&quot;&gt;07:34 pm 2012/11/15&lt;/a&gt; - Updated hyperparameter-optimization example&lt;/p&gt;
&lt;p&gt;Shows that we can estimate l appropriately but fails to get sigma_n; instead estimating the upper boundary. &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/c28d09929f3765fff8a7b82e2d9b84d2f9cc8fa6&quot;&gt;07:32 pm 2012/11/15&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Better Tagging Practices</title>
   <link href="/2012/11/09/better-tagging-practices.html"/>
   <updated>2012-11-09T00:00:00-08:00</updated>
   <id>h/2012/11/09/better-tagging-practices</id>
   <content type="html">&lt;h2 id=&quot;better-tagging-practices&quot;&gt;Better tagging practices&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Standardize use of tags: Match tags in notebook to project repository name. Tag papers in Mendeley by these tags as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I have also started tracking the medium of discovery for each paper I add to my Mendeley collection through a little set of Mendeley tags. I am curious to see through which mediums I obtain the most content, and what content. As with any ontology, I will struggle to select a vocabulary that is precise enought to be useful without being too verbose (b) to bother to continue to use this. We’ll see how I do.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;tag&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:reader&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Google Reader (RSS feed)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:twitter&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Mentioned on twitter stream (or G+ stream)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:search&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Searched for this article directly or by some keyword&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:bibliography&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;In the reference list of something I’m reading&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:conference&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Discussed at a conference&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:blog&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Mentioned in a blog I read&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:human&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Directly recommended to me (in person or email, from reviewer, adviser, etc)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:journal-club&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Something we read in a journal club&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;source:wikipedia&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Cited in a wikipedia article I read&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/11/08/notes.html"/>
   <updated>2012-11-08T00:00:00-08:00</updated>
   <id>h/2012/11/08/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Complete IACUC training for fish room. File forms: http://ehs.ucsc.edu/programs/research-safety/animal-research/index.html&lt;/li&gt;
&lt;li&gt;Online training – possibly see https://www.citiprogram.org/Default.asp?&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shiny: http://www.rstudio.com/shiny/&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Comment piece&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Prep exit seminar&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Applied math club: Networks. Reading http://dx.doi.org/10.1155/2011/284909&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Discussion of when network structure has made an important difference on our understanding of a problem. When have the common summary statistics of a network (degree-distribution) allowed us to compte network dynamics without fully resolving the network?&lt;/p&gt;
&lt;h2 id=&quot;nonparametric-bayes&quot;&gt;nonparametric-bayes&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/5e4df576d70358b8049d6ee412f45de17a20cd38/inst/examples/testing-gp-sdp.md&quot;&gt;Comparing methods for Gaussian process fits&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;mlegp package appears more carefully constructed, but notation is terrible. Also unclear how to change covariance kernel. Example shows fitting with zero noise only, though somehow that should be adjusted (in the nugget parameters?). Has a vignette but it has not been particularly enlightening for me. Seems &lt;code&gt;kernlab::gausspr&lt;/code&gt; may be the only intelligent package function for GP I’ve seen.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;What explains the descrepancy in the Cholesky approach?&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What explains the descrepancy in the sequential approach?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sequential updating algorithm avoids inverting the matrix, which can become unstable as state space becomes large. Instead of dealing with the vector of observations &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec y\inline&quot;/&gt;&lt;/span&gt; at states &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec x\inline&quot;/&gt;&lt;/span&gt; simultaneously, we update the GP mean &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_i\inline&quot;/&gt;&lt;/span&gt; and covariance &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c_i\inline&quot;/&gt;&lt;/span&gt; at each observed point &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?(x_i, y_i)\inline&quot;/&gt;&lt;/span&gt; sequentially. Because we can compute this over the desired prediction grid &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X\inline&quot;/&gt;&lt;/span&gt; simultaneously still, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_i\inline&quot;/&gt;&lt;/span&gt; is a vector of the same length as the prediction grid (&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt;), and the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c_i\inline&quot;/&gt;&lt;/span&gt; is a matrix of dimension &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt;. Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K(x_i, x_j)\inline&quot;/&gt;&lt;/span&gt; be the covariance function of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_i, x_j\inline&quot;/&gt;&lt;/span&gt;, and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y = \mathcal{N(m, c)} + \sigma_n^2 \mathbb{I}\inline&quot;/&gt;&lt;/span&gt; be the noise model of the GP, then&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_{i+1} = m_i + \frac{K(X, x_i) y_i}{ K(x_i,x_i)+\sigma_n^2}&quot; alt=&quot;m_{i+1} = m_i + \frac{K(X, x_i) y_i}{ K(x_i,x_i)+\sigma_n^2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c_{i+1} = c_i + K(X, X) - \frac{K(X, x_i) K(x_i, X)}{K(x_i,x_i)+\sigma_n^2}&quot; alt=&quot;c_{i+1} = c_i + K(X, X) - \frac{K(X, x_i) K(x_i, X)}{K(x_i,x_i)+\sigma_n^2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Work out the multi-dimensional Gaussian process algorithm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;multiple-uncertainty&quot;&gt;Multiple uncertainty&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Verify orientation of each matrix?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/a4d9af4260dd5bebf61d2cd57672338daaa2a235/inst/examples/mult_uncertainty_test.md&quot;&gt;higher resolution grid example (same problem)&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/11/06/notes.html"/>
   <updated>2012-11-06T00:00:00-08:00</updated>
   <id>h/2012/11/06/notes</id>
   <content type="html">&lt;h2 id=&quot;monday&quot;&gt;Monday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;altmetrics post&lt;/li&gt;
&lt;li&gt;post for multiple uncertainty, email to Steve, Marc&lt;/li&gt;
&lt;li&gt;Marc meeting&lt;/li&gt;
&lt;li&gt;ropensci proposals&lt;/li&gt;
&lt;li&gt;Phylotastic&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;notebook-configuration&quot;&gt;Notebook configuration&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;trying out http://greycite.knowledgeblog.org/. Add to knitcitations.&lt;/li&gt;
&lt;li&gt;Add Greycite recommended opengraph and google scholar metadata &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/3a977cca64b852574f16ca63fe66308d4af6b2ed/_includes/metadata.html&quot;&gt;metadata.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Import metadata from &lt;code&gt;_config.yml&lt;/code&gt;. Any custom variable defined in config can be accessed at &lt;code&gt;site.varname&lt;/code&gt;. See updated &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/b0749aac9dec7fbe08af3768e29b24724d378763/_config.yml&quot;&gt;&lt;code&gt;_config.yml&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Schnitzler, J., Graham, C. H., Dormann, C. F., Schiffers, K., &amp;amp; Peter Linder, H. (2012). Climatic niche evolution and species diversification in the Cape flora, South Africa. (S. Higgins, Ed.)Journal of Biogeography, n/a–n/a. doi:10.1111/jbi.12028&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Clark, T., Dale, R., Waard, A. D., Herman, I., Hovy, E. H., Shotton, D., Birukou, A., et al. (2012). Force11 White Paper : Improving The Future of Research Communications and e-Scholarship, 11.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shotton, D. (2009). Semantic publishing: the coming revolution in scientific journal publishing. Learned Publishing, 22(2), 85–94. doi:10.1087/2009202&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shotton, D. (2011). The Five Stars of Online Journal Articles–an article evaluation framework. Nature Preceedings. doi:10101/npre.2011.6542.1&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;FishBase paper is out&lt;/li&gt;
&lt;li&gt;Dissertation on FigShare&lt;/li&gt;
&lt;li&gt;Updated &lt;a href=&quot;http://www.carlboettiger.info/assets/data&quot;&gt;geospatial life history data list&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reading-1&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Allesina, S. (2012). Modeling peer review: an agent-based approach. Ideas in Ecology and Evolution, 5(2), 27–35. doi:10.4033/iee.2012.5b.8.f&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Costello, C., Ovando, D., Hilborn, R., Gaines, S. D., Deschenes, O., &amp;amp; Lester, S. E. (2012). Status and solutions for the world’s unassessed fisheries. Science (New York, N.Y.), 338(6106), 517–20. doi:10.1126/science.1223389&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Palumbo, M. J., Johnson, S. A., Mundim, F. M., Lau, A., Wolf, A. C., Arunachalam, S., Gonzalez, O., et al. (2012). Harnessing Smartphones for Ecological Education, Research, and Outreach. Bulletin of the Ecological Society of America, 93(4), 390–393. doi:10.1890/0012-9623-93.4.390&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sibert, J., Senina, I., Lehodey, P., &amp;amp; Hampton, J. (2012). Shifting from marine reserves to maritime zoning for conservation of Pacific bigeye tuna (Thunnus obesus). Proceedings of the National Academy of Sciences of the United States of America, 109(44), 1–5. doi:10.1073/pnas.1209468109&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Altmetrics Conference</title>
   <link href="/2012/11/03/altmetrics-conference.html"/>
   <updated>2012-11-03T00:00:00-07:00</updated>
   <id>h/2012/11/03/altmetrics-conference</id>
   <content type="html">&lt;p&gt;From Thursday Nov 1 through Saturday Nov 3 I attended the PLoS Altmetrics workshop as a member of the ROpensci project. An exciting meeting driven mostly by the opportunity to interact with a small and incredibly creative and innovative group of science publishers, funders, start-ups, and other researchers. Details of the event are largely recorded on the &lt;a href=&quot;https://sites.google.com/site/altmetricsworkshop&quot;&gt;altmetrics 2012 workshop website&lt;/a&gt;. We also have a few slides addressing the &lt;a href=&quot;http://ropensci.org/alm/&quot;&gt;ropensci slant&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The workshop followed up with a hackathon which produced prototypes of several ideas. I worked in the &lt;a href=&quot;https://github.com/karthikram/almviz&quot;&gt;altviz&lt;/a&gt; team. Also completed the first release of &lt;a href=&quot;https://github.com/ropensci/rfigshare&quot;&gt;rfigshare&lt;/a&gt; to &lt;a href=&quot;http://cran.at.r-project.org/web/packages/rfigshare/&quot;&gt;CRAN&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Another side goal of the conference for me was to discuss some of the ideas that had arisen in the BeyondThePDF workshop over a year ago in regards to semantic markup, an idea I’ve recently explored in this notebook. To this end it was useful talking with Martin Fenner, Paul Groth, and John Kunze about semantic issues, implicit/inferred semantics vs explicit markup, etc. Also some progress in incorporating these ideas into &lt;a href=&quot;://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;. For more in this space, see the &lt;a href=&quot;http://force11.org/white_paper&quot;&gt;Force11 project&lt;/a&gt; (successor/outcoem of the BeyondThePDF).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multiple Uncertainty Corrections</title>
   <link href="/2012/11/01/multiple-uncertainty-corrections.html"/>
   <updated>2012-11-01T00:00:00-07:00</updated>
   <id>h/2012/11/01/multiple-uncertainty-corrections</id>
   <content type="html">&lt;p&gt;Consider a stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt; at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt; that recruits stochastically following harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h_t\inline&quot;/&gt;&lt;/span&gt; from the escaped population (&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?s_t := x_t - h_t\inline&quot;/&gt;&lt;/span&gt;), &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_g f(s_t)\inline&quot;/&gt;&lt;/span&gt;, where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_g\inline&quot;/&gt;&lt;/span&gt; is a multiplicative stochastic shock to the growth. We imagine the decision maker sets a policy determining the harvest quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_t\inline&quot;/&gt;&lt;/span&gt; each year, which is implemented as the real harvest with some error &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_i\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h_t = z_i q_t\inline&quot;/&gt;&lt;/span&gt;. Before setting a quota, the decision maker assesses the stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_t = z_m x_t\inline&quot;/&gt;&lt;/span&gt;, so &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; is a noisy measurement of the true stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;. The decision maker seeks to maximize the expected present-value of profits &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(x_t,h_t)\inline&quot;/&gt;&lt;/span&gt; that are a function of both the actual stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; and the realized harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; over some long term period &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T_{\textrm{max}}\inline&quot;/&gt;&lt;/span&gt; subject to some discount rate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\delta\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?max_{\{q_1 \ldots q_{t_{\textrm{max}}} \}} \sum_{t=1}^{t=t_{\textrm{max}}} \operatorname{E}\left( \Pi(x_t,h_t) \right)&quot; alt=&quot;max_{\{q_1 \ldots q_{t_{\textrm{max}}} \}} \sum_{t=1}^{t=t_{\textrm{max}}} \operatorname{E}\left( \Pi(x_t,h_t) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;discrete-formulation&quot;&gt;Discrete formulation&lt;/h2&gt;
&lt;p&gt;We consider this problem in a discrete state space where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; all take values on grids of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_y\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_q\inline&quot;/&gt;&lt;/span&gt;, and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_h\inline&quot;/&gt;&lt;/span&gt; points respectively.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{P}\inline&quot;/&gt;&lt;/span&gt; be the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_h\inline&quot;/&gt;&lt;/span&gt; matrix of all possible profits in a time step, as given by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(x_i, h_j)\inline&quot;/&gt;&lt;/span&gt;, where rows represent possible stock sizes and columns possible harvests.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{M}\inline&quot;/&gt;&lt;/span&gt; be the row-normalized &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_y\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt; matrix whose elements are &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_m(y_i, x_j)\inline&quot;/&gt;&lt;/span&gt;, the probability of observing a stock size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_i\inline&quot;/&gt;&lt;/span&gt; from a true size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_j\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{I}\inline&quot;/&gt;&lt;/span&gt; be the row-normalized &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_h\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_q\inline&quot;/&gt;&lt;/span&gt; matrix whose elements are &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_i(h_i, q_j)\inline&quot;/&gt;&lt;/span&gt;, the probability of implementing a harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h_i\inline&quot;/&gt;&lt;/span&gt; given a quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_j\inline&quot;/&gt;&lt;/span&gt; &lt;strong&gt;Edit&lt;/strong&gt;: I had been created in the code as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_q\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_h\inline&quot;/&gt;&lt;/span&gt;, so had to be transposed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{F}_q\inline&quot;/&gt;&lt;/span&gt; be the tensor of row-normalized &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_q\inline&quot;/&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_x\inline&quot;/&gt;&lt;/span&gt; transition matrices given by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_g(x_j,  \sum_i \sum_j f(x_i, h_j) \mathbf{M}[y_k, x_i] \mathbf{I}[h_j, q_l] )\inline&quot;/&gt;&lt;/span&gt;. By summing over the uncertainty in measurement and implementation, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{F}_q\inline&quot;/&gt;&lt;/span&gt; is in the space of observed state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_t\inline&quot;/&gt;&lt;/span&gt; into the true stock at the next timestep &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1}\inline&quot;/&gt;&lt;/span&gt;, given quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt;. We transfer into the future measured state through another application of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{M} \mathbf{F}_q\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The profits expected given a measurement of the stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; for a quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; are &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sum_j \sum_i \Pi(x_i, h_j) p(x_i | y) p(h_j | q)\inline&quot;/&gt;&lt;/span&gt;. Hence the matrix of expected profits for each possible combination of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_i\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_j\inline&quot;/&gt;&lt;/span&gt; is given by the matrix product &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{M} \mathbf{P} \mathbf{I} =: \mathbf{Q}\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{V}_t\inline&quot;/&gt;&lt;/span&gt; be the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_y\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_q\inline&quot;/&gt;&lt;/span&gt; matrix at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt; giving the value of choosing quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_j\inline&quot;/&gt;&lt;/span&gt; having observed stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_i\inline&quot;/&gt;&lt;/span&gt; and having selected the optimal &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_{t+1} \ldots q_{t_{\textrm{max}}}\inline&quot;/&gt;&lt;/span&gt;, that is:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{V}_t = \mathbf{Q} + \delta \mathbf{V}_{t+1}(y_t)&quot; alt=&quot;\mathbf{V}_t = \mathbf{Q} + \delta \mathbf{V}_{t+1}(y_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec{v}_t\inline&quot;/&gt;&lt;/span&gt; be the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_y\inline&quot;/&gt;&lt;/span&gt; vector with the maximum value of the each row (i.e. for each state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_i\inline&quot;/&gt;&lt;/span&gt;) of the matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{V}_t\inline&quot;/&gt;&lt;/span&gt;, and&lt;/li&gt;
&lt;li&gt;let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec{d}_t\inline&quot;/&gt;&lt;/span&gt; be the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_y\inline&quot;/&gt;&lt;/span&gt; vector whose elements give the column number (e.g. the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?j\inline&quot;/&gt;&lt;/span&gt; determine the choice &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q_j\inline&quot;/&gt;&lt;/span&gt;) of the quota that corresponds to that value.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Thus &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\operatorname{max}_q V_t(y_t) = v_t\inline&quot;/&gt;&lt;/span&gt;. Starting from the final timepoint, we know the ending value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?v_T\inline&quot;/&gt;&lt;/span&gt; as a function of the ending state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_T\inline&quot;/&gt;&lt;/span&gt;. The probability of ending up in each possible state for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_T\inline&quot;/&gt;&lt;/span&gt;, given a choice of quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; and the current state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_{T-1}\inline&quot;/&gt;&lt;/span&gt; is given by the transition matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{M}\mathbf{F}_q\inline&quot;/&gt;&lt;/span&gt;. The Bellman recursion becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{V}_t[,q] = \mathbf{Q}[,q] + \delta \mathbf{M} \mathbf{F}_q v_{t+1}&quot; alt=&quot;\mathbf{V}_t[,q] = \mathbf{Q}[,q] + \delta \mathbf{M} \mathbf{F}_q v_{t+1}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;r-code-algorithm&quot;&gt;R code algorithm:&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    Ep &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;P %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;I
    V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Ep
    for(t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:Tmax){                                 
      D[,(Tmax-t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(V, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, which.max)        
      v_t &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(V, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, max)                        
      V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n_h, function(j){               
        Ep[,j] +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;-delta) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;F[[j]] %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;v_t  
      })
    }
    D&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Where&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    P &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(x_grid, h_grid, profit) 
    M &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rownorm&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(x_grid, x_grid, pdfn, sigma_m) )
    I &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rownorm&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(h_grid, h_grid, pdfn, sigma_i) )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;F is a bit more complicated:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n_h, function(q){  
      &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n_x, function(y){
        out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(n_x)
        mu &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n_x, function(x)
          &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x_grid[x],h_grid,p) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;            &lt;/span&gt;I[q,] *&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# Implementation error&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;            &lt;/span&gt;M[x,y])) &lt;span class=&quot;co&quot;&gt;# Measurement error&lt;/span&gt;
        if(mu==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
          out[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
        else 
          out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x_grid/mu, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)
        out/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(out)
      }))
    })&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Something seems to be a mistake, since the optimal policy under uncertainty does not make sense:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7132/8158258480_972c8543e6.jpg&quot; alt=&quot;policy function under each source of uncertainty&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;policy function under each source of uncertainty&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/bbef99ec43c75ff1dca959c1511b44c5159f4f4c/inst/examples/mult_uncertainty_test.md&quot;&gt;example script&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Updated Edit&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/2012-11-17-f6c225f69f-policyfunctions.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/954cea9310063150bb42567b19caa272b34d32c2&quot;&gt;See notes on code changes inline&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/10/31/notes.html"/>
   <updated>2012-10-31T00:00:00-07:00</updated>
   <id>h/2012/10/31/notes</id>
   <content type="html">&lt;p&gt;I enjoyed an excellent meeting with Annette Thomas, CEO of MacMillian Publishing and Nature Publishing group at UC Davis. It was impressive to here that Annette wanted to meet with UC Davis faculty and graduate students interested in open access and open science to discuss our opinions, desires and frustrations in the scientific publishing process. It was particularly valuable to discuss some of the failed experiments in open science at Nature. Following this event I sent the letter below to Annette recording my reflections on those experiments and what I think they might have revealed. The 2 hour discussion with four graduate students, two faculty members and members of UC Davis and Cal Digital Libraries hit on many other topics as well, and these reflections capture just a few of the issues discussed.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Yesterday we discussed the failure of the 2004 experiment in open peer review and the failure of the pre-print server, Nature Precedings. In my humble opinion, both of these were doomed by insufficient incentives to participate.&lt;/p&gt;
&lt;p&gt;A more successful model to open up peer review has been that practiced by EMBO, as discussed in a Nature Comment in 2010 (doi: 10.1038/468029a). As we are already doing the work of peer review, their is an immediate incentive to get credit for that work through this mechanism, and more journals should consider it. (Biology Direct has a slightly more extreme take on this policy. Both have been far more successful than either the Nature experiment, comments sections of PLoS, or F1000 approaches to post-publication peer review).&lt;/p&gt;
&lt;p&gt;Precedings was a bold and powerful idea that addressed many real gaps in the current publishing infrastructure – a preprint server for fields not represented in arXiv, support for posters and presentations, dois (okay, EZID handles; crossref DOIs might have been better), and a more modern interface than arXiv provided. I was sad to see this close. As you both surely know, preprints run strongly counter to the grain of mainstream biology and their concept of precedence (unlike physics, economics and other fields where the opposite is true). As recent genomic examples have illustrated, the value of faster communication and a broader pre-publication review may slowly shift that culture, but journals such as Nature could play a key role in easing the transition, as your 2004 experiment showed.&lt;/p&gt;
&lt;p&gt;What is needed here is a button to submit work to the preprint server integrated into the normal submission form to the journal. This will dispel the persistent myth that the journal is not okay with it, and will meet with much larger uptake than simply providing the server separately would do. I would bet your own data from the 2004 experiment shows this pattern – more authors choose to participate in that, as a fraction of the total submissions, than have independently uploaded work to a preprint server. As you both observed, the failure of the 2004 experiment was in the breadth and depth of comments received, but as a study in willingness to use a preprint, it was an important positive discovery about promoting preprint culture that would only strengthen the final journal copies.&lt;/p&gt;
&lt;/blockquote&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/10/29/notes.html"/>
   <updated>2012-10-29T00:00:00-07:00</updated>
   <id>h/2012/10/29/notes</id>
   <content type="html">&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Mostly writing application today…&lt;/li&gt;
&lt;li&gt;Review for EcoLet&lt;/li&gt;
&lt;li&gt;looking over pomdp/momdp&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Notebook archives now &lt;a href=&quot;http://figshare.com/authors/Carl%20Boettiger/96387&quot;&gt;on figshare&lt;/a&gt; (plain-txt versions). Can now also cite entries by doi, e.g.: Lab Notebook (2010) doi:10.6084/m9.figshare.96916, and Lab Notebook, (2011) doi:10.6084/m9.figshare.96919. Would publishing individual entries and individual figshare objects be preferable or just annoying?&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Meeting tomorrow with Annette Thomas, CEO NPG/MacMillian. review &lt;a href=&quot;http://www.youtube.com/watch?v=djFs1p_4r-Y&amp;amp;feature=related&quot;&gt;interview with David Worlock&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;munch-data-project&quot;&gt;Munch data project&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Data extraction for geospatial life history project (&lt;a href=&quot;http://www.carlboettiger.info/assets/data&quot;&gt;file&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;R script for converting place names into latitude/longitude:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(RCurl)
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(RJSONIO)
construct.geocode.url &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(address, &lt;span class=&quot;dt&quot;&gt;return.call =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;json&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sensor =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;false&amp;quot;&lt;/span&gt;) {
    root &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;http://maps.google.com/maps/api/geocode/&amp;quot;&lt;/span&gt;
    u &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(root, return.call, &lt;span class=&quot;st&quot;&gt;&amp;quot;?address=&amp;quot;&lt;/span&gt;, address, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;amp;sensor=&amp;quot;&lt;/span&gt;, sensor, &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;URLencode&lt;/span&gt;(u))
}
gGeoCode &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(address,&lt;span class=&quot;dt&quot;&gt;verbose=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;) {
  if(verbose) &lt;span class=&quot;kw&quot;&gt;cat&lt;/span&gt;(address,&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;)
  u &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;construct.geocode.url&lt;/span&gt;(address)
  doc &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURL&lt;/span&gt;(u)
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fromJSON&lt;/span&gt;(doc,&lt;span class=&quot;dt&quot;&gt;simplify =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
  if(x$status==&lt;span class=&quot;st&quot;&gt;&amp;quot;OK&amp;quot;&lt;/span&gt;) {
    lat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x$results[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$geometry$location$lat
    lng &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x$results[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$geometry$location$lng
    &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(lat, lng))
  } else {
  &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;,&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;))
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;xml-compliance-in-html5&quot;&gt;XML compliance in HTML5&lt;/h2&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/21&quot;&gt;labnotebook/issues/21&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;HTML5 allows tags to be unclosed, e.g. &lt;code&gt;&amp;lt;meta charset=&amp;quot;utf-8&amp;quot;&amp;gt;&lt;/code&gt; instead of &lt;code&gt;&amp;lt;meta charset=&amp;quot;utf-8&amp;quot; /&amp;gt;&lt;/code&gt; but this is not valid XML.&lt;/p&gt;
&lt;p&gt;See: * &lt;a href=&quot;http://dev.w3.org/html5/html-xhtml-author-guide/&quot;&gt;Polyglot/xhtml5 author guide&lt;/a&gt; * &lt;a href=&quot;http://www.xmlplease.com/xhtml/xhtml5polyglot/#s1&quot;&gt;Benefits of XML&lt;/a&gt; * &lt;a href=&quot;http://www.w3.org/TR/xhtml-media-types/#C_2&quot;&gt;W3C XHTML media type&lt;/a&gt; * &lt;a href=&quot;http://www.w3.org/TR/html5/syntax.html#optional-tags&quot;&gt;Optional tags in html5&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that tags with no content must be closed with &lt;code&gt;/&amp;gt;&lt;/code&gt; (like the &lt;code&gt;meta&lt;/code&gt; example) while tags with content must get a normal closing (&lt;code&gt;&amp;lt;li&amp;gt; item &amp;lt;/li&amp;gt;&lt;/code&gt; etc). Despite this, the HTML5 spec is kinda logical since closing is syntax redundant even though not closing is not valid XML, see &lt;a href=&quot;http://stackoverflow.com/questions/3008593/html-include-or-exclude-optional-closing-tags&quot;&gt;SO question&lt;/a&gt; for discussion.&lt;/p&gt;
&lt;h3 id=&quot;example&quot;&gt;example&lt;/h3&gt;
&lt;p&gt;Basic XML parsing is now possible, e.g. in R:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(XML)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RCurl)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURLContent&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info/2012/10/25/stochastic-dynamic-programming-with-gaussian-process-approx.html&amp;quot;&lt;/span&gt;)
doc &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlParse&lt;/span&gt;(tt)
&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;st&quot;&gt;&amp;quot;//x:meta&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;namespace=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Validation requires &lt;code&gt;meta&lt;/code&gt; tags only appear in &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; and not &lt;code&gt;&amp;lt;body&amp;gt;&lt;/code&gt; (but still do use &lt;code&gt;property&lt;/code&gt; and not &lt;code&gt;name&lt;/code&gt; for RDFa properties). Validation also requries all images have alt-text, which means I should remember to use anchor text om pandoc images (e.g. also name my graph knitr chunks intelligently). Otherwise the site validates as HTML5.&lt;/p&gt;
&lt;p&gt;Ignoring the declared content-type will nearly validate as XML. Had to make the attribute &lt;code&gt;onClick&lt;/code&gt; from the Google tracker javascript lowercase &lt;code&gt;onclick&lt;/code&gt;, like all other attributes. Now th only challenge is that HTML5 needs &lt;code&gt;lang=&lt;/code&gt; declared in &lt;code&gt;&amp;lt;html&amp;gt;&lt;/code&gt; tag, (while is tolerant of &lt;code&gt;xml:lang&lt;/code&gt;), but &lt;code&gt;XML&lt;/code&gt; doesn’t want to see &lt;code&gt;lang&lt;/code&gt; in the &lt;code&gt;&amp;lt;html&amp;gt;&lt;/code&gt; tag. Perhaps can go somewhere else and be valid HTML5? (Using a &lt;code&gt;meta&lt;/code&gt; tag for this is now &lt;a href=&quot;http://nimbupani.com/declaring-languages-in-html-5.html&quot;&gt;obsolete&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;mathml&quot;&gt;MathML&lt;/h3&gt;
&lt;p&gt;Mathml namespace is loaded by default in HTML5 (a native namespace). Currently using the javascript MathJax which has very nice display and interactive toggles (including getting the latex or mathml source). It looks like MathJax can take either latex input or mathml input, and Pandoc can render the latex source (much much nicer to type) into mathml. Just need to get pandoc to convert the source to mathml and then have the mathml rendered pretty by MathJax css, e.g. http://www.mathjax.org/demos/mathml-samples/. This may also load faster than javascript-based rendering of MathJax(?)&lt;/p&gt;
&lt;h2 id=&quot;alm-goals&quot;&gt;ALM goals&lt;/h2&gt;
&lt;p&gt;Headed to the PLOS ALM conference with ropensci next week. Should be a good chance to catch up on projects:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;rfigshare to CRAN&lt;/li&gt;
&lt;li&gt;semantic knitcitations&lt;/li&gt;
&lt;li&gt;Mark Hahnel: figshare archiving of notebook – archive the markdown? archive code? archive git repos?&lt;/li&gt;
&lt;li&gt;Martin Fenner: Scholarly HTML standards, notebook standards (can we get John Kunze involved?)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Stochastic Dynamic Programming With Gaussian Process Approx</title>
   <link href="/2012/10/25/stochastic-dynamic-programming-with-gaussian-process-approx.html"/>
   <updated>2012-10-25T00:00:00-07:00</updated>
   <id>h/2012/10/25/stochastic-dynamic-programming-with-gaussian-process-approx</id>
   <content type="html">&lt;p&gt;Here we work out an SDP solution of the Reed (1979) using a Gaussian process approximation. In this example the Gaussian process hyper-parameters haven’t been tuned, so in principle the solution would perform even better, but this is just for illustrative purposes.&lt;/p&gt;
&lt;p&gt;We simulate 40 points under a stochastic growth (lognormal multiplicative noise) Beverton-Holt model and infer the Gaussian process. We start the simulation from a low stock value, giving reasonable but not perfect coverage of the state-space. The prior still has a strong influence outside these regions, so the GP doesn’t quite match the Beverton-Holt curve, as seen in the first figure.&lt;/p&gt;
&lt;p&gt;We solve for the optimal policy function by discretizing the system and using the Gaussian process to fill out the stochastic transition matrix, which we pass to my little stochastic dynamic programming library to determine the policy function. We compare this policy function to the solution for the true F (Beverton-Holt) in the second figure, and note somewhat substantial differences (in particular a clear deviation from the constant escapement rule that emerges, which in itself is quite interesting, all though clearly non optimal in this case.&lt;/p&gt;
&lt;p&gt;The GP doesn’t learn during the actual test period when the management is being implemented, though of course it could easily do so (after accounting for the application of the control). A single replicate simulation compares the optimal management under the true model to the GP management, which does less well (obviously), but not by a dramatic amount.&lt;/p&gt;
&lt;p&gt;Code provides explicit statements of the models and should generate a reproducible example.&lt;/p&gt;
&lt;p&gt;Next steps should optimize the GP and compare against the more realistic test case where the parameterized model is estimated from the simulation data (possibly under different functional forms, etc).&lt;/p&gt;
&lt;h3 id=&quot;coded-example-below-from-reed-example.md&quot;&gt;Coded example below, from &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/a40d56af2e0f3be58e1b92347c96b829cadb130a/inst/examples/reed-example.md&quot;&gt;reed-example.md&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;load my libraries and plotting lib.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(nonparametricbayes)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pdgControl)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(push images to flickr)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload.fun =&lt;/span&gt; socialR::flickr.url)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;beverton-holt-function&quot;&gt;Beverton-Holt function&lt;/h3&gt;
&lt;p&gt;Simulate some training data under a stochastic growth function with standard parameterization,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;BevHolt
p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Parameter definitions&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;101&lt;/span&gt;)
T &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;
sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(T)
x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Noise function, profit function&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)  &lt;span class=&quot;co&quot;&gt;#1+(2*runif(1, 0,  1)-1)*sigma_g #&lt;/span&gt;
profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Simulation&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;for (t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)) x[t +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;z_g&lt;/span&gt;() *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x[t], &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; p)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Predict the function over the target grid&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;obs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)], &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;:T])
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(nonparametricbayes)
gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gp_fit&lt;/span&gt;(obs, X, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;sigma_n =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;l =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Gaussian Process inference from this model. True model shown in red.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; gp$Ef, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; (gp$Ef -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))), 
    &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; (gp$Ef +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))))
true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(X, f, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, p))
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; ymin, &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ymax), &lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;gray80&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; obs, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; true, 
    &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8464/8123212898_904aa88749_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;stochastic-dynamic-programming-solution-based-on-the-posterior-gaussian-process&quot;&gt;Stochastic Dynamic programming solution based on the posterior Gaussian process:&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;rownorm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(M) &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(M, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, function(x) x/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(x)))
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Define a transition matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F\inline&quot;/&gt;&lt;/span&gt; from the Gaussian process, giving the probability of going from state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt; to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1}\inline&quot;/&gt;&lt;/span&gt;. We already have the Gaussian process mean and variance predicted for each point &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; on our grid, so this is simply:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf))
matrices_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(h_grid, function(h) {
    F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(x, gp$Ef -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h, V))
    F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rownorm&lt;/span&gt;(F)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;True &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;matrices_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(h_grid, function(h) {
    mu &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, f, h, p)
    F_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(x, mu, sigma_g))
    F_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rownorm&lt;/span&gt;(F_true)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Calculate the policy function using the true F:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opt_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(matrices_true, x_grid, h_grid, &lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, profit, 
    &lt;span class=&quot;dt&quot;&gt;delta =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Calculate using the inferred GP&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opt_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(matrices_gp, x_grid, h_grid, &lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, profit, 
    &lt;span class=&quot;dt&quot;&gt;delta =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;policies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;stock =&lt;/span&gt; x_grid, &lt;span class=&quot;dt&quot;&gt;GP =&lt;/span&gt; x_grid[opt_gp$D[, 
    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;Exact =&lt;/span&gt; x_grid[opt_true$D[, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]), &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;)
q1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policies, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, stock -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;value, &lt;span class=&quot;dt&quot;&gt;color =&lt;/span&gt; variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;() +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;stock size&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;escapement&amp;quot;&lt;/span&gt;)
q1&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8053/8123196485_a3dc43986f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;We can see what happens when we attempt to manage a stock using this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
sim_gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, p, x_grid, h_grid, K, opt_gp$D, z_g, 
    &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit)
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
sim_true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, p, x_grid, h_grid, K, opt_true$D, 
    z_g, &lt;span class=&quot;dt&quot;&gt;profit =&lt;/span&gt; profit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; sim_gp$time, &lt;span class=&quot;dt&quot;&gt;stock_gp =&lt;/span&gt; sim_gp$fishstock, 
    &lt;span class=&quot;dt&quot;&gt;stock_true =&lt;/span&gt; sim_true$fishstock, &lt;span class=&quot;dt&quot;&gt;harvest_gp =&lt;/span&gt; sim_gp$harvest, &lt;span class=&quot;dt&quot;&gt;havest_true =&lt;/span&gt; sim_true$harvest)
df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(df, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value, &lt;span class=&quot;dt&quot;&gt;color =&lt;/span&gt; variable))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8191/8123196619_5b8ab8d81d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Total Profits&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(sim_gp$profit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 25.43&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(sim_true$profit)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 29.95&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Multiple Uncertainty Value Function Iteration</title>
   <link href="/2012/10/24/multiple-uncertainty-value-function-iteration.html"/>
   <updated>2012-10-24T00:00:00-07:00</updated>
   <id>h/2012/10/24/multiple-uncertainty-value-function-iteration</id>
   <content type="html">&lt;h3 id=&quot;multiple-uncertainty-algorithm&quot;&gt;Multiple Uncertainty algorithm&lt;/h3&gt;
&lt;p&gt;Define each of the transition matrices:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    D &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;matrix&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;nrow=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x_grid), &lt;span class=&quot;dt&quot;&gt;ncol=&lt;/span&gt;Tmax)  
    P &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(x_grid, h_grid, profit)
    F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(x_grid, &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x_grid, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, p), pdfn, sigma_g)
    M &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(x_grid, x_grid, pdfn, sigma_m)
    I &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(h_grid, h_grid, pdfn, sigma_i)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Probably row-normalize each:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;rownorm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(M) &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(M, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, function(x) x/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(x))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(Note the transpose is needed since the silly function of a vector turns the column into a row. Not an issue of margin 2)&lt;/p&gt;
&lt;p&gt;If we have no uncertainty in measurement or implementation, then the algorithm is:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;P
    for(t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:Tmax){
      D[,(Tmax-t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(V, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, which.max)
      V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;P +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;delta *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;F %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;V %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;D[, (Tmax-t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;)]  
    }
    D&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With uncertainty&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;Ep &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;P %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;I
U &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(M) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;F %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M 
V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Ep
  for(t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:Tmax){
    D[,(Tmax-t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(V, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, which.max)
    V &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Ep +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;delta *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;U %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;V %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;I %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;D[, (Tmax-t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;)]  
  }&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;description&quot;&gt;Description&lt;/h3&gt;
&lt;p&gt;** rambling thinking while working out the above **&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.carlboettiger.info/2012/10/01/multiple-uncertainty.html&quot;&gt;October 1st entry&lt;/a&gt; derives the rule for updating the state (measured stock),&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_{t+1} = \mathbb{F} \mathbb{M} \mathbb{I}_h \vec Y_t,&quot; alt=&quot;Y_{t+1} = \mathbb{F} \mathbb{M} \mathbb{I}_h \vec Y_t,&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;but this isn’t sufficient to complete the value iteration. Recall from the Bellman recursion,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_t = \max_h \operatorname{E}\left( \Pi(Y_t, h_t) + V(Y_{t+1}, h_{t+1}) \right)&quot; alt=&quot;V_t = \max_h \operatorname{E}\left( \Pi(Y_t, h_t) + V(Y_{t+1}, h_{t+1}) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In the final timestep with no scrap value, we assert that the vector of values for each possible state, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec V_T = {0}\inline&quot;/&gt;&lt;/span&gt;. The previous year is then the first year that can have profits, given by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(Y_{T-1}, h_{T-1})\inline&quot;/&gt;&lt;/span&gt;. Of course &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_{T-1}\inline&quot;/&gt;&lt;/span&gt; is unknown, but is given by the recursion in (1).&lt;/p&gt;
&lt;p&gt;Our strategy in discrete space is to work backwards from &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T\inline&quot;/&gt;&lt;/span&gt;, keeping track of the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; that maximizes the value-to-go for each possible state. So at &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T-1\inline&quot;/&gt;&lt;/span&gt;, we put each possible state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; and each possible havest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; into &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(y,h)\inline&quot;/&gt;&lt;/span&gt; and select the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; that maximizes the profit. In the case of a deterministic harvest and a lack of measurement error this first iteration is trivial: harvest what you see &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h=y\inline&quot;/&gt;&lt;/span&gt; (unless &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; is bounded or there is a cost on effort), yielding the value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_{T-1}\inline&quot;/&gt;&lt;/span&gt; for each state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(y,y)\inline&quot;/&gt;&lt;/span&gt;. When profits are proportional to harvest, up to a constant this is simply &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;For a generic profit function that may have a cost on effort, we must store the map of which &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; is optimal for each &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;. In discrete space, call this the decision vector &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?D_{T-1}\inline&quot;/&gt;&lt;/span&gt; where the indices correspond to the states &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; and the values correspond to the harvest (or harvest index) that is optimal for that state, and we write &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(y_{T-1}, D_{T-1}(y_{T-1}))\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If there is uncertainty in either implementation of the harvest or measurement of the stock, or both, then we must integrate over this in determining the optimal &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;. The expected profit derived from choosing a harvest quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; and having measured a stock at &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; is given by&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(y,q) = \int \int \Pi(x,h) P(x) dx P(h) dh&quot; alt=&quot;\Pi(y,q) = \int \int \Pi(x,h) P(x) dx P(h) dh&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In matrix form, if &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{P}\inline&quot;/&gt;&lt;/span&gt; is the matrix of profits where element &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p_{ij} = \Pi(x_i, h_j)\inline&quot;/&gt;&lt;/span&gt; and vector &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec H\inline&quot;/&gt;&lt;/span&gt; with elements &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H_i\inline&quot;/&gt;&lt;/span&gt; give the probability of harvesting &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h_i\inline&quot;/&gt;&lt;/span&gt; fish given the quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt;, then &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{P} \vec H\inline&quot;/&gt;&lt;/span&gt; is a vector of profits for each &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_i\inline&quot;/&gt;&lt;/span&gt;. Representing distribution in the measurement similarly as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec X\inline&quot;/&gt;&lt;/span&gt;, the integration for the expected profit is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec X^T \mathbb{P} \vec H\inline&quot;/&gt;&lt;/span&gt; (giving the scalar value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Pi(y,q)\inline&quot;/&gt;&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;We can store &amp;amp; lookup &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X\inline&quot;/&gt;&lt;/span&gt; using a matrix whose columns give &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec X\inline&quot;/&gt;&lt;/span&gt; for each value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;, and similarly for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H\inline&quot;/&gt;&lt;/span&gt; given &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt;. These are our matrices &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{M}\inline&quot;/&gt;&lt;/span&gt; (each row is a fixed observed &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;, maps true &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; into observed &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;, elements &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P_m(y, x)\inline&quot;/&gt;&lt;/span&gt;) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{I}\inline&quot;/&gt;&lt;/span&gt; (mapping quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; (columns) to implemented harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;, elements &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P_I(h_i, q_j)\inline&quot;/&gt;&lt;/span&gt;) from before. Then we can write &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\operatorname{E}(\Pi(x,h) | y,q)\inline&quot;/&gt;&lt;/span&gt; as a matrix resulting from the product of matrices:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tilde{\mathbb{P}} =  \mathbb{M} \mathbb{P} \mathbb{I}&quot; alt=&quot;\tilde{\mathbb{P}} =  \mathbb{M} \mathbb{P} \mathbb{I}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In the next iteration, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T-2\inline&quot;/&gt;&lt;/span&gt;, we realize that our choice of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; impacts the value we could get a time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T-1\inline&quot;/&gt;&lt;/span&gt; as well. In choosing the harvest quota in this interval we must also consider what value it introduces in the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T-1\inline&quot;/&gt;&lt;/span&gt; interval. We already have the matrix above giving the profits for each &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;, we just need to transition from the space of the current &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; to the future &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; through application of the transition matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?T: y_t \to y_{t+1}\inline&quot;/&gt;&lt;/span&gt;. &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F: x_t \to x_{t+1}\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(x_{t+1}, x_t)\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M: x \to y\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?I: q \to h\inline&quot;/&gt;&lt;/span&gt;, so&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{T} = M^T F M \tilde{P} I D_t&quot; alt=&quot;\mathbb{T} = M^T F M \tilde{P} I D_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolutionary Covariance</title>
   <link href="/2012/10/24/evolutionary-covariance.html"/>
   <updated>2012-10-24T00:00:00-07:00</updated>
   <id>h/2012/10/24/evolutionary-covariance</id>
   <content type="html">&lt;p&gt;&lt;em&gt;Thinking through disparity measures while writing my thoughts in R…&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Load some sample data&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(geiger)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(geospiza)
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;treedata&lt;/span&gt;(geospiza$geospiza.tree, geospiza$geospiza.data$wingL)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To find the disparity relative to a particular model, we must compute the variance-covariance matrix for that model&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat$data
V_bm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;vcv&lt;/span&gt;(dat$phy)
mean_X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;geiger:::&lt;span class=&quot;kw&quot;&gt;phylogMean&lt;/span&gt;(V_bm, X)
bm_disparity &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(X-mean_X) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;V_bm %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(X-mean_X)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I believe this needs to be scaled by the Brownian rate parameter of the trait, e.g.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;bm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(dat$phy, dat$data)
bm_disparity &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bm[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$beta *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bm_disparity
OU would be similar, but transform the tree&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;ou &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(dat$phy, dat$data, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;OU&amp;quot;&lt;/span&gt;)
alpha &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;ou[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$alpha
V_ou &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;vcv&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;ouTree&lt;/span&gt;(dat$phy, alpha))
ou_var &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$beta/(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*alpha)
X_mean &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;phylogMean&lt;/span&gt;(V_ou, X)
ou_disparity &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(X-X_mean) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;V_ou %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(X-X_mean) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou_var&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There’s a few things I’m unsure about off the top of my head in this. I should double-check that &lt;code&gt;beta&lt;/code&gt; in geiger is the same as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2\inline&quot;/&gt;&lt;/span&gt;, and I should double check the ou variance-covariance formula (e.g. compare to the un-numbered equation after equation 5 in Butler &amp;amp; King). I also not sure I quite have the right &lt;code&gt;X_mean&lt;/code&gt; in the OU case.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Semantic Markup Examples For The Lab Notebook</title>
   <link href="/2012/10/23/semantic-markup-examples-for-the-lab-notebook.html"/>
   <updated>2012-10-23T00:00:00-07:00</updated>
   <id>h/2012/10/23/semantic-markup-examples-for-the-lab-notebook</id>
   <content type="html">&lt;p&gt;All notebook entries are formatted with XHTML compliant (polyglot) HTML5 semantic structure. This means that any entry can be parsed with a generic XML parser to extract the entry content in &lt;code&gt;&amp;lt;article&amp;gt;&lt;/code&gt;, the &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt;, etc. The &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; section provides &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; and essential &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tags declaring the character encoding (which also sets the MIME type for HTML5).&lt;/p&gt;
&lt;h3 id=&quot;head&quot;&gt;Head&lt;/h3&gt;
&lt;p&gt;In &lt;code&gt;_includes/header.html&lt;/code&gt; we introduce some basic academic archive metadata using the Dublin Core ontology. The html5 &lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt; seems like a good place for &lt;code&gt;dc:title&lt;/code&gt;. Other metadata is added invisibly using &lt;code&gt;content&lt;/code&gt; in a &lt;code&gt;meta&lt;/code&gt; tag.&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;head&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; prefix=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc: http://purl.org/dc/terms/&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;&amp;lt;!-- HTML5 metadata --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; charset=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;utf-8&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;&amp;lt;!--same as &amp;lt;meta http-equiv=&amp;#39;Content-Type&amp;#39; content=&amp;#39;Type=text/html; charset=utf-8&amp;#39;&amp;gt; --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Carl Boettiger&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;keywords&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Ecology, Evolution, Open Science, Reproducible Research&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;My open lab notebook: research in theoretical ecology and evolution&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;viewport&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;width=device-width, initial-scale=1.0&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;title&amp;gt;&lt;/span&gt;{{ page.title }}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/title&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;&amp;lt;!-- RDFa Metdata (in Dublin Core) --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:creator&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Carl Boettiger&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:title&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;{{ page.title }}&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:type&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Lab Notebook&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:format&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;text/html&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;meta&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:language&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; content=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;en&amp;quot;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;sidebar&quot;&gt;Sidebar&lt;/h3&gt;
&lt;p&gt;More metadata is displayed in the sidebar (in an html5 &lt;code&gt;aside&lt;/code&gt; element), including date, tags and category. I’ve added the following RDFa to describe these (see examples with the Jekyll liquid code in &lt;code&gt;_includes/sidebar.html&lt;/code&gt;)&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;aside&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; prefix=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc: http://purl.org/dc/terms/&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
Posted on
&lt;span class=&quot;kw&quot;&gt;&amp;lt;time&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; datetime=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;{{ page.date | date_to_xmlschema }}&amp;quot;&lt;/span&gt; 
&lt;span class=&quot;ot&quot;&gt;      property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:created&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;{{ page.date | date_to_string }}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/time&amp;gt;&lt;/span&gt;.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This puts the date in an HTML5 time element described as the &lt;code&gt;dc.created&lt;/code&gt; time of the publication. Tags and categories use a little Liquid code so Jekyll can import them from the YAML header. The link to the tag page is described with the HTML &lt;code&gt;rel&lt;/code&gt; attribute for tag, while the tag itself is given the RDFa property of a blog keyword from schema.org. Categories are given the more formal &lt;code&gt;dc:subject&lt;/code&gt; property. (See &lt;code&gt;_includes/pagetags.html&lt;/code&gt; for Jekyll/Liquid code for looping over multiple tags, etc).&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; rel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;tag&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;tag&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/tags.html#{{ tag | cgi_escape }}&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;#&lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt; 
&lt;span class=&quot;ot&quot;&gt;  property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://schema.org/BlogPosting/keywords&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;{{ tag }}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; rel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;tag&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;category&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/categories.html#{{ category | cgi_escape }}&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;dc:subject&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;{{ category }}&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The next and previous buttons get the HTML5 &lt;code&gt;rel&lt;/code&gt; values &lt;code&gt;next&lt;/code&gt; and &lt;code&gt;prev&lt;/code&gt; (see &lt;a href=&quot;http://diveintohtml5.info/semantics.html&quot;&gt;HTML5 semantics&lt;/a&gt;). Note that all the Dublin Core elements are properties of the page on which they occur.&lt;/p&gt;
&lt;h3 id=&quot;footer&quot;&gt;Footer&lt;/h3&gt;
&lt;p&gt;The &lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt; contains licenses and contact information through social media. I’ve used the FOAF vocabulary to indicate my membership to the various social networks provided in the links. The social networks are properties of a &lt;code&gt;FOAF:person&lt;/code&gt;, (me), which is indicated in the RDFa &lt;code&gt;resource&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;span4&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; vocab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://xmlns.com/foaf/0.1/&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; typeof=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Person&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;resource=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info#me&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;account&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mailto:cboettig@gmail.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/assets/img/icon-email.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;email&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;account&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;https://twitter.com/cboettig&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/assets/img/icon-twitter.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;twitter&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;account&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;https://github.com/cboettig&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info/assets/img/icon-github.png&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;account&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.mendeley.com/profiles/carl-boettiger&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;  src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/assets/img/icon-mendeley.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mendeley&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/atom.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/assets/img/icon-rss.png&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;feed&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It might be worth adding more FOAF terms describing the relationship of these networks (such as distinguishing my profile name and the base url) using meta elements to avoid adding clutter text. I use the Creative Commons namespace to identify my CC0 license. The license is a property of the page on which it is found, like the Dublin Core metadata.&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://creativecommons.org/ns#license&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://creativecommons.org/publicdomain/zero/1.0/&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;img&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://i.creativecommons.org/l/zero/1.0/88x31.png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; alt=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;CC0&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;float:right&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/post-rdfa.png&quot; alt=&quot;When these elements are combined in a given entry, the RDFa generates this structure&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;When these elements are combined in a given entry, the RDFa generates this structure&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;easily-entering-rdfa&quot;&gt;Easily entering RDFa&lt;/h3&gt;
&lt;p&gt;All of this markup content is either generally static or filled in programatically by Jekyll from the YAML headers (e.g. title, categories, tags, date), leaving me free to put the RDFa into the template files just once and forget about it. In this way I can continue to write everything in Markdown, rather than the more cumbersome HTML riddled by the addition of RDFa attributes. Unfortunately there is no easy way to escape this in writing the Homepage markup, described below, but a single case isn’t so bad.&lt;/p&gt;
&lt;p&gt;Another obvious candidate for linked data in the posts is the citation information. This markup can probably be automatically generated for each post using scripts (see &lt;a href=&quot;http://www.carlboettiger.info/2012/10/05/notes.html&quot;&gt;Automated feeds in notebook entries&lt;/a&gt;), so I plan to add this to my knitcitations package when I get a chance (including CiTO support!).&lt;/p&gt;
&lt;h3 id=&quot;homepage&quot;&gt;Homepage&lt;/h3&gt;
&lt;p&gt;My homepage contains a brief description about me that is ripe for FOAF and schema.org. While this content is reasonably static, it does mean writing directly in HTML+RDFa, with the markup making the source almost unreadable. (It might be possible to force more of this data into YAML header and have it added through the invisible &lt;code&gt;meta&lt;/code&gt; tags, but that seems rather convoluted). Capturing the “buisness card” information as well as the “social” information requires mixing ontologies, which can lead to some interesting complications. To make a long story short:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: lower-alpha&quot;&gt;
&lt;li&gt;Implicit logic &lt;em&gt;is possible&lt;/em&gt; with linked data: we can infer that &lt;code&gt;schema:jobTitle&lt;/code&gt; can be a property of a &lt;code&gt;foaf:Person&lt;/code&gt; because it is a property of a &lt;code&gt;schema:Person&lt;/code&gt; and someone declares them as &lt;code&gt;owl:equivalentProperty&lt;/code&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;In practice it may be most robust to explicitly declare the relation by exploiting the fact that we can give multiple arguments to attributes like &lt;code&gt;property&lt;/code&gt; and &lt;code&gt;typeof&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;me&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; prefix=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf: http://xmlns.com/foaf/0.1/&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; prefix=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;schema:&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;http://schema.org/Person&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; typeof=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:Person schema:Person&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;resource=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info#me&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; 
I am  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:homepage schema:url&amp;quot;&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:name&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;schema:name&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:givenName schema:givenName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Carl&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;foaf:familyName schema:familyName&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Boettiger&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/a&amp;gt;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;
&lt;span class=&quot;ot&quot;&gt;property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;schema:jobTitle&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;a graduate student&lt;span class=&quot;kw&quot;&gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(This excerpt gives the general flavor, see the html source of &lt;a href=&quot;http://www.carlboettiger.info&quot;&gt;index.html&lt;/a&gt; for a full example.)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/figures/homepage-rdfa.png&quot; alt=&quot;The homepage generates this RDFa structured graph (from rdfa.info/play)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;The homepage generates this RDFa structured graph (from rdfa.info/play)&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;p&gt;Some background reading on semantics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nice &lt;a href=&quot;http://scholarlyhtml.org/faq/&quot;&gt;collection of posts on scholarly html&lt;/a&gt;, but too little mention of the serious linked data stuff coming out of biscol, ievobio/nescent, etc. In particular, Martin’s &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/03/19/a-very-brief-history-of-scholarly-html/&quot;&gt;history&lt;/a&gt; gives some nice perspective.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;The war for schema. Which ontologies should we choose? (e.g. &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/06/07/schema-org-for-scholarly-html/&quot;&gt;schema.org’s take&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;On &lt;a href=&quot;http://manu.sporny.org/2011/false-choice/&quot;&gt;the good &amp;amp; the bad of schema.org and the role of search giants&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mixing ontologies had me very confused.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How do we &lt;a href=&quot;http://stackoverflow.com/questions/12983766&quot;&gt;mix ontologies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How do we meet &lt;a href=&quot;http://answers.semanticweb.com/questions/19200/satisfy-google-rich-snippets-person-standard-using-foaf&quot;&gt;Google Rich Snippets requirements using FOAF?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How do we &lt;a href=&quot;http://answers.semanticweb.com/questions/19275/what-to-do-about-redundant-rdfa-or-machines-that-speak-only-one-language&quot;&gt;avoid redundant vocabulary terms?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;We can avoid the redundancy using implicit reasoning (exploiting the logic of linked data), but we may prefer to be explict. &lt;a href=&quot;http://vimeo.com/28667500&quot;&gt;This video&lt;/a&gt; does a nice job of explaining these concepts. If we do semantics right, we should be able to “dereference” an object away from a particular ontology.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;tools-and-resources&quot;&gt;Tools and Resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.google.com/webmasters/tools/richsnippets&quot;&gt;Google rich snippets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://getschema.org/rdfaliteextractor/about&quot;&gt;rdfa extractor&lt;/a&gt; (into RDF, JSON, n3). Also has validator, but doesn’t point to the &lt;code&gt;nu&lt;/code&gt; variant for html5.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://rdfa.info/play/&quot;&gt;RDFa Play&lt;/a&gt;. Wow, very nice.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sameas.org&quot;&gt;sameAs.org&lt;/a&gt; – search onotologies for an existing term, identify identical terms in different ontologies, etc. Simply brilliant, what I’ve always wanted!&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;knitcitations-update-adding-formats-an-semantics.&quot;&gt;knitcitations update: adding formats an semantics.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Looking at citeproc / &lt;a href=&quot;http://citationstyles.org/&quot;&gt;CSL&lt;/a&gt; &lt;a href=&quot;https://github.com/citation-style-language&quot;&gt;github page&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Raw citeproc is an XML stylesheet, XSLT, which can render XML into HTML (and much more). Possible other options are using something like citeproc-js or citeproc-ruby, or writing citeproc-R.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Not quite clear how to take a CSL and a set of references and generate HTML; aforementioned packages may address this.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;For the moment, probably easier to convert R &lt;code&gt;bibitem&lt;/code&gt; to display with RDFa with scholarlyhtml recommended ontology than to enter raw XML reference and format via citeproc. Should also support adding in the cito tags. With full addresses in property, should be able to avoid any need for namespace/header modifications.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Gaussian process inference on sample functions</title>
   <link href="/2012/10/23/notes.html"/>
   <updated>2012-10-23T00:00:00-07:00</updated>
   <id>h/2012/10/23/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;This example uses the direct inversion of the covariance function. I have also been exploring the potentially faster Cholksy decomposition without success. Sometimes the match is very good, other times not, see &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/c0624f95ece642dbcfa7d7bbeb8fd43c84354a3a/inst/examples/compare-cholsky.md&quot;&gt;compare-cholsky.md&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This example also on github as &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/c0624f95ece642dbcfa7d7bbeb8fd43c84354a3a/inst/examples/reed-example.md&quot;&gt;reed-example.md&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Basic likelihood optimization needs to be checked. See commits &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/e35135230f92c5ee646225cdb4b0c3fa47dd8ead&quot;&gt;estimating &lt;code&gt;sigma_n&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/commit/d03db9312f7bbdacb451022f1e83ed11c682841d&quot;&gt;estimating &lt;code&gt;l&lt;/code&gt;&lt;/a&gt;. Compare the example below to &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes/blob/11666fb029ef213854065d86d08f03723d2cd828/inst/examples/reed-example.md&quot;&gt;a different set of fixed hyperparameters here&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;example&quot;&gt;Example&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pdgControl)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Simulate some training data under a stochastic growth function with standard parameterization,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;BevHolt
p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Noise function&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(sigma_g) &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g)  &lt;span class=&quot;co&quot;&gt;#1+(2*runif(1, 0,  1)-1)*sigma_g #&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Parameter definitions&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)
T &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;
sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(T)
x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Simulation&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;for (t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)) x[t +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;z_g&lt;/span&gt;(sigma_g) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x[t], &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; p)

&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(x)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8190/8117649167_f5002b7024_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Predict the function over the target grid&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;obs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)], &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;:T])
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(nonparametricbayes)
gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gp_fit&lt;/span&gt;(obs, X, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;sigma_n =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;l =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Gaussian Process inference from this model. True model shown in red.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; gp$Ef, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; (gp$Ef -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))), 
    &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; (gp$Ef +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))))
true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(X, f, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, p))
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; ymin, &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ymax), &lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;gray80&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; obs, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; true, 
    &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8336/8117660178_beeca82760_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;another-example-using-the-may-model&quot;&gt;Another example using the May model&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;May
p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;r =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.75&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;k =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1.2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;H =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Q =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;  &lt;span class=&quot;co&quot;&gt;# approx&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Model dynamics look like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;birth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) p[&lt;span class=&quot;st&quot;&gt;&amp;quot;r&amp;quot;&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x/p[&lt;span class=&quot;st&quot;&gt;&amp;quot;k&amp;quot;&lt;/span&gt;])
death &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) p[&lt;span class=&quot;st&quot;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x^(p[&lt;span class=&quot;st&quot;&gt;&amp;quot;Q&amp;quot;&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/(x^p[&lt;span class=&quot;st&quot;&gt;&amp;quot;Q&amp;quot;&lt;/span&gt;] +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;st&quot;&gt;&amp;quot;H&amp;quot;&lt;/span&gt;])
df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x_grid, &lt;span class=&quot;dt&quot;&gt;b =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, birth), &lt;span class=&quot;dt&quot;&gt;d =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, 
    death))
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, b), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, 
    d), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8046/8117660240_31c8d052c4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Simulation&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;2.5&lt;/span&gt;
for (t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)) x[t +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;z_g&lt;/span&gt;(sigma_g) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x[t], &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; p)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(x)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8330/8117649515_59c703d880_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Predict the function over the target grid&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;obs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(T -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)], &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;:T])
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(nonparametricbayes)
gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gp_fit&lt;/span&gt;(obs, X, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;sigma_n =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;l =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Gaussian Process inference from this model&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; gp$Ef, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; (gp$Ef -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))), 
    &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; (gp$Ef +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(gp$Cf)))))
true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; X, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(X, f, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, p))
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(df) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;ymin =&lt;/span&gt; ymin, &lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ymax), &lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;gray80&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; obs, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; true, 
    &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y), &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8325/8117660460_a53eb7c10c_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Comparing numerical methods</title>
   <link href="/2012/10/22/notes.html"/>
   <updated>2012-10-22T00:00:00-07:00</updated>
   <id>h/2012/10/22/notes</id>
   <content type="html">&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(MASS)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(kernlab)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Parameterization-specific&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;len=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;)
obs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;),
                  &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;))
l &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
sigma_n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.8&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Radial basis function/Gaussian kernel:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;  SE &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(Xi,Xj, l) &lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(-&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(Xi -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Xj) ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;l ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
  cov &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, Y) &lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(X, Y, SE, l) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Cholksy method&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;  n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(obs$x)
  K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, obs$x)
  I &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, n)

  L &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;chol&lt;/span&gt;(K +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;I)
  alpha &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(L), &lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(L, obs$y))
  k_star &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, X)
  Y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(k_star) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;alpha
  v &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(L, k_star)
  Var &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X,X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(v) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;v
  loglik &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;-.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(obs$y) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;alpha -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(L))) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pi) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Direct method&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;  cov_xx_inv &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(K +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*I)
  Ef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, obs$x) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;obs$y
  Cf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(X, obs$x)  %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, X)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gausspr&lt;/span&gt;(obs$x, obs$y, &lt;span class=&quot;dt&quot;&gt;kernel=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;rbfdot&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;kpar=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*l^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)), &lt;span class=&quot;dt&quot;&gt;fit=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;scaled=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;var=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.8&lt;/span&gt;)
y_p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;predict&lt;/span&gt;(gp, X)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Things that should be equivelent but aren’t quite:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;X, &lt;span class=&quot;dt&quot;&gt;Ef=&lt;/span&gt;Ef, &lt;span class=&quot;dt&quot;&gt;Y=&lt;/span&gt;Y, &lt;span class=&quot;dt&quot;&gt;y_p =&lt;/span&gt; y_p))+&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x,Ef), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;red&amp;#39;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x,Y)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x,y_p))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;../../../assets/figures/2012-10-22-3a15cb4f90-unnamed-chunk-8.png&quot; alt=&quot;plot of chunk unnamed-chunk-8&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-8&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;obs$y&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;        [,1]
[1,] -1.4059
[2,]  0.5010
[3,]  0.1288
[4,]  1.2275
[5,] -0.7119&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;alpha&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] -1.21293  0.46074  0.07548  1.44144 -0.73949&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;alpha&lt;/span&gt;(gp)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;        [,1]
[1,] -1.2475
[2,]  0.4011
[3,]  0.1661
[4,]  1.1010
[5,] -0.6394&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/10/19/notes.html"/>
   <updated>2012-10-19T00:00:00-07:00</updated>
   <id>h/2012/10/19/notes</id>
   <content type="html">&lt;h2 id=&quot;semantic-notebook-notes&quot;&gt;Semantic Notebook notes&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Reading&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nice &lt;a href=&quot;http://scholarlyhtml.org/faq/&quot;&gt;collection of posts on scholarly html&lt;/a&gt;, but too little mention of the serious linked data stuff coming out of biscol, ievobio/nescent, etc. In particular, Martin’s [history] (http://blogs.plos.org/mfenner/2011/03/19/a-very-brief-history-of-scholarly-html/) gives some nice perspective.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;The war for schema. Which ontologies should we choose? (e.g. &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/06/07/schema-org-for-scholarly-html/&quot;&gt;schema.org’s take&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Puzzles&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;How do we &lt;a href=&quot;http://stackoverflow.com/questions/12983766&quot;&gt;mix ontologies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How do we meet &lt;a href=&quot;http://answers.semanticweb.com/questions/19200/satisfy-google-rich-snippets-person-standard-using-foaf&quot;&gt;Google Rich Snippets requirements using FOAF?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How do we &lt;a href=&quot;http://answers.semanticweb.com/questions/19275/what-to-do-about-redundant-rdfa-or-machines-that-speak-only-one-language&quot;&gt;avoid redundant vocabulary terms?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Basically we can do this using implicit reasoning (exploiting the logic of linked data), but we may prefer to be explict. &lt;a href=&quot;http://vimeo.com/28667500&quot;&gt;This video&lt;/a&gt; does a nice job of explaining these concepts. Basically, if we do this right, we should be able to “dereference” an object away from a particular ontology.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On &lt;a href=&quot;http://manu.sporny.org/2011/false-choice/&quot;&gt;the good &amp;amp; the bad of schema.org and the role of search giants&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;resources&quot;&gt;Resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://getschema.org/rdfaliteextractor/about&quot;&gt;rdfa extractor&lt;/a&gt; (into RDF, JSON, n3). Also has validator, but doesn’t point to the &lt;code&gt;nu&lt;/code&gt; variant for html5.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://rdfa.info/play/&quot;&gt;RDFa Play&lt;/a&gt;. Wow, very nice.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sameas.org&quot;&gt;sameAs.org&lt;/a&gt; – search onotologies for an existing term, identify identical terms in different ontologies, etc. Simply brilliant, what I’ve always wanted!&lt;/li&gt;
&lt;li&gt;Still not clear on rdfa vs html5. Why in the world should &lt;code&gt;dc:title&lt;/code&gt; be preferable to &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt; ?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;knitcitations-update-adding-formats-an-semantics.&quot;&gt;knitcitations update: adding formats an semantics.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Looking at citeproc / &lt;a href=&quot;http://citationstyles.org/&quot;&gt;CSL&lt;/a&gt; &lt;a href=&quot;https://github.com/citation-style-language&quot;&gt;github page&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Raw citeproc is an XML stylesheet, XSLT, which can render XML into HTML (and much more). Possible other options are using something like citeproc-js or citeproc-ruby, or writing citeproc-R.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Not quite clear how to take a CSL and a set of references and generate HTML; aforementioned packages may address this.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;For the moment, probably easier to convert R &lt;code&gt;bibitem&lt;/code&gt; to display with RDFa with scholarlyhtml recommended ontology than to enter raw XML reference and format via citeproc. Should also support adding in the cito tags. With full addresses in property, should be able to avoid any need for namespace/header modifications.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/10/17/talkingpoints.html"/>
   <updated>2012-10-17T00:00:00-07:00</updated>
   <id>h/2012/10/17/talkingpoints</id>
   <content type="html">&lt;h2 id=&quot;talking-points&quot;&gt;Talking points&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;for phone interview with Lucy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Finding warning signals in the wild&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gold standard – experimental group, control group&lt;/li&gt;
&lt;li&gt;Real world: We have no control group.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Would we know a warning signal when we saw it?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;From statistics to models: We fit a generalized models of the processes that &lt;em&gt;are&lt;/em&gt; and &lt;em&gt;aren’t&lt;/em&gt; approaching a tipping point, and compare the models. The modeling approach is also more sensitive than the simple statistics.&lt;/p&gt;
&lt;p&gt;In another recent paper we consider the alternative ground-truth approach – historical data. There’s a problem in using historical data though, which is a bit subtle. It has tricked juries, confounded medical doctors, and confused scientists. We call it the Prosecutor’s fallacy (Thompson &amp;amp; Schumann 87). We need the probability the “accused pattern” is “innocent” of heading for a critical transition, given the data. We calculate instead the probability of data, given that pattern is innocent, is small. By itself, that is not enough to “convict” our data of being a warning signal.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Critical transitions in networks vs early warning signals – more must be done to map the connections.&lt;/li&gt;
&lt;li&gt;Be careful not to mistate generality – we know systems can collapse without transition, and warning signals can be seen without transitions&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Basic regression in Gaussian processes</title>
   <link href="/2012/10/17/basic-regression-in-gaussian-processes.html"/>
   <updated>2012-10-17T00:00:00-07:00</updated>
   <id>h/2012/10/17/basic-regression-in-gaussian-processes</id>
   <content type="html">&lt;p&gt;Working out coded examples for basic Gaussian process regression using R. I’ve just read through the first few chapters of &lt;a href=&quot;http://www.GaussianProcess.org/gpml&quot;&gt;Rasmussen &amp;amp; Williams (2006)&lt;/a&gt;, this implements the examples discussed in Chapter 2.1-2.5.&lt;/p&gt;
&lt;!-- Also motivated by [James Keirstead](http://www.jameskeirstead.ca/r/gaussian-process-regression-with-r/), with cleaner code.  --&gt;

&lt;p&gt;Required R libraries (for multivariate normal, also for plotting):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(MASS)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Set a seed for repeatable plots&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;12345&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Define the points at which we want to compute the function values (x values of the prediction points or test points), and the scale parameter for the covariance function &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\ell=1\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_predict &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;len=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;)
l &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will use the squared exponential (also called radial basis or Gaussian, though it is not this that gives Gaussian process it’s name; any covariance function would do) as the covariance function, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\operatorname{cov}(X_i, X_j) = \exp\left(-\frac{(X_i - X_j)^2}{2 \ell ^ 2}\right)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;SE &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(Xi,Xj, l) &lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(-&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(Xi -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Xj) ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;l ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
cov &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, Y) &lt;span class=&quot;kw&quot;&gt;outer&lt;/span&gt;(X, Y, SE, l)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;COV &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, x_predict)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Generate a number of functions from the process&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;values &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mvrnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x_predict)), COV)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Reshape the data into long (tidy) form, listing x value, y value, and sample number&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict, &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(values))
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(dat)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;       x variable   value
1 -5.000       X1 -0.6450
2 -4.796       X1 -0.9227
3 -4.592       X1 -1.1587
4 -4.388       X1 -1.3277
5 -4.184       X1 -1.4139
6 -3.980       X1 -1.4103&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Plot the result&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;fig2a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;value)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_rect&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;xmin=&lt;/span&gt;-&lt;span class=&quot;ot&quot;&gt;Inf&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xmax=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;Inf&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;ymin=&lt;/span&gt;-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;ymax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;grey80&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;group=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;theme_bw&lt;/span&gt;() +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;scale_y_continuous&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;lim=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;output, f(x)&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;input, x&amp;quot;&lt;/span&gt;)
fig2a&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;../../../assets/figures/2012-10-18-81840d8794-unnamed-chunk-9.png&quot; alt=&quot;plot of chunk unnamed-chunk-9&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-9&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;posterior-distribution-given-the-data&quot;&gt;Posterior distribution given the data&lt;/h3&gt;
&lt;p&gt;Imagine we have some data,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;obs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;),
                  &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, -&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In general we aren’t interested in drawing from the prior, but want to include information from the data as well. We want the joint distribution of the observed values and the prior is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\begin{pmatrix} y_{\textrm{obs}} \\ y_{\textrm{pred}} \end{pmatrix} \sim \mathcal{N}\left( \mathbf{0}, \begin{bmatrix} cov(X_o,X_o) &amp;amp; cov(X_o, X_p) \\ cov(X_p,X_o) &amp;amp; cov(X_p, X_p) \end{bmatrix} \right)&quot; alt=&quot;\begin{pmatrix} y_{\textrm{obs}} \\ y_{\textrm{pred}} \end{pmatrix} \sim \mathcal{N}\left( \mathbf{0}, \begin{bmatrix} cov(X_o,X_o) &amp;amp; cov(X_o, X_p) \\ cov(X_p,X_o) &amp;amp; cov(X_p, X_p) \end{bmatrix} \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;no-observation-noise&quot;&gt;No observation noise&lt;/h2&gt;
&lt;p&gt;Assuming the data are known without error and conditioning on the data, and given &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x \sim \mathcal{N}(0, cov(X_o, X_o))\inline&quot;/&gt;&lt;/span&gt;, then the conditional probability of observing our data is easily solved by exploiting the nice properties of Gaussians,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x|y \sim \mathcal{N}\left(E,C\right)&quot; alt=&quot;x|y \sim \mathcal{N}\left(E,C\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E = cov(X_p, X_o) cov(X_o,X_o)^{-1} y&quot; alt=&quot;E = cov(X_p, X_o) cov(X_o,X_o)^{-1} y&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C= cov(X_p, X_p) - cov(X_p, X_o) cov(X_o,X_o)^{-1} cov(X_o, X_p)&quot; alt=&quot;C= cov(X_p, X_p) - cov(X_p, X_o) cov(X_o,X_o)^{-1} cov(X_o, X_p)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(We use &lt;code&gt;solve(M)&lt;/code&gt; which with no second argument will simply invert the matrix &lt;code&gt;M&lt;/code&gt;, but should use the Cholsky decomposition instead for better numerical stability)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;cov_xx_inv &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, obs$x))
Ef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, obs$x) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;obs$y
Cf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, x_predict) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, obs$x)  %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, x_predict)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now lets take 3 random samples from the posterior distribution,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;values &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mvrnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, Ef, Cf)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and plot our solution (mean, 2 standard deviations, and the ranom samples.)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict, &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(values))
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;)

fig2b &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;value)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, 
              &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict, &lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;Ef, &lt;span class=&quot;dt&quot;&gt;ymin=&lt;/span&gt;(Ef&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf))), &lt;span class=&quot;dt&quot;&gt;ymax=&lt;/span&gt;(Ef&lt;span class=&quot;dv&quot;&gt;+2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf)))),
              &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;grey80&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#REPLICATES&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;Ef), &lt;span class=&quot;dt&quot;&gt;size=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#MEAN&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;obs,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;y)) +&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#OBSERVED DATA&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;scale_y_continuous&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;lim=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;output, f(x)&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;input, x&amp;quot;&lt;/span&gt;)
fig2b&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;../../../assets/figures/2012-10-18-81840d8794-unnamed-chunk-13.png&quot; alt=&quot;plot of chunk unnamed-chunk-13&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-13&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;additive-noise&quot;&gt;Additive noise&lt;/h2&gt;
&lt;p&gt;In general the model may have process error, and rather than observe the deterministic map &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x)\inline&quot;/&gt;&lt;/span&gt; we only observe &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y = f(x) + \varepsilon\inline&quot;/&gt;&lt;/span&gt;. Let us assume for the moment that &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\varepsilon\inline&quot;/&gt;&lt;/span&gt; are independent, normally distributed random variables with variance &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma_n^2\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sigma.n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.25&lt;/span&gt;
cov_xx_inv &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;solve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, obs$x) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma.n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(obs$x)))
Ef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, obs$x) %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;obs$y
Cf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, x_predict) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(x_predict, obs$x)  %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;cov_xx_inv %*%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cov&lt;/span&gt;(obs$x, x_predict)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now lets take 3 random samples from the posterior distribution,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;values &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mvrnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, Ef, Cf)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and plot&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict, &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(values))
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;)

fig2c &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;value)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, 
              &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict, &lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;Ef, &lt;span class=&quot;dt&quot;&gt;ymin=&lt;/span&gt;(Ef&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf))), &lt;span class=&quot;dt&quot;&gt;ymax=&lt;/span&gt;(Ef&lt;span class=&quot;dv&quot;&gt;+2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;diag&lt;/span&gt;(Cf)))),
              &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;grey80&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# Var&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#REPLICATES&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x_predict,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;Ef), &lt;span class=&quot;dt&quot;&gt;size=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#MEAN&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;obs,&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;x,&lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;y)) +&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#OBSERVED DATA&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;scale_y_continuous&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;lim=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;output, f(x)&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;input, x&amp;quot;&lt;/span&gt;)
fig2c&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;../../../assets/figures/2012-10-18-81840d8794-unnamed-chunk-16.png&quot; alt=&quot;plot of chunk unnamed-chunk-16&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-16&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Note that unlike the previous case, the posterior no longer collapses completely around the neighborhood of the test points.&lt;/p&gt;
&lt;p&gt;We can also compute the likelihood (and marginal likelihood over the prior) of the data directly from the inferred multivariate normal distribution, which can allow us to tune the hyperparameters such as the characteristic length scale &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\ell\inline&quot;/&gt;&lt;/span&gt; and the observation noise &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma_n\inline&quot;/&gt;&lt;/span&gt;. The most obvious approach would be to do so by maximum likelihood, giving point estimates of the hyper-parameters, though presumably we could be Bayesian about these as well.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Gaussian processes</title>
   <link href="/2012/10/16/gaussian-processes.html"/>
   <updated>2012-10-16T00:00:00-07:00</updated>
   <id>h/2012/10/16/gaussian-processes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Great methods tutorial/overview with Steve. Now getting up to speed on background reading in both Gaussian processes and embedding dimensions.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Will also want to look into basis approximations for SDP acceleration.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;gaussian-processes&quot;&gt;Gaussian Processes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;New project, New tag: nonparametric-bayes, and &lt;a href=&quot;https://github.com/cboettig/nonparametric-bayes&quot;&gt;associated github repostitory&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Rasmussen &amp;amp; Williams (2006) 2nd ed, &lt;a href=&quot;http://www.GaussianProcess.org/gpml&quot;&gt;full text avialable online&lt;/a&gt;. read Ch 1 &amp;amp; 2.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Can be thought of as a Bayesian version of Support Vector Machines&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Who knew? Working through basic regression scenarios.&lt;/p&gt;
&lt;p&gt;Also reading:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deisenroth, M. P., Rasmussen, C. E., &amp;amp; Peters, J. (2009). Gaussian process dynamic programming. Neurocomputing, 72(7-9), 1508–1524. doi:10.1016/j.neucom.2008.12.019&lt;/li&gt;
&lt;li&gt;Kocijan, J., &amp;amp; Girard, A. (2005). Dynamic systems identification with Gaussian processes. … of Dynamical Systems. doi:10.1080/13873950500068567&lt;/li&gt;
&lt;li&gt;Turner, R. (2010). State-space inference and learning with Gaussian processes. Proceedings of 13th …, 868–875.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;r-support&quot;&gt;R support:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://rss.acs.unt.edu/Rdoc/library/kernlab/html/gausspr.html&quot;&gt;gausspr&lt;/a&gt;, see also the &lt;a href=&quot;http://cran.at.r-project.org/web/packages/kernlab/vignettes/kernlab.pdf&quot;&gt;package vignette&lt;/a&gt; (From the core team, probably a reasonable starting point).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/gptk/&quot;&gt;gptk&lt;/a&gt; (crude choice, poor software development practices)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/mlegp/vignettes/mlegp.pdf&quot;&gt;mlegp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.r-bloggers.com/gaussian-process-regression-with-r/&quot;&gt;manually&lt;/a&gt; (e.g. for learning rather than performance)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;embedding-dimensions&quot;&gt;Embedding dimensions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;[Taken’s Theorem](http://en.wikipedia.org/wiki/Takens’_theorem) But how about the stochastic case?&lt;/li&gt;
&lt;li&gt;Convergent cross-mapping paper, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1227079&quot;&gt;Sugihara et al. 2012&lt;/a&gt;, recently in &lt;em&gt;Science&lt;/em&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Stochastic Takens: perhaps see &lt;a href=&quot;http://www.ucl.ac.uk/cnda/about/papers/Random_Embed.pdf&quot;&gt;Stark et al 2003&lt;/a&gt;, doi:10.1007/s00332-003-0534-4&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Checked &lt;code&gt;ritis&lt;/code&gt;, Scott submitted to CRAN&lt;/li&gt;
&lt;li&gt;More requests for increased functionality on &lt;code&gt;rfishbase&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Contact with Roy about developing an API for FishBase. Contacted Deng&lt;/li&gt;
&lt;li&gt;&lt;code&gt;httr&lt;/code&gt; 0.2 is on CRAN! Updated &lt;code&gt;rfigshare&lt;/code&gt; dependency, plan to release soon.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notebook&quot;&gt;Notebook&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Contacted Ben about documentation and use of EML.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Posted updated semantic notebook&lt;/li&gt;
&lt;li&gt;Hmm, FOAF person types don’t seem to contain enough data to be valid Person objects according to Google Rich Snippets. Unfortunately this cannot be easily solved by &lt;a href=&quot;http://answers.semanticweb.com/questions/19200&quot;&gt;mixing “Person” types&lt;/a&gt;. Note that &lt;a href=&quot;http://answers.semanticweb.com/questions/3667/can-dctermsrightsholder-be-used-with-foafperson&quot;&gt;Dublin Core and FOAF agree&lt;/a&gt; on what a person/agent is, but it seems data-vocabulary.org rdf does not?&lt;/li&gt;
&lt;li&gt;Tools for discovery and navigating ontologies? http://www.ebi.ac.uk/ontology-lookup/&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Semantic Lab Notebook</title>
   <link href="/2012/10/14/semantic-lab-notebook.html"/>
   <updated>2012-10-14T00:00:00-07:00</updated>
   <id>h/2012/10/14/semantic-lab-notebook</id>
   <content type="html">&lt;p&gt;As the lab notebook grows, to make the maximum use of content it would be particularly useful to maximize the ability for a computer to understand the content, allowing us to identify, manipulate, and connect data using scripts and software. This is the concept of &lt;em&gt;linked data&lt;/em&gt;, or a &lt;em&gt;semantic notebook&lt;/em&gt;. I have explored this this idea before in the context of a &lt;a href=&quot;2011/05/08/building-a-semantic-notebook.html&quot;&gt;wordpress-based platform&lt;/a&gt;, but now that Jekyll has let me strip away some of the abstraction of Wordpress it seems a good time to revisit this idea.&lt;/p&gt;
&lt;h2 id=&quot;semantics-in-html5&quot;&gt;Semantics in HTML5&lt;/h2&gt;
&lt;p&gt;Already the notebook is written in HTML5, which has considerable semantic structure compared to it’s predecessors. HTML5 introduces the structural elements&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;nav&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;article&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;section&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;aside&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;&amp;lt;footer&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;that intuitively define the organization of an page, setting off the important content from the window-dressing. HTML5 also defines inline elements &lt;code&gt;&amp;lt;time&amp;gt;&lt;/code&gt; (see the links in Caveats), and &lt;code&gt;&amp;lt;mark&amp;gt;&lt;/code&gt;, and the existing tags for metadata, which let us specify &lt;code&gt;&amp;lt;title&amp;gt;&lt;/code&gt;, and basic &lt;code&gt;&amp;lt;meta&amp;gt;&lt;/code&gt; tags for metadata such as author, &lt;code&gt;&amp;lt;meta name=&amp;quot;author&amp;quot; content=&amp;quot;Author Name&amp;quot;&amp;gt;&lt;/code&gt;, encoding, description, and keywords. Links &lt;code&gt;&amp;lt;link&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; use the &lt;code&gt;rel&lt;/code&gt; attribute to describe the link target. Though one can write anything at all in this text, HTML5 defines a small vocabulary with recognized meaning, some old, some new, such as &lt;code&gt;&amp;lt;a rel=&amp;quot;tag&amp;quot;&lt;/code&gt;, &lt;code&gt;rel=&amp;quot;license&amp;quot;&lt;/code&gt; as well as the older &lt;code&gt;&amp;lt;link rel=&amp;quot;stylesheet&amp;quot; href=&amp;quot;style.css&amp;quot;&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;a rel=&amp;quot;nofollow&amp;quot;&lt;/code&gt;. &lt;a href=&quot;http://diveintohtml5.info/semantics.html&quot;&gt;Here is a great overview of the semantics in HTML5&lt;/a&gt;, with a bit more about the available . To expand our vocabulary beyond these elements, however, we will need more tools.&lt;/p&gt;
&lt;h2 id=&quot;linked-data&quot;&gt;Linked Data&lt;/h2&gt;
&lt;p&gt;W3C confusingly provides two standards for formally defining semantic content using an external vocabulary or ontology. The first is microdata, introduced as a simpler alternative to the second, RDFa, an HTML-adaptation of the RDF XML standard (originally developed for the now-defunct XHTML 2.0).&lt;/p&gt;
&lt;h3 id=&quot;microdata&quot;&gt;Microdata&lt;/h3&gt;
&lt;p&gt;Microdata introduces new attributes into HTML tags like &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;span&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;h1&amp;gt;&lt;/code&gt;. The first of these is &lt;code&gt;itemtype&lt;/code&gt;, which points to an external resource such as schema.org to define the vocabulary. To have this vocabulary apply to child elements, we just add the attribute &lt;code&gt;itemscope&lt;/code&gt;. Then we can set the value of attribute &lt;code&gt;itemprop&lt;/code&gt; in this or following elements to give it semantically defined meaning, such as&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; itemscope itemtype=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://data-vocabulary.org/Person&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;h1&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; itemprop=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Carl Boettiger&lt;span class=&quot;kw&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; itemprop=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;url&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;http://carlboettiger.info&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;img&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; itemprop=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;photo&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;https://en.gravatar.com/userimage/12904315/7edea703b826fbbe07f2ae4d95b8416b.jpg?16&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;where the terms such as &lt;code&gt;name&lt;/code&gt; and &lt;code&gt;url&lt;/code&gt; have precise meanings attached to “Person”, as specified at the “http://data-vocabulary.org/Address”. This ability to point to an external vocabulary is really the key concept of linked data. In the spirit of HTML5, microdata is much simpler than RDFa, but also more limited. &lt;a href=&quot;http://manu.sporny.org/2011/uber-comparison-rdfa-md-uf/&quot;&gt;Here is an excellent comparison&lt;/a&gt;, but for our purposes we will use RDFa as it is more common in academic use and will more seamlessly allow us to use academic ontologies. (While microdata has a clear mapping to RDF, it is not clear that any ontology that can be expressed in RDF can also be expressed in microdata).&lt;/p&gt;
&lt;h3 id=&quot;rdfa&quot;&gt;RDFa&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://www.w3.org/TR/xhtml-rdfa-primer/&quot;&gt;RDFa&lt;/a&gt; can be written in a very similar manner. The &lt;code&gt;itemprop&lt;/code&gt; attribute is replaced by the &lt;code&gt;property&lt;/code&gt; attribute, and &lt;code&gt;vocab&lt;/code&gt; replaces &lt;code&gt;itemtype&lt;/code&gt; and automatically implies &lt;code&gt;itemscope&lt;/code&gt; to child nodes.&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; vocab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://xmlns.com/foaf/0.1/&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; typeof=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Person&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;h1&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;Carl Boettiger&lt;span class=&quot;kw&quot;&gt;&amp;lt;/h1&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;a&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;homepage&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; href=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.carlboettiger.info&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;http://carlboettiger.info&lt;span class=&quot;kw&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;img&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; property=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;depiction&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; src=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;https://en.gravatar.com/userimage/12904315/7edea703b826fbbe07f2ae4d95b8416b.jpg?16&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;/&amp;gt;&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could have used only the &lt;code&gt;property&lt;/code&gt; attribute along with the complete URI to the term definition instead of this structure. &lt;code&gt;typeof&lt;/code&gt; indicates that the child elements are all of the same type (in this case, all belong to the same “Person”). If we were omitting &lt;code&gt;vocab&lt;/code&gt; and writing out all URIs, we would have had &lt;code&gt;&amp;lt;div typeof=&amp;quot;http://xmlns.com/foaf/0.1/Person&amp;quot;&amp;gt;&lt;/code&gt; as well. In RDFa, we also have the &lt;code&gt;resource&lt;/code&gt; attribute, which allows us to specify a URI for the element being described. This could be a relative or absolute URL. If the object is a link, using &lt;code&gt;resource&lt;/code&gt; is not necessary, and the property is taken to describe the URL given in &lt;code&gt;href&lt;/code&gt; or &lt;code&gt;src&lt;/code&gt; rather than the anchor text.&lt;/p&gt;
&lt;p&gt;Two older options lie at either extreme: the most basic is the older technique of &lt;a href=&quot;http://microformats.org/wiki/html5&quot;&gt;microformatting&lt;/a&gt;, basically relying on standard &lt;code&gt;class&lt;/code&gt; and &lt;code&gt;rel&lt;/code&gt; attributes to convey semantic information. Simple and without new attributes, but probably too limited for our purposes so we won’t concern ourselves with it further. The other venerable approach is serve the page as XHTML, which renders in the browser in much the same way but can be parsed by a machine as XML, with all the power and extensibility that presents. Unlike earlier HTML standards, HTML5 is already valid XML (already “serialized”), so the same page can be served in either format (earlier specs were SGML, standardized general markup languages, of which XML is just a subset). To allow parsing of the HTML5 pages as either type (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Polyglot_markup&quot;&gt;polyglot&lt;/a&gt;), we need only add the language and namespace to the opening &lt;code&gt;&amp;lt;html&amp;gt;&lt;/code&gt; tag,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;html lang=&amp;quot;en&amp;quot; xmlns=&amp;quot;http://www.w3.org/1999/xhtml&amp;quot; xml:lang=&amp;quot;en&amp;quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;caveats&quot;&gt;Caveats&lt;/h3&gt;
&lt;p&gt;An essential caveat is that these are all new approaches which may not render well in legacy browsers, particularly Windows Internet Explorer. Some of these, like recognizing and styling the HTML5 semantic elements in IE, can be addressed in CSS, for which Twitter Bootstrap does a decent job. Another caveat The HTML5 spec has not been finalized, and some things are still in flux, as the &lt;a href=&quot;http://html5doctor.com/time-and-data-element/&quot;&gt;removal&lt;/a&gt; and &lt;a href=&quot;http://www.brucelawson.co.uk/2012/best-of-time/&quot;&gt;reinstatement&lt;/a&gt; of the &lt;code&gt;&amp;lt;time&amp;gt;&lt;/code&gt; element illustrates.&lt;/p&gt;
&lt;h3 id=&quot;useful-tools-for-checking-implementation&quot;&gt;Useful tools for checking implementation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://validator.w3.org/nu&quot;&gt;W3C HTML5 Validator&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.google.com/webmasters/tools/richsnippets&quot;&gt;Google rich snippets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sparql.captsolo.net/browser/browser.py?url=http://www.w3.org/2007/08/pyRdfa/extract?uri=http://www.carlboettiger.info&quot;&gt;RDF extraction tool&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;scholarly-semantic-markup-for-the-notebook&quot;&gt;Scholarly Semantic Markup for the Notebook&lt;/h1&gt;
&lt;p&gt;Now that we’ve familiarized ourselves with the options, it’s time to see what semantic content we can implement.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;Content/Data&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Example types&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Links to Potential vocabularies&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Page structure&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;&amp;lt;header&amp;gt;&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://diveintohtml5.info/semantics.html&quot;&gt;HTML5&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Post metadata&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;keywords, timestamps&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://schema.org/BlogPosting&quot;&gt;Schema.org microdata&lt;/a&gt; or &lt;a href=&quot;http://purl.org/terms/dc&quot;&gt;Dublin Core&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Author metadata&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Name, contact, networks,&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://xmlns.com/foaf/0.1/&quot;&gt;FOAF&lt;/a&gt;, &lt;a href=&quot;http://purl.org/terms/dc&quot;&gt;Dublin Core&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;interests, publications)&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Licenses&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;CC0&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://creativecommons.org/ns&quot;&gt;CreativeCommons&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Citations&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bib info, reason for citing&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://purl.org/spar/cito&quot;&gt;CiTO&lt;/a&gt;, &lt;a href=&quot;http://purl.org/spar/biro&quot;&gt;BiRO&lt;/a&gt;,&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://purl.org/ontologies/bibo&quot;&gt;bibo&lt;/a&gt;, &lt;a href=&quot;http://purl.org/terms/dc&quot;&gt;Dublin Core&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Taxonomic data&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;species names&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://rs.tdwg.org/dwc/terms/index.htm&quot;&gt;Darwin Core&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Ecological data&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;measurements, units, etc&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;del&gt;&lt;a href=&quot;http://knb.ecoinformatics.org/software/eml/&quot;&gt;EML&lt;/a&gt;&lt;/del&gt; &lt;a href=&quot;http://ecoinformatics.org/oboe/oboe.1.0/oboe-core.owl&quot;&gt;OBOE&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;In another entry I will try and highlight where and what semantic content I have added (work in progress), with examples of each vocabulary. The first four types are relatively static content that can be easily woven into the Jekyll template files. Using Jekyll &amp;amp; Liquid to pull in template information from the &lt;code&gt;_config.yaml&lt;/code&gt; should help avoid repetitive entry and make updating the linked data easier. The last three are entry-specific content, and will be more challenging. I hope to add semantic support to &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;, including the option for CiTO types, which should make entry of citation data quick and easy (&lt;a href=&quot;http://stackoverflow.com/questions/12867586&quot;&gt;SO question illustrating semantic citation&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The last two are much richer, specific vocabularies. For the moment, it might be best to use these to give more precise meaning to tags, which are already used as metadata on posts. This would allow posts to be still created in simple markdown without the burden of adding in lines of RDFa and cluttering the markup. Meanwhile full datasets provided in EML are likely to live as separate files, rather than as a random table in the middle of a notebook entry.&lt;/p&gt;
&lt;p&gt;As always, feedback, corrections or suggestions are appreciated!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/10/11/notes.html"/>
   <updated>2012-10-11T00:00:00-07:00</updated>
   <id>h/2012/10/11/notes</id>
   <content type="html">&lt;h2 id=&quot;ews-review&quot;&gt;EWS review&lt;/h2&gt;
&lt;p&gt;Composing a simple EWS review highlighting where signals are and are not expected and what this means for the system dynamics. With Alan and Noam. See manuscript repository, &lt;a href=&quot;https://github.com/cboettig/ews-review&quot;&gt;cboettig/ews-review&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Does the matrix formulation fail to account for the treating profits as a function of realized harvest and true stock size rather than quota and measured size?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notebook&quot;&gt;notebook&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fixing some inline equations &lt;a href=&quot;https://github.com/cboettig/labnotebook/commit/262b8d284b34162780ab5e62402a2763aa4e6a09&quot;&gt;04:34 pm 2012/10/09&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Updated Readme &lt;a href=&quot;https://github.com/cboettig/labnotebook/commit/789ba68b31a87e2427a67bab58312de162e9bc96&quot;&gt;02:57 pm 2012/10/09&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;scicomp-discussions-on-reproducibility&quot;&gt;scicomp discussions on reproducibility&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Asked about &lt;a href=&quot;http://scicomp.stackexchange.com/questions/3462/increasing-the-archival-longevity-of-code&quot;&gt;longevity of code&lt;/a&gt; (re: data managment plan)&lt;/li&gt;
&lt;li&gt;Replied to best practices for &lt;a href=&quot;http://scicomp.stackexchange.com/questions/661/how-to-link-code-to-publications/3463#3463&quot;&gt;linking code to publications&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;discussionstweets&quot;&gt;discussions/tweets&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;@hylopsar @mwpennell thanks - I always find it tricky to explain conditional probabilities clearly, so that’s nice to hear&lt;img src=&quot;http://twitter.com/cboettig/statuses/256208169267785731&quot; alt=&quot;06:42 2012/10/10&quot; /&gt;&lt;/li&gt;
&lt;li&gt;Nice paper by +Matt Pennell, Saver &amp;amp;@lukejharmon on biases in inferring early bursts of evolution. http://t.co/ltRAQcCM&lt;a href=&quot;http://twitter.com/cboettig/statuses/256119709290860546&quot;&gt;12:51 2012/10/10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;@figshare thoughts on supporting code and relevant licenses? http://t.co/042Zreni&lt;a href=&quot;http://twitter.com/cboettig/statuses/256096537367674880&quot;&gt;11:19 2012/10/10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;my answer to: How to link code to publications http://t.co/9bsazYSj&lt;a href=&quot;http://twitter.com/cboettig/statuses/256080435346546688&quot;&gt;10:15 2012/10/10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Know any tips for increasing the archival longevity of scientific code? http://t.co/PPdzsxfK&lt;a href=&quot;http://twitter.com/cboettig/statuses/256068512227926016&quot;&gt;09:27 2012/10/10&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Thanks! RT @noamross Out now in PRSB: Early warning signals and the prosecutor’s fallacy, by @cboettig &amp;amp; Alan Hastings http://t.co/dAq6tlmC&lt;a href=&quot;http://twitter.com/cboettig/statuses/256067344357548032&quot;&gt;09:23 2012/10/10&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>My Prosecutor's Fallacy paper and other recent warning signals literature</title>
   <link href="/2012/10/10/prosecutors-fallacy.html"/>
   <updated>2012-10-10T00:00:00-07:00</updated>
   <id>h/2012/10/10/prosecutors-fallacy</id>
   <content type="html">&lt;p&gt;My recent paper with Alan Hastings, “Early warning signals and the prosecutor’s fallacy”, is now &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2012.2085&quot;&gt;out in PRSB&lt;/a&gt;. An open access preprint can be found on the (&lt;a href=&quot;http://arxiv.org/abs/1210.1204&quot;&gt;arXiv&lt;/a&gt;) and accompanying (&lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/prosecutor/inst/examples/fallacy.md&quot;&gt;source code&lt;/a&gt;) for the analysis can be found on Github.&lt;/p&gt;
&lt;h2 id=&quot;recent-papers-in-early-warning-signals&quot;&gt;Recent papers in early warning signals&lt;/h2&gt;
&lt;p&gt;This invistigation is in a very similar spirit to two other recent papers on the subject. Kéfi et al. addresses a different kind of false positive for early warning signals, arising in systems approaching other transitions or bifurcations than the intended culprit, the saddle-node bifurcation. Peretti and Munch address the flip side, in which detection fails when it should work due to commonly-observed levels of noise.&lt;/p&gt;
&lt;p&gt;Model-based approaches are clearly on the rise (following my own 2012 paper in PRSI and Lade and Gross 2012), with Brock and Carpenter (2012) putting forward a very similar model, and Ives &amp;amp; Dakos (2012) bringing in temporally heterogenous ARMA models.&lt;/p&gt;
&lt;p&gt;Unfortunately such model-based approaches are too new to make it into either of the recent review-like comparisons of existing approaches to a common set of simulated data (Dakos et al. 2012) or empirical data (Lindegren et al. 2012).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Boettiger, C., &amp;amp; Hastings, A. (2012). Early warning signals and the prosecutor’s fallacy. Proceedings of the Royal Society B: Biological Sciences, (October). doi:10.1098/rspb.2012.2085&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kéfi, S., Dakos, V., Scheffer, M., Van Nes, E. H., &amp;amp; Rietkerk, M. (2012). Early warning signals also precede non-catastrophic transitions. Oikos, (June), no–no. doi:10.1111/j.1600-0706.2012.20838.x&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Perretti, C. T., &amp;amp; Munch, S. B. (2012). Regime shift indicators fail under noise levels commonly observed in ecological systems. Ecological Applications, 22(6), 1772–1779. doi:10.1890/11-0161.1&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Boettiger, Carl, &amp;amp; Hastings, A. (2012). Quantifying limits to detection of early warning for critical transitions. Journal of The Royal Society Interface, 9(75), 2527 – 2539. doi:10.1098/rsif.2012.0125&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lade, S. J., &amp;amp; Gross, T. (2012). Early Warning Signals for Critical Transitions: A Generalized Modeling Approach. (M. Pascual, Ed.)PLoS Computational Biology, 8(2), e1002360. doi:10.1371/journal.pcbi.1002360* Brock, W. A., &amp;amp; Carpenter, S. R. (2012). Early Warnings of Regime Shift When the Ecosystem Structure Is Unknown. (R. V. Solé, Ed.)PLoS ONE, 7(9), e45586. doi:10.1371/journal.pone.0045586&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ives, A., &amp;amp; Dakos, V. (2012). Detecting dynamical changes in nonlinear time series using locally linear state-space models. Ecosphere, 3(June). Retrieved from http://www.esajournals.org/doi/abs/10.1890/ES11-00347.1&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos, V., Carpenter, S. R., Brock, W. a., Ellison, A. M., Guttal, V., Ives, A. R., Kéfi, S., et al. (2012). Methods for Detecting Early Warnings of Critical Transitions in Time Series Illustrated Using Simulated Ecological Data. (B. Yener, Ed.)PLoS ONE, 7(7), e41010. doi:10.1371/journal.pone.0041010&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lindegren, M., Dakos, V., Gröger, J. P., Gårdmark, A., Kornilovs, G., Otto, S. a., &amp;amp; Möllmann, C. (2012). Early Detection of Ecosystem Regime Shifts: A Multiple Method Evaluation for Management Application. (S. Thrush, Ed.)PLoS ONE, 7(7), e38410. doi:10.1371/journal.pone.0038410&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Data Management Plan</title>
   <link href="/2012/10/09/data-management-plan.html"/>
   <updated>2012-10-09T00:00:00-07:00</updated>
   <id>h/2012/10/09/data-management-plan</id>
   <content type="html">&lt;p&gt;Writing out a &lt;a href=&quot;#&quot; rel=&quot;http://purl.org/spar/fabio/DataMangementPlan&quot;&gt;data management plan&lt;/a&gt; for myself. Suggestions and feedback welcome.&lt;/p&gt;
&lt;h2 id=&quot;data-types-and-structure&quot;&gt;Data Types and Structure&lt;/h2&gt;
&lt;p&gt;All source code, documentation, scripts and data for the analyses performed in the course of this research shall be maintained in a digital compendium using the &lt;a href=&quot;http://cran.r-project.org/doc/manuals/R-exts.html#Package-structure&quot;&gt;R package structure&lt;/a&gt; as recommended in Gentleman and Lang (2007). The progress and results of this research shall be regularly chronicled in an electronic lab notebook, maintained openly at &lt;a href=&quot;http://www.carlboettiger.info/lab-notebook.html&quot;&gt;carlboettiger.info/lab-notebook.html&lt;/a&gt;. Figures and other results are maintained with the source-code required to reproduce them by writing these analyses using &lt;a href=&quot;http://yihui.name/knitr&quot;&gt;knitr&lt;/a&gt; dynamic documentation.&lt;/p&gt;
&lt;h2 id=&quot;data-acquisition-integrity-and-quality&quot;&gt;Data Acquisition, Integrity and Quality&lt;/h2&gt;
&lt;p&gt;The lab notebook is written and maintained in plain text (UTF-8) and rendered in HTML5. Likewise, the R package compendium will maintain all source code, scripts and documentation in plain-text (UTF-8) files. Plain-text files with standard encodings help retain compatibility independent of software. Both the notebook entries and the compendium will be maintained in unique &lt;a href=&quot;http://git-scm.com/&quot;&gt;git&lt;/a&gt; repositories.&lt;/p&gt;
&lt;p&gt;Git repositories use unique SHA hashes to protect against corruption. Synchronized backups of the git repositories are maintained on local and remote servers (RAID 6) to protect against hardware failures, as well as on the public international software repository, Github &lt;a href=&quot;https://github.com/cboettig&quot;&gt;github.com/cboettig&lt;/a&gt;. Version history preserves a time-line of changes and protects against user error.&lt;/p&gt;
&lt;p&gt;Archival copies of notebook entries shall be published annually to &lt;a href=&quot;http://figshare.com&quot;&gt;figshare&lt;/a&gt; where they are assigned DOIs and preserved by the &lt;a href=&quot;http://www.clockss.org/clockss/Home&quot;&gt;CLOCKSS&lt;/a&gt; geopolitically distributed 12 node global archive. Likewise an archival copy of the R compendium shall be published to figshare at the time of each peer-reviewed publication.&lt;/p&gt;
&lt;p&gt;Any data produced by simulations used in these analyses will be archived accordingly in the compendium. Any data associated with a peer-reviewed publication will be deposited in plain text csv files in the &lt;a href=&quot;http://datadryad.org/&quot;&gt;Dryad digital repository&lt;/a&gt; for the biosciences, unless provided by a third party whose terms of use forbid this. No generation of empirical data is anticipated.&lt;/p&gt;
&lt;h2 id=&quot;rights-management-dissemination&quot;&gt;Rights Management &amp;amp; Dissemination&lt;/h2&gt;
&lt;p&gt;All products generated by this research will be licensed under permissive licenses supporting reuse, re-distribution, and derivatives for free for any purpose without request from a major online repository; Table 1.&lt;/p&gt;
&lt;table&gt;
&lt;caption&gt;Licenses reflect the &lt;a href=&quot;http://pantonprinciples.org/&quot;&gt;Panton Principles&lt;/a&gt; for open data and the &lt;a href=&quot;http://sciencecodemanifesto.org/&quot;&gt;Science Code Manifesto&lt;/a&gt;. Distribution uses internationally recognized and freely accessible public repositories best suited for the dissemination of each product.&lt;/caption&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;Product&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;License&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Distribution&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;publications&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://creativecommons.org/licenses/by/3.0/&quot;&gt;cc-by&lt;/a&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://arxiv.org&quot;&gt;arXiv&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;software&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/BSD_licenses&quot;&gt;FreeBSD&lt;/a&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://github.com/cboettig&quot;&gt;Github&lt;/a&gt;, &lt;a href=&quot;http://figshare.com&quot;&gt;figshare&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;data&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;&gt;cc-zero&lt;/a&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://datadryad.org&quot;&gt;Dryad&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;research notebook&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;&gt;cc-zero&lt;/a&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;a href=&quot;http://github.com/cboettig/labnotebook&quot;&gt;Github&lt;/a&gt;, &lt;a href=&quot;http://figshare.com&quot;&gt;figshare&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Peer-reviewed publications will target preprint-friendly publishers and an author’s preprint will be posted on the arXiv under a Creative Commons Attribution license to facilitate access and distribution.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;Gentleman R and Temple Lang D (2007). “Statistical Analyses And Reproducible Research.” &lt;em&gt;Journal of Computational And Graphical Statistics&lt;/em&gt;, &lt;em&gt;16&lt;/em&gt;. ISSN 1061-8600, doi: 10.1198/106186007X178663&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Automated feeds in notebook entries</title>
   <link href="/2012/10/05/notes.html"/>
   <updated>2012-10-05T00:00:00-07:00</updated>
   <id>h/2012/10/05/notes</id>
   <content type="html">&lt;p&gt;Exploring the use of automated feeds in my notebook entries, which would make writing posts both faster and more complete. I had recently modified my Jekyll plugins to include commits on the day of the post. Consequently, I could add a bit of liquid code to any post, such as:&lt;/p&gt;
&lt;pre class=&quot;liquid&quot;&gt;&lt;code&gt;  {% octokit_commits pdg_control%}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(or even to the post template) and have the commit log for the specified repository automatically imported. While such liquid tags are very handy for pages that are otherwise static and generate their updated content on compile (e.g. my &lt;a href=&quot;lab-notebook.html&quot;&gt;lab-notebook homepage&lt;/a&gt;, this approach makes less sense for day-to-day entries (as Noam points out to me). For such entries, the content is already being composed from scratch, but is designed to be fixed once written. (In fact, that was one of the challenges in updating the plugin to pull in the commit log from the day of the post instead of the most recent updates to the repository). Generating this content for every post every time the site is build would be unnecessarily intensive, since it does not change. Further, I like to keep the post entries in pure markdown as much as possible. This makes the actual content not dependent on Jekyll (or on outside databases), which means the content displays fine by browsing the markdown, or using pandoc to compile to pdf or some other format.&lt;/p&gt;
&lt;p&gt;To get the same time-savings from automatic imports, I followed Noam’s suggestion and added a little wrapper around my ruby scripts that would import the text of a commit log using a few vi commands. vi, my editor of choice, makes calling arbitrary scripts really easy. In fact one can just write out the bash script command as a line on the editor, and hit &lt;code&gt;!!sh&lt;/code&gt;, which replaces the command with its output. So for this purpose I just type the command out into the entry like so,&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;   commits.rb pdg_control today&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I get a listing the commits for that day (defaults to the current day if no day is given). Thanks to the &lt;code&gt;Chronic&lt;/code&gt; gem, the script recognizes a variety of &lt;a href=&quot;https://github.com/mojombo/chronic&quot;&gt;natural language commands&lt;/a&gt; for the time, such as “3 days ago”. This pulls in all commits made at any point on the day given. For more background, see my vim &lt;a href=&quot;http://stackoverflow.com/questions/12753302&quot;&gt;SO question&lt;/a&gt; to pass visual blocks to a function.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Solarized Colors with Twitter-Bootstrap?</title>
   <link href="/2012/10/02/solarized-colors.html"/>
   <updated>2012-10-02T00:00:00-07:00</updated>
   <id>h/2012/10/02/solarized-colors</id>
   <content type="html">&lt;p&gt;Trying out rendering my notebook using Ethan Schoonover’s Solarized color scheme. The solarized palette has been selected according to Ethan’s exacting &lt;a href=&quot;http://ethanschoonover.com/solarized#features&quot;&gt;standards&lt;/a&gt; for contrast, symmetry, and readability.&lt;/p&gt;
&lt;p&gt;My site CSS is built with &lt;a href=&quot;http://twitter.github.com/bootstrap/&quot;&gt;Twitter-Bootstrap&lt;/a&gt;, which uses LESS to generate CSS files. Normal CSS is valid LESS code too, but doesn’t have the concept of a variable. So changing colors in CSS requires changing each and every occurance of some hex colorcode. LESS just lets you define the color as a variable, such as &lt;code&gt;@red: #dc322f;&lt;/code&gt; or &lt;code&gt;@background: #fdf6e3;&lt;/code&gt;, and then use &lt;code&gt;@red&lt;/code&gt; or &lt;code&gt;@background&lt;/code&gt; throughout the CSS. It helps you avoid repetition in lots of other ways too, but having variables was enough to get me going.&lt;/p&gt;
&lt;p&gt;I mapped all the twitter-bootstrap color variables to the 16-color Solarized palette in my &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/assets/less/variables.less&quot;&gt;variables.less&lt;/a&gt; file. I wanted the ability to render the site with either the dark or light background schemes, which required customizing quite a few of the other Twitter Bootstrap LESS files – it seems Bootstrap was build with exclusively light backgrounds in mind. Solarized accent colors are chosen to provide identical contrast on either background, but the base gray colors are slightly different for light and dark. The Solarized palette indicates which colors are designed for body text, comments and secondary text, background highlights, and optionally, for emphasized content, as described in the &lt;a href=&quot;http://ethanschoonover.com/solarized#usage-development&quot;&gt;usage and development documentation&lt;/a&gt;. Overall it’s nice to have a new look to the site, but it has raised a couple questions on which I’d be happy to hear more opinions.&lt;/p&gt;
&lt;h2 id=&quot;questions&quot;&gt;Questions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Links in blue? yellow? Or a more subtle base color?&lt;/li&gt;
&lt;li&gt;Light or dark background prefered?&lt;/li&gt;
&lt;li&gt;Should code blocks be rendered in the inverse background scheme, or a matching one?&lt;/li&gt;
&lt;li&gt;Do the navbar colors work? should they come from the inverse scheme?&lt;/li&gt;
&lt;li&gt;Would a stronger contrast in colors be more readable?&lt;/li&gt;
&lt;li&gt;other reactions?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here are a few screenshots in the different themes, varying the codeblock colors as well:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8182/8049035809_cbd35a6a8f_n.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8455/8049041504_ef37c20a8d_n.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8311/8049041556_c6c454b7b1_n.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8315/8049041400_8de7a9ba94_n.jpg&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;challenges&quot;&gt;Challenges&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;My black icons in the footer and lab-notebook homepage do not render well in the dark theme.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Button text doesn’t render well in the dark theme&lt;/li&gt;
&lt;li&gt;My flickr-hosted figures render with a white background even if I generate transparent-background pngs, since flickr converts them to jpg.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;updates&quot;&gt;Updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;I have added a little javascript to allow the user to toggle the theme between dark and light (see &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/assets/js/switch-css.js&quot;&gt;switch-css.js&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Multiple Uncertainty</title>
   <link href="/2012/10/01/multiple-uncertainty.html"/>
   <updated>2012-10-01T00:00:00-07:00</updated>
   <id>h/2012/10/01/multiple-uncertainty</id>
   <content type="html">&lt;p&gt;Let&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;y&lt;/code&gt; be measured stock size, subject to measurement error from true stock &lt;code&gt;x&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;q&lt;/code&gt; be harvest quota, subject to implementation error from actual harvest, &lt;code&gt;h&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Stock next year is also subject to stochastic growth shock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_g\inline&quot;/&gt;&lt;/span&gt;, (note that &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt; will also depend on the harvest, &lt;code&gt;h&lt;/code&gt;, unless &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt; is taken as the escapement population, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x-h\inline&quot;/&gt;&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_g f(x_t)&quot; alt=&quot;x_{t+1} = z_g f(x_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In discrete space, let &lt;code&gt;X&lt;/code&gt; be a vector representing the probability distribution of having stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt;, restricted to some finite grid of dimension &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n\inline&quot;/&gt;&lt;/span&gt;. Let &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P_g(x | \mu, \sigma_g)\inline&quot;/&gt;&lt;/span&gt; be the probability density function of the shock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_g\inline&quot;/&gt;&lt;/span&gt; over states &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;, given parameter &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma\inline&quot;/&gt;&lt;/span&gt; and mean &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu\inline&quot;/&gt;&lt;/span&gt;. We can write the distribution &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1}\inline&quot;/&gt;&lt;/span&gt; as the result of a matrix-vector product, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1} = \mathbb{F} X_t\inline&quot;/&gt;&lt;/span&gt; where the elements of F are given by&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F_{ij} = P_g(x_i, f(x_j), \sigma_g)&quot; alt=&quot;F_{ij} = P_g(x_i, f(x_j), \sigma_g)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{F}\inline&quot;/&gt;&lt;/span&gt; is also a function of the harvest level, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{F_h}\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;When we consider measurement uncertainty, we allow the vector &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec Y\inline&quot;/&gt;&lt;/span&gt; to represent the measured stock size, and the true stock size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec X\inline&quot;/&gt;&lt;/span&gt; is a random variable distributed around it. In the discrete space we may represent this as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X = \mathbb{M} \vec Y\inline&quot;/&gt;&lt;/span&gt;, where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M\inline&quot;/&gt;&lt;/span&gt; is an &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n\inline&quot;/&gt;&lt;/span&gt; by &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n\inline&quot;/&gt;&lt;/span&gt; grid representing the role of measurement uncertainty, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M_{ij} = P_m(x_i, x_j, \sigma_m)\inline&quot;/&gt;&lt;/span&gt;. The state equation now evolves in belief space,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_{t+1} = \mathbb{F}_h \mathbb{M} \vec Y_t&quot; alt=&quot;Y_{t+1} = \mathbb{F}_h \mathbb{M} \vec Y_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If there is implementation uncertainty as well and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt; is a function of the escapement population (those remaining after a harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;), we can impliment this as an additional transition matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?I_{ij} = P_i(x_i, x_j-h, \sigma_i)\inline&quot;/&gt;&lt;/span&gt;, and the state equation becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_{t+1} = \mathbb{F} \mathbb{M} \mathbb{I}_h \vec Y_t&quot; alt=&quot;Y_{t+1} = \mathbb{F} \mathbb{M} \mathbb{I}_h \vec Y_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that the implementation matrix is a function of the harvest level, so that we need a different matrix for each &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;, whether or not we introduce measurement uncertainty (instead of a different &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbb{F}\inline&quot;/&gt;&lt;/span&gt; matrix for each harvest as before.)&lt;/p&gt;
&lt;h2 id=&quot;results&quot;&gt;Results&lt;/h2&gt;
&lt;p&gt;Linked in the automatically generated commit log:&lt;/p&gt;
&lt;ul&gt;&lt;li&gt;
parallel mapply support added &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/3da799190fd4818ef85653314e3469fcb5d8e431&quot;&gt;01:21 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
Merge branch ‘master’ of github.com:cboettig/pdg_control &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/b0b512e850db6e5dc206a1e6ba3c2d978f23e33a&quot;&gt;01:12 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
trying larger grid to remove edge effects &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/6a0da81edb5b399fb64246ffb2ac6ac2575f7c35&quot;&gt;01:11 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
edge effects become obvious in the all-high noise case &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/0f635a7f1a9e9d956b680113ead5fbb961e3511a&quot;&gt;01:07 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
Merge branch ‘master’ of github.com:cboettig/pdg_control &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/5171c17e7123470f2cb47970400ead36f60905e2&quot;&gt;01:03 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
&lt;p&gt;exploring high measurement only uncertainty - seems to show no deviation from constant escapement.&lt;/p&gt;
Note that the deterministic fails due to the singular pdfn distribution &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/877c943ab11a3b9f08ef3fb0463998db64503a71&quot;&gt;12:59 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
merge &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/6a8d881f307ac73fc61a267f8f41bed54b60ac07&quot;&gt;12:35 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
figure3 &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/83a4ad58f17186df81ea1dfeef4b633730264f92&quot;&gt;12:33 am 2012/10/02&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
and now with images uploaded &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/d7002f387131b7321b19965ab676a7090eae31eb&quot;&gt;11:59 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
small multiple uncertainty: working example! Uses matrix approach in R/SDP_multiple_uncertainty.R &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/608d3d714668498eef32d85bddf70d4aa18c9b0e&quot;&gt;11:58 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
clean up directory, updated documentation &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/b9fa0622840c7eb8e32b0ef70cf75aab231ac67b&quot;&gt;11:29 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
merge &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/ad0fe803782cfdce691ab2677cedad4940b8827d&quot;&gt;11:24 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
attempting multiple uncertainties using matrix approach – Example on growth-noise alone &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/86751f86d9389067ecaa6bd5662777970db2f9f5&quot;&gt;11:24 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
old changes &lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/de9132ccf10146b3fc35f291656a61c52338e75f&quot;&gt;11:20 pm 2012/10/01&lt;/a&gt;
&lt;/li&gt;&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Welcome to my Lab Notebook - Reloaded</title>
   <link href="/2012/09/28/Welcome-to-my-lab-notebook.html"/>
   <updated>2012-09-28T00:00:00-07:00</updated>
   <id>h/2012/09/28/Welcome-to-my-lab-notebook</id>
   <content type="html">&lt;p&gt;Welcome to my lab notebook, version 3.0. My &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook&quot;&gt;original open lab notebooks&lt;/a&gt; began on the wiki platform &lt;a href=&quot;http://openwetware.org&quot;&gt;OpenWetWare&lt;/a&gt;, moved to a personally hosted Wordpress platform, and now run on a Jekyll-powered platform (&lt;a href=&quot;http://www.carlboettiger.info/README.html&quot;&gt;site-config&lt;/a&gt;), but the basic idea remains the same. For completeness, earlier entries from both platforms have been migrated here. Quoting from &lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;my original introduction&lt;/a&gt; to the Wordpress notebook:&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2&gt;Disclaimer: Not a Blog&lt;/h2&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/twid/3013680713/in/faves-cboettig/&quot;&gt;&lt;img src=&quot;http://farm4.staticflickr.com/3053/3013680713_cfcebbd403_t.jpg&quot; alt=&quot;floatright&quot; /&gt;&lt;/a&gt; Welcome to my open lab notebook. This is the active, permanent record of my scientific research, standing in place of the traditional paper bound lab notebook. The notebook is primarily a tool for me to &lt;em&gt;do&lt;/em&gt; science, not communicate it. I write my entries with the hope that they are intelligible to my future self; and maybe my collaborators and experts in my field. Only the occasional entry will be written for a more general audience. […] In these pages you will find not only thoughts and ideas, but references to the literature I read, the codes or manuscripts I write, derivations I scribble and graphs I create and mistakes I make. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;why-an-open-notebook-is-it-working&quot;&gt;Why an open notebook? Is it working?&lt;/h2&gt;
&lt;p&gt;My original introduction to the notebook from November 2010 dodged this question by suggesting the exercise was merely an experiment to see if any of the purported benefits or supposed risks were well-founded. Nearly three years in, can I draw any conclusions from this open notebook experiment?&lt;/p&gt;
&lt;p&gt;In that time, the notebook has seen six projects go from conception to &lt;a href=&quot;http://www.carlboettiger.info/vita.html&quot;&gt;publication&lt;/a&gt;, and a seventh founder on a null result (see &lt;a href=&quot;http://carlboettiger.info/tags.html#tribolium&quot;&gt;#tribolium&lt;/a&gt;). Several more projects continue to unfold. I have often worked on several projects simultaneously, and some projects branch off while others merge, making it difficult to capture all the posts associated with a single paper into a single tag or category. Of course not all ideas make it into the paper, but they remain captured in the notebook. I often return to my earlier posts for my own reference, and frequently pass links to particular entries to collaborators or other colleagues. On occasion I have pointed reviewers of my papers to certain entries discussing why we did &lt;code&gt;y&lt;/code&gt; instead of &lt;code&gt;x&lt;/code&gt;, and so forth. Both close colleagues and researchers I’ve never met have emailed me to follow up on something they had read in my notebook. This evidence suggests that the practice of open notebook science can faciliate both the performance and dissemination of research while remaining compatible and even synergistic with academic publishing.&lt;/p&gt;
&lt;p&gt;I am both proud and nervous to know of a half dozen other researchers who have credited me for inspiring them to adopt open or partially open lab notebooks online. I am particularly grateful for the examples, interactions, and ideas from established practitioners of open notebook science in other fields. My collaborators have been largely been somewhere between favorable and agnostic towards the idea, with the occasional request for delayed or off-line notes. More often gaps arise from my own lapses in writing (or at least being intelligible), though the automated records from Github in particular, as well as Flickr (image log), Mendeley (reading log), and Twitter and the like help make up for some of the gaps.&lt;/p&gt;
&lt;p&gt;&lt;!-- Liam Revell, Scott Chamberlain, Alistair Boettiger, Noam Ross, Nick Fabina, Lee Worden, Mario Pineda-Krch--&gt;&lt;/p&gt;
&lt;h2 id=&quot;the-integrated-notebook-becomes-the-knitted-notebook&quot;&gt;The Integrated Notebook becomes the Knitted Notebook&lt;/h2&gt;
&lt;p&gt;In creating my wordpress lab notebook, &lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;I put forward the idea of an “Integrated Lab Notebook”&lt;/a&gt;, a somewhat convoluted scheme in which I would describe my ideas and analyses in Wordpress posts, embed figures from Flickr, and link them to code on Github. &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;Knitr&lt;/a&gt; simplified all that. I can now write code, analysis, figures, equations, citations, etc, into a single &lt;code&gt;Rmarkdown&lt;/code&gt; format and track it’s evolution through git version control. The &lt;code&gt;knitr&lt;/code&gt; markdown format goes smoothly on Github, the lab notebook, and even into generating pdf or word documents for publication, never seperating the code from the results. For details, see “&lt;a href=&quot;http://www.carlboettiger.info/2012/04/07/writing-reproducibly-in-the-open-with-knitr.html&quot;&gt;writing reproducibly in the open with knitr&lt;/a&gt;.”&lt;/p&gt;
&lt;h2 id=&quot;navigating-the-open-notebook&quot;&gt;Navigating the Open Notebook&lt;/h2&gt;
&lt;p&gt;You can page through the notebook chronologically just like any paper notebook using the “Next” and “Previous” buttons on the sidebar. The notebook also leverages all of the standard features of a blog:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the ability to search,&lt;/li&gt;
&lt;li&gt;browse the archives &lt;a href=&quot;http://www.carlboettiger.info/archives.html&quot;&gt;by date&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;browse by &lt;a href=&quot;http://www.carlboettiger.info/tags.html&quot;&gt;tag&lt;/a&gt; or&lt;/li&gt;
&lt;li&gt;browse by &lt;a href=&quot;http://www.carlboettiger.info/categories.html&quot;&gt;category&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;follow the &lt;a href=&quot;http://www.carlboettiger.info/atom.xml&quot;&gt;RSS feed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;add and share comments in Disqus&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I use categories as the electronic equivalent of separate paper notebooks, dividing out my ecological research projects, evolutionary research topics, my teaching notebook, and a few others. As such, each entry is (usually) made into exactly one category. I use tags for more flexible topics, usually refecting particular projects or methods, and entries can have zero or multiple tags.&lt;/p&gt;
&lt;p&gt;It can be difficult to get the big picture of a project by merely flipping through entries. The chronological flow of a notebook is a poor fit to the very nonlinear nature of research. Reproducing particular results frequently requires additional information (also data and software) that are not part of the daily entries. Github repositories have been the perfect answer to these challenges.&lt;/p&gt;
&lt;h2 id=&quot;the-real-notebook-is-github&quot;&gt;(The real notebook is Github)&lt;/h2&gt;
&lt;p&gt;My Github repositories offer a kind of inverted version of the lab notebook, grouped by project (tag) rather than chronology. Each of my research projects is now is given it’s own public Github repository. I work primarily in R because it is widely used by ecologists and statisicians, and has a strong emphasis on reproducible research. The “R package” structure turns out to be brilliantly designed for research projects, which specifies particular files for essential metadata (title, description, authors, software dependencies, etc), data, documentation, and source code (see &lt;a href=&quot;http://www.carlboettiger.info/2012/05/06/research-workflow.html&quot;&gt;my workflow&lt;/a&gt; for details). Rather than have each analysis described in full in my notebook, they live as seperate &lt;code&gt;knitr&lt;/code&gt; markdown files in the &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/examples&quot;&gt;&lt;code&gt;inst/examples&lt;/code&gt;&lt;/a&gt; directory of the R package, where their &lt;a href=&quot;https://github.com/cboettig/pdg_control/commits/master/inst/examples&quot;&gt;history&lt;/a&gt; can be browsed on Github, complete with their commit logs. Long or frequently used blocks of code are written into functions with proper documentation in the package source-code directory &lt;code&gt;/R&lt;/code&gt;, keeping the analysis files cleaner and consistent.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?state=closed&quot;&gt;issues tracker&lt;/a&gt; connected to each Github repository provides a rich TO DO list for the project. Progress on any issue often takes the form of subsequent commits of a particular analysis file, and that commit log can automatically be appended to the issue.&lt;/p&gt;
&lt;h2 id=&quot;the-social-lab-notebook&quot;&gt;The social lab notebook&lt;/h2&gt;
&lt;p&gt;When scripting analyses or writing papers, pretty much everything can be captured on Github. I have recently added a short &lt;a href=&quot;https://github.com/cboettig/jekyll-labnotebook-plugins&quot;&gt;script&lt;/a&gt; to Jekyll which will pull the relevant commit logs into that day’s post automatically. Other activities fit less neatly into this mold (reading, math, notes from seminars and conferences), so these things get traditional notebook entries. I’m exploring automated integration for other activities, such as pulling my current reading from Mendeley or my recent discussions from Twitter into the notebook as well. For now, feed for each of these appear at the top of my &lt;a href=&quot;http://www.carlboettiger.info/lab-notebook.html&quot;&gt;notebook homepage&lt;/a&gt;, with links to the associated sites.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Migrating Oww Posts To Jekyll</title>
   <link href="/2012/09/27/Migrating-OWW-posts-to-Jekyll.html"/>
   <updated>2012-09-27T00:00:00-07:00</updated>
   <id>h/2012/09/27/Migrating-OWW-posts-to-Jekyll</id>
   <content type="html">&lt;p&gt;This Open Lab Notebook started on a public MediaWiki-based site, &lt;a href=&quot;http://openwetware.org&quot;&gt;OpenWetWare&lt;/a&gt; (OWW), which was created with the ambitious vision of having a single wiki for biological sciences (or at least, synthetic microbiology, since such the wiki grew out of a collection of such labs). Users could have their own pages that served as a personal website or lab group site, contribute pages on specific protocols, host course websites, and most interestingly, were encouraged to create open lab notebooks using specially designed templates for the purpose. From January through October of 2010, I kept all my notes in two separate OWW notebooks: one for entries on my &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics&quot;&gt;Comparative Phylogenetics&lt;/a&gt; research, and a seperate one for entries in &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Stochastic_Population_Dynamics&quot;&gt;Stochastic Population Dynamics&lt;/a&gt;. Each notebook had a cover page and then entries by day, linked by the calendar box on the cover page. This was a neat idea an excellent introduction into the world of open lab notebooks.&lt;/p&gt;
&lt;p&gt;In September of 2010 I began to leave the OpenWetWare platform to start my own lab notebook based on a privately hosted copy Wordpress. The benefits of being on a shared community platform were minimized by the relatively small number of active users mostly belonging to a different field. Downtime on the site and a lack of any easy way to access my content off-line or back up content also made me increasingly nervous, while the difficulty in adding additional tools or functionality (such as RSS feeds to new entries, personal tags, improved search) collectively spurred my decision to move to Wordpress. At the time I had knew of no easy way to migrate my OWW posts, so I allowed them to remain where they were while I continued further notes in my newly minted Wordpress installation.&lt;/p&gt;
&lt;p&gt;In April of 2012 I began to experiment with the static-blogging engine, Jekyll. My adoption of markdown, facilitated by my discovery of pandoc and the advent of &lt;code&gt;knitr&lt;/code&gt;, together with my complete submersion into a Github-based workflow led me to first consider Jekyll. Wordpress was slow and heavy, both for creating entries in the online editor (though I did start pushing markdown-based entries to Wordpress through it’s API and the associated R package). Though Jekyll has a slightly steeper learning curve to start, once you have the basics down complicated things aren’t any harder than easy ones, whereas on Wordpress the basics are trivial but complex customization becomes a full-time web-developer challenge. In Jekyll, it was rather easy to migrate all my old entries from the previous platforms onto the new one.&lt;/p&gt;
&lt;p&gt;In the &lt;a href=&quot;http://www.carlboettiger.info/2012/09/19/migrating-from-wordpress-to-jekyll.html&quot;&gt;previous post&lt;/a&gt; I describe exporting my Wordpress-based entries using a python script from Thomas Frossman. To export my OpenWetWare entries I relied on the rather excellent MediaWiki API. While I began by grabbing the content of each post in MediaWiki syntax, I soon realized it was easier to grab the content already parsed as HTML (using a different API call) and then parse the HTML into markdown using Pandoc. (Pandoc’s developmental version does have experimental support for reading MediaWiki syntax now). I then added a few substitutions to standardize my tags and categories. Here’s my R call to the MediaWiki API (see &lt;a href=&quot;https://github.com/cboettig/sandbox/blob/1efa80e913006051083544275f6af9b5ab9ccb0a/wiki_get.R&quot;&gt;wiki_get.R&lt;/a&gt;):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;wiki_parse &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(page, baseurl, &lt;span class=&quot;dt&quot;&gt;format=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;json&amp;quot;&lt;/span&gt;, ...){
  &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(httr)
  action =&lt;span class=&quot;st&quot;&gt; &amp;quot;parse&amp;quot;&lt;/span&gt;
  addr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(baseurl, &lt;span class=&quot;st&quot;&gt;&amp;quot;/api.php?format=&amp;quot;&lt;/span&gt;, format, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;amp;action=&amp;quot;&lt;/span&gt;, action, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;amp;page=&amp;quot;&lt;/span&gt;, page, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
  config &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;add_headers&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;User-Agent&amp;quot;&lt;/span&gt; =&lt;span class=&quot;st&quot;&gt; &amp;quot;rwiki&amp;quot;&lt;/span&gt;), ...)
  out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;GET&lt;/span&gt;(addr, &lt;span class=&quot;dt&quot;&gt;config=&lt;/span&gt;config)
  &lt;span class=&quot;kw&quot;&gt;parsed_content&lt;/span&gt;(out)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I create a few helper functions for parsing the html into markdown, and also extracting and adding the metadata into Jekyll’s YAML headers (see &lt;a href=&quot;https://github.com/cboettig/sandbox/blob/1efa80e913006051083544275f6af9b5ab9ccb0a/export_oww.R&quot;&gt;export_oww.R&lt;/a&gt;)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(httr)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(gsubfn)

oww_to_md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pages, &lt;span class=&quot;dt&quot;&gt;user=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Carl_Boettiger&amp;quot;&lt;/span&gt;,  &lt;span class=&quot;dt&quot;&gt;baseurl =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;http://openwetware.org&amp;quot;&lt;/span&gt;){
  &lt;span class=&quot;co&quot;&gt;# Store filenames (with dates) and categories for each page, for reference later&lt;/span&gt;
  filenames &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_filenames&lt;/span&gt;(pages)
  categories &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_categories&lt;/span&gt;(pages)
  ## Use the API function to extract the content
  parsed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;export_oww&lt;/span&gt;(pages, user, baseurl)
  ## Add the baseurl back into all the links
  htmls &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;add_baseurl&lt;/span&gt;(parsed)
  ## Create YAML header text
  headers &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;add_header_txt&lt;/span&gt;(parsed, categories)
  ## Use pandoc to convert the html to markdown
  mds &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;html_to_md&lt;/span&gt;(htmls, filenames) 
  ## Delete the OWW header info we don&amp;#39;t want in the markdown
  mds &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;clean_md&lt;/span&gt;(mds)
  ## Stick headers onto markdown files and name them according to filenames
  &lt;span class=&quot;kw&quot;&gt;write_mds&lt;/span&gt;(mds, headers, filenames) 
}

get_filenames &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pages){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(pages, function(p){
    p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, p)
    filename &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;-&amp;quot;&lt;/span&gt;, p)
    filename &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(.*)-(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+-&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+-&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;2-&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;quot;&lt;/span&gt;, filename)
  })
}

&lt;span class=&quot;co&quot;&gt;#&amp;#39; Take a list of page titles to a user&amp;#39;s OWW notebooks and export them as Jekyll markdown entries.  &lt;/span&gt;
get_categories &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pages){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(pages, function(p){
    p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, p)
    filename &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;-&amp;quot;&lt;/span&gt;, p)
    category &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(.*)-(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+-&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+-&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;quot;&lt;/span&gt;, filename)
  })
}


&lt;span class=&quot;co&quot;&gt;#&amp;#39; Take a list of page titles to a user&amp;#39;s OWW notebooks and export them as Jekyll markdown entries.  &lt;/span&gt;
export_oww &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pages, &lt;span class=&quot;dt&quot;&gt;user=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Carl_Boettiger&amp;quot;&lt;/span&gt;,  &lt;span class=&quot;dt&quot;&gt;baseurl=&lt;/span&gt;  &lt;span class=&quot;st&quot;&gt;&amp;quot;http://openwetware.org&amp;quot;&lt;/span&gt;){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(pages, function(p){
    p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, p)
    page &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;User:&amp;quot;&lt;/span&gt;, user, &lt;span class=&quot;st&quot;&gt;&amp;quot;/Notebook/&amp;quot;&lt;/span&gt;, p, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;wiki_parse&lt;/span&gt;(page, &lt;span class=&quot;dt&quot;&gt;baseurl=&lt;/span&gt;baseurl)
  })
}

add_baseurl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(parsed,  &lt;span class=&quot;dt&quot;&gt;baseurl =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;http://openwetware.org&amp;quot;&lt;/span&gt;){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(parsed, function(out){
    html &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;out$parse$text[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
    html &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsubfn&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;src=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;/images/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;src=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
                   baseurl,&lt;span class=&quot;st&quot;&gt;&amp;quot;/images/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), html)
    html &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsubfn&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;href=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;/wiki/&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;src=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
                   baseurl,&lt;span class=&quot;st&quot;&gt;&amp;quot;/wiki/&amp;quot;&lt;/span&gt;, 
                    &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), html)
  })
}

add_header_txt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(parsed, mycategories){
  &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(parsed), function(i){
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;parsed[[i]]
    category &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;mycategories[[i]]
    if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(out$parse$categories)&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
      categories &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(out$parse$categories, function(x) x$&lt;span class=&quot;st&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;`&lt;/span&gt;)
      &lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, categories)
      ## Standarize some of my tags, called &amp;quot;categories&amp;quot; on OWW
      tags &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;tags: &amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;[&amp;quot;&lt;/span&gt;, 
                          &lt;span class=&quot;kw&quot;&gt;paste0&lt;/span&gt;(categories, &lt;span class=&quot;dt&quot;&gt;collapse =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;, &amp;quot;&lt;/span&gt;),
                          &lt;span class=&quot;st&quot;&gt;&amp;quot;]&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)  
    } else {
      tags &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;&amp;quot;&lt;/span&gt;
    }
    
    header &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;---&amp;quot;&lt;/span&gt;, 
                &lt;span class=&quot;st&quot;&gt;&amp;quot;layout: post&amp;quot;&lt;/span&gt;,
                tags, 
                &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;categories: &amp;quot;&lt;/span&gt;, category),
                &lt;span class=&quot;st&quot;&gt;&amp;quot;---&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;)
  })
}


html_to_md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(htmls, filenames){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(htmls), function(html){
    &lt;span class=&quot;kw&quot;&gt;writeLines&lt;/span&gt;(htmls[[i]], &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(filenames[i], &lt;span class=&quot;st&quot;&gt;&amp;quot;.html&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;))
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;pandoc &amp;quot;&lt;/span&gt;, filenames[i], &lt;span class=&quot;st&quot;&gt;&amp;quot;.html -w markdown&amp;quot;&lt;/span&gt;, 
                       &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;intern=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
  })
}


clean_md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(mds){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(mds, function(md){
    ## Remove OWW header
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;!&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;[image&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;(http://openwetware.org/images/f/f8/Owwnotebook_icon.png&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;!&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;[image&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;(http://openwetware.org/images/9/94/Report.png&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;)&amp;quot;&lt;/span&gt;,  &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Main project&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;page&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;!&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;[image&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;(http://openwetware.org/images/c/c3/Resultset_previous.png&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;)&amp;quot;&lt;/span&gt;,  &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Previous$&amp;quot;&lt;/span&gt;,  &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^entry Next$&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;!&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;[image&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;(http://openwetware.org/images/5/5c/Resultset_next.png&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^entry$&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Stochastic Population Dynamics&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Comparative Phylogenetics$&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
    md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Teaching$&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, md)
  })
}



write_md &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(mds, headers, filenames){
  &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(mds), function(i){
    &lt;span class=&quot;kw&quot;&gt;writeLines&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(headers[[i]], mds[[i]]), &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(filenames[i], &lt;span class=&quot;st&quot;&gt;&amp;quot;.markdown&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)) 
  })
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If or when I change platform again, it should be even easier. With all my posts in markdown, I can easily move them into an ebook or pdf using Pandoc (currently requires stripping the YAML headers first, though it would be great if Pandoc eventually supported metadata headers in YAML). Github renders the markdown of each post automatically, so the content of most posts can be read directly from the Github repository, &lt;a href=&quot;https://github.com/cboettig/labnotebook/tree/master/_posts&quot;&gt;cboettig/labnotebook&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;misc-tricks&quot;&gt;Misc tricks&lt;/h2&gt;
&lt;p&gt;The unix &lt;code&gt;rename&lt;/code&gt; utility comes in handy:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;rename &amp;#39;s/Comparative_Phylogenetics/Comparative-Phylogenetics-Notebook-(from-OWW)/&amp;#39; *Comparative_Phylogenetics.markdown
rename &amp;#39;s/Stochastic_Population_Dynamics/Stochastic-Population-Dynamics-Notebook-(from-OWW)/&amp;#39; *Stochastic_Population_Dynamics.markdown&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And a vim mapping to flip through 100s of source files quickly:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:map &amp;lt;F2&amp;gt; :N&amp;lt;CR&amp;gt;
:map &amp;lt;F3&amp;gt; :n&amp;lt;CR&amp;gt;&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Migrating From Wordpress To Jekyll</title>
   <link href="/2012/09/19/migrating-from-wordpress-to-jekyll.html"/>
   <updated>2012-09-19T00:00:00-07:00</updated>
   <id>h/2012/09/19/migrating-from-wordpress-to-jekyll</id>
   <content type="html">&lt;p&gt;Thanks to a recent bugfix in the &lt;a href=&quot;https://github.com/thomasf/exitwp&quot;&gt;exitwp&lt;/a&gt; scripts I was able to export all my Wordpress entries. The script pulls the entries from the Wordpress database and formats them in markdown, along with extracting all metadata such as timestamp, tags, categories, publication status, and Wordpress id number, which are all embedded as YAML header information.&lt;/p&gt;
&lt;h3 id=&quot;why-migrate-the-old-entries&quot;&gt;Why migrate the old entries?&lt;/h3&gt;
&lt;p&gt;When I moved to the Jekyll notebook, I left the Wordpress site standing with all its existing content and simply remapped the home pages. While it was nice to have the Wordpress system as a fall back while I got used to Jekyll, it meant that I couldn’t benefit from the faster and lighter nature of Jekyll while much of my traffic occurred on the Wordpress pages. I was running a dedicated virtual private server for the Wordpress hosting, and still the site wasn’t very responsive. To get an idea, try “flipping through the pages” of the new Jekyll notebook using the “next” and “previous” post buttons. The new pages load immediately, making it easy to flip through looking for some word or image I can’t find with tags or searches. Flipping through pages is the time-honored way of interacting with paper notebooks, so I’m glad that the new system is responsive enough to imitate this well.&lt;/p&gt;
&lt;h3 id=&quot;converting-shortcodes-from-wordpress-plugins&quot;&gt;Converting shortcodes from Wordpress Plugins&lt;/h3&gt;
&lt;p&gt;Migrating files using &lt;code&gt;exitwp&lt;/code&gt; is a relatively seamless affair. Unfortunately, my Wordpress posts make rather heavy use of plugins, which work through shortcodes that still appear in the converted files, such as &lt;code&gt;[flickr]&lt;/code&gt;, &lt;code&gt;[latex]&lt;/code&gt;, &lt;code&gt;[code lang=&amp;quot;r&amp;quot;]&lt;/code&gt;, and &lt;code&gt;[cite]&lt;/code&gt;, for image embedding, equation embedding, syntax highlighting, and citations by DOI, respectively. While a suite of Jekyll plugins exist for each of these tasks, I’d like my regular posts to be pure markdown (other than the YAML header), making it easy to migrate or reuse the content in the future in different platforms. Here is the &lt;a href=&quot;https://github.com/cboettig/sandbox/blob/c489da83ca7a78345b7981be4de5933ae7d63ac0/shortcodes.R&quot;&gt;R script I used for converting my shortcodes&lt;/a&gt;, as described below.&lt;/p&gt;
&lt;h4 id=&quot;syntax-highlighting-short-codes&quot;&gt;Syntax Highlighting short-codes&lt;/h4&gt;
&lt;p&gt;For instance, several markdown extension languages including, Github-flavored markdown, already allow for syntax-highlighting with fenced code blocks. I wrote a short script to replace all (most) of the shortcodes in use on my Wordpress site. (Over the years, I’d actually used a variety of different syntax highlighting plugins, making it necessary to match a variety of different shortcodes). Other than matching a lot of patterns, this was pretty straight forward.&lt;/p&gt;
&lt;h4 id=&quot;flickr-images&quot;&gt;flickr images&lt;/h4&gt;
&lt;p&gt;My workflow pushes all the images and graphs I create to flickr when the script runs. (I could also automatically push the images to Wordpress, or simply to my own site, but started using flickr pretty early on for this. The SOAP API is excellent, as is the Rflickr R package) Images were embedded into my Wordpress site using the shortcode and image ID number. To generate stand-alone markdown, I wanted tp replace all the image codes with the flickr URLs to the images, which is a trivial task with the API and Rflickr.&lt;/p&gt;
&lt;h4 id=&quot;latexmathjax-equations&quot;&gt;LaTeX/Mathjax Equations&lt;/h4&gt;
&lt;p&gt;Again I had used a variety of shortcodes for latex plugins before discovering MathJax, so I had to handle a variety of syntaxes here. Previously I’ve tried to write equations in a manner compatible with the redcarpet markdown parser that powers Github-Flavored Markdown (see the &lt;a href=&quot;https://github.com/nono/Jekyll-plugins&quot;&gt;corresponding Jekyll plugin&lt;/a&gt;), e.g. surrounding equations with &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; blocks to avoid the parser mangling them. Instead, I’ve found it easier now to switch to pandoc for my markdown parser (and &lt;a href=&quot;https://github.com/dsanson/jekyll-pandoc-plugin&quot;&gt;corresponding Jekyll Plugin&lt;/a&gt;). Pandoc uses the basic TeX &lt;code&gt;$&lt;/code&gt; and &lt;code&gt;$$&lt;/code&gt; for inline and display equations, rendering it into the MathJax (and modern LaTeX standard) &lt;code&gt;\(&lt;/code&gt; and &lt;code&gt;\[&lt;/code&gt; on conversion. Being pandoc-compatible is quite nice, making it easy to create an e-book, epub, or latex-based pdf of my notebook. I hate having to use a markdown syntax that isn’t compatible with most other extended markdown parsers, but with so many different, inconsistent parsers this cannot be easily avoided. Regardless, replacing the various shortcodes to the Pandoc syntax is just a simple regexpr step.&lt;/p&gt;
&lt;h4 id=&quot;citations&quot;&gt;Citations&lt;/h4&gt;
&lt;p&gt;Many of my posts relied on kcite to generate bibliographies for the post using DOIs. A short call to my &lt;a href=&quot;http://www.carlboettiger.info/2012/05/30/knitcitations.html&quot;&gt;knitcitations&lt;/a&gt; package allowed me to generate the parenthetical citations and bibliographies instead. In principle this step could be run at the time I compile the site with Jekyll. Pages would be valid &lt;code&gt;.Rmd&lt;/code&gt;, needing knitr as “markdown” interpreter. This is an intriguing way to go, but probably too complicated for the moment. Running additional R code would be nice, but could slow the time needed to build the site, even with knitr’s caching. Meanwhile, converted pages simply have the citations already processed and the bibliography added in as HTML at the end of the post.&lt;/p&gt;
&lt;h3 id=&quot;url-redirects&quot;&gt;URL Redirects&lt;/h3&gt;
&lt;p&gt;My Jekyll site uses the SEO recommended structure of year/month/day/page-title for URLs, while my Wordpress site used simple random id numbers. To ensure that links to the old Wordpress pages resolve to the newly migrated pages, I added a little Jekyll plugin, &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/_plugins/redirects.rb&quot;&gt;redirects.rb&lt;/a&gt;. One of the elegant things about Jekyll is the ability to create such plugins that do this just the way you would image doing so – creating auxiliary pages at each of the redirect URLs with a simple redirect command. To install, place &lt;code&gt;redirects.rb&lt;/code&gt; in &lt;code&gt;_plugins&lt;/code&gt;, &lt;code&gt;redirects.html&lt;/code&gt; in &lt;code&gt;_layouts&lt;/code&gt;, and in &lt;code&gt;_config.yml&lt;/code&gt; add the line &lt;code&gt;redirects: yes&lt;/code&gt; (see &lt;a href=&quot;https://github.com/cboettig/labnotebook&quot;&gt;site source&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;comments&quot;&gt;Comments&lt;/h3&gt;
&lt;p&gt;I am using Disqus as the comment engine for entries. Since URLs change in the above step and I do not provide a unique disqus code to each page, I am attempting to migrate comments using the &lt;a href=&quot;http://help.disqus.com/customer/portal/articles/286778-using-the-migration-tools&quot;&gt;Disqus “migrate threads” tool&lt;/a&gt;, which simply takes a csv file listing old and new urls in consecutive columns. Will have to wait and see if this works.&lt;/p&gt;
&lt;h3 id=&quot;private-entries&quot;&gt;Private entries&lt;/h3&gt;
&lt;p&gt;Several entries on the Wordpress site were marked private, and only visible after administrative login. Most of these entries are actually solicited journal reviews of various manuscripts which I cannot make public. &lt;code&gt;exitwp&lt;/code&gt; marks these posts as &lt;code&gt;published: false&lt;/code&gt; in the metadata, so it is easy to remove them from the Jekyll source site. They can be managed in a separate Github-excluded directory (so that they cannot be seen on the website source pages on Github either) that can be &lt;code&gt;.htaccess&lt;/code&gt; password protected.&lt;/p&gt;
&lt;h3 id=&quot;categories-and-tags&quot;&gt;Categories and Tags&lt;/h3&gt;
&lt;p&gt;Categories and tags are handled automatically in the conversion. One of the greatest things about having all the content on a common system is the ability to share a common tag-pool.&lt;/p&gt;
&lt;h3 id=&quot;rss&quot;&gt;RSS&lt;/h3&gt;
&lt;p&gt;If you follow the notebook through RSS feeds, all the migrated posts will be showing up as new unread entries, as the atom feed dates entries by when they appear, not the stated post date. My apologies!&lt;/p&gt;
&lt;h3 id=&quot;rough-edges&quot;&gt;Rough edges&lt;/h3&gt;
&lt;p&gt;A couple posts have rare shortcodes which are probably easier to correct by hand. My apologies for any rough edges resulting from the conversion (or the exchange of markdown parsers). Hopefully I’ll get these ironed out in the near future, but feel free to leave a comment on the page or the issues tracker on any such errors.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Analytic Solution To Multiple Uncertainty</title>
   <link href="/2012/09/14/analytic-solution-to-multiple-uncertainty.html"/>
   <updated>2012-09-14T00:00:00-07:00</updated>
   <id>h/2012/09/14/analytic-solution-to-multiple-uncertainty</id>
   <content type="html">&lt;p&gt;&lt;em&gt;No idea where I went wrong, but the final graphs are not what I expected&lt;/em&gt; &lt;em&gt;Update: Integrated out some uncertainty in the expectation step, need to preserve full set of transtions&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We consider adding additional sources of noise through observation error and implementation error to the orginal model of Reed (1979), which considers only growth error. This follows in the line of exploration taken by Clark and Kirkwood (1987), Roughgarden (1996) and Sethi (2006).&lt;/p&gt;
&lt;p&gt;In adding these two sources of error, our state variable becomes our &lt;em&gt;measured&lt;/em&gt; (or believed) stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;, rather than the true stock size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;, and our control variable becomes the quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt; set, rather than the realized harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;h2 id=&quot;analytical-integrals&quot;&gt;Analytical integrals&lt;/h2&gt;
&lt;p&gt;The central calculation to accomodating additional sources of uncertainty is the determination of the transition matrix; the probability of going from state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt; at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt; to state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1}\inline&quot;/&gt;&lt;/span&gt; in the next interval, for each possible value of the control variable (quota). We discritize the statespace onto a fine grid of values &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; to seek a stochastic dynamic programming solution.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;xmin &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
xmax &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;150&lt;/span&gt;
grid_n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We seek a harvest policy which maximizes the discounted profit from the fishery using a stochastic dynamic programming approach over a discrete grid of stock sizes from &lt;code&gt;0&lt;/code&gt; to &lt;code&gt;150&lt;/code&gt; on a grid of &lt;code&gt;100&lt;/code&gt; points, and over an identical discrete grid of possible harvest values.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(xmin, xmax, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; grid_n)
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With purely growth noise, a row of the matrix is given by the probability density of the growth noise with mean &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x,h)\inline&quot;/&gt;&lt;/span&gt;, that is, the probability of tranistion from &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1}\inline&quot;/&gt;&lt;/span&gt; at harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; is given by the function &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(x_t+1, f(x,h))\inline&quot;/&gt;&lt;/span&gt; for some probability density function &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P\inline&quot;/&gt;&lt;/span&gt;. In the case of uncertainty in stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt; and harvest &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;, we must integrate over the probability distributions for possible harvests and possible stock sizes,&lt;/p&gt;
&lt;div&gt; 
&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\int dh \int dy P(x_{t+1}, f(y, h))P(y)P(h)&quot; alt=&quot;\int dh \int dy P(x_{t+1}, f(y, h))P(y)P(h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;p&gt;In general this convolution can be non-trivial to compute, but in the case of uniformly distributed harvest error of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pm \sigma_i\inline&quot;/&gt;&lt;/span&gt; around some quota &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?q\inline&quot;/&gt;&lt;/span&gt;, and uniform measurement error of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pm \sigma_m\inline&quot;/&gt;&lt;/span&gt; around the true stock size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;, the integrals can be written as,&lt;/p&gt;
&lt;div&gt; 
&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\int_{\max(q-\sigma_i,0)}^{q+\sigma_i} dh \int_{\max(y-\sigma_h,0)}^{y+\sigma_h} dy P(x_{t+1}, f(y, h))}{\left((q+\sigma_i) - \max(q-\sigma_i,0)\right) \left((x+\sigma_m) - \max(x-\sigma_m,0)\right)}&quot; alt=&quot;\frac{\int_{\max(q-\sigma_i,0)}^{q+\sigma_i} dh \int_{\max(y-\sigma_h,0)}^{y+\sigma_h} dy P(x_{t+1}, f(y, h))}{\left((q+\sigma_i) - \max(q-\sigma_i,0)\right) \left((x+\sigma_m) - \max(x-\sigma_m,0)\right)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;
&lt;/div&gt;

&lt;p&gt;Note we enforce the simple non-negative boundary on stock and harvest.&lt;/p&gt;
&lt;p&gt;So now we are left to merely integrate the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(y,h)\inline&quot;/&gt;&lt;/span&gt; over these finite intervals. We can do this for arbitrary &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt; through multidimensional numerical integration (In fact we could have done this in the first place, but it is too slow for the convolutions of arbitrary probability densities)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;int_f&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;function(f, x, q, sigma_m, sigma_i, pars){
  K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
  sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K*sigma_m
  sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K*sigma_i &lt;span class=&quot;co&quot;&gt;# scale noise into units of K&lt;/span&gt;
  
  if(sigma_m &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X) &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(X[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], X[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], pars)
    lower &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
    upper &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(x +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_m, q +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i)
    A &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;adaptIntegrate&lt;/span&gt;(g, lower, upper)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;A$integral/((q+sigma_i-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q-sigma_i, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))*(x+sigma_m-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x-sigma_m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)))
  } else if(sigma_m ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){ 
    g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(h) &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x, h, pars)
    lower &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    upper &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;q +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_i
    A &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;adaptIntegrate&lt;/span&gt;(g, lower, upper)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;A$integral/(q+sigma_i-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q-sigma_i, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
  } else if(sigma_i ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_m &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){ 
    g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y) &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y, q, pars)
    lower &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    upper &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_m
    A &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;adaptIntegrate&lt;/span&gt;(g, lower, upper)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;A$integral/(x+sigma_m-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x-sigma_m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
  } else if (m ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x,q,pars)
  } else {
    &lt;span class=&quot;kw&quot;&gt;stop&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;distribution widths cannot be negative&amp;quot;&lt;/span&gt;)
  }
  out
}
&amp;lt;environment:&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;namespace:pdgControl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we assume a simple function like logistic growth, &lt;img src=&quot;http://latex.codecogs.com/png.latex?f(s) = r s (1-s/K) + s\inline&quot;/&gt;, where &lt;img src=&quot;http://latex.codecogs.com/png.latex?s = x - h\inline&quot;/&gt;,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, h, p) {
    &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x, function(x) {
        S =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
        p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S/p[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S
    })
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With parameters&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;r &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(r, K)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;r&lt;/code&gt; = &lt;code&gt;1&lt;/code&gt; and &lt;code&gt;K&lt;/code&gt; = &lt;code&gt;100&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Following Sethi et al, we can do this in closed form,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;function(x,q, m, n, pars){
  K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
  m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K*m
  n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K*n &lt;span class=&quot;co&quot;&gt;# scale noise by K&lt;/span&gt;
  if(m &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
  out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;((q+n-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n))*(x+m-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m))*(&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;*x*K&lt;span class=&quot;dv&quot;&gt;-6&lt;/span&gt;*q*K&lt;span class=&quot;dv&quot;&gt;-6&lt;/span&gt;*n*K&lt;span class=&quot;dv&quot;&gt;+6&lt;/span&gt;*m*K&lt;span class=&quot;dv&quot;&gt;+6&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*K&lt;span class=&quot;dv&quot;&gt;-6&lt;/span&gt;*
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*K&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*x^&lt;span class=&quot;dv&quot;&gt;2+3&lt;/span&gt;*q*x&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*n*x&lt;span class=&quot;dv&quot;&gt;-4&lt;/span&gt;*m*x&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*x&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*x&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*q^&lt;span class=&quot;dv&quot;&gt;2-4&lt;/span&gt;*n*q&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*m*q&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*q&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*q&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*n^&lt;span class=&quot;dv&quot;&gt;2+3&lt;/span&gt;*m*n&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*n&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*n&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*m^&lt;span class=&quot;dv&quot;&gt;2-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*m&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*m&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)^&lt;span class=&quot;dv&quot;&gt;2+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))/(&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;*K)/((q+n-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q-n, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))*(x+m-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x-m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)))
  } else if(m ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) {
    y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(((&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;*q&lt;span class=&quot;dv&quot;&gt;+6&lt;/span&gt;*n&lt;span class=&quot;dv&quot;&gt;-6&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n))*y&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*q^&lt;span class=&quot;dv&quot;&gt;2-6&lt;/span&gt;*n*q&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*n^&lt;span class=&quot;dv&quot;&gt;2+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)*K+(-&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*q&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*n&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n))*
&lt;span class=&quot;st&quot;&gt;      &lt;/span&gt;y^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;+(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*q^&lt;span class=&quot;dv&quot;&gt;2+6&lt;/span&gt;*n*q&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*n^&lt;span class=&quot;dv&quot;&gt;2-3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)*y-q^&lt;span class=&quot;dv&quot;&gt;3-3&lt;/span&gt;*n*q^&lt;span class=&quot;dv&quot;&gt;2-3&lt;/span&gt;*n^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*q-n^&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;+&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,q-n)^&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)/(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*K*(q+n-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(q-n, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)))
  } else if(n ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    h &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;q
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;((&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*x^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;+(&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;*m&lt;span class=&quot;dv&quot;&gt;-6&lt;/span&gt;*h)*x&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*m^&lt;span class=&quot;dv&quot;&gt;2-6&lt;/span&gt;*h*m&lt;span class=&quot;dv&quot;&gt;+6&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*h&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)*K-x^&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;+(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*h&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*m)*x^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;+
&lt;span class=&quot;st&quot;&gt;      &lt;/span&gt;(-&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*m^&lt;span class=&quot;dv&quot;&gt;2+6&lt;/span&gt;*h*m&lt;span class=&quot;dv&quot;&gt;-3&lt;/span&gt;*h^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)*x-m^&lt;span class=&quot;dv&quot;&gt;3+3&lt;/span&gt;*h*m^&lt;span class=&quot;dv&quot;&gt;2-3&lt;/span&gt;*h^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*m&lt;span class=&quot;dv&quot;&gt;+3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)*h^&lt;span class=&quot;dv&quot;&gt;2-3&lt;/span&gt;*&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*h+&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,x-m)^&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)/(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*K*(x+m-&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x-m, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)))
  } else if (m ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; &amp;amp;&amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    S &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;q, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S/K) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S
  } else {
    &lt;span class=&quot;kw&quot;&gt;stop&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;distribution widths cannot be negative&amp;quot;&lt;/span&gt;)
  }
  &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(out,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
}
&amp;lt;environment:&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;namespace:pdgControl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can compare timing and equivalence of these two expressions:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(cubature)
&lt;span class=&quot;co&quot;&gt;# Confirm that these give the same value, and time performance&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;system.time&lt;/span&gt;(a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;int_f&lt;/span&gt;(f, x, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, 
    pars)))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;   user  system elapsed 
  7.444   0.000   7.394 &lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;system.time&lt;/span&gt;(b &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;F&lt;/span&gt;(x, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, pars)))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;   user  system elapsed 
  0.012   0.000   0.015 &lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; x_grid, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; a, &lt;span class=&quot;dt&quot;&gt;b =&lt;/span&gt; b)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, a), 
    &lt;span class=&quot;dt&quot;&gt;col =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, b), &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8443/7986666475_3fce0b9e96_o.png&quot; alt=&quot;plot of chunk unnamed-chunk-6&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-6&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Note that as the uncertainy gets small, we recover the original transition probability &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt;:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;F&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, pars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 67.01&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;F&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1e-04&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;1e-04&lt;/span&gt;, pars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 70.84&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, pars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 70.84&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When the noise width is much smaller than the bin width we may have trouble, particularly with the uniform distribution, since part of the bin corresponds to zero density, part to high density.&lt;/p&gt;
&lt;h2 id=&quot;numerical-implementation&quot;&gt;Numerical implementation&lt;/h2&gt;
&lt;p&gt;We consider a profits from fishing to be a function of harvest &lt;code&gt;h&lt;/code&gt; and stock size &lt;code&gt;x&lt;/code&gt;, &lt;img src=&quot;http://latex.codecogs.com/png.latex?(x,h) = h - ( c_0 + c_1  )\inline&quot;/&gt;, conditioned on &lt;img src=&quot;http://latex.codecogs.com/png.latex?h &amp;gt; x\inline&quot;/&gt; and &lt;img src=&quot;http://latex.codecogs.com/png.latex?x &amp;gt; 0\inline&quot;/&gt;,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;price &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
c0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
c1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price =&lt;/span&gt; price, &lt;span class=&quot;dt&quot;&gt;c0 =&lt;/span&gt; c0, &lt;span class=&quot;dt&quot;&gt;c1 =&lt;/span&gt; c1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with price = &lt;code&gt;1&lt;/code&gt;, &lt;code&gt;c0&lt;/code&gt; = &lt;code&gt;0&lt;/code&gt; and &lt;code&gt;c1&lt;/code&gt; = &lt;code&gt;0&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Additional parameters&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;delta &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;
xT &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
OptTime &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;
sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The uniform distribution must be careful for noise sizes smaller than binwidth&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;pdfn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(P, s) &lt;span class=&quot;kw&quot;&gt;dunif&lt;/span&gt;(P, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;s, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;s)
&lt;span class=&quot;co&quot;&gt;# pdfn &amp;lt;- function(P, s) dlnorm(P, 0, s)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will determine the optimal solution over a &lt;code&gt;25&lt;/code&gt; time step window with boundary condition for stock at &lt;code&gt;0&lt;/code&gt; and discounting rate of &lt;code&gt;0.05&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id=&quot;scenarios&quot;&gt;Scenarios:&lt;/h1&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sdp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;SDP_uniform&lt;/span&gt;(f, pars, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;sigma_g =&lt;/span&gt; sigma_g, pdfn, 
    &lt;span class=&quot;dt&quot;&gt;sigma_m =&lt;/span&gt; sigma_m, &lt;span class=&quot;dt&quot;&gt;sigma_i =&lt;/span&gt; sigma_i, F)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;uniform &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(sdp, x_grid, h_grid, OptTime, xT, profit, 
    delta, &lt;span class=&quot;dt&quot;&gt;reward =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Do the deterministic exactly,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;determine_SDP_matrix&lt;/span&gt;(f, pars, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;sigma_g =&lt;/span&gt; sigma_g, 
    pdfn)
det &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, profit, 
    delta, &lt;span class=&quot;dt&quot;&gt;reward =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Determine the policies for each of the scenarios (noise combinations).&lt;/p&gt;
&lt;h3 id=&quot;plots&quot;&gt;plots&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
&lt;span class=&quot;co&quot;&gt;# policy &amp;lt;- melt(data.frame(stock = x_grid, deterministic=det$D[,1],&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# uniform = uniform$D[,1], mc=opt$D[,1]), id = &amp;#39;stock&amp;#39;)&lt;/span&gt;
policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;stock =&lt;/span&gt; x_grid, &lt;span class=&quot;dt&quot;&gt;deterministic =&lt;/span&gt; det$D[, 
    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;uniform =&lt;/span&gt; uniform$D[, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]), &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;)

&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policy) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_jitter&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, stock -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid[value], &lt;span class=&quot;dt&quot;&gt;color =&lt;/span&gt; variable), 
    &lt;span class=&quot;dt&quot;&gt;shape =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;+&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8456/7986667113_28574bc620_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(policy, stock &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;140&lt;/span&gt;)
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat)
linear &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[, &lt;span class=&quot;kw&quot;&gt;approx&lt;/span&gt;(stock, stock -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid[value], &lt;span class=&quot;dt&quot;&gt;xout =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
    &lt;span class=&quot;dv&quot;&gt;150&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;)), by =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;variable]
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(linear) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_smooth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(x, y, &lt;span class=&quot;dt&quot;&gt;color =&lt;/span&gt; variable), &lt;span class=&quot;dt&quot;&gt;degree =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;se =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;span =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.3&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xlab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Measured Stock&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Optimal Expected Escapement&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8031/7986675144_095fd50f94_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/09/12/notes.html"/>
   <updated>2012-09-12T00:00:00-07:00</updated>
   <id>h/2012/09/12/notes</id>
   <content type="html">&lt;p&gt;{% octokit_commits pdg_control%}&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Esa Changes Arxiv Policy Following Community Comments</title>
   <link href="/2012/09/05/ESA-changes-ArXiv-policy-following-community-comments.html"/>
   <updated>2012-09-05T00:00:00-07:00</updated>
   <id>h/2012/09/05/ESA-changes-ArXiv-policy-following-community-comments</id>
   <content type="html">&lt;p&gt;Earlier today, Scott Collins, the president of the Ecological Society of America has &lt;a href=&quot;https://twitter.com/ESA_Prez2013/status/243335363693797376&quot;&gt;announced&lt;/a&gt; that the society will now accept articles that have previously been posted on preprint servers. This comes on the heels of a growing discussion in our community. Ethan White has a good summary over on &lt;a href=&quot;http://jabberwocky.weecology.org/2012/09/05/esa-journals-will-now-allow-papers-with-preprints/&quot;&gt;Jabberwocky Ecology&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Many voices have joined the discussion over the past month, and it is exciting and vindicating to see the Society engage and discuss these questions. With this announcement out, I thought I might share my original letter. Here’s the text of an email I sent on August 1st to Don Strong, editor-in-chief of Ecology and a friend to open science known for his bottom-up view that ecologists should show their publication preferences by their actions. Don kindly forwarded this email to other members of the board.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dear Don,&lt;/p&gt;
&lt;p&gt;Perhaps you have already seen the perspective appearing in Nature this week, “&lt;a href=&quot;http://www.nature.com/news/geneticists-eye-the-potential-of-arxiv-1.11091&quot;&gt;Geneticists eye the potential of Arxiv&lt;/a&gt;.” I must say it is particularly saddening to see the Ecological Society of America being singled out in the discussion as a professional society that opposes pre-prints, particularly given that ESA is not beholden to corporate publishers, and in the face a rising swell of interest in pre-print server capacity, as evidenced by the Nature article (which quotes our own Graham Coop), the emergence of an NCEAS working group to bring about a preprint server, and the extensive online discussions about ESA’s stance against pre-prints which was no doubt responsible for bringing ESA into the negative limelight of this perspective.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;The &lt;a href=&quot;http://jabberwocky.weecology.org/2012/07/18/esa-journals-do-not-allow-papers-with-preprints/&quot;&gt;discussion launched by Professor Ethan White&lt;/a&gt; on his blog suggests that ESA has in fact only recently removed a clause in the policies explicitly permitting the use of the arXiv. Meanwhile members of the &lt;a href=&quot;http://www.nceas.ucsb.edu/projects/12651&quot;&gt;NCEAS working group&lt;/a&gt; had considered approaching ESA to partner in their efforts to bring about a preprint server and culture, hoping to take advantage of the agility ESA has as a respected and independent society publisher. Ecology as a field has been a leading example of pushing for innovative and open publishing practices such as mandatory data archiving, and ESA has led this front for decades with innovations such as Ecological Archives and more recent Ecosphere. It shames me to see our society and our field painted as a backwater of regressive policies in such prominent magazines when even journals such as Nature, Science, &amp;amp; PNAS permit and encourage the use of preprint servers such as the arXiv. I would hate to see our most innovative research migrate away from the Society at a time when ESA could be leading our field through this academic publishing transition that is now discussed broadly in the NY Times, Guardian, Economist, &amp;amp; USA Today. This is a chance for the Ecological Society to both lead and flourish.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;I hope that these issues can be discussed in some fashion with the input of our community at the annual meeting in Portland. The British Ecological Society already plans to use the meeting to discuss a digital future of their journals, surely ESA will be doing as much at it’s own meeting, formally or informally?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Thank you for your time and consideration. Please let me know if there is anything I can do to help.&lt;/p&gt;
&lt;p&gt;Cheers,&lt;/p&gt;
&lt;p&gt;Carl&lt;/p&gt;
&lt;/blockquote&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/09/04/notes.html"/>
   <updated>2012-09-04T00:00:00-07:00</updated>
   <id>h/2012/09/04/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Fallacy paper done&lt;/li&gt;
&lt;li&gt;Dissertation filing&lt;/li&gt;
&lt;li&gt;Decision theory from the ROC curve.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Working group paper&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jim/Mike paper&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wrightscape paper?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Signature page two copies, archival paper?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;ropensci emails: Position paper: Goals&lt;/li&gt;
&lt;li&gt;&lt;p&gt;misc emails&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;fallacy-paper-finalizing-appendices&quot;&gt;Fallacy paper finalizing appendices&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Commit images and runs from yesterday (ibm simulation still running…)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;clean up appendix code&lt;/li&gt;
&lt;li&gt;&lt;p&gt;clean up appendix text&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-tricks-for-today&quot;&gt;Code tricks for today&lt;/h2&gt;
&lt;p&gt;vim set sytnax language, useful for getting R highlighting in &lt;code&gt;.Rmd&lt;/code&gt; files: &lt;code&gt;setf r&lt;/code&gt;, or equivalently, &lt;code&gt;set filetype=r&lt;/code&gt; (must be lowercase r). &lt;code&gt;set filetype&lt;/code&gt; with no argument gives the current filetype.&lt;/p&gt;
&lt;h3 id=&quot;coding&quot;&gt;Coding&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;
cboettig pushed to master at cboettig/labnotebook: &lt;em&gt;note on knitictations page about more recent changes fixing file names to avoid URL forbidden characters remove ampersands in titles&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/labnotebook/compare/4bf8b20420...83d294c33d&quot;&gt;07:11 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig commented on issue cboettig/knitcitations#31: &lt;em&gt;Ah, thanks for clarifying. That example is slightly outdated actually. See how this citation renders in the current version by checking out the REA…&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/knitcitations/issues/31#issuecomment-15414211&quot;&gt;06:53 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig commented on issue cboettig/labnotebook#74: &lt;em&gt;Implementation: https://github.com/cboettig/labnotebook/blob/4bf8b20420da1efb1c9a94ec7bb12c7c768b68da/&lt;em&gt;plugins/jekyll-labnotebook-plugins/git&lt;/em&gt;modif…&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/74#issuecomment-15412922&quot;&gt;06:40 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig opened issue cboettig/labnotebook#74: &lt;em&gt;Get date modified automatically&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/74&quot;&gt;06:39 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig commented on issue cboettig/knitcitations#32: &lt;em&gt;Thanks for the feedback. Added this following the formatting you suggested in the most recent commit. Currently added only to parenthetical citatio…&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/knitcitations/issues/32#issuecomment-15411636&quot;&gt;06:26 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig pushed to master at cboettig/knitcitations: &lt;em&gt;Provide page range as an option, as requested in #32&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/knitcitations/compare/ecccbc5cf6...87913ad795&quot;&gt;06:25 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig commented on issue cboettig/knitcitations#32: &lt;em&gt;Thanks for the suggestion. Here’s two options for implementing this: I could on citep add something that works like this: citep(&amp;quot;10.1016/j.tpb.201…&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/knitcitations/issues/32#issuecomment-15409100&quot;&gt;05:48 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
cboettig pushed to master at cboettig/labnotebook: &lt;em&gt;added plugins for sha and modified date, closes #67 new posts&lt;/em&gt; &lt;a href=&quot;https://github.com/cboettig/labnotebook/compare/2be402415a...4bf8b20420&quot;&gt;05:16 2013/03/25&lt;/a&gt;
&lt;/li&gt;&lt;/ul&gt;


&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;&lt;li&gt;
Status and solutions for the world’s unassessed fisheries.: Science (New York, N.Y.) (2012). Volume: 338, Issue: 6106. Pages: 517-20. Christopher Costello, Daniel Ovando, Ray Hilborn, Steven D Gaines, Olivier Deschenes, Sarah E Lester et al. &lt;a href=&quot;http://www.mendeley.comhttp://www.mendeley.com/c/5582059324/g/634301/costello-2012-status-and-solutions-for-the-worlds-unassessed-fisheries/&quot;&gt;03:49 2013/02/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
Decision Accuracy and the Role of Spatial Interaction in Opinion Dynamics: Journal of Statistical Physics (2013). Colin J. Torney, Simon a. Levin, Iain D. Couzin et al. &lt;a href=&quot;http://www.mendeley.comhttp://www.mendeley.com/c/5582059314/g/634301/torney-2013-decision-accuracy-and-the-role-of-spatial-interaction-in-opinion-dynamics/&quot;&gt;03:47 2013/02/25&lt;/a&gt;
&lt;/li&gt;&lt;li&gt;
A systematic review of mathematical models of mosquito-borne pathogen transmission: 1970-2010: Journal of The Royal Society Interface (2013). Volume: 10, Issue: 81. Pages: 20120921-20120921. Robert C Reiner, T Alex Perkins, Christopher M Barker, Tianchan Niu, Luis Fernando Chaves, Alicia M Ellis, Dylan B George, A. Le Menach, Juliet R C Pulliam, Donal Bisanzio, C. Buckee, Christinah Chiyaka, Derek A T Cummings, Andres J Garcia, Michelle L Gatton, P. W. Gething, David M Hartley, Geoffrey Johnston, Eili Y Klein, Edwin Michael, Steven W Lindsay, A. L. Lloyd, David M Pigott, William K Reisen, Nick Ruktanonchai, Brajendra K Singh, A. J. Tatem, Uriel Kitron, Simon I Hay, Thomas W Scott, David L Smith et al. &lt;a href=&quot;http://www.mendeley.com/research/mosquitoborne-pathogen-transmission-1970-2010-a-systematic-review-of-mathematical-models-of-mosqui/&quot;&gt;03:18 2013/02/25&lt;/a&gt;
&lt;/li&gt;&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Santa Cruz Postdoc</title>
   <link href="/2012/08/29/Santa-Cruz-Postdoc.html"/>
   <updated>2012-08-29T00:00:00-07:00</updated>
   <id>h/2012/08/29/Santa-Cruz-Postdoc</id>
   <content type="html">&lt;p&gt;Spent Monday and Tuesday visiting Santa Cruz, where I have recently accepted a post-doctoral position with &lt;a href=&quot;http://www.somas.stonybrook.edu/people/munch.html&quot;&gt;Steve Munch&lt;/a&gt;, &lt;a href=&quot;http://users.soe.ucsc.edu/~msmangel/&quot;&gt;Marc Mangel&lt;/a&gt;, and &lt;a href=&quot;http://swfsc.noaa.gov/staff.aspx?id=689&quot;&gt;Alec MacCall&lt;/a&gt;. I will be based primarily at the National Marine Fisheries Service building, here: ` &lt;img src=&quot;https://lh4.googleusercontent.com/-hOqjhixOLYA/UD5hoCJu7LI/AAAAAAAACLc/JitBtQAjADg/s1158/2012-08-28_14-53-14_598.jpg&quot; alt=&quot;A view of my new office: NMFS&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Five fantastic years of graduate school are coming to an end: I will start officially later this fall, where I will&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;join an exciting team of ecologists and applied mathematicians who work collaboratively on cutting-edge problems in ecological and evolutionary modeling through the &lt;a href=&quot;http://www.soe.ucsc.edu/~msmangel/CSTAR.html&quot;&gt;Center for Stock Assessment Research&lt;/a&gt;. I will work with us to develop non-parametric approaches to ecosystem-based management based on semi-parametric Bayesian methods for nonlinear time-series modeling …&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;or so the job description goes. I am looking forward to it.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/08/23/notes.html"/>
   <updated>2012-08-23T00:00:00-07:00</updated>
   <id>h/2012/08/23/notes</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/issues/5&quot;&gt;Fallacy with May model runs&lt;/a&gt;&lt;/p&gt;
&lt;div&gt;
&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1} = X_t \exp\left( r \left(1 - \frac{ X_t }{ K } \right) - \frac{ a * X_t ^ {Q - 1} }{s ^ Q + H ^ Q} \right)&quot; alt=&quot;X_{t+1} = X_t \exp\left( r \left(1 - \frac{ X_t }{ K } \right) - \frac{ a * X_t ^ {Q - 1} }{s ^ Q + H ^ Q} \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;
&lt;/div&gt;


&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8435/7846795570_87ac2e71fd_o.png&quot; alt=&quot;plot of chunk figure2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk figure2&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Working on unmanaged warning. (see &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/21&quot;&gt;#21&lt;/a&gt;)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals In Management</title>
   <link href="/2012/08/22/warning-signals-in-management.html"/>
   <updated>2012-08-22T00:00:00-07:00</updated>
   <id>h/2012/08/22/warning-signals-in-management</id>
   <content type="html">&lt;p&gt;Tour of existing files (version stable links)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e6aaf0ba27e4280cbbb04d5ecfeb9b18f158ca77/inst/examples/managed_warning.md&quot;&gt;managed warning&lt;/a&gt; is the current direct test of this, but needs decently ranged input example where detection has a good chance to succeed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e6aaf0ba27e4280cbbb04d5ecfeb9b18f158ca77/inst/examples/criticaltransition.md&quot;&gt;criticaltransition&lt;/a&gt; Statistics across replicate crashes that don’t show much promise for detection.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A heuristic implementation in response to the detection of a signal might use a simple rule like a fraction of the optimal harvest of a stable system. &lt;a href=&quot;&quot;&gt;cautious.md&lt;/a&gt; simply shows the economic cost associated with this fractional harvest.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e6aaf0ba27e4280cbbb04d5ecfeb9b18f158ca77/inst/examples/resilience_assessment.Rmd&quot;&gt;resilience_assessment&lt;/a&gt; not run&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also compare to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e6aaf0ba27e4280cbbb04d5ecfeb9b18f158ca77/inst/examples/stability.md&quot;&gt;Stability assessment&lt;/a&gt;, estimating coefficient &lt;img src=&quot;http://latex.codecogs.com/png.latex?\inline&quot;/&gt;; surprisingly difficult to distinguish the fished from the unfished by this metric.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Revisions on Prosecutors Fallacy</title>
   <link href="/2012/08/22/notes.html"/>
   <updated>2012-08-22T00:00:00-07:00</updated>
   <id>h/2012/08/22/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Email Alan re: Prosecutor’s fallacy manuscript. Schedule meeting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Proof corrections for rfishbase manuscript. Done.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fallacy simulations: calibration range for May model: expect small fraction of runs to transition by chance from stable state.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here we’re getting a bit less than 2% chance transitions in 5000 steps.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&amp;gt;&lt;span class=&quot;st&quot;&gt;   &lt;/span&gt;sn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
+&lt;span class=&quot;st&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, function(rep){
  +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;vector&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;mode=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;double&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;n)
  +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# positive equilibrium&lt;/span&gt;
  +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;z &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(n, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
  +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;r =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;75&lt;/span&gt;; k =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;; a=&lt;span class=&quot;fl&quot;&gt;1.55&lt;/span&gt;; H=&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;; Q =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;
  +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;for(t in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n){
    +&lt;span class=&quot;st&quot;&gt;       &lt;/span&gt;x[t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;z[t] *&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;x[t] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(r *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[t] /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;k) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[t] ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(Q -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(x[t] ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Q +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;H ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Q)) 
    +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;}
    +&lt;span class=&quot;st&quot;&gt;     &lt;/span&gt;x
    +&lt;span class=&quot;st&quot;&gt;   &lt;/span&gt;})
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;crashed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which&lt;/span&gt;(sn[n,] &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(crashed)/&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.017&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;n
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Fallacy simulation analysis running on farm using May model. &lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/prosecutor/inst/examples/fallacy.Rmd&quot;&gt;See fallacy.Rmd, prosecutor branch&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rerun using different point to indicate transition. Tracking runs on &lt;a href=&quot;https://github.com/cboettig/earlywarning/issues/5&quot;&gt;Issue 5&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;add figure plotting b and d curves, or at least b-d curve. Likewise for May model.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/emhart/ImpacTwit/issues/2&quot;&gt;Exploring&lt;/a&gt; twitteR finding publications under discussion&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Migrated labnotebook plugins to &lt;a href=&quot;https://github.com/cboettig/jekyll-labnotebook-plugins&quot;&gt;separate repository&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated vimrc to preview pandoc:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;map \md : call PreviewMarkdown()&amp;lt;CR&amp;gt;
func! PreviewMarkdown()
exec &amp;quot;w&amp;quot;
exec &amp;quot;! pandoc -s % -o .temp.html&amp;quot;
exec &amp;quot;! google-chrome .temp.html&amp;quot;
endfunc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Should add css templates from my notebook or github.&lt;br /&gt;Could also parse with github’s own API instead of pandoc, e.g. with ruby:&lt;/p&gt;
&lt;pre class=&quot;sourceCode ruby&quot;&gt;&lt;code class=&quot;sourceCode ruby&quot;&gt;&lt;span class=&quot;kw&quot;&gt;#!/usr/bin/env ruby&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;# Example usage &lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# ./render_gfm.rb input.md &amp;gt; output.html&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# &lt;/span&gt;

require &lt;span class=&quot;st&quot;&gt;&amp;#39;octokit&amp;#39;&lt;/span&gt;
puts &lt;span class=&quot;dt&quot;&gt;Octokit&lt;/span&gt;.markdown(&lt;span class=&quot;dt&quot;&gt;File&lt;/span&gt;.read(&lt;span class=&quot;dt&quot;&gt;ARGV&lt;/span&gt;.first))&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;twitteR authentication keys configured in .Rprofile&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Pdg Control Updates</title>
   <link href="/2012/08/21/pdg-control-updates.html"/>
   <updated>2012-08-21T00:00:00-07:00</updated>
   <id>h/2012/08/21/pdg-control-updates</id>
   <content type="html">&lt;h2 id=&quot;resolving-s-d&quot;&gt;Resolving S &amp;lt; D&lt;/h2&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/pengwynn/octokit/issues/127&quot;&gt;octokit&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Macksamie, K., Cockburn, J., &amp;amp; Wagner, J. (2012). Robust control amidst stock and flow benefits: The case of wolf-elk-hunting dynamics in the US Mountain West. 2012 AERE Summer Conference, Asheville, NC (pp. 1–33). Retrieved from http://www.webmeets.com/files/papers/AERE/2012/3/AEREConfPaper05172012.pdf&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;The Linear parameter varying (LPV) approach which allows this problem to leverage a standard LMI (linear matrix inequality) solver seeems like a clever route, but unclear if this would be restricted to the additive noise models such as they consider?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Some background on LPV:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Becker, G., &amp;amp; Packard, A. (1994). Robust performance of linear parametrically varying systems using parametrically-dependent linear feedback. Systems &amp;amp; Control Letters, 23(3), 205–215. doi:10.1016/0167-6911(94)90006-X&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brock, W. a., &amp;amp; Durlauf, S. N. (2005). Local robustness analysis: Theory and application. Journal of Economic Dynamics and Control, 29(11), 2067–2092. doi:10.1016/j.jedc.2005.06.001&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An interesting example handling Knightian uncertainty about the model directly:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Athanassoglou, S., &amp;amp; Xepapadeas, A. (2012). Pollution control with uncertain stock dynamics: When, and how, to be precautious. Journal of Environmental Economics and Management, 63(3), 304–320. doi:10.1016/j.jeem.2011.11.001&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/08/20/notes.html"/>
   <updated>2012-08-20T00:00:00-07:00</updated>
   <id>h/2012/08/20/notes</id>
   <content type="html">&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Draft outline of &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/doc/policycosts&quot;&gt;policy costs paper&lt;/a&gt; sent to Paul.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ropensci &lt;a href=&quot;https://github.com/ropensci/docs/blob/master/nceas/nceas_working_group_proposal.md&quot;&gt;NCEAS proposal&lt;/a&gt; - contacts&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MEE supplement follow-up: Wow, MEE promotes &lt;a href=&quot;http://www.methodsinecologyandevolution.org/view/0/podcasts.html&quot;&gt;video podcasts along with publications&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://blog.rstudio.org/2012/08/20/welcome-hadley-winston-and-garrett/&quot;&gt;Hadley to join RStudio&lt;/a&gt; full time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://gist.github.com/3379144&quot;&gt;A gist by Hadley on storing things like API keys across R packages&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Joined &lt;a href=&quot;http://segate.sunet.se/cgi-bin/wa&quot;&gt;fisheries-science mailing list&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;h3 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://afs.confex.com/afs/2012/webprogram/Paper9299.html&quot;&gt;Critical transitions at Amer Fisheries Society&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ives, A., &amp;amp; Dakos, V. (2012). Detecting dynamical changes in nonlinear time series using locally linear state-space models. Ecosphere, 3(June). Retrieved from http://www.esajournals.org/doi/abs/10.1890/ES11-00347.1&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Feng, J., Dakos, V., &amp;amp; van Nes, E. H. (2012). Does predator interference cause alternative stable states in multispecies communities? Theoretical population biology. doi:10.1016/j.tpb.2012.06.003&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Katz, R. W., Brush, G. S., &amp;amp; Parlange, M. B. (2005). Statistics of Extremes : Modeling Ecological Disturbances, 86(5), 1124–1134.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;more-abc-methods-in-evolution&quot;&gt;More ABC methods in Evolution&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Kutsukake, N., &amp;amp; Innan, H. (2012). Simulation-Based Likelihood Approach for Evolutionary Models of Phenotypic Traits on Phylogeny. Evolution, (1), no–no. doi:10.1111/j.1558-5646.2012.01775.x&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;methods&quot;&gt;Methods&lt;/h3&gt;
&lt;p&gt;Might be a good paper for algorithms group to read.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wu, X., Kumar, V., Ross Quinlan, J., Ghosh, J., Yang, Q., Motoda, H., McLachlan, G. J., et al. (2007). Top 10 algorithms in data mining. Knowledge and Information Systems (Vol. 14, pp. 1–37). doi:10.1007/s10115-007-0114-2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And a good one for theory tea?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;De Boer, R. J. (2012). Which of Our Modeling Predictions Are Robust? (R. Antia, Ed.)PLoS Computational Biology, 8(7), e1002593. doi:10.1371/journal.pcbi.1002593&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;papers-following-up-from-esa&quot;&gt;Papers following up from ESA&lt;/h3&gt;
&lt;p&gt;Regime shifts in disease models&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Chaves, L. F., Hashizume, M., Satake, A., &amp;amp; Minakawa, N. (2012). Regime shifts and heterogeneous trends in malaria time series from Western Kenya Highlands. Parasitology, 139(1), 14–25. doi:10.1017/S0031182011001685&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Davies, T. D., &amp;amp; Baum, J. K. (2012). Extinction Risk and Overfishing: Reconciling Conservation and Fisheries Perspectives on the Status of Marine Fishes. Scientific Reports, 2, 1–9. doi:10.1038/srep00561&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fries, R. S. D., Chapin, F. S., &amp;amp; Syvitski, J. (2012). Planetary Opportunities: A Social Contract for Global Change Science to Contribute to a Sustainable Future. BioScience, 62(6), 603–606. doi:10.1525/bio.2012.62.6.11&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shelton, a. O., &amp;amp; Mangel, M. (2011). Reply to Sugihara et al: The biology of variability in fish populations. Proceedings of the National Academy of Sciences, 108(48), E1226–E1226. doi:10.1073/pnas.1115765108&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shelton, A., Dick, E., &amp;amp; Pearson, D. (2012). species composition and quantifying uncertainty in multispecies fisheries: hierarchical Bayesian models for stratified sampling protocols with missing data. … Journal of Fisheries …, 246(5007), 231–246. doi:10.1139/F2011-152&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shelton, A. O., &amp;amp; Mangel, M. (2011). Fluctuations of fish populations and the magnifying effects of fishing. Proceedings of the National Academy of Sciences of the United States of America, 108(17), 7075–80. doi:10.1073/pnas.1100334108&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Esa 2012 Conference</title>
   <link href="/2012/08/10/ESA-2012-Conference.html"/>
   <updated>2012-08-10T00:00:00-07:00</updated>
   <id>h/2012/08/10/ESA-2012-Conference</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;/assets/files/ESA2012_cboettig_schedule.pdf&quot;&gt;My Schedule&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Meetings/discussion with Don Strong, Tony Ives, Marten Scheffer, Justin Yeakel, Karen Abbott, Jarrett Byrnes, Christopher Lortie.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Check in with Paul Armsworth on working group&lt;/li&gt;
&lt;li&gt;rOpenSci tutorial session (below)&lt;/li&gt;
&lt;li&gt;tweetup&lt;/li&gt;
&lt;li&gt;My contributed talk (below)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci-tutorial-thursday&quot;&gt;rOpenSci tutorial, Thursday&lt;/h2&gt;
&lt;p&gt;A year out from our launch at ESA last year, we presented an introduction and tutorial on rOpenSci. Slides and links to more information are all available at &lt;a href=&quot;http://esa.ropensci.org&quot;&gt;esa.ropensci.org&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;slides-from-my-talk-friday&quot;&gt;Slides from my talk, Friday&lt;/h2&gt;
&lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/13962709?hostedIn=slideshare&amp;page=upload&quot; width=&quot;476&quot; height=&quot;400&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;


&lt;h2 id=&quot;twitter-notes-generated-from-r&quot;&gt;Twitter Notes (generated from R)&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(twitteR)
hashtag &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;#ESA2012&amp;quot;&lt;/span&gt;
user &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;cboettig&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Generate a list of a user’s conference tweets&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;tweets &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;twListToDF&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;userTimeline&lt;/span&gt;(user, &lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;))
tagged &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(hashtag, tweets$text, &lt;span class=&quot;dt&quot;&gt;ignore.case =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Write to file, making links appear as links&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;text &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tweets$text[tagged]
text &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(@[A-Za-z0-9_]+)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;lt;a href=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;http://twitter.com/&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;lt;/a&amp;gt;&amp;quot;&lt;/span&gt;, 
    text)
text&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;my-twitter-notes&quot;&gt;My twitter notes&lt;/h3&gt;
&lt;p&gt;[1] “.&lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; uses GAMM for species response from time since fire, interval, intensity, etc, then solves SDP for optimal policy #esa2012”&lt;br /&gt; [2] “.&lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; optimizes distrib of time since fire to maximize geom mean of biodiversity - better than arithmetic or shannon. #esa2012”&lt;br /&gt; [3] “.&lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; on optimal fire histories for conserving biodiversity #esa2012 w/ amazing images from down under”&lt;br /&gt; [4] “Armsworth’s analysis in eco let http://t.co/w5W8Ubsa #esa2012”&lt;br /&gt; [5] “Armswortth shows paying farmers for biodiversity gains is best when spatially targeted &amp;amp; worse with multispecies targets #esa2012”&lt;br /&gt; [6] “Fun at #esa2012 where a physics PhD student presents the experimental study testing the mathematical theories presented by the ecology PhD”&lt;br /&gt; [7] “Yet another Science paper described at #esa2012 resilience session: warning signals in yeast dynamics http://t.co/QRGwSH2x”&lt;br /&gt; [8] “Michael Pace shows early warning in zooplankton levels in lake ecosystem experiment. #esa2012 Why is cv=1 a special value?”&lt;br /&gt; [9] “David Seekell speaking on conditional #heteroskedacity as an early warning signal of sudden shifts #esa2012”&lt;br /&gt;[10] “See Will’s recent paper for correct link to Doak et al http://t.co/fVclkNM9 #esa2012 (link pdfs from homepages &amp;amp; help a tweep out!)”&lt;br /&gt;[11] “Notes that portfolio effect is inevitable, cites Dan Doak paper: http://t.co/3RDcyI8L need different null #esa2012”&lt;br /&gt;[12] “96% of returning CA salmon come from hatcheries #esa2012”&lt;br /&gt;[13] “Portfolio effects in salmon stocks: do fish manage risk better than bankers? Will Satterthwaite up now #esa2012”&lt;br /&gt;[14] “Alex Perkins examines impact of poor mixing in disease dynamics, draws analogy to #esa2012 mixers. Transmission is a very local process!”&lt;br /&gt;[15] “Learn how 2 get data &amp;amp; full text open access literature/metadata through R/#rstats w/ &lt;a href=\&quot;http://twitter.com/@ropensci\&quot;&gt;@ropensci&lt;/a&gt; 11:30a F150 http://t.co/zkifSTuU #esa2012”&lt;br /&gt;[16] “de Roos just showed how total biomass can increase with &lt;em&gt;increased&lt;/em&gt; mortality. #Wow. #esa2012”&lt;br /&gt;[17] “de Roos: asymmetry/differences in age/size responses (e.g. biomass production) leads to alternate stable states #esa2012”&lt;br /&gt;[18] “Andrre de Roos shows how ontogenetic assymetry (size structure) breaks basic pop dyn predictions #esa2012”&lt;br /&gt;[19] “Check out &lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; ’s talk at #esa2012 Friday (10:20a?) #notetoself”&lt;br /&gt;[20] “#esa2012 Come to the &lt;a href=\&quot;http://twitter.com/@nceas\&quot;&gt;@nceas&lt;/a&gt; &amp;amp; &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; mixer, 6:30 PM-8:00 PM, in conference center rm F150”&lt;br /&gt;[21] “In case you missed the talk or the links, see &lt;a href=\&quot;http://twitter.com/@jebyrnes\&quot;&gt;@jebyrnes&lt;/a&gt; slides online http://t.co/nCcrvAYE #esa2012”&lt;br /&gt;[22] “.&lt;a href=\&quot;http://twitter.com/@jebyrnes\&quot;&gt;@jebyrnes&lt;/a&gt; mentions Nielsen’s book on online #openscience. Also see his TED talk http://t.co/UkCYR7xV #esa2012”&lt;br /&gt;[23] “.&lt;a href=\&quot;http://twitter.com/@jebyrnes\&quot;&gt;@jebyrnes&lt;/a&gt; reminds us that we live in the 21st century. &amp;quot;Taking the science conversation online&amp;quot; #esa2012”&lt;br /&gt;[24] “Ruckelshaus &lt;a href=\&quot;http://twitter.com/@NatCapProject\&quot;&gt;@NatCapProject&lt;/a&gt; echoes Kareiva’s theme of collaborating with groups you don’t agree with: &amp;quot;I’m with stupid&amp;quot; #esa2012”&lt;br /&gt;[25] “Karevia: Best levers for change are private sector, not public. Don’t testify before congress, but before Walmart &amp;amp; DOW #esa2012”&lt;br /&gt;[26] “Karieva cites G. West on cities and creativity, possibly this paper: http://t.co/WBGJtLTl #esa2012”&lt;br /&gt;[27] “Karevia channels Sarah Palin: how’s that &amp;quot;hope-y change-y thing going?&amp;quot; #esa2012 need more than talking to congress about ecology”&lt;br /&gt;[28] “Olsen: problem isn’t information, it’s informatics (making sense of information) #esa2012”&lt;br /&gt;[29] “Olsen: cites Karevia, biggest problem is scientists cease to be good listeners. #esa2012 Buisnesses hire improv actors to learn this”&lt;br /&gt;[30] “Randy Olsen: scientists evolved from humans. Split was pretty recent. Still have vestiges of story-telling. Don’t lose them! #esa2012”&lt;br /&gt;[31] “Can find the room by the line going deep into the hallway RT &lt;a href=\&quot;http://twitter.com/@carlystrasser\&quot;&gt;@carlystrasser&lt;/a&gt;: .&lt;a href=\&quot;http://twitter.com/@se_hampton\&quot;&gt;@se_hampton&lt;/a&gt; is TEARING IT UP. join the fun A106 #ESA2012” [32] “to be accessible to reviewers RT &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt;: Ecological Monographs now requires data to be deposited prior to publication #esa2012”&lt;br /&gt;[33] “Ben Bolker on the need for off-the-shelf methods: not enough staticians for every ecologist to have a stats buddy 4 custom methods #esa2012”&lt;br /&gt;[34] “#esa2012 stats discussion: &amp;quot;all modeling is exploratory. If you think AIC confirms your hypothesis, you’re wrong&amp;quot;”&lt;br /&gt;[35] “Yeakel uses perturbations/return rate to estimate elasticity, more senstive to fun. form, see http://t.co/AX3ds7uR #esa2012 #mustread”&lt;br /&gt;[36] “Yeakel cites http://t.co/UYaDso0d on nonpar bayes, compares to generalized models #esa2012”&lt;br /&gt;[37] “Excellent #esa2012 session understand vs predict in modelling. Explores ecologist’s v of Breiman’s &amp;quot;Two Cultures&amp;quot; http://t.co/TIDL87hZ”&lt;br /&gt;[38] “Kellner: Multispecies modelling has biggest impact when including non-consumptive value http://t.co/lj3NN0Be #esa2012”&lt;br /&gt;[39] “Kellner presents rich model for multispecies management of fisheries, see http://t.co/fdopymKB #esa2012”&lt;br /&gt;[40] “Bobby describing disease modeling: humans are essentially widgets that eventually fail #esa2012”&lt;br /&gt;[41] “Not nearly enough room for the crowd outside Karen Abbott’s talk: what’s so special about alternative stable states? #esa2012”&lt;br /&gt;[42] “#esa2012 &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; panel live peer-review of audience-submitted ideas. Levin: &amp;quot;It should count: I view social science as subset of ecology&amp;quot;”&lt;br /&gt;[43] “Ray Hilborn &amp;quot;fisheries management is people management&amp;quot; need socio-econ context of ecology. &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; #esa2012”&lt;br /&gt;[44] “Molly discusses &amp;quot;most important number you’ve never heard of&amp;quot; - Social cost of carbon #esa2012 &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; ($25/ton is current est)”&lt;br /&gt;[45] “Lopez-Hoffman explores equitable water-rights that conserve ecosystem services, e.g. Colarado river use &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; #esa2012”&lt;br /&gt;[46] “Levin: cites common-pool resources example from African cattle http://t.co/j35iY3MO #esa2012”&lt;br /&gt;[47] “Simon Levin speaking &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; panel: polycentric appches to international agreements on enviro resources #esa2012”&lt;br /&gt;[48] “#esa2012 &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt; will focus on &amp;quot;wicked problems&amp;quot; (technical term) using theme-driven, interdisciplinary approaches”&lt;br /&gt;[49] “Excellent #esa2012 session intro 2 &lt;a href=\&quot;http://twitter.com/@sesync\&quot;&gt;@sesync&lt;/a&gt;: &amp;quot;if you’re familiar with &lt;a href=\&quot;http://twitter.com/@nceas\&quot;&gt;@nceas&lt;/a&gt;, you’re familiar w/ synthesis&amp;quot;. Now focus on socio-econ + uncert”&lt;br /&gt;[50] “#esa2012 &lt;a href=\&quot;http://twitter.com/@biocreativity\&quot;&gt;@biocreativity&lt;/a&gt; Speaking of art-science collab, don’t forget Dr. Scheffer’s &amp;quot;Critical Transitions, the Movie&amp;quot; http://t.co/2nM6RxL9”&lt;br /&gt;[51] “Lubchenco discusses NOAA’s effort to create climate services like their drought forecasting software: http://t.co/zSRN3Y2U #esa2012”&lt;br /&gt;[52] “Lubchenco’s Q&amp;amp;A brings with disclaimer about Hatch Act: she is speaking for the agency, not the campaign, and can’t answer some Q’s #esa2012”&lt;br /&gt;[53] “At #esa2011 plenary, Pacala encouraged us to spend some time on policy-rel issues. #esa2012 Lubchenco raises the bar: run for office!”&lt;br /&gt;[54] “For instance, to promote outreach, NOAA workers are encouraged to use social media, see their policy: http://t.co/SqSw6UeK #esa2012”&lt;br /&gt;[55] “Lubchenco trumpets success of Magnuson-Stevens Act of 2007 (http://t.co/bOqdasVT) as the policy which will end overfishing #esa2012”&lt;br /&gt;[56] “Lubchenco discusses examples of ecosystem thinking in policy such as the Ocean Policy Task Force: http://t.co/XeyAkQVc #ESA2012”&lt;br /&gt;[57] “#esa2012 Lubchenco on the challenge of scale across ecological, social + econ contexts: highlights DeFries 2012 http://t.co/NEU3AdiQ”&lt;br /&gt;[58] “Jane Lubchenco, opening plenary of #esa2012, dedicates her talk to economics Nobel Laureate Elinor Ostrom http://t.co/XZLEeUnQ”&lt;br /&gt;[59] “.&lt;a href=\&quot;http://twitter.com/@mickresearch\&quot;&gt;@mickresearch&lt;/a&gt; speaker ready rooms are D134 &amp;amp; F152 7a-7p, by reservation(?) (program pg 7). Looking forward to your talk btw #esa2012”&lt;br /&gt;[60] “#esa2012 is trying to facilitate networking for young scientists by labeling cocktail tables by sub-field during tonight’s reception”&lt;br /&gt;[61] “Off to Portland for #esa2012”&lt;/p&gt;
&lt;h3 id=&quot;mentions-at-conference-other-than-retweets&quot;&gt;Mentions at conference, (other than retweets)&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;mentions &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;twListToDF&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;searchTwitter&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;@&amp;quot;&lt;/span&gt;, user, &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), 
    &lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;300&lt;/span&gt;))
with_hashtag &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(hashtag, mentions$text, &lt;span class=&quot;dt&quot;&gt;ignore.case =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
rt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;RT&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;s&amp;quot;&lt;/span&gt;, mentions$text)
me_not_rt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;with_hashtag[!(with_hashtag %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;rt)]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, write the output&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;text2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;mentions$text[me_not_rt]
text2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(@[A-Za-z0-9_]+)&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;lt;a href=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;http://twitter.com/&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;lt;/a&amp;gt;&amp;quot;&lt;/span&gt;, 
    text2)
text2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “. &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; building cost of switching policies into models necessary &amp;amp; provide better outcomes that reduce costs of management #ESA2012”&lt;br /&gt; [2] “. &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; most optimal management strategies produce fluctuations that policy makers don’t like - we can model their dislike! #esa2012”&lt;br /&gt; [3] “.&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; enthusiastically uniting decision theory and resilience theory for management. Making math exciting! #esa2012”&lt;br /&gt; [4] “Go see &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; (Carl Boettiger’s) talk today in E143 at 920 - he gives a great engaging talk #esa2012”&lt;br /&gt; [5] “#FF #ESA2012 &lt;a href=\&quot;http://twitter.com/@DynamicEcology\&quot;&gt;@DynamicEcology&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@labroides\&quot;&gt;@labroides&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@qaecology\&quot;&gt;@qaecology&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@paulrehrlich\&quot;&gt;@paulrehrlich&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@tessafrancis\&quot;&gt;@tessafrancis&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@lizabio\&quot;&gt;@lizabio&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@gigi_rose\&quot;&gt;@gigi_rose&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@IngaPLaPuma\&quot;&gt;@IngaPLaPuma&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@sarcozona\&quot;&gt;@sarcozona&lt;/a&gt;” [6] “Awesome! MT &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;: Fun at #esa2012 where physics student presents experiment testing the mathematical theories presented by ecology PhD”&lt;br /&gt; [7] “.&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; says readme.txt is the best way to keep track of dataset versions. Can version control that on github #ESA2012”&lt;br /&gt; [8] “&lt;a href=\&quot;http://twitter.com/@jasonpriem\&quot;&gt;@jasonpriem&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; Don’t worry- you made an appearance earlier when &lt;a href=\&quot;http://twitter.com/@totalimpactdev\&quot;&gt;@totalimpactdev&lt;/a&gt; was discussed! #ESA2012”&lt;br /&gt; [9] “&lt;a href=\&quot;http://twitter.com/@carlystrasser\&quot;&gt;@carlystrasser&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; Sorry to be missing that! #ESA2012”&lt;br /&gt;[10] “We’ve reached the part of the workshop where .&lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; and &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; slamming MATLAB now… #ESA2012”&lt;br /&gt;[11] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; - let db managers know that you would use a repository + API to share your data with them - move ecology data forward #esa2012”&lt;br /&gt;[12] “.&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;: R is a pain to learn. &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt; packages and tools take advantage of your current knowledge base. #ESA2012”&lt;br /&gt;[13] “&lt;a href=\&quot;http://twitter.com/@ropensci\&quot;&gt;@ropensci&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;: scripting analyses makes science reproducible, repeatable, &amp;amp; creates an analytical workflow #esa2012”&lt;br /&gt;[14] “.&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; showing Michener’s Info Entropy Graph: more time passing means less remembered about data #ESA2012”&lt;br /&gt;[15] “&lt;a href=\&quot;http://twitter.com/@jacquelyngill\&quot;&gt;@jacquelyngill&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@treebiology\&quot;&gt;@treebiology&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@jenedavison\&quot;&gt;@jenedavison&lt;/a&gt; would you like to write about #ESA2012 for &lt;a href=\&quot;http://twitter.com/@Scitable\&quot;&gt;@Scitable&lt;/a&gt; http://t.co/tPzaPL2U”&lt;br /&gt;[16] “Fun #ESA2012 tweetup. Nice meeting you! &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@MiriamGoldste\&quot;&gt;@MiriamGoldste&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@SarahBisbing\&quot;&gt;@SarahBisbing&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@bonebraking\&quot;&gt;@bonebraking&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@JacquelynGill\&quot;&gt;@JacquelynGill&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@msanclem\&quot;&gt;@msanclem&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@edyong209\&quot;&gt;@edyong209&lt;/a&gt;”&lt;br /&gt;[17] “Check out &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;’s talk at #ESA2012 Friday 9:20 in E143. Unknown unknowns: management strategies under uncertainty &amp;amp; alt stable states”&lt;br /&gt;[18] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@luketkelly\&quot;&gt;@luketkelly&lt;/a&gt; is at 10:30 on Friday in E144 at #ESA2012. Optimal fire history for conserving biodiversity.”&lt;br /&gt;[19] “#ESA2012 tweetup was a great idea. Nice meeting you guys &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@MiriamGoldste\&quot;&gt;@MiriamGoldste&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@SarahBisbing\&quot;&gt;@SarahBisbing&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@bonebraking\&quot;&gt;@bonebraking&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@JacquelynGill\&quot;&gt;@JacquelynGill&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@msanclem\&quot;&gt;@msanclem&lt;/a&gt; and co”&lt;br /&gt;[20] “Rt &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; in case you missed the talk or the links, see &lt;a href=\&quot;http://twitter.com/@jebyrnes\&quot;&gt;@jebyrnes&lt;/a&gt; slides online http://t.co/cUiwTe23 #esa2012”&lt;br /&gt;[21] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@ropensci\&quot;&gt;@ropensci&lt;/a&gt; for all other journals too I mean. Why not share the data? #esa2012”&lt;br /&gt;[22] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@ropensci\&quot;&gt;@ropensci&lt;/a&gt; agreed. Or at least a subset of data for referees and the readership to access #esa2012”&lt;br /&gt;[23] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; which leads to the suggestion that we need stats mentors and editors in eeb. #esa2012”&lt;br /&gt;[24] “MT &lt;a href=\&quot;http://twitter.com/@forestdim\&quot;&gt;@forestdim&lt;/a&gt;: Inspired by &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; ’s stardom to tweet. Ppl mistaking me 4 &lt;a href=\&quot;http://twitter.com/@edyong209\&quot;&gt;@edyong209&lt;/a&gt;. Need 2 now ride the wave of false ID #ESA2012”&lt;br /&gt;[25] “Yay for Baysian stats! MT &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;: #esa2012 stats discussion: &amp;quot;If you think AIC confirms your hypothesis, you’re wrong&amp;quot;”&lt;br /&gt;[26] “Why code should be made avail: MT &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; Ben Bolker: not enuf staticians 4 each ecologst to have a stats buddy 4 custom methods #esa2012”&lt;br /&gt;[27] “Conversation at #esa2012 Hastings lab dinner: pole dancing at the 2016 Olympics? http://t.co/slpeBcNA &lt;a href=\&quot;http://twitter.com/@Dr_Bik\&quot;&gt;@Dr_Bik&lt;/a&gt; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt;”&lt;br /&gt;[28] “&lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; Thanks for the art-science tip! #ESA2012 #biocreativity &amp;quot;Critical Transitions, The Movie&amp;quot; TONIGHT Portland Blrm 251 8-10p”&lt;br /&gt;[29] “Let’s hear it for statistics! MT &lt;a href=\&quot;http://twitter.com/@ropensci\&quot;&gt;@ropensci&lt;/a&gt;: Check out &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt; developer talks: &lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; Tues 840a, F150 &amp;amp; &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; 920a, E143. #esa2012”&lt;br /&gt;[30] “Not on rOpenSci… MT &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt;: Check out talks by &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt; developers: &lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; Tues 8:40 am F150 - &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; 9:20 am E143 #esa2012”&lt;br /&gt;[31] “Check out talks by &lt;a href=\&quot;http://twitter.com/@rOpenSci\&quot;&gt;@rOpenSci&lt;/a&gt; developers: &lt;a href=\&quot;http://twitter.com/@_inundata\&quot;&gt;@_inundata&lt;/a&gt; Tues 8:40 am F150 - &lt;a href=\&quot;http://twitter.com/@cboettig\&quot;&gt;@cboettig&lt;/a&gt; 9:20 am E143 #esa2012”&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Deviations from S = D</title>
   <link href="/2012/07/30/notes.html"/>
   <updated>2012-07-30T00:00:00-07:00</updated>
   <id>h/2012/07/30/notes</id>
   <content type="html">&lt;h3 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h3&gt;
&lt;h4 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h4&gt;
&lt;p&gt;Exploring causes for deviation from &lt;code&gt;S = D&lt;/code&gt; in the Reed model: arises from self-sustaining assumption. Working out the interpretation of the self-sustaining clause, which sounds like it needs to ensure that the stock is non-decreasing in the absence of harvest,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(X_{t+1} \geq x  | X_n = x ) = 1&quot; alt=&quot;P(X_{t+1} \geq x  | X_n = x ) = 1&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This sounds like a very awkward condition to enforce for a non-trivial escapement level &lt;img src=&quot;http://latex.codecogs.com/png.latex?x = S\inline&quot;/&gt;. Why should the population be guarenteed to increase from it’s escapement population size?&lt;/p&gt;
&lt;p&gt;Given the definition&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1} = Z_t f(X_t)&quot; alt=&quot;X_{t+1} = Z_t f(X_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the condition that we have to have&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\operatorname{E}(Z_t f(X_t) ) = f(X_t)&quot; alt=&quot;\operatorname{E}(Z_t f(X_t) ) = f(X_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;that is, $ Z_t $ has to be mean unity, then some shocks must result in&lt;/p&gt;
&lt;p&gt;$ X_{t+1} f(X_t) $&lt;/p&gt;
&lt;p&gt;for any non-trivial &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z_t\inline&quot;/&gt;&lt;/span&gt;. So how do we enforce that these decreases do not violate the self-sustaining principle?&lt;br /&gt;It would seem to require at least that &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z_t\inline&quot;/&gt;&lt;/span&gt; is a function of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X\inline&quot;/&gt;&lt;/span&gt; as well?&lt;/p&gt;
&lt;p&gt;Reed seems to imply that this is a much more trivial requirement, such as stating only that &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x)\inline&quot;/&gt;&lt;/span&gt; is compensating density dependence (such as Beverton Holt), and not overcompensating (such as the discrete logistic).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/23&quot;&gt;Write a flat tex outline for policy costs&lt;/a&gt; (&lt;font color=&quot;#02e10c&quot;&gt;policy costs&lt;/font&gt;)
&lt;/li&gt;
&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/21&quot;&gt;Compare the probability of detection in managed and unmanaged models. &lt;/a&gt; (&lt;font color=\&quot;#02d7e1\&quot;&gt;resilience thinking&lt;/font&gt;)
&lt;/li&gt;
&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/20&quot;&gt;Confirm Reed S==D theorem, evaluate in Sethi context&lt;/a&gt; (&lt;font color=&quot;#0b02e1&quot;&gt;value of information&lt;/font&gt;) See notes below.
&lt;/li&gt;
&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/18&quot;&gt;Run scenarios with very low noise, instead of deterministic&lt;/a&gt; (&lt;font color=&quot;#0b02e1&quot;&gt;value of information&lt;/font&gt;), running for &lt;code&gt;uniform_logistic&lt;/code&gt; now
&lt;/li&gt;
&lt;li&gt; 
&lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/17&quot;&gt;Re-run bias table with measurement noise&lt;/a&gt; (&lt;font color=&quot;#0b02e1&quot;&gt;value of information&lt;/font&gt;). Done, compare against history.
&lt;/li&gt;
&lt;/ul&gt;


&lt;h3 id=&quot;other&quot;&gt;Other&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;PRSB review&lt;/li&gt;
&lt;li&gt;Send Hilmar the ropensci slides&lt;/li&gt;
&lt;li&gt;&lt;p&gt;treebase revisions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ecolab.ou.edu/?conferencedescription&quot;&gt;Conference possibility?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Substantially updated octokit plugin, see labnotebook &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/11&quot;&gt;issue #11&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Csgf Conference</title>
   <link href="/2012/07/27/CSGF-Conference.html"/>
   <updated>2012-07-27T00:00:00-07:00</updated>
   <id>h/2012/07/27/CSGF-Conference</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-4CHhNEHGoeo/UCLZOgy43GI/AAAAAAAAAa8/P2hgMdSR0Wg/s912/20120726_18_FellowsPosterSession_StevenChu%2520%252825%2529.jpg&quot;&gt;&lt;img src=&quot;https://lh5.googleusercontent.com/-4CHhNEHGoeo/UCLZOgy43GI/AAAAAAAAAa8/P2hgMdSR0Wg/s912/20120726_18_FellowsPosterSession_StevenChu%2520%252825%2529.jpg&quot; width=150px style=&quot;float:right; margin: 0 0 15px 15px;&quot; alt=&quot;Stephen-Chu&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.krellinst.org/csgf/conf/2012/agenda&quot;&gt;Conference Agenda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Alumni-organized &lt;a href=&quot;https://docs.google.com/open?id=1Jbm9xQTzNx_uYUWcWNzruv9068oXcsiZ1_YqaMT3ZJlELSe4EtfqWX5JYs2I&quot;&gt;Plus-One Day Agenda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Great chance to talk with US Secretary of the Department of Energy Stephen Chu&lt;/li&gt;
&lt;li&gt;Interesting leadership training session lead by improv acting professional Raquel Holmes of &lt;a href=&quot;http://www.improvscience.org/&quot;&gt;ImprovScience&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;video-recording-of-my-talk&quot;&gt;Video recording of my talk&lt;/h2&gt;
&lt;iframe width=&quot;420&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/xwIIVdyKe4o&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;


&lt;h2 id=&quot;slides&quot;&gt;Slides:&lt;/h2&gt;
&lt;object id=&quot;__sse13817733&quot; width=&quot;212&quot; height=&quot;178&quot;&gt;
&lt;param name=&quot;movie&quot; value=&quot;http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=boettiger-120731130512-phpapp02&amp;stripped_title=regime-shifts-in-ecology-and-evolution&amp;userName=cboettig&quot; /&gt;&lt;param name=&quot;allowFullScreen&quot; value=&quot;true&quot;/&gt;&lt;param name=&quot;allowScriptAccess&quot; value=&quot;always&quot;/&gt;&lt;param name=&quot;wmode&quot; value=&quot;transparent&quot;/&gt;
&lt;embed name=&quot;__sse13817733&quot; src=&quot;http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=boettiger-120731130512-phpapp02&amp;stripped_title=regime-shifts-in-ecology-and-evolution&amp;userName=cboettig&quot; type=&quot;application/x-shockwave-flash&quot; allowscriptaccess=&quot;always&quot; allowfullscreen=&quot;true&quot; wmode=&quot;transparent&quot; width=&quot;425&quot; height=&quot;355&quot;&gt;&lt;/embed&gt;&lt;/object&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/07/23/notes.html"/>
   <updated>2012-07-23T00:00:00-07:00</updated>
   <id>h/2012/07/23/notes</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Vasilis’s PLoS ONE warning signals methods out, listing different methods and announcing the earlywarings R package: &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0041010&quot;&gt;10.1371/journal.pone.0041010&lt;/a&gt;, and another comparing methods on some various data sets &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0038410&quot;&gt;10.1371/journal.pone.0038410&lt;/a&gt;, which (like Drake) advocates for a mixed method approach.&lt;/p&gt;
&lt;p&gt;Modeling extreme risks in ecology &lt;a href=&quot;http://dx.doi.org/10.1111/j.1539-6924.2012.01871.x&quot;&gt;10.1111/j.1539-6924.2012.01871.x&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Which is kinda like Richard Katz’s extreme value theory in ecology &lt;a href=&quot;http://www.jstor.org/stable/10.2307/3450873&quot;&gt;article&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=5423&amp;amp;WT.mc_id=USNSF_39&amp;amp;WT.mc_ev=click&quot;&gt;NSF call for Decision, Risk and Management Science&lt;/a&gt;, see &lt;a href=&quot;http://www.nsf.gov/awardsearch/progSearch.do?WT.si_n=ClickedAbstractsRecentAwards&amp;amp;WT.si_x=1&amp;amp;WT.si_cs=1&amp;amp;WT.z_pims_id=5423&amp;amp;SearchType=progSearch&amp;amp;page=2&amp;amp;QueryText=&amp;amp;ProgOrganization=&amp;amp;ProgOfficer=&amp;amp;ProgEleCode=1321&amp;amp;BooleanElement=true&amp;amp;ProgRefCode=&amp;amp;BooleanRef=true&amp;amp;ProgProgram=&amp;amp;ProgFoaCode=&amp;amp;RestrictActive=on&amp;amp;Search=Search#results&quot;&gt;previously funded examples&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;A paper in Eco Lett suggests model-guided field work &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2012.01836.x&quot;&gt;10.1111/j.1461-0248.2012.01836.x&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://disccrs.org/newsletter/2012_07_23_AsstProfUCDavis.pdf&quot;&gt;UC Davis postiion in enviro policy and governance&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;news&quot;&gt;News&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.usnews.com/news/articles/2012/07/23/is-the-academic-publishing-industry-on-the-verge-of-disruption&quot;&gt;Academic publishing issues get into US News and World Report&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.bis.gov.uk/news/topstories/2012/Jul/government-to-open-up-publicly-funded-research&quot;&gt;Britian to mandate open access&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.dataone.org/news/dataone-goes-live&quot;&gt;DataONE launch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://t.co/q4Okabfv&quot;&gt;Nice open science perspective from Titus Brown&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://t.co/PVhl0FtP&quot;&gt;Great progress&lt;/a&gt; from our ropensci student.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;github api as plugin for Jekyll. See &lt;a href=&quot;https://github.com/cboettig/labnotebook/issues/11&quot;&gt;#11&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Increasing use of github issues tracker for research goals&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution and iEvobio conference notes</title>
   <link href="/2012/07/09/Evolution-Conf-Summary.html"/>
   <updated>2012-07-09T00:00:00-07:00</updated>
   <id>h/2012/07/09/Evolution-Conf-Summary</id>
   <content type="html">&lt;h2 id=&quot;saturday&quot;&gt;Saturday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Jeremy Brown&lt;/li&gt;
&lt;li&gt;Graham Slater&lt;/li&gt;
&lt;li&gt;(Education Data Symposium)&lt;/li&gt;
&lt;li&gt;Cecile Ane&lt;/li&gt;
&lt;li&gt;Joe Felsenstein&lt;/li&gt;
&lt;li&gt;Lars Schmitz&lt;/li&gt;
&lt;li&gt;Carl Boettiger&lt;/li&gt;
&lt;li&gt;Liam Revell&lt;/li&gt;
&lt;li&gt;Brian O’Meara (Leithan McGonigle)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;sunday&quot;&gt;Sunday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Marie-Josee Fortin&lt;/li&gt;
&lt;li&gt;Emma Goldberg 10:45 rm 209&lt;/li&gt;
&lt;li&gt;Networks Symposium&lt;/li&gt;
&lt;li&gt;Jeremy Fox 1.30p Rm 201 (Adaptation B)&lt;/li&gt;
&lt;li&gt;Schluter 2:15p Canada 2-3&lt;/li&gt;
&lt;li&gt;Rosie Redfield public lecture&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;monday&quot;&gt;Monday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;9:00 Michael Landis, 203&lt;/li&gt;
&lt;li&gt;9:30 Dick Gumolkiowicz 214&lt;/li&gt;
&lt;li&gt;10:30 Dean Adams&lt;/li&gt;
&lt;li&gt;11 (Cavender-Bares, 214) (Bolnick, 213)&lt;/li&gt;
&lt;li&gt;11:30 Mark McPeek 214&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Luke Harmon 9am rm 214&lt;/li&gt;
&lt;li&gt;Luke Mahler 9am rm 210&lt;/li&gt;
&lt;li&gt;Rafael Maia 9:15a rm 210&lt;/li&gt;
&lt;li&gt;Sam Price 11:15a rm 210&lt;/li&gt;
&lt;li&gt;Liam Revell 11:30 Canada 2-3&lt;/li&gt;
&lt;li&gt;Dan Rabosky 2:30pm Canada 2-3&lt;/li&gt;
&lt;li&gt;Tanja Stadler 3pm Canada 2-3&lt;/li&gt;
&lt;li&gt;Chris Martin 3pm rm 213&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also: ievobio Day 1.&lt;/p&gt;
&lt;h2 id=&quot;wednesday&quot;&gt;Wednesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;h1&gt;ievobio all day.&lt;/h1&gt;&lt;/li&gt;
&lt;li&gt;Slides for my #ievobio &lt;a href=&quot;http://cboettig.github.com/talks/ievobio2012/&quot;&gt;lightning talk on rOpenSci&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;sunday---tuesday-twitter-notes&quot;&gt;Sunday - Tuesday twitter notes&lt;/h2&gt;
&lt;h3 id=&quot;grabbing-my-twitter-notes-with-r&quot;&gt;Grabbing my twitter-notes with R&lt;/h3&gt;
&lt;p&gt;Extracted with a few twitter commands&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(twitteR)
me &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;userTimeline&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;cboettig&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;300&lt;/span&gt;)
me &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;twListToDF&lt;/span&gt;(me)
evol2012 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;#evol2012&amp;quot;&lt;/span&gt;, me$text)
ievobio &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;#ievobio&amp;quot;&lt;/span&gt;, me$text)
&lt;span class=&quot;kw&quot;&gt;writeLines&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;con=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;evol2012.txt&amp;quot;&lt;/span&gt;, me$text[evol2012])
&lt;span class=&quot;kw&quot;&gt;writeLines&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;con=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;ievobio.txt&amp;quot;&lt;/span&gt;, me$text[ievobio])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Should add some gsub commands to provide html markup. For the moment used vim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:%s/@&lt;img src=&quot;http://latex.codecogs.com/png.latex?[A-Za-z0-9_]\+\inline&quot;/&gt;/&amp;lt;a href=&amp;quot;http:\/\/twitter.com\/\1&amp;quot;&amp;gt;\1&amp;lt;\/a&amp;gt;/g&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;tweet-log&quot;&gt;Tweet log&lt;/h3&gt;
&lt;div&gt;
Wishing I had checked flight timezone earlier and not had to make hasty exit from #ievobio #whoops but #justmadeplane &lt;br/&gt;&lt;br/&gt; You’re right of course! #oversimplified 5min RT &lt;a href=&quot;http://twitter.com/snacktavish&quot;&gt;@snacktavish&lt;/a&gt; “Why R? - 99% of people are already there.”- &lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;@cboettig&lt;/a&gt;. I disagree! #iEvoBio &lt;br/&gt;&lt;br/&gt; J Sachs gives us ontology and semantics 101, &amp;amp; quoting the referees critique followed by many acronyms… owl ?= rdf #ievobio &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/BetaScience&quot;&gt;@BetaScience&lt;/a&gt; brings us back to phylogenetic tools, but plugs his #openscience by mentioning biotorrents http://t.co/NiRtPuIr #ievobio &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/kcranstn&quot;&gt;@kcranstn&lt;/a&gt;: .&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;@tjvision&lt;/a&gt; giving a shout-out to totalimpact http://t.co/RhGLCIry at #ievobio with &lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;@jasonpriem&lt;/a&gt; and &lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;@researchremix&lt;/a&gt; &lt;br/&gt;&lt;br/&gt; Help &lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;@researchremix&lt;/a&gt; + &lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;@tjvision&lt;/a&gt; hypothesize why sharing public data results in increased citation rates: http://t.co/Ka5nTleU #ievobio &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/neurocy&quot;&gt;@neurocy&lt;/a&gt; definitely. I can’t stay for the +1 day, but maybe get those guys involved too &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;@tjvision&lt;/a&gt; presents on “Data reuse and scholarly reward” study with &lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;@researchremix&lt;/a&gt;, discussing #PLoS paper http://t.co/iSyCRlkw #ievobio &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/pete_cowman&quot;&gt;@pete_cowman&lt;/a&gt; &lt;a href=&quot;http://twitter.com/LSU_FISH&quot;&gt;@LSU_FISH&lt;/a&gt; rm 214 &lt;br/&gt;&lt;br/&gt; and my lightening talk coming up! RT &lt;a href=&quot;http://twitter.com/rOpenSci&quot;&gt;@rOpenSci&lt;/a&gt;: Hey #ievobio, &lt;a href=&quot;http://twitter.com/_inundata&quot;&gt;@_inundata&lt;/a&gt; explained &lt;a href=&quot;http://twitter.com/rOpenSci&quot;&gt;@rOpenSci&lt;/a&gt; at #rstats user group http://t.co/MgGYIYGS &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/neurocy&quot;&gt;@neurocy&lt;/a&gt; interesting idea! Could be very helpful both as a resource &amp;amp; a model of how to make these things mainstream science in diff fields? &lt;br/&gt;&lt;br/&gt; sounds like many similar ideas are in hypothes.is RT &lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;@omearabrian&lt;/a&gt;: reputation seems to work well on #stackoverflow, imho #ievobio &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/neurocy&quot;&gt;@neurocy&lt;/a&gt; yup. but methods developers just took the 3 young investigator awards at main conference too… a promising sign? &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/neurocy&quot;&gt;@neurocy&lt;/a&gt; at least part of it is I think; on the informatics/developer side. Can only hope the rest of our community will follow. &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/neurocy&quot;&gt;@neurocy&lt;/a&gt;: &lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;@cboettig&lt;/a&gt; is the #ievobio community really as forward-thinking as you make it sound? you may as well be at a science 2.0 conf! &lt;br/&gt;&lt;br/&gt; 50-90%, some refs here: http://t.co/t8GA0Q5y RT &lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;@hlapp&lt;/a&gt; &lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;@omearabrian&lt;/a&gt;: peer review not limiting vol of papers – gets out eventually #ievobio &lt;br/&gt;&lt;br/&gt; Whaley cites &lt;a href=&quot;http://twitter.com/mbeisen&quot;&gt;@mbeisen&lt;/a&gt; http://t.co/g7tnuxgu “Peer review is f**ed – let’s fix it” #ievobio &lt;br/&gt;&lt;br/&gt; “That is why arXiv readers are eager to nav the raw &lt;br/&gt;&lt;br/&gt; material, and value the accel avail over the filtering by the journal” Ginsberg #ievobio &lt;br/&gt;&lt;br/&gt; Dan is founder of http://t.co/Py8JSR03 and an established web entrepreneur #ievobio &lt;br/&gt;&lt;br/&gt; MT &lt;a href=&quot;http://twitter.com/kcranstn&quot;&gt;@kcranstn&lt;/a&gt;: download Whaley’s presentation, “Re-imagining peer review” at #ievobio http://t.co/orQBtzyz &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/matstopel&quot;&gt;@matstopel&lt;/a&gt; Hi! Yup: &lt;a href=&quot;http://twitter.com/RoseRedfield&quot;&gt;@RoseRedfield&lt;/a&gt; mentioned her open notebook and encouraged others, &amp;amp; Liam Revell mentioned his #ONS dev blog. &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; &lt;a href=&quot;http://twitter.com/phylorich&quot;&gt;@phylorich&lt;/a&gt; sounds like “sometimes?” Don’t think is doing quasse+auteur with dens dep model + exp scaling on tree? &lt;br/&gt;&lt;br/&gt; Stadler adapting her speciation-extinction models 2 SIR dynamics. Cool! but I missed what’s new here to the epi lit &amp;amp; can’t find the JTB pub &lt;br/&gt;&lt;br/&gt; Stadler: “cannot explain high imbalance” #evol2012 wouldn’t an explanation require a non-Markovian branching model? / &lt;a href=&quot;http://twitter.com/jembrown&quot;&gt;@jembrown&lt;/a&gt; &lt;br/&gt;&lt;br/&gt; Tanja (Gernhard) Stadler gives Maynard Smith award talk also describing phylo methods in #rstats: TreePar. #evol2012 http://t.co/odxYnD0j &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; &lt;a href=&quot;http://twitter.com/richfitz&quot;&gt;@richfitz&lt;/a&gt; know if Rabosky’s BAMM is est. trait + speciation together (diversitree style?) &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; Rabosky: BAMM: RJMCMC to identify shifts in diversification models in trees (incl time/density dpdt, incomp samp) #evol2012 &lt;br/&gt;&lt;br/&gt; Yay for self-updating! RT &lt;a href=&quot;http://twitter.com/matstopel&quot;&gt;@matstopel&lt;/a&gt; RT &lt;a href=&quot;http://twitter.com/rob_beiko&quot;&gt;@rob_beiko&lt;/a&gt;: #ievobio Antonelli: goal is self-updating thingo that supports many downstream analyses &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;@omearabrian&lt;/a&gt; has also cloned himself to speed up writing of datelife #ievobio (writes code from two computers nearly simultaneously) &lt;br/&gt;&lt;br/&gt; who says #rstats can’t be a webserver? RT &lt;a href=&quot;http://twitter.com/rob_beiko&quot;&gt;@rob_beiko&lt;/a&gt;: #ievobio O’Meara just got possessed by the R daemon, I think. &lt;br/&gt;&lt;br/&gt; Datelife is running an #rstats server FastRWeb http://t.co/McBYogHl and http://t.co/6KDYtK8R on backend for computations #ievobio &lt;br/&gt;&lt;br/&gt; Link to API documentation? RT &lt;a href=&quot;http://twitter.com/rob_beiko&quot;&gt;@rob_beiko&lt;/a&gt;: #ievobio O’Meara: uses restful API, allows embargoed data with appropriate flag set / &lt;a href=&quot;http://twitter.com/rOpenSci&quot;&gt;@rOpenSci&lt;/a&gt; &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;@omearabrian&lt;/a&gt; Why not use http://t.co/lKICFiOm ? Not open software, not open data, forbids data mining. #ievobio. Use http://t.co/QSE9QO15 &lt;br/&gt;&lt;br/&gt; .#ievobio: &lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;@omearabrian&lt;/a&gt;: why do this? Because one of the most popular ways is just to make it up. &lt;br/&gt;&lt;br/&gt; .#ievobio &lt;a href=&quot;http://twitter.com/omerabrian&quot;&gt;@omerabrian&lt;/a&gt; presents DateLife for the Challenge Entry on huge phylogenies. Check it out on http://t.co/IxJbAJoa &lt;br/&gt;&lt;br/&gt; Liam’s dev blog is a kind of open lab notebook; a reference source for himself and the community #evol2012 #openscience http://t.co/iKaRJjhn &lt;br/&gt;&lt;br/&gt; .#evol2012 #littleknownfact Liam has an active herp research program. (if he’s not replying on #r-sig-phylo in 20sec, he’s catching lizards) &lt;br/&gt;&lt;br/&gt; Liam Revell gives the &lt;a href=&quot;http://twitter.com/ASNAmNat&quot;&gt;@ASNAmNat&lt;/a&gt; Young Investigator award, talking about “New phylo comparative methods” #evol2012 &lt;br/&gt;&lt;br/&gt; Price uses sgima^2/alpha ratio to estimate disparity, `cause alpha is better measure of phylo signal than lambda #evol2012 #verytrue &lt;br/&gt;&lt;br/&gt; Sam Price http://t.co/L0PNq599 asks: do vertebrate eyes evolve slower than teeth? Phylo methods to compare rates across traits #evol2012 &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/phylorich&quot;&gt;@phylorich&lt;/a&gt; &lt;a href=&quot;http://twitter.com/michaelbarton&quot;&gt;@michaelbarton&lt;/a&gt; agreed – I think ecologists prefer the messy syntax of #rstats to the sterile whitespace of python! #ievobio &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/michaelbarton&quot;&gt;@michaelbarton&lt;/a&gt;: #bioinfsurvey python is the fastest growing in life sciences, while R is current most used. http://t.co/n3qo7Ufe #ievobio &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/michaelbarton&quot;&gt;@michaelbarton&lt;/a&gt; &lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; is being modest. folks I hear are raving about a nice presentation of so many cutting edge methods ;-) &lt;br/&gt;&lt;br/&gt; Ree chooses #python, despite 99% of phylogenetics being in #rstats. Notes natural sciences/industry python is widespread #ievobio &lt;br/&gt;&lt;br/&gt; Ree says current (&amp;amp; future) is in scripting. extensible. modular. API == #rstats. but needs more interactive &amp;amp; dynamic graphics. #ievobio &lt;br/&gt;&lt;br/&gt; Ree describes evolution of phylo software: console (no GUI, no interaction) -&amp;gt; desktop app (GUI, interactive) -&amp;gt; scripting #rstats #ievobio &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;@hlapp&lt;/a&gt;: . &lt;a href=&quot;http://twitter.com/kcranstn&quot;&gt;@kcranstn&lt;/a&gt;: Remote participation using G+ hangouts worked quite well. #ievobio &lt;br/&gt;&lt;br/&gt; A well-named team for working on front-end UI! RT &lt;a href=&quot;http://twitter.com/rob_beiko&quot;&gt;@rob_beiko&lt;/a&gt;: #ievobio Cranston: five subgroups including my favorite, “shiny” &lt;br/&gt;&lt;br/&gt; This time with targeted goals, worked well! RT &lt;a href=&quot;http://twitter.com/BrownJosephW&quot;&gt;@BrownJosephW&lt;/a&gt;: Phylotastic == lock a bunch of geeks in a room for 5 days. #evol2012 #ievobio &lt;br/&gt;&lt;br/&gt; .#ievobio &lt;a href=&quot;http://twitter.com/kcranstn&quot;&gt;@kcranstn&lt;/a&gt; visit phylotastic on github: https://t.co/W7tHJTNw or check out the demos: http://t.co/FoZUWEyB #evol2012 &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/pleunipennings&quot;&gt;@pleunipennings&lt;/a&gt; The OneZoom huge tree visualization? not up yet, will be at http://t.co/FB2XfO8T &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; also uses musse approach to show these sexual color changes impact diversification rates #evol2012 &lt;br/&gt;&lt;br/&gt; Mahler used a mecca (stepwise AIC) approach to multi OU (ouch) model. #evol2012 &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/hylopsar&quot;&gt;@hylopsar&lt;/a&gt; looks at evolution of irridescent colors in african starlings (using OUwie &amp;amp; pmc!) &lt;br/&gt;&lt;br/&gt; Luke presents a mecca (stepwise AIC) approach to multi OU (ouch) model. #evol2012 &lt;br/&gt;&lt;br/&gt; Luke Mahler puts the replicated evolution story of the Anoles to the test: phylo analysis including weird taxa #evol2012 &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/phylorich&quot;&gt;@phylorich&lt;/a&gt; he omitted the error bars… still makes you wonder how far purely phylo approach to diversification can go… #evol2012 &lt;br/&gt;&lt;br/&gt; In a bonus slide in the Q&amp;amp;A, Mark shows each speciation event matched to a glaciation event #evol2012 &lt;br/&gt;&lt;br/&gt; McPeek’s synthesis of detailed community ecology, habitat, behavior, phylogenetics &amp;amp; evolution is mindblowing. #evol2012 &lt;br/&gt;&lt;br/&gt; Mark McPeek Macroevolutionary ecology: a tale of woe and intrigue in Damselflies of N America. Lake systems make replicate #evol2012 expts &lt;br/&gt;&lt;br/&gt; The tree of millions of tips is, at it’s original scale, larger than the known universe. Feels like a flyby in Google earth. #evol2011 &lt;br/&gt;&lt;br/&gt; Rosindell: The Google Maps of the “Tree of Life” presented for the first time at #evol2012 zooming in with rich metadata &lt;br/&gt;&lt;br/&gt; Dick Gomulkiewicz: a pop gen look at evolution’s impact on community assembly (well, invasion when rare) #evol2011 &lt;br/&gt;&lt;br/&gt; Cavender-Bares: Oaks are a “worst case scenario for the biological species concept” Coyne &amp;amp; Orr #evol2012 &lt;br/&gt;&lt;br/&gt; I don’t get it Dean. How do we pick units to compare evolution in widely different traits? #evol2012 constrained Cholesky doesn’t address? &lt;br/&gt;&lt;br/&gt; Dean Adams packing the house at #evol2012; explores thorny question of comparing rates of evolution between different traits &lt;br/&gt;&lt;br/&gt; See the nice model of Gomulkiewicz &amp;amp; colleagues here http://t.co/boPzbVBV #evol2012 &lt;br/&gt;&lt;br/&gt; Dick Gomulkiewicz brings a pop gen view to evolution on invasion “Evolution doesn’t always matter – that’s what the theory says” #evol2012 &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/jembrown&quot;&gt;@jembrown&lt;/a&gt; How’d I miss this! Does Landis have software or pub on this work out yet? &lt;br/&gt;&lt;br/&gt; &lt;a href=&quot;http://twitter.com/CMastication&quot;&gt;@CMastication&lt;/a&gt; an Anolis grahami I’m told! Perhaps you are in Jamaica (where grahami is native) or Bermuda (where it is introduced)? &lt;br/&gt;&lt;br/&gt; Who says you can’t publish #openaccess null results or replications of previous studies in &lt;a href=&quot;http://twitter.com/sciencemagazine&quot;&gt;@sciencemagazine&lt;/a&gt;? http://t.co/Z5f4j5oL #evol2012 &lt;br/&gt;&lt;br/&gt; Here comes &lt;a href=&quot;http://twitter.com/RosieRedfield&quot;&gt;@RosieRedfield&lt;/a&gt; #openscience punchline, calling the bluff of Science and sharing her work before July 26 embargo #evol2012 &lt;br/&gt;&lt;br/&gt; .&lt;a href=&quot;http://twitter.com/john_s_wilkins&quot;&gt;@john_s_wilkins&lt;/a&gt; &lt;a href=&quot;http://twitter.com/ironlisa&quot;&gt;@ironlisa&lt;/a&gt; &lt;a href=&quot;http://twitter.com/Boraz&quot;&gt;@Boraz&lt;/a&gt; exactly! as &lt;a href=&quot;http://twitter.com/RosieRedfield&quot;&gt;@RosieRedfield&lt;/a&gt; says, they reversed their thoughts on social media over this #evol2012 #irony &lt;br/&gt;&lt;br/&gt; .#arseniclife authors used social media to promote– &amp;amp; still do: check out lead author Felisa’s views on this story too: &lt;a href=&quot;http://twitter.com/ironlisa&quot;&gt;@ironlisa&lt;/a&gt; #evol2012 &lt;br/&gt;&lt;br/&gt; RT &lt;a href=&quot;http://twitter.com/David_Dobbs&quot;&gt;@David_Dobbs&lt;/a&gt;: the #arseniclife saga continues to highlight and recast both problems &amp;amp; ops in scientific publishing and media. #evol2012
&lt;/div&gt;
&lt;p&gt;&lt;br/&gt;&lt;br/&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution 2012 Conference, Day 1</title>
   <link href="/2012/07/08/Evolution-Day1.html"/>
   <updated>2012-07-08T00:00:00-07:00</updated>
   <id>h/2012/07/08/Evolution-Day1</id>
   <content type="html">&lt;p&gt;Fantastic first day at Evolution. Spent the morning in the SSB Sympossium organized by Jeremy Brown, “Predictive approaches for assessing the fit of evolutionary models”. Really covered both methods assessing model fit (posterior predictive simulations) and approximate likelihood approaches, which are also simulation-based. Then the afternoon in the second SSB Symposium on emerging methods for comparative phylogenetics, organized by Liam Revell and Cecile Ane, which included my talk. Lots of great talks, but Cecile’s was perhaps the most striking results I saw presented all day.&lt;/p&gt;
&lt;h3 id=&quot;detecting-evolutionary-regime-shifts-with-comparative-phylogenetics&quot;&gt;Detecting evolutionary regime shifts with comparative phylogenetics&lt;/h3&gt;
&lt;p&gt;(my slides)&lt;/p&gt;
&lt;div style=&quot;width:425px&quot; id=&quot;__ss_13576088&quot;&gt; 
&lt;strong style=&quot;display:block;margin:12px 0 4px&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/evolution-13576088&quot; title=&quot;Evolution&quot; target=&quot;_blank&quot;&gt;Evolution&lt;/a&gt;&lt;/strong&gt; &lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/13576088&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot; style=&quot;border:1px solid #CCC;border-width:1px 1px 0&quot; allowfullscreen&gt;&lt;/iframe&gt;
&lt;div style=&quot;padding:5px 0 12px&quot;&gt; 
View more presentations from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot; target=&quot;_blank&quot;&gt;Carl Boettiger&lt;/a&gt;
&lt;/div&gt; &lt;/div&gt;

&lt;h3 id=&quot;notes-and-links-from-my-talk&quot;&gt;Notes and links from my talk&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;cran.r-project.org/web/packages/OUwie/index.html&quot;&gt;Download OUwie&lt;/a&gt; for estimating regime shift models in any parameters (on CRAN).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/pmc/index.html&quot;&gt;Download pmc&lt;/a&gt; for phylogenetic monte carlo to evaluate model fit.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.carlboettiger.info/wordpress/archives/category/phylogenetics&quot;&gt;Open lab notebook entries&lt;/a&gt; Covers the four projects I discussed (release of constraint/OUwie, phylogenetic informativeness (pmc) and data access (rfishbase/treebase) over the past two years.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Notes pulled from twitter, in reverse-chronological order.&lt;/p&gt;
&lt;h3 id=&quot;ssb-symposium-on-comparative-phylogenetic-methods&quot;&gt;SSB Symposium on comparative phylogenetic methods&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;.@omearabrian shows awesome visual of code for TreEvo ABC package evolving using gource: http://t.co/wAdUyhTg #git #evol2012&lt;/li&gt;
&lt;li&gt;Exciting possibilities, but the heuristic nature of the ABC is scary. Where are the convergence theorems? More sims please? #evol2012&lt;/li&gt;
&lt;li&gt;@lukejharmon @hyposlar my intuition is that the lamba est isn’t reliable? Would love to hear Cecile on microergodicity of lambda #evol2012&lt;/li&gt;
&lt;li&gt;Love that @omearabrian writes eqns out on slides in #rstats form instead of greek math! #evol2012&lt;/li&gt;
&lt;li&gt;Now @omearabrian tells us: we’re too slow at coming up w/ new models, &amp;amp; the new ones are basically the same as old! Very true! #evol2012&lt;/li&gt;
&lt;li&gt;Liam demonstrates essential role of simulations in knowing how our methods behave under real data #evol2012 #ironicbuttrue&lt;/li&gt;
&lt;li&gt;Liam shows sigma upward bias to topo error, Blomberg’s K falls, lambda unclear, phylo reg unbiased (Rolph2006) model selct more OU #evol2012&lt;/li&gt;
&lt;li&gt;RT @k8hert Excited about @cboettig’s discussion of @rOpenSci. Open science, data, and synthesis are my fav topics! http://t.co/dRBOFkil&lt;/li&gt;
&lt;li&gt;Excited to see Liam Revell finally take us beyond that onerous “First, assume the phylogeny &amp;amp; data are known without error…” #evol2012&lt;/li&gt;
&lt;li&gt;@phylorich @k8hert perhaps a pure birth model, haven’t attempted a fit ;-)&lt;/li&gt;
&lt;li&gt;Lars Schmitz introduces the phylo comparative method he used to identify which dinosaurs were nocturnal #evol2012 in http://t.co/j2t4hSj8&lt;/li&gt;
&lt;li&gt;Note that room could hold &amp;gt;2000… RT @lukejharmon First time in a while: room for all at Felsenstein’s talk #evol2012&lt;/li&gt;
&lt;li&gt;@daisieclickie @conrbrien yup, http://t.co/Xekyy8F0 has the eff sample size / non-microergodic root for BM. Think the OU one isn’t out?&lt;/li&gt;
&lt;li&gt;@k8hert thanks! Wish Cecile’s paper with Ho on the OU microergodic was out, seems to be in review still…&lt;/li&gt;
&lt;li&gt;Joe Felsenstein presents integrating fossils into the tree in his grand old style: nice diagrams &amp;amp; clean math “you know &amp;amp; love” #evol2012&lt;/li&gt;
&lt;li&gt;BM: microergodic: sigma, not X0. OU: microergodic: yes: sigma, sometimes: alpha (dep on topology), not: theta. #evol2012. #crypticbutkey&lt;/li&gt;
&lt;li&gt;Cecile’s effective sample size paper (why you’ll never get root states w/o fossils) http://t.co/Xekyy8F0 #evol2012&lt;/li&gt;
&lt;li&gt;Cecile introduces microergodicity: “identifiability” as tree size -&amp;gt; infty, do pars converge? (Larger tree != more indep samples) #evol2012&lt;/li&gt;
&lt;li&gt;Cecile highlights the statistical dangers of phylogenetic methods, whose data violate expectations #evol2012 #breakingclassicaltheory&lt;/li&gt;
&lt;li&gt;Cecile Ane sums up the radiation of comparative methods “take your fav statistical approach and stick phylogenetic in front” #evol2012&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ssb-symposium-on-predictive-simulation-methods&quot;&gt;SSB Symposium on predictive simulation methods&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;I’ll be speaking on detecting evolutionary regime shifts in the SSB on phylo methods at 3:15p in rm Canada 2-3 #evol2012&lt;/li&gt;
&lt;li&gt;SSE education symposium on timely issue: data access &amp;amp; scientific societies #evol2012, Tom Meagher. Repos good for research; good for edu&lt;/li&gt;
&lt;li&gt;Impressed that http://t.co/Gqj2i3Wi gets students to submit structured data to repo. We can’t do that with most researchers #evol2012&lt;/li&gt;
&lt;li&gt;Mark Beaumont on hierarchical models by an iterated vers of approx Bayes (ABC) #evol2012. Exciting, but are these sufficient stats?&lt;/li&gt;
&lt;li&gt;How about just “might”? RT @lukejharmon Graham Slater just edited the title of my paper during his talk #Evol2012.&lt;/li&gt;
&lt;li&gt;Graham shows max lik inference on early burst evolution fails when faced with even a few outliers. Uses weights to avoid. #evol2012&lt;/li&gt;
&lt;li&gt;Graham Slater shows importance of fossils in detecting early burst evolution #evol2012 by mle, disparity through time &amp;amp; node-height test&lt;/li&gt;
&lt;li&gt;Try out @jembrown method for posterior predictive assessment of phylogeny now in AMP: http://t.co/co8Lo5qp #evol2012&lt;/li&gt;
&lt;li&gt;.@jembrown discusses entropy stats &amp;amp; distance matrix distributions from post. simulation to identify how good our tree inference is.&lt;/li&gt;
&lt;li&gt;.@jembrown gives fantastic intro to posterior predictive seminar for #evol2012, addressing approx likelihood + model fit, 2 key issues.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/07/04/notes.html"/>
   <updated>2012-07-04T00:00:00-07:00</updated>
   <id>h/2012/07/04/notes</id>
   <content type="html">&lt;h2 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;bias table with measurement noise&lt;/li&gt;
&lt;li&gt;Fix deterministic.&lt;/li&gt;
&lt;li&gt;Run scenarios with very low noise rather than deterministic&lt;/li&gt;
&lt;li&gt;Reed S vs. D theorem&lt;/li&gt;
&lt;li&gt;Reed theorem extended to Sethi cases&lt;/li&gt;
&lt;li&gt;simulation values should import scenario list. (done for bias table).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reed-theorem&quot;&gt;Reed theorem&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Not showing S = D for cost free. hmm…&lt;/li&gt;
&lt;li&gt;Not showing S constant for different profit functions?!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;impact-of-management-on-warning-signals&quot;&gt;impact of management on warning signals&lt;/h2&gt;
&lt;p&gt;Compare the probability of detection in managed and unmanaged models.&lt;/p&gt;
&lt;p&gt;**See pdg-control &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues&quot;&gt;Issues Tracker&lt;/a&gt; for details **&lt;/p&gt;
&lt;p&gt;I’m trying to rely on the issues tracker to provide a more dynamic way to track progress than simply listing goals in the notebook. Hope to link these to the notebook through the Github API, ideally as static snapshots.&lt;/p&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Evolution talk&lt;/li&gt;
&lt;li&gt;fishbase reply&lt;/li&gt;
&lt;li&gt;iEvoBio talk (rOpenSci)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.ncfaculty.net/dogle/fishR/gnrlex/gnrlex.html&quot;&gt;fishR&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>wrightscape / release of constraint</title>
   <link href="/2012/07/03/notes.html"/>
   <updated>2012-07-03T00:00:00-07:00</updated>
   <id>h/2012/07/03/notes</id>
   <content type="html">&lt;p&gt;Here’s a table of all the comparisons, indicating which is the preferred model in each pairwise comparison. (In &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/doc/wrightscape_github.md&quot;&gt;my outline&lt;/a&gt;, Figure 4 shows the bm3 v a3 for KT and open lever ratio, and Fig 3 shows the actual parameter values for those models). This table is all for the case that allows shifts at both pharyngeal and the intramandibular transitions. I have &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/d0cab00702be1e552be0ee63524f20da5395d53e/inst/examples/labrid_mc.md&quot;&gt;graphs of the actual parameter values&lt;/a&gt; as well (which we need to see if the constraint has increased or decreased at the transition, and by how much), but gets complex quickly.&lt;/p&gt;
&lt;p&gt;I focused on Brownie rather than OU with sigmas varying because it is a simpler model with a cleaner interpretation. It also has more significant results due to this simplicity. I focused on the KT and open because they have the most significant difference between the Brownie model (bm3) and the release of constraint model (a3).&lt;/p&gt;
&lt;p&gt;Note below that some comparisons are nested while others are not. Note that we rarely have the power to tell a3 from t3 (both are 6-parameter models). Results restricted to the parrotfish tree with the intramandibular tranisititon don’t usually have the power to get many significant differences.&lt;/p&gt;
&lt;p&gt;regimes = &lt;code&gt;two_shifts&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;comparison&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;bodymass&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;close&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;open&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;kt&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;gape.y&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;prot.y&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;AM.y&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;SH.y&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;LP.y&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm v bm3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;bm&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3&lt;em&gt;*&lt;/em&gt; b&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;m3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm v ou&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;ou**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;ou*&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;ou&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;ou&lt;em&gt;*&lt;/em&gt; o&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;u**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;ou*&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm3 v a3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;a3&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;a3&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;a3*&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm3 v t3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;t3&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;t3&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;t3&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;ou v bm3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;ou&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;ou&lt;em&gt;*&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;bm3**&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;t3 v a3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;t3&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;t3**&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;a3*&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;key&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;model&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;brownian motion&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;ou&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Ornstein-Uhlenbeck&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;bm3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;“Brownie” with three regimes (intramandibular and pharyngeal shifts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;a3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;OU with three regimes for alphas parameter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;t3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;“ouch”, OU with three regimes for theta parameter&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Not significant difference in comparison&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/798f57c18c84866456aafc864cf9b1fcd1ddef13/inst/examples/labrid_power.md&quot;&gt;code reproducing results&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;summary-results-as-figure&quot;&gt;summary results as figure&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7134/7074425683_d4704fd0b3_o.png&quot; alt=&quot;plot of chunk unnamed-chunk-8&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-8&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>varying recruitment function, noise form, and harvesting cost</title>
   <link href="/2012/07/02/notes.html"/>
   <updated>2012-07-02T00:00:00-07:00</updated>
   <id>h/2012/07/02/notes</id>
   <content type="html">&lt;p&gt;Seems that the level of caution observed in the deterministic scenario relative to the increasing noise scenarios comes, perhaps not surprisingly, from the addition of harvesting costs, rather than from overcompensatory dynamics or the asymmetric forms of the noise, which seem to have quantitative but not qualitative differences.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/793e531ea6a767245afa6b2e57681eb59fbbcfe6/inst/examples/bias_table.md&quot;&gt;Table for NPV under biased parameters&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1f345fd819029d9c76d9186853fc04a40856f92e/inst/examples/bh_lognormal.md&quot;&gt;Beverton-Holt recruitment, lognormal noise, cost-free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/4cc152a381a9463b4629885f11dc897f6bc7856d/inst/examples/bh_lognormal.md&quot;&gt;BH, lognormal, costs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/d6454fa845b0c7dd1c29a33282aaacf4e1fd473b/inst/examples/bh_uniform.md&quot;&gt;BH, uniform, free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/4cc152a381a9463b4629885f11dc897f6bc7856d/inst/examples/bh_uniform.md&quot;&gt;BH, uniform, costs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1f345fd819029d9c76d9186853fc04a40856f92e/inst/examples/logistic_lognormal.md&quot;&gt;logistic, lognormal, free&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e2bc26642dfe0287bfd5aae9e5cee8d5b8c2665b/inst/examples/logistic_lognormal.md&quot;&gt;logistic, lognormal, costs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;logistic, uniform, free&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e2bc26642dfe0287bfd5aae9e5cee8d5b8c2665b/inst/examples/logistic_uniform.md&quot;&gt;logistic, uniform, costs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Progress this week, by project</title>
   <link href="/2012/06/29/notes.html"/>
   <updated>2012-06-29T00:00:00-07:00</updated>
   <id>h/2012/06/29/notes</id>
   <content type="html">&lt;h3 id=&quot;critical-transitions&quot;&gt;Critical transitions&lt;/h3&gt;
&lt;p&gt;Must determine the correct set of comparisons:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Solve the SDP optim using the exact time dependent&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Simulate under an f with the same escapement policy but different functional form, i.e. logistic with K &amp;amp; r estimated from the May example, either analytically or directly from the data.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Considering the &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ef5148047563ca8e1bd05d4d946161cc64364f16/inst/examples/cautious.md&quot;&gt;costs of “cautious policy”&lt;/a&gt; (calculates optimal harvest recursively but always selects a fraction P of the optimal.) Results in non-constant escapement rules:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8152/7455686164_d55ac0dde9_o.png&quot; alt=&quot;plot of chunk policyfn_plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policyfn_plot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Also has nonlinear (convex) impact on value.&lt;/p&gt;
&lt;p&gt;Filing out the boxes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the value of no action, no shift – NPV under assumed model&lt;/li&gt;
&lt;li&gt;the value of no action, shift – depends when shift occurs. Assume worst?&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;value of action, no shift – Action is p = ?&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;value of action, shift – action is p = ? Under what shift process?&lt;/li&gt;
&lt;li&gt;Consider the single-timestep decision first. Then the repeated decision.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/8373d9ae215cb49bceb5f8b2684078335ce68e44/inst/examples/logistic_lognormal.md&quot;&gt;logistic, lognormal&lt;/a&gt; (any measurement error is most conservative, then determinstic. gi the least)&lt;/li&gt;
&lt;li&gt;Beverton-Holt, lognormal (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/0a43d3e60966b9af9ad6adfe7c3ff4a62638226a/inst/examples/value_of_information.md&quot;&gt;early version of figures&lt;/a&gt;) deterministic is &lt;em&gt;least&lt;/em&gt; conservative, measurement errors, combined errors most. (Rerunning as bh_lognormal.Rmd)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/2d6d42f04de6df2fdca6a16a67c8a665b202a8f6/inst/examples/voi_sethi_parameters.md&quot;&gt;logistic, uniform&lt;/a&gt; (deterministic is always most conservative. gi is least)&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/2d6d42f04de6df2fdca6a16a67c8a665b202a8f6/inst/examples/bh_uniform.md&quot;&gt;Beverton-Holt, uniform&lt;/a&gt; (deterministic is most conservative, growth noise is least!)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;constructed bias table: optimal under low/med/high r by implement under low/med/high r. (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/793e531ea6a767245afa6b2e57681eb59fbbcfe6/inst/examples/bias_table.md&quot;&gt;results&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;rfishbase-revisions&quot;&gt;rfishbase revisions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;add fair use text, future development with fishbase.org. DONE&lt;/li&gt;
&lt;li&gt;add all dependencies. DONE&lt;/li&gt;
&lt;li&gt;Reply letter text, send to P and D. DONE&lt;/li&gt;
&lt;li&gt;switch to robust regression. DONE&lt;/li&gt;
&lt;li&gt;fix/tweak figure appearance. DONE&lt;/li&gt;
&lt;li&gt;Resubmit.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;treebase&quot;&gt;Treebase&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Finish updates based on Duncan’s suggestions. DONE&lt;/li&gt;
&lt;li&gt;Submit 0.0-6 to CRAN. DONE&lt;/li&gt;
&lt;li&gt;Submit manuscript. DONE&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;working-on-to-do&quot;&gt;Working on / To Do&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;rfishbase – revisions. DONE&lt;/li&gt;
&lt;li&gt;evolution talk&lt;/li&gt;
&lt;li&gt;ievobio talk&lt;/li&gt;
&lt;li&gt;csgf talk&lt;/li&gt;
&lt;li&gt;esa talk&lt;/li&gt;
&lt;li&gt;wrightscape&lt;/li&gt;
&lt;li&gt;Alan decision theory and early warning&lt;/li&gt;
&lt;li&gt;Jim’s precautionary paper JEEM&lt;/li&gt;
&lt;li&gt;PDG policy costs&lt;/li&gt;
&lt;li&gt;Jake uncertainty and learning&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Ievobio Lightning Talk Proposal</title>
   <link href="/2012/06/24/ievobio-lightning-talk-proposal.html"/>
   <updated>2012-06-24T00:00:00-07:00</updated>
   <id>h/2012/06/24/ievobio-lightning-talk-proposal</id>
   <content type="html">&lt;h2 id=&quot;the-ropensci-project&quot;&gt;The rOpenSci Project&lt;/h2&gt;
&lt;h3 id=&quot;carl-boettiger-scott-chamberlain-karthik-ram&quot;&gt;Carl Boettiger, Scott Chamberlain, Karthik Ram&lt;/h3&gt;
&lt;p&gt;Sharing scientific data is a win for individual scientists as well as for the larger enterprise of other researchers, publishers, funders, educators, and the general public. Despite the rapid increase of public data, most researchers continue to work on their own data just as before.  We lack the both the tools and training to quickly and easily leverage such data.  To address some of these challenges, we have created the &lt;a href=&quot;http://ropensci.org&quot;&gt;rOpenSci&lt;/a&gt; project.&lt;/p&gt;
&lt;p&gt;The project creates tools in the form of R packages – a powerful data-manipulation and visualization environment familiar to many researchers – that interface with the major data repositories to make serious data exploration and analysis easy and script-able. We hope to provide a model other researchers and databases can replicate for interfacing with researchers, interfacing with R.  Our packages are open-source and developed in the open from their inception.  The rOpenSci project is becoming a means of discovering just how many databases are available, and a common environment in which to allow them to interact. In the past year the project has won a software award, $5,000 support for a full-time summer intern, attracted a world-class set of advisors, and authored 28 different software packages.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0/&quot;&gt;CC0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;All sofware open-source &lt;a href=&quot;https://github.com/ropensci&quot;&gt;https://github.com/ropensci&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes on value of information runs with uniform noise</title>
   <link href="/2012/06/22/notes.html"/>
   <updated>2012-06-22T00:00:00-07:00</updated>
   <id>h/2012/06/22/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Debug Sethi with large uniform noise: needed to avoid havest &amp;gt; stock in definition of &lt;code&gt;f&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I ran the value of information calculations using the Sethi settings of a logistic map and uniform noise, which does indeed replicate their results, where the measurement error escapement is lower than the “all low noise” (“deterministic”) escapement until stock get above carrying capacity.  &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/bced4825c8b9203ed2ab257a4c4fa7e40307cf11/inst/examples/voi_sethi_parameters.md&quot;&gt;results&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kinda of interesting that this patterns isn’t robust to the noise distribution; I still find the lognormal noise pattern a bit more intuitive. Also rather interesting that nothing shows up when &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e0ad849307bcbd12dfb49abae2865bd2abd1cf3b/inst/examples/voi_sethi_parameters.md&quot;&gt;restricted to 10% noise range&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There’s also the updated value of information table in the results. As Mike predicted, with this symmetric noise distribution, the presence of growth noise no longer increases the value. Perhaps the only surprise is that adding extra forms of stochasticity that aren’t present has little impact on the value, presumably from the linearity? Some sample differences:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cost of reckless (det - all real noise): 668 - 414 = 254&lt;/li&gt;
&lt;li&gt;cost of caution (det - all imagined noise): 668 - 672 = -4&lt;/li&gt;
&lt;li&gt;cost of stochasticity (det - all): 668 - 450 = 218&lt;/li&gt;
&lt;li&gt;assuming measurement uncertainty when absent ([g,g] - [g, g+m]): 678-663 = 15&lt;/li&gt;
&lt;li&gt;ignoring when present ([g+m, g+m] - [g+m, g]): 568-550 = 18&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;However, the asymmetric comparison is much more dramatic when implementation uncertainty is also present:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Assuming measurement uncertainty when absent: ([gi, gi] - [gi, gmi]) = 626-629&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ignoring when present: ([gmi, gmi] - [gmi, gi]) = 449 - 374&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Running with more replicates to tighten the monte carlo integration. (nice 19 on 0)&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running with the wide uniform noise on an allee model with nontrivial alternative stable states&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/06/21/notes.html"/>
   <updated>2012-06-21T00:00:00-07:00</updated>
   <id>h/2012/06/21/notes</id>
   <content type="html">&lt;h2 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/25bcbcbf67cc339215cbe98c3e2caeece7aa4946&quot;&gt;Reed with uniform large noise, logistic map&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/4c7f1523b746a8dc44f81c34b35929b125f08689&quot;&gt;Reed with uniform large noise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/e6037e0ded264ad8892261cad0b32f81dcdcb2ac&quot;&gt;Reed with uniform small noise&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/b2330597532723f8bf2bab3b1ccd429a83cde520/inst/examples/Sethi.md&quot;&gt;Sethi with uniform small noise, logistic map&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/8dfaf18b323133c9e8b005405569ebc5303d6e3c/inst/examples/Sethi.md&quot;&gt;Sethi with large noise&lt;/a&gt; Doesn’t work. hmm..&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/81dc0100c6868ce56d93dc2e037d8a7446ef5f24/inst/examples/voi_sethi_parameters.md&quot;&gt;voi_sethi_parameters.md&lt;/a&gt; , running value of information setup but with small noise &amp;amp; logistic map. Whoops, this example solves uniform noise but simulates log-normal noise, which probably explains the positive effect of growth noise once again.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Corrected Sethi simulation &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/voi_sethi_parameters.md&quot;&gt;small, uniform noise and logisitic map&lt;/a&gt;. Confirms Mike’s hypothesis that the benefit to growh noise came from the assymetry of the log-normal noise, as the benefit is gone in this case. The policy functions all look like constant escapement rules, as expected for the “all low” noise limits.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Re-running with larger noise.&lt;br /&gt;Also ran original value of information with gaussian noise.&lt;/p&gt;
&lt;h2 id=&quot;critical-transitions-and-early-warning&quot;&gt;Critical transitions and early warning&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Example with &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/695552177916ad09c7b48ab0894517de1b9a995f/inst/examples/criticaltransition.md&quot;&gt;underlying critical transition externality&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;added calculation of warning signals and &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/6df511774221c2e2845bf22f4e1ea65f0dccf1a1/inst/examples/criticaltransition.md&quot;&gt;distribution of resulting stats&lt;/a&gt;, and shows the state equation from May (1977).&lt;/li&gt;
&lt;li&gt;May (1977) example of transitions in &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/c78964d360e0c0f6400b64633716b89aef791192/inst/examples/May.md&quot;&gt;optimal management without any deterioration&lt;/a&gt; of environment / approaching shifts.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Conservative strategy that optimizes iteratively after selecting fraction &lt;code&gt;P&lt;/code&gt; of optimal harvest level. Compare &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/3fcda162002b000e0fbbe5622fdb490d3e54140a/inst/examples/cautious.md&quot;&gt;results with cautious strategy&lt;/a&gt; to the &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/daaaa9852d3fa847834c12c3a16710580d437770/inst/examples/cautious.md&quot;&gt;results for optimal harvest where &lt;code&gt;P = 1&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next, use specific distribution and probabilities of a transition (ROC curve). &lt;a href=&quot;http://www.carlboettiger.info/2012/05/14/notes.html&quot;&gt;See table, eqn&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Simulate timeseries before management begins, use this data to compute warning signals.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Calculate the ROC curve&lt;/li&gt;
&lt;li&gt;Calculate the expected profits remaining under the hypothesis that the system is not going to collapse. “D”&lt;/li&gt;
&lt;li&gt;Calculate the expected profits under the assumption that the system collapses (in the next timestep?) “C” == 0&lt;/li&gt;
&lt;li&gt;Calculate the profits expected under a response to the signal. (Say, 50% reduction in harvest). “A”, “B”&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ideal response with complete information: determine the optimal policy under temporally changing f.&lt;/p&gt;
&lt;h3 id=&quot;proposed-edits-to-the-earlywarnings-package&quot;&gt;Proposed edits to the earlywarnings package&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;separate out / functionalize each signal in &lt;code&gt;generic_ews&lt;/code&gt;, separate plotting from evaluating.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>the week so far</title>
   <link href="/2012/06/19/notes.html"/>
   <updated>2012-06-19T00:00:00-07:00</updated>
   <id>h/2012/06/19/notes</id>
   <content type="html">&lt;h2 id=&quot;sunday&quot;&gt;Sunday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sent in my review for PLoS ONE. No way to attach pdf files, had to create and send a secure link instead to provide comments on the pdf.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://stat.ethz.ch/pipermail/r-sig-phylo/2012-June/thread.html&quot;&gt;AIC discussion on r-sig-phylo&lt;/a&gt;. For a derivation I refer to Cavanaugh, (1997), also see &lt;a href=&quot;http://www.csse.monash.edu.au/~dschmidt/ModelSectionTutorial1_SchmidtMakalic_2008.pdf&quot;&gt;Daniel Schmidt’s slides&lt;/a&gt;. Aikaike’s original paper does the derivation less deliberately than Cavanaugh but does discuss this Frequentist intepretation as the maximum expected log likelihood (Akaike, 1974).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;monday&quot;&gt;Monday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Discussing &lt;a href=&quot;http://peerJ.com&quot;&gt;peerJ&lt;/a&gt;, &lt;a href=&quot;http://www.nceas.ucsb.edu/projects/12651&quot;&gt;NCEAS publishing working group&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;knitcitations submitted to CRAN&lt;/li&gt;
&lt;li&gt;Check fallacy appendix&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;runs-for-value-of-information&quot;&gt;Runs for Value of Information:&lt;/h3&gt;
&lt;p&gt;Stationary policy function and value function plots for the seven noise combinations, with &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1547659280413637a9c53f0901692ffd91c6056d/inst/examples/value_of_information.md&quot;&gt;Beverton-Holt dynamics.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I also re-ran this with strongly nonlinear recruitment function for comparison (Ricker model with allee threshold below which stocks crash): &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/29a8160ba5da81ecbc2fca60ffe6633cf1ebff81/inst/examples/value_of_information_allee.md&quot;&gt;Allee dynamics&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;value-of-information-meeting-jim-mike&quot;&gt;Value of information meeting (Jim + Mike)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;check surprising result in growth noise using negative shocks only. Done: &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues/14&quot;&gt;confirms expected behavior.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;run with Sethi exact settings (overnight, &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/voi_sethi_parameters.md&quot;&gt;results&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Think about Mike’s point in differences between parameter uncertainty and stochasticity. See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/d8d46087d8194e10488eeb79790293fcbde0e58e/inst/examples/cost_of_bias.md&quot;&gt;cost_of_bias.md results&lt;/a&gt; as a starting point.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tuesday&quot;&gt;Tuesday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;check fallacy appendix&lt;/li&gt;
&lt;li&gt;edits to knitcitations from feedback&lt;/li&gt;
&lt;li&gt;Use github url for all package pages on CRAN&lt;/li&gt;
&lt;li&gt;Submitted fallacy paper!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wednesday&quot;&gt;Wednesday&lt;/h2&gt;
&lt;h3 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;debugging Sethi exact settings. Try running logistic + uniform shocks on Reed-only noise.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;evolution-stuff&quot;&gt;Evolution stuff&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;treebase finalize edits?&lt;/li&gt;
&lt;li&gt;ievobio submission?&lt;/li&gt;
&lt;li&gt;wrightscape edits&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-css-notes&quot;&gt;Misc CSS notes&lt;/h2&gt;
&lt;p&gt;CSS &lt;a href=&quot;http://tex.stackexchange.com/questions/1319/showcase-of-beautiful-typography-done-in-tex-friends&quot;&gt;can’t replace LaTeX yet&lt;/a&gt;, but it’s getting most of the basics of good typography. We might at least have LaTeX quality justified text soon, see:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://dev.w3.org/csswg/css3-fonts/#font-variant-ligatures-prop&quot;&gt;Ligatures, font-kerning&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://skinnywhitegirl.com/blog/web-typography-hyphenation-justification/475/&quot;&gt;hyphenating&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sixrevisions.com/css/css-typography-01/&quot;&gt;dropcaps and more&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sixrevisions.com/css/css-typography-02/&quot;&gt;font spacing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sixrevisions.com/css/css-typography-03/&quot;&gt;examples&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cavanaugh JE (1997). “Unifying The Derivations For The Akaike And Corrected Akaike Information Criteria.” &lt;em&gt;Statistics &amp;amp; Probability Letters&lt;/em&gt;, &lt;strong&gt;33&lt;/strong&gt;. ISSN 01677152, &lt;a href=&quot;http://dx.doi.org/10.1016/S0167-7152(96)00128-9&quot;&gt;http://dx.doi.org/10.1016/S0167-7152(96)00128-9&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Akaike H (1974). “A New Look at The Statistical Model Identification.” &lt;em&gt;Ieee Transactions on Automatic Control&lt;/em&gt;, &lt;em&gt;19&lt;/em&gt;. ISSN 0018-9286, &lt;URL: http://dx.doi.org/10.1109/TAC.1974.1100705&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Policy functions and value functions under multiple uncertainty</title>
   <link href="/2012/06/13/Sethi-policy-functions.html"/>
   <updated>2012-06-13T00:00:00-07:00</updated>
   <id>h/2012/06/13/Sethi-policy-functions</id>
   <content type="html">&lt;p&gt;Implements a numerical version of the SDP described in (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;## Clear the workspace and load package dependencies: 
&lt;span class=&quot;kw&quot;&gt;rm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;list=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ls&lt;/span&gt;())   
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pdgControl)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(data.table)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We consider a Beverton Holt state equation governing population dynamics, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x,h) = \frac{A x}{1 + B x}\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;BevHolt&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;With parameters &lt;code&gt;A&lt;/code&gt; = &lt;code&gt;1.5&lt;/code&gt; and &lt;code&gt;B&lt;/code&gt; = &lt;code&gt;0.05&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the positive stationary root of the model is given by &lt;img src=&quot;http://latex.codecogs.com/png.latex?\inline&quot;/&gt;, or carring capacity &lt;code&gt;K&lt;/code&gt; = &lt;code&gt;10&lt;/code&gt;.&lt;br /&gt;We consider a profits from fishing to be a function of harvest &lt;code&gt;h&lt;/code&gt; and stock size &lt;code&gt;x&lt;/code&gt;, &lt;img src=&quot;http://latex.codecogs.com/png.latex?(x,h) = h - ( c_0 + c_1  )\inline&quot;/&gt;, conditioned on &lt;img src=&quot;http://latex.codecogs.com/png.latex?h &amp;gt; x\inline&quot;/&gt; and &lt;img src=&quot;http://latex.codecogs.com/png.latex?x &amp;gt; 0\inline&quot;/&gt;,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;price &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
c0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;
c1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price=&lt;/span&gt;price, &lt;span class=&quot;dt&quot;&gt;c0 =&lt;/span&gt; c0, &lt;span class=&quot;dt&quot;&gt;c1=&lt;/span&gt;c1) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;with price &lt;code&gt;1&lt;/code&gt;, &lt;code&gt;c0&lt;/code&gt; &lt;code&gt;0.01&lt;/code&gt; and &lt;code&gt;c1&lt;/code&gt; &lt;code&gt;0&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;xmin &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
xmax &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K
grid_n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We seek a harvest policy which maximizes the discounted profit from the fishery using a stochastic dynamic programming approach over a discrete grid of stock sizes from &lt;code&gt;0&lt;/code&gt; to &lt;code&gt;15&lt;/code&gt; on a grid of &lt;code&gt;100&lt;/code&gt; points, and over an identical discrete grid of possible harvest values.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(xmin, xmax, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; grid_n)  
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid  &lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;delta &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;
xT &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
OptTime &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We will determine the optimal solution over a &lt;code&gt;25&lt;/code&gt; time step window with boundary condition for stock at &lt;code&gt;0&lt;/code&gt; and discounting rate of &lt;code&gt;0.05&lt;/code&gt;. Different scenarios introduce different assumptions about the sources of noise. Unlike (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005), we use log normal insead of uniform noise, which requires Monte Carlo integration to estimate the transition matrix. Note that we also have a Beverton-Holt recruitment function instead of the logistic map, and differ in the precise choice of parameters for the state equation, noise, discounting, profit function, etc.&lt;/p&gt;
&lt;h2 id=&quot;scenarios&quot;&gt;Scenarios&lt;/h2&gt;
&lt;h3 id=&quot;large-measurement-error&quot;&gt;Large Measurement error&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;    &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.25&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in stock assessment measurement&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in implementation of the quota&lt;/span&gt;
z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_m) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_i) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(snowfall) 
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;R Version:  R version 2.14.1 (2011-12-22) 
&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;SDP_by_simulation&lt;/span&gt;(f, pars, x_grid, h_grid, z_g, z_m, z_i, &lt;span class=&quot;dt&quot;&gt;reps=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;19999&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Library ggplot2 loaded.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;measure &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;OptTime=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xT=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, 
                     profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;reward=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;large-growth-error&quot;&gt;Large growth error&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.25&lt;/span&gt;    &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in stock assessment measurement&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in implementation of the quota&lt;/span&gt;
z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_m) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_i) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;SDP_by_simulation&lt;/span&gt;(f, pars, x_grid, h_grid, z_g, z_m, z_i, &lt;span class=&quot;dt&quot;&gt;reps=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;19999&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Library ggplot2 loaded.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;growth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;OptTime=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xT=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, 
                     profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;reward=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;large-implementation-error&quot;&gt;Large implementation error&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;    &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in stock assessment measurement&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.25&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in implementation of the quota&lt;/span&gt;
z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_m) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_i) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;SDP_by_simulation&lt;/span&gt;(f, pars, x_grid, h_grid, z_g, z_m, z_i, &lt;span class=&quot;dt&quot;&gt;reps=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;19999&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Library ggplot2 loaded.&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;imp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;OptTime=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xT=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, 
                     profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;reward=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;stock=&lt;/span&gt;x_grid, &lt;span class=&quot;dt&quot;&gt;implementation =&lt;/span&gt; x_grid[imp$D[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;measurement =&lt;/span&gt; x_grid[measure$D[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;growth =&lt;/span&gt; x_grid[growth$D[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]), &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;)
value &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;stock=&lt;/span&gt;x_grid, &lt;span class=&quot;dt&quot;&gt;implementation =&lt;/span&gt; imp$V, &lt;span class=&quot;dt&quot;&gt;measurement =&lt;/span&gt; measure$V, &lt;span class=&quot;dt&quot;&gt;growth =&lt;/span&gt; growth$V), &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;stock&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policy) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, stock-value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;escapement&amp;quot;&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8151/7372557232_fe14154278_o.png&quot; alt=&quot;plot of chunk plots&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk plots&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(value) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Net Present Value&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7239/7187327439_cf08db1492_o.png&quot; alt=&quot;plot of chunk plots&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk plots&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policy) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_smooth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, stock-value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable))+&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;escapement&amp;quot;&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7089/7372557594_d689df38d1_o.png&quot; alt=&quot;plot of chunk plots&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk plots&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(value) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_smooth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(stock, value, &lt;span class=&quot;dt&quot;&gt;color=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ylab&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Net Present Value&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8014/7187327805_62635271fa_o.png&quot; alt=&quot;plot of chunk plots&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk plots&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Note that growth noise gives the constant escapement solution, as expected, but large measurement noise results in raising the maximum escapement, particularly at large stock sizes. If the measured population was unusually high you might assume it was a measurement error and not increase your target harvest immediately, so this makes some intuitive sense.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;author Carl Boettiger, &lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h='&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#46;&amp;#x63;&amp;#x6f;&amp;#x6d;';a='&amp;#64;';n='&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;';e=n+a+h;
document.write('&lt;a h'+'ref'+'=&quot;ma'+'ilto'+':'+e+'&quot;&gt;'+e+'&lt;\/'+'a'+'&gt;');
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x63;&amp;#x6f;&amp;#x6d;&lt;/noscript&gt;&lt;/li&gt;
&lt;li&gt;license: CC0&lt;/li&gt;
&lt;li&gt;A dynamic document generated with knitr&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;
&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;em&gt;50&lt;/em&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;doi:10.1016/j.jeem.2004.11.005&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/06/08/notes.html"/>
   <updated>2012-06-08T00:00:00-07:00</updated>
   <id>h/2012/06/08/notes</id>
   <content type="html">&lt;h2 id=&quot;pdg-control-working-group&quot;&gt;pdg-control Working group&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;send summary briefing for stochastic policy costs paper – DONE&lt;/li&gt;
&lt;li&gt;send latex/pdf to group&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;To better get at Jim’s question, should compare (profit from growth only noise) - (profit from deterministic) + ((profit from measurement only) - (profit from deterministic)) to (profit from growth+measurement) - (determinsitic), i.e. is (growth+measurement) greater/less than (growth) + (measurement) - deterministic?&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Clarify this! is (profit from growth only) the case in which (a) the manager includes growth noise in the solution when in reality it is absent (hence the deterministic solution is optimal), (b) the case where the manager includes growth noise and it is present (i.e. both are optimal given reality, but reality differs, not the information)&lt;/li&gt;
&lt;li&gt;when/are the policies equivalent regardless of the noise?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fallacy-paper&quot;&gt;Fallacy paper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Integrate Noam comments DONE&lt;/li&gt;
&lt;li&gt;Data analysis on updated model runs. DONE&lt;/li&gt;
&lt;li&gt;Replace Figure 1 with conceptual diagram of fallacy. DONE&lt;/li&gt;
&lt;li&gt;Marissa’s edits. DONE&lt;/li&gt;
&lt;li&gt;Alex’s edits. DONE&lt;/li&gt;
&lt;li&gt;Rewrite introduction. DONE&lt;/li&gt;
&lt;li&gt;Remove 500 words. DONE&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution-stuff&quot;&gt;Evolution stuff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;pmc bugfix (see issues log)&lt;/li&gt;
&lt;li&gt;write more wrightscape, email peter&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;treebase-edits.&quot;&gt;treebase edits.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;added &lt;code&gt;metadata()&lt;/code&gt; to combine metadata sources and improve data discovery&lt;/li&gt;
&lt;li&gt;adding Duncan’s corrections&lt;/li&gt;
&lt;li&gt;Duncan’s corrections round 2:&lt;/li&gt;
&lt;li&gt;Revised figures. Return more example code to body&lt;/li&gt;
&lt;li&gt;Text comparing the process of doing tasks manually!&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;logistics&quot;&gt;Logistics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;purchased Evolution airplane tickets DONE&lt;/li&gt;
&lt;li&gt;filed reimbursement request on my Krell account DONE&lt;/li&gt;
&lt;li&gt;CSGF tickets DONE&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;jekyll&quot;&gt;Jekyll&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;notebook previews? DONE&lt;/li&gt;
&lt;li&gt;next/previous post DONE&lt;/li&gt;
&lt;li&gt;Toggle code blocks on/off DONE, add to posts template&lt;/li&gt;
&lt;li&gt;See labnotebook issues.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;h3 id=&quot;meeting-with-jim&quot;&gt;Meeting with Jim&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NCEAS TNC&lt;/li&gt;
&lt;li&gt;Quantify the penalty influence on stock dynamics, not just on the control dynamics!&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;potential-extensions-to-policy-costs&quot;&gt;Potential extensions to Policy Costs:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Measurment uncertainty?&lt;/li&gt;
&lt;li&gt;Allee effect?&lt;/li&gt;
&lt;li&gt;&lt;p&gt;interaction with nonlinear?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;memory introduced in policy&lt;/li&gt;
&lt;li&gt;comparison to autocorrelated noise results&lt;/li&gt;
&lt;li&gt;&lt;p&gt;what would you have concluded from stock&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;pdg-control-reading&quot;&gt;pdg-control Reading&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Bohm 1974&lt;/li&gt;
&lt;li&gt;Sigh &lt;em&gt;et al.&lt;/em&gt; 2006 essentially treats this problem but with two control variables – fishing fleet and harvest level.&lt;br /&gt;Highlights the tradeoff: want a variable harvest rate since Jensen’s inequality guarantees that a fixed harvest rate will under-perform in stochastic stock, but need a smoother change to avoid adjustment costs to the fleet.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;(Show the underperformance of the fixed harvest rate?)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Bohm, P. (1974). On the Effects of Policy Costs. The Swedish Journal of Economics, 76(1), 104. doi:10.2307/3439361&lt;/p&gt;
&lt;p&gt;Singh, R., Weninger, Q., and Doyle, M. (2006). Fisheries management with stock growth uncertainty and costly capital adjustment. Journal of Environmental Economics and Management, 52(2), 582-599. doi:10.1016/j.jeem.2006.02.006&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;h2 id=&quot;misc-and-code-tricks&quot;&gt;misc and code-tricks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/altercation/vim-colors-solarized&quot;&gt;solarized for vim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/sigurdga/gnome-terminal-colors-solarized&quot;&gt;solarized for gnome-terminal&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>knitcitations</title>
   <link href="/2012/05/30/knitcitations.html"/>
   <updated>2012-05-30T00:00:00-07:00</updated>
   <id>h/2012/05/30/knitcitations</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;: Note that this package has evolved quite a bit from this initial post. While the basic interface is the same, support for additional features and some choices in formatting differ from what is presented here. Please see the &lt;a href=&quot;https://github.com/cboettig/knitcitations/&quot;&gt;README&lt;/a&gt; for the latest introduction to the package. Readers may also be interested in the more recent post discussing the &lt;a href=&quot;http://www.carlboettiger.info/2013/02/22/semantic-citations-for-the-notebook-and-knitr.html&quot;&gt;introduction of several new features including semantic tools in the &lt;code&gt;knitcitations&lt;/code&gt; package&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Markdown is becoming an increasingly popular platform for lightweight and online publishing. While traditional publishing tools like LaTeX and word processors have long had integrated bibliographic management, few tools handle citations for lightweight publishing. I am finding myself more and more drawn to markdown rather then tex/Rnw as my standard format (not least of which is the ease of displaying the files on github, particularly now that we have automatic image uploading. I’ve taken a little whack at generating in-text citations using knitr and other R tools.&lt;/p&gt;
&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;
&lt;p&gt;I’ve put some simple functions in a &lt;code&gt;knitcitations&lt;/code&gt; package (see the most recent version of the &lt;a href=&quot;http://github.com/cboettig/knitcitations&quot;&gt;knitcitations package on github here&lt;/a&gt;). The functions use the crossref API to grab citation information given a doi, so I don’t have to generate a bibtex file for papers I’m reading, (inspired by the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;kcite&lt;/a&gt; package for Wordpress). One can currently grab the package from Github&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;install_github&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;knitcitations&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;cboettig&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Let’s load the package into R and go for a spin.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(knitcitations)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;generating-citations&quot;&gt;Generating citations&lt;/h2&gt;
&lt;h3 id=&quot;doi-approach&quot;&gt;DOI Approach&lt;/h3&gt;
&lt;p&gt;Then we can generate a citation given a DOI with the &lt;code&gt;ref&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;r &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ref&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(r, &lt;span class=&quot;st&quot;&gt;&amp;quot;html&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Halpern BS, Regan HM, Possingham HP and Mccarthy MA (2006). “Accounting For Uncertainty in Marine Reserve Design.” &lt;em&gt;Ecology Letters&lt;/em&gt;, 9. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Note that R allows bibitems to print in a variety of formats, including html.&lt;/p&gt;
&lt;p&gt;We can generate inline citations in the short name/date format with the &lt;code&gt;citet&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Halpern &lt;em&gt;et. al.&lt;/em&gt; (2006)”&lt;/p&gt;
&lt;p&gt;Similarly we can generate parenthetical citations with the &lt;code&gt;citep&lt;/code&gt; function,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citep&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;10.1890/11-0011.1&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “(Halpern &lt;em&gt;et. al.&lt;/em&gt; 2006; Abrams &lt;em&gt;et. al.&lt;/em&gt; 2012)”&lt;/p&gt;
&lt;p&gt;Which can take a list of DOIs to cite parenthetically. The &lt;code&gt;citet&lt;/code&gt; and &lt;code&gt;citep&lt;/code&gt; functions are automatically retrieving the available metadata via the Crossref API, and R is storing the information to generate the final bibliography.&lt;/p&gt;
&lt;h3 id=&quot;using-and-creating-citation-keys&quot;&gt;Using and creating citation keys&lt;/h3&gt;
&lt;p&gt;When specifying a DOI for a citation, we can also give the citation a simple key name so we can use it later without having to remember the DOI, for instance, we can make the first citation of a particular example as&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citep&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Michaels =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1755-263X.2012.00241.x&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “(Michaels &amp;amp; Tyre, 2012)”&lt;/p&gt;
&lt;p&gt;and then later use&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Michaels&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “(Michaels &amp;amp; Tyre, 2012)”&lt;/p&gt;
&lt;p&gt;If we do not pass a key for the DOI we create, knitcitations will automatically generate a key of it’s own using the last name of the first author and the year. For instance, based on one of the DOI-citations we have already created, we can do&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Halpern2006&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Halpern &lt;em&gt;et. al.&lt;/em&gt; (2006)”&lt;/p&gt;
&lt;p&gt;and knitcitations recognizes the key. The function will try to avoid collisions in the key: if it is given or creates a key matching one that is already in use, it will see if the titles of the articles match. If the are the same, the same key is used to avoid a duplicate entry. This makes it safe to call&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Halpern2006 =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Halpern &lt;em&gt;et. al.&lt;/em&gt; (2006)”&lt;/p&gt;
&lt;p&gt;even if we have earlier or later cited by the doi alone. Collision checking also avoids duplicating keys that correspond to different papers. If the titles are unique, knitcitations appends an underscore at the end of the automatically generated key. For instance, here we call a DOI that corresponds to a different citation with the same first author and year:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1523-1739.2005.00258.x&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Warning message: Automatic key generation found a copy of this key, using Halpern2006_ instead&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Halpern &lt;em&gt;et. al.&lt;/em&gt; (2006)”&lt;/p&gt;
&lt;p&gt;A warning (not printed by knitr when this is used inline, but included in the log file) alerts us to the fact that this citation has been given an alternate key,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Halpern2006_&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Halpern &lt;em&gt;et. al.&lt;/em&gt; (2006)”&lt;/p&gt;
&lt;p&gt;Of course if managing different keys sounds annoying, we can just call the DOI directly each time.&lt;/p&gt;
&lt;h3 id=&quot;bibtex-approach&quot;&gt;Bibtex Approach&lt;/h3&gt;
&lt;p&gt;If we have a bibtex file, we can use this for the citations as well. If you don’t have a bibtex file handy, you can make one containing the citation information for some of R’s packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;write.bibtex&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;bibtex&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;knitcitations&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;file =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;example.bib&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could also have used the &lt;code&gt;ref&lt;/code&gt; function write a bibtex file for our list of DOIs&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;refs &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;10.1890/11-0011.1&amp;quot;&lt;/span&gt;), 
    ref)
&lt;span class=&quot;kw&quot;&gt;write.bibtex&lt;/span&gt;(refs, &lt;span class=&quot;dt&quot;&gt;file =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;refs.bib&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once we have a bibtex file available, we must read it into R.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;bib &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.bibtex&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;example.bib&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can now create citations from &lt;code&gt;bib&lt;/code&gt; using the bibtex key,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;bib[[&lt;span class=&quot;st&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Xie Y (2012). &lt;em&gt;knitr: A general-purpose package for dynamic report generation in R&lt;/em&gt;. R package version 0.5.4, &lt;URL:
http://yihui.name/knitr/&gt;.&lt;/p&gt;
&lt;p&gt;The inline citation tools can also now use this &lt;code&gt;bib&lt;/code&gt; instead of a DOI to generate a citation,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(bib[[&lt;span class=&quot;st&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Xie, (2012)”&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citep&lt;/span&gt;(bib[&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;bibtex&amp;quot;&lt;/span&gt;)])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “(Xie, 2012; Francois, 2011)”&lt;/p&gt;
&lt;p&gt;Like the case of the DOI, after we have used a citation once, we can cite by the bibkey name directly, rather than having to reference the bibentry object (&lt;em&gt;e.g.&lt;/em&gt; from the &lt;code&gt;bib&lt;/code&gt; list):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;citet&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;knitr&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[1] “Xie, (2012)”&lt;/p&gt;
&lt;h3 id=&quot;using-the-inline-citations&quot;&gt;Using the inline citations&lt;/h3&gt;
&lt;p&gt;The inline citation calls are designed to be used with knitr’s inline code blocks. In markdown, these are enclosed in ` r `. The output format will use the plain-text rendering rather than the code markup. Thus we can use the line &lt;code&gt;citep(&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;)&lt;/code&gt; to generate a parenthetical citation, (Halpern &lt;em&gt;et. al.&lt;/em&gt; 2006). We can generate the in-text citations with &lt;code&gt;citet&lt;/code&gt;, such as Xie, (2012).&lt;/p&gt;
&lt;h2 id=&quot;generating-the-final-bibliography&quot;&gt;Generating the final bibliography&lt;/h2&gt;
&lt;p&gt;As we go along adding inline citations, R stores the list of citation info. Then at the end of the document, use this command to print the bibliography generated by the use of our inline citations.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;bibliography&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;html&amp;quot;&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Halpern BS, Regan HM, Possingham HP and Mccarthy MA (2006). “Accounting For Uncertainty in Marine Reserve Design.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Abrams PA, Ruokolainen L, Shuter BJ and Mccann KS (2012). “Harvesting Creates Ecological Traps: Consequences of Invisible Mortality Risks in Predator–Prey Metacommunities.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;93&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0011.1&quot;&gt;http://dx.doi.org/10.1890/11-0011.1&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Michaels S and Tyre AJ (2012). “How Indeterminism Shapes Ecologists’ Contributions to Managing Socio-Ecological Systems.” &lt;em&gt;Conservation Letters&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1755-263X.2012.00241.x&quot;&gt;http://dx.doi.org/10.1111/j.1755-263X.2012.00241.x&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Halpern BS, Pyke CR, Fox HE, Haney JC, Schlaepfer MA and Zaradic P (2006). “Gaps And Mismatches Between Global Conservation Priorities And Spending.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;20&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2005.00258.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2005.00258.x&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Xie Y (2012). &lt;em&gt;knitr: A general-purpose package for dynamic report generation in R&lt;/em&gt;. R package version 0.5.4, &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;http://yihui.name/knitr/&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Francois R (2011). &lt;em&gt;bibtex: bibtex parser&lt;/em&gt;. R package version 0.3-0, &lt;a href=&quot;http://CRAN.R-project.org/package=bibtex&quot;&gt;http://CRAN.R-project.org/package=bibtex&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;reflections&quot;&gt;Reflections&lt;/h2&gt;
&lt;p&gt;We could have justed printed bibliography in plain text format using with &lt;code&gt;bibliography()&lt;/code&gt;. Note that it contains only the citations created with the inline citation commands &lt;code&gt;citet&lt;/code&gt; and &lt;code&gt;citep&lt;/code&gt;, in the order cited. All of these citations are stored in a hidden options variable in R when the inline functions are called. To reset the citation list (&lt;em&gt;i.e.&lt;/em&gt; empty the contents of “bibliography()”) we can use the &lt;code&gt;cleanbib()&lt;/code&gt; command, or set the option &lt;code&gt;bibliography(erase=TRUE)&lt;/code&gt;. Typically we could hide the bibliography chunk using a inline knitr call or the chunk option “echo=FALSE”.&lt;/p&gt;
&lt;p&gt;I hope to add markup to format this a bit more nicely later. For instance, we want the links to appear as real links. Additionally, we may want to add markup around the citations, such as the reason for the citation into the link using the &lt;a href=&quot;http://speroni.web.cs.unibo.it/cgi-bin/lode/req.py?req=http:/purl.org/spar/cito&quot;&gt;Citation Typing Ontology&lt;/a&gt;. Ideally I need a method to support different citation styles, even though it is silly in today’s world that the citation format is still a choice of the &lt;em&gt;publisher&lt;/em&gt; and not a choice of the &lt;em&gt;reader&lt;/em&gt;. This will probably require citeproc integration and a major upgrade. Please report any bugs, feature requests or citations on the &lt;a href=&quot;https://github.com/cboettig/knitcitations/issues&quot;&gt;Github issues tracker!&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;comparing-lightweight-citation-alternatives&quot;&gt;Comparing lightweight citation alternatives&lt;/h3&gt;
&lt;p&gt;Several citation alternatives are available for lightweight publishing outside of this option, each with its own advantages and limitations. John MacFarlane’s &lt;a href=&quot;http://johnmacfarlane.net/pandoc/&quot;&gt;Pandoc&lt;/a&gt; is probably the most widely used citation manager for markdown files, working with a bibtex source file but formatting the citation lists using citeproc. It has the advantage of a more concise citation syntax, consistent with the source-readable goals of markdown and citation formating. Of course it is a markdown extension and will not be read by other markdown interpreters. This would be less of an issue of Pandoc could run markdown -&amp;gt; markdown without garbling syntax of some other markdown interpreter, like Github-flavored markdown.&lt;/p&gt;
&lt;p&gt;The only other tool I know of that provides dynamic citations by DOI look-up is Phil Lord’s excellent Wordpress plugin, &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;kcite&lt;/a&gt;. It now uses citeproc for formatting, automatically links the in-text citations to the bibliography, supports PubMed and ArXiv ids as well as DOIs and even web URLs (though not bibtex files). The major limitation for me is that it is limited to Wordpress with Wordpress specific shortcode. (Of course I introduce R-specific code here, but with the assumption of a knitr-based audience who probably uses github). A variety of other platform-specific plugins are available to convert bibtex files into citations for different blogging platforms, including Wordpress and Jekyll.&lt;/p&gt;
&lt;p&gt;So why knitcitations? My goal is primarily to bring this functionality to knitr users who rely on the markdown format rather than the latex format and are interested in dynamic citations and web-based publishing. I hope it finds its niche.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Exploring Jekyll layout</title>
   <link href="/2012/05/26/exploring-jekyll-layout.html"/>
   <updated>2012-05-26T00:00:00-07:00</updated>
   <id>h/2012/05/26/exploring-jekyll-layout</id>
   <content type="html">&lt;p&gt;Jekyll works wonderfully with little knowledge beyond basic html/css to create &lt;code&gt;_layout&lt;/code&gt; templates and then you’re free to write beautiful pages and posts in markdown. But adding more dynamic content, the kind of cool stuff avialable in so many wordpress plugins, tends to require a little understanding of the template formatting language, &lt;a href=&quot;https://github.com/Shopify/liquid&quot;&gt;Liquid&lt;/a&gt;. Liquid is actually super simple and powerful way to build a dynamic website. The project’s wiki provides a great introduction, starting with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Shopify/liquid/wiki/Liquid-for-Designers&quot;&gt;Liquid filters and tags&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Liquid-Extensions&quot;&gt;Jekyll proves a few more useful extensions&lt;/a&gt;, though I’ve found the standard ones most useful.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Knowing the &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/Template-Data&quot;&gt;template names&lt;/a&gt; available in Jekyll comes in handy for this stuff. (like &lt;code&gt;site.posts&lt;/code&gt; or &lt;code&gt;page.content&lt;/code&gt;. Not sure why &lt;code&gt;page.content&lt;/code&gt; comes in as rendered content for posts.&lt;/li&gt;
&lt;li&gt;A lot of the more fancy stuff requires writing custom liquid functions, common in Jekyll plugins. See the &lt;a href=&quot;https://github.com/Shopify/liquid/wiki/Liquid-for-Programmers&quot;&gt;Liquid extensions&lt;/a&gt; guide to learn the syntax for this.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;These liquid extensions can be specified in a Ruby &lt;code&gt;.rb&lt;/code&gt; script that can run arbitrary ruby commands.&lt;/li&gt;
&lt;li&gt;Compatibility with github: anything that doesn’t require additional gems will work on Github.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing-my-own-extension-to-parse-feeds&quot;&gt;Writing my own extension to parse feeds&lt;/h2&gt;
&lt;p&gt;I wanted a nice way to embed feeds on my Jekyll site – preferably at Jekyll-compile rather than in javascript, to maintain the fast static site ethos. As usual, this search begins with an &lt;a href=&quot;http://stackoverflow.com/questions/10726916/can-i-embed-an-atom-feed-in-html5-with-the-embed-tag/10727291#10727291&quot;&gt;SO question on parsing feeds&lt;/a&gt;. From this I learn about a nice Ruby library to do the parsing: &lt;a href=&quot;https://github.com/pauldix/feedzirra&quot;&gt;feedrizza&lt;/a&gt;. Using a bit of knowledge from above (and a bit of hacking – probably would have been better served if I read those things &lt;em&gt;first&lt;/em&gt; instead of &lt;em&gt;after&lt;/em&gt; trying this), I have a &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/_plugins/feedzirra/feedzirra.rb&quot;&gt;plugin for feedrizza&lt;/a&gt; which displays feeds. This could probably be greatly improved. Fetching xml slows down jekyll compiling, may disable the plugin for the time being&lt;/p&gt;
&lt;h2 id=&quot;modifying-layout-of-posts-archive-lab-notebook&quot;&gt;Modifying layout of posts archive (lab notebook)&lt;/h2&gt;
&lt;h4 id=&quot;can-i-add-columns-with-post-previews-like-my-wordpress-notebook-mission-accomplished.&quot;&gt;Can I add columns with post previews, like &lt;a href=&quot;http://www.carlboettiger.info/research/lab-notebook&quot;&gt;my Wordpress notebook&lt;/a&gt;? Mission accomplished.&lt;/h4&gt;
&lt;p&gt;I first considered using a plugin &lt;a href=&quot;https://github.com/sebcioz/jekyll-only_first_p&quot;&gt;plugin&lt;/a&gt; to get the frist paragraph (based on nokogiri parsing the html/xml). While nokogiri is quite powerful, I often don’t have just the right length content in the first paragraph – some entries just launch into a list enviornment with no paragraphs to begin with.&lt;/p&gt;
&lt;p&gt;Instead, it’s much easier to use &lt;a href=&quot;https://github.com/Shopify/liquid/wiki/Liquid-for-Designers&quot;&gt;built in liquid filters&lt;/a&gt; which can already grab first n characters or n words. Unfortunately pulls in &lt;em&gt;formatted&lt;/em&gt; post content, not pure markdown, leaving open tags. Should probably look into some santize html filters, but don’t seem to be default. To avoid this, I ended up using the &lt;code&gt;strip_html&lt;/code&gt; filter, rendering unformatted but more uniformly looking previews on pages.&lt;/p&gt;
&lt;p&gt;Lastly, format the previews in justified columns in a smaller font-size using a little css.&lt;/p&gt;
&lt;p&gt;Oh, it appears there is a &lt;a href=&quot;https://github.com/MattHall/truncatehtml&quot;&gt;nokogiri-based plugin&lt;/a&gt; which will truncate and close html tags appropriately.&lt;/p&gt;
&lt;h4 id=&quot;some-liquid-example-code&quot;&gt;Some liquid example code&lt;/h4&gt;
&lt;p&gt;Arrange site-posts into three columns, entries columnwise.&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;
{% capture n  %}{{ site.posts | size | divided_by:3}}{% endcapture %}
{% capture m %} {{ n | times:2 }}{% endcapture %}


&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;span3&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

{% for post in site.posts limit:n %}
{{ post | content }}
{% endfor %}

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;span3&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

{% for post in site.posts limit:n offset:n%}
{{ post | content }}
{% endfor %}

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;div&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;span3&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;

{% for post in site.posts limit:n offset:m %}
{{ post | content }}
{% endfor %}

&lt;span class=&quot;kw&quot;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Having a sitemap is a good idea&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://vitobotta.com/how-to-migrate-from-wordpress-to-jekyll/&quot;&gt;A nice Jekyll tutorial&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Limits to the detection of early warning signals</title>
   <link href="/2012/05/21/limits-to-detection-of-early-warning-signals.html"/>
   <updated>2012-05-21T00:00:00-07:00</updated>
   <id>h/2012/05/21/limits-to-detection-of-early-warning-signals</id>
   <content type="html">&lt;p&gt;Our paper, &lt;em&gt;limits to the detection of early warning signals for critical transitions&lt;/em&gt;, has now &lt;a href=&quot;http://dx.doi.org/10.1098/rsif.2012.0125&quot;&gt;appeared in the Proceedings of the Royal Interface&lt;/a&gt;. An open-access copy is &lt;a href=&quot;http://arxiv.org/abs/1204.6231&quot;&gt;available under CC-by license on the ArXiv&lt;/a&gt;. The essence of the paper is to bring a more model-based approach to early warning signals, while seeking to remain as general as possible.&lt;/p&gt;
&lt;p&gt;Without a model-based approach, it is difficult to leverage statistically meaningful comparisons to identify what is a real warning signal and what is just noise. We use two simple models, (a stationary OU process and temporally heterogeneous OU process) combined with a likelihood ratio bootstrap to do this, though other models and comparisons could be equally promising.&lt;/p&gt;
&lt;p&gt;The motivation for this paper comes somewhat from the appendices in the groundbreaking work by Dakos &lt;em&gt;et al&lt;/em&gt; 2008, which compares several potential null distributions and shows that Kendall’s tau, the correlation statistic used to identify an increase, takes on almost any value in its range, which doesn’t leave us with much information to go by. I both wanted to confirm this distribution and see if I could improve upon it with the model-based approach. I was glad to see that not only could we quantify uncertainty more precisely with the model based-approach, but also improve upon the sensitivity relative to traditional indicators, as seen in our ROC curves.&lt;/p&gt;
&lt;p&gt;My talk at ESA last year gave an introduction to these results.&lt;/p&gt;
&lt;div style=&quot;width:425px&quot; id=&quot;__ss_11357956&quot;&gt;
&lt;strong style=&quot;display:block;margin:12px 0 4px&quot;&gt;&lt;a
href=&quot;http://www.slideshare.net/cboettig/limits-to-detection-for-early-warning-signals-of-population-collapse&quot;
title=&quot;Limits to Detection for Early Warning Signals of
Population Collapse&quot; target=&quot;_blank&quot;&gt;Limits to Detection for Early Warning Signals of Population Collapse&lt;/a&gt;&lt;/strong&gt; &lt;iframe
src=&quot;http://www.slideshare.net/slideshow/embed_code/11357956&quot;
width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot;
scrolling=&quot;no&quot;&gt;&lt;/iframe&gt;
&lt;div style=&quot;padding:5px 0 12px&quot;&gt; 
View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot; target=&quot;_blank&quot;&gt;Carl Boettiger&lt;/a&gt;
&lt;/div&gt; &lt;/div&gt;

&lt;h1 id=&quot;an-open-notebook-story&quot;&gt;An Open Notebook Story&lt;/h1&gt;
&lt;p&gt;This project has gone through many iterations, dead ends, and transformations as it evolved over the past year and a half alongside my other research projects. In the process, there’s also been ample cross-pollination of ideas from different projects. The interplay of these ideas unfolds in the interleaved pages of my online lab notebook.&lt;/p&gt;
&lt;p&gt;Here are a few examples of this cross-pollination: Using the likelihood ratio bootstrap as the most powerful comparison of two composite (parameter-estimated) hypotheses first emerged in my evolutionary work which became the paper, &lt;em&gt;Is your phylogeny informative&lt;/em&gt;, while solving the likelihood equation for the temporally heterogeneous OU process has it’s roots in my work on the evolutionary release of constraint that became the paper &lt;em&gt;Modeling Stabilizing Selection: Expanding the Ornstein-Uhlenbeck Model of Adaptive Evolution&lt;/em&gt; and plays a role in my current &lt;code&gt;wrightscape&lt;/code&gt; project. These projects share a central challenge of detecting faint signals of regime shifts from large data sets whilst quantifying uncertainty, despite substantial differences in the details of both model formulation and solution.&lt;/p&gt;
&lt;p&gt;The project had several dead ends of things that sounded promising but turn out not to work. A few that I’ve been asked about since include &lt;a href=&quot;http://www.carlboettiger.info/wordpress/archives/144&quot;&gt;solving the model inference problem in the frequency (Fourier) space&lt;/a&gt; (doesn’t work because the power transform destroys the Gaussian property of the noise), and &lt;a href=&quot;http://www.carlboettiger.info/wordpress/archives/452&quot;&gt;estimating quadratic models (such as the canonical form for the saddle node bifurcation)&lt;/a&gt; (page forward on each if your curious).&lt;/p&gt;
&lt;h2 id=&quot;the-project-by-numbers&quot;&gt;The project by numbers&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;http://farm9.staticflickr.com/8144/7249633810_a1cb6395bf_m.jpg&quot; alt=&quot;floatright&quot; /&gt; My notebook contains &lt;a href=&quot;http://www.carlboettiger.info/wordpress/archives/tag/warning-signals&quot;&gt;123 posts&lt;/a&gt; relevant to this project, tagged under &lt;code&gt;warning-signals&lt;/code&gt;, dating back to October 2010, out of a total of 388 posts. The flickr archive has &lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/warningsignals/&quot;&gt;903 images&lt;/a&gt; tagged for this project, the &lt;a href=&quot;https://github.com/cboettig/populationdynamics&quot;&gt;github repository&lt;/a&gt; have seen over 40,000 lines of code, mostly in different explorations, consisting of 64 files with commits on 74 days. (This repository has since been split into separate repositories for the [population dynamics simulations] and the &lt;a href=&quot;https://github.com/cboettig/earlywarning&quot;&gt;early warning signals computations&lt;/a&gt;.) Simulations were run on at least four different machines, including the 512 node cluster on campus and &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/carver&quot;&gt;NERSC’s Carver supercomputing facility&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&quot;accessing-the-data-and-code&quot;&gt;Accessing the data and code&lt;/h1&gt;
&lt;p&gt;My organizational structure has evolved over the course of this project, but mostly conforms to my &lt;a href=&quot;http://www.carlboettiger.info/2012/05/06/research-workflow.html&quot;&gt;Github-based R-package structure&lt;/a&gt; within the &lt;a href=&quot;https://github.com/cboettig/earlywarning&quot;&gt;&lt;code&gt;earlywarning&lt;/code&gt; repository&lt;/a&gt;. The &lt;code&gt;inst/examples&lt;/code&gt; directory includes code to reproduce the analysis for the chemostat, simulation, and glaciation data.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;Boettiger, C., and Hastings, A. (2012). Quantifying limits to detection of early warning for critical transitions. Journal of The Royal Society Interface, 1-29. doi:10.1098/rsif.2012.0125&lt;/p&gt;
&lt;p&gt;Dakos, V., Scheffer, M., van Nes, E. H., Brovkin, V., Petoukhov, V., and Held, H. (2008). Slowing down as an early warning signal for abrupt climate change. Proceedings of the National Academy of Sciences, 105(38), 14308-12. doi:10.1073/pnas.0802430105&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>notes</title>
   <link href="/2012/05/18/notes.html"/>
   <updated>2012-05-18T00:00:00-07:00</updated>
   <id>h/2012/05/18/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote short talk for Adaptive Management class&lt;/li&gt;
&lt;li&gt;Adaptive management class short talks.&lt;/li&gt;
&lt;li&gt;teary&lt;/li&gt;
&lt;li&gt;Confirmed model-based estimation avoids fallacy on newly zoomed data.&lt;/li&gt;
&lt;li&gt;Updated cost-of-bias comparison&lt;/li&gt;
&lt;li&gt;Policy-costs: added adjustment free distribution to highlight double-cost effect&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Value of information, cost of bias</title>
   <link href="/2012/05/16/value-of-information.html"/>
   <updated>2012-05-16T00:00:00-07:00</updated>
   <id>h/2012/05/16/value-of-information</id>
   <content type="html">&lt;h2 id=&quot;value-of-information&quot;&gt;Value of information&lt;/h2&gt;
&lt;p&gt;The motivation for this “value of information” excercise comes from Costello &lt;em&gt;et al.&lt;/em&gt; (2010), which essentially compares two scenarios: the value of a marine protected area when you the dispersal kernel is unknown (one of a discrete set of possible kernels you sum over), to the value of the protected area when the kernel is known perfectly. No intrinsic stochasticity, single time step, no learning.&lt;/p&gt;
&lt;p&gt;The model I’m looking at comes from Reed (1979), and a modification by Sethi &lt;em&gt;et al.&lt;/em&gt; (2005). Fish dynamics are driven by Beverton Holt process, we harvest some of the population each year. In the Reed formulation, only the future growth rate is stochastic – the current stock value is known without error when we must choose the harvest level for that year. The Sethi paper expands this result to consider the case in which the stock assessment may have measurement error, and the harvest process may have implementation error. In either event, the optimal harvest level for all possible values of stock for each interval in time (on a finite time-horizon) is computed by stochastic dynamic programming, given some price function for the harvest. This is implemented in &lt;a href=&quot;https://github.com/cboettig/pdg-control&quot;&gt;my R package, pdgControl&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I consider several cases in which we vary the management uncertainty and the stock uncertainty. I’ve considered four scenarios so far, (links to the runs of each scenario with R code and results)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e501e219ddae177804751f289355510a8c5fc88a/inst/examples/value_of_information.md&quot;&gt;“Value of information” (VI)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e501e219ddae177804751f289355510a8c5fc88a/inst/examples/value_of_stochasticity.md&quot;&gt;“Value of stochasticity” (VS)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/e501e219ddae177804751f289355510a8c5fc88a/inst/examples/cost_of_underestimating.md&quot;&gt;“Cost of underestimating” (CU)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/cfe87046bb29122b4e624459b63e4df5db34118d/inst/examples/reckless_driver.md&quot;&gt;“Reckless driver” (RD)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Easiest to compare by putting these on a grid of manager uncertainty (across) vs true stochasticity (down):&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;none&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;growth&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g+measure&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g+m+implement&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;none&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VS,VI,RD&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VI&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VI&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VI&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;growth&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;RD&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;g+measure&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;RD&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;VS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;g+m+implement&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;CU, RD&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;CU&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;CU&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;CU, VS&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;numerical-values&quot;&gt;Numerical values&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;none&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;growth&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g+measure&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;g+m+implement&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;none&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-0.3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-1.4&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-1.5&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33 +/1.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;growth&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;35+/-4&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;35 +/ -3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;g+measure&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/- 3.5&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;strong&gt;g+m+implement&lt;/strong&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-4&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/- 4&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33+/-4&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;33 +/- 5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;So far I’ve been surprised that the expected profits in each scenario are remarkably similar, despite the apparent mismatch between optimization strategy and reality, or the presence of extra noise. Perhaps this is driven by the essentially single-step prediction nature of the problem formulation, perhaps simply because things are relatively linear?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;Costello C, Rassweiler A, Siegel D, De Leo G, Micheli F and Rosenberg A (2010). “Marine Reserves Special Feature: The value of spatial information in MPA network design.” &lt;em&gt;Proceedings of the National Academy of Sciences&lt;/em&gt;, &lt;em&gt;107&lt;/em&gt;. ISSN 0027-8424, http://dx.doi.org/10.1073/pnas.0908057107&lt;/p&gt;
&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery management under multiple uncertainty.” &lt;em&gt;Journal of Environmental Economics and Management&lt;/em&gt;, &lt;em&gt;50&lt;/em&gt;. ISSN 00950696, http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/p&gt;
&lt;p&gt;Reed W (1979). “Optimal escapement levels in stochastic and deterministic harvesting models.” &lt;em&gt;Journal of Environmental Economics and Management&lt;/em&gt;, &lt;em&gt;6&lt;/em&gt;. ISSN 00950696, http://dx.doi.org/10.1016/0095-0696(79)90014-7&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/05/15/fallacy.html"/>
   <updated>2012-05-15T00:00:00-07:00</updated>
   <id>h/2012/05/15/fallacy</id>
   <content type="html">&lt;h2 id=&quot;prosecutors-fallacy&quot;&gt;Prosecutors Fallacy&lt;/h2&gt;
&lt;p&gt;Running the null distribution and add to plots&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;generate &lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/35ea8b6d9aee76ed2814c32bb4d5b4ec861af0eb/inst/examples/nullfallacy.md&quot;&gt;nulls&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;add to &lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/90696473b0d98a506e337cbd80a85cec5be51736/inst/examples/fallacy.md&quot;&gt;fallacy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Questions on plots – show the full replicates plot?&lt;/li&gt;
&lt;li&gt;Emphasize the two different distributions that result.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/35ea8b6d9aee76ed2814c32bb4d5b4ec861af0eb/inst/examples/nullfallacy.md&quot;&gt;Additional replicates&lt;/a&gt; narrow the null distribution further. hmm…&lt;/li&gt;
&lt;li&gt;run model fit part again &lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/prosecutor/inst/examples/modelfallacy.md&quot;&gt;modelfallacy.Rmd&lt;/a&gt;. Need to add the model fit data analysis section into this script.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;knitr’s caching really is the way to go with debugging things that need HPC. Nice to pick up from where we hit the bug rather than rerunning everything. Must remember to set unique cache paths though.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>notes</title>
   <link href="/2012/05/14/notes.html"/>
   <updated>2012-05-14T00:00:00-07:00</updated>
   <id>h/2012/05/14/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Added results into prosecutors fallacy and sent to Alex, Noam, Marissa.&lt;/li&gt;
&lt;li&gt;Ran pdf copy and sent Treebase to Duncan&lt;/li&gt;
&lt;li&gt;README added to &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;staticdoc documentation for knitcitations (and filed a few issues on staticdocs)&lt;/li&gt;
&lt;li&gt;Updated documentaiton on treebase, rfishbase. updated their staticdocs documentation as well.&lt;/li&gt;
&lt;li&gt;rfishbase 0.0-9 update pushed to CRAN&lt;/li&gt;
&lt;li&gt;Working on prosecutor’s fallacy edits from Alex&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h2&gt;
&lt;p&gt;Discuss management example with ROC curve instead of hypothesis test&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;right&quot;&gt;C&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;rash&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;No Crash&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;right&quot;&gt;Action&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;a&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;b&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;right&quot;&gt;o Action&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;c&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;d&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Where $ d &amp;gt; a &amp;gt; b &amp;gt; c $&lt;/p&gt;
&lt;p&gt;From the ROC curve: TP = f(FP), that is, y = f(x), so:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\min_x a f(x) +b x + c f(x) + d x&quot; alt=&quot;\min_x a f(x) +b x + c f(x) + d x&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;simulate and detect. Dynamic updating?&lt;/li&gt;
&lt;li&gt;estimate stochastic model&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;misc-tricks&quot;&gt;Misc tricks&lt;/h1&gt;
&lt;p&gt;Start a new branch on gh-pages for the documentation&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;true | git mktree | xargs git commit-tree | xargs git branch gh-pages
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then update in future using:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git checkout gh-pages
git read-tree master:inst/doc/html
git commit -a -m &amp;#39;gh-pages documentation&amp;#39;
git push origin gh-pages
git checkout master&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;From updating staticdocs on gh-pages: &lt;a href=&quot;http://stackoverflow.com/questions/10590156/git-update-the-root-directory-of-a-branch-from-the-subdirectory-of-another&quot;&gt;Q on SO&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Prosecutor's fallacy notes</title>
   <link href="/2012/05/12/notes.html"/>
   <updated>2012-05-12T00:00:00-07:00</updated>
   <id>h/2012/05/12/notes</id>
   <content type="html">&lt;p&gt;Mostly getting Prosecutor’s Fallacy example to run with large enough sample sizes. Finer sampling or more replicates than current settings seems to crash MPI connections over farm cluster, probably a memory issue. Oh well, looks like I’ve got a good enough sample size here.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/08952efd2e181726a3a44aeb6cba14fa83aa57a4/inst/examples/fallacy.md&quot;&gt;Prosecutor’s Fallacy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;citations-on-jekyll&quot;&gt;Citations on Jekyll&lt;/h2&gt;
&lt;p&gt;No ideal solution here at the moment, a couple options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pandoc: My intended solution, Disadvantages: converts everything to it’s own markdown format, which messes up my PHP Markdown tables and YAML frontmatter. Also chokes on large bibtex files, so I need to run bibtool / my bibgen script to generate the bib file first. Perhaps a scripted solution can get around this.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Use knit+R to generate citations with my &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; package. Advantages: customizable, can run on DOIs without needing to bother with bibtex. Easiest to extend with metadata in citations, such as CiTO. Disadvantages: not very polished, citation formating needs help.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/inukshuk/jekyll-scholar&quot;&gt;jekyll-scholar&lt;/a&gt;: Perhaps the most promising of the citation plugins.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Computing the value of information in management of a stochastic resource</title>
   <link href="/2012/05/11/Notes.html"/>
   <updated>2012-05-11T00:00:00-07:00</updated>
   <id>h/2012/05/11/Notes</id>
   <content type="html">&lt;h1 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h1&gt;
&lt;p&gt;After reading Costello &lt;em&gt;et. al.&lt;/em&gt; (2010), taking a look at value of information in a dynamic context. Consider the model of Sethi &lt;em&gt;et. al.&lt;/em&gt; (2005) (Costello is part of et al); a dynamic fisheries model with stochastic growth (a la Reed, (1979)), stochastic measurement assessing the stock size, and stochastic implementation of the harvest. I first imagine the case where the real system is quite deterministic, say, with a tiny amount of growth stochasticity only. I solve this optimal harvest problem using SDP and compare it to three other scenarios (simulating 100 realizations of each).&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;where our estimate of the growth stochasticity is much higher, reflecting our lack of knowledge about growth, (in our the computation of the optimal solution)&lt;/li&gt;
&lt;li&gt;where our estimate of both growth and stock measurement is higher&lt;/li&gt;
&lt;li&gt;where our estimate of all three is higher.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/70e899ea4ecc52317cb6ff91c21406cf665cbaa9/inst/examples/value_of_information.md&quot;&gt;Value of information&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Compare this to solving the optimal solution under increasing uncertainty (that is, increasing the sources of stochasticity in the real system, and having the manager solve for the optimal solution given that uncertainty). Still feels like uncertainty should impact profits, but not much:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/0bda7ca2f32b80a7905d6cbc302223f8811bc033/inst/examples/value_of_information.md&quot;&gt;Value of stochasticity&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Even &lt;em&gt;underestimating&lt;/em&gt; rather than overestimating the noise isn’t so costly, only impacts cases where the population crashes (i.e. the manager assumes a nearly deterministic system, and scenarios add additional stochasticity into the reality).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/da6e0b933450755319a16d92efa4745883baa792/inst/examples/cost_of_underestimating.md&quot;&gt;Cost of underestimating&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Similarly for an Allee effect model, overestimating uncertainty doesn’t result in very suboptimal (conservative) behavior…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/4b89252c276a3cf9881f598ffe2070cc1cafde4a/inst/examples/value_under_allee.md&quot;&gt;Allee&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Costello C, Rassweiler A, Siegel D, De Leo G, Micheli F and Rosenberg A (2010 2010). “Marine Reserves Special Feature: The value of spatial information in MPA network design.” &lt;em&gt;Proceedings of the National Academy of Sciences&lt;/em&gt;, &lt;em&gt;107&lt;/em&gt;. ISSN 0027-8424, http://dx.doi.org/10.1073/pnas.0908057107&lt;/p&gt;
&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery management under multiple uncertainty.” &lt;em&gt;Journal of Environmental Economics and Management&lt;/em&gt;, &lt;em&gt;50&lt;/em&gt;. ISSN 00950696, http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/p&gt;
&lt;p&gt;Reed W (1979). “Optimal escapement levels in stochastic and deterministic harvesting models.” &lt;em&gt;Journal of Environmental Economics and Management&lt;/em&gt;, &lt;em&gt;6&lt;/em&gt;. ISSN 00950696, http://dx.doi.org/10.1016/0095-0696(79)90014-7&lt;/p&gt;
&lt;h1 id=&quot;evolution-stuff&quot;&gt;Evolution stuff&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;More writing on Wrightscape manuscript. Reply to Peter.&lt;/li&gt;
&lt;li&gt;rfishbase new version to CRAN?&lt;/li&gt;
&lt;li&gt;Create table 1 for treebase&lt;/li&gt;
&lt;li&gt;Touch up pacakge documentation in treebase&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;early-warning&quot;&gt;Early warning&lt;/h1&gt;
&lt;p&gt;Large replicate sims with fine sampling – creating memory issues on nodes on farm. Too hot for SOCK, switching to MPI…&lt;/p&gt;
&lt;h1 id=&quot;package-documentation&quot;&gt;Package Documentation&lt;/h1&gt;
&lt;p&gt;Just as a test, I ran staticdocs &lt;code&gt;build_package&lt;/code&gt; function on rfishbase, sticking the output into &lt;code&gt;inst/doc/html&lt;/code&gt; (from the package root directory).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(staticdocs)
&lt;span class=&quot;kw&quot;&gt;build_package&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;rfishbase&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;inst/doc/html&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I then created the gh-pages branch with just the html docs and pushed to github.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git branch gh-pages
git checkout gh-pages
rm -rf data/ man/ R/ README.md NEWS NAMESPACE DESCRIPTION demo/
mv inst/doc/html/* .
rm -rf inst/
git add *
git commit -a -m &amp;quot;gh-pages documentation&amp;quot;
git push origin gh-pages
git checkout master&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which means that the documentation now appears at: http://ropensci.github.com/rfishbase/&lt;/p&gt;
&lt;p&gt;We can think about customizing the css to some ropensci standard if we like. Should motivate me to get some more pretty examples in the documentation too. I think there’s a way to get vignettes to show up as well, will dig around a bit.&lt;/p&gt;
&lt;p&gt;Also created an index for all packages at http://ropensci.github.com&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/05/10/notes.html"/>
   <updated>2012-05-10T00:00:00-07:00</updated>
   <id>h/2012/05/10/notes</id>
   <content type="html">&lt;h1 id=&quot;partially-observable-stochastic-processes-cont.&quot;&gt;Partially Observable Stochastic Processes (cont.)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Reading a bit more about &lt;code&gt;pomp&lt;/code&gt;. Looks like SCM and PMCMC offer nicely Bayesian inference tools using the same framework (&lt;code&gt;rprocess&lt;/code&gt; and &lt;code&gt;dmeasure&lt;/code&gt;), making a nice platform for implementing multiple methods. Almost feels like having the likelihood equation in hand again.&lt;/li&gt;
&lt;li&gt;A bit more skeptical about nonlinear forecasting and probe matching, as they feel even more heuristic or arbitrary. I suppose that’s just the price of having only &lt;code&gt;rmeasure&lt;/code&gt; instead of &lt;code&gt;dmeasure&lt;/code&gt; available though. Perhaps worth a closer look.&lt;/li&gt;
&lt;li&gt;Time to implement some saddle-node models and see what we can get…&lt;/li&gt;
&lt;li&gt;Also need to spend a bit more time working through examples on Vasilis’s &lt;code&gt;earlywarings&lt;/code&gt; package.&lt;/li&gt;
&lt;li&gt;About ready to submit Prosecutor’s Fallacy paper. Repeating runs, some touch up on presentation still needed.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;evolution-stuff&quot;&gt;Evolution stuff&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;treebase manuscript re-organization. – done&lt;/li&gt;
&lt;li&gt;treebase mansuscript simplify / clarify language – done&lt;/li&gt;
&lt;li&gt;treebase select examples, move technical examples to appendix – done&lt;/li&gt;
&lt;li&gt;treebase finalize new function list. – done&lt;/li&gt;
&lt;li&gt;More writing on Wrightscape manuscript. Reply to Peter.&lt;/li&gt;
&lt;li&gt;rfishbase new version to CRAN?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Treebase miscellaneous exploration examples?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(histogram of species in treebase?)&lt;/li&gt;
&lt;li&gt;gene tree diversification rates vs species tree?&lt;/li&gt;
&lt;li&gt;gene tree of taxon of interest&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;logistics&quot;&gt;Logistics&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;ESA 2012 flight booked. Registration paid. need housing…&lt;/li&gt;
&lt;li&gt;Sent query for CSGF 2012 flights&lt;/li&gt;
&lt;li&gt;Need to book Evolution flight. Registration paid, housing paid.&lt;/li&gt;
&lt;li&gt;file reimbursements&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;computing&quot;&gt;Computing&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;oooh: &lt;a href=&quot;https://github.com/hadley/staticdocs&quot;&gt;staticdocs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Infering Partially Observable Markov Processes with Iterative Particle Filtering</title>
   <link href="/2012/05/09/notes.html"/>
   <updated>2012-05-09T00:00:00-07:00</updated>
   <id>h/2012/05/09/notes</id>
   <content type="html">&lt;p&gt;Excellent talk by Ed Ionides at UC Davis today (led me to miss Weds session of Data to Knowledge).&lt;/p&gt;
&lt;h1 id=&quot;ed-ionides&quot;&gt;Ed Ionides&lt;/h1&gt;
&lt;p&gt;six problems of Bjonstead and Grenfell: an appeal for arbitrary nonlinear partially observed vector valued stochastic models.&lt;br /&gt;POMP doesn’t mix well in the winbugs.&lt;/p&gt;
&lt;p&gt;simulation-based algorithm (plug-and-play)&lt;/p&gt;
&lt;p&gt;Think of a process being defined by:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rprocess()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dprocess()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rmeasure()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dmeasure()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In general we need some subset of these processes:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;type&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;rprocess&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;dprocess&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;rmeasure&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;dmeasure&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;iterative filtering&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Lui-West SCM&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;EM by SCM&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;MCMC&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Nonlin forecasting&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Particle MCMC&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;Probe matching&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;X&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&quot;bayesian-plug-and-play&quot;&gt;Bayesian plug-and-play&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Artificial parameter evolution (Liu &amp;amp; West 2001)&lt;/li&gt;
&lt;li&gt;Approximate Bayesian Computing (&lt;span rel=&quot;tooltip&quot; title=&quot;Toni T, Welch D, Strelkowa N, Ipsen A and Stumpf M (2009).
Approximate Bayesian Computation Scheme For Parameter Inference
And Model Selection in Dynamical Systems. _Journal of The Royal
Society Interface_, *6*. ISSN 1742-5689, 
http://dx.doi.org/10.1098/rsif.2008.0172.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1098/rsif.2008.0172&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Toni &lt;em&gt;et. al.&lt;/em&gt; 2009&lt;/a&gt;&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Particle MCMC (&lt;span rel=&quot;tooltip&quot; title=&quot;Andrieu C, Doucet A and Holenstein R (2010). Particle Markov
Chain Monte Carlo Methods. _Journal of The Royal Statistical
Society: Series B (Statistical Methodology)_, *72*. 
http://dx.doi.org/10.1111/j.1467-9868.2009.00736.x.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1111/j.1467-9868.2009.00736.x&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Andrieu &lt;em&gt;et. al.&lt;/em&gt; 2010&lt;/a&gt;&lt;/span&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;non-bayesian&quot;&gt;Non-Bayesian&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Simulation-based prediction rules “Probe-matching” (&lt;span rel=&quot;tooltip&quot; title=&quot;Kendall B, Briggs C, Murdoch W, Turchin P, Ellner S, McCauley E,
Nisbet R and Wood S (1999). Why do Populations Cycle? A Synthesis
of Statistical And Mechanistic Modeling Approaches. _Ecology_,
*80*. ISSN 0012-9658, 
http://dx.doi.org/10.1890/0012-9658(1999)080[1789:WDPCAS]2.0.CO;2.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1890/0012-9658(1999)080[1789:WDPCAS]2.0.CO;2&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Kendall &lt;em&gt;et. al.&lt;/em&gt; 1999&lt;/a&gt;&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Simulated likelihood of summary statistics (&lt;span rel=&quot;tooltip&quot; title=&quot;Wood S (2010). Statistical Inference For Noisy Nonlinear
Ecological Dynamic Systems. _Nature_, *466*. ISSN 0028-0836,
 http://dx.doi.org/10.1038/nature09319.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1038/nature09319&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Wood, 2010&lt;/a&gt;&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Iterated filtering (&lt;span rel=&quot;tooltip&quot; title=&quot;Ionides E, Breto C and King A (2006). Inference For Nonlinear
Dynamical Systems. _Proceedings of The National Academy of
Sciences_, *103*. ISSN 0027-8424, 
http://dx.doi.org/10.1073/pnas.0603181103.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0603181103&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Ionides &lt;em&gt;et. al.&lt;/em&gt; 2006&lt;/a&gt;&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Nonlinear forecasting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;“Likelihood-free” inference – i.e. don’t have the likelihood equation unlike MCMC, EM need &lt;code&gt;dprocess()&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compare to optimization “gradient-free” methods.&lt;/li&gt;
&lt;li&gt;or to Keverkidis “equation-free” (&lt;span rel=&quot;tooltip&quot; title=&quot;Kevrekidis I, Gear W, Hyman J, Kevrekidid P, Runborg O and
Theodoropoulos C (2003). Equation-Free, Coarse-Grained Multiscale
Computation: Enabling Mocroscopic Simulators to Perform
System-Level Analysis. 
http://projecteuclid.org/euclid.cms/1119655353 [Online.
last-accessed: 2013-03-19 22:38:18]. 
http://projecteuclid.org/euclid.cms/1119655353.&quot;&gt;&lt;a href=&quot;http://projecteuclid.org/euclid.cms/1119655353&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Kevrekidis &lt;em&gt;et. al.&lt;/em&gt; 2003&lt;/a&gt;&lt;/span&gt;) Approximate Bayesian methods and simulated moment methods lead to loss of &lt;em&gt;statistical&lt;/em&gt; efficiency Iterated filtering enables almost exact likelihood-based inference.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ODEs have been plug-and-play (numerical) for a long time. We want this to be true for SDEs as well.&lt;/p&gt;
&lt;h2 id=&quot;filtering&quot;&gt;Filtering&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Think “Kalman filter”. Particle filter is a simulated approximation approach for the likelihood function.&lt;/li&gt;
&lt;li&gt;Iterative filtering is a much more clever way to search for the best fit model than some traditional optimization routine that wants a smooth likelihood function.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Theorem: derivative of the log-likelihood is the small-noise limit of a weighted average of local filtering. In:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(&lt;span rel=&quot;tooltip&quot; title=&quot;Ionides E, Breto C and King A (2006). Inference For Nonlinear
Dynamical Systems. _Proceedings of The National Academy of
Sciences_, *103*. ISSN 0027-8424, 
http://dx.doi.org/10.1073/pnas.0603181103.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0603181103&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Ionides &lt;em&gt;et. al.&lt;/em&gt; 2006&lt;/a&gt;&lt;/span&gt;) (pseudo-code)&lt;/li&gt;
&lt;li&gt;(&lt;span rel=&quot;tooltip&quot; title=&quot;Ionides E, Bhadra A, Atchadé Y and King A (2011). Iterated
Filtering. _The Annals of Statistics_, *39*. ISSN 0090-5364,
 http://dx.doi.org/10.1214/11-AOS886.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1214/11-AOS886&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Ionides &lt;em&gt;et. al.&lt;/em&gt; 2011&lt;/a&gt;&lt;/span&gt;) (proofs)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Scientists like life on the edge of identifiability, &amp;gt; Minimal complexity acceptable to scientsits approx maximimal complexity acceptable to available data&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ah, &lt;a href=&quot;http://www.stat.lsa.umich.edu/~ionides/pubs/davis12.pdf&quot;&gt;Ed’s slides are available online&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Some good information on the &lt;a href=&quot;http://pomp.r-forge.r-project.org/&quot;&gt;pomp website&lt;/a&gt; as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Christophe Andrieu, Arnaud Doucet, Roman Holenstein, (2010) Particle Markov Chain Monte Carlo Methods. &lt;em&gt;Journal of The Royal Statistical Society: Series B (Statistical Methodology)&lt;/em&gt; &lt;strong&gt;72&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.1467-9868.2009.00736.x&quot;&gt;10.1111/j.1467-9868.2009.00736.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;E. L. Ionides, C. Breto, A. A. King, (2006) Inference For Nonlinear Dynamical Systems. &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt; &lt;strong&gt;103&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0603181103&quot;&gt;10.1073/pnas.0603181103&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Edward L. Ionides, Anindya Bhadra, Yves Atchadé, Aaron King, (2011) Iterated Filtering. &lt;em&gt;The Annals of Statistics&lt;/em&gt; &lt;strong&gt;39&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1214/11-AOS886&quot;&gt;10.1214/11-AOS886&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Bruce E. Kendall, Cheryl J. Briggs, William W. Murdoch, Peter Turchin, Stephen P. Ellner, Edward McCauley, Roger M. Nisbet, Simon N. Wood, (1999) Why do Populations Cycle? A Synthesis of Statistical And Mechanistic Modeling Approaches. &lt;em&gt;Ecology&lt;/em&gt; &lt;strong&gt;80&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/0012-96581999080[1789:WDPCAS]2.0.CO;2&quot;&gt;10.1890/0012-9658(1999)080[1789:WDPCAS]2.0.CO;2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simon N. Wood, (2010) Statistical Inference For Noisy Nonlinear Ecological Dynamic Systems. &lt;em&gt;Nature&lt;/em&gt; &lt;strong&gt;466&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1038/nature09319&quot;&gt;10.1038/nature09319&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;E. L. Ionides, C. Breto, A. A. King, (2006) Inference For Nonlinear Dynamical Systems. &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt; &lt;strong&gt;103&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0603181103&quot;&gt;10.1073/pnas.0603181103&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;T. Toni, D. Welch, N. Strelkowa, A. Ipsen, M. P.H Stumpf, (2009) Approximate Bayesian Computation Scheme For Parameter Inference And Model Selection in Dynamical Systems. &lt;em&gt;Journal of The Royal Society Interface&lt;/em&gt; &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1098/rsif.2008.0172&quot;&gt;10.1098/rsif.2008.0172&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ioannis Kevrekidis, William Gear, James Hyman, Panagiotis Kevrekidid, Olof Runborg, Constantinos Theodoropoulos, (2003) Equation-Free, Coarse-Grained Multiscale Computation: Enabling Mocroscopic Simulators to Perform System-Level Analysis. &lt;em&gt;Communications in Mathematical Sciences&lt;/em&gt; &lt;a href=&quot;http://projecteuclid.org/euclid.cms/1119655353&quot;&gt;http://projecteuclid.org/euclid.cms/1119655353&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;exploring-iterative-filtering-in-pomp&quot;&gt;Exploring Iterative Filtering in POMP&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/populationdynamics/blob/497d4ce4c401833464ccaff6edd518133f4e9b0c/inst/examples/pomp_explore.md&quot;&gt;my example exploration&lt;/a&gt;, following the &lt;a href=&quot;http://cran.at.r-project.org/web/packages/pomp/vignettes/intro_to_pomp.pdf&quot;&gt;introductory vignette.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that the iterative filtering algorithm took a little over 16 minutes on ten processors on the farm cluster. pomp does not provide any parallelization. Particles must communicate at each iteration. With tight communication loops, could probably get substantial acceleration on MPI or GPU.&lt;/p&gt;
&lt;p&gt;(Would be interesting to drive the simulation with Gillespie algorithm, something richer than a crude discritization. Depending on timescale, may result in very computationally intensive requirements).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pomp)
gompertz.proc.sim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, t, params, delta.t, ...) {
    r &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;params[&lt;span class=&quot;st&quot;&gt;&amp;quot;r&amp;quot;&lt;/span&gt;]
    K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;params[&lt;span class=&quot;st&quot;&gt;&amp;quot;K&amp;quot;&lt;/span&gt;]
    sigma &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;params[&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;]
    X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[&lt;span class=&quot;st&quot;&gt;&amp;quot;X&amp;quot;&lt;/span&gt;]  &lt;span class=&quot;co&quot;&gt;# the state at time t:&lt;/span&gt;
    ## generate a log-normal random variable:
    eps &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; sigma))
    ## compute the state at time t+delta.t:
    S &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(-r *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;delta.t)
    &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;X =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;unname&lt;/span&gt;(K^(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;S) *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;X^S *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;eps))
}&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz.meas.sim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, t, params, ...) {
    tau &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;params[&lt;span class=&quot;st&quot;&gt;&amp;quot;tau&amp;quot;&lt;/span&gt;]
    X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[&lt;span class=&quot;st&quot;&gt;&amp;quot;X&amp;quot;&lt;/span&gt;]  &lt;span class=&quot;co&quot;&gt;# state at time t:&lt;/span&gt;
    y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Y =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;unname&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;meanlog =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(X), &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; tau)))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;create a container of class &lt;code&gt;pomp&lt;/code&gt; to hold the model and data.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pomp&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Y =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;times =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;rprocess =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;discrete.time.sim&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;step.fun =&lt;/span&gt; gompertz.proc.sim, &lt;span class=&quot;dt&quot;&gt;delta.t =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), 
    &lt;span class=&quot;dt&quot;&gt;rmeasure =&lt;/span&gt; gompertz.meas.sim, &lt;span class=&quot;dt&quot;&gt;t0 =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Parameters and inital condition:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;theta &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;r =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;K =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;tau =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;X.0 =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;params =&lt;/span&gt; theta)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;variables =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Y&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8012/7168130004_62bc33148d_o.png&quot; alt=&quot;plot of chunk simulate&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk simulate&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Likelihood using a particle filter (sequential Monte Carlo) requires the measurement density (but not the process density).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz.meas.dens &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y, x, t, params, log, ...) {
    tau &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;params[&lt;span class=&quot;st&quot;&gt;&amp;quot;tau&amp;quot;&lt;/span&gt;]
    ## state at time t:
    X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[&lt;span class=&quot;st&quot;&gt;&amp;quot;X&amp;quot;&lt;/span&gt;]
    ## observation at time t:
    Y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y[&lt;span class=&quot;st&quot;&gt;&amp;quot;Y&amp;quot;&lt;/span&gt;]
    ## compute the likelihood of Y|X,tau
    &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; Y, &lt;span class=&quot;dt&quot;&gt;meanlog =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(X), &lt;span class=&quot;dt&quot;&gt;sdlog =&lt;/span&gt; tau, &lt;span class=&quot;dt&quot;&gt;log =&lt;/span&gt; log)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Stick the new function into our container:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pomp&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;dmeasure =&lt;/span&gt; gompertz.meas.dens)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we get a point estimate of the likelihood,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;pf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pfilter&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;params =&lt;/span&gt; theta, &lt;span class=&quot;dt&quot;&gt;Np =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;logLik&lt;/span&gt;(pf)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;[1] 49.29&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;iterated-filtering&quot;&gt;Iterated filtering&lt;/h3&gt;
&lt;p&gt;We will do this in the transformed variable space, so we add our transformation method to the container:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;gompertz &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pomp&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;parameter.transform =&lt;/span&gt; function(params, 
    ...) {
    &lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(params)
}, &lt;span class=&quot;dt&quot;&gt;parameter.inv.transform =&lt;/span&gt; function(params, ...) {
    &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(params)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we’re ready for an iterated-filtering run. This is gonna be slow, so let’s set up a parallel architecture first:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(snowfall)
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;parallel =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpu =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;rep &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(dummy_index) {
    estpars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;r&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;tau&amp;quot;&lt;/span&gt;)
    theta.guess &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;coef&lt;/span&gt;(gompertz)
    theta.guess[estpars] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(estpars), &lt;span class=&quot;dt&quot;&gt;meanlog =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(theta.guess[estpars]), 
        &lt;span class=&quot;dt&quot;&gt;sdlog =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;mif&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;Nmif =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;start =&lt;/span&gt; theta.guess, &lt;span class=&quot;dt&quot;&gt;transform =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;pars =&lt;/span&gt; estpars, 
        &lt;span class=&quot;dt&quot;&gt;rw.sd =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;r =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.02&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.02&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;tau =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Np =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;var.factor =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;ic.lag =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cooling.factor =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.999&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max.fail =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
}
&lt;span class=&quot;kw&quot;&gt;sfExportAll&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;system.time&lt;/span&gt;(mf &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, rep))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;   user  system elapsed 
   0.02    0.00 1037.39 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Average parameter estimates (compare to theta)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;theta.mif &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;apply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(mf, coef), &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, mean)
theta.mif&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;      r       K   sigma     tau     X.0 
0.04385 1.00000 0.09647 0.10495 1.00000 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Evaluating the log-likelihoods at the convergent parameters requires the particle filter. This line applies the particle filter to each of the parameter estimates&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;loglik.mif &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;replicate&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;logLik&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pfilter&lt;/span&gt;(mf[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]], &lt;span class=&quot;dt&quot;&gt;params =&lt;/span&gt; theta.mif, 
    &lt;span class=&quot;dt&quot;&gt;Np =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10000&lt;/span&gt;)))
bl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(loglik.mif)
loglik.mif.est &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.mif -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl)))
loglik.mif.se &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.mif -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl))/&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.mif.est -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl)
&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;est =&lt;/span&gt; loglik.mif.est, &lt;span class=&quot;dt&quot;&gt;se =&lt;/span&gt; loglik.mif.se)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;     est       se 
51.45397  0.09316 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;“True” uses the original model and coefficients rather than the estimated one, but still approximates the log.likelihood using particle filtering&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;loglik.true &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;replicate&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;logLik&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pfilter&lt;/span&gt;(gompertz, &lt;span class=&quot;dt&quot;&gt;params =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;coef&lt;/span&gt;(gompertz), 
    &lt;span class=&quot;dt&quot;&gt;Np =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10000&lt;/span&gt;)))
loglik.true.est &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.true -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl)))
loglik.true.se &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.true -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bl))/&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(loglik.true.est -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;bl)
&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;est =&lt;/span&gt; loglik.true.est, &lt;span class=&quot;dt&quot;&gt;se =&lt;/span&gt; loglik.true.se)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;    est      se 
50.0128  0.1062 &lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Data to Knowledge Day II and other notes</title>
   <link href="/2012/05/08/notes.html"/>
   <updated>2012-05-08T00:00:00-07:00</updated>
   <id>h/2012/05/08/notes</id>
   <content type="html">&lt;p&gt;Great second day at the Data to Knowledge conference (a few notes below).&lt;br /&gt;Also I have been trying to move a few projects forward during the commute and break. I’ve sent Alan my revisions on the prosecutor’s fallacy manuscript, getting pretty close. Following up on a query from John, ran a simulation showing the impact of having a delay in the timeseries before the slow change towards the bifurcation begins. Certainly weakens power but does not preclude the linear-change model detecting the change, &lt;a href=&quot;https://github.com/cboettig/earlywarning/blob/59e6da5cee663447509db0441c81fe4a6b960c34/inst/examples/delayed.md&quot;&gt;see example&lt;/a&gt; Also moving towards scheduling a call for the pdg-control manuscript on stochastic policy costs; some notes below.&lt;/p&gt;
&lt;h1 id=&quot;data-to-knowledge-conference-day-2&quot;&gt;Data to Knowledge Conference, Day 2&lt;/h1&gt;
&lt;p&gt;David A. Bader, algorithm design / HPC perspective&lt;/p&gt;
&lt;p&gt;Opportunities:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;HPC on big data (massive graphs)&lt;/li&gt;
&lt;li&gt;Streaming analytics: Today’s challenges aren’t dense linear algebra.&lt;/li&gt;
&lt;li&gt;Informational visualization - more data on graph than we have pixels&lt;/li&gt;
&lt;li&gt;Hetergeneous systems - a system that can reconfigure memory hierarchy on the fly&lt;/li&gt;
&lt;li&gt;energy efficiency (moving data takes high energy as well as time)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is not the time to get stuck in a single paradigm! Scientific computing != MPI Big data != Hadoop/Map-reduce&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;External disk -------------------------------------------- Internal memory
Hadoop -- traditional database -- cloud/cluster -- large shared memory
Easy programming -------------- harder
low performance --------------- higher performance
high energy use --------------- low energy use&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Latency on memory (random access some address in a big global index) dominates over floating point calculations Cray XMT 512 processor, 128 threads/processor, 64TB global memory, no cache.&lt;/p&gt;
&lt;h2 id=&quot;jeff-hawkins-brain-as-a-streaming-processor&quot;&gt;Jeff Hawkins: Brain as a streaming processor&lt;/h2&gt;
&lt;p&gt;learning isn’t about strengthening weights on synapses – they form and vanish all the time. connections are binary, with scalar permanence.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;The two-Layer learning system (classification problem)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Layer 0 is the original problem:&lt;/li&gt;
&lt;li&gt;receive labeled and unlabeled data&lt;/li&gt;
&lt;li&gt;train a classifier on labeled example, predict for others.&lt;/li&gt;
&lt;li&gt;Layer 1 meta-classifier which tries to learn over which data layer 0 does well (using binary classification on layer 0 as true or false)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;policy-costs&quot;&gt;Policy Costs&lt;/h1&gt;
&lt;p&gt;Framing the question: Need to discuss these issues, then get a someone to be point-person on each?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Policy costs – Why this is important, what’s already known.&lt;/li&gt;
&lt;li&gt;Typical ways these concerns are addressed (i.e. quadratic costs on control), similarity &amp;amp; differences.&lt;/li&gt;
&lt;li&gt;Discussion of policy costs as “Regularization”&lt;/li&gt;
&lt;li&gt;Why stochastic?&lt;/li&gt;
&lt;li&gt;Background: Reed model.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Results so far: (discuss these, decide what needs more study)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Introduce &amp;amp; characterize the impact of different norms: L1, L2, asymmetric, fixed costs&lt;/li&gt;
&lt;li&gt;Comparison to Reed&lt;/li&gt;
&lt;li&gt;The double-pay of policy costs: Paying for the transactions, difference from optimal policy&lt;/li&gt;
&lt;li&gt;Comparisons between these norms apples-to-apples.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Discussion/Conclusion – what do we highlight?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Must first answer - which journal/audience?&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;misc&quot;&gt;Misc&lt;/h1&gt;
&lt;p&gt;Modified css to use twitter-bootstrap striped tables as table default, since markdown won’t add a class on tables automatically. Hopefully doesn’t cause trouble with other table layouts.&lt;/p&gt;
&lt;p&gt;Note that &lt;code&gt;xtable&lt;/code&gt; can handle this by toggling options&amp;quot;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;html.table.attributes=&lt;span class=&quot;kw&quot;&gt;getOption&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;xtable.html.table.attributes&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;class=table-striped&amp;quot;&lt;/span&gt;),&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;so setting html class of tables should work fine in &lt;code&gt;knitr&lt;/code&gt;. On the flip side, sounds like pandoc would do better with ascii tables as input than with html tables?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Data to Knowledge Day 1</title>
   <link href="/2012/05/07/notes.html"/>
   <updated>2012-05-07T00:00:00-07:00</updated>
   <id>h/2012/05/07/notes</id>
   <content type="html">&lt;h2 id=&quot;scaling-time-series-data-mining-to-trillions-of-series&quot;&gt;Scaling Time Series Data Mining to trillions of series&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.cs.ucr.edu/~eamonn/&quot;&gt;Eamonn Keogh&lt;/a&gt;&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Similarity search is the fundamental problem for any task&lt;/li&gt;
&lt;li&gt;This problem is now solved.&lt;/li&gt;
&lt;li&gt;As effective as possible, as efficient as possible.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;What is similarity search? All about required invariances: Looking at ancient manuscripts of fish – identify multiple drawings of the same species. Invariant to color, scale, and orientation.&lt;br /&gt;(Note that rotation becomes phase, easy to handle). Of course database to compare to might be very large, so this must be fast.&lt;/p&gt;
&lt;p&gt;Time-series space: Larson transform. Key is often changing between data formats. DNA to time-series: G = step up 1, A = step up two, C = step down 1, etc.&lt;br /&gt;Produces accurate phylogenies Locke et al., Nature.&lt;/p&gt;
&lt;p&gt;Identify mosquito species based on activity time series pattern.&lt;br /&gt;Now doing in real time identification of sex and species by flight path from 100m away.&lt;/p&gt;
&lt;p&gt;Beet leafhopper, $10 billion damage by spreading disease between plants.&lt;br /&gt;measure voltage on leafhoppers. Time-series motifs identify common behaviors.&lt;br /&gt;See &lt;a href=&quot;http://www.cs.ucr.edu/~eamonn/SDM_insects.pdf&quot;&gt;paper&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Finding rules in time series for predicting patterns.&lt;br /&gt;Rules work across Zebra finch songs. Knockout genes, see how this changes.&lt;/p&gt;
&lt;p&gt;What are the distance measures? Invariant to: noise, uniform scaling, offset, amplitude scaling, dropouts, phase, warping.&lt;/p&gt;
&lt;p&gt;Euclidean distance between &lt;code&gt;i&lt;/code&gt;th pt in the time-series.&lt;br /&gt;Much better: distance to &lt;code&gt;i+1&lt;/code&gt; etc. “Dynamic Time Warping”.&lt;/p&gt;
&lt;p&gt;Claim to have tested every publicly available dataset in the world.&lt;br /&gt;Got code/advice from every author and asked them how to make it better.&lt;br /&gt;All other methods are slower, more parameter-rich than anything else. Not on average, but on every dataset we’ve tested. (While not “every dataset in the world”, Eamonn probably has assembled one of the largest collections of datasets used in clustering, which he makes conditionally &lt;a href=&quot;http://www.cs.ucr.edu/~eamonn/time_series_data/&quot;&gt;available on his website&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;But isn’t DTW is O(N^2) to minimize the path in distance space between any pt in set 1 and any set in pt 2.&lt;br /&gt;LB Keogh method makes it O(N). But, can now do in O(1).&lt;/p&gt;
&lt;p&gt;How about high dimensions. answers: argues that low-dimensions is all that you need, which needs domain expertise.&lt;/p&gt;
&lt;h2 id=&quot;random-forests&quot;&gt;Random forests&lt;/h2&gt;
&lt;p&gt;more memory efficient, scalable solution for random forests.&lt;br /&gt;&lt;a href=&quot;github.com/deads/bigrf&quot;&gt;code on github&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;coffee-break&quot;&gt;coffee break&lt;/h2&gt;
&lt;p&gt;Nice chatting with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Josh Bloom, Astrophysics.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Michael Last, applied math, US Gov’t.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Excellent discussion with Keogh about applications of time series analysis to early warning&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;sparse-gev-yan-liu.&quot;&gt;Sparse GEV Yan Liu.&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;EM algorithm approach.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;classifying-signals-with-missing-data&quot;&gt;Classifying signals with missing data&lt;/h2&gt;
&lt;p&gt;i.e. before we’ve seen the future of the data.&lt;br /&gt;Estimate reliability of the data, decide when to act.&lt;br /&gt;(Reliable != accurate. Just means same prediction as full data) Model random features parameterized from data so far.&lt;/p&gt;
&lt;h2 id=&quot;astro-statistical-challenges-alex-szalay&quot;&gt;Astro-statistical challenges (&lt;a href=&quot;http://www.sdss.jhu.edu/~szalay/&quot;&gt;Alex Szalay&lt;/a&gt;)&lt;/h2&gt;
&lt;p&gt;limitations of poor sampling give way to systematic errors unknown unknowns when no models available&lt;/p&gt;
&lt;p&gt;Sparse signal, large dimensions, much noise, rare events, Large SVD perfect for randomized algorithms&lt;/p&gt;
&lt;h2 id=&quot;jeff-scargle-bayesian-blocks-segmented-models-for-detecting-and-characterizing-transients-in-streaming-time-series&quot;&gt;Jeff Scargle, Bayesian Blocks: Segmented Models for Detecting and Characterizing Transients in Streaming Time Series&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Construct a good representation of the variability of the underlying process from time series data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A Bayesian dynamic programming solution for selecting change-points.&lt;/p&gt;
&lt;h2 id=&quot;multiple-object-detections-in-time-domain-surveys-tamas-budavari&quot;&gt;Multiple Object Detections in Time-Domain Surveys (Tamas Budavari)&lt;/h2&gt;</content>
 </entry>
 
 <entry>
   <title>My research workflow, based on Github</title>
   <link href="/2012/05/06/research-workflow.html"/>
   <updated>2012-05-06T00:00:00-07:00</updated>
   <id>h/2012/05/06/research-workflow</id>
   <content type="html">&lt;p&gt;This post outlines my current research workflow. This has evolved over time, so only my most recent projects hold completely to it, though almost all my projects follow the general R package structure. Two main differences are visible in my earlier projects: I used to keep scripts in &lt;code&gt;demo&lt;/code&gt; before they became the more complete knitr markdown in &lt;code&gt;inst/examples&lt;/code&gt;. I previously relied on a custom package called socialR to post results from those scripts to flickr, and would then embed the results in my Wordpress notebook, linking back to the demo file in Github. Knitr has allowed me to keep those figures, code and text in the package repository. This keeps everything more centralized (to Github), and lets each of the examples be updated in a more natural way than the linear record in the lab notebook. (Images are still hosted on flickr to avoid committing the binary files, knitr handles this upload rather well.).&lt;/p&gt;
&lt;p&gt;I’ve recently gotten better at always including &lt;code&gt;Roxygen&lt;/code&gt; documentation for packages. Since &lt;code&gt;knitr&lt;/code&gt; and markdown are recent developments for me, many older and even working manuscripts are still local in LaTeX. Being sensitive to the desires of collaborators means, that some projects are kept locally or hosted as private, secure repositories.&lt;/p&gt;
&lt;h1 id=&quot;my-workflow&quot;&gt;My Workflow&lt;/h1&gt;
&lt;p&gt;When I begin a new research project, I create a repository for that project in &lt;a href=&quot;https://github.com/cboettig&quot;&gt;Github&lt;/a&gt;. Projects that build substantially on earlier work of mine may start as a &lt;code&gt;clone&lt;/code&gt; of one of my existing projects. New directions in an existing project will instead begin as a branch within that repository, that may merge or be split out.&lt;/p&gt;
&lt;p&gt;Each repository is organized as an R package, with the basic directories &lt;code&gt;R/&lt;/code&gt;, &lt;code&gt;src/&lt;/code&gt;, &lt;code&gt;man/&lt;/code&gt; &lt;code&gt;data/&lt;/code&gt;, &lt;code&gt;inst/examples/&lt;/code&gt; and &lt;code&gt;inst/doc/&lt;/code&gt;, and the metadata file &lt;code&gt;DESCRIPTION&lt;/code&gt; providing the R package metadata such as author and dependencies. &lt;code&gt;README.md&lt;/code&gt; files provide descriptions of the directories. The package is installable directly from R through Github. The R package structure nicely handles software dependencies, documentation, and metadata in a consistent and portable structure:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;R/&lt;/code&gt; provides R functions representing commonly used analyses.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;src/&lt;/code&gt; provides C source-code for any R functions that are too slow by themselves.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;man/&lt;/code&gt; contains automatically generated documentation of these functions from the Roxygen documentation included in the function files.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;data/&lt;/code&gt; contains small data files. Version management is not ideal for large data files. Instead, a README file contains metadata and links to data stored on a seperate webserver.&lt;br /&gt;The README file can be version managed within git and nicely displayed on Github.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;inst/examples/&lt;/code&gt; contains each of my investigations. These are saved as &lt;a href=&quot;http://yihui.name/knitr&quot;&gt;knitr&lt;/a&gt; files, which allow me to mix markdown text describing what I am doing with each code block. Knitr runs this code and assembles the results in a markdown format that displays the code, images, and supporting text nicely together. Long blocks of code become abstracted as functions and move into the &lt;code&gt;R&lt;/code&gt; directory, where they recieve formal documentation and can be more easily used in later examples.&lt;/li&gt;
&lt;li&gt;Sections from mature examples can be moved into &lt;code&gt;inst/doc/&lt;/code&gt; as another markdown file that will eventually become a publication associated with this work. The paper acts a Sweave-style dynamic document that still contains the code relevant to re-create the examples, though options can now hide that code from the final display. In addition to the markdown format for online viewing, &lt;code&gt;inst/doc/&lt;/code&gt; includes utilities from knitr and &lt;a href=&quot;http://johnmacfarlane.net/pandoc/&quot;&gt;pandoc&lt;/a&gt; which handle citations and can convert this markdown file into a LaTeX or Word document for journal submission.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Github maintains and displays the version history of the workflow, making it easy to compare earlier versions of the manuscript, and track the history of the results to even before they reach the manuscript in &lt;code&gt;inst/examples/&lt;/code&gt;. Contributions of collaborators using Github are easily tracked and displayed as well. Github can provide version-stable links that will point to any element at a fixed point in the process, and dynamic links that always point to the most recent version (or even particular line of code in a version).&lt;/p&gt;
&lt;p&gt;Github’s issues tracker provides a convenient platform to record, sort, and prioritize issues that need to be addressed and directions for future exploration. Issues can be submitted by anyone.&lt;/p&gt;
&lt;p&gt;The R package structure provides a standardized and portable container for the project suitable for combining functions, scripts, documentation, and examples, and also handling software dependencies and versions.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/05/04/notes.html"/>
   <updated>2012-05-04T00:00:00-07:00</updated>
   <id>h/2012/05/04/notes</id>
   <content type="html">&lt;h2 id=&quot;chris-costello-talk&quot;&gt;Chris Costello Talk&lt;/h2&gt;
&lt;p&gt;Presents unpublished work on value of (behavioral) adaptation, using forestry practices changing under climate change as the example. &lt;strong&gt;If we ignore adaptive responses, we overestimate costs and underestimate benefits.&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Effect w/ adaptation:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d V}{d \theta} = \frac{\partial f}{\partial r} \frac{\partial r }{\partial \theta} + \frac{\partial f}{\partial \theta}&quot; alt=&quot;\frac{d V}{d \theta} = \frac{\partial f}{\partial r} \frac{\partial r }{\partial \theta} + \frac{\partial f}{\partial \theta}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Envelope theorem: optimal point is at &lt;span&gt;( df/dr = 0 )&lt;/span&gt;, so no value of adaptation after optimizing with respect to r.&lt;/li&gt;
&lt;li&gt;Present Faustman harvest model adding with heterogeneity on site, species, time, age, environment to dynamic programming solution.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;meeting&quot;&gt;meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Discuss @Sethi2005 and @Brozovic2011&lt;/li&gt;
&lt;li&gt;Option value pricing on acting on an early warning signal?&lt;/li&gt;
&lt;li&gt;Discussion of adding&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;lunch&quot;&gt;lunch&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fascinating discussion of his experience in the marine reserve design process, in which they use a model to score proposals offered by stakeholders but are forbidden using the model to predict the optimal policy (since they are then more directly accountable for the recommendation).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;Wrightscape&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Should we present the additional traits that do not show a signal, for contrast?&lt;/li&gt;
&lt;li&gt;Launched additional runs on &lt;code&gt;farm&lt;/code&gt; cluster, each on 16 cores, running over all traits:&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;pid&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;priority&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;name&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;time of launch&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;61830&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.61000&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;intra&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;05/04/2012 15:26:21&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;61831&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.61000&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;twoshifts&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;5/04/2012 15:27:06&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;61832&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.00000&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;pharyngeal&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;05/04/2012 15:34:07&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content>
 </entry>
 
 <entry>
   <title>Testing out a Jekyll-based notebook</title>
   <link href="/2012/05/03/testing-out-a-jekyll-based-notebook.html"/>
   <updated>2012-05-03T03:50:13-07:00</updated>
   <id>h/2012/05/03/testing-out-a-jekyll-based-notebook</id>
   <content type="html">&lt;p&gt;I &lt;a href=&quot;http://carlboettiger.info/lab-notebook.html&quot;&gt;am trying out Jekyll&lt;/a&gt; as an alternative to Wordpress for powering this site and my open lab notebook. If you subscribe, the new RSS (atom) feed for the new notebook is at &lt;a href=&quot;http://carlboettiger.info/atom.xml&quot;&gt;http://carlboettiger.info/atom.xml&lt;/a&gt;. I’d love to hear any feedback, good or bad, about the switch.  A recent post gives &lt;a href=&quot;http://www.carlboettiger.info/OpenScience/2012/05/01/Jekyll-vs-Wordpress.html&quot;&gt;my own reflections&lt;/a&gt;.  The site’s &lt;a href=&quot;https://github.com/cboettig/jekyll-source/&quot;&gt;source-code is available on github&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;navigating-two-platforms&quot;&gt;Navigating two platforms&lt;/h2&gt;
&lt;p&gt;The Wordpress site now lives at &lt;a href=&quot;http://carlboettiger.info/wordpress&quot;&gt;http://carlboettiger.info/wordpress&lt;/a&gt;, while the new Jekyll site lives at the root domain: &lt;a href=&quot;http://carlboettiger.info&quot;&gt;http://carlboettiger.info&lt;/a&gt;. All former links to the wordpress site will still work (though they are also available with “wordpress” in the url).  Enjoy the faster, simpler site.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/05/03/notes.html"/>
   <updated>2012-05-03T00:00:00-07:00</updated>
   <id>h/2012/05/03/notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Returned proofs for warning signals paper.&lt;/li&gt;
&lt;li&gt;Wrightscape figures sent to Peter.&lt;/li&gt;
&lt;li&gt;move &lt;code&gt;fallacy&lt;/code&gt; to a branch off of main in &lt;code&gt;earlywaring&lt;/code&gt; package?&lt;/li&gt;
&lt;li&gt;Running knit on the large clusters means images cannot be uploaded as they are created, since compute nodes don’t have internet access. Saving files locally, I’ve created &lt;a href=&quot;https://github.com/cboettig/sandbox/blob/master/uploadflickr&quot;&gt;a little script&lt;/a&gt; to parse the output &lt;code&gt;file.md&lt;/code&gt; to find the and upload the local images, and swap the local paths for the url paths.&lt;/li&gt;
&lt;li&gt;Also wrote quick R &lt;a href=&quot;https://github.com/cboettig/sandbox/blob/master/bibgen&quot;&gt;script to build the corresponding bib files&lt;/a&gt; from a markdown file with pandoc style citations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Minor tweaks on new site.&lt;/li&gt;
&lt;li&gt;Annoyed by &lt;a href=&quot;http://stackoverflow.com/questions/10438937/is-there-a-markdown-parser-supported-on-jekyll-that-plays-nicely-with-mathjax&quot;&gt;Mathjax/markdown issues&lt;/a&gt;. &lt;a href=&quot;https://github.com/tanoku/redcarpet/issues/130&quot;&gt;Redcarpet&lt;/a&gt;. Maruku does better, protecting anything in &lt;code&gt;$$&lt;/code&gt;, but lacks support for fenced code blocks. They are supposed to work on &lt;a href=&quot;https://github.com/nex3/maruku/issues/28#issuecomment-5499698&quot;&gt;this fork&lt;/a&gt;, but no luck. UPDATE – problem solved, I can just wrap any mathjax expressions in a &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; &lt;code&gt;&amp;lt;/div&amp;gt;&lt;/code&gt; and they’ll work with any markdown interpreter.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;UC considers an &lt;a href=&quot;http://phylogenomics.blogspot.com/2012/05/draft-of-proposal-for-uc-openaccess.html&quot;&gt;open-access policy&lt;/a&gt;, now open for comments. (Email Brian Kolner, we may get a statement from the GSA giving a student perspective on this one).&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Stochastic policy costs</title>
   <link href="/2012/05/02/stochastic-policy-costs.html"/>
   <updated>2012-05-02T00:00:00-07:00</updated>
   <id>h/2012/05/02/stochastic-policy-costs</id>
   <content type="html">&lt;p&gt;Updated runs for various norms, added profit plots.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ecc1b23594234cbc99def6114d5ccf6f48908e3a/inst/examples/policycosts/L1.md&quot;&gt;L1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ecc1b23594234cbc99def6114d5ccf6f48908e3a/inst/examples/policycosts/L2.md&quot;&gt;L2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;asymmetric: differs on the sign of the asymmetry? Penalty only for &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ecc1b23594234cbc99def6114d5ccf6f48908e3a/inst/examples/policycosts/free_increase.md&quot;&gt;decreasing quotas&lt;/a&gt;. Penalty only for &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ecc1b23594234cbc99def6114d5ccf6f48908e3a/inst/examples/policycosts/free_decrease.md&quot;&gt;increasing quotas&lt;/a&gt;. check implementation.&lt;/li&gt;
&lt;li&gt;fixed transaction fee – whoops, fixed cost should still be free when &lt;code&gt;h == h_prev&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We need to determine a the magnitude of penalty coefficient to compare between the different functional forms. For instance, for what value of &lt;code&gt;c&lt;/code&gt; is an &lt;code&gt;L2&lt;/code&gt; penalty, $ c ( h_t - h_p )^2 $ comparable to the &lt;code&gt;L1&lt;/code&gt; penalty, $ c (h_t - h_p ) $ ?&lt;/p&gt;
&lt;p&gt;I think we decided that we should select this parameter such that the penalty induces the same equilibrium expected profit from fishing (before costs of policy-changes are subtracted) in each functional form. Is this correct?&lt;/p&gt;
&lt;p&gt;Consequently we simply calculate this expected-profit-from-fishing under each penalty over a range of &lt;code&gt;c&lt;/code&gt; values, and plot a curve for each profit value as a function of &lt;code&gt;c&lt;/code&gt;. A horizontal line across this graph at, say, 50% of the adjustment-costs-free (i.e. Reed) profits would intersect each curve at the value of &lt;code&gt;c&lt;/code&gt; that corresponded to this common baseline. Was that the agreed upon apples-to-apples strategy?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Computing this from the numerics: average over replicates. Provides variance estimates too, but rather noisy. &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/simulate_npv_curves.md&quot;&gt;results&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Computing exactly from the SDP solution – record the equilbrium value-to-go would be before profits have been added. &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/exact_npv.md&quot;&gt;results&lt;/a&gt;. Also needs rerunning with corrected fixed-fee model.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Jekyll vs Wordpress</title>
   <link href="/2012/05/01/Jekyll-vs-Wordpress.html"/>
   <updated>2012-05-01T00:00:00-07:00</updated>
   <id>h/2012/05/01/Jekyll-vs-Wordpress</id>
   <content type="html">&lt;p&gt;I am now trying out a &lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll-based platform&lt;/a&gt; rather than a Wordpress based for my website and lab notebook. Don’t worry, the Wordpress site still remains where it was with links intact, I’ve simply remapped the homepage. For now this is an experiment, we’ll see how it goes.&lt;/p&gt;
&lt;h1 id=&quot;why-switch&quot;&gt;Why switch?&lt;/h1&gt;
&lt;h2 id=&quot;speed&quot;&gt;Speed&lt;/h2&gt;
&lt;p&gt;Wordpress was great, meeting most of my needs for a customizable site that I couldn’t really accomplish in my first online notebook on &lt;a href=&quot;http://openwetware.org&quot;&gt;OpenWetWare&lt;/a&gt;. Unfortunately, despite caching and a variety of other optimization steps, Wordpress remains very demanding of computational power, and consequently both expensive and unstable to traffic bursts. Relying on Wordpress.com would avoid this, but loses some of the customization and flexibility – particularly plugins for &lt;a href=&quot;http://mathjax.org&quot;&gt;MathJax&lt;/a&gt; and &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;kcite&lt;/a&gt;, as well as anything needing a script. The &lt;a href=&quot;http://en.support.wordpress.com/com-vs-org/&quot;&gt;Wordpress.com vs Wordpress.org&lt;/a&gt; page sums up the trade-offs between these options very well. Jekyll, on the other hand, is light as a feather. All the content is static, like in the early days of the web, rather than served on the fly through dynamic databases. This means that the site can load instantly even from a low-power server. A lot has been written about the advantages of static sites, which seem to be on the rise these days, so I won’t add much more here.&lt;/p&gt;
&lt;h2 id=&quot;markdown&quot;&gt;Markdown&lt;/h2&gt;
&lt;p&gt;Markdown syntax has become my Lingua Franca of day-to-day work, thanks to tools such as knitr and pandoc. It allows me to have files in a single format that are maximimally mobile, displaying well on Github, converting into LaTeX or MS Word manuscripts, and even running as R code. It doesn’t force me to work in a source format that is surrounded by markup code which makes things hard to read without rendering them, such as LaTeX or HTML, which frees me to focus on content. The common format means that I can take some R script I write and surround it with meaningful comments, math, etc, which can be easily shared on Github and later adapted into a manuscript without worrying about formats. (I’ve written about this &lt;a href=&quot;http://www.carlboettiger.info/archives/4325&quot;&gt;workflow here&lt;/a&gt; and adapting it to &lt;a href=&quot;http://www.carlboettiger.info/archives/4419&quot;&gt;manuscripts here&lt;/a&gt;). Now this works seemlessly on my website as well, instead of needing custom shortcode for Wordpress syntax highlighting, etc. For instance, here’s a &lt;a href=&quot;http://www.carlboettiger.info/ecology/2012/04/30/Sethi.html&quot;&gt;recent code script&lt;/a&gt; I just dropped into my &lt;code&gt;_posts&lt;/code&gt; directory and added the yaml header.&lt;/p&gt;
&lt;h2 id=&quot;reservations&quot;&gt;Reservations&lt;/h2&gt;
&lt;p&gt;My greatest reservation in this shift comes from the vibrant user and developer community on Wordpress (Wordpress powers an estimated 14% of the top 1 million websites) including a &lt;a href=&quot;https://groups.google.com/forum/#!forum/wordpress-for-scientists&quot;&gt;Wordpress-for-Scientists group&lt;/a&gt;. This means that almost anything you want has already been done. A downside is the need to know PHP and Wordpress-specific implementation to do anything the community hasn’t already provided. Thanks to Github and it’s appeal as a “hacker’s blog,” Jekyll has a powerful and growing community of it’s own. It’s not a content management system (CMS), and unlike Wordpress will doubtfully ever become one – but several tools are now coming online to make Jekyll more accessible, such as &lt;a href=&quot;http://octopress.org/&quot;&gt;octopress&lt;/a&gt;, &lt;a href=&quot;http://jekyllbootstrap.com/&quot;&gt;jekyllbootstrap&lt;/a&gt; and &lt;a href=&quot;http://ruhoh.com/&quot;&gt;ruhoh&lt;/a&gt;. These provide some good examples of how to do the more tricky dynamic things like generating an atom feed or a list of posts by tag. These also get away from having to generate custom CSS and HTML. However, with rich CSS options such as twitter-bootstrap available, I’ve found I actually prefer writing my own HTML templates for pages and posts.&lt;/p&gt;
&lt;p&gt;The other downside of a Jekyll based blog is that it may be a less effective platform to convince others to try out a lab notebook. The emphasis on Github and the somewhat convoluted dependencies on Ruby surely make Jekyll a bit intimidating to new users.&lt;/p&gt;
&lt;h1 id=&quot;some-remaining-concerns-in-switching&quot;&gt;Some remaining concerns in switching&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Wordpress can generate rss feeds for any category or tag on the fly&lt;/em&gt;. Looks like this is now &lt;a href=&quot;https://github.com/pattex/jekyll-tagging&quot;&gt;possible in Jekyll&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Wordpress can toggle password and privacy control for each post&lt;/em&gt;. On a independently hosted site, this could be done with an &lt;code&gt;.htaccess&lt;/code&gt; file and independent hosting (pointless if the source is hosted on github). I known several partially open lab notebooks would have a problem with this. I use privacy controls occasionally when a collaborator may have reservations, and always for requested editorial reviews. Such things can remain on my Wordpress site or off-line entirely.&lt;/li&gt;
&lt;li&gt;Due in part to heavy use of plugins with short-code, migrating my existing posts out of Wordpress and into a static site seems pretty much impossible. Presumably this should be doable at the front end HTML, if not from the database, but my attempts have been unsuccessful. For now, old content will continue to live on my Wordpress site.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;my-basic-requirements-for-an-electronic-notebook&quot;&gt;My basic requirements for an electronic notebook&lt;/h1&gt;
&lt;p&gt;Leaving Wordpress, I have a few basic requirments for a notebook system. Fortunately it is pretty easy to enjoy all these features in Jekyll.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Dynamic posts&lt;/strong&gt;: Works out of the box&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RSS feed&lt;/strong&gt;: just create an appropriate &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/atom.xml&quot;&gt;atom.xml file&lt;/a&gt; with a bit of Jekyll Liquid code.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Comments&lt;/strong&gt;: paste Disqus code into &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/_layouts/default.html&quot;&gt;html template&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Categories &amp;amp; tags&lt;/strong&gt;: built-in through Jekyll’s YAML frontmatter&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Search&lt;/strong&gt;: Google search or Tipue&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MathJax equations (and numbering)&lt;/strong&gt;: &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/_layouts/default.html&quot;&gt;Just add the javascript call to the html template&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dynamic citations&lt;/strong&gt;: Pandoc or my knitcitations tool, for now.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Syntax highlighting&lt;/strong&gt;: use Github notation with Redcarpet2&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Writing posts in markdown&lt;/strong&gt;: native&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Version control&lt;/strong&gt;: &lt;a href=&quot;https://github.com/cboettig/labnotebook/&quot;&gt;on Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Visitor statistics&lt;/strong&gt;: &lt;a href=&quot;https://github.com/cboettig/labnotebook/blob/master/_layouts/default.html&quot;&gt;Google analytics in layout&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;embeddable content (twitter streams, feeds, etc.)&lt;/strong&gt; : add scripts to html templates&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;customization of appearance&lt;/strong&gt; &lt;a href=&quot;http://twitter.github.com/bootstrap&quot;&gt;twitter bootstrap&lt;/a&gt; for the css and javascript + html templates&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ease of use&lt;/strong&gt;: Such as the ability to move around markdown documents and html layouts, and to customize things appearance without PHP.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;jekyll-configuration-notes&quot;&gt;Jekyll Configuration Notes&lt;/h1&gt;
&lt;p&gt;Probably the only annoying step in setting up a Jekyll blog is getting the right versions of Ruby running. Strictly speaking, this is unnecessary for sites hosted on Github, which will run Jekyll automatically. I host on my Dreamhost VPS, for which it is easiest just to compile locally using Jekyll and push on the output HTML files, created in &lt;code&gt;_site&lt;/code&gt;, to the server.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Getting &lt;a href=&quot;http://askubuntu.com/questions/91693/how-do-you-uninstall-ruby-1-8-7-and-install-ruby-1-9-2&quot;&gt;out of 1.8.7 and into 1.9.2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Redcarpet isn’t the default interpreter, but works better. However, &lt;a href=&quot;http://stackoverflow.com/questions/8395347/gollum-wiki-undefined-method-new-for-redcarpetmodule&quot;&gt;it’s latest version has issues&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;I find it better to use the Redcarpet2, &lt;a href=&quot;https://github.com/nono/Jekyll-plugins&quot;&gt;and a plugin&lt;/a&gt; that lets one use Github-flavored markdown code blocks instead of the silly liquid highlight tags (markdown should be markdown after all). Unfortunately this prevents Github’s Jekyll from building the site at the moment, which doesn’t yet support Redcarpet2.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/255170/markdown-and-image-alignment&quot;&gt;image alignment in markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://code.lancepollard.com/jquery-disqus-plugin&quot;&gt;markdown in diqus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;HTML layouts can import chunks from separate files given in &lt;code&gt;_include&lt;/code&gt; directory using a bit of liquid code. See &lt;a href=&quot;https://github.com/spo11/kismetik-jekyll&quot;&gt;an example&lt;/a&gt;. Perfect for creating layouts out of different combinations of elements.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Additional sources of noise (Sethi 2005)</title>
   <link href="/2012/04/30/Sethi.html"/>
   <updated>2012-04-30T00:00:00-07:00</updated>
   <id>h/2012/04/30/Sethi</id>
   <content type="html">&lt;h1 id=&quot;sethi-model&quot;&gt;Sethi Model&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;author Carl Boettiger, &lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h='&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#46;&amp;#x63;&amp;#x6f;&amp;#x6d;';a='&amp;#64;';n='&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;';e=n+a+h;
document.write('&lt;a h'+'ref'+'=&quot;ma'+'ilto'+':'+e+'&quot;&gt;'+e+'&lt;\/'+'a'+'&gt;');
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x63;&amp;#x6f;&amp;#x6d;&lt;/noscript&gt;&lt;/li&gt;
&lt;li&gt;license: CC0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Implements a numerical version of the SDP described in (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005).&lt;/p&gt;
&lt;p&gt;Clear the workspace and load package dependencies:&lt;/p&gt;
&lt;p&gt;Define noise parameters&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;    &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in stock assessment measurement&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# noise in implementation of the quota&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;we’ll use log normal noise functions. For Reed, only &lt;code&gt;z_g&lt;/code&gt; will be random. Sethi et al will add the other forms of noise:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_m) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_i) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Chose the state equation / population dynamics function&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;BevHolt&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the &lt;code&gt;pdg-control&lt;/code&gt; pacakge already has a definition for the &lt;code&gt;BevHolt&lt;/code&gt; function, (typing the function name prints the function)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;BevHolt&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;function (x, h, p) 
{
    x &amp;lt;- max(0, x - h)
    A &amp;lt;- p[1]
    B &amp;lt;- p[2]
    sapply(x, function(x) {
        x &amp;lt;- max(0, x)
        max(0, A * x/(1 + B * x))
    })
}
&amp;lt;environment: namespace:pdgControl&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That is, &lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x,h) =\inline&quot;/&gt;&lt;/p&gt;
&lt;p&gt;Of course we could pass in any custom function of stocksize &lt;code&gt;x&lt;/code&gt;, harvest &lt;code&gt;h&lt;/code&gt; and parameter vector &lt;code&gt;p&lt;/code&gt; in place of &lt;code&gt;BevHolt&lt;/code&gt;. Note that we would need to write this function explicitly so that it can take vector values of &lt;code&gt;x&lt;/code&gt; (i.e. uses &lt;code&gt;sapply&lt;/code&gt;), an annoying feature of &lt;code&gt;R&lt;/code&gt; for users comming from Matlab.&lt;/p&gt;
&lt;p&gt;We must now define parameters for the function. Note that the positive stationary root of the model is given by &lt;img src=&quot;http://latex.codecogs.com/png.latex?\inline&quot;/&gt;, which we’ll store for future reference as &lt;code&gt;K&lt;/code&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)/pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we use a harvest-based profit function with default parameters&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;c0 =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.01&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;profit_harvest&lt;/code&gt; function has the form&lt;/p&gt;
&lt;p&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?= h - ( c_0 + c_1  )&quot; alt=&quot;= h - ( c_0 + c_1  )&quot; /&gt;&lt;/div&gt;&lt;/p&gt;
&lt;p&gt;conditioned on &lt;img src=&quot;http://latex.codecogs.com/png.latex?h &amp;gt; x\inline&quot;/&gt; and &lt;img src=&quot;http://latex.codecogs.com/png.latex?x &amp;gt; 0\inline&quot;/&gt;. Note that the R code defines a function from another function using a trick known as a &lt;em&gt;closure&lt;/em&gt;. Again we could write a custom profit function as long as it can take a vector stock size &lt;code&gt;x&lt;/code&gt; and a scalar harvest level &lt;code&gt;h&lt;/code&gt;. Details for provided functions can be found in the manual, i.e. &lt;code&gt;?profit_harvest&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Now we must set up the discrete grids for stock size and havest levels (which will use same resolution as for stock), in order to calculate the SDP solution. Here we set the gridsize to 100.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)  
h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid  &lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;calculate-the-transition-matrix-with-noise-in-growth-only&quot;&gt;Calculate the transition matrix (with noise in growth only)&lt;/h3&gt;
&lt;p&gt;We calculate the stochastic transition matrix for the probability of going from any state &lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt; to any other state &lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t+1\inline&quot;/&gt; the following year, for each possible choice of harvest &lt;img src=&quot;http://latex.codecogs.com/png.latex?h_t\inline&quot;/&gt;. This provides a look-up table for the dynamic programming calculations.&lt;/p&gt;
&lt;p&gt;In the Sethi case, computing the distribution over multiple sources of noise is actually quite difficult. Simulation turns out to be more efficient than numerically integrating over each distribution. This code parallelizes the operation over four cores, but can be scaled to an arbitrary cluster.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(snowfall) 
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;SDP_by_simulation&lt;/span&gt;(f, pars, x_grid, h_grid, z_g, z_m, z_i, &lt;span class=&quot;dt&quot;&gt;reps=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;999&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;Library ggplot2 loaded.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that &lt;code&gt;SDP_Mat&lt;/code&gt; is specified from the calculation above, as are our grids and our profit function. &lt;code&gt;OptTime&lt;/code&gt; is the stopping time. &lt;code&gt;xT&lt;/code&gt; specifies a boundary condition at the stopping time. A reward for meeting this boundary must be specified for it to make any difference. &lt;code&gt;delta&lt;/code&gt; indicates the economic discount rate. Again, details are in the function documentation.&lt;/p&gt;
&lt;h3 id=&quot;find-the-optimum-by-dynamic-programming&quot;&gt;Find the optimum by dynamic programming&lt;/h3&gt;
&lt;p&gt;Bellman’s algorithm to compute the optimal solution for all possible trajectories.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;opt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;OptTime=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xT=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, 
                     profit, &lt;span class=&quot;dt&quot;&gt;delta=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;reward=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;simulate&quot;&gt;Simulate&lt;/h3&gt;
&lt;p&gt;Now we’ll simulate 100 replicates of this stochastic process under the optimal harvest policy determined above.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;sims &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, function(i){
  &lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, pars, x_grid, h_grid, &lt;span class=&quot;dt&quot;&gt;x0=&lt;/span&gt;K, opt$D, z_g, z_m, z_i)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The forward simulation algorithm needs an initial condition &lt;code&gt;x0&lt;/code&gt; which we set equal to the carrying capacity, as well as our population dynamics &lt;code&gt;f&lt;/code&gt;, parameters &lt;code&gt;pars&lt;/code&gt;, grids, and noise coefficients. Recall in the Reed case only &lt;code&gt;z_g&lt;/code&gt;, growth, is stochastic, while in the Sethi example we now have three forms of stochasticity – growth, measurement, and implementation.&lt;/p&gt;
&lt;h2 id=&quot;summarize-and-plot-the-results&quot;&gt;Summarize and plot the results&lt;/h2&gt;
&lt;p&gt;R makes it easy to work with this big replicate data set. We make data tidy (melt), fast (data.tables), and nicely labeled.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(sims, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(sims[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]))  
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat)
&lt;span class=&quot;kw&quot;&gt;setnames&lt;/span&gt;(dt, &lt;span class=&quot;st&quot;&gt;&amp;quot;L1&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# names are nice&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;plots&quot;&gt;Plots&lt;/h3&gt;
&lt;p&gt;Let’s begin by looking at the dynamics of a single replicate. The line shows Reed’s S, the level above which the stock should be harvested (where catch should be the difference between stock and S). To confirm that this policy is being followed, note that harvesting only occurs when the stock is above this line, and harvest is proportional to the amount by which it is above. Change the replicate &lt;code&gt;reps==&lt;/code&gt; to see the results from a different replicate.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dt,reps==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;opt$S, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, harvest), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;darkgreen&amp;quot;&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8007/7130135757_09c23e3e5a_o.png&quot; alt=&quot;plot of chunk onerep&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk onerep&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This plot summarizes the stock dynamics by visualizing the replicates. Reed’s S shown again.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dt) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;opt$S, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) 
p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8148/6984061776_d15e7d073f_o.png&quot; alt=&quot;plot of chunk all&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk all&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;We can also look at the harvest dynamics:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, harvest, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;darkgreen&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7188/6984052718_6e932cedf8_o.png&quot; alt=&quot;plot of chunk harvestplot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk harvestplot&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This strategy is supposed to be a constant-escapement strategy. We can visualize the escapement:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, escapement, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;darkgrey&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7096/6984052922_b4ab50f14b_o.png&quot; alt=&quot;plot of chunk escapement&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk escapement&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;visualizing-the-optimal-policy&quot;&gt;Visualizing the optimal policy&lt;/h3&gt;
&lt;p&gt;Note that when the boundary is sufficiently far away, i.e. for the first couple timesteps, the optimal policy is stationary. The optimal policy is shown here over time, where the color indicates the harvest recommended for each possible stock value at that time (shown on the vertical axis). Observe that the solution does not correspond to a simple Reed-style rule.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;policy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(opt$D)
policy_zoom &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(policy, x_grid[Var1] &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(dt$fishstock) )
p5 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policy_zoom) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Var2, (x_grid[Var1]), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;h_grid[value])) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fishstock&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;scale_colour_gradientn&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;colours =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;rainbow&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;opt$S, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) 
p5&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7198/7130146133_bf7083f9d2_o.png&quot; alt=&quot;plot of chunk policy&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policy&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The harvest intensity is limited by the stock size.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;p6 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(policy_zoom) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Var2, (x_grid[Var1]), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;x_grid[Var1] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;h_grid[value])) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;labs&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;fishstock&amp;quot;&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;scale_colour_gradientn&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;colours =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;rainbow&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;opt$S, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) 
p6 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;dt)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm9.staticflickr.com/8007/6984063036_ea9d9ac47d_o.png&quot; alt=&quot;plot of chunk policy2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk policy2&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery management under multiple uncertainty.” &lt;em&gt;Journal of Environmental Economics and Management&lt;/em&gt;, &lt;em&gt;50&lt;/em&gt;. ISSN 00950696, http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Project tracking (Evolution)</title>
   <link href="/2012/04/27/evolution-notes.html"/>
   <updated>2012-04-27T00:00:00-07:00</updated>
   <id>h/2012/04/27/evolution-notes</id>
   <content type="html">&lt;h1 id=&quot;evolution&quot;&gt;Evolution&lt;/h1&gt;
&lt;p&gt;I’m also still wrapping up a variety of projects on the Evolution front.&lt;/p&gt;
&lt;h2 id=&quot;treebase&quot;&gt;&lt;a href=&quot;https://github.com/ropensci/treebase&quot;&gt;treebase&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ropensci/treeBASE/tree/master/inst/doc/treebase&quot;&gt;Dynamic manuscript&lt;/a&gt;. Reorganize, simplify?&lt;/li&gt;
&lt;li&gt;add, document, employ the additional functions to avoid &lt;code&gt;sapply&lt;/code&gt; commands.&lt;/li&gt;
&lt;li&gt;Prune examples?&lt;/li&gt;
&lt;li&gt;iEvoBio challenge entry?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape&quot;&gt;Wrightscape&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Start synthesizing documents&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/examples/manuscript.md&quot;&gt;Evidence for release in open lever ratio and kt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/examples/simulate_release.md&quot;&gt;Illustrating the different models&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Consider updated data format outputs and graphical processing functions for the model choice steps&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fishbase&quot;&gt;&lt;a href=&quot;https://github.com/ropensci/rfishbase&quot;&gt;fishbase&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;submitted! &lt;a href=&quot;https://github.com/ropensci/rfishbase/tree/master/inst/doc/rfishbase&quot;&gt;Dynamic document&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;handling of reference ids example for Patrick&lt;/li&gt;
&lt;li&gt;Working word templatese for Pandoc odt/docx?&lt;/li&gt;
&lt;li&gt;Push updated copy to CRAN&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;adaptive-dynamics&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics&quot;&gt;Adaptive dynamics&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;What to do with time-to-branching results from Vienna with Ulf?&lt;/li&gt;
&lt;li&gt;What to do with nice fast branching process simulation code?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Project tracking (Ecology)</title>
   <link href="/2012/04/27/ecology-notes.html"/>
   <updated>2012-04-27T00:00:00-07:00</updated>
   <id>h/2012/04/27/ecology-notes</id>
   <content type="html">&lt;h2 id=&quot;pdg-control&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/pdg-control&quot;&gt;pdg-control&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Has become a variety of different directions:&lt;/p&gt;
&lt;h3 id=&quot;policy-costs&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/examples/policycosts&quot;&gt;Policy Costs&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Considering different norms. &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/policycost_L1.md&quot;&gt;L1&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/policycost_L2.md&quot;&gt;L2&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/policycost_asym.md&quot;&gt;Assymetric&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/policycost_fixed.md&quot;&gt;fixed&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;When can policy costs pay for themselves? &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/exact_npv.md&quot;&gt;notes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;additional-noise&quot;&gt;Additional Noise&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Starts with &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/Sethi.md&quot;&gt;replicating Sethi et al. (2005)&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Consider the performance of various non-optimal solutions, particularly regarding imperfect implementation&lt;/li&gt;
&lt;li&gt;These are losely collected in &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/examples/robustness&quot;&gt;Robustness examples&lt;/a&gt;, needs some evaluation of the most interesting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;approaches-to-parameter-structural-and-state-uncertainty&quot;&gt;Approaches to parameter, structural, and state uncertainty&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;(Morph of) Training problem II from the working group.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/model_uncertainty.md&quot;&gt;Active adaptive management using grid, model choice example.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Add: Myopic Bayes passive adaptive management for model choice&lt;/li&gt;
&lt;li&gt;Compare to: stationary (no learning) solution averaging over models&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/earlywarning&quot;&gt;Warning signals&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Accepted!&lt;/li&gt;
&lt;li&gt;Copy up on &lt;a href=&quot;http://arxiv.org/abs/1204.6231&quot;&gt;arxiv&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Streamline code and examples. Began updating functions to work in a more generic manner that is better for connecting in pipelines and swapping between indicators. Move examples over from wiki to &lt;code&gt;inst/examples&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;What to do with older repo &lt;code&gt;warningsignals&lt;/code&gt; vs newer codebase &lt;code&gt;earlywarning&lt;/code&gt;?&lt;/li&gt;
&lt;li&gt;Provide a generic early warning signals package? Perhaps Vasilis would be interested in helping?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fallacy&quot;&gt;Fallacy&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Write introduction with more basic background on warning signals&lt;/li&gt;
&lt;li&gt;Touch up discussion, edits.&lt;/li&gt;
&lt;li&gt;Updated runs from codebase. Heavy computation makes quick replication difficult&lt;/li&gt;
&lt;li&gt;draft sent to Alan&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>2012-04-20</title>
   <link href="/2012/04/26/2012-04-20.html"/>
   <updated>2012-04-26T06:32:18-07:00</updated>
   <id>h/2012/04/26/2012-04-20</id>
   <content type="html">&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;p&gt;Warning signals paper accepted. Making minor edits before submitting final copy.&lt;/p&gt;
&lt;p&gt;Added Alan’s edits.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Review model section again&lt;/li&gt;
&lt;li&gt;Letter: Response to reviewers&lt;/li&gt;
&lt;li&gt;Create Diff&lt;/li&gt;
&lt;li&gt;Media Summary&lt;/li&gt;
&lt;li&gt;Submit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Done!&lt;/p&gt;
&lt;h2 id=&quot;database-papers&quot;&gt;Database papers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;rfishbase edits made, reformatting in word, sent to Peter&lt;/li&gt;
&lt;li&gt;Ethics form, recommended reviewers, cover letter.&lt;/li&gt;
&lt;li&gt;Submit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Done!&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;NERSC web directory: create &lt;code&gt;www&lt;/code&gt; in &lt;code&gt;/project/projectdirs/m1366&lt;/code&gt; NSF &lt;a href=&quot;http://www.nsf.gov/pubs/2012/nsf12553/nsf12553.htm&quot;&gt;Arctic SEES grants&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;These larger, integrated efforts would promote understanding of Arctic systems and would develop optimized models, multiple stable state scenarios, sustainable pathways, decision matrices, visualization techniques and data infrastructure to aid decision making and communication, and structural, energy and communications technology solutions which would inform community practices, management, and policy for a more sustainable Arctic environment.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Methods in Ecology &amp;amp; Evolution is publishing quite a few R packages recently.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00179.x/full&quot;&gt;abc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/full&quot;&gt;RNetLogo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00153.x/full&quot;&gt;smatr&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00186.x/full&quot;&gt;BaSTA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/full&quot;&gt;mvbund&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00169.x/full&quot;&gt;phytools&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes</title>
   <link href="/2012/04/25/notes.html"/>
   <updated>2012-04-25T00:00:00-07:00</updated>
   <id>h/2012/04/25/notes</id>
   <content type="html">&lt;p&gt;Working on IGPS Presentation.&lt;/p&gt;
&lt;p&gt;Experimenting with recent tools for Amazon cloud computing via R. &lt;a href=&quot;https://github.com/armstrtw/AWS.tools&quot;&gt;Whit Armstrong’s packages&lt;/a&gt; seem like a good place to start, but some trouble with credentials on both this and on Segue at the moment.&lt;/p&gt;
&lt;p&gt;Submitted nominations for EVE Seminar. Splitting nominations among the theory group, this year I’ve filed nominations for&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://resource.wur.nl/en/wetenschap/detail/ecologist_marten_scheffer_the_spirit_must_be_free&quot;&gt;Marten Scheffer (profile)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.science.org.au/scientists/interviews/p/hp.html&quot;&gt;Hugh Possingham (profile)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dragonfly.ecology.uga.edu/drakelab&quot;&gt;John Drake&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Catching up</title>
   <link href="/2012/04/19/catching-up.html"/>
   <updated>2012-04-19T03:39:06-07:00</updated>
   <id>h/2012/04/19/catching-up</id>
   <content type="html">&lt;p&gt;Catching up on notebook entries for last week and the beginning of this week in one go here. In the process of wrapping up a variety of older projects, so this is kinda all over the place.&lt;/p&gt;
&lt;h2 id=&quot;rfishbase&quot;&gt;rfishbase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Create function table,&lt;/li&gt;
&lt;li&gt;finalize functions&lt;/li&gt;
&lt;li&gt;Add support for references. Done, see &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/R/analysis.R#L280&quot;&gt;getRefs&lt;/a&gt;. (And isn’t it awesome that you can link to a specific linenumber (i.e. line 280) in github by adding #L280 to the end of the url?)&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Picked up some great grep tools in the process thanks to stackoverflow: handling &lt;a href=&quot;http://stackoverflow.com/questions/10214604/gsub-return-an-empty-string-when-no-match-is-found&quot;&gt;empty matches&lt;/a&gt; and &lt;a href=&quot;http://stackoverflow.com/questions/10215142/gsub-to-return-all-matches-of-an-expression-instead-of-just-the-last-match&quot;&gt;multiple matches&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;No luck in setting &lt;a href=&quot;http://johnmacfarlane.net/pandoc/demo/example9/options.html&quot;&gt;templates for pandoc’s conversion to word&lt;/a&gt;. Should be possible with &lt;code&gt;--reference.docx&lt;/code&gt; but no luck. (meanwhile, who knew .docx and .odt were just zip archives you could unzip and poke around the xml? Unfortunately styles.xml is a bit opaque to me).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;treebase&quot;&gt;treebase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Replace all sapply calls with dedicated functions&lt;/li&gt;
&lt;li&gt;Table of functions&lt;/li&gt;
&lt;li&gt;Simplify presentation&lt;/li&gt;
&lt;li&gt;markdownify the Sweave file.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;prosecutors-fallacy&quot;&gt;Prosecutor’s fallacy&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Running examples&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;Wrightscape&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Collecting, organizing and selecting &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/examples&quot;&gt;examples&lt;/a&gt; into knitr format from demo files.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;statcompsci&quot;&gt;StatCompSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Duncan is running a brown bag seminar on big data computing. We’re coordinating all material over &lt;a href=&quot;https://github.com/StatComputingUCDavis/Spring12BBSeminar&quot;&gt;on github&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Write ievobio proposals&lt;/li&gt;
&lt;li&gt;prsb review – Done.&lt;/li&gt;
&lt;li&gt;Experimenting with a &lt;a href=&quot;cboettig.github.com&quot;&gt;Jekyll based site&lt;/a&gt; using CSS from twitter-bootstrap.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Coordinating Academic Publishing panel discussion&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-code-tricks&quot;&gt;Misc code tricks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/67699/how-do-i-clone-all-remote-branches-with-git&quot;&gt;clone all branches&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/255170/markdown-and-image-alignment&quot;&gt;image alignment in markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://code.lancepollard.com/jquery-disqus-plugin&quot;&gt;markdown in diqus&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ruby-versions-can-drive-you-nuts-sometimes.&quot;&gt;&lt;em&gt;ruby versions can drive you nuts sometimes.&lt;/em&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Getting &lt;a href=&quot;http://askubuntu.com/questions/91693/how-do-you-uninstall-ruby-1-8-7-and-install-ruby-1-9-2&quot;&gt;out of 1.8.7 and into 1.9.2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Redcarpet isn’t the default interpreter, but works better. However, &lt;a href=&quot;http://stackoverflow.com/questions/8395347/gollum-wiki-undefined-method-new-for-redcarpetmodule&quot;&gt;it’s latest version has issues&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday / Tuesday</title>
   <link href="/2012/04/10/monday-tuesday.html"/>
   <updated>2012-04-10T16:09:06-07:00</updated>
   <id>h/2012/04/10/monday-tuesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;rfishbase updated to Duncan’s feedback&lt;/li&gt;
&lt;li&gt;writing intro section on Prosecutor’s Fallacy.&lt;/li&gt;
&lt;li&gt;wrightscape update project repository. Scripts mostly in demos, results in notebook. Notebook makes is easy to get the most recent writeup on the topic, from where I can start to track back the history, but doesn’t provide a good at-a-glance view of the analyses I’ve run side-by-side. Moving the R script &lt;code&gt;demos/&lt;/code&gt; into markdown knitted files in &lt;code&gt;inst/examples/&lt;/code&gt; and rerunning. &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/examples&quot;&gt;See directory&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Files that require cluster computation won’t be able to upload graphs directly. Should separate these scripts from their respective plotting scripts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;working-examples&quot;&gt;Working examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Have labrid_data, labrid_mc, focal_examples, simulated_release working. &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/inst/examples&quot;&gt;See directory&lt;/a&gt;. Running the direct model comparisons on the other traits.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-management&quot;&gt;Data management&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Trying out the API for &lt;a href=&quot;http://thedatahub.org&quot;&gt;thedatahub.org&lt;/a&gt; for storing data. Starting with the python tool, some difficulty getting this running. &lt;a href=&quot;https://github.com/okfn/dpm/issues/55&quot;&gt;Detailed issue log&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Also put in form to get www hosting through NERSC.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Meanwhile, am just tossing data into the &lt;a href=&quot;http://two.ucdavis.edu/~cboettig/data/&quot;&gt;webserver&lt;/a&gt; running on our local lab computers. This just provides a home for the data so I don’t have binary files on github – the metadata for these objects is handled by the &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/master/inst/examples&quot;&gt;README that lives with the code&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;For large data files (which I’m not generating in these codes) the clear way forward is storage you can send the computation to, rather than downloading. For above solutions work for users of our cluster, or of NERSC, but for a more general audience AmazonS3 is the obvious choice (though involves monthly fees). Looks like there is already a good way to put this into my workflow using &lt;code&gt;RAmazonS3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;First install libraries for Ubuntu:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; apt-get &lt;span class=&quot;kw&quot;&gt;install&lt;/span&gt; libmime-base64-urlsafe-perl libdigest-hmac-perl libdigest-sha1-perl&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then install&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;RAmazonS3&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;repo=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.omegahat.org/R&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then we’re ready to roll. &lt;a href=&quot;http://www.omegahat.org/RAmazonS3/s3amazon.html&quot;&gt;See Duncan’s tutorial&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Will consider a tutorial for this + maybe Segue for &lt;a href=&quot;http://statcomputingucdavis.github.com/Spring12BBSeminar/&quot;&gt;Duncan’s seminar&lt;/a&gt;. (Note that Duncan’s moved lots of omegahat.org onto github, which we’ll be using for all the class content.)&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.phidot.org/AMCS/participants/index.html&quot;&gt;Adaptive Management Conference Series&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://wir.okfn.org/2012/03/29/plos-computational-biology-goes-wiki/&quot;&gt;PLoS direct submission to wiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://plus.google.com/117538137308310530361/posts/LviS2eofpon&quot;&gt;Tom Preston-Werner talk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://opencpu.org/2012/01/running-a-block-of-r-code-in-opencpu/&quot;&gt;Open CPU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Humans aren’t good random number generators. &lt;a href=&quot;http://www.khanacademy.org/labs/explorations/frequency-stability&quot;&gt;uniform frequency example&lt;/a&gt; and &lt;a href=&quot;http://seed.ucsd.edu/~mindreader/&quot;&gt;game in which a machine-learning algorithm exploits your non-randomness&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;modify knitr hook for formatting inline code, e.g.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
knit_hooks$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;inline =&lt;/span&gt; function(x) {
 &lt;span class=&quot;kw&quot;&gt;prettyNum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;round&lt;/span&gt;(x,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;big.mark=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;)
})&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr/issues/192&quot;&gt;Avoid knitr displaying X11 during interactive runs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr/issues/191&quot;&gt;Refresh cache&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Writing reproducibly in the open with knitr</title>
   <link href="/2012/04/07/writing-reproducibly-in-the-open-with-knitr.html"/>
   <updated>2012-04-07T07:58:36-07:00</updated>
   <id>h/2012/04/07/writing-reproducibly-in-the-open-with-knitr</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Sweave&quot;&gt;Sweave&lt;/a&gt; is something of a gold standard in reproducible research. It creates a &lt;em&gt;dynamic document&lt;/em&gt;, written in a mix of LaTeX and R code where the results of the analysis (numbers, figures, tables) are automatically generated from the code and inserted into the resulting pdf document, making them easy to update if the data or methods change. It’s a nice idea, in principle.&lt;/p&gt;
&lt;p&gt;However, the practical troubles are many. Coauthors don’t know LaTeX, publishers who don’t accept LaTeX or pdfs. The LaTeX myth that you are freed from thinking about formatting, when in fact you have to fill your document with LaTeX specific markup that makes it a burden both to type and to read the source-code. Compiling and debugging your text. And then the reproducibility comes from sharing that Sweave file – a mix of LaTeX and R that almost no one can read easily. Where’s the elegance in that? ((I’m glossing over the additional challenges of highlighting, caching, and formating on the R code side, which have been largely addressed by additional packages and are elegantly solved in knitr.)) Sure, none of these are show-stoppers – I’ve been content with LaTeX for years – but suddenly there’s a better way.&lt;/p&gt;
&lt;p&gt;Thanks to &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, a successor of Sweave, I can write my publications in &lt;a href=&quot;http://en.wikipedia.org/wiki/Markdown&quot;&gt;markdown&lt;/a&gt;. Unlike LaTeX, HTML, or other markup languages, markdown is designed to be easily read as plain text, but can also be interpreted into pretty HTML, and now into almost any other format thanks to &lt;a href=&quot;http://johnmacfarlane.net/pandoc/&quot;&gt;pandoc&lt;/a&gt;. All of which is to say that writing and sharing just got &lt;em&gt;a lot easier.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/4325&quot;&gt;As I have written previously&lt;/a&gt;, I already use this markdown format for my notes and code, so there’s no re-typing required. When working on the paper, I can just write. I can edit the code without flipping back and forth between files. Knitr can run the code blocks, caching parts that have already run for efficiency, and upload the resulting figures in &lt;code&gt;png&lt;/code&gt; format automatically to the Internet. Github displays the &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/rfishbase_github.md&quot;&gt;resulting document&lt;/a&gt; and the &lt;code&gt;file&lt;/code&gt; (https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/source/rfishbase.md), while also &lt;a href=&quot;https://github.com/ropensci/rfishbase/commits/master/inst/doc/rfishbase/source&quot;&gt;tracking the versions&lt;/a&gt; as my writing progresses.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7241/7054829647_ac9dcc4bd3_z.jpg&quot; alt=&quot;Different output formats for the manuscript&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Different output formats for the manuscript&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Pandoc allows me to transform these notes into a LaTeX file that can generate professional-looking pdfs with given journal &lt;code&gt;.cls&lt;/code&gt; files by using &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/elsarticle.latex&quot;&gt;a custom latex template&lt;/a&gt;. Pandoc can also generate the less pretty but often required word documents. &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/knit&quot;&gt;A separate Rscript&lt;/a&gt; combines with a &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/Makefile&quot;&gt;Makefile&lt;/a&gt; to control the relevant formatting – for LaTeX output I want high-quality &lt;code&gt;pdf&lt;/code&gt; graphics, for Word-doc output I want &lt;code&gt;eps&lt;/code&gt; graphics which are created but not pasted into the Word file, for the drafts I want &lt;code&gt;png&lt;/code&gt; graphics stored online for easy sharing. Pandoc allows citations to be extracted from my Mendeley library (via Bibtex files) and inserted into each of these output formats (doc, pdf, github markdown).&lt;/p&gt;
&lt;p&gt;Getting the LaTeX template, Makefile, and knit script set up for this pipeline takes a little care – mostly to ensure figures and tables look appropriate in all outputs. Once these files are created though, they can be easily reused on other manuscripts. A simple &lt;code&gt;make pdf&lt;/code&gt; builds the pdf copy, &lt;code&gt;make docx&lt;/code&gt; builds a MS Word copy, ((though these binary files aren’t stored in the git repository)) and &lt;code&gt;make github&lt;/code&gt; the copy that displays with images on Github.&lt;/p&gt;
&lt;p&gt;The links in this post point to what is an active draft of a little manuscript at the time of this writing. In addition to making the final result reproducible, Github captures the &lt;a href=&quot;http://en.wikipedia.org/wiki/Provenance#Data_provenance&quot;&gt;provenance&lt;/a&gt; or history of the research and writing process. It’s not a perfect system, but it’s a nice step.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2012/04/06/friday-8.html"/>
   <updated>2012-04-06T14:01:16-07:00</updated>
   <id>h/2012/04/06/friday-8</id>
   <content type="html">&lt;h3 id=&quot;fishbase&quot;&gt;Fishbase&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Revisions based on Duncan’s feedback&lt;/li&gt;
&lt;li&gt;Formatting to &lt;a href=&quot;http://www.wiley.com/bw/submit.asp?ref=0022-1112&quot;&gt;Journal of Fish Biology guidelines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Updated formatting&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;fixed footnotes issue in pdf version.&lt;/li&gt;
&lt;li&gt;Externalize tables in word version.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    knit_hooks$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;chunk =&lt;/span&gt; function(x, options) {
      if (!options$split) &lt;span class=&quot;kw&quot;&gt;return&lt;/span&gt;(x)
     &lt;span class=&quot;kw&quot;&gt;cat&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;file =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fig_path&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;.md&amp;#39;&lt;/span&gt;, options))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Consider more intuitive function names rather than function arguments?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;treebase&quot;&gt;TreeBase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Needs additional functions replacing &lt;code&gt;sapply&lt;/code&gt; queries and argument queries.&lt;/li&gt;
&lt;li&gt;Table of functions&lt;/li&gt;
&lt;li&gt;re-organize presentation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci-gsoc&quot;&gt;rOpenSci GSOC&lt;/h2&gt;
&lt;p&gt;GSoC applications were due at noon today. Provided final rounds of feedback to our three applicants. Proposals (secure):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.google-melange.com/gsoc/proposal/review/google/gsoc2012/christophm/9001&quot;&gt;Christoph&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.google-melange.com/gsoc/proposal/review/google/gsoc2012/vijaybarve/8002&quot;&gt;Vijay&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.google-melange.com/gsoc/proposal/review/google/gsoc2012/lomereiter/1&quot;&gt;Artem&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;h3 id=&quot;berkeley-adaptive-management-resource-economics&quot;&gt;Berkeley adaptive management / resource economics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.coastalresearchcenter.ucsb.edu/cmi/Hanemann.html&quot;&gt;Michael Hanemann&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nature.berkeley.edu/carlsonlab/publications.html&quot;&gt;Stephanie Carlson&lt;/a&gt;? (Evolution/harvesting, Mangel graduate)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://are.berkeley.edu/~karp/&quot;&gt;Larry Karp&lt;/a&gt;?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also looking at Mangel’s Decision-making and investment under uncertainty, particularly within a Bayesian framework, and ecological detection, with application to adaptive management.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“Ecology, Conservation and Public Policy: A Vision for the 21st Century”, Astor Lecture, University of Oxford, April 2007 &lt;a href=&quot;http://www.soe.ucsc.edu/~msmangel/Astor%20talk.pdf&quot;&gt;slides&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Ecosystem management perspective Pikitch, 2004, (Carpenter &lt;em&gt;et. al.&lt;/em&gt; 2009), (Mangel &amp;amp; Levin, 2005)&lt;/li&gt;
&lt;li&gt;Adaptive management NCEAS synthesis [cite]10.1002/(SICI)1520-6602(1998)1:1&amp;lt;16::AID-INBI3&amp;gt;3.0.CO;2-D[/cite]&lt;/li&gt;
&lt;li&gt;nice treatment of stochastic transitions in (Mangel, 1994)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;other-reading&quot;&gt;Other reading&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Tara Martin, CSIRO’s &lt;a href=&quot;http://taramartin.org&quot;&gt;Conservation Decisions Lab&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ag-econ.ncsu.edu/faculty/fackler/fackler.html&quot;&gt;Paul Fackler’s&lt;/a&gt; &lt;a href=&quot;https://sites.google.com/site/mdpsolve/&quot;&gt;MDPSolve&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Carpenter S, Armbrust E, Arzberger P, Chapin F, Elser J, Hackett E, Ives A, Kareiva P, Leibold M, Lundberg P, Mangel M, Merchant N, Murdoch W, Palmer M, Peters D, Pickett S, Smith K, Wall D and Zimmerman A (2009). “Accelerate Synthesis in Ecology And Environmental Sciences.” &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 0006-3568, &lt;a href=&quot;http://dx.doi.org/10.1525/bio.2009.59.8.11&quot;&gt;http://dx.doi.org/10.1525/bio.2009.59.8.11&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mangel M and Levin P (2005). “Regime, Phase And Paradigm Shifts: Making Community Ecology The Basic Science For Fisheries.” &lt;em&gt;Philosophical Transactions of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;360&lt;/strong&gt;. ISSN 0962-8436, &lt;a href=&quot;http://dx.doi.org/10.1098/rstb.2004.1571&quot;&gt;http://dx.doi.org/10.1098/rstb.2004.1571&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mangel M (1994). “Barrier Transitions Driven by Fluctuations, With Applications to Ecology And Evolution.” &lt;em&gt;Theoretical Population Biology&lt;/em&gt;, &lt;strong&gt;45&lt;/strong&gt;. ISSN 00405809, &lt;a href=&quot;http://dx.doi.org/10.1006/tpbi.1994.1002&quot;&gt;http://dx.doi.org/10.1006/tpbi.1994.1002&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ecology: Ecosystem-Based Fishery Management, E. K. Pikitch, (2004) &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;305&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1126/science.1098222&quot;&gt;10.1126/science.1098222&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Jordan's bigdata talk in Math/Stats series</title>
   <link href="/2012/04/05/jordans-bigdata-talk-in-mathstats-series.html"/>
   <updated>2012-04-05T08:48:44-07:00</updated>
   <id>h/2012/04/05/jordans-bigdata-talk-in-mathstats-series</id>
   <content type="html">&lt;p&gt;Really excellent talk by Professor Michael Jordan from the Berkeley Statistics department visiting us at Davis yesterday. Haven’t seen a talk cover technical content with remarkable clarity for the algorithms and insights involved, while also covering such a breadth of material. My notes didn’t really keep up, but transcribing some of my scribbling into electronic form will have to wait until I have more time. (Their pubs are probably a better reference anyway.)&lt;/p&gt;
&lt;p&gt;But to summarize,I enjoyed the bag of little bootstraps – a very simple, elegant, and powerful idea. Divide-and-conquer meets Efron.&lt;a href=&quot;http://arxiv.org/abs/1112.5016&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Kleiner &lt;em&gt;et. al.&lt;/em&gt; (2011)&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;I hadn’t realized NetFlix prize could be thought of a matrix completion problem with justifiable assumption of low-rank, and was impressed both by how simple the best algorithm is and by the 10 fold speedup obtained by their approximate divide-and-conquer solution. &lt;a href=&quot;http://arxiv.org/abs/1201.6002&quot; rel=&quot;http://purl.org/spar/cito/discusses&quot; &gt;Mackey &lt;em&gt;et. al.&lt;/em&gt; (2012)&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Highlights the use of Stein’s method of exchangeable pairs for giving you a differential-equation approach to proving things like central limit theorem, and a remarkably simple proof for a Bernstein-like large deviation result for matrices sounds pretty clever.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://lh6.googleusercontent.com/-INX5Pqn_LPw/T34eAsH6XeI/AAAAAAAAB0M/Xp7DTbdAKb8/s735/2012-04-05_15-34-20_96.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://lh5.googleusercontent.com/-HX9kM569FqA/T34eF0w3NFI/AAAAAAAAB0Q/4_ecUh-wXWM/s736/2012-04-05_15-34-37_214.jpg&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Monday/Tuesday</title>
   <link href="/2012/04/03/mondaytuesday.html"/>
   <updated>2012-04-03T08:59:22-07:00</updated>
   <id>h/2012/04/03/mondaytuesday</id>
   <content type="html">&lt;h2 id=&quot;knitr-markdown-pandoc-latex&quot;&gt;knitr + markdown + pandoc + latex&lt;/h2&gt;
&lt;p&gt;Troubleshooting this workflow still…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr-book/issues/2&quot;&gt;Fonts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr-book/pull/1&quot;&gt;xtable for html &amp;amp; latex/pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr-book/issues/3&quot;&gt;xtable comments display&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/yihui/knitr-book/issues/4&quot;&gt;tikz device trouble&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jgm/pandoc/issues/469&quot;&gt;Pandoc table trouble&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jgm/pandoc/issues/475&quot;&gt;pandoc footnotes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Getting a &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/elsarticle.latex&quot;&gt;satisfactory LaTeX template&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/master/inst/doc/rfishbase/Makefile&quot;&gt;Makefile&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;writing-writing-writing&quot;&gt;writing writing writing:&lt;/h3&gt;
&lt;p&gt;Mostly writing this week, so my notebook has been lacking in entries. Trying to move several manuscripts forward: two are papers accompanying software packages for extracting, manipulating and visualizing data from online repositories (TreeBase and FishBase); part of the rOpenSci project. These databases are great, but it difficult to pursue really interesting questions until we can spin it around on our fingertips. Web-based repositories make the data easily accessible but not easily manipulable. The R language provides a powerful and widely used platform to explore, visualize, and manipulate data once we have it. These packages aim to bridge the gap between access and use, between the web, and R.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;treebase manuscript&lt;/li&gt;
&lt;li&gt;rfishbase manuscript&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-tasks-for-the-week&quot;&gt;Other tasks for the week&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;prosecutor fallacy writing.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Relevant initiatives from today's Big Data press release</title>
   <link href="/2012/03/29/relevant-initiatives-from-todays-big-data-press-release.html"/>
   <updated>2012-03-29T15:01:54-07:00</updated>
   <id>h/2012/03/29/relevant-initiatives-from-todays-big-data-press-release</id>
   <content type="html">&lt;p&gt;An &lt;a href=&quot;http://www.whitehouse.gov/blog/2012/03/29/big-data-big-deal&quot;&gt;exciting day for Big Data&lt;/a&gt; (particularly if your Berkeley).&lt;/p&gt;
&lt;h2 id=&quot;nsf&quot;&gt;NSF&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Encouraging research universities to develop interdisciplinary graduate programs to prepare the next generation of data scientists and engineers;&lt;/li&gt;
&lt;li&gt;Funding a $10 million Expeditions in Computing project based at the University of California, Berkeley, that will integrate three powerful approaches for turning data into information - machine learning, cloud computing, and crowd sourcing;&lt;/li&gt;
&lt;li&gt;Providing the first round of grants to support “EarthCube” – a system that will allow geoscientists to access, analyze and share information about our planet;&lt;/li&gt;
&lt;li&gt;Convening researchers across disciplines to determine how Big Data can transform teaching and learning.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;doe&quot;&gt;DOE&lt;/h2&gt;
&lt;p&gt;The Department of Energy will provide $25 million in funding to establish the Scalable Data Management, Analysis and Visualization (SDAV) Institute. Led by the Energy Department’s Lawrence Berkeley National Laboratory,&lt;/p&gt;
&lt;h2 id=&quot;dod&quot;&gt;DoD&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;The Department is seeking a 100-fold increase in the ability of analysts to extract information from texts in any language.&lt;/li&gt;
&lt;li&gt;The Defense Advanced Research Projects Agency (DARPA) is beginning the XDATA program, which intends to invest approximately $25 million annually for four years to develop computational techniques and software tools for analyzing large volumes of data. The XDATA program will &lt;em&gt;support open source software toolkits&lt;/em&gt; to enable flexible software development for users to process large volumes of data in timelines commensurate with mission workflows of targeted defense applications.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;usgs&quot;&gt;USGS&lt;/h2&gt;
&lt;p&gt;USGS is announcing the latest awardees for grants it issues through its John Wesley Powell Center for Analysis and Synthesis. The Center catalyzes innovative thinking in Earth system science by providing scientists a place and time for in-depth analysis, state-of-the-art computing capabilities, and collaborative tools invaluable for making sense of huge data sets. These Big Data projects will improve our understanding of issues such as species response to climate change, earthquake recurrence rates, &lt;em&gt;and the next generation of ecological indicators&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;NSF’s email alerts today reflect this initiative with more details:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nsf.gov/pubs/2012/nsf12059/nsf12059.jsp?WT.mc_id=USNSF_25&amp;amp;WT.mc_ev=click&quot;&gt;Cyberinfastructure track comes to IGERT training&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nsf.gov/pubs/2012/nsf12060/nsf12060.jsp?WT.mc_id=USNSF_25&amp;amp;WT.mc_ev=click&quot;&gt;Data intensive education related research&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nsf.gov/pubs/2012/nsf12499/nsf12499.htm?WT.mc_id=USNSF_179&quot;&gt;Big Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nsf.gov/pubs/2012/nsf12058/nsf12058.jsp?WT.mc_id=USNSF_25&amp;amp;WT.mc_ev=click&quot;&gt;Data Citations&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Data to Knowledge Conference, UC Berkeley: application </title>
   <link href="/2012/03/29/data-to-knowledge-conference-uc-berkeley-application-abstract.html"/>
   <updated>2012-03-29T05:08:51-07:00</updated>
   <id>h/2012/03/29/data-to-knowledge-conference-uc-berkeley-application-abstract</id>
   <content type="html">&lt;p&gt;I’ve just been accepted to the &lt;a href=&quot;http://lyra.berkeley.edu/CDIConf/registration.html&quot;&gt;Data to Knowledge Conference&lt;/a&gt; in Berkeley this May.  I think this conference will address some of the key issues facing us in Big Data today across many different fields, and I hope to learn much that could be useful to ecology and evolution.  Given the audience I look forward to being a source of questions rather than answers as I put on my biologist’s cap.  Berkeley’s particular leadership in this area is probably evident in the millions of dollars they are receiving from the various initiatives coming out of today’s Big Data &lt;a href=&quot;http://www.whitehouse.gov/blog/2012/03/29/big-data-big-deal&quot;&gt;announcement&lt;/a&gt;.  What better day to apply?&lt;/p&gt;
&lt;h3 id=&quot;my-abstract&quot;&gt;My Abstract&lt;/h3&gt;
&lt;p&gt;Many complex systems, from ecosystems to economies to governments, can undergo sudden and often catastrophic transitions between alternate stable states. Ecologists have recently begun to demonstrate the existence of certain early warning signals or leading indicators – patterns that suggest an ecosystem is approaching a critical transition such as the collapse of a population or eutrophication of a lake. Though these patterns are extremely subtle and consequently require large amounts of data to generate an adequate ratio of signal to noise, technology such as satellite imaging and microchip sensors have dramatically increased the data available. Will this recent data deluge help us detect critical transitions with enough time avert them?&lt;/p&gt;
&lt;p&gt;I will briefly introduce recent advances in the field of early warning signals and discuss my work to transition this from a proof of principle to a quantifiable risk that can inform policy.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: pandoc citations notes, various</title>
   <link href="/2012/03/27/tuesday-pandoc-citations-notes-various.html"/>
   <updated>2012-03-27T15:22:14-07:00</updated>
   <id>h/2012/03/27/tuesday-pandoc-citations-notes-various</id>
   <content type="html">&lt;h2 id=&quot;markdown-over-latex&quot;&gt;Markdown over latex?&lt;/h2&gt;
&lt;p&gt;knitr may have solved the fundamental challenge of all Sweave/latex users with Markdown. Too many of us must be able to work with collaborators who don’t know LaTeX and journals that won’t accept LaTeX. It’s a sad state of the affairs, and has improved slowly for journals (at least many will take pdfs for initial submissions) if not for collaborators. Consequently getting away from LaTeX would be nice, but Word or Google docs just won’t cut it. They cannot Sweave in code. They handle equations poorly. They save binary files not amiable to version management. The aren’t easily portable across architectures or onto the web.&lt;/p&gt;
&lt;h3 id=&quot;pandoc-configuration-notes&quot;&gt;Pandoc Configuration notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Very pretty. https://github.com/vim-pandoc/vim-pandoc&lt;/li&gt;
&lt;li&gt;But uses this to install. https://github.com/tpope/vim-pathogen&lt;/li&gt;
&lt;li&gt;Apparently apt-get just cannot keep up with our modern world.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Getting citation support for pandoc, also problematic.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; apt-get &lt;span class=&quot;kw&quot;&gt;install&lt;/span&gt; libbibutils-dev bibutils haskell-platform
cabal update
cabal &lt;span class=&quot;kw&quot;&gt;install&lt;/span&gt; pandoc
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;cp&lt;/span&gt; ~/.cabal/bin/pandoc /usr/bin/pandoc&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Goodness grief. Everyone wants a custom install for their language today. At least this may be &lt;a href=&quot;https://bugs.launchpad.net/ubuntu/+source/haskell-citeproc-hs/+bug/881355&quot;&gt;fixed soon&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;pandoc-citations&quot;&gt;Pandoc citations&lt;/h3&gt;
&lt;p&gt;Taking a look at pandoc citation formats. &lt;a href=&quot;http://johnmacfarlane.net/pandoc/demos.html&quot;&gt;see demo 24&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Going back and forth between knit notation in vim these days…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:%s/``` {r$.*$}//g
:%s/`ri //g&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Any opinions on Pandoc headers? Pandoc seems to want something like&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;% Title
% Author
% date&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which doesn’t translate nicely to github.&lt;/p&gt;
&lt;p&gt;I’ve got citations working using either pandoc or my inline knit now The inline knit requires something like &lt;code&gt;citep(bib[&amp;quot;RTeam2012&amp;quot;])&lt;/code&gt; where bib is a list of bibentries read in from read.bibtex or a doi, &lt;code&gt;citep(&amp;quot;10.1016/j.tpb.2009.10.003&amp;quot;)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I’m thinking about turning something like [@RTeam2012] into a knitr handle, so I can optionally use knitr or pandoc to fill in the citations.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Here’s an example source with &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/3ce7c7a7aa3113624a18ccd74c080a0c014537e8/inst/doc/rfishbase/source/rfishbase.md&quot;&gt;inline citation&lt;/a&gt; and the &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/3ce7c7a7aa3113624a18ccd74c080a0c014537e8/inst/doc/rfishbase/rfishbase.md&quot;&gt;resulting output&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Compare to with &lt;a href=&quot;https://github.com/ropensci/rfishbase/blob/3ce7c7a7aa3113624a18ccd74c080a0c014537e8/inst/doc/rfishbase/rfishbase_pandoc.md&quot;&gt;pandoc output&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;R citations need a bit of formating work, but at least I have the proof of principle now.&lt;/p&gt;
&lt;h3 id=&quot;pdg-control-training-problem-ii&quot;&gt;pdg-control (Training Problem II)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;active adaptive management with model uncertainty (implemented)&lt;/li&gt;
&lt;li&gt;no-learning case of model uncertainty (still integrate over model uncertainty)&lt;/li&gt;
&lt;li&gt;passive adaptive management of model uncertainty&lt;/li&gt;
&lt;li&gt;no-learning case for parameter uncertainty&lt;/li&gt;
&lt;li&gt;passive adaptive parameter uncertainty&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h3&gt;
&lt;p&gt;Lots of stuff going on.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Website transfer to new server. Possibly consider Jekyll site.&lt;/li&gt;
&lt;li&gt;Synthesis paper on text mining&lt;/li&gt;
&lt;li&gt;Google summer-of-code applicants&lt;/li&gt;
&lt;li&gt;ESA &amp;amp; Evolution tutorials&lt;/li&gt;
&lt;li&gt;ievobio lightning talk, software bazaar entry, possible challenge entry&lt;/li&gt;
&lt;li&gt;Pursuit of additional funds&lt;/li&gt;
&lt;li&gt;Strategy for managing growing list of collaborators&lt;/li&gt;
&lt;li&gt;Communication / outreach&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Active adaptive management solutions: Belief SDP</title>
   <link href="/2012/03/26/active-adaptive-management-solutions-belief-sdp.html"/>
   <updated>2012-03-26T07:46:52-07:00</updated>
   <id>h/2012/03/26/active-adaptive-management-solutions-belief-sdp</id>
   <content type="html">&lt;p&gt;Have finally gotten my active adaptive management solutions working.&lt;/p&gt;
&lt;p&gt;The active adaptive management solution learns very quickly and rather monotonically which model is correct, even when models differ by small amounts and the initial belief is heavily skewed to the wrong model. I’ve implemented examples with Myers model, but in this parameter space the allee effect is well below the Reed escapement level of the alternative Beverton Holt model, so it doesn’t exert itself.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A case of &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/c5f69be6e51849a2be7850239f6397136f949ceb/inst/examples/model_uncertainty.md&quot;&gt;choosing between to Beverton Holt models with very similar parameters&lt;/a&gt;. Some delay occurs before a given replicate observes an event unlikely to have come from the wrong model, and then it quickly adjusts its beliefs.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6109/7018813563_d8ca8eb756_o.png&quot; alt=&quot;delay&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;delay&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/fd9852313efe0fa9ea9233539a1e2fcb77983a13/inst/examples/model_uncertainty.md&quot;&gt;Choosing between Beverton Holt and Myers Allee model&lt;/a&gt;. Allee model is correct even though our initial belief doubts it. The algorithm quickly corrects this.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6111/7018879281_b2bc4ea6a2_o.png&quot; alt=&quot;allee&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;allee&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Perhaps the &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/c1481a071bed3496413328eb148b28138ccb0f55/inst/examples/model_uncertainty.md&quot;&gt;most dramatic example I have so far&lt;/a&gt; comes from a mistake in my model specification, whereby what I intended to be the correct model was actually a terribly optimistic model. The algorithm quickly realized that it would do best to chose what I had provided as the wrong model, which was actually closer to the truth than my faulty specified true model.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7102/7018850545_5562557904_o.png&quot; alt=&quot;corrected&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6113/6872744460_b1976cd8f6_o.png&quot; alt=&quot;belief&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S = \frac{\alpha S ^ {\delta}}{1 + S^{\delta}/K}&quot; alt=&quot;S = \frac{\alpha S ^ {\delta}}{1 + S^{\delta}/K}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?1 + S^\delta/K = \alpha S ^ {\delta-1}&quot; alt=&quot;1 + S^\delta/K = \alpha S ^ {\delta-1}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K - K \alpha S ^ {\delta-1} + S{^\delta}&quot; alt=&quot;K - K \alpha S ^ {\delta-1} + S{^\delta}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; for $ = 2 $ &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S = \frac{1}{2} \left( \alpha K \pm \sqrt{\alpha^2 K^2 - 4 K}\right)&quot; alt=&quot;S = \frac{1}{2} \left( \alpha K \pm \sqrt{\alpha^2 K^2 - 4 K}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Cases where risk of collapse is real, learning is fast, but model uncertainty isn’t the challenge. Compare outcomes starting with &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/d0cd7ca379dfc30e67363442189ab57adfa8058a/inst/examples/model_uncertainty.md&quot;&gt;wrong&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ff049e1f623413e1438555aec63ddbe65dec6d8f/inst/examples/model_uncertainty.md&quot;&gt;right&lt;/a&gt; initial belief. Learning takes place in the first step, but many populations crash by chance anyhow.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7231/7019134197_76f3c00e80_m.jpg&quot; alt=&quot;right assumption&quot; /&gt; &lt;img src=&quot;http://farm8.staticflickr.com/7046/7019126361_c3a712b982_m.jpg&quot; alt=&quot;wrong initial assumption&quot; /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Citations in markdown using knitr</title>
   <link href="/2012/03/24/citations-in-markdown-using-knitr.html"/>
   <updated>2012-03-24T14:33:27-07:00</updated>
   <id>h/2012/03/24/citations-in-markdown-using-knitr</id>
   <content type="html">&lt;p&gt;I am finding myself more and more drawn to markdown rather then tex/Rnw as my standard format (not least of which is the ease of displaying the files on github, particularly now that we have automatic image uploading). One thing I miss from latex is the citation commands. (I understand these can be provided to markdown via Pandoc, but I’d like to simply have to knit the document, and not then run it through pandoc, latex, or another interpreter). I’ve taken a little whack at generating in-text citations using knitr and other R tools.&lt;/p&gt;
&lt;h3 id=&quot;doi-approach&quot;&gt;DOI Approach&lt;/h3&gt;
&lt;p&gt;I’ve put some simple functions in a &lt;code&gt;knitcitations&lt;/code&gt; package. The functions use the crossref API to grab citation information given a doi, so I don’t have to generate a bibtex file for papers I’m reading, (inspired by the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;kcite&lt;/a&gt; package for Wordpress). One can grab my package from github&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;install_github&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;knitcitations&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;cboettig&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and load the package&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(knitcitations)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we can generate a citation given a doi with the &lt;code&gt;ref&lt;/code&gt; function:&lt;/p&gt;
&lt;h3 id=&quot;bibtex-approach&quot;&gt;Bibtex Approach&lt;/h3&gt;
&lt;p&gt;If we have a bibtex file, we can use this for the citations as well. Let’s start off by getting ourselves a bibtex file from some of R’s packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(bibtex)
&lt;span class=&quot;kw&quot;&gt;write.bib&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;bibtex&amp;#39;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;#39;knitr&amp;#39;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;#39;knitcitations&amp;#39;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;file=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;example.bib&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we can simply read in the bibtex files:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
biblio &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.bib&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;example.bib&amp;quot;&lt;/span&gt;)
biblio[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Francois R (2011). &lt;em&gt;bibtex: bibtex parser&lt;/em&gt;. R package version 0.3-1/r332, .&lt;/p&gt;
&lt;p&gt;(This would be much more awesome if we could generate keys on write.bib and use those bibtex keys, instead of the index value, &lt;code&gt;[[1]]&lt;/code&gt;, to generate the citation.)&lt;/p&gt;
&lt;h3 id=&quot;using-the-inline-citations&quot;&gt;Using the inline citations&lt;/h3&gt;
&lt;p&gt;Now that we can get citation information from bibtex files or dois, we need a way to insert these citations into the text. I’ve written a simple &lt;code&gt;citep&lt;/code&gt; print inline citations that would just use a given shortened format (e.g. author-year) and add the citation to a &lt;code&gt;works_cited&lt;/code&gt; object, which we could then use to generate the full citation information at the end. We can generate inline citations by giving a doi, bibentry object, or a list thereof, into inline knitr code block. Thus we can use the line &lt;code&gt;citep(&amp;quot;10.1111/j.1461-0248.2005.00827.x&amp;quot;)&lt;/code&gt; to generate a parenthetical citation, (Halpern &lt;em&gt;et. al.&lt;/em&gt; 2006). We can alos generate textual citations with &lt;code&gt;citet(biblio[1])&lt;/code&gt;, such as Francois, (2011). Parenthetical citations can take more than one entry, such as &lt;code&gt;citep[biblio[2:3]&lt;/code&gt;, which produces (Xie, 2012; Boettiger, 2012).&lt;/p&gt;
&lt;h3 id=&quot;generating-the-final-bibliography&quot;&gt;Generating the final bibliography&lt;/h3&gt;
&lt;p&gt;As we go along adding inline citations, R stores the list of citation info. Then at the end of the document, use this command to print the bibliography generated by the use of our inline citations.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;bibliography&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Halpern B, Regan H, Possingham H and McCarthy M (2006). “Accounting for uncertainty in marine reserve design.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;em&gt;9&lt;/em&gt;. ISSN 1461-023X, .&lt;/p&gt;
&lt;p&gt;Francois R (2011). &lt;em&gt;bibtex: bibtex parser&lt;/em&gt;. R package version 0.3-1/r332, .&lt;/p&gt;
&lt;p&gt;Xie Y (2012). &lt;em&gt;knitr: A general-purpose package for dynamic report generation in R&lt;/em&gt;. R package version 0.4.1, .&lt;/p&gt;
&lt;p&gt;Boettiger C (2012). &lt;em&gt;knitcitations: Citations for knitr markdown files&lt;/em&gt;. R package version 0.0-1.&lt;/p&gt;
&lt;p&gt;I hope to add markup to format this a bit more nicely later. For instance, we want the links to appear as real links. Additionally, we may want to add markup around the citations, such as the reason for the citation into the link using the &lt;a href=&quot;http://speroni.web.cs.unibo.it/cgi-bin/lode/req.py?req=http:/purl.org/spar/cito&quot;&gt;Citation Typing Ontology&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This entry was, of course, produced in knitr with my &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; package. See the &lt;a href=&quot;https://raw.github.com/cboettig/knitcitations/master/inst/examples/citations_knit_.md&quot;&gt;original source&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Robust control & uncertainty - reading notes</title>
   <link href="/2012/03/22/robust-control-uncertainty-reading-notes.html"/>
   <updated>2012-03-22T11:19:17-07:00</updated>
   <id>h/2012/03/22/robust-control-uncertainty-reading-notes</id>
   <content type="html">&lt;p&gt;Ecologists/TREE (Fischer &lt;em&gt;et. al.&lt;/em&gt; 2009), (Polasky &lt;em&gt;et. al.&lt;/em&gt; 2011)  give a nice overview/introduction to the problem.  Perhaps most interestingly, both set up resilience approaches as a foil or alternate approach in contrast to a decision-theoretic problem. Fischer’s group does a particularly nice job handling the case that these two are separate approaches – it’s easy to dismiss resilience thinking as fuzzy optimization of fuzzy objective functions.&lt;/p&gt;
&lt;p&gt;The Polasky piece does a nice job refocusing us on the obvious but brushed-over question of the objective function.  Without explicit probabilities on outcomes, we switch immediately to approaches like maximin, which their simple example does a much better job calling attention to the weakness of such assumptions that do the richer examples usually formulated (below).&lt;/p&gt;
&lt;p&gt;Entertainingly, max-min goes back to von Neumann’s proof of the theorem in two player games, while in the case of uncertainty “Nature” or “chance” takes the role of the other player – not knowing how they will play, you seek a strategy that maximizes the minimum payoff you will receive. Clearly this is invented in a discrete world with limited outcomes and options – for most realistic problems there must always be some probability of no payoff, regardless of strategy, and you must be doing a maximin conditional on the really unlikely things not happening (hit by asteroid, sudden collapse of your fishery, etc).&lt;/p&gt;
&lt;p&gt;Their critique of decision theory focuses only on the fact that it requires probabilities of outcomes, which in practice won’t be known, or at least knowledge of possible states, in the case of maximin.  The first is critique is quite just, which is as they say, the reason for maximin approaches.  These probably founder more on their choice of objective function than their inability to enumerate possible states.  Surprisingly they make no mention of computational complexity, which is probably in practice the more common limitation.&lt;/p&gt;
&lt;h3 id=&quot;info-gap-theory&quot;&gt;Info Gap Theory&lt;/h3&gt;
&lt;p&gt;Reading (Regan &lt;em&gt;et. al.&lt;/em&gt; 2005), sounds like a sensitivity analysis on the uncertainty parameter. Authors refer to this as “info-gap theory,” though it’s not particularly different.  (While sensitivity analysis would do this parametrically using, say, the width of the distribution about a parameter), this rather more crudely it seems, just varies the best-estimate value of the parameter until the decision changes.&lt;/p&gt;
&lt;p&gt;Whoops (reading more), apparently it’s a thing (i.e. gets it’s own &lt;a href=&quot;http://en.wikipedia.org/wiki/Info-gap_decision_theory&quot;&gt;wikipedia page&lt;/a&gt;, also appearing in the literature without Dr. Ben-Haim, Nicholson &amp;amp; Possingham, 2007 (Halpern &lt;em&gt;et. al.&lt;/em&gt; 2006)) though this still seems to &lt;a href=&quot;http://en.wikipedia.org/wiki/Info-gap_decision_theory#Alternatives&quot;&gt;support&lt;/a&gt; my characterization (the second author of the Eco Apps paper seems to be behind the term). Info-gap can also be framed as a Max Min approach.&lt;/p&gt;
&lt;p&gt;Whoops again, &lt;a href=&quot;http://info-gap.moshe-online.com/&quot;&gt;apparently it’s a controversy too&lt;/a&gt;, (as mentioned in the Fischer piece). Nicholson &amp;amp; Possingham, 2007 Gives a rather nice list of papers that in single-species analyses have found ranking of management options to be robust to uncertainty and others where it is not (hardly surprising, but nice to have concrete examples).  Takes a simple info-gap approach to the multi-species case.&lt;/p&gt;
&lt;h3 id=&quot;more-rigorous-maximin-approaches&quot;&gt;More rigorous maximin approaches&lt;/h3&gt;
&lt;p&gt;Bill Brock’s work in this area is particularly nice.  Cute proper technical example of model uncertainty in Hansen’s recursive max/min expected utility (Brock &amp;amp; Xepapadeas, 2010).  Hansen’s treatment on these is dense (below), but not at all clear that this is what we want to be optimizing.  See mathematical economics treatment of model uncertainty &amp;amp; misspecification in (Hansen &amp;amp; Sargent, 2001), (Hansen &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/p&gt;
&lt;p&gt;Brock also has a beautiful simple paper pointing out how uncertainties lead to conflicting conclusions , such as the debate over the fisheries collapse.  (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009) Also has a nice example in Peterson &lt;em&gt;et. al.&lt;/em&gt; 2003 of an apparently optimally managed system collapsing.  Applies a passive adaptive management solution learning about a choice between two given models (with fixed parameters), one which describes the system around the eutrophic stable state, the other around the oligotrophic.Note the actual dynamics cannot be represented as a sum of these beliefs, so this approach is doomed and the result is hardly surprising mathematically, which kinda makes it all the more clever as an example.&lt;/p&gt;
&lt;p&gt;(Brozović &amp;amp; Schlenker, 2011) is probably a richer example of an optimally managed system failing under uncertainty. Shows the outcome can be very sensitive to assumptions about uncertainty in systems with alternative stable states; a nice example to further the point of (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009). Shows with moderate uncertainty a precautionary behavior, while more severe uncertainty it precaution isn’t worth it, since it cannot diminish the risk adequately.&lt;/p&gt;
&lt;p&gt;(Meir &lt;em&gt;et. al.&lt;/em&gt; 2004) Which seems to give  rise to the Possingham position on giving only rules of thumb from decision theoretic models.  Comes the closest to implementation uncertainty, considering the case in which a policy cannot be implemented immediately as it is formed.  This is really a red herring – if implementation takes place over time, in principle that problem should be framed in the dynamic optimization.  The real bugbear here is not implementation uncertainty per se, but the fact that dynamic solutions (SDP) are not computationally feasible, so they test rules-of-thumb against the optimum for a small problem, in hopes that the extrapolation is valid.  The rules of thumb are “more effective” than a static solution; the optimal dynamic solution being unfeasible. It seems we’d be on firmer ground using small problems to provide counterexamples of when simple rules fail, than to use the lack of counterexample in a particular case as grounds for extrapolating.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fischer J, Peterson G, Gardner T, Gordon L, Fazey I, Elmqvist T, Felton A, Folke C and Dovers S (2009). “Integrating Resilience Thinking And Optimisation For Conservation.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.020&quot;&gt;http://dx.doi.org/10.1016/j.tree.2009.03.020&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Polasky S, Carpenter S, Folke C and Keeler B (2011). “Decision-Making Under Great Uncertainty: Environmental Management in an Era of Global Change.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.007&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.04.007&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Regan H, Ben-Haim Y, Langford B, Wilson W, Lundberg P, Andelman S and Burgman M (2005). “Robust Decision-Making Under Severe Uncertainty For Conservation Management.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;15&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/03-5419&quot;&gt;http://dx.doi.org/10.1890/03-5419&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Halpern B, Regan H, Possingham H and McCarthy M (2006). “Accounting For Uncertainty in Marine Reserve Design.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00827.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brock W and Xepapadeas A (2010). “Robust Control And Hot Spots in Dynamic Spatially Interconnected Systems.” &lt;em&gt;Ssrn Electronic Journal&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.2139/ssrn.1736486&quot;&gt;http://dx.doi.org/10.2139/ssrn.1736486&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hansen L and Sargent T (2001). “Robust Control And Model Uncertainty.” &lt;em&gt;American Economic Review&lt;/em&gt;, &lt;strong&gt;91&lt;/strong&gt;. ISSN 0002-8282, &lt;a href=&quot;http://dx.doi.org/10.1257/aer.91.2.60&quot;&gt;http://dx.doi.org/10.1257/aer.91.2.60&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hansen L, Sargent T, Turmuhambetova G and Williams N (2006). “Robust Control And Model Misspecification.” &lt;em&gt;Journal of Economic Theory&lt;/em&gt;, &lt;strong&gt;128&lt;/strong&gt;. ISSN 00220531, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jet.2004.12.006&quot;&gt;http://dx.doi.org/10.1016/j.jet.2004.12.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Biggs R, Carpenter S and Brock W (2009). “Spurious Certainty: How Ignoring Measurement Error And Environmental Heterogeneity May Contribute to Environmental Controversies.” &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 0006-3568, &lt;a href=&quot;http://dx.doi.org/10.1525/bio.2009.59.1.10&quot;&gt;http://dx.doi.org/10.1525/bio.2009.59.1.10&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brozović N and Schlenker W (2011). “Optimal Management of an Ecosystem With an Unknown Threshold.” &lt;em&gt;Ecological Economics&lt;/em&gt;, &lt;strong&gt;70&lt;/strong&gt;. ISSN 09218009, &lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolecon.2010.10.001&quot;&gt;http://dx.doi.org/10.1016/j.ecolecon.2010.10.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Meir E, Andelman S and Possingham H (2004). “Does Conservation Planning Matter in A Dynamic And Uncertain World?” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2004.00624.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2004.00624.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Making Conservation Decisions Under Uncertainty For The Persistence of Multiple Species, Emily Nicholson, Hugh P. Possingham, (2007) &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;17&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/1051-07612007017[0251:MCDUUF]2.0.CO;2&quot;&gt;10.1890/1051-0761(2007)017[0251:MCDUUF]2.0.CO;2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uncertainty And The Management of Multistate Ecosystems: an Apparently Rational Route to Collapse, G. D. Peterson, S. R. Carpenter, W. A. Brock, (2003) &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;84&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/0012-96582003084[1403:UATMOM]2.0.CO;2&quot;&gt;10.1890/0012-9658(2003)084[1403:UATMOM]2.0.CO;2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Policy costs to changing mangement, TP 1b: Apples to Apples</title>
   <link href="/2012/03/21/policy-costs-to-changing-mangement-tp-1b-apples-to-apples.html"/>
   <updated>2012-03-21T07:42:57-07:00</updated>
   <id>h/2012/03/21/policy-costs-to-changing-mangement-tp-1b-apples-to-apples</id>
   <content type="html">&lt;p&gt;A central question of training problem 1b addressed at the working group was how to compare the different penalties. Following up on those discussions, here are a few notes on how far I’ve gotten in the analysis regarding the best way to make these comparisons.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/simulate_npv_curves.md&quot;&gt;simulate_npv_curves&lt;/a&gt; Nice job of showing the performance of the variance ratio, clear example for L2. Correlation test should probably be applied to differences, pattern is much less clear. As for NPV comparison, looks too noisy, should calculate exactly from the SDP policy matrix in the way Michael suggested.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/exact_npv.md&quot;&gt;exact_npv&lt;/a&gt;. Much clearer plot than the stochastic case, not sure why asymmetric shows no penalty. Note that fixed costs keep increasing, getting policy-cost to exceed NPV0, implying that the profit margin has gone to zero. Probably not worth computing the cases that go beyond this. Surprised how much a difference discretization makes too.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;updated &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/policycosts/policycost_L1.md&quot;&gt;policycost_L1&lt;/a&gt;. I’ve updated the simulation function to keep track of policy costs and total costs on the fly, so I no longer need to calculate these post-hoc, but this breaks the earlier version calls to ForwardSim. Likewise I’ve updated the policy cost dynamic programming solution to allow for arbitrary cost penalty, and to treat the quadratic effort penalty as a cost (for accounting purposes) which also breaks the prior version of these calls. Note that we’re also in Dan’s values for default parameters now. This file has been updated to reflect these changes, the examples of other penalties should be one-line chances to this code.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example figures (more figures and details in the analyses linked above)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7068/6983560431_053aa815b0_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7061/6842399336_6eaaa99e3d_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>knitr, github, and a new phase for the lab notebook</title>
   <link href="/2012/03/21/knitr-github-and-a-new-phase-for-the-lab-notebook.html"/>
   <updated>2012-03-21T05:13:42-07:00</updated>
   <id>h/2012/03/21/knitr-github-and-a-new-phase-for-the-lab-notebook</id>
   <content type="html">&lt;p&gt;I have recently modified the basic workflow of my lab notebook since discovering &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;. Before, I would write code files which I could track on &lt;a href=&quot;https://github.com&quot;&gt;github&lt;/a&gt;, push figures created by the code to flickr, and then write a notebook entry on wordpress describing what I was doing. I’d embed each figure I wanted into the entry, and each figure got an automatic link to github for the script that created it (which usually worked, though it didn’t say where in the script the command came from, and it required manually specifying the script name).&lt;/p&gt;
&lt;p&gt;Because knitr allows me to write a single file containing code and formatted text, and will automatically display the code and embed the images, I can avoid that more convoluted workflow and just write.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7256/7003687571_09f79cfc15_o.png&quot; /&gt;](https://github.com/cboettig/pdg_control/blob/master/inst/examples)&lt;/p&gt;
&lt;p&gt;What makes this so excellent is that knitr allows me to write in markdown, and github automatically displays nicely formatted markdown instead of raw script when you visit the page. So whereas before I would keep a bunch of working &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/demo&quot;&gt;R scripts&lt;/a&gt; in &lt;code&gt;projectname/demo&lt;/code&gt; I now keep a bunch of &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/master/inst/examples&quot;&gt;markdown scripts&lt;/a&gt; in &lt;code&gt;inst/examples&lt;/code&gt;, ((since I’m using the R package for projects and demo/ doesn’t want non-R scripts)).&lt;/p&gt;
&lt;p&gt;The great thing about this is that I can just click on each script and see nicely rendered text, links, code, and figures right on github.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6217/7003679683_d9f472efd6_o.png&quot; alt=&quot;example entry&quot; /&gt;](https://github.com/cboettig/pdg_control/blob/master/inst/examples/Reed.md)&lt;/p&gt;
&lt;p&gt;While I can push this same markdown script to wordpress and have it be rendered in my notebook, I think maintaining these examples on github is preferable. Note that every script-name appears twice, once with and once without the &lt;code&gt;_knit_&lt;/code&gt; extension. The &lt;code&gt;_knit_&lt;/code&gt; extension indicates the file I ran to create the output (the code is in html comments so you can only see them in raw form). Because all the code is displayed in the output file (unless I call knitr options to surpress this), there’s really no need to view the &lt;code&gt;_knit_&lt;/code&gt; file to reproduce the example, everything is in one place in the output &lt;code&gt;.md&lt;/code&gt; file.&lt;/p&gt;
&lt;p&gt;These files benefit from the github managed version history, just clicking the history button gives a list of all the former versions, with code and results right there.&lt;/p&gt;
&lt;p&gt;While I could update a post in the notebook in the same way, the version control of this wordpress notebook is more crude, and more importantly, the blog-format is designed for a linear flow, whereas in a given day I might update each of these example scripts. This seems like a much more natural workflow then having consecutive entries in the notebook with updated versions of the analysis the day before, and more natural than going back and changing a previous notebook entry.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7094/7003692801_d14a23855e_o.png&quot; /&gt;](https://github.com/cboettig/pdg_control/commits/master/inst/examples/model_uncertainty.md)&lt;/p&gt;
&lt;p&gt;Github can also gives nice snapshot of what’s changed, along with the commit notes for each project, for each day. Now that I can display figures and formatted text on github, as well as code, what role does the Wordpress notebook play? I think this wordpress notebook can resume is proper role as a lab notebook, containing reflections and synthesis on what I’ve done, rather than the more comprehensive copies of each analysis and each figure. Because it’s the internet, I can link to each of the analyses of that day using version-stable links from github, or links that always give the most recent version. This requires additional effort, but it’s a reflection I should be doing anyway. We’ll see how it goes. Meanwhile, welcome to the open lab notebook v2.0.&lt;/p&gt;
&lt;h2 id=&quot;a-few-more-details&quot;&gt;A few more details&lt;/h2&gt;
&lt;h5 id=&quot;longer-code-r-functions&quot;&gt;Longer code &amp;amp; R functions&lt;/h5&gt;
&lt;p&gt;When I write code longer than a few lines, I try to make it a function, or collection of functions, and include basic Roxygen-style documentation with it so I don’t have to read the code to remember how to use it. These functions naturally live in the &lt;code&gt;R/&lt;/code&gt; directory of the project. The project’s R package can be installed, and all these functions are then available. Each of my example scripts calls functions belonging to the package, but those functions change less regularly. To fully reproduce the example, it would be necessary to grab a copy of the R package from the same commit-version as the script. In practice, most of the time any version of the package R functions could be used.&lt;/p&gt;
&lt;h5 id=&quot;github-wiki&quot;&gt;Github wiki&lt;/h5&gt;
&lt;p&gt;Github has wiki pages which I could use instead of putting my entries in &lt;code&gt;inst/example&lt;/code&gt;, since both render markdown (the wiki will additionally render mathjax math, all be it as a png). However, the wiki is aimed at online editing, and exists as a separate repository, so just keeping the markdown files in the project directory is simpler.&lt;/p&gt;
&lt;h5 id=&quot;images&quot;&gt;Images&lt;/h5&gt;
&lt;p&gt;Github doesn’t actually host the images. In fact, my images are still being pushed to flickr, and you can see them there. Knitr is handling this automatically as the figures are created, keeping track of the links so they can be included in the output markdown. Knitr can do this with imgur out of the box, and I’ve also written a wrapper to let it push the images to a wordpress site. Doesn’t really matter where they are stored, they can always be viewed on Github.&lt;/p&gt;
&lt;h5 id=&quot;heavy-computing&quot;&gt;Heavy computing&lt;/h5&gt;
&lt;p&gt;I’ve found that the knitted markdown examples make the most sense for fast-running examples. Despite excellent caching support, I’ve found it best to run really long-running examples as external R scripts, and then save and import this data. Such scripts are often being run on a cluster that can’t push images to the internet anyway.&lt;/p&gt;
&lt;h5 id=&quot;power-of-openness&quot;&gt;Power of openness?&lt;/h5&gt;
&lt;p&gt;It occurs to me that this system would be harder but not impossible, in a closed environment. I could upload the figures to flickr with private status. The links are hashes, so cannot be guessed. If the output were then hosted on a secure site (running a markdown renderer, such as Jekyll), instead of github, these links would still work to display the images. Then one could give selected access to those pages. But the open solution works out of the box.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: active adaptive management, a first solution</title>
   <link href="/2012/03/20/tuesday-active-adaptive-management-a-first-solution.html"/>
   <updated>2012-03-20T15:31:42-07:00</updated>
   <id>h/2012/03/20/tuesday-active-adaptive-management-a-first-solution</id>
   <content type="html">&lt;p&gt;Spent way more of today than I wanted to hammering out the active adaptive management implementation for a trivial model-choice problem using the discretized belief-SDP approach.&lt;/p&gt;
&lt;p&gt;We have alternate models &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f_1\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f_2\inline&quot;/&gt;&lt;/span&gt; of the state equations (population growth dynamics) &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_t f(x_t)&quot; alt=&quot;x_{t+1} = z_t f(x_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and introduce a continuously valued belief probability &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p\inline&quot;/&gt;&lt;/span&gt; that model 1 is correct. This lends itself to a Bayesian updating rule for our belief based on observing a transition from &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p_{t+1} = \frac{p_t P(y, f_1(x))}{p_t P(y, f_1(x)) + (1- p_t) P(y, f_2(x))}&quot; alt=&quot;p_{t+1} = \frac{p_t P(y, f_1(x))}{p_t P(y, f_1(x)) + (1- p_t) P(y, f_2(x))}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We define a two-dimensional state space as the continuously valued population density &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt; and belief &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y\inline&quot;/&gt;&lt;/span&gt;, and then discretized both of these to fixed grids (feeling acutely the curse of dimensionality in the process.) We calculate and SDP matrix which essentially “factors” the original, known model matrix over beliefs, and have to keep track of this giant creature. The implementation is rather straight-forward, with a little book-keeping, but somehow I introduced a bug or two along the way which I proceeded not to track down very effectively…&lt;/p&gt;
&lt;p&gt;Not sure that I have this working yet. I now get agreement between the optimal strategy proposed when model 1 is known to be correct, and the the optimal strategy proposed when there are two models, and model 1 is most likely; however this active adaptive solution does not seem to vary with belief state(!) so something is still wrong.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ec5a588a92b02d46931d709f8bce51cd097bf754/inst/examples/model_uncertainty.md&quot;&gt;model_uncertainty.md example&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/model_uncertainty.md&quot;&gt;history&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: some random notes</title>
   <link href="/2012/03/20/friday-some-random-notes.html"/>
   <updated>2012-03-20T09:53:08-07:00</updated>
   <id>h/2012/03/20/friday-some-random-notes</id>
   <content type="html">&lt;h2 id=&quot;computational-tricks&quot;&gt;Computational tricks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://gist.github.com/2050761&quot;&gt;tables in github markdown via knitr&lt;/a&gt;. clever&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://possiblybrainful.blogspot.com/2011/08/using-gpu-in-r-scripts.html&quot;&gt;Getting custom C/C++ CUDA working in R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-management-and-sharing-solutions-for-large-files&quot;&gt;Data management and sharing solutions for large files&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;NERSC uses &lt;a href=&quot;https://www.globusonline.org/&quot;&gt;globus online&lt;/a&gt; for interface for transferring terabytes/hr, pretty clever. NERSC also enables &lt;a href=&quot;http://www.nersc.gov/users/data-and-networking/sharing-data/&quot;&gt;web hosting to share data&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Software-Carpentry style &lt;a href=&quot;software-carpentry.org/4_0/data/mgmt/&quot;&gt;Data management&lt;/a&gt; a nice start. An open solution could stick the data on figshare (or elsewhere), write the readmes in markdown and keep them on github with links to the data.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A collection of &lt;a href=&quot;http://pad.p2pu.org/p/opensciencecontent&quot;&gt;Open Science challenges from p2pU&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A nice &lt;a href=&quot;www.nytimes.com/2012/03/05/education/moocs-large-courses-open-to-all-topple-campus-walls.html?pagewanted=all&quot;&gt;NY Times piece on Thrun &amp;amp; large-scale teaching&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Citing R packages</title>
   <link href="/2012/03/20/citing-r-packages.html"/>
   <updated>2012-03-20T03:02:09-07:00</updated>
   <id>h/2012/03/20/citing-r-packages</id>
   <content type="html">&lt;p&gt;I’m not always careful in citing all the R packages I use. R actually has some rather nice built-in mechanisms to support this, so I really have no excuse. Here’s some quick examples:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;citation&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;ouch&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;To cite the ouch package in publications
use:

  Aaron A. King and Marguerite A. Butler
  (2009), ouch: Ornstein-Uhlenbeck models
  for phylogenetic comparative hypotheses (R
  package),
  http://ouch.r-forge.r-project.org

  Butler, M. A. and King, A. A. (2004)
  Phylogenetic comparative analysis: a
  modeling approach for adaptive evolution
  Am. Nat. 164:683--695

As ouch is continually evolving, you may
want to cite its version number. Find it
with &amp;#39;help(package=ouch)&amp;#39;.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Can I have that in bibtex format please?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;toBibtex&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;citation&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;ouch&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;@Manual{,
  title = {ouch: Ornstein-Uhlenbeck models for phylogenetic comparative hypotheses},
  author = {Aaron A. King and Marguerite A. Butler},
  year = {2009},
  url = {http://ouch.r-forge.r-project.org},
}
@Article{,
  author = {Marguerite A. Butler and Aaron A. King},
  title = {Phylogenetic comparative analysis: a modeling approach for adaptive evolution},
  journal = {American Naturalist},
  year = {2004},
  volume = {164},
  pages = {683--695},
  url = {http://www.journals.uchicago.edu/AN/journal/issues/v164n6/40201/40201.html},
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice that this package provides the citation information for both the package and the associated journal article simultaneously, and R has successfully identified the formats as ‘Manual’ and ‘Article’ respectively.&lt;/p&gt;
&lt;p&gt;After running your code, consider creating a custom bibtex file containing the citation information for all the packages you have just used. (The file can be imported into most citation managers, if LaTeX isn’t your thing).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;sink&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;test.bib&amp;quot;&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sessionInfo&lt;/span&gt;()$otherPkgs), 
    function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;citation&lt;/span&gt;(x), &lt;span class=&quot;dt&quot;&gt;style =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Bibtex&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also simply generate the list of loaded package in LaTeX format, which could be automatically included.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;toLatex&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sessionInfo&lt;/span&gt;(), &lt;span class=&quot;dt&quot;&gt;locale =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;for-package-authors&quot;&gt;For package authors&lt;/h3&gt;
&lt;p&gt;R will attempt to automatically construct the citation information for the package automatically from the description file, so it is not strictly necessary to do anything to your package to create it. Note that R has recently adopted a new syntax to specify the authors, which is a bit more precise. Instead of using Authors: in the DESCRPTION, we use:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Authors@R: c(person(&amp;quot;Carl&amp;quot;, &amp;quot;Boettiger&amp;quot;, role = c(&amp;quot;aut&amp;quot;, &amp;quot;cre&amp;quot;), email = &amp;quot;cboettig@gmail.com&amp;quot;), 
  person(&amp;quot;Duncan&amp;quot;, &amp;quot;Temple Lang&amp;quot;, role = &amp;quot;aut&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This defines the roles (author, creator, etc, see &lt;code&gt;?person&lt;/code&gt; for details), and ‘creator’ takes the place of the &lt;code&gt;Maintainer:&lt;/code&gt; designation, and requires an email address. If you wish to add an additional publication as part of the citation information (such as the example from &lt;code&gt;ouch&lt;/code&gt; above, you can specify this in the CITATION file. For the example this looks like:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;citHeader&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;To cite the ouch package in publications use:&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;citEntry&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;entry =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Article&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;author =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;personList&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;as.person&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Marguerite A. Butler&amp;quot;&lt;/span&gt;), 
        &lt;span class=&quot;kw&quot;&gt;as.person&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Aaron A. King&amp;quot;&lt;/span&gt;)), &lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Phylogenetic comparative analysis: a modeling approach for adaptive evolution&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;journal =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;American Naturalist&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;year =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2004&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;volume =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;164&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;pages =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;683--695&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;url =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.journals.uchicago.edu/AN/journal/issues/v164n6/40201/40201.html&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;textVersion =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Butler, M. A. and King, A. A. (2004)&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;st&quot;&gt;&amp;quot;Phylogenetic comparative analysis: a modeling approach for adaptive evolution&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;st&quot;&gt;&amp;quot;Am. Nat. 164:683--695&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;citFooter&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;As ouch is continually evolving, you may want to cite its version number. Find it with &amp;#39;help(package=ouch)&amp;#39;.&amp;quot;&lt;/span&gt;)

[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;As ouch is continually evolving, you may want to cite its version number. Find it with &amp;#39;help(package=ouch)&amp;#39;.&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;attr&lt;/span&gt;(,&lt;span class=&quot;st&quot;&gt;&amp;quot;class&amp;quot;&lt;/span&gt;)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;citationFooter&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(It seems like there should be a simple way to generate this automatically from the bibtex format, but I haven’t discovered it.)&lt;/p&gt;
&lt;h3 id=&quot;r-as-a-citation-tool&quot;&gt;R as a citation tool&lt;/h3&gt;
&lt;p&gt;I wrote an R function for the Crossref API in our rplos package. We should probably be formatting the output as an R bibentry, taking advantage of R’s understanding of citation structure. Then I could work automatic citation look-up into my posts using inline knitr calls, such as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;crossref&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;10.1038/44766&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;style=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;An alternate mechanism could read in a local bibtex file and drop in the correct entry in the desired format.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday Treebase Manuscript Writing</title>
   <link href="/2012/03/19/monday-treebase-manuscript-writing.html"/>
   <updated>2012-03-19T13:21:09-07:00</updated>
   <id>h/2012/03/19/monday-treebase-manuscript-writing</id>
   <content type="html">&lt;p&gt;Catching up on unfinished work: today has been spent mostly working over my little treebase applications note. I’m still deciding what/how to present in terms of the meta-analysis section – looking at the classic trends on diversification rate statistics: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\gamma\inline&quot;/&gt;&lt;/span&gt; statistic (Pybus &amp;amp; Harvey, 2000) and diversification rate, and dependence on number of taxa. Not sure how best to handle issues of data choice, quality, or to just average over the available data. Analyses along the lines of (McPeek &amp;amp; Brown, 2007), (Phillimore &amp;amp; Price, 2008). Hard to compress a full analysis in without a full paper. Draft sent to some folks, we’ll see.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/ropensci/treeBASE/blob/master/inst/doc/treebase/treebase.md&quot;&gt;Code/graphs for this analysis.&lt;/a&gt; (re-run to create post, Weds).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Pybus O and Harvey P (2000). “Testing Macro-Evolutionary Models Using Incomplete Molecular Phylogenies.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;267&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2000.1278&quot;&gt;http://dx.doi.org/10.1098/rspb.2000.1278&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McPeek M and Brown J (2007). “Clade Age And Not Diversification Rate Explains Species Richness Among Animal Taxa.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;169&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/512135&quot;&gt;http://dx.doi.org/10.1086/512135&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Phillimore A and Price T (2008). “Density-Dependent Cladogenesis in Birds.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. ISSN 1544-9173, &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.0060071&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.0060071&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control Day 1 goals by training problem</title>
   <link href="/2012/03/13/pdg-control-day-1-goals-by-training-problem.html"/>
   <updated>2012-03-13T14:23:56-07:00</updated>
   <id>h/2012/03/13/pdg-control-day-1-goals-by-training-problem</id>
   <content type="html">&lt;h2 id=&quot;training-problem-i-theme-1&quot;&gt;Training Problem I / Theme 1&lt;/h2&gt;
&lt;h3 id=&quot;policy-costs&quot;&gt;Policy costs&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Functional forms of cost &amp;amp; Structure of the paper&lt;/li&gt;
&lt;li&gt;Comparability (view over all costs? view expected economic benefit?)&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Visualizations&lt;/li&gt;
&lt;li&gt;Dan’s L1 norm story (vs stochastic, discrete time?)&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;transaction-fee-details-in-cts-time-deterministic&quot;&gt;Transaction Fee details in cts time, deterministic&lt;/h4&gt;
&lt;h3 id=&quot;advanced-problem-1&quot;&gt;Advanced problem 1&lt;/h3&gt;
&lt;p&gt;How many spatially differentiated policies are optimal 1. formulate bioeconomic model 2. modularity methods 3. comparison of GBR &amp;amp; Caribbean examples&lt;/p&gt;
&lt;h2 id=&quot;training-problem-2-theme-2&quot;&gt;Training Problem 2 / Theme 2&lt;/h2&gt;
&lt;p&gt;Synthesis paper Advanced problem II. 1. Functional forms for simulations, parameters, updating learning 2. Vet different forms of uncertainty (vocab) 3. Solve the simulations for model uncertainty: Adaptive management MPD, POMDP. 4. POMDP &amp;amp; Outline manuscript.&lt;/p&gt;
&lt;p&gt;advanced Prob II on Allee.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control, Training Problem 2 update to group</title>
   <link href="/2012/03/13/pdg-control-training-problem-2-update-to-group.html"/>
   <updated>2012-03-13T13:17:25-07:00</updated>
   <id>h/2012/03/13/pdg-control-training-problem-2-update-to-group</id>
   <content type="html">&lt;h3 id=&quot;intrinsic-stochasticity&quot;&gt;Intrinsic Stochasticity&lt;/h3&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_t f(x_t, h_t)&quot; alt=&quot;x_{t+1} = z_t f(x_t, h_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?max_{h_t} \textrm{E} \left( \sum_t \Pi(h_t, x_t) \delta^t \right)&quot; alt=&quot;max_{h_t} \textrm{E} \left( \sum_t \Pi(h_t, x_t) \delta^t \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Measurement error $ m_t = z_m x_t $ Implementation error $ i_t = z_i h_t $&lt;/p&gt;
&lt;p&gt;Next: Uncertainty = we can learn and hence decrease the uncertainty. But state-space grows exponentially.&lt;/p&gt;
&lt;h3 id=&quot;parametric-uncertainty&quot;&gt;Parametric Uncertainty&lt;/h3&gt;
&lt;p&gt;Biological state equation &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_t f(x_t, h_t, a_t) P(a_t, \hat a_t, \sigma_t)&quot; alt=&quot;x_{t+1} = z_t f(x_t, h_t, a_t) P(a_t, \hat a_t, \sigma_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Bayesian Learning state equations &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat a_{t+1} = \textrm{Posterior}(a | x) = \frac{ L(x|a) \textrm{Prior}(a)}{\int  L(x|a) \textrm{Prior}(a) da }&quot; alt=&quot;\hat a_{t+1} = \textrm{Posterior}(a | x) = \frac{ L(x|a) \textrm{Prior}(a)}{\int  L(x|a) \textrm{Prior}(a) da }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Myopic learning just evolves the original SDP problem over the stopping time, integrating over the fixed uncertainty, but updates only to the next time-step. It then implements the optimal next step, observes the system, updates the uncertainty, and then repeats the SDP over this updated uncertainty. This scales as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n^2\inline&quot;/&gt;&lt;/span&gt; times the action-space, since the SDP need not consider possible belief states.&lt;/p&gt;
&lt;p&gt;Adaptive learning includes the belief states in the state dynamics. Even summarized as a distribution with two summary statistics, this involves a transition matrix of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n^6\inline&quot;/&gt;&lt;/span&gt; entries for each possibility in the action-space.&lt;/p&gt;
&lt;h3 id=&quot;model-uncertainty&quot;&gt;Model Uncertainty&lt;/h3&gt;
&lt;p&gt;Parameters of the models are fixed, and becomes parameter uncertainty, Updating rule is &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = p_t f_1(x_t) + (1-p_t) f_2(x_t)&quot; alt=&quot;x_{t+1} = p_t f_1(x_t) + (1-p_t) f_2(x_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p_{t+1} = \frac{p_t f_1(x_t)}{ p_t f_1(x_t) + (1-p_t) f_2(x_t) }&quot; alt=&quot;p_{t+1} = \frac{p_t f_1(x_t)}{ p_t f_1(x_t) + (1-p_t) f_2(x_t) }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;state-uncertainty&quot;&gt;State uncertainty&lt;/h3&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x,h) P(x,\mu, \sigma)&quot; alt=&quot;f(x,h) P(x,\mu, \sigma)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Belief MDP or POMDP.&lt;/p&gt;
&lt;h2 id=&quot;misc-notes&quot;&gt;Misc Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Why is an Allee threshold different than the zero boundary in the other models? Stochastic rescue.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Viable vs optimal control (Doyen) (Martinet &amp;amp; Doyen, 2007)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Martinet V and Doyen L (2007). “Sustainability of an Economy With an Exhaustible Resource: A Viable Control Approach.” &lt;em&gt;Resource And Energy Economics&lt;/em&gt;, &lt;strong&gt;29&lt;/strong&gt;. ISSN 09287655, &lt;a href=&quot;http://dx.doi.org/10.1016/j.reseneeco.2006.03.003&quot;&gt;http://dx.doi.org/10.1016/j.reseneeco.2006.03.003&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Parameter uncertainty in stochastic control problems</title>
   <link href="/2012/03/11/parameter-uncertainty-in-stochastic-control-problems-2.html"/>
   <updated>2012-03-11T16:52:23-07:00</updated>
   <id>h/2012/03/11/parameter-uncertainty-in-stochastic-control-problems-2</id>
   <content type="html">&lt;p&gt;Day 3 of my short-term visitor stay before the working group starts.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Wednesday&lt;/strong&gt;: Travel&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Thursday&lt;/strong&gt;: 8:45 Group Meeting: Paul, Michael, Lance, Dan, Jake, Carl.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Training problem II discussion – problem taxonomy: &lt;a href=&quot;www.carlboettiger.info/archives/3248&quot;&gt;stochastic&lt;/a&gt;, model uncertainty, parameter uncertainty, state uncertainty. Learning on uncertainty (passive/adaptive active management) in the uncertainty cases, all of which increase the parameter space. Evening with Paul’s students.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Friday&lt;/strong&gt; Writing up Training problem II with Jake, Michael. O’Meara meeting. Evening of old time fiddle and being locked out of NIMBioS.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Saturday&lt;/strong&gt; Catching up on reading. Writing down transition matrices to account for the learning is non-trivial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Sunday&lt;/strong&gt; Writing Training problem II with Jake. Brief meeting with Eric &amp;amp; Paul.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;literature&quot;&gt;Literature&lt;/h2&gt;
&lt;p&gt;Still catching up on literature from 70s and 80s on optimal control with an uncertain parameter (uncertain model, or possibly, uncertain state).&lt;/p&gt;
&lt;p&gt;﻿Nicest walk through of different approaches in this collection is probably Ludwig &amp;amp; Walters, 1982, introducing the non-adaptive (“average equilibrium”) strategy, passive adaptive management (“Myopic Bayes”) and active adaptive management (also with Bayesian updating) approach (computed through policy iteration rather than value iteration (SDP)).&lt;/p&gt;
&lt;p&gt;(Ludwig &amp;amp; Hilborn, 1983) discuss difficulties in estimating stock abundance, but in the context of not knowing the parameter values, as opposed to inherent errors in the stock size.&lt;/p&gt;
&lt;p&gt;(Walters &amp;amp; Hilborn, 1976) give a nice walk-through in an example with a 3D state space (stock size, mean + covariance matrix for distribution of parameters), where the updating rules come from the regression formulae:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a_n = a_{n-1} - \frac{\hat P_{n-1} x_n }{ \sigma^2 + x^T_n \hat P_{n-1} x_n} (a_{n-1}^T x_n - y_n )&quot; alt=&quot;a_n = a_{n-1} - \frac{\hat P_{n-1} x_n }{ \sigma^2 + x^T_n \hat P_{n-1} x_n} (a_{n-1}^T x_n - y_n )&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat P_n = \hat P_{n-1} - \frac{\hat P_{n-1} x_n x^T_n \hat P_{n-1} }{ \sigma^2 + \hat x^T_n P_{n-1} x_n}&quot; alt=&quot;\hat P_n = \hat P_{n-1} - \frac{\hat P_{n-1} x_n x^T_n \hat P_{n-1} }{ \sigma^2 + \hat x^T_n P_{n-1} x_n}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where $ ^2 $ is the regression error variance, and for the Ricker model,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y_n = \ln \left(\frac{R_t}{S_{t-1}}\right)&quot; alt=&quot;y_n = \ln \left(\frac{R_t}{S_{t-1}}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_n = \left[ 1 \choose -S_{t-1} \right]&quot; alt=&quot;x_n = \left[ 1 \choose -S_{t-1} \right]&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a_n = \left[ \alpha_t \choose \beta_t \right]&quot; alt=&quot;a_n = \left[ \alpha_t \choose \beta_t \right]&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Their annual review, (Walters &amp;amp; Hilborn, 1978), is a nice broad perspective without details for implementation. Surprised that ch 8 of Walters 86 textbook doesn’t get beyond the basics of Bellman’s value iteration. Mangel’s 1985 &lt;a href=&quot;http://www.amazon.com/Decision-uncertain-resource-Mathematics-Engineering/dp/0124687202/ref=ntt_at_ep_dpt_3&quot;&gt;edited volume&lt;/a&gt; seems to do a nice job (but the Google copy doesn’t quite cut it).&lt;/p&gt;
&lt;h2 id=&quot;two-armed-bandit-problem&quot;&gt;Two-armed bandit problem&lt;/h2&gt;
&lt;p&gt;Imagine machine 1 has payoff $ &lt;em&gt;1 $ with unknown probability $ p&lt;/em&gt;1 &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, machine 2 has payoff\inline&quot;/&gt;&lt;/span&gt; &lt;em&gt;2 $ with known probability $ p&lt;/em&gt;2 $.&lt;/p&gt;
&lt;p&gt;Pr( &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?k\inline&quot;/&gt;&lt;/span&gt; wins in &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m\inline&quot;/&gt;&lt;/span&gt; gambles $ | p_1 $ ) is &lt;code&gt;dbinom(k, m, p_1)&lt;/code&gt; and we need a good prior density &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(p_1)\inline&quot;/&gt;&lt;/span&gt; as &lt;code&gt;dbeta(x, alpha, beta)&lt;/code&gt; such that the posterior is also a beta density.&lt;/p&gt;
&lt;p&gt;The value-to-go in the SDP solution is a function of the distribution parameters of the prior,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?J_n(\alpha,\beta) = \max\left( \alpha_2 p_2 , \alpha_1 \frac{\alpha}{\alpha + \beta}\right)&quot; alt=&quot;J_n(\alpha,\beta) = \max\left( \alpha_2 p_2 , \alpha_1 \frac{\alpha}{\alpha + \beta}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;which just the integral over the posterior at that time, since no further information will be gained. We can compute the earlier steps from this.&lt;/p&gt;
&lt;h2 id=&quot;algorithmic-implementations&quot;&gt;Algorithmic implementations&lt;/h2&gt;
&lt;p&gt;Iadine’s &lt;a href=&quot;http://www.inra.fr/mia/T//MDPtoolbox/index_category.html&quot;&gt;Markov decision process toolbox for Matlab&lt;/a&gt; provides nice clean algorithmic specifications for Q-learning, value-iteration, policy-iteration, etc. Work will still be in specifying the transition matrices for these contrived state-spaces.&lt;/p&gt;
&lt;h2 id=&quot;confused&quot;&gt;Confused&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Is Myopic Bayes (passive adaptive management) differ from Q learning? (which “gives the expected utility of taking a given action in a given state and following a fixed policy thereafter.”) (i.e. do they agree for a given learning rate?) Both are value-iteration updates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Why use policy iteration for the active adaptive management solution and value iteration (stochastic dynamic programming/Bellman equation) for Myopic Bayes?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How are &lt;a href=&quot;http://en.wikipedia.org/wiki/Partially_observable_Markov_decision_process&quot;&gt;partially observable Markov decision processes&lt;/a&gt; different than just adding uncertainty to the observed state (a la Sethi et al, etc?) In particular, why not include observations as part of the state space?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;estimating-what-we-dont-know&quot;&gt;estimating what we don’t know&lt;/h4&gt;
&lt;p&gt;Random ideas that have come up in discussions. * How not to do this: estimate confidence intervals Harvey, 1997, (&lt;a href=&quot;http://en.wikipedia.org/wiki/Overconfidence_effect&quot;&gt;overconfidence effect&lt;/a&gt;) * Better: estimate largest reasonable value, smallest reasonable value. Order matters * Better yet? Bet on outcomes (prediction market?) Bueno de Mesquita (Bueno de Mesquita, 2010)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ludwig D and Hilborn R (1983). “Adaptive Probing Strategies For Age-Structured Fish Stocks.” &lt;em&gt;Canadian Journal of Fisheries And Aquatic Sciences&lt;/em&gt;, &lt;strong&gt;40&lt;/strong&gt;. ISSN 0706-652X, &lt;a href=&quot;http://dx.doi.org/10.1139/f83-075&quot;&gt;http://dx.doi.org/10.1139/f83-075&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Walters C and Hilborn R (1976). “Adaptive Control of Fishing Systems.” &lt;em&gt;Journal of The Fisheries Research Board of Canada&lt;/em&gt;, &lt;strong&gt;33&lt;/strong&gt;. ISSN 0015-296X, &lt;a href=&quot;http://dx.doi.org/10.1139/f76-017&quot;&gt;http://dx.doi.org/10.1139/f76-017&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Walters C and Hilborn R (1978). “Ecological Optimization And Adaptive Management.” &lt;em&gt;Annual Review of Ecology And Systematics&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. ISSN 0066-4162, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.es.09.110178.001105&quot;&gt;http://dx.doi.org/10.1146/annurev.es.09.110178.001105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bueno de Mesquita B (2010). “Judging Judgment.” &lt;em&gt;Critical Review&lt;/em&gt;, &lt;strong&gt;22&lt;/strong&gt;. ISSN 0891-3811, &lt;a href=&quot;http://dx.doi.org/10.1080/08913811.2010.541686&quot;&gt;http://dx.doi.org/10.1080/08913811.2010.541686&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Confidence in Judgment, Nigel Harvey, (1997) &lt;em&gt;Trends in Cognitive Sciences&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S1364-66139701014-0&quot;&gt;10.1016/S1364-6613(97)01014-0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal Harvesting With Imprecise Parameter Estimates, D. Ludwig, C.J. Walters, (1982) &lt;em&gt;Ecological Modelling&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0304-38008290023-0&quot;&gt;10.1016/0304-3800(82)90023-0&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Alex Pfaff seminar, meeting</title>
   <link href="/2012/03/09/alex-pfaff-seminar-meeting.html"/>
   <updated>2012-03-09T02:34:20-08:00</updated>
   <id>h/2012/03/09/alex-pfaff-seminar-meeting</id>
   <content type="html">&lt;p&gt;Notes from &lt;a href=&quot;http://www.duke.edu/~asp9/cv&amp;amp;bio.html&quot;&gt;Alex Pfaff&lt;/a&gt; talk at UTK (during my visit for pdg-control meeting).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;average impact vs differential impact – must compare against what would have happened to the area if unprotected (at current time/short-timescale, or in future?)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Proximity is not a good proxy of similarity (i.e. bc we protect steep slopes but farm the flat land nearby)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Instead use simple metrics available in GIS layers - distance from nearest road, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Multi-use conservation works better. Why?&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;More likely to establish protection in higher-threat areas (i.e. nearer a city)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Possibly better enforcement when local interest has a stake (i.e. indigenous farmers reporting illegal logging)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matching areas subsets data. Why ignore some of the data instead of just regressions on all effects? Complexity of regressions, inaccuracies of those assumptions, lack of overlap in areas…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(Joppa &amp;amp; Pfaff, 2010)&lt;/p&gt;
&lt;h3 id=&quot;breakfast-meeting&quot;&gt;Breakfast meeting&lt;/h3&gt;
&lt;p&gt;Discussion of ideas from &lt;a href=&quot;http://www.amazon.com/Expert-Political-Judgment-Good-Know/dp/0691123020&quot;&gt;Tetlock&lt;/a&gt; &lt;a href=&quot;http://www.amazon.com/The-Predictioneers-Game-ebook/dp/B002PXFYOC/ref=sr_1_3?ie=UTF8&amp;amp;qid=1331397537&amp;amp;sr=8-3&quot;&gt;Bruce Bueno de Mesquita&lt;/a&gt;, and &lt;a href=&quot;http://www.ted.com/talks/kevin_slavin_how_algorithms_shape_our_world.html&quot;&gt;Kevin Slavin&lt;/a&gt; math derived from the world to math shaping the world.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Joppa L and Pfaff A (2010). “Reassessing The Forest Impacts of Protection.” &lt;em&gt;Annals of The New York Academy of Sciences&lt;/em&gt;, &lt;strong&gt;1185&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1749-6632.2009.05162.x&quot;&gt;http://dx.doi.org/10.1111/j.1749-6632.2009.05162.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Stability analysis on fished and unfished dynamics.  </title>
   <link href="/2012/03/06/stability-analysis-on-fished-and-unfished-dynamics.html"/>
   <updated>2012-03-06T14:18:16-08:00</updated>
   <id>h/2012/03/06/stability-analysis-on-fished-and-unfished-dynamics</id>
   <content type="html">&lt;p&gt;In this example, we compute the distribution of the stability coefficients estimated from the fished and unfished simulations. Overall this shows little success in distinguishing between the stability of the fished and unfished populations – i.e. no hint that we are managing near an edge.&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/stability.md&quot;&gt;Originally run and posted in github notebook&lt;/a&gt;, but cross posting for reference here since I had trouble recalling if this was filed with the control project or the warning signals project directory. Hence the backdating too.)&lt;/p&gt;
&lt;h3 id=&quot;model-setup&quot;&gt;Model setup&lt;/h3&gt;
&lt;p&gt;Clear the workspace and load package dependencies. &lt;code&gt;pdgControl&lt;/code&gt; is my implementation of these optimization methods and should be &lt;a href=&quot;https://github.com/cboettig/pdg_control&quot;&gt;installed from this repository&lt;/a&gt;, see README.&lt;/p&gt;
&lt;p&gt;Define basic parameters of the economic optimal control problem. We have a discrete economic discounting rate, and will solve the dynamic problem over a time window of 50 years. In the discrete implementation we do not inforce the boundary condition, but rather put a value on meeting it. The optimal solution may choose to not statisfy this boundary condition if the benefit outways this lost reward.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
delta &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;      &lt;span class=&quot;co&quot;&gt;# economic discounting rate&lt;/span&gt;
OptTime &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;     &lt;span class=&quot;co&quot;&gt;# stopping time&lt;/span&gt;
reward &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;       &lt;span class=&quot;co&quot;&gt;# bonus for satisfying the boundary condition&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Use log-normal noise functions for growth noise, measurement error in the stock assessment, and implementation error, following the notation and definitions in &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;Sethi et al. (2005)&lt;/a&gt;. To begin, we will allow only noise in growth, as in Reed 1979.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
sigma_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.2&lt;/span&gt;    &lt;span class=&quot;co&quot;&gt;# Noise in population growth&lt;/span&gt;
sigma_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;.     &lt;span class=&quot;co&quot;&gt;# noise in stock assessment measurement&lt;/span&gt;
sigma_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;.     &lt;span class=&quot;co&quot;&gt;# noise in implementation of the quota&lt;/span&gt;
z_g &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_g) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_m) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;
z_i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() &lt;span class=&quot;kw&quot;&gt;rlnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,  &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, sigma_i) &lt;span class=&quot;co&quot;&gt;# mean 1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Chose the state equation / population dynamics function to have alternate stable states. This is a Beverton-Holt like model with an Allee effect, a model based off of &lt;a href=&quot;http://dx.doi.org/10.1126/science.269.5227.1106&quot;&gt;Myers et al. (1995)&lt;/a&gt;. Note here we’re just loading the function from the package. The equilibrium value K is calculated explicitly from the model given this choice of parameters, as is the allee threshold. We’ll use the allee threshold as the final value &lt;code&gt;xT&lt;/code&gt;. We’ll start the model at the unharvested stochastic equilbrium size.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
f &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;Myer_harvest
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;) 
p &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pars &lt;span class=&quot;co&quot;&gt;# shorthand &lt;/span&gt;
K &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;] /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;( (p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;]) ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;] ) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
xT &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;] /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;( (p[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;]) ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;] ) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# allee threshold&lt;/span&gt;
x0 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_g ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We define a profit function with no stock effect for simplicity. Profit is just linear in price, with some operating cost (which prevents strategies that put out more fishing effort than required when trying to catch all fish.)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
profit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;profit_harvest&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;price_fish =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
                         &lt;span class=&quot;dt&quot;&gt;cost_stock_effect =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,
                         &lt;span class=&quot;dt&quot;&gt;operating_cost =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We solve the system numerically on a discrete grid. We’ll consider all possible fish stocks between zero and twice the carrying capacity, and we’ll consider harvest levels at the same resolution.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
gridsize &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;   &lt;span class=&quot;co&quot;&gt;# gridsize (discretized population)&lt;/span&gt;
x_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;K, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; gridsize)  

h_grid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid  
&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;the-perfect-policy&quot;&gt;The perfect policy&lt;/h3&gt;
&lt;p&gt;Having defined the problem, we are now ready to calculate the optimal policy by Bellman’s stochastic dynamic programming solution. We compute the stochastic transition matrices giving the probability that the stock goes from any value on the grid &lt;code&gt;x&lt;/code&gt; at time &lt;code&gt;t&lt;/code&gt; to any other value &lt;code&gt;y&lt;/code&gt; at time &lt;code&gt;t+1&lt;/code&gt;, for each possible harvest value. Then we use this to compute the optimal harvest rate at each time interval in the system, solving backwards by dynamic programming. The functions to do this are implemented in this package.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
SDP_Mat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;determine_SDP_matrix&lt;/span&gt;(f, pars, x_grid, h_grid, sigma_g )
opt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;find_dp_optim&lt;/span&gt;(SDP_Mat, x_grid, h_grid, OptTime, xT, 
                     profit, delta, &lt;span class=&quot;dt&quot;&gt;reward=&lt;/span&gt;reward)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;the-implementation&quot;&gt;The implementation&lt;/h3&gt;
&lt;p&gt;Here we see how this policy performs over 100 replicates&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
sims &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, function(i){
  &lt;span class=&quot;kw&quot;&gt;ForwardSimulate&lt;/span&gt;(f, pars, x_grid, h_grid, x0, opt$D, z_g, z_m, z_i)
})&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;outcome&quot;&gt;Outcome&lt;/h4&gt;
&lt;p&gt;We summarize the results of the simulation in a tidy data table.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(sims, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(sims[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]))  

dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat)
&lt;span class=&quot;kw&quot;&gt;setnames&lt;/span&gt;(dt, &lt;span class=&quot;st&quot;&gt;&amp;quot;L1&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# names are nice&lt;/span&gt;





crashed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[time==&lt;span class=&quot;kw&quot;&gt;as.integer&lt;/span&gt;(OptTime&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;), fishstock &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;xT, by=reps]
&lt;span class=&quot;kw&quot;&gt;setkey&lt;/span&gt;(dt, reps)
&lt;span class=&quot;kw&quot;&gt;setkey&lt;/span&gt;(crashed, reps)
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[crashed]
&lt;span class=&quot;kw&quot;&gt;setnames&lt;/span&gt;(dt, &lt;span class=&quot;st&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;crashed&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
p1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dt) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;opt$S, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;intercept=&lt;/span&gt;xT, &lt;span class=&quot;dt&quot;&gt;slope =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) 
p1 +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;darkblue&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, unharvested, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; reps), &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;lightblue&amp;quot;&lt;/span&gt;)  
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7184/6814250662_15cb4bdb45_z.jpg&quot; alt=&quot;plot of chunk raw&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk raw&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;stability-calculations&quot;&gt;Stability calculations&lt;/h4&gt;
&lt;p&gt;Define a quick function to return just the parameters (or missing values if algorithm does not converge).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(earlywarning)
stability &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x){
  n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x)
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(n&lt;span class=&quot;dv&quot;&gt;-2&lt;/span&gt;)]
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stability_model&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;OU&amp;quot;&lt;/span&gt;)
  if(fit$convergence)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.list&lt;/span&gt;(fit$pars)
  else
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.list&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(fig$pars)))
  out
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function can then be applied to the variable in the data.table.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
fished =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[!crashed, &lt;span class=&quot;kw&quot;&gt;stability&lt;/span&gt;(fishstock), by=reps]
unfished =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[!crashed, &lt;span class=&quot;kw&quot;&gt;stability&lt;/span&gt;(unharvested), by=reps]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can then plot the resulting distribution of parameters. (Annoyingly we have to reformat the data to get it in tidy form again).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;



&lt;span class=&quot;co&quot;&gt;# tidy format, columns are variables: rep, variable, value, type&lt;/span&gt;





unfished_d &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cbind&lt;/span&gt;(unfished, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;unfished&amp;quot;&lt;/span&gt;)), &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type&amp;quot;&lt;/span&gt;))
fished_d &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;cbind&lt;/span&gt;(fished, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;fished&amp;quot;&lt;/span&gt;)), &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type&amp;quot;&lt;/span&gt;))
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rbind&lt;/span&gt;(fished_d,unfished_d)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_boxplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(variable, value, &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;type)) &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7041/6960365083_4b41dd1f0a_z.jpg&quot; alt=&quot;plot of chunk unnamed-chunk-2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-2&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;



&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(value, variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_ribbon&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ymax =&lt;/span&gt; ..density.., &lt;span class=&quot;dt&quot;&gt;ymin=&lt;/span&gt;-..density..),  &lt;span class=&quot;dt&quot;&gt;stat=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;density&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_grid&lt;/span&gt;(variable ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;type, &lt;span class=&quot;dt&quot;&gt;as.table=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;scales=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free_y&amp;quot;&lt;/span&gt;) &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7053/6814251736_13895ef259_z.jpg&quot; alt=&quot;plot of chunk unnamed-chunk-2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-2&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It’s not entirely evident that we have bimodal distributions from the boxplots. The beanplot (perversion of ggplot’s ribbon plot) makes this abundantly obvious.&lt;/p&gt;
&lt;p&gt;So what are those outliers doing?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
weirdos &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;fished$reps[fished$Ro&amp;gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;]
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dt, !(reps %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weirdos) )) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;group=&lt;/span&gt;reps), &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;7&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;dat=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dt, (reps %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weirdos)),
            &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, fishstock, &lt;span class=&quot;dt&quot;&gt;group=&lt;/span&gt;reps), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;purple&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7044/6814251888_80d660a566_z.jpg&quot; alt=&quot;plot of chunk unnamed-chunk-3&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk unnamed-chunk-3&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;If anything they are less variable, but not exceptionally so. Likely this is estimation error.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(dt[reps %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weirdos,&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(fishstock), &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;]$V1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code][1] 0.5116&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(dt[!(reps %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weirdos),&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(fishstock), &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;]$V1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code][1] 0.6191&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;p&gt;Note that the populations do not show different coefficients of variation:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
f1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[,&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(fishstock)/&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(fishstock), by=reps]$V1
f2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dt[,&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(unharvested)/&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(unharvested), by=reps]$V1
&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(f2)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code][1] 0.2306&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(f1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code][1] 0.2239&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2012/03/06/tuesday-14.html"/>
   <updated>2012-03-06T11:58:20-08:00</updated>
   <id>h/2012/03/06/tuesday-14</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Confirm travel plans for tomorrow&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/inst/examples/stability.md&quot;&gt;Stability analysis&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;speeding up policycosts (extra loop) will probably require some C coding. Meanwhile could hard-code in the profit function to accelerate things.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;model averaging (mimic the fisheries science work &amp;amp; climate models that present distribution of outcomes over different models as the range of possibilities, lacking probabilities assigned to those models…).&lt;/li&gt;
&lt;li&gt;work on model estimation&lt;/li&gt;
&lt;li&gt;externalization: Note that we can tangle a file to create a .R script that can be used for externalization, rather than having to copy-paste the chunks. Nice if we want to source in rather than knit a file too.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;treebase&quot;&gt;Treebase&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Treebase manuscript writing…&lt;/li&gt;
&lt;li&gt;having to knit from R terminal, trouble with makefiles and knit script?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;need to use &lt;code&gt;require(methods)&lt;/code&gt; and &lt;code&gt;require(utils)&lt;/code&gt; separately?&lt;/p&gt;
&lt;h3 id=&quot;computing&quot;&gt;Computing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Updated the pmc vignette successfully.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Kcachegrind comments to Hadley.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Are static pages the future?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.yodi.me/blog/2011/10/24/github-custom-domain-with-octopress-in-ubuntu-oneiric-11-dot-10/&quot;&gt;Install/switch to Octopress?&lt;/a&gt; Pretty far from WP one-click installation… Software with large number of dependencies that are not packaged through the apt-get manager. Package conflicts that require manually reverting to older packages. Guide breaks over different Ubuntu versions. What aspect of this is simple and stable?&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Ah, &lt;a href=&quot;http://news.ycombinator.com/item?id=3521426&quot;&gt;Jekyll bootstrap&lt;/a&gt;. Brilliant.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://groups.google.com/forum/?fromgroups#!topic/ggplot2-dev/tEF6Xou7yOA&quot;&gt;violin ggplots&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2012/03/05/monday-17.html"/>
   <updated>2012-03-05T08:17:34-08:00</updated>
   <id>h/2012/03/05/monday-17</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Trivial &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ed6063bdc65916b816f85078b27f7e2543b89e20/inst/examples/ppii.md&quot;&gt;example of a non-optimal but more robust policy&lt;/a&gt; by editing the optimal strategy directly. Note in particular that this outperforms the optimal strategy economically as well as ecologically (fewer crashed populations).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running the &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ed6063bdc65916b816f85078b27f7e2543b89e20/inst/examples/policycost.md&quot;&gt;policy-costs model with Beverton Holt&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/21ba4d913e1bf12fb641d3b54b2042fa9a32d498/inst/examples/policycost.md&quot;&gt;instead of the Myers function&lt;/a&gt; seems to give a clearer picture of a system responding to policy costs. The single-replicate picture probably captures this better than the policy/replicate visualizations..&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Setup flickr options (tags, description, title, etc) &lt;a href=&quot;https://raw.github.com/cboettig/pdg_control/ed6063bdc65916b816f85078b27f7e2543b89e20/inst/examples/policycost_knit_.md&quot;&gt;example&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated pmc to &lt;a href=&quot;https://github.com/cboettig/pmc/commit/f86ca7bfc74af7690c18e1f25184051295edfdf9&quot;&gt;handle errors&lt;/a&gt; (mostly from svd failures in geiger). Also updated vignette.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Failing to declare the XML namespace was causing my simple xml parsing example to fail.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
thing =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlParse&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getURL&lt;/span&gt;(&amp;amp;quot;https:&lt;span class=&quot;er&quot;&gt;//&lt;/span&gt;github.com/cboettig/pmc/commits/master.atom&amp;amp;quot;))
nds =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(thing, &lt;span class=&quot;st&quot;&gt;&amp;#39;//x:entry&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;namespaces =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;http://www.w3.org/2005/Atom&amp;#39;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(nds)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;success. thanks Gabe.&lt;/p&gt;
&lt;h2 id=&quot;log&quot;&gt;Log&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/ed6063bdc65916b816f85078b27f7e2543b89e20&quot;&gt;updated policycost with more plots&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/ed6063bdc65916b816f85078b27f7e2543b89e20&quot;&gt;ed6063bdc6&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/ed6063bdc65916b816f85078b27f7e2543b89e20&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored an hour ago&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/c5c76325ae6f080c8ffd78b75586f8bd4fb9c18b&quot;&gt;policy cost using BevHolt model&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/c5c76325ae6f080c8ffd78b75586f8bd4fb9c18b&quot;&gt;c5c76325ae&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/c5c76325ae6f080c8ffd78b75586f8bd4fb9c18b&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 3 hours ago&lt;/p&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/26394e8bfbc48b1ece85aac34dd54b7d6b3de7ab&quot;&gt;better notes and profit plots&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/26394e8bfbc48b1ece85aac34dd54b7d6b3de7ab&quot;&gt;26394e8bfb&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/26394e8bfbc48b1ece85aac34dd54b7d6b3de7ab&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 6 hours ago&lt;/p&gt;
&lt;ol start=&quot;4&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/f8daee5a6ef4ef2d8e10c9ae1fa5ffdb77c4dbad&quot;&gt;adding some additional plots to ppii&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/f8daee5a6ef4ef2d8e10c9ae1fa5ffdb77c4dbad&quot;&gt;f8daee5a6e&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/f8daee5a6ef4ef2d8e10c9ae1fa5ffdb77c4dbad&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 6 hours ago&lt;/p&gt;
&lt;ol start=&quot;5&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/d2636ccaead8fc7d7c2a8a3b92c792552d1b3dbf&quot;&gt;whoops, old parameter values were being used in simulation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/d2636ccaead8fc7d7c2a8a3b92c792552d1b3dbf&quot;&gt;d2636ccaea&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/d2636ccaead8fc7d7c2a8a3b92c792552d1b3dbf&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 7 hours ago&lt;/p&gt;
&lt;ol start=&quot;6&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/21ba4d913e1bf12fb641d3b54b2042fa9a32d498&quot;&gt;policycost with P=.5 (intermediate size penalty)&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/21ba4d913e1bf12fb641d3b54b2042fa9a32d498&quot;&gt;21ba4d913e&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/21ba4d913e1bf12fb641d3b54b2042fa9a32d498&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 7 hours ago&lt;/p&gt;
&lt;ol start=&quot;7&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/0f36a08be95dfeadb1900f0b1156d589221ebf08&quot;&gt;rule of thumb - 10% buffer&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/0f36a08be95dfeadb1900f0b1156d589221ebf08&quot;&gt;0f36a08be9&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/0f36a08be95dfeadb1900f0b1156d589221ebf08&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 7 hours ago&lt;/p&gt;
&lt;ol start=&quot;8&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/65b116eb201e79a541c259ef90b3bebb3fd149e4&quot;&gt;rule of thumb - harvest LESS not MORE than optimal&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/65b116eb201e79a541c259ef90b3bebb3fd149e4&quot;&gt;65b116eb20&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/65b116eb201e79a541c259ef90b3bebb3fd149e4&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 7 hours ago&lt;/p&gt;
&lt;ol start=&quot;9&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/408d6a92d19b7ac86bf9327d508cd2dc41812bef&quot;&gt;edit optimal policy by hand&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commit/408d6a92d19b7ac86bf9327d508cd2dc41812bef&quot;&gt;408d6a92d1&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/pdg_control/tree/408d6a92d19b7ac86bf9327d508cd2dc41812bef&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 7 hours ago&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday, Friday, Saturday</title>
   <link href="/2012/03/03/thursday-friday-saturday.html"/>
   <updated>2012-03-03T14:21:36-08:00</updated>
   <id>h/2012/03/03/thursday-friday-saturday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;forage fish seminar - Patrick and Jay with interesting stuff. Sounds like compensating benefits due to quality-response (larger fish) and stock effect (easier to find) will be more minor in this fishery, but demand response be compensating.&lt;/li&gt;
&lt;li&gt;knit hooks&lt;/li&gt;
&lt;li&gt;externalization example working (based on Reed.R). Still unsure how I feel about externalization vs fully literate code. Redundant typing is bad but isn’t that why common tasks are functionalized?&lt;/li&gt;
&lt;li&gt;pmc-0.5 posted to CRAN (use &lt;code&gt;check --as-cran&lt;/code&gt; in tests)&lt;/li&gt;
&lt;li&gt;R updated 2.14.2, packages updated.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;markdown notes of Reed vs extra noise&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rules-of-thumb-that-are-not-robust&quot;&gt;Rules-of-thumb that are not robust&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/9ade7cffe7f50b58622062040344c9c1bde3f70f/inst/examples/precautionary.md&quot;&gt;Precautionary.md&lt;/a&gt; considers deriving an optimal policy by assuming that a threshold (in the RickerAllee model) is higher than it really is, which should lead to a conservative policy. This does lead to fewer crashes than the optimal model derived with the correct uncertainty, but, surprisingly, when faced with a higher noise than anticipated, this does not out-perform the optimal model.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/wp-content/uploads/2012/03/wpid-unnamed-chunk-43.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;This &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/9ade7cffe7f50b58622062040344c9c1bde3f70f/inst/examples/perfect_policy_imperfect_implement.md&quot;&gt;pattern persists&lt;/a&gt; in the case where the additional noise comes from the implementation step, rather than as additional growth noise (a conservative estimate of the threshold point doesn’t help).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/wp-content/uploads/2012/03/wpid-unnamed-chunk-114.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/9ade7cffe7f50b58622062040344c9c1bde3f70f/inst/examples/ppii_movenoise.md&quot;&gt;Overestimating the growth noise&lt;/a&gt; cannot compensate for underestimating the implementation noise(?)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/wp-content/uploads/2012/03/wpid-unnamed-chunk-113.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;A basic example of the &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1d993d4eedbd90e51f853a3419ca86e757442848/inst/examples/wrong_noise.md&quot;&gt;impact of underestimating the growth noise&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/wp-content/uploads/2012/03/wpid-winners_losers.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/commits/master&quot;&gt;Progress as told by the commit logs&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals in Fish Collapse</title>
   <link href="/2012/02/28/warning-signals-in-fish-collapse.html"/>
   <updated>2012-02-28T07:01:42-08:00</updated>
   <id>h/2012/02/28/warning-signals-in-fish-collapse</id>
   <content type="html">&lt;p&gt;Description: an example trying to detect early warning signals in data from fisheries collapses&lt;/p&gt;
&lt;p&gt;Set up markdown format and image uploads.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;render_wordpress&lt;/span&gt;()
opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;imgur.key =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;getOption&lt;/span&gt;(&amp;amp;amp;quot;imgur&amp;amp;amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Load required libraries&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(warningsignals)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;load-the-data&quot;&gt;Load the data&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
scotia &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.csv&lt;/span&gt;(&amp;amp;amp;quot;../../data/rawdata/sau_scotia.csv&amp;amp;amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;visualize-data&quot;&gt;Visualize data&lt;/h2&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
dat_scotia &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(scotia, 
    &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &amp;amp;amp;quot;Year&amp;amp;amp;quot;)
p_scotia &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat_scotia, 
    &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Year, value, &lt;span class=&quot;dt&quot;&gt;fill =&lt;/span&gt; variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_area&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(p_scotia)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7053/6793294944_74aa429a37_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;compute-some-indicators&quot;&gt;Compute some indicators&lt;/h2&gt;
&lt;p&gt;Define some indicators&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
window_var &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; (&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X)/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)) {
    out &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;        &lt;/span&gt;windowsize), function(i) {
        &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(X[(i +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;):(i +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;            &lt;/span&gt;windowsize)])
    })
    &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(out)), out)
}

window_autocorr &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(X, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; (&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X)/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)) {
    out &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;        &lt;/span&gt;windowsize), function(i) &lt;span class=&quot;kw&quot;&gt;acf&lt;/span&gt;(X[(i +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;):(i +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;windowsize)], 
        &lt;span class=&quot;dt&quot;&gt;lag.max =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;plot =&lt;/span&gt; F)$acf[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
    &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(out)), out)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Reformat the data, uses data.table to perform computations over species&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(data.table)
fish &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat_scotia, 
    Year &amp;amp;amp;lt; &lt;span class=&quot;dv&quot;&gt;1992&lt;/span&gt;))
tmp &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;species =&lt;/span&gt; fish$variable, 
    &lt;span class=&quot;dt&quot;&gt;Year =&lt;/span&gt; fish$Year, &lt;span class=&quot;dt&quot;&gt;Stock =&lt;/span&gt; fish$value, 
    &lt;span class=&quot;dt&quot;&gt;variance =&lt;/span&gt; fish[, &lt;span class=&quot;kw&quot;&gt;window_var&lt;/span&gt;(value), 
        &lt;span class=&quot;dt&quot;&gt;by =&lt;/span&gt; &amp;amp;amp;quot;variable&amp;amp;amp;quot;]$V1, 
    &lt;span class=&quot;dt&quot;&gt;acor =&lt;/span&gt; fish[, &lt;span class=&quot;kw&quot;&gt;window_autocorr&lt;/span&gt;(value), 
        &lt;span class=&quot;dt&quot;&gt;by =&lt;/span&gt; &amp;amp;amp;quot;variable&amp;amp;amp;quot;]$V1)

dat &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(tmp, 
    &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&amp;amp;amp;quot;Year&amp;amp;amp;quot;, &amp;amp;amp;quot;species&amp;amp;amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Cod are approaching a crash, but lobster are going strong, but both seem to show the same pattern.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, 
    species %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&amp;amp;amp;quot;Atlantic.cod&amp;amp;amp;quot;))) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Year, 
        value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_grid&lt;/span&gt;(variable ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;species, &lt;span class=&quot;dt&quot;&gt;scales =&lt;/span&gt; &amp;amp;amp;quot;free_y&amp;amp;amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7184/6793295294_1396a8d33d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, 
    species %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&amp;amp;amp;quot;American.lobster&amp;amp;amp;quot;))) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_point&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Year, 
        value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_grid&lt;/span&gt;(variable ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;species, &lt;span class=&quot;dt&quot;&gt;scales =&lt;/span&gt; &amp;amp;amp;quot;free_y&amp;amp;amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7178/6793296188_f94e773654_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note the indicator patterns vary widly and rather arbitrarily among species&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
dt &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(dat_scotia)
indicator &amp;amp;amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(dt[, 
    &lt;span class=&quot;kw&quot;&gt;window_var&lt;/span&gt;(value), 
    &lt;span class=&quot;dt&quot;&gt;by =&lt;/span&gt; &amp;amp;amp;quot;variable&amp;amp;amp;quot;], &lt;span class=&quot;dt&quot;&gt;Year =&lt;/span&gt; dat_scotia$Year)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(indicator) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(Year, 
        V1)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~variable, 
    &lt;span class=&quot;dt&quot;&gt;scales =&lt;/span&gt; &amp;amp;amp;quot;free_y&amp;amp;amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7050/6793296484_669a826cc7_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Knitr with flickr and wordpress</title>
   <link href="/2012/02/28/knitr-with-flickr-and-wordpress.html"/>
   <updated>2012-02-28T06:59:21-08:00</updated>
   <id>h/2012/02/28/knitr-with-flickr-and-wordpress</id>
   <content type="html">&lt;p&gt;It’s amazing how nice it is to work with well-developed software. It took me about 20 minutes to extend Yuhui’s interface to allow me to upload images through flickr instead of imgur, and embed them into a wordpress blog using the shortcode from the flickr gallery plugin.&lt;/p&gt;
&lt;p&gt;To do this, I just modified the hook used by the markdown format. First, I define a quick R function that uploads to flickr and returns the flickr identifier number. For the moment this is just calling&lt;a href=&quot;http://search.cpan.org/~cpb/Flickr-Upload-1.32/flickr_upload&quot;&gt;a command-line flickr uploader&lt;/a&gt;, though it should be straight-forward to replace this with something like &lt;a href=&quot;http://www.omegahat.org/Rflickr/&quot;&gt;Rflickr&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
flickr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(file, 
    &lt;span class=&quot;dt&quot;&gt;tags =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;description =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;public =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;) {
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;flickr_upload --tag=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        tags, &lt;span class=&quot;st&quot;&gt;&amp;quot; &lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; --description=&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        description, &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\&amp;quot;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;st&quot;&gt;&amp;quot; --public &amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;as.integer&lt;/span&gt;(public), 
        file), &lt;span class=&quot;dt&quot;&gt;intern =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;.*ids=(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d+)&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;quot;&lt;/span&gt;, out[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;])
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once we have such an uploading function, it’s super simple to wrap into knitr. I let my function be triggered by the same “upload” option that Yuhui introduced for imgur, but instead call the flickr function above,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
.flickr.url =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) {
    file =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;collapse =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;)
    if (opts_knit$&lt;span class=&quot;kw&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;upload&amp;quot;&lt;/span&gt;)) {
        &lt;span class=&quot;kw&quot;&gt;flickr&lt;/span&gt;(file)
    } else file
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lastly I define the function hook to run the upload and return the shortcode:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
hook_plot_flickr =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
    options) {
    &lt;span class=&quot;kw&quot;&gt;sprintf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[flickr]%s[/flickr]&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;kw&quot;&gt;.flickr.url&lt;/span&gt;(x))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I can then define a wordpress rendering environment by mapping the hooks to my choices.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
render_wordpress &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() {
    &lt;span class=&quot;kw&quot;&gt;render_gfm&lt;/span&gt;()
    &lt;span class=&quot;kw&quot;&gt;options&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;width =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;)
    opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
    output =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[ code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[ /code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    warning =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[ code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[ /code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    message =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[ code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[ /code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    inline =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;lt;pre&amp;gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;lt;/pre&amp;gt;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    error =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[ code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[ /code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    source =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, 
        options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[ code lang=&amp;#39;r&amp;#39;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[ /code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
    knit_hooks$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;output =&lt;/span&gt; output, 
        &lt;span class=&quot;dt&quot;&gt;warning =&lt;/span&gt; warning, 
        &lt;span class=&quot;dt&quot;&gt;message =&lt;/span&gt; message, 
        &lt;span class=&quot;dt&quot;&gt;inline =&lt;/span&gt; inline, 
        &lt;span class=&quot;dt&quot;&gt;error =&lt;/span&gt; error, 
        &lt;span class=&quot;dt&quot;&gt;source =&lt;/span&gt; source, 
        &lt;span class=&quot;dt&quot;&gt;plot =&lt;/span&gt; hook_plot_flickr)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that the rendering sets a custom 30 character width that fits my theme better. Now simply adding the call to render_wordpress in the header of my documents will render this in wordpress format. If you’re reading this on wordpress, it was already in the header. Any figures will embed as flickr shortcode:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;qplot&lt;/span&gt;(hp, mpg, 
    &lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; mtcars) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_smooth&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7184/6793394960_94c5a5b017_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;It would be nicer to have built this around flickR, and provide the urls so that the image can be used without the wordpress flickr shortcode. But for now, the real point is that it’s intuitive to extend knitr to this very customized format, specific to my platform, my plugins, and my shortcodes, with minimal effort. All thanks to Yuhui’s very nice implementation of knitr.&lt;/p&gt;
&lt;h3 id=&quot;addendum&quot;&gt;Addendum&lt;/h3&gt;
&lt;p&gt;If we’d rather upload the images to wordpress itself (seems sensible), this is also straight forward thanks to Duncan’s RWordPress package on &lt;a href=&quot;http://www.omegahat.org/&quot;&gt;Omegahat&lt;/a&gt;. Writing the hooks would look like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
.wordpress.url =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) {
  &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RWordPress)
  file =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;collapse =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;)
  if (opts_knit$&lt;span class=&quot;kw&quot;&gt;get&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;upload&amp;#39;&lt;/span&gt;)) {
            &lt;span class=&quot;kw&quot;&gt;fileUpload&lt;/span&gt;(file)$url
      } else file
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that RWordPress will look for the login credentials defined in “options”, i.e. put something like this in your .Rprofile.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;options&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;WordPressLogin =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;userid =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;password&amp;quot;&lt;/span&gt;),
    &lt;span class=&quot;dt&quot;&gt;WordPressURL =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.yourdomain.com/xmlrpc.php&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We then just define a hook based on the hook_plot_html that uses the Wordpress URL.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
.hook_plot_wordpress =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, options) {
a =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;options$fig.align
  &lt;span class=&quot;kw&quot;&gt;sprintf&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;lt;img src=&amp;quot;%s&amp;quot; class=&amp;quot;plot&amp;quot; %s/&amp;gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;.wordpress.url&lt;/span&gt;(x),
          switch(a,
                 &lt;span class=&quot;dt&quot;&gt;default =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;,
                 &lt;span class=&quot;dt&quot;&gt;left =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;style=&amp;quot;float: left&amp;quot;&amp;#39;&lt;/span&gt;,
                 &lt;span class=&quot;dt&quot;&gt;right =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;style=&amp;quot;float: right&amp;quot;&amp;#39;&lt;/span&gt;,
                 &lt;span class=&quot;dt&quot;&gt;center =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;style=&amp;quot;margin: auto; display: block&amp;quot;&amp;#39;&lt;/span&gt;))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Put this hook in the render function instead/or as an option, and we’re good to go.&lt;/p&gt;
&lt;h3 id=&quot;addendum-ii&quot;&gt;Addendum II&lt;/h3&gt;
&lt;p&gt;knitr now supports additional uploading protocols out of the box. For instance, uploading to wordpress just requires a call to knitr options specifying the upload function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload.fun =&lt;/span&gt; function(file){
   &lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(RWordPress) 
   &lt;span class=&quot;kw&quot;&gt;uploadFile&lt;/span&gt;(file)$url
  })&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could likewise specify the flickr function there, etc. Note that I don’t need to worry about the “paste” or “else” conditions either, that’s all handled automatically now. Just specify an upload function and we’re good to go.&lt;/p&gt;
&lt;p&gt;Minor you (I) might think the one-line namespace call could be used instead of loading the library:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
RWordPress::&lt;span class=&quot;kw&quot;&gt;uploadFile&lt;/span&gt;(file)$url&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but it appears you’d be wrong.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Using knitr and RWordPress to publish results directly from R</title>
   <link href="/2012/02/27/using-knitr-and-rwordpress-to-publish-results-directly-from-r-6.html"/>
   <updated>2012-02-27T10:31:51-08:00</updated>
   <id>h/2012/02/27/using-knitr-and-rwordpress-to-publish-results-directly-from-r-6</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;Update&lt;/strong&gt;: The original &lt;a href=&quot;https://raw.github.com/cboettig/sandbox/b71f7f359164b1ff3b9609d5ded2324fafdc14b6/wordpress_knit_.md&quot;&gt;source file&lt;/a&gt; for this post, generates &lt;a href=&quot;https://raw.github.com/cboettig/sandbox/b71f7f359164b1ff3b9609d5ded2324fafdc14b6/wordpress.md&quot;&gt;this output file&lt;/a&gt; formatted for wordpress. The source file has been knitted for markdown formatting so this post displays in Jekyll.&lt;/p&gt;
&lt;p&gt;One of the great things about knitr is its flexibility. Here I set knitr up to publish to Wordpress. I will then use RWordPress to publish the output automatically.&lt;/p&gt;
&lt;p&gt;I will base the wordpress format on the github-flavored markdown format. I change the markup for output and source-code to use the nice codeblocks provided by the syntax highlighter plugin. I also specify that images should use the html markup instead of github markup, and I will take advantage of knitr support for imgur to upload and host the image files automatically.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;render_gfm&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;options&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;width =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;)
opts_knit$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;upload =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
knit_hooks$&lt;span class=&quot;kw&quot;&gt;set&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;output =&lt;/span&gt; function(x, options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, x, 
    &lt;span class=&quot;st&quot;&gt;&amp;quot;[/code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;source =&lt;/span&gt; function(x, options) &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;[code lang=&amp;#39;r&amp;#39;]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, 
    x, &lt;span class=&quot;st&quot;&gt;&amp;quot;[/code]&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;plot =&lt;/span&gt; hook_plot_html)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we write some code chunks in this markdown file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;## a simple calculator
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt; +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 2&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;## boring random numbers
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;123&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] -0.56048 -0.23018  1.55871  0.07051  0.12929&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can also produce plots which are uploaded to imgur.com:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;qplot&lt;/span&gt;(hp, mpg, &lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; mtcars) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_smooth&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;ex-out-md-cars1.png&quot; alt=&quot;plot of chunk md-cars&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk md-cars&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;ggpcp&lt;/span&gt;(mtcars) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;ex-out-md-cars2.png&quot; alt=&quot;plot of chunk md-cars&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk md-cars&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;We can then post the result using RWordPress:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RWordPress)
text =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;readLines&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wordpress.md&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;collapse =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;)
title =&lt;span class=&quot;st&quot;&gt; &amp;quot;Using knitr and RWordPress to publish results directly from R&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;newPost&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;description =&lt;/span&gt; text, &lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; title), &lt;span class=&quot;dt&quot;&gt;publish =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Above we specify &lt;code&gt;publish = FALSE&lt;/code&gt; which will make the post upload as a draft where we can preview it. To publish directly we could omit that command. Giving a title is intuitive. Note that we have to read the text in and substitue newline characters for line-breaks.&lt;/p&gt;
&lt;p&gt;Note that this requires setting the login options securely in .Rprofile, for example:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;options&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;WordpressLogin =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;userid =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;password&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;WordpressURL =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.yourdomain.com/xmlrpc.php&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It would be nice to use the uploadFile function from RWordPress to host the images, but that seems to be giving me trouble at the moment.&lt;/p&gt;
&lt;h3 id=&quot;addendum&quot;&gt;Addendum&lt;/h3&gt;
&lt;p&gt;I’ve now figured out image uploading from RWordPress and also Rflickr. Currently some &lt;a href=&quot;http://www.carlboettiger.info/archives/3988&quot;&gt;notes here&lt;/a&gt; (see Addendum II), though I will try to do a proper writeup on these methods soon.&lt;/p&gt;
&lt;h3 id=&quot;addendum-ii&quot;&gt;Addendum II&lt;/h3&gt;
&lt;p&gt;RWordPress (and Rflickr) can be installed from the &lt;a href=&quot;http://www.omegahat.org/&quot;&gt;omegahat&lt;/a&gt; repository:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;RWordPress&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;repos=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;http://www.omegahat.org/R&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2012/02/27/monday-14.html"/>
   <updated>2012-02-27T07:20:04-08:00</updated>
   <id>h/2012/02/27/monday-14</id>
   <content type="html">&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Added resulting indicator distributions on &lt;a href=&quot;http://www.carlboettiger.info/archives/3905&quot;&gt;finer sampling results&lt;/a&gt;.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Re-running now excluding the final dive (population below 300).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7190/6792582932_d97e70d57f_o.png&quot; /&gt; &lt;img src=&quot;http://farm8.staticflickr.com/7054/6792575114_6393d6bf07_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;treebase&quot;&gt;Treebase&lt;/h2&gt;
&lt;p&gt;working on manuscript. A few examples using the improved meta-data queries:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7058/6791026230_1ab711cc7e_o.png&quot; alt=&quot;Treebase growth by year and journal&quot; /&gt; &lt;img src=&quot;http://farm8.staticflickr.com/7037/6937141295_ef0e6986fe_o.png&quot; alt=&quot;Exponential growth in the size of trees on treebase&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;computing-configuration&quot;&gt;Computing configuration&lt;/h3&gt;
&lt;h4 id=&quot;vim-and-r&quot;&gt;vim and R&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.lepem.ufc.br/jaa/vim-r-plugin.html&quot;&gt;install vim-r-plugin&lt;/a&gt;. Download, then run &lt;code&gt;vim-addons install r-plugin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=2711&quot;&gt;install screen plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;add to .vimrc:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;set nocompatible
syntax enable
filetype plugin on
filetype indent on
let vimrplugin_underscore = 0&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.lepem.ufc.br/jaa/r-plugin.html#r-plugin-use&quot;&gt;learn some key bindings&lt;/a&gt; Really to launch, and &lt;/li&gt;
&lt;li&gt;Also see &lt;a href=&quot;http://www.r-bloggers.com/r-with-vim/&quot;&gt;this post&lt;/a&gt; for configuration with vim-latex-suite.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;logistics&quot;&gt;Logistics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lyra.berkeley.edu/CDIConf/registration.html&quot;&gt;From Data to Knowledge Conference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Visuals for Communicating Uncertainty </title>
   <link href="/2012/02/24/visuals-for-communicating-uncertainty.html"/>
   <updated>2012-02-24T12:20:16-08:00</updated>
   <id>h/2012/02/24/visuals-for-communicating-uncertainty</id>
   <content type="html">&lt;p&gt;Visiting the question of communicating uncertainty in Marissa’s lab meeting, focusing on this excellent Science article (Spiegelhalter &lt;em&gt;et. al.&lt;/em&gt; 2011). Noam and Jamie are leading the discussion, and suggested we pick a few favorite examples. None on my list really address the challenge of communicating uncertainty directly, though the first one probably comes closest. I think they do highlight some of the potential and the challenges of good data visualization though, which is certainly one of the essential building blocks to visual communication of uncertainty.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nytimes.com/interactive/2010/02/02/us/politics/20100201-budget-porcupine-graphic.html&quot;&gt;Porcupine plot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://datajournalism.stanford.edu&quot;&gt;Data journalism video from Stanford&lt;/a&gt;, the best introduction I’ve seen, which hits upon some of the best-known examples.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://flowingdata.com/2011/12/01/shan-carter-on-data-storytelling&quot;&gt;Success and failure of data storytelling&lt;/a&gt; Shan Carter, NY Times visualizations expert, gives a thought-provoking talk that leaves me wondering if we are asking too much of the visualization.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.omegahat.org/SVGAnnotation/tests/examples.html&quot;&gt;Animated graphics in R by SVG&lt;/a&gt;, because easy and platform-independent interactive graphics are essential.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://had.co.nz/ggplot2/&quot;&gt;ggplot2&lt;/a&gt;, because it’s not a revolution until it’s democratized.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Tufte’s &lt;a href=&quot;http://www.amazon.com/Visual-Display-Quantitative-Information/dp/0961392142&quot;&gt;first book&lt;/a&gt;, which sits above my desk.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;the-missing-second-block&quot;&gt;the missing second block&lt;/h2&gt;
&lt;p&gt;(Spiegelhalter &lt;em&gt;et. al.&lt;/em&gt; 2011) does a less excellent job addressing the some of the more basic problems in communicating uncertainty (though the conditional probability example comes close). Uncertainty can be immensely counter-intuitive, as Mlodinow illustrates in one of my favorite &lt;a href=&quot;http://www.amazon.com/Drunkards-Walk-Randomness-Rules-Lives/dp/0375424040&quot;&gt;popular non-fiction books&lt;/a&gt;. He doesn’t tackle visuals as a way of improving our intuition on the topic. I feel a proper treatment of the topic would start with some of the easily demonstrated fallacies around uncertainty Mlodinow discusses, and illustrate if and when visualizations can improve our accuracy.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Spiegelhalter D, Pearson M and Short I (2011). “Visualizing Uncertainty About The Future.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;333&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1191181&quot;&gt;http://dx.doi.org/10.1126/science.1191181&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>ESA 2012 Abstract</title>
   <link href="/2012/02/23/esa-2012-abstract.html"/>
   <updated>2012-02-23T13:44:16-08:00</updated>
   <id>h/2012/02/23/esa-2012-abstract</id>
   <content type="html">&lt;p&gt;Submitted my abstract for ESA 2012, in Portland.  Getting a title and abstract pinned down about seven months in advance is itself an exercise in decision making under uncertainty. I’ve added some further background below.&lt;/p&gt;
&lt;h5 id=&quot;unknown-unknowns-management-strategies-under-uncertainty-alternate-stable-states&quot;&gt;Unknown unknowns: management strategies under uncertainty &amp;amp; alternate stable states&lt;/h5&gt;
&lt;h6 id=&quot;backgroundquestionmethods&quot;&gt;Background/Question/Methods&lt;/h6&gt;
&lt;p&gt;The effective management of natural resource populations such as fisheries or forests and the ecosystems in which they are embedded is a central goal of much work in both theoretical and applied ecological research. Management decisions must be made in an uncertain world, coping with errors in data, uncertainty in model parameters and even the choice of models being used. Advances in areas such risk management, optimization under uncertainty, and adaptive management methods have offered a way forward in spite of such uncertainty. We have only to admit what we don’t know, and make the best decision based on the information at hand.&lt;/p&gt;
&lt;p&gt;The realization that such complex systems can contain tipping points – thresholds at which the system can transition into a less desirable state rapidly and with little warning – poses a fundamental challenge to these approaches.  Such approaches require that we know what we don’t know: we don’t use the best guess of a parameter, instead, we have a distribution of possible values it may take.  As recent events of the economy have illustrated, estimating the distribution isn’t easy; and for complex systems with alternate stable states, a little bit more uncertainty can make a big difference.  How then, do we make the best decision based on the information available without exposing the system to these sudden crashes?  How do we handle that uncertainty we just cannot parameterize – the unknown unknowns?&lt;/p&gt;
&lt;p&gt;We combine methods from optimal control and stochastic dynamic programming with methods from ecological resilience and early warning signals to study both simulated and empirical examples of these systems.&lt;/p&gt;
&lt;h6 id=&quot;resultsconclusions&quot;&gt;Results/Conclusions&lt;/h6&gt;
&lt;p&gt;We begin with two examples that illustrate these challenges.  The first highlights the danger of handling only the risks we know how to handle.  The second illustrates the difficulty of implementing resilience-based concepts in the place of risk-based management.  We then present our mathematical framework for bridging these approaches on these systems &amp;amp; discuss the successes and obstacles to this united approach.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;The literature has done a better job enunciating this question than tackling it. ((Knight’s 1921 text on &lt;a href=&quot;http://www.econlib.org/library/Knight/knRUP.html&quot;&gt;Risk, Uncertainty &amp;amp; Profit&lt;/a&gt; would be a more erudite citation than Rumsfeld’s memorable phrase.)) The TREE review, (Polasky &lt;em&gt;et. al.&lt;/em&gt; 2011), provides a nice introduction to the problem, identifying decision-theoretic and thresholds/resilience approaches, though gets little farther than the opinion piece suggesting the need for this work (Fischer &lt;em&gt;et. al.&lt;/em&gt; 2009) two years prior.&lt;/p&gt;
&lt;p&gt;A nice if intuitive result (Peterson et al 2003) ((﻿Peterson, G., &amp;amp; Carpenter, S. (2003). Uncertainty and the management of multi-state ecosystems: an apparently rational route to collapse. Ecology, 84(6), 1403-1411. &lt;a href=&quot;http://www.jstor.org/stable/3107958&quot;&gt;http://www.jstor.org/stable/3107958&lt;/a&gt;)) shows optimization that misses the alternate stable state description performing rather poorly, similar to my examples. A more illuminating result is (Brozović &amp;amp; Schlenker, 2011), which provides an explicit example where the outcome of optimization in a system with alternate stable states depends entirely on small differences in noise regime. A more general understanding of when stochastic optimization will give results that are sensitive to assumptions of the noise would be useful. Any takers for integrating over the uncertainty in the uncertainty?&lt;/p&gt;
&lt;p&gt;A more immediate problem is the computational limitations of decision-theoretic approaches in handling full system complexity. The curse of dimensionality is exacerbated by the need for higher dimensions to model parameter uncertainty as well as dynamic state variables, where adaptive management can learn actively or passively to update this uncertainty.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Polasky S, Carpenter S, Folke C and Keeler B (2011). “Decision-Making Under Great Uncertainty: Environmental Management in an Era of Global Change.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.007&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.04.007&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fischer J, Peterson G, Gardner T, Gordon L, Fazey I, Elmqvist T, Felton A, Folke C and Dovers S (2009). “Integrating Resilience Thinking And Optimisation For Conservation.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.020&quot;&gt;http://dx.doi.org/10.1016/j.tree.2009.03.020&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brozović N and Schlenker W (2011). “Optimal Management of an Ecosystem With an Unknown Threshold.” &lt;em&gt;Ecological Economics&lt;/em&gt;, &lt;strong&gt;70&lt;/strong&gt;. ISSN 09218009, &lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolecon.2010.10.001&quot;&gt;http://dx.doi.org/10.1016/j.ecolecon.2010.10.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Stochastic optimization </title>
   <link href="/2012/02/22/stochastic-optimization.html"/>
   <updated>2012-02-22T13:44:35-08:00</updated>
   <id>h/2012/02/22/stochastic-optimization</id>
   <content type="html">&lt;h2 id=&quot;surprising-heterogeneity-of-profit-distribution-under-a-simple-beverton-holt-model&quot;&gt;Surprising heterogeneity of profit distribution under a simple Beverton-Holt model&lt;/h2&gt;
&lt;p&gt;Usually I expect the alternate stable state dynamics to be the ones producing bimodal distribution of profit:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7191/6922209705_314cc4cdd5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The pattern is driven by a costs to harvesting making harvest unprofitable most of the time, while chance fluctuations push some populations across this threshold again and again. The ensemble variation in harvest is suggestive of this:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7181/6776095432_83e90b3658_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;but we really see what is going on when we color-code the population dynamics of the most profitable and least profitable realizations of the stochastic dynamics:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7202/6922237885_5aa369901f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Maximizing expected profit when it means 1:4 chance of no profit might not be, well, optimal? Haven’t seen this kind of dynamic before.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2012/02/22/wednesday-12.html"/>
   <updated>2012-02-22T12:20:07-08:00</updated>
   <id>h/2012/02/22/wednesday-12</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;CC0 license approved for use on CRAN&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Update my DESCRIPTION files, use the new Author@R convention.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rebecca’s comment on mntd in comparative methods&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This lab notebook gets &lt;a href=&quot;http://academia.stackexchange.com/questions/83/good-practices-for-organizing-notes&quot;&gt;mentioned&lt;/a&gt; for good practices in academic workflow.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on treebase paper&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ESA registration&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lecture notes for tomorrow&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;forage fish writing&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Reading over (Munch &lt;em&gt;et. al.&lt;/em&gt; 2005). I think this is a very nice treatment, a lot clearer I think than lots of other stuff I’ve looked at (thanks Tim &amp;amp; Jim!). I think it highlights one of the difficulties at the boundary between our sections though.&lt;/p&gt;
&lt;p&gt;I did notice they introduce predator density as a parameter, &lt;em&gt;μ&lt;/em&gt;&lt;sub&gt;&lt;em&gt;T&lt;/em&gt;&lt;/sub&gt;, rather than as a function of forage fish density (N). They &lt;em&gt;assume&lt;/em&gt; top-down effects aren’t density dependent (by assuming predator pop doesn’t grow when prey grows, though they could have added N in elsewhere in the T equation instead, they don’t). Since they’ve assumed top-down mechanisms are density independent, they can’t get an equilibrium size determined by top-down effects alone, equation (4) i.e. the pattern of control they report “finding” appears to me to be the pattern they “assumed” when they chose to make T independent of N. (Maybe I’m missing something but I feel I keep running into this kind of recursive argument).&lt;/p&gt;
&lt;p&gt;Greatly enjoyed reading &lt;a href=&quot;http://dx.doi.org/10.1579/0044-7447%282007%2936%5B304%3AIAMHTS%5D2.0.CO%3B2&quot;&gt;Walters 2007&lt;/a&gt;. The example of predictive disagreement between the two equally good-fitting shrimp-harvest models is a fantastic example, and quite evocative of what Steve Pacala talks about in the historic fits on the climate models.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;p&gt;Munch S, Snover M, Watters G and Mangel M (2005). “A Unified Treatment of Top-Down And Bottom-up Control of Reproduction in Populations.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00766.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00766.x&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tues: Research, seminar (managing for resilience), talk (future of libraries), etc...</title>
   <link href="/2012/02/21/tues-research-seminar-managing-for-resilience-talk-future-of-libraries-etc.html"/>
   <updated>2012-02-21T11:20:40-08:00</updated>
   <id>h/2012/02/21/tues-research-seminar-managing-for-resilience-talk-future-of-libraries-etc</id>
   <content type="html">&lt;h2 id=&quot;research-stuff&quot;&gt;research Stuff&lt;/h2&gt;
&lt;h4 id=&quot;warningsignals&quot;&gt;warningsignals&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Exceeded wall time on NERSC, readjusting and running this again.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;treebase&quot;&gt;treebase&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Working on treebase manuscript.&lt;/li&gt;
&lt;li&gt;Treebase Rewrote handling of server errors, added pauses to reduce load, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;pmc&quot;&gt;PMC&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;A user pointed out my support for “white” model was incomplete. Fix is now on github (install instructions for development version are also now on github), will push to CRAN soon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Another user points out that pmc support for additional functions would be nice, such as rbrownie, fit.discrete. So true. Mixing and matching these methods may be a bit tricky without a higher level abstraction than pmc is applying.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;server&quot;&gt;Server&lt;/h4&gt;
&lt;p&gt;Happily upgraded to kcite 1.5.  &lt;a href=&quot;http://www.russet.org.uk/blog/2012/02/kcite-spreads-its-wings&quot;&gt;Many nice features&lt;/a&gt;.  Still looking forward to cito integration, generic handling of links (i.e. websites).  Also since it’s javascript now, doesn’t format in google reader, unlike 1.3 (nor does mathjax rendering).  May still have to edit tweak my css a bit (maybe have numbered list format for bibliography, or make the bibliography line into header format).&lt;/p&gt;
&lt;p&gt;Server didn’t recover after crash, looks like a local apache2 install got in the way of dreamhost apache.  hope this worked: &lt;code&gt;/usr/sbin/update-rc.d -f apache2 remove&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;managing-for-resilience&quot;&gt;Managing for Resilience&lt;/h2&gt;
&lt;p&gt;Notes from reading seminar&lt;/p&gt;
&lt;h4 id=&quot;old-paradigms&quot;&gt;Old paradigms&lt;/h4&gt;
&lt;p&gt;Species based. (Endangered species act, etc)&lt;/p&gt;
&lt;h4 id=&quot;approaches&quot;&gt;Approaches&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;functional response traits. But: Difficult to measure. difficult to anticipate consequences. Hobbs &lt;em&gt;et. al.&lt;/em&gt; 2006&lt;/li&gt;
&lt;li&gt;Habitat structure &amp;amp; complexity. But:&lt;/li&gt;
&lt;li&gt;Indicators. But: difficult to get right data. Or even experimental disturbance (van Nes &amp;amp; Scheffer, 2007).&lt;/li&gt;
&lt;li&gt;(Allen &lt;em&gt;et. al.&lt;/em&gt; 2011) Indicators. Planning. Adaptive management framework.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;threshold-management&quot;&gt;Threshold management&lt;/h4&gt;
&lt;p&gt;South African National Parks examples (strategic adaptive management in Kruger). Management plan has:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;“Vision statement”,&lt;/li&gt;
&lt;li&gt;hierarchy of goals,&lt;/li&gt;
&lt;li&gt;thresholds of potential concern&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Example threshold concerns: invasive species. Fire level.&lt;/p&gt;
&lt;h2 id=&quot;future-of-libraries&quot;&gt;Future of libraries&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A presentation by candidate for UC Davis library director, &lt;a href=&quot;http://www.mit.edu/~kenzie/&quot;&gt;MacKenzie Smith&lt;/a&gt;, whose resume sports amazing digital science projects at Harvard &amp;amp; MIT and work with Creative Commons.&lt;/li&gt;
&lt;li&gt;Jonathan Eisen has a &lt;a href=&quot;http://phylogenomics.blogspot.com/2012/02/notes-for-talk-by-mackenzie-smith.html&quot;&gt;nice summary&lt;/a&gt;, also a new notetaking style he’s trying out for open lab notebooks.&lt;/li&gt;
&lt;li&gt;Scale-on-demand, print-on-demand ebooks for UC library?&lt;/li&gt;
&lt;li&gt;Journals subscriptions are 80% of current costs. Open Access would fix this.  Most major publishers now see (gold) open access as inevitable.  Library may contribute to author’s publication costs?&lt;/li&gt;
&lt;li&gt;Library catalog is no longer about what the U has, but what the world has. focusing on UC Davis strengths.&lt;/li&gt;
&lt;li&gt;Newer collections need our attention, e.g. research data!   Organize, visualize, publish data. Should be just as recognized as core goal of future libraries.&lt;/li&gt;
&lt;li&gt;Libraries deal with the information overload, provide enterprise knowledge management services.  Examples include:
&lt;ul&gt;
&lt;li&gt;Text mining tools&lt;/li&gt;
&lt;li&gt;Scale up team science&lt;/li&gt;
&lt;li&gt;Current Research Information Systems.  automate cv’s etc.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Structurally libraries not built for today’s goals: group coursework, technology.&lt;/li&gt;
&lt;li&gt;New vision of library as high-tech center: visualization walls, 3D caves, 3D printers.&lt;/li&gt;
&lt;li&gt;Legal barriers / IP will be a major challenge facing future libraries.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;van Nes E and Scheffer M (2007). “Slow Recovery From Perturbations as A Generic Indicator of A Nearby Catastrophic Shift.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;169&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/516845&quot;&gt;http://dx.doi.org/10.1086/516845&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allen C, Cumming G, Garmestani A, Taylor P and Walker B (2011). “Managing For Resilience.” &lt;em&gt;Wildlife Biology&lt;/em&gt;, &lt;strong&gt;17&lt;/strong&gt;. ISSN 0909-6396, &lt;a href=&quot;http://dx.doi.org/10.2981/10-084&quot;&gt;http://dx.doi.org/10.2981/10-084&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Novel Ecosystems: Theoretical And Management Aspects of The New Ecological World Order, Richard J. Hobbs, Salvatore Arico, James Aronson, Jill S. Baron, Peter Bridgewater, Viki A. Cramer, Paul R. Epstein, John J. Ewel, Carlos A. Klink, Ariel E. Lugo, David Norton, Dennis Ojima, David M. Richardson, Eric W. Sanderson, Fernando Valladares, Montserrat Vila, Regino Zamora, Martin Zobel, (2006) &lt;em&gt;Global Ecology And Biogeography&lt;/em&gt;, &lt;strong&gt;15&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.1466-822X.2006.00212.x&quot;&gt;10.1111/j.1466-822X.2006.00212.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>finer sampling in prosecutor's fallacy</title>
   <link href="/2012/02/20/finer-sampling-in-prosecutors-fallacy.html"/>
   <updated>2012-02-20T11:12:13-08:00</updated>
   <id>h/2012/02/20/finer-sampling-in-prosecutors-fallacy</id>
   <content type="html">&lt;p&gt;Create the data. We’ll save files as some of these code chunks need to be run on the cluster for large memory use.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(populationdynamics)
pars =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Xo =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;e =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;180&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;K =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;,
    &lt;span class=&quot;dt&quot;&gt;i =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Da =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Dt =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
sn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;saddle_node_ibm&lt;/span&gt;(pars, &lt;span class=&quot;dt&quot;&gt;times=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50000&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;reps=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;save&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sn&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;file=prosecutor.rda&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Subset the chance transitions&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
d &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dim&lt;/span&gt;(sn$x1)
crashed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which&lt;/span&gt;(sn$x1[d[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],]==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;( sn$x1[,crashed] )
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(dat) =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;save&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;dat&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;file=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;crashed.rda&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Zoom into the region before the crash for purposes of the analysis&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(plyr)
zoom &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(dat, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X){
    tip &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;min&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;which&lt;/span&gt;(X$value==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
    index &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(tip&lt;span class=&quot;dv&quot;&gt;-800&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;):tip
    &lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time=&lt;/span&gt;X$time[index], &lt;span class=&quot;dt&quot;&gt;value=&lt;/span&gt;X$value[index])
    })&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Plot the first couple examples&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(zoom, reps &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~reps, &lt;span class=&quot;dt&quot;&gt;scales=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7038/6911538065_da2e1924e4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Test analysis on model fit:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;load&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;zoom.rda&amp;quot;&lt;/span&gt;)
L &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;unique&lt;/span&gt;(dat$reps))
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snow)
cluster &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;makeCluster&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;80&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;MPI&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;clusterEvalQ&lt;/span&gt;(cluster, &lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(earlywarning)) &lt;span class=&quot;co&quot;&gt;# load a library&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;clusterExport&lt;/span&gt;(cluster, &lt;span class=&quot;kw&quot;&gt;ls&lt;/span&gt;()) &lt;span class=&quot;co&quot;&gt;# export everything in workspace&lt;/span&gt;
models &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parLapply&lt;/span&gt;(cluster, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:L, function(i)
  &lt;span class=&quot;kw&quot;&gt;stability_model&lt;/span&gt;(zoom[zoom$rep==i, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)], &lt;span class=&quot;st&quot;&gt;&amp;quot;LSN&amp;quot;&lt;/span&gt;)
  )
&lt;span class=&quot;kw&quot;&gt;stopCluster&lt;/span&gt;(cluster)
&lt;span class=&quot;kw&quot;&gt;save&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;models&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;file=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;models.rda&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Once this step is complete, we can create the distribution of different indicators&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 &lt;span class=&quot;kw&quot;&gt;load&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;zoom.rda&amp;quot;&lt;/span&gt;)
 &lt;span class=&quot;kw&quot;&gt;load&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;models.rda&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# plot indicators&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(plyr)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(earlywarning)
indicators &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(zoom, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X){
    Y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time=&lt;/span&gt;X$time, &lt;span class=&quot;dt&quot;&gt;value=&lt;/span&gt;X$value)
    tau_var &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;warningtrend&lt;/span&gt;(Y, window_var)
    tau_acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;warningtrend&lt;/span&gt;(Y, window_autocorr)
    i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;X$rep[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]
    m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;models[[i]]$pars[&lt;span class=&quot;st&quot;&gt;&amp;quot;m&amp;quot;&lt;/span&gt;]
    &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;var=&lt;/span&gt;tau_var, &lt;span class=&quot;dt&quot;&gt;acor=&lt;/span&gt;tau_acorr, &lt;span class=&quot;dt&quot;&gt;m=&lt;/span&gt;m)
})&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And plot our results,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(indicators, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;fallacy.png&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(beanplot)
&lt;span class=&quot;kw&quot;&gt;beanplot&lt;/span&gt;(value ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;variable, &lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;dat, &lt;span class=&quot;dt&quot;&gt;what=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which shows clear signs of the fallacy of elevated false positives for the simple indicators (strongest for variance), and nothing that might be mistaken for a false positives in the model-based indicator.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7054/6790266518_942ce1dfce_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>prosecutor's fallacy initial look</title>
   <link href="/2012/02/16/prosecutors-fallacy-initial-look.html"/>
   <updated>2012-02-16T12:02:49-08:00</updated>
   <id>h/2012/02/16/prosecutors-fallacy-initial-look</id>
   <content type="html">&lt;p&gt;So I’ve simulated 1000 replicates of a system that has alternative stable states, but is not approaching the bifurcation. I’ve added enough noise (demographic stochasticity in this case, but doesn’t matter what) that 129/1000 transition stochastically to the bad state, so I have decent sample sizes in each. &lt;img src=&quot;http://farm8.staticflickr.com/7182/6889477291_fa7d1c407c_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Here’s what I’m finding: If I condition on having crashed (i.e. take the 129 that transition) and apply our model-based early warning signal, it doesn’t detect any early warning sign. Meanwhile, if I apply the kendall’s tau to the trend in variance on both crashed and and un-crashed data, the distributions look more or less as they always do, with tau values covering the full range from -1 to 1. The statistic from the systems that did not crash (0) and those that did (1), for both the model approach (parameter m) and tau for variance trend).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7181/6874544461_d58b73d1e7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Visually, I can also create the plot of the warning signal over time for those 129 sets, and some appear to increase.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7047/6889462817_089da2e38a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;So in this sense we can illustrate a prosecutor’s fallacy in the sense that some of these 129 appear as false positives; there variances increase by chance. However, this doesn’t show any effect of conditioning on the fact that the system has transitioned – by these statistics the group that did crash and the group that didn’t look indistinguishable. In this sense it’s no so much a fallacy.&lt;/p&gt;
&lt;p&gt;I can try finer time sampling and see if I can catch a pattern that distinguishes between the groups – in the data I’ve got so far the chance fluctuation that drives the crash occurs faster than the observation rate, so there’s not much to latch on to.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Squiggles</title>
   <link href="/2012/02/16/squiggles.html"/>
   <updated>2012-02-16T11:34:55-08:00</updated>
   <id>h/2012/02/16/squiggles</id>
   <content type="html">&lt;p&gt;Variability in the appearance of a trend&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
nreps &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;64&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(populationdynamics)
pars =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Xo =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;730&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;e =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;K =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;i =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Da =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.09&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Dt =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
time =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;990&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)
sn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;saddle_node_ibm&lt;/span&gt;(pars, time, &lt;span class=&quot;dt&quot;&gt;reps =&lt;/span&gt; nreps)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We reformat the replicates into long form,&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; time, &lt;span class=&quot;dt&quot;&gt;value =&lt;/span&gt; sn$x1)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape)
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(X, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(dat)[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;reps&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(plyr)
window &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(X[[&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;]])/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
tmp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(dat, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X) &lt;span class=&quot;kw&quot;&gt;window_autocorr&lt;/span&gt;(X$value, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; window))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Tidy up the warning signal data&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(tmp))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;acorr[-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, ]
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(acorr) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
acorr$time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;D&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, acorr$time))
&lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt;(acorr$value) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;numeric&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and plot the replicate warning signals&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(acorr) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~reps) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;opts&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Autocorrelation on replicates from a system approaching a crash&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/crashautocor.png&quot; alt=&quot;plot of chunk crashautocor&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk crashautocor&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;stable-system&quot;&gt;Stable system&lt;/h2&gt;
&lt;p&gt;Stable model simulations&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
pars =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Xo =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;730&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;e =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;150&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;K =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;i =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Da =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Dt =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
time =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;990&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)
sn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;saddle_node_ibm&lt;/span&gt;(pars, time, &lt;span class=&quot;dt&quot;&gt;reps =&lt;/span&gt; nreps)
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; time, &lt;span class=&quot;dt&quot;&gt;value =&lt;/span&gt; sn$x1)
stable_dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(X, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(stable_dat)[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;reps&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
tmp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(stable_dat, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X) &lt;span class=&quot;kw&quot;&gt;window_autocorr&lt;/span&gt;(X$value, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; window))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(tmp))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;acorr[-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, ]
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(acorr) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
acorr$time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;D&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, acorr$time))
&lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt;(acorr$value) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;numeric&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(acorr) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~reps) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;opts&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Autocorrelation on replicates from a stable system&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/stableautocor.png&quot; alt=&quot;plot of chunk stableautocor&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk stableautocor&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;variance-pattern&quot;&gt;Variance pattern&lt;/h2&gt;
&lt;h3 id=&quot;replicates-approaching-a-crash&quot;&gt;Replicates approaching a crash&lt;/h3&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
tmp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(dat, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X) &lt;span class=&quot;kw&quot;&gt;window_var&lt;/span&gt;(X$value, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; window))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(tmp))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;acorr[-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, ]
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(acorr) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
acorr$time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;D&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, acorr$time))
&lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt;(acorr$value) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;numeric&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(acorr) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~reps) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;opts&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Variance on replicates approaching a crash&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/crashvar.png&quot; alt=&quot;plot of chunk crashvar&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk crashvar&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;replicates-from-a-stable-system&quot;&gt;Replicates from a stable system&lt;/h3&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
tmp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(stable_dat, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, function(X) &lt;span class=&quot;kw&quot;&gt;window_var&lt;/span&gt;(X$value, 
    &lt;span class=&quot;dt&quot;&gt;windowsize =&lt;/span&gt; window))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(tmp))
acorr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;acorr[-&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, ]
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(acorr) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;reps&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
acorr$time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;D&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, acorr$time))
&lt;span class=&quot;kw&quot;&gt;class&lt;/span&gt;(acorr$value) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;numeric&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(acorr) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~reps) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;opts&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;title =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;Variance on replicates in a stable system&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/stablevar.png&quot; alt=&quot;plot of chunk stablevar&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk stablevar&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>getting signal from autocorrelation</title>
   <link href="/2012/02/15/getting-signal-from-autocorrelation.html"/>
   <updated>2012-02-15T11:40:26-08:00</updated>
   <id>h/2012/02/15/getting-signal-from-autocorrelation</id>
   <content type="html">&lt;p&gt;This example goes through the steps to demonstrate that in a sufficiently-frequently sampled timeseries, autocorrelation does contain &lt;strong&gt;some&lt;/strong&gt; signal of early warning. ((Post markdown generated automatically from knitr.))&lt;/p&gt;
&lt;p&gt;Run the individual based simulation&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(populationdynamics)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code] Loading required package: populationdynamics&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
pars =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Xo =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;730&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;e =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;a =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;K =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, 
    &lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;i =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Da =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.09&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Dt =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;p =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
time =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;length =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;)
sn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;saddle_node_ibm&lt;/span&gt;(pars, time)
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;time =&lt;/span&gt; time, &lt;span class=&quot;dt&quot;&gt;value =&lt;/span&gt; sn$x1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;compute the observed value:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(earlywarning)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code] Loading required package: earlywarning&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
observed &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;warningtrend&lt;/span&gt;(X, window_autocorr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;fit the models&lt;/p&gt;
&lt;p&gt;$ dX = (- X) dt + dB_t $&lt;/p&gt;
&lt;p&gt;$ dX = &lt;em&gt;t (- X) dt + (&lt;/em&gt;t+) dB_t $&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
A &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stability_model&lt;/span&gt;(X, &lt;span class=&quot;st&quot;&gt;&amp;quot;OU&amp;quot;&lt;/span&gt;)
B &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stability_model&lt;/span&gt;(X, &lt;span class=&quot;st&quot;&gt;&amp;quot;LSN&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;simulate some replicates&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
reps &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;
Asim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(A, reps)
Bsim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(B, reps)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;tidy up the data a bit&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(reshape2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
Asim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(Asim, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
Bsim &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(Bsim, &lt;span class=&quot;dt&quot;&gt;id =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(Asim)[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;rep&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(Bsim)[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;rep&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Apply the &lt;code&gt;warningtrend&lt;/code&gt; &lt;code&gt;window_autocorr&lt;/code&gt; to each replicate&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(plyr)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
wsA &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(Asim, &lt;span class=&quot;st&quot;&gt;&amp;quot;rep&amp;quot;&lt;/span&gt;, warningtrend, window_autocorr)
wsB &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(Bsim, &lt;span class=&quot;st&quot;&gt;&amp;quot;rep&amp;quot;&lt;/span&gt;, warningtrend, window_autocorr)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And gather and plot the results&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
tidy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;null =&lt;/span&gt; wsA$tau, &lt;span class=&quot;dt&quot;&gt;test =&lt;/span&gt; wsB$tau))&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(tidy) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;simulation&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(beanplot)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;beanplot&lt;/span&gt;(value ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;simulation, tidy, &lt;span class=&quot;dt&quot;&gt;what =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, 
    &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;h =&lt;/span&gt; observed, &lt;span class=&quot;dt&quot;&gt;lty =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/plot.png&quot; alt=&quot;plot of chunk plot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk plot&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ggplot2)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
roc &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;roc_data&lt;/span&gt;(tidy)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code] Area Under Curve = 0.819680311103255 True positive rate = 0.33 at false positive rate of 0.05&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(roc) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(False.positives, True.positives), 
    &lt;span class=&quot;dt&quot;&gt;lwd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/roc.png&quot; alt=&quot;plot of chunk roc&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk roc&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;parallelization&quot;&gt;Parallelization&lt;/h2&gt;
&lt;p&gt;Parallel code for the &lt;code&gt;plyr&lt;/code&gt; command is straight-forward for multicore use,&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(doMC)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;registerDoMC&lt;/span&gt;()
wsA &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(Asim, &lt;span class=&quot;st&quot;&gt;&amp;quot;rep&amp;quot;&lt;/span&gt;, warningtrend, window_autocorr, 
    &lt;span class=&quot;dt&quot;&gt;.parallel =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
wsB &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(Bsim, &lt;span class=&quot;st&quot;&gt;&amp;quot;rep&amp;quot;&lt;/span&gt;, warningtrend, window_autocorr, 
    &lt;span class=&quot;dt&quot;&gt;.parallel =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which works nicely (other than the progress indicator finishing early).&lt;/p&gt;
&lt;p&gt;In principle, this can be &lt;a href=&quot;http://stackoverflow.com/questions/5559287/how-do-i-make-dosmp-play-nicely-with-plyr&quot;&gt;parallelized over MPI&lt;/a&gt; using &lt;a href=&quot;http://www.numbertheory.nl/2011/11/14/parallelization-using-plyr-loading-objects-and-packages-into-worker-nodes/&quot;&gt;an additional function&lt;/a&gt;, seems to work:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snow)
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(doSNOW)
&lt;span class=&quot;kw&quot;&gt;source&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;../createCluster.R&amp;quot;&lt;/span&gt;)
cl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;createCluster&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;export =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;ls&lt;/span&gt;(), &lt;span class=&quot;dt&quot;&gt;lib =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;earlywarning&amp;quot;&lt;/span&gt;))
ws &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ddply&lt;/span&gt;(Asim, &lt;span class=&quot;st&quot;&gt;&amp;quot;rep&amp;quot;&lt;/span&gt;, warningtrend, window_autocorr, 
    &lt;span class=&quot;dt&quot;&gt;.parallel =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;stopCluster&lt;/span&gt;(cl)
&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(ws)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[code] rep tau 1 X1 0.7886 2 X2 0.6966 3 X3 0.6543 4 X4 0.5251 5 X5 -0.2859 6 X6 -0.3889&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Further examples for appendices</title>
   <link href="/2012/02/14/further-examples-for-appendices.html"/>
   <updated>2012-02-14T08:35:06-08:00</updated>
   <id>h/2012/02/14/further-examples-for-appendices</id>
   <content type="html">&lt;p&gt;Going through additional examples of things I’d like to see / demonstrate but do not fit into the narrative of the manuscript. Writing these in knitr/dynamic documentation to confirm code produces the examples listed, and give a bit tighter integration between text and code examples.&lt;/p&gt;
&lt;h3 id=&quot;show-the-parameter-distributions&quot;&gt;Show the parameter distributions:&lt;/h3&gt;
&lt;p&gt;We can also look at the bootstraps of the parameters. Another helper function will reformat this data from reps list. The fit column uses a two-letter code to indicate first what model was used to simulate the data, and then what model was fit to the data. For instance, AB means the data was simulated from model A (the null, OU model) but fit to B.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parameter_bootstraps&lt;/span&gt;(reps)
&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(pars)&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
    value parameter fit rep
 &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;1.380&lt;/span&gt;        Ro  AA   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;583.109&lt;/span&gt;     theta  AA   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;147.015&lt;/span&gt;     sigma  AA   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;1.631&lt;/span&gt;        Ro  AB   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;602.484&lt;/span&gt;     theta  AB   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
 &lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;130.060&lt;/span&gt;     sigma  AB   &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are lots of options for visualizing this relatively high-dimensional data, which we can easily explore with a few commands from the &lt;code&gt;ggplot2&lt;/code&gt; package. For instance, we can look at average and range of parameters estimated in the bootstraps of each model:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(Hmisc)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(pars, fit %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;AA&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;BB&amp;quot;&lt;/span&gt;)), &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(fit, 
    value)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.y =&lt;/span&gt; mean, &lt;span class=&quot;dt&quot;&gt;geom =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;bar&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;position =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;dodge&amp;quot;&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.data =&lt;/span&gt; median_hilow, &lt;span class=&quot;dt&quot;&gt;geom =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;pointrange&amp;quot;&lt;/span&gt;, 
        &lt;span class=&quot;dt&quot;&gt;position =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;position_dodge&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;width =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;conf.int =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.95&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;facet_wrap&lt;/span&gt;(~parameter, &lt;span class=&quot;dt&quot;&gt;scales =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;free_y&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://github.com/cboettig/earlywarning/wiki/parsplot.png&quot; alt=&quot;plot of chunk parsplot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;plot of chunk parsplot&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;further-tests-and-examples&quot;&gt;Further tests and examples&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Compare likelihood &amp;amp; summary statistic results simulating under the non-linear process vs under the LSN model: see &lt;a href=&quot;https://github.com/cboettig/earlywarning/wiki/validating_approximation&quot;&gt;validating approximation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show ROC curves do improve for each set of statistics as data sampling improves. Current examples make it look like autocorrelation never works. See &lt;a href=&quot;http://www.carlboettiger.info/archives/3885&quot;&gt;Getting signal from autocorrelation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show visually increasing patterns in summary stats from stable systems and non-increasing patterns from unstable ones. See &lt;a href=&quot;http://www.carlboettiger.info/archives/3863&quot;&gt;squiggles&lt;/a&gt;. Compare to the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha=r_t^2\inline&quot;/&gt;&lt;/span&gt; plot.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;full replicate code&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Into the murky reality – show the windowed auto-correlation, variance, and $ =r(t)^2 $ graphs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Do dependencies in documentation examples need to be listed as package dependencies?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2012/02/13/monday-16.html"/>
   <updated>2012-02-13T15:29:36-08:00</updated>
   <id>h/2012/02/13/monday-16</id>
   <content type="html">&lt;p&gt;I’ve created the more extend-able &lt;a href=&quot;https://github.com/cboettig/earlywarning/&quot;&gt;earlywarning&lt;/a&gt; package out of my &lt;a href=&quot;https://github.com/cboettig/warningsignals/&quot;&gt;warningsignals&lt;/a&gt; package. The individual-based simulations are carried out separately via my new &lt;a href=&quot;https://github.com/cboettig/populationdynamics&quot;&gt;populationdynamics&lt;/a&gt; package.&lt;/p&gt;
&lt;h2 id=&quot;fallacy-plots&quot;&gt;Fallacy plots&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7181/6874544461_d58b73d1e7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;appendices&quot;&gt;Appendices&lt;/h2&gt;
&lt;p&gt;Trying a knitr-based platform for tighter integration of code, figures, and text. See &lt;a href=&quot;https://github.com/cboettig/earlywarning/wiki/appendices&quot;&gt;today’s analysis&lt;/a&gt; in markdown generated by knitr, posted as a github wiki page.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday </title>
   <link href="/2012/02/12/sunday-6.html"/>
   <updated>2012-02-12T14:14:43-08:00</updated>
   <id>h/2012/02/12/sunday-6</id>
   <content type="html">&lt;h2 id=&quot;phylogenetics&quot;&gt;phylogenetics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Exploring display of phylogeny. Unlabled, painted fan?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7192/6866145469_72efa0a0b4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;tweaking release-of-constraint plot - vary alpha, less strong? release at T/2? Animated version?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;creating-paintings-of-phylogenies&quot;&gt;Creating paintings of phylogenies&lt;/h2&gt;
&lt;p&gt;Creating from a specified set of taxa is a somewhat common task for me. Wrightscape supports doing this for both ouch and ape trees.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/fb0dc3bf9eacc4c99118b9d06e7a658bb383f666/R/OUwietools.R&quot;&gt;ape-based phylogenies&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ouch-based phylogenies use some legacy maticce functions&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;intra_ancestor &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mrcaOUCH&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Chlorurus_sordidus&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;Hipposcarus_longiceps&amp;quot;&lt;/span&gt;), labrid$tree)
intramandibular &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paintBranches&lt;/span&gt;(intra_ancestor, labrid$tree, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;intramandibular&amp;quot;&lt;/span&gt;))
pharyngeal_ancestor&amp;lt;-&lt;span class=&quot;kw&quot;&gt;mrcaOUCH&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Bolbometopon_muricatum&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;Sparisoma_radians&amp;quot;&lt;/span&gt;), labrid$tree)
pharyngeal &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paintBranches&lt;/span&gt;(pharyngeal_ancestor, labrid$tree, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;))
two_shifts &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paintBranches&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(pharyngeal_ancestor, intra_ancestor), labrid$tree, 
&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wrasses&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;, intramandibular&lt;span class=&quot;st&quot;&gt;&amp;quot;) )&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The ouch-trees can be converted back to ape trees in a way that can plot them, but for some reason break the fan-plot mode but not the standard phylogram plot mode. Writing to a nexus file and reading back in solves the backwards convert problem, but does not write the branch labels (at least not currently, which are stored in &lt;code&gt;$regimes&lt;/code&gt;).&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Parallelizing the prosecutors fallacy, following &lt;a href=&quot;http://www.carlboettiger.info/archives/3274&quot;&gt;earlier post&lt;/a&gt; for MPI via snow&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cbsnews.com/video/watch/?id=7398476n&amp;amp;tag=contentBody;storyMediaBox&quot;&gt;CBS 60 minutes&lt;/a&gt; on the importance of reproducible research&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday: projects, reading, markdown notebook-technology</title>
   <link href="/2012/02/12/saturday-projects-reading-markdown-plugins.html"/>
   <updated>2012-02-12T05:40:37-08:00</updated>
   <id>h/2012/02/12/saturday-projects-reading-markdown-plugins</id>
   <content type="html">&lt;p&gt;Greatly enjoyed seeing this perspective on power laws (Stumpf &amp;amp; Porter, 2012) Or as Richard McElreath put even more concisely,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;People get amazed by power laws but never by normal distributions. Seems like some max ent outcomes astonish while others don’t. When so many mechanisms aggregate to common densities, I’d hope we’d stop trying to argue that we can go backwards from pattern to process so easily.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;projects&quot;&gt;Projects&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;fishbase &lt;a href=&quot;https://github.com/ropensci/rfishbase/commit/a1a9e0307288871b82caca921e9751bdc56b1942&quot;&gt;example query for Peter&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Commit edits to warningsignals paper, send to Alan.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Things to show in warningsignals vignette/appendix: Increasing data improves estimates. Improves for autocorrelation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Remembered seeing this example, &lt;a href=&quot;http://worrydream.com/#!/ScientificCommunicationAsSequentialArt&quot;&gt;scientific communication&lt;/a&gt; as sequential art, a year or so ago but took a while to find it. Why &lt;a href=&quot;http://webapps.stackexchange.com/questions/23797/advanced-search-options-for-my-links-in-delicious&quot;&gt;can’t I search&lt;/a&gt; my delicious links appropriately?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://datajournalism.stanford.edu/&quot;&gt;Data journalism&lt;/a&gt;, another nice take on visualizations&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://vimeo.com/33727555&quot;&gt;Hadley’s tidy R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;some-r-tricks&quot;&gt;some R tricks&lt;/h2&gt;
&lt;p&gt;Moved this one to a separate entry, see &lt;a href=&quot;http://www.carlboettiger.info/archives/3832&quot;&gt;Elegant &amp;amp; fast data manipulation with data.table&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I always forget how to do this. [gist id=1805250]&lt;/p&gt;
&lt;h2 id=&quot;some-plugin-notes&quot;&gt;Some plugin notes&lt;/h2&gt;
&lt;p&gt;Tried writing this in markdown, using &lt;a href=&quot;http://wordpress.org/extend/plugins/markdown-quicktags&quot;&gt;markdown-quicktags&lt;/a&gt; plugin. Seems to work with most of my short-codes but creates trouble with the equations. The “render” option converts the escaped brackets used by mathjax into html symbols. It also seems to convert symbol inside the equations, even when inside shortcodes instead of bracket notation. &lt;a href=&quot;http://wordpress.org/support/topic/plugin-markdown-quicktags-breaks-mathjax-syntax?replies=1#post-2620618&quot;&gt;Filed error&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Render stores the post source as html. Need to render or post will display markdown instead of formatting. A different option is plugins that convert the displayed content. Such plugins store the source as markdown, so if the plugin stops working, all posts appear in markdown instead of being properly rendered.&lt;/p&gt;
&lt;p&gt;Rendering can create a mix of html and markdown in the edit, which can be a big headache too.&lt;/p&gt;
&lt;h3 id=&quot;a-second-attempt&quot;&gt;A second attempt&lt;/h3&gt;
&lt;p&gt;Trying &lt;a href=&quot;http://wordpress.org/extend/plugins/markdown-on-save/&quot;&gt;markdown-on-save&lt;/a&gt;. Much less obtrusive in that it does not change the editor, just uses the default html editor with a check-box to indicate if the document is in markdown.&lt;/p&gt;
&lt;p&gt;It also renders the equations without any trouble, inline: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F = ma&quot; alt=&quot;F = ma&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and displayed, &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \sigma dB_t&quot; alt=&quot;dX = \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Brilliant.&lt;/p&gt;
&lt;p&gt;It appears that leaving in html-style links in the text also does not create an issue, these render correctly as well.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Stumpf M and Porter M (2012). “Critical Truths About Power Laws.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;335&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1216142&quot;&gt;http://dx.doi.org/10.1126/science.1216142&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Elegant & fast data manipulation with data.table</title>
   <link href="/2012/02/12/elegant-fast-data-manipulation-with-data-table.html"/>
   <updated>2012-02-12T05:39:03-08:00</updated>
   <id>h/2012/02/12/elegant-fast-data-manipulation-with-data-table</id>
   <content type="html">&lt;p&gt;Just learned about the R &lt;a href=&quot;http://cran.r-project.org/web/packages/data.table/index.html&quot;&gt;data.table package&lt;/a&gt; (ht @recology_) makes R data frames into ultra-fast, SQL-like objects.&lt;/p&gt;
&lt;p&gt;One thing we get is some very nice and powerful syntax. Consider some simple data of replicate time series:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
replicate &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(time)
value &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)
df &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(replicate, time, value)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To apply a function to each set of replicates, instead of&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(df$replicate), function(i) 
  &lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;( df[df$replicate ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;i,]$value) 
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can use&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(data.table)
dt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(df)
dt[, &lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt;(value), by=&lt;span class=&quot;st&quot;&gt;&amp;quot;replicate&amp;quot;&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we could have passed multiple arguments to the function, &lt;code&gt;f(time, value)&lt;/code&gt;, or functions of the arguments, &lt;code&gt;mean(value*time)&lt;/code&gt;, etc. While this can be much faster data-frames to begin with (see below), when the function is much more computationally intensive than “mean”, it might be sensible to parallelize this command instead:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(snowfall)
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;par=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;cpu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, function(i)
  &lt;span class=&quot;kw&quot;&gt;mean&lt;/span&gt; (dt[replicate==i, value] )
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we could have given the second argument as a list if we needed multiple columns, i.e. &lt;code&gt;list(time, value)&lt;/code&gt;. For a provocative example, consider this example comparing the two. Let’s create a very big data frame, and also make it a data table:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;grpsize =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ceiling&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;1e7&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;26&lt;/span&gt;^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) 
DF &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;factor&lt;/span&gt;(LETTERS), &lt;span class=&quot;dt&quot;&gt;each =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;26&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;grpsize), 
                 &lt;span class=&quot;dt&quot;&gt;y=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;factor&lt;/span&gt;(letters), &lt;span class=&quot;dt&quot;&gt;each =&lt;/span&gt; grpsize), 
                 &lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;runif&lt;/span&gt;(grpsize *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;26&lt;/span&gt; ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))
DT &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.table&lt;/span&gt;(DF)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This table has three columns, each capital letter of the alphabet (fist column) paired with each lower-case letter in column B. Let’s imagine we want all the cases that have a capital “R” and lowercase “f”. Well, in classic R we might do:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;system.time&lt;/span&gt;( 
  DF[DF$x==&lt;span class=&quot;st&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;DF$y==&lt;span class=&quot;st&quot;&gt;&amp;quot;f&amp;quot;&lt;/span&gt;, ]
)
user  system elapsed 
  &lt;span class=&quot;fl&quot;&gt;2.796&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;0.500&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;3.313&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could do the same command with DF, and it would do the same “Vector Search”, which is slow (order N). we can get order log(N) scaling though with join option of data.table. We first have to set x and y as “keys”.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;setkey&lt;/span&gt;(DT, x, y)
&lt;span class=&quot;kw&quot;&gt;system.time&lt;/span&gt;(
  DT[&lt;span class=&quot;kw&quot;&gt;J&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;h&amp;quot;&lt;/span&gt;)]
)
   user  system elapsed 
  &lt;span class=&quot;fl&quot;&gt;0.012&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;0.000&lt;/span&gt;   &lt;span class=&quot;fl&quot;&gt;0.014&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A speed-up of 233 times! Certainly better than splitting up the analysis over 100s of processors. &lt;strong&gt;Brilliant&lt;/strong&gt;.&lt;/p&gt;
&lt;h2 id=&quot;relationship-of-commands-to-sql&quot;&gt;Relationship of commands to SQL&lt;/h2&gt;
&lt;p&gt;The FAQ vignette provides a nice line-by-line comparison of SQL commands to data.table commands:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;data.table&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;SQL&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;i&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;where&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;j&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;select&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;:=&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;update&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;by&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;group by&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;i&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;order by (in compound syntax)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;i&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;having (in compound syntax)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;nomatch=NA&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;outer join&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;nomatch=0&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;inner join&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;mult=&amp;quot;first&amp;quot;&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;N/A because SQL is inherently unordered&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;code&gt;roll=TRUE&lt;/code&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;N/A because SQL is inherently unordered&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;The general form is : &lt;code&gt;DT[where,select|update,group by][having][order by][ ]...[ ]&lt;/code&gt;. A key advantage of column vectors in R is that they are ordered, unlike SQL.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: writing; some latexdiff notes</title>
   <link href="/2012/02/10/thursday-writing-some-latexdiff-notes.html"/>
   <updated>2012-02-10T02:06:11-08:00</updated>
   <id>h/2012/02/10/thursday-writing-some-latexdiff-notes</id>
   <content type="html">&lt;h2 id=&quot;forage-fish-writing&quot;&gt;Forage fish writing&lt;/h2&gt;
&lt;p&gt;See doc, FF dropbox PopDyn&lt;/p&gt;
&lt;h2 id=&quot;warning-signals-edits&quot;&gt;Warning signals edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Alan edits&lt;/li&gt;
&lt;li&gt;Figure captions, titles.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Text changes from Noam.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;a-better-git-latexdiff-solution&quot;&gt;A better git latexdiff solution&lt;/h2&gt;
&lt;p&gt;Placing the script below somewhere in the path like &lt;code&gt;/usr/local/bin&lt;/code&gt; and modify &lt;code&gt;~/.gitconfig&lt;/code&gt; as indicated in the header comments. Then oen can view pdf-diffs of the latex of the current version against previous versions with commands such as&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git latexdiff HEAD &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;shows the differences between the last commit and the current (uncommitted) changes. References to other versions should work just as in git diff commands, see &lt;a href=&quot;http://book.git-scm.com/3_comparing_commits_-_git_diff.html&quot;&gt;git book for more&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[gist id=1128616]&lt;/p&gt;
&lt;h2 id=&quot;logistics&quot;&gt;logistics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Evolution reimbursement.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;CPB travel funds.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>UC Davis graduate student symposium proposal</title>
   <link href="/2012/02/08/uc-davis-graduate-student-symposium-proposal.html"/>
   <updated>2012-02-08T04:35:15-08:00</updated>
   <id>h/2012/02/08/uc-davis-graduate-student-symposium-proposal</id>
   <content type="html">&lt;h4 id=&quot;abstract&quot;&gt;Abstract&lt;/h4&gt;
&lt;p&gt;The recog­ni­tion that ecosys­tems can undergo sud­den shifts to alter­nate, less desir­able sta­ble states has led to the desire to iden­tify early warn­ing signs of these impend­ing col­lapses. Motivated by the math­e­mat­ics of bifur­ca­tions, the search for early warn­ing signs seeks to detect subtle patterns that may precede these shift. Faced with limited and imperfect data, such forecasting is fraught with uncertainty. I will present work illustrating how we can quantify the risks of false alarms and missed detection of these early warning signals, and illustrate how this information can be used to inform robust decision-making that may avoid collapse.&lt;/p&gt;
&lt;h4 id=&quot;research-significance&quot;&gt;Research Significance&lt;/h4&gt;
&lt;p&gt;The most pressing issues of our time are all characterized by sudden regime shifts: the collapse of marine fisheries or stock-markets, the overthrow of governments, shifts in global climate. Despite their importance, predicting these shifts has long been more the domain of soothsayers than scientists, an area where experts perform no better than lay observers. Such transitions by definition lie outside the familiarity of our experience and the description of our models. By tapping the data deluge of information technological innovations have made available and by identifying a common mathematical framework around some sudden shifts, I will suggest how we can begin to break free of this mold.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Some Collaborative Tools for Science</title>
   <link href="/2012/02/06/some-collaborative-tools-for-science.html"/>
   <updated>2012-02-06T07:30:06-08:00</updated>
   <id>h/2012/02/06/some-collaborative-tools-for-science</id>
   <content type="html">&lt;p&gt;Ania Truszczynski invited me to give a little talk on the use of various collaborative tools for scientists.  I enjoyed presenting this as a chalk-talk, but alas no slides to link so here’s a list of reference. Rather than the impossible attempt to be comprehensive, this is restricted to resources I use regularly and have found to be the best of their class.  All are freely available.&lt;/p&gt;
&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt; Science Blogs  (e.g. &lt;a href=&quot;http://rrresearch.fieldofscience.com/2010/12/arsenic-associated-bacteria-nasas.html&quot;&gt;Arsenic Life&lt;/a&gt; &amp;amp; peer review) &lt;a href=&quot;http://researchblogging.org&quot;&gt;ressearchblogging.org&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Preprint servers (&lt;a href=&quot;http://arxiv.org&quot;&gt;arXiv&lt;/a&gt;, &lt;a href=&quot;http://precedings.nature.com/&quot;&gt;Nature Precedings&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Twitter (&lt;a href=&quot;http://www.biodiversityinfocus.com/blog/2012/01/02/twitter-for-scientists-and-why-you-should-try-it-scienceshare/&quot;&gt;a Scientist’s intro&lt;/a&gt;)), also see (Eysenbach, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/profiles/carl-boettiger/&quot;&gt;Mendeley&lt;/a&gt; - social reference manager&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;Github&lt;/a&gt; - social coding&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;wordpress.com&quot;&gt;Wordpress&lt;/a&gt; - collaborative website (&lt;a href=&quot;http://blogs.plos.org/mfenner/2011/02/04/discussing-wordpress-for-scientists/&quot;&gt;WP for scientists&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Google Docs, Dropbox (but try Wordpress or github)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;stackoverflow.com&quot;&gt;Stackoverflow&lt;/a&gt; and &lt;a href=&quot;http://stackexchange.com/sites&quot;&gt;similar Q&amp;amp;A sites &lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RSS &lt;a href=&quot;http://www.google.com/reader&quot;&gt;readers&lt;/a&gt; (all the above can create RSS feeds of updates)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Open_notebook_science&quot;&gt;Open Notebook Science&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A few tools I didn’t mention: Increase your impact: share your science.  &lt;a href=&quot;http://datadryad.org/&quot;&gt;Dryad&lt;/a&gt; (published data), &lt;a href=&quot;http://figshare.com&quot;&gt;FigShare&lt;/a&gt; (Figures and data), &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Slideshare&lt;/a&gt; (slides)&lt;/p&gt;
&lt;h2 id=&quot;risks-rewards&quot;&gt;Risks &amp;amp; Rewards&lt;/h2&gt;
&lt;p&gt;I mentioned the use of these tools in &lt;a href=&quot;http://www.youtube.com/watch?v=LabqeJEOQyI&quot;&gt;filtering information overload&lt;/a&gt; and in building a network that can assist and promote you.&lt;/p&gt;
&lt;p&gt;We discussed that any of these tools can be used at varying degrees of openness. Using them in a more open way often increases the potential rewards they can provide, but also the risks that come with increased exposure. Being unknown or less known carries different risks.&lt;/p&gt;
&lt;p&gt;It’s easy to worry about giving away your science.  But giving it away can be really hard, as anyone whose replicated someone else’s publication knows.  I’ve tried to make it easy, but I bet it’s never as simple as I imagine.  Can you find and replicate a graph I’ve produced this week, name two papers I’ve read (did I like them?), or find technical question where I’ve been stuck and the code where I implemented the solution someone suggested?  What question am I most interested in answering right now?  (Thinking I’ll add answer links later).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Eysenbach G (2011). “Can Tweets Predict Citations? Metrics of Social Impact Based on Twitter And Correlation With Traditional Metrics of Scientific Impact.” &lt;em&gt;Journal of Medical Internet Research&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.2196/jmir.2012&quot;&gt;http://dx.doi.org/10.2196/jmir.2012&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Different ways of visualizing distribution overlap</title>
   <link href="/2012/02/03/different-ways-of-visualizing-distribution-overlap.html"/>
   <updated>2012-02-03T02:13:51-08:00</updated>
   <id>h/2012/02/03/different-ways-of-visualizing-distribution-overlap</id>
   <content type="html">&lt;p&gt;I spend a lot of time comparing distributions.  There’s lots of different ways to visualize these comparisons, I’m not sure what is the most effective &amp;amp; intuitive way to indicate their overlap.&lt;/p&gt;
&lt;h4 id=&quot;distributions&quot;&gt;Distributions&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7159/6812863339_b757c2f54b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;boxplot&quot;&gt;Boxplot&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7035/6812863299_a99d0ea040_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;violinplot&quot;&gt;Violinplot&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7020/6812863493_35aec6434d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;beanplot&quot;&gt;Beanplot&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7154/6812863275_7d96bebf1f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;roc-curve&quot;&gt;ROC Curve&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7032/6812863387_fffa882deb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;These images in gallery format with examples from two other data sources as well (click on image to zoom into gallery).&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2012-02-03 00:00:00” max_upload_date=“2012-02-03 11:00:00”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2012/02/02/thursday-13.html"/>
   <updated>2012-02-02T14:14:42-08:00</updated>
   <id>h/2012/02/02/thursday-13</id>
   <content type="html">&lt;h3 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Dryad submission&lt;/li&gt;
&lt;li&gt;xml parsing example to Scott&lt;/li&gt;
&lt;li&gt;essentially see (&lt;a href=&quot;http://fishlab.ucdavis.edu/?p=395&quot;&gt;fishbase example&lt;/a&gt; , and &lt;a href=&quot;http://www.w3schools.com/xpath/xpath_syntax.asp&quot;&gt;xpath tutoral&lt;/a&gt; )&lt;/li&gt;
&lt;li&gt;knitr and &lt;a href=&quot;http://tex.stackexchange.com/questions/8625/force-figure-placement-in-text&quot;&gt;latex figure placement&lt;/a&gt; (use float package with H to enforce placement).&lt;/li&gt;
&lt;li&gt;cc0 &amp;amp; OSI …&lt;/li&gt;
&lt;li&gt;pmc purchase order, dryad data id approval.&lt;/li&gt;
&lt;li&gt;&amp;amp; writing writing writing…&lt;/li&gt;
&lt;li&gt;Re-formating data for ggplot version of graphs, realized I should be specifying id.vars to melt (&lt;a href=&quot;http://stackoverflow.com/questions/9122745/melt-and-append-data-using-reshape2-functions-in-r&quot;&gt;example from my Q on SO&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Great special feature on the data era in TREE ((which I mention despite it’s misfortune of being connected to Elsivier right now)) (Page, 2012), (Michener &amp;amp; Jones, 2012), (Porter &lt;em&gt;et. al.&lt;/em&gt; 2012), (Hochachka &lt;em&gt;et. al.&lt;/em&gt; 2012), (Parr &lt;em&gt;et. al.&lt;/em&gt; 2012), (Brewer &lt;em&gt;et. al.&lt;/em&gt; 2012).&lt;/li&gt;
&lt;li&gt;Digital lab notebooks in Nature (again) (Giles, 2012).&lt;/li&gt;
&lt;li&gt;Nice ecosphere paper on warning signals Bestelmeyer &lt;em&gt;et. al.&lt;/em&gt; 2011&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Four conclusions, not surprising perhaps but nice message:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;em&gt;The utility of leading indicators is often limited and can depend on the abruptness,&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;information on spatiotemporal context is useful  &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;and ancillary information from associated experiments and observations aids interpretation &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;underscores the utility of long-term observations&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Applying 5 approaches to each candidate set of data for transitions&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;“visualizing patterns” i.e. loess smoothed curves&lt;/li&gt;
&lt;li&gt;Unimodality in frequency.&lt;/li&gt;
&lt;li&gt;breakpoints,&lt;/li&gt;
&lt;li&gt;rising variance&lt;/li&gt;
&lt;li&gt;“predictor-response”  i.e. regressions&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(2 and 5 are confounded by switching between two stable states that have equal stability/spring constants.   I think they’d do better to test for unimodality in time than in frequency when analyzing across break-points.)  Notably the &lt;a href=&quot;http://esapubs.org/archive/ecos/C002/011/suppl-1.htm&quot;&gt;code&lt;/a&gt; though not the data is posted on the Ecological archive.&lt;/p&gt;
&lt;p&gt;They find 3 data sets have true transitions with hysteresis, 1 which appears to simply linearly track a changing environment.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hehe, I get acknowledged in a PNAS astrophysics article (Spiegel &amp;amp; Turner, 2011)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://andrewgelman.com/2012/01/the-last-word-on-the-canadian-lynx-series/&quot;&gt;Simple mechanistic models outperforming big autoregressive moving average models&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Page R (2012). “Space, Time, Form: Viewing The Tree of Life.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.12.002&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.12.002&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Michener W and Jones M (2012). “Ecoinformatics: Supporting Ecology as A Data-Intensive Science.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.11.016&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.11.016&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Porter J, Hanson P and Lin C (2012). “Staying Afloat in The Sensor Data Deluge.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.11.009&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.11.009&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hochachka W, Fink D, Hutchinson R, Sheldon D, Wong W and Kelling S (2012). “Data-Intensive Science Applied to Broad-Scale Citizen Science.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.11.006&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.11.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parr C, Guralnick R, Cellinese N and Page R (2012). “Evolutionary Informatics: Unifying Knowledge About The Diversity of Life.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.11.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.11.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brewer S, Jackson S and Williams J (2012). “Paleoecoinformatics: Applying Geohistorical Data to Ecological Questions.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.09.009&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.09.009&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Giles J (2012). “Going Paperless: The Digital Lab.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;481&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/481430a&quot;&gt;http://dx.doi.org/10.1038/481430a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spiegel D and Turner E (2011). “Bayesian Analysis of The Astrobiological Implications of Life’S Early Emergence on Earth.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;109&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1111694108&quot;&gt;http://dx.doi.org/10.1073/pnas.1111694108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Analysis of Abrupt Transitions in Ecological Systems, Brandon T. Bestelmeyer, Aaron M. Ellison, William R. Fraser, Kristen B. Gorman, Sally J. Holbrook, Christine M. Laney, Mark D. Ohman, Debra P. C. Peters, Finn C. Pillsbury, Andrew Rassweiler, Russell J. Schmitt, Sapna Sharma, (2011) &lt;em&gt;Ecosphere&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/ES11-00216.1&quot;&gt;10.1890/ES11-00216.1&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Journey to freedom - a code's tale of open source license migration</title>
   <link href="/2012/01/31/journey-to-freedom-a-codes-tale-of-open-source-license-migration.html"/>
   <updated>2012-01-31T09:58:08-08:00</updated>
   <id>h/2012/01/31/journey-to-freedom-a-codes-tale-of-open-source-license-migration</id>
   <content type="html">&lt;p&gt;My software wants to be free. It wants to be seen and used and loved by as many people as possible. When first it heard of open source licenses, it set sail to join the company of great software in the promised land, but finding true freedom has been a tortured journey.&lt;/p&gt;
&lt;h3 id=&quot;in-the-clutches-of-the-gpl&quot;&gt;In the clutches of the GPL&lt;/h3&gt;
&lt;p&gt;Created and defended by the &lt;a href=&quot;http://www.fsf.org/&quot;&gt;Free Software Foundation&lt;/a&gt; and used by such venerable institutions as the Linux Kernel, the gcc compiler, and the R statistical environment, the &lt;a href=&quot;http://en.wikipedia.org/wiki/GNU_General_Public_License&quot;&gt;GNU’s General Public License&lt;/a&gt; seemed like a gold standard to call home. Many of my codes quickly migrated to this beacon of light, while others, already making use of other GPL licensed software, seemed compelled to follow by it’s viral share-alike clauses. But my code wasn’t free. It couldn’t play nicely with users from the pantheon of other open source licenses, upsetting free software developers and university tech transfer offices alike. It was scorned by open science advocates and repositories. And when it wanted to leave and migrate to a more free and permissive license, it felt trapped.&lt;/p&gt;
&lt;p&gt;By now the software was written as an R package (combining C source code and R functions), depended on several R packages, and even compiled against the &lt;a href=&quot;http://www.gnu.org/software/gsl/&quot;&gt;GSL C library&lt;/a&gt;, all GPL licensed software. Surely it was stuck?&lt;/p&gt;
&lt;p&gt;Only after close examination did the package realize that it could escape. It’s not a derivative work. It’s not distributing the other R packages or R itself. That software have to be installed separately – it is only &lt;strong&gt;dynamically linked&lt;/strong&gt; ((called at runtime, not compiled into the binary libraries of my package)) to my package. The case is less obvious for the dependency of the C library on the GSL code, since this must be compiled to run. If the C functions provided by the GSL are compiled statically, they are pulled from their source and crammed into the binary next to my own code – making a derivative work that doesn’t need the GSL libraries installed separately to run. Fortunately that is not the case, these functions are also dynamically linked, and my code is free to migrate.&lt;/p&gt;
&lt;h3 id=&quot;bsd-still-incompatible&quot;&gt;BSD: still incompatible?&lt;/h3&gt;
&lt;p&gt;Fleeing the convoluted and tortured shore of GPL, my code happily reached the land of &lt;a href=&quot;http://en.wikipedia.org/wiki/BSD_licenses&quot;&gt;BSD&lt;/a&gt;. In it’s forth iteration as FreeBSD, with only two simple clauses, it seemed anything was possible. The only thing it does require are that the license always be distributed with the source code or binaries of the software. This makes it difficult to apply to repositories that also archive data – facts about the world owned under anyone’s copyright – and other non-code material such as documentation that may be found in an R package or an academic data repository. For this reason, the Dryad repository objects to that little clause of redistributing the FreeBSD license, and insists on public domain declaration provided by the &lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0&quot;&gt;CC0&lt;/a&gt; license.&lt;/p&gt;
&lt;h3 id=&quot;cc0-free-at-last&quot;&gt;CC0, free at last?&lt;/h3&gt;
&lt;p&gt;Ah, so we arrive at the public domain, or as &lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0/legalcode.txt&quot;&gt;close as I can legally get&lt;/a&gt;. While this seems to be the ultimate freedom my code has long sought, it finds itself rather lonely on these foreign shores. The Open Source Initiative doesn’t yet recognize it, which means it doesn’t meet the “open source license” requirements of academic journals like &lt;a href=&quot;http://www.ploscompbiol.org/static/guidelines.action&quot;&gt;PLoS Computational Biology&lt;/a&gt; or academic conferences like &lt;a href=&quot;http://www.open-bio.org/wiki/BOSC_2012&quot;&gt;Bioinformatics Open Source Conference&lt;/a&gt; or iEvoBio. It has not yet been used for R packages on the CRAN repository (see below), and would require using R’s custom license file mechanism rather than a simple LICENSE: CC0 line in the package meta-data. It does get a mention for being GPL compatible by the FSF ((i.e. you can redistribute it under the GPL)), but the license that isn’t a license needs more support. Following their guidelines, I’ve written the Open Software Initiative hoping it will gain that recognition.&lt;/p&gt;
&lt;h2 id=&quot;will-osi-adopt-cc0&quot;&gt;Will OSI adopt CC0?&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;Hello,&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would like to submit the Creative Commons zero license for consideration.  I am new to this list, forgive me if it has already been considered. I understand that this license &lt;a href=&quot;http://www.gnu.org/licenses/license-list.html#CC0&quot;&gt;has been considered&lt;/a&gt; GPL compatible by the FSF with this &lt;a href=&quot;http://wiki.creativecommons.org/CC0_FAQ#May_I_apply_CC0_to_computer_software.3F_If_so.2C_is_there_a_recommended_implementation.3F&quot;&gt;recommended format&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Submission type: Approval License Name: Creative Commons Zero, CC0 Category: Licenses that are popular and widely used or with strong communities The &lt;a href=&quot;http://creativecommons.org/publicdomain/zero/1.0/legalcode.txt&quot;&gt;legal code as plain text&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The scientific community is increasingly embracing this option as the most open and compatible license.  It is required by scientific data repositories (that also archive scientific software, with cite-able DOIs) such as &lt;a href=&quot;http://datadryad.org/depositing#whycc0&quot;&gt;Dryad&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I feel it is important that this license achieve recognition by the Open Source initiative, as certain scientific journals &amp;amp; conferences permit only OSI recognized licenses, (e.g. PLoS Computational Biology &lt;a href=&quot;http://www.ploscompbiol.org/static/guidelines.action&quot;&gt;requirements&lt;/a&gt; or Bioinformatics open source conference &lt;a href=&quot;http://www.open-bio.org/wiki/BOSC_2012&quot;&gt;requirements&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;licensing-in-r&quot;&gt;Licensing in R&lt;/h2&gt;
&lt;p&gt;R uses a simple but powerful license format in the DESCRIPTION files of all packages, which contain the essential meta-data for the package. Common FOSS licenses are recognized automatically (including version numbers or version inequalities). Since CC0 doesn’t (yet) make this list, we can use a custom license file where we provide the full plaintext CC0 license in the file LICENSE and write “file LICENSE” in the DESCRIPTION (&lt;a href=&quot;https://github.com/cboettig/fluctuationDomains&quot;&gt;my example&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;We can also see the frequency with which various licenses are used on the R repository, CRAN, with a few lines of code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
p =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;available.packages&lt;/span&gt;(contrib.
&lt;span class=&quot;kw&quot;&gt;url&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://cran.r-project.org&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;type =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;source&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(p[, &lt;span class=&quot;st&quot;&gt;&amp;quot;License&amp;quot;&lt;/span&gt;]))&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2012/01/30/monday-15.html"/>
   <updated>2012-01-30T11:38:23-08:00</updated>
   <id>h/2012/01/30/monday-15</id>
   <content type="html">&lt;h3 id=&quot;pdg-control-aside-exercise&quot;&gt;pdg-control, aside exercise&lt;/h3&gt;
&lt;p&gt;Lab group commented that optimum in Reed model looks unrealistic due to frequency with which it shuts down all fishing. This is an artifact of not having extraction costs increase sufficiently for small catch, and can be easily fixed by increasing that cost (c in the profit eq, profits-costs = p*x-c/x)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7005/6792670573_409e256ce5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/4ac8c2c13f16898f3d9dd82fcf6a424e406e3e2f/demo/Reed.R&quot;&gt;view sourcecode, Reed.R&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;nimbios-short-visitor-application&quot;&gt;NIMBioS short visitor application&lt;/h3&gt;
&lt;p&gt;Have been thinking that it would be really useful to have some extra time at Nimbios to meet with folks at the time of our next working group meeting (March 12-15).  I’ve &lt;a href=&quot;http://www.carlboettiger.info/share/NIMBioSShortVisitApplication.pdf&quot;&gt;applied&lt;/a&gt; for short-term visitor support to come out a week early.&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h3 id=&quot;a-little-exercise&quot;&gt;A little exercise&lt;/h3&gt;
&lt;p&gt;Nick posed this question to me about dealing with exponents of large numbers numerically. Apparently he needs to calculate&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\log( e^{a_1 + K} + e^{a_2 + K} + ... )&quot; alt=&quot;\log( e^{a_1 + K} + e^{a_2 + K} + ... )&quot; /&gt;&lt;/div&gt;&lt;/span&gt; for some very large values of $ K $ and $ a$. R cannot compute this for exponents greater than 307 using the default double precision. First, the K is no problem, just factor it out:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\log( \exp(a_1)\exp(K) + \exp(a_2) \exp(K) + ... )&quot; alt=&quot;\log( \exp(a_1)\exp(K) + \exp(a_2) \exp(K) + ... )&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\log( \exp(K) * ( \exp(a_1) + \exp(a_2) + ... ))&quot; alt=&quot;\log( \exp(K) * ( \exp(a_1) + \exp(a_2) + ... ))&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K + \log( (exp(a_1) + exp(a_2) + ... ))&quot; alt=&quot;K + \log( (exp(a_1) + exp(a_2) + ... ))&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now just &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a_1, a_2, a_3\inline&quot;/&gt;&lt;/span&gt; etc are the problem. Let’s say the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a_i\inline&quot;/&gt;&lt;/span&gt; are in the vector &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a\inline&quot;/&gt;&lt;/span&gt;. Then we just rescale by choosing some &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c\inline&quot;/&gt;&lt;/span&gt; such that we can take the exponents of something smaller:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
if ( &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(a)) &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(a) )
  c &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;min&lt;/span&gt;(a)
else
  c &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(a)
ans &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;exp&lt;/span&gt;(a-c))) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;c&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;HT &lt;a href=&quot;http://jblevins.org/log/log-sum-exp&quot;&gt;Prof, J. Blevins&lt;/a&gt;, but not perfect of course, some numbers will still be too large if a covers a range of large magnitude and small magnitude values.&lt;/p&gt;
&lt;h4 id=&quot;reformatting-the-css-for-kcite-and-twitter&quot;&gt;Reformatting the css for kcite and twitter&lt;/h4&gt;
&lt;p&gt;Several modifications to my theme. Ought to be added to my child theme to keep updates working, but may be non-trivial to make sure the modifications appear in the correct places as the theme changes, so a few notes are probably more practical.&lt;/p&gt;
&lt;pre class=&quot;sourceCode css&quot;&gt;&lt;code class=&quot;sourceCode css&quot;&gt;
&lt;span class=&quot;co&quot;&gt;/* KCite formatting */&lt;/span&gt;
div&lt;span class=&quot;fl&quot;&gt;.kcite-bibliography&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;padding:&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;10px&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;;}&lt;/span&gt;
div&lt;span class=&quot;fl&quot;&gt;.csl-entry&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;padding:&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;10px&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;;}&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;/* jetpack twitter widget formatting */&lt;/span&gt;
ul&lt;span class=&quot;fl&quot;&gt;.tweets&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;{padding:&lt;/span&gt;&lt;span class=&quot;dt&quot;&gt;5px&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Quite frustrating to update these because I didn’t realize &lt;a href=&quot;http://webmasters.stackexchange.com/questions/25259/clearing-cache-with-cloudflare&quot;&gt;cloudflare caches my css&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&quot;other-theme-file-changes&quot;&gt;Other theme file changes&lt;/h4&gt;
&lt;p&gt;Add stat counter and post-revision display to sidebar in single.php, after “Comments” link:&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;cat-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;?php&lt;/span&gt; if(function_exists(&amp;#39;the_views&amp;#39;)) { the_views(); } &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;

          &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;cat-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;?php&lt;/span&gt; the_revision_note_prd() &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;cat-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;?php&lt;/span&gt; the_revision_list_prd() &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;
          &lt;span class=&quot;kw&quot;&gt;&amp;lt;span&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; class=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;cat-links&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&amp;lt;?php&lt;/span&gt; the_revision_diffs_prd() &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&amp;lt;/span&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control Training Problem II update</title>
   <link href="/2012/01/24/pdg-control-training-problem-ii-update.html"/>
   <updated>2012-01-24T08:55:18-08:00</updated>
   <id>h/2012/01/24/pdg-control-training-problem-ii-update</id>
   <content type="html">&lt;p&gt;Basically we’ve done some simple stuff and now would be a good time to think about tools for some heavy-lifting computational challenges standing in the way.  Michael &amp;amp; Jim have been a great help on this, and Jake has also helped with theoretical underpinnings.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Statement of problem&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We consider the impact of uncertainty in the harvesting of fisheries which involve alternative stable state dynamics.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Current Findings&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Adding uncertainty in current state means optimal escapement isn’t the optimal solution (contrary to Reed model) (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We are considering uncertainty/variability entering at three levels: population dynamics (next yr’s stock, Reed case), stock assessment (this yr’s stock), and implementation of quotas, in the context of alternative stable states.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When the parameterization of these uncertainties is correctly known, the optimal solution surprisingly doesn’t face many more sudden crashes than the unharvested dynamics.  (Casino “paradox” – income generated by a casino is highly predictable since the rules of uncertainty are well known).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Errors in the parameterization of the uncertainty or the biological parameters can have dramatic effects in the allee threshold model&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Questions for further study&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Is the optimal strategy risk adverse?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can we add parameter uncertainty / Bayesian learning about parameters?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;In particular, can we implement the case in which stock is not assessed directly but estimated from harvest and knowledge of harvest effort, under parameters we learn about?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Technical capacity and challenges&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We’ve developed an&lt;a href=&quot;https://github.com/cboettig/pdg_control&quot;&gt;R package&lt;/a&gt; for stochastic dynamic programming that allows a user to quickly experiment with different levels &amp;amp; types of uncertainty on different biological and economic models from a library of options and create visualizations of the solutions over an ensemble of realizations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Curse of dimensionality is a major challenge to go beyond the 1D training problem into the 3D parrotfish model or the learning model.  We investigated Heuristic Sampling Nicol &amp;amp; Chadès, 2011 as a possible solution but this far this seems to scale rather poorly with the  size of the control space.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Beyond Stochastic Dynamic Programming: A Heuristic Sampling Method For Optimizing Conservation Decisions in Very Large State Spaces, Sam Nicol, Iadine Chadès, (2011) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2010.00069.x&quot;&gt;10.1111/j.2041-210X.2010.00069.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2012/01/24/tuesday-11.html"/>
   <updated>2012-01-24T07:04:41-08:00</updated>
   <id>h/2012/01/24/tuesday-11</id>
   <content type="html">&lt;h4 id=&quot;resilience-seminar&quot;&gt;Resilience seminar&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;the unhelpful resilience of invaded systems (ecosystem engineers anyone?  Cheatgrass change the fire regime, salt-cedar )  Examples in cheatgrass invading sagebrush, and saltcedar invading cottonwoods.&lt;/li&gt;
&lt;li&gt;Variables on axes?  Problem of dimensionality? resilient to what?&lt;/li&gt;
&lt;li&gt;Carpenter’s rigidity trap (need to eliminate something) vs poverty trap (something is missing)&lt;/li&gt;
&lt;li&gt;promote a small disturbance to reset the system  – when are small disturbances stabilizing?  (escape the rachet?)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Summary for Training Problem II&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Figures for Alan paper.  (what to do with distributions)&lt;/li&gt;
&lt;li&gt;Updating code to provide full replicate simulations, and properly handle parameter distributions.&lt;/li&gt;
&lt;li&gt;rewriting warningsignals package for better S3 abstraction&lt;/li&gt;
&lt;li&gt;ROC curves as separate section to compare between results.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday (lab group meeting notes)</title>
   <link href="/2012/01/20/friday-lab-group-meeting-notes.html"/>
   <updated>2012-01-20T09:09:09-08:00</updated>
   <id>h/2012/01/20/friday-lab-group-meeting-notes</id>
   <content type="html">&lt;p&gt;Theme inspired by Jane Lubchenco’s talk last week: how do we connect science to management?  We’re breaking down this topic, with individual leaders for each week, as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1/27: Carl: optimal vs. actionable management recommendations&lt;/li&gt;
&lt;li&gt;2/3: Jaime/Noam(?): monitoring for management&lt;/li&gt;
&lt;li&gt;2/10: Allison: informing management vs. advocacy&lt;/li&gt;
&lt;li&gt;2/17: Lewis: what types of research are must useful to management&lt;/li&gt;
&lt;li&gt;2/24: Noam/Jaime: communicating uncertainty&lt;/li&gt;
&lt;li&gt;3/2: Marissa: funding sources for applied research, building collaborations outside academia, and service opportunities ((this is one of the days of the PFMC meeting in Sacramento, which would be rather relevant to our theme, so we might push this topic to next quarter))&lt;/li&gt;
&lt;li&gt;3/9: Emil: obstacles to implementing scientific advise&lt;/li&gt;
&lt;li&gt;3/16: Scott: the quality of science along the basic-applied spectrum (perceptions and reality)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also shared some coding tricks and ways to share them.  Not sure what a good solution is for our small but diverse group, but trying our github organization, &lt;a href=&quot;https://github.com/tbp-code/General-Repository&quot;&gt;tpb-code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Otherwise notes for today: writing writing writing…&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Is your phylogeny informative?</title>
   <link href="/2012/01/19/is-your-phylogeny-informative.html"/>
   <updated>2012-01-19T06:10:49-08:00</updated>
   <id>h/2012/01/19/is-your-phylogeny-informative</id>
   <content type="html">&lt;p&gt;Yesterday my paper (Boettiger &lt;em&gt;et. al.&lt;/em&gt; 2012)  appeared in early view in Evolution (&lt;a href=&quot;http://www.mendeley.com/download/public/98752/4485545655/9a209c7dd29980fd2e47c06eb8b2d1d7dd6f70d4/dl.pdf&quot;&gt;author’s preprint&lt;/a&gt;),As the open access copy doesn’t appear on pubmed for a while, you can access my author’s copy &lt;a href=&quot;http://www.mendeley.com/download/public/98752/4485545655/9a209c7dd29980fd2e47c06eb8b2d1d7dd6f70d4/dl.pdf&quot;&gt;here&lt;/a&gt;. so I’d like to take this chance to share the back-story and highlight my own view on some of our findings, and the associated &lt;a href=&quot;http://cran.r-project.org/web/packages/pmc/index.html&quot;&gt;package on CRAN&lt;/a&gt;.Just submitted, meanwhile, the code is always on &lt;a href=&quot;https://github.com/cboettig/pmc&quot;&gt;github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I didn’t set out to write this paper.  I set out to write a very different paper, introducing a new phylogenetic method for continuous traits that estimates changes in evolutionary constraint.  This adds _even more _parameters than already present in rich models multi-peak OU process, and I wanted to know if it could be justified – if there really was enough information to play the game we already had, before I went and made the situation even worse. Trying to find something rigorous enough to hang my hat on, I ended up writing this paper.&lt;/p&gt;
&lt;h3 id=&quot;the-short-of-it&quot;&gt;The short of it&lt;/h3&gt;
&lt;p&gt;There’s essentially three conclusions I draw from the paper.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;AIC is not a reliable way to select models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Certain parameters, such as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda\inline&quot;/&gt;&lt;/span&gt;, a measure of “phylogenetic signal,” (Pagel, 1999) are going to be really hard to estimate.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BUT as long as we &lt;em&gt;simulate extensively&lt;/em&gt; to test model choice and parameter uncertainty, we won’t be misled by either of these.  So it’s okay to drink the koolaid (Losos, 2011), but &lt;strong&gt;drink responsibly.&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;a-few-reflections&quot;&gt;A few reflections&lt;/h3&gt;
&lt;p&gt;I really have two problems with AIC and other information criteria when it comes to phylogenetic methods.  One is that it’s too easy to simulate data from one model, and have the information criteria choose a ridiculously over-parameterized model instead.  In one example, the wrong model has a &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Delta\inline&quot;/&gt;&lt;/span&gt;AIC of 10 points over the correct model.&lt;/p&gt;
&lt;p&gt;But a more basic problem is that it’s just not designed for hypothesis testing – it doesn’t care how much data you have, it doesn’t give a notion of significance.  If we’re ascribing biological meaning to different models as different hypotheses, we need want a measure of uncertainty.&lt;/p&gt;
&lt;p&gt;When estimating parameters that scale branch length, I think we must be cautious because these are really data-hungry, and don’t work well on small trees. Check out how few of these estimates of lambda on 100 replicate datasets hit near the correct value shown by vertical line:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7014/6727029515_bcfe58aedb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The package commands are explained in more detail in the &lt;strong&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/pmc/vignettes/pmc_tutorial.pdf&quot;&gt;package vignette&lt;/a&gt;&lt;/strong&gt;, but the idea is simple. Running the pmc comparison between two models (for the model-choice step) looks like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;bm_v_lambda &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pmc&lt;/span&gt;(geospiza.tree, geospiza.data[&lt;span class=&quot;st&quot;&gt;&amp;quot;wingL&amp;quot;&lt;/span&gt;],
  &lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;lambda&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;nboot=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Extracting the distribution of estimates for the parameter lambda got from fitting the lambda model (B) to data made by simulating under lambda model (A):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;lambdas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(bm_v_lambda[&lt;span class=&quot;st&quot;&gt;&amp;quot;par_dists&amp;quot;&lt;/span&gt;],
  comparison==&lt;span class=&quot;st&quot;&gt;&amp;quot;BB&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;parameter==&lt;span class=&quot;st&quot;&gt;&amp;quot;lambda&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To view the model comparison, just plot the pmc result:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(bm_v_lambda)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The substantial overlap in the likelihood ratios after simulating under either model indicate that we cannot choose between BM and lambda in this case.  I’ll leave the paper to explain this approach in more detail, but it’s just simulation and refitting.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7026/6727293465_4a2a545fdf_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;You could just bootstrap the likelihoods or for nested models, look at the parameter distributions, but you get the maximum &lt;em&gt;statistical power&lt;/em&gt; from the ratio (says Neyman-Pearson Lemma).&lt;/p&gt;
&lt;h3 id=&quot;a-technical-note-mix-and-match-formats&quot;&gt;A technical note: mix and match formats&lt;/h3&gt;
&lt;p&gt;Many users don’t like going between ouch format and ape/phylo formats. The pmc package doesn’t care what you use, feel free to mix and match. In case the conversion tools are useful, I’ve provided functions to move your data and trees back and forth between those formats too.  See &lt;em&gt;format&lt;/em&gt;data()_ to data-frames and &lt;em&gt;convert()&lt;/em&gt; to toggle between tree formats.&lt;/p&gt;
&lt;h2 id=&quot;reproducible-research&quot;&gt;Reproducible Research&lt;/h2&gt;
&lt;p&gt;The package is designed to make things easier.  It comes with a vignette (written in sweave) showing just what commands to run to replicate the results from the manuscript.&lt;/p&gt;
&lt;p&gt;This entire project has been documented in my open lab notebook from its &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/02/07&quot;&gt;inception&lt;/a&gt;. Posts prior to October 2010 can be found on my &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010&quot;&gt;OWW notebook&lt;/a&gt;, the rest in my current &lt;a href=&quot;http://www.carlboettiger.info/archives/category/phylogenetics&quot;&gt;phylogenetics notebook&lt;/a&gt; (here on wordpress). Of course this project is interwoven with many notes on related and more recent work.&lt;/p&gt;
&lt;h2 id=&quot;additional-methods-and-feedback&quot;&gt;Additional methods and feedback&lt;/h2&gt;
&lt;p&gt;As we discuss in the paper, simulation and randomization-based methods have an established history in this field(Freckleton &amp;amp; Harvey, 2006), (Harmon &lt;em&gt;et. al.&lt;/em&gt; 2010). These are promising things to do, and we should do them more often, but I might make a few comments on these approaches.&lt;/p&gt;
&lt;p&gt;We are not getting a real power test when we simulate data produced from different models whose parameters have been arbitrarily assigned, rather than estimated on the same data, lest we overestimate the power. Of course we need to have a likelihood function to be able to estimate those parameters, which is not always available.&lt;/p&gt;
&lt;p&gt;It is also common and very useful to assign some summary statistic whose value is expected to be very different under different models of evolution, and look at it’s distribution under simulation. This is certainly valid and has ties to cutting edge approaches in ABC methods, but will be less statistically powerful than if we can calculate the likelihoods of the models directly and compare those, as we do here.&lt;/p&gt;
&lt;p&gt;Boettiger, C., Coop, G., &amp;amp; Ralph, P. (2012). IS YOUR PHYLOGENY INFORMATIVE? MEASURING THE POWER OF COMPARATIVE METHODS Evolution DOI: &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2012.01574.x&quot;&gt;10.1111/j.1558-5646.2012.01574.x&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Boettiger C, Coop G and Ralph P (2012). “is Your Phylogeny Informative? Measuring The Power of Comparative Methods.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2012.01574.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2012.01574.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pagel M (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;b&gt;401&lt;/b&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/44766&quot;&gt;http://dx.doi.org/10.1038/44766&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Losos J (2011). “Seeing The Forest For The Trees: The Limitations of Phylogenies in Comparative Biology.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;b&gt;177&lt;/b&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/660020&quot;&gt;http://dx.doi.org/10.1086/660020&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Freckleton R and Harvey P (2006). “Detecting Non-Brownian Trait Evolution in Adaptive Radiations.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;b&gt;4&lt;/b&gt;. ISSN 1544-9173, &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.0040373&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.0040373&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harmon L, Losos J, Jonathan Davies T, Gillespie R, Gittleman J, Bryan Jennings W, Kozak K, McPeek M, Moreno-Roark F, Near T, Purvis A, Ricklefs R, Schluter D, Schulte II J, Seehausen O, Sidlauskas B, Torres-Carvajal O, Weir J and Mooers A (2010). “Early Bursts of Body Size And Shape Evolution Are Rare in Comparative Data.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday -- meetings</title>
   <link href="/2012/01/18/wednesday-meetings.html"/>
   <updated>2012-01-18T15:22:49-08:00</updated>
   <id>h/2012/01/18/wednesday-meetings</id>
   <content type="html">&lt;h3 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h3&gt;
&lt;p&gt;write write write&lt;/p&gt;
&lt;h3 id=&quot;duncan-meeting&quot;&gt;Duncan Meeting&lt;/h3&gt;
&lt;h4 id=&quot;troubleshooting-s3-and-s4&quot;&gt;Troubleshooting S3 and S4&lt;/h4&gt;
&lt;p&gt;Try adding methods? Changing order on NAMESPACE?&lt;/p&gt;
&lt;p&gt;Leaving ouch off the import list: no errors, but within functions, don’t get S4 method. import but don’t depend on ouch: error.  accurate, since simulate is left as an s3 function at the user level.&lt;/p&gt;
&lt;p&gt;What a headache.  See &lt;a href=&quot;http://stackoverflow.com/questions/8884607/r-using-s3-and-s4-methods-of-simulate-in-the-same-package&quot;&gt;stackQ&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&quot;manuscript&quot;&gt;manuscript&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.google.com/document/d/1nJ4rfZAsQkTDvFdopt_yiOfXR5_mcOKBPOTU6kHMc44/edit?hl=en_US&quot;&gt;Duncan’s feedback&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;meredith-meeting&quot;&gt;Meredith Meeting&lt;/h3&gt;
&lt;p&gt;Run a science policy workshop with Davis open science group?&lt;/p&gt;
&lt;h3 id=&quot;peter-meeting&quot;&gt;Peter Meeting&lt;/h3&gt;
&lt;p&gt;Detecting release of constraint through phylogenetic methods&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Figure 1: cartoon of the difference between the release of constraint and the brownie model.&lt;/li&gt;
&lt;li&gt;Figure 2: Traits (Peter)&lt;/li&gt;
&lt;li&gt;Figure 3: regimes phylogeny&lt;/li&gt;
&lt;li&gt;Figure 4: Flow diagram of the model choice process&lt;/li&gt;
&lt;li&gt;Figure 5: Figure Model choice, &amp;lt;– must be intuitive!&lt;/li&gt;
&lt;li&gt;Figure 6: panel Figure for parameters.  &amp;lt;- barplot&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;and-back-to-work&quot;&gt;And back to Work…&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;pmc fixed, maybe?  Vignette needs expanded explanations and simpler syntax, plus figure fixed.&lt;/li&gt;
&lt;li&gt;Evolution post?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Are open lab notebooks considered prior publication?</title>
   <link href="/2012/01/16/are-open-lab-notebooks-considered-prior-publication.html"/>
   <updated>2012-01-16T02:47:17-08:00</updated>
   <id>h/2012/01/16/are-open-lab-notebooks-considered-prior-publication</id>
   <content type="html">&lt;p&gt;This question invariably comes up at some point in any discussion of open notebook science.  This concern is usually voiced in reference to the high-visibility magazines, which many scientists seem to assume will have very restrictive conditions.  A quick read of their policies shows otherwise.  Here are the links to pre-publication policies of major journals, with my short summaries &amp;amp; comments.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.nature.com/authors/policies/confidentiality.html&quot;&gt;Nature&lt;/a&gt; - Go right ahead. Explicit protection clause for open/collaborative blogs/wikis.  Just don’t talk to the press – guess that could include tweeting.  Also &lt;em&gt;Nature&lt;/em&gt; would like to see those links when you submit.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pnas.org/content/96/8/4215.full&quot;&gt;PNAS&lt;/a&gt; - Nope, not prior publication here either. In fact, PNAS has one of the most liberal stances on prepublication which is well worth reading.  Even summaries of the work in the media encouraged – they only remind authors not to forget to publish!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sciencemag.org/site/feature/contribinfo/faq/index.xhtml#prioronline_faq&quot;&gt;Science&lt;/a&gt; - The policy listed there sounds more conservative (phrases like “most cases” and “contact the editors” don’t inspire confidence).  Luckily, actually contacting the editors does: Deputy editor Brooks Hanson writes to me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We allow posting on not-for-profit pre-print archives, so posting on &lt;a href=&quot;http://arxiv.org/&quot;&gt;arxiv.org&lt;/a&gt; is fine at any time.  we ask that if you post before acceptance that you do not indicate that the paper is submitted to Science.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As to lab notebooks, it would probably depend on what was in the “notebook” but if it were just notes or thoughts, it would probably not be a great concern.&lt;/p&gt;
&lt;h2 id=&quot;approximating-policies&quot;&gt;Approximating policies?&lt;/h2&gt;
&lt;p&gt;Many discipline-specific journals don’t state their policy on this as clearly in their advise to authors.  Of course writing to the editors is the best way to get clarification, but I think their are reasonable proxies to guess what’s okay and what’s not.&lt;/p&gt;
&lt;p&gt;Posting on preprint servers in advance of submission is probably a greater threat to the journal’s exclusive control of the content than the less-digestible and less accessible (decentralized) posting of an open notebook, and as it’s a more widespread practice it may be a good signal to look for.  F1000 also &lt;a href=&quot;http://posters.f1000.com/journalresponses&quot;&gt;compiled a list&lt;/a&gt; of journals that would consider archiving a poster as prepublication, which could be used as another proxy – if they are okay with posters, notebooks are probably in the clear. The &lt;a href=&quot;http://www.sherpa.ac.uk/romeo/issn/0036-8075/&quot;&gt;Sherpa/Romeo&lt;/a&gt; project provides links to the pre-publication policies of many journals.  Its database also identifies which journals allow what level of public archiving.  Search for your favorite journals there.  To the extent that “Yellow” refers “at the time of submission,” rather than post-publication, one might assume that publisher wouldn’t much object to an open notebook.  Of course, I’d love clarification.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;RoMEO Colour&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Archiving policy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sherpa.ac.uk/romeo/browse.php?colour=green&amp;amp;la=en&amp;amp;fIDnum=%7C&amp;amp;mode=simple&quot;&gt;Green&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Can archive pre-print &lt;em&gt;and&lt;/em&gt; post-print or publisher’s version/PDF&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sherpa.ac.uk/romeo/browse.php?colour=blue&amp;amp;la=en&amp;amp;fIDnum=%7C&amp;amp;mode=simple&quot;&gt;Blue&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Can archive post-print (ie final draft post-refereeing) or publisher’s version/PDF&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sherpa.ac.uk/romeo/browse.php?colour=yellow&amp;amp;la=en&amp;amp;fIDnum=%7C&amp;amp;mode=simple&quot;&gt;Yellow&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Can archive pre-print (ie pre-refereeing)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sherpa.ac.uk/romeo/browse.php?colour=white&amp;amp;la=en&amp;amp;fIDnum=%7C&amp;amp;mode=simple&quot;&gt;White&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Archiving not formally supported&lt;/p&gt;
&lt;p&gt;For instance, looks like the Royal Society journals are okay too. They receive a Green status, &lt;a href=&quot;http://rsif.royalsocietypublishing.org/site/misc/preparing-articles.xhtml#question7&quot;&gt;permits&lt;/a&gt; pre-review author’s copy on preprint servers.  Published copy uses Creative Commons Attribution (cc-by) &lt;a href=&quot;http://royalsocietypublishing.org/site/authors/licence.xhtml&quot;&gt;licensing&lt;/a&gt;. Their duplicate publishing &lt;a href=&quot;http://royalsocietypublishing.org/site/authors/policy.xhtml&quot;&gt;statement&lt;/a&gt; makes no reference to archives, only other publishers.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Forage Fish course plan</title>
   <link href="/2012/01/12/forage-fish.html"/>
   <updated>2012-01-12T05:49:29-08:00</updated>
   <id>h/2012/01/12/forage-fish</id>
   <content type="html">&lt;p&gt;Forage fish winter quarter session starts, attempting to write the synthesis manuscript based on Fall quarter. Broke into groups to write sub-sections (2-4pgs) by 15 Feb.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;wk 3 FF Pop Dyn &lt;em&gt;Carl* &amp;amp; Allison&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 4 FF Fisheries: &lt;em&gt;Patrick*, Jay, Carl&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 5 Mammals &amp;amp; birds: Angee,* Jamie&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 6 Predator fisheries:_ Jamie,&lt;em&gt;  Kailin,&lt;/em&gt;  Angee_&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 7 Fishmeal/oil: &lt;em&gt;Jay* &amp;amp; Patrick&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 8 human consumption/pet food: _ Allison* &amp;amp; David_&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wk 9 non-consumptive: &lt;em&gt;David* &amp;amp; Kailin&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;implies primary responsibility for a topic&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Each section addresses:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;What information is needed to answer the delta&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What’s in literature&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What’s not&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;getting-started&quot;&gt;Getting started&lt;/h4&gt;
&lt;p&gt;Collaborative doc for &lt;a href=&quot;https://docs.google.com/document/d/1O5Bwo2nVkQ6QTc6NL1AsvJ8IAPhPL8WKMFDTTq4EBIM/edit?hl=en_US&quot;&gt;Forage Fish - Population dynamics.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;remember dropbox for papers and ppresentations from fall.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Resilience seminar course plan</title>
   <link href="/2012/01/10/resilience-seminar-course-plan.html"/>
   <updated>2012-01-10T07:17:42-08:00</updated>
   <id>h/2012/01/10/resilience-seminar-course-plan</id>
   <content type="html">&lt;p&gt;Resilience Monte Carlo Seminar, 11am Tuesdays. Val Eviner.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Jan 17 Resilience of coral reefs/mangrove systems, Alexander Gaos&lt;/li&gt;
&lt;li&gt;Jan 24 Resilience of degraded vs. intact systems, Erica Case and Alex Webster&lt;/li&gt;
&lt;li&gt;Jan 31 Novel ecosystems, Ania Truszczynski and Mark Noyes&lt;/li&gt;
&lt;li&gt;Feb 7 Landscape configuration, Julia Moore&lt;/li&gt;
&lt;li&gt;Feb 14 Assisted Migration, Anna O’Brien&lt;/li&gt;
&lt;li&gt;Feb 21 Designing and managing for resilience, Sarah McCullough and Caroline Wright&lt;/li&gt;
&lt;li&gt;Feb 28 Thresholds/ uncertainty, Matt Meisner and Carl Boettiger&lt;/li&gt;
&lt;li&gt;March 6 Managing for evolutionary potential, Jaime Ashander&lt;/li&gt;
&lt;li&gt;March 13 ? Soils?, ?Archana Srinivas?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday - Sweave workflow</title>
   <link href="/2012/01/09/monday-13.html"/>
   <updated>2012-01-09T14:09:03-08:00</updated>
   <id>h/2012/01/09/monday-13</id>
   <content type="html">&lt;h3 id=&quot;bibtex-mendeley-sweave&quot;&gt;Bibtex, Mendeley &amp;amp; Sweave&lt;/h3&gt;
&lt;p&gt;Mendeley’s repeated entries in the bibfile is particularly annoying with my sweave workflow, as it throws an error from bibtex command that Make doesn’t want to ignore.&lt;/p&gt;
&lt;p&gt;Also, in writing the documentation I’d like to point the .Rnw file to my global library’s bibtex document, but then this means having the .Rnw/tex file generated to by the package pointing to a file that’s outside the package.&lt;/p&gt;
&lt;p&gt;To get around both of these issues, I’ve started using bibtool. Bibtool can generate a smaller bibfile of only the included citations, and remove the duplicates, which I can use in the package.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
bibtool -s -d -x paper.aux global.bib &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; paper.bib&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;tex generates the aux file. bibtools generates a local bib file from the citations listed in the .aux using my global bib file, then bibtex can run on the aux and format these citations, which are inserted by re-running tex as usual. Note that this could combine different bibs instead of using a global.bib.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The ubuntu version of bibtool (2.48 alpha) doesn’t handle large bibfiles well, the current version 2.53 seems to do fine. Inspiration for this from &lt;a href=&quot;http://tex.stackexchange.com/questions/1380/how-to-avoid-bibtex-error-message-repeated-entry-for-an-entry-appearing-in-sev&quot;&gt;tex Q&amp;amp;A&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Minor annoyance: R’s pdflatex compile prints non-breaking spaces as tildes (&lt;a href=&quot;http://tex.stackexchange.com/questions/40569/avoid-non-breaking-space-characters-printing-as-tildes-when-using-texi2dvi-in-r&quot;&gt;Q&amp;amp;A query&lt;/a&gt;). Currently calling native pdflatex from makefile.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R CMD check now gives a warning if data isn’t compressed.  Running R CMD build –resave-data will compress all files optimally, but then need to extract that tarball and copy the compressed data files into the development dirctory.  Would be &lt;a href=&quot;https://github.com/hadley/devtools/issues/40&quot;&gt;nice&lt;/a&gt; if devtools handled this?  &lt;strong&gt;Update&lt;/strong&gt;the function I wanted is[code]tools:resaveRdaFiles ```&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Many packages use print() to communicate with the user for progress, warnings, etc.  These should use message() and warning() so these can be suppressed when appropriate.  Working around this is hard, instead of suppressMessages, one can wrap the call as (ht Simon, &lt;a href=&quot;http://stackoverflow.com/questions/8797314/suppress-messages-displayed-by-print-instead-of-message-or-warning-in-r/8797387&quot;&gt;stackoverflow&lt;/a&gt;):&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;. ```R invisible(capture.output(&lt;/p&gt;
&lt;p&gt;out &amp;lt;- some_noisy_function()&lt;/p&gt;
&lt;p&gt;)) ```&lt;/p&gt;
&lt;h3 id=&quot;updated-approach-to-vignettes-with-sweaveknitr&quot;&gt;Updated approach to vignettes with Sweave/knitr&lt;/h3&gt;
&lt;p&gt;The easiest way to make vignettes in knitr is a bit of a hack.  Create a subdirectory in the inst/doc (or vignettes) directory, and add the knitr .Rnw document there.  Use knitr to generate .Rnw (which is essentially just a tex document by then) in inst/doc.  I do this with a Makefile in that directory, which I run manually ahead of time.  The makefile also compiles the local bibliography from the global one.&lt;/p&gt;
&lt;p&gt;[gist id=1591001]&lt;/p&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h2&gt;
&lt;p&gt;Started runs on body-size data from Sam for different phylogenies.&lt;/p&gt;
&lt;h2 id=&quot;treebase&quot;&gt;TreeBASE&lt;/h2&gt;
&lt;p&gt;added TreePar example&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

yule_4rate &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd.shifts.optim&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;sampling =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;grid =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;start =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;end =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;60&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;ME =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;,
&lt;span class=&quot;dt&quot;&gt;yule =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)

aic &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(yule_4rate[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]], function(x) &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *

(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(x) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; *&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] )
&lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(aic)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and flushed out text. Sending to Peter and Duncan for a read over.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Optimal policy with assymetric costs to changing harvest quotas</title>
   <link href="/2012/01/06/optimal-policy-with-assymetric-costs-to-changing-harvest-quotas.html"/>
   <updated>2012-01-06T05:52:22-08:00</updated>
   <id>h/2012/01/06/optimal-policy-with-assymetric-costs-to-changing-harvest-quotas</id>
   <content type="html">&lt;p&gt;The optimal policy with symmetric L1 costs to changing the quotas results in the solutions that stop changing, sometimes at no harvest (if there’s scrap value), or at some fixed high harvest if no scrap value. (See earlier &lt;a href=&quot;http://www.carlboettiger.info/archives/3492&quot;&gt;notes&lt;/a&gt;). Asymmetric costs of comparable magnitude result in more crashes.&lt;/p&gt;
&lt;p&gt;When we apply an L1 norm cost of the same magnitude as before for decreasing quotas, but allow increasing quotas to be free (no cost to environmental lobby), the solution follows the Reed optimum is in purple (harvest_alt) (cost-free adjustment), while the blue is the harvest level being implemented with a cost:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7141/6649003123_6798886656_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This is for a single replicate, but we can verify this holds across an ensemble of 100 runs:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7024/6649003241_59870df8e2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This is the same as the symmetric case when cost is relatively small. Since this case has the same cost to decrease quotas but no cost to increase quotas, it is overall a less expensive world in which to do business.&lt;/p&gt;
&lt;h3 id=&quot;asymmetric-policy-costs-lead-to-more-population-crashes&quot;&gt;Asymmetric Policy costs lead to more population crashes&lt;/h3&gt;
&lt;p&gt;Just tried this and we do indeed see policies that deviate from the Reed optimum (harvest_alt), with the blue harvest line changing far less often, but decreasing by amounts that seem about the same as the increases.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7152/6649121277_e1a0b8cb61_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The ensemble shows the tossing in the towel result of the symmetric case, where several of the replicates cease any changes at all and just send the population to 0 after a certain point.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7148/6649121371_245e58870a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This is indeed worse than the optimum solution with symmetric costs at a matching penalty, where the solution is not to harvest&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7147/6649161593_4201893d64_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;In these cases there is a fixed reward / scrap value for not crashing the population.&lt;/p&gt;
&lt;h2 id=&quot;no-scrap-value&quot;&gt;No scrap value&lt;/h2&gt;
&lt;p&gt;Symmetric costs with no scrap value result in this “tossing in the towel” pattern of following the Reed policy for a while, and then leaving a constant harvest high rate that crashes the stock.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6472332667_f75a3ccda6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Running the asymmetric costs with no scrap value, we find everything crashes immediately:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7166/6649145241_7cf02e839d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Replicating this with costs 1/10th as high does this more gradually.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6649233637_33fdb45a53_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>wrightscape examples</title>
   <link href="/2012/01/04/wrightscape-examples.html"/>
   <updated>2012-01-04T04:48:29-08:00</updated>
   <id>h/2012/01/04/wrightscape-examples</id>
   <content type="html">&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2012-01-03 7:00:37” max_upload_date=“2012-01-03 22:23:37”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;kt and open seem the best focal traits. Unclear what good null traits to use would be.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unclear if anything is gained by indep thetas in this example.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Performance of alpha v theta?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Edited plotting of likelihood comparisons, just grouped by trait to get common axis. (Difficult to get intelligent zooming on facet_grid to ignore the outliers). Trying such as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
lims &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;cast&lt;/span&gt;(dat, comparison ~&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;trait, function(x) &lt;span class=&quot;kw&quot;&gt;quantile&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(.&lt;span class=&quot;dv&quot;&gt;05&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;95&lt;/span&gt;)))
&lt;span class=&quot;kw&quot;&gt;coord_cartesian&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ylim=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;min&lt;/span&gt;(lims), &lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(lims)), &lt;span class=&quot;dt&quot;&gt;wise=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but I need different ylims for each row when facet_grid has scales=“free_y”.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2012-01-04 7:00:37” max_upload_date=“2012-01-04 13:23:37”]&lt;/p&gt;
&lt;p&gt;Running likelihood ratio comparisons across all traits in following model comparisons:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Brownie vs alphas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brownie vs thetas (ouch/hansen)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;thetas vs alphas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sigmas vs alpha-thetas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;alphas vs alpha-thetas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;thetas vs alpha-thetas&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;on both two-shifts regime model and the intramandibular regime model.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2012-01-06 7:30:37” max_upload_date=“2012-01-06 14:35:00”]&lt;/p&gt;
&lt;h2 id=&quot;new-model-comparisons&quot;&gt;New model comparisons&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;BM vs Brownie&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BM vs OU&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brownie vs alphas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brownie vs thetas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OU vs Brownie&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;thetas vs alphas&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;labrid-data-intramandibular-innovation-summary-plot&quot;&gt;Labrid data, intramandibular innovation (Summary Plot)&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7004/6649525841_1885da3766_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Individual images:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2012-01-06 14:35:00” max_upload_date=“2012-01-06 16:00:37”]&lt;/p&gt;
&lt;h3 id=&quot;parrotfish-only&quot;&gt;Parrotfish only&lt;/h3&gt;
&lt;p&gt;Not really enough power in Parrotfish-only version:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7142/6649845527_f9e7115dc3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2012-01-06 16:05:00” max_upload_date=“2012-01-06 16:30:37”]&lt;/p&gt;
&lt;h3 id=&quot;full-labrids&quot;&gt;Full Labrids&lt;/h3&gt;
&lt;p&gt;Still running: two-shifts version&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: pmc package, latex to word attempts</title>
   <link href="/2012/01/03/tuesday-pmc-package-latex-to-word-attempts.html"/>
   <updated>2012-01-03T10:49:10-08:00</updated>
   <id>h/2012/01/03/tuesday-pmc-package-latex-to-word-attempts</id>
   <content type="html">&lt;p&gt;Back from Oz.&lt;/p&gt;
&lt;h2 id=&quot;evolution-submission-latex-to-word&quot;&gt;Evolution submission: Latex to word&lt;/h2&gt;
&lt;p&gt;Final submission needs editable copy.  No great solutions for latex to word, despite quite a few options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;tex2rtf is a fast solution to get something, but not successful on images or equations.  Ended up going with this after all.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pandoc is a generic converter &lt;em&gt;to&lt;/em&gt; many types, but has only partial support for latex input.  Does okay on text, but fails on even simple things like italics and natbib citations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;lyx sounded like a promising solution, as lyx has a OpenDocument export option.  Unfortunately I could only get a blank .odt out.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tex4ht doesn’t work out of the box (though&lt;a href=&quot;http://ubuntuforums.org/showthread.php?t=1033441&quot;&gt;a lot of work&lt;/a&gt; might get around this)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;mk4ht oolatex file.tex&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;lots of ways to go to html, or pdf into word, but all seem lossy.  More possible solutions on Q&amp;amp;A’s &lt;a href=&quot;http://askubuntu.com/questions/82634/how-to-convert-tex-into-odt&quot;&gt;askubuntu&lt;/a&gt; and &lt;a href=&quot;http://tex.stackexchange.com/questions/4145/workflow-for-converting-latex-into-open-office-ms-word-format&quot;&gt;tex&lt;/a&gt;, from which many of these suggestions came as well.  Still no robust solutions.  Why don’t we all just use html these days?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pmc&quot;&gt;pmc&lt;/h3&gt;
&lt;p&gt;Revised the front-end for this package entirely over the break. Adding some polish, cleaning up the package, and writing a new vignette for the update today.&lt;/p&gt;
&lt;h5 id=&quot;a-few-random-notes&quot;&gt;A few random notes&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Need a commented command for Vignette to pass R CMD check that gives the vignette a title&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode latex&quot;&gt;&lt;code class=&quot;sourceCode latex&quot;&gt;&lt;span class=&quot;co&quot;&gt;%\VignetteIndexEntry{Using PMC}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;sorting out the vignette with the updated examples, using knitr (thank goodness for caching, geiger performance sucks).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Comment out the parallelization for generality?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Website configuration: cloudflare&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mendeley duplicate bibtex entries are very annoying.  A &lt;a href=&quot;http://pleasemakeanote.blogspot.com/2010/06/deleting-duplicate-bibtex-entries-from.html&quot;&gt;hack&lt;/a&gt; solution.  Vote for &lt;a href=&quot;http://feedback.mendeley.com/forums/4941-mendeley-feedback/suggestions/699640-fix-bibtex-library-bugs-update-and-remove-duplica&quot;&gt;this issue on the bug list&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm…, interesting: &lt;a href=&quot;http://www.live-r.com/&quot;&gt;live-r&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/12/12/monday-12.html"/>
   <updated>2011-12-12T11:00:50-08:00</updated>
   <id>h/2011/12/12/monday-12</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote method2 test functions out in knitr/sweave. Sent document to Peter.&lt;/li&gt;
&lt;li&gt;Move my ropensci git origins to the ropensci github page.&lt;/li&gt;
&lt;li&gt;Ropensci comments on : recommended for anything non-trivial, including web calls. Richer tests should be put into testthat.&lt;/li&gt;
&lt;li&gt;Reply to Charles Jervis, biology high school teacher interested in tools to teach math/modeling in ecology.  Sounds like he’s already doing some cool stuff with phylogenies with his students.&lt;/li&gt;
&lt;li&gt;prepare vignette for rfishbase based on tutorial.&lt;/li&gt;
&lt;li&gt;prepare vignette for treebase base on tutorial.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-wordpressnotebook-stuff&quot;&gt;Misc Wordpress/Notebook Stuff&lt;/h2&gt;
&lt;p&gt;Kcite upgrade – moves to a new platform, becomes author-year format, smaller format bibliography.  Whoops, it also breaks my dynamic header-footers – for some reason they no longer appear on any page or post not calling the kcite citation!  Fixed with a hack call to kcite function in my footer&lt;/p&gt;
&lt;pre class=&quot;sourceCode html&quot;&gt;&lt;code class=&quot;sourceCode html&quot;&gt;&lt;span class=&quot;co&quot;&gt;&amp;lt;!-- MY ADDITION: KCITE HACK --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;script&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt; type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt;
       &lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt; kcite_citation_data;
&lt;span class=&quot;kw&quot;&gt;if&lt;/span&gt;( kcite_citation_data == undefined ){
kcite_citation_data = [];
}
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but not happy about this.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Better dynamic documents (Sweave) with syntax highlighting, caching, etc</title>
   <link href="/2011/12/12/better-sweave-dynamic-documents-with-syntax-highlighting-easier-tools.html"/>
   <updated>2011-12-12T09:26:47-08:00</updated>
   <id>h/2011/12/12/better-sweave-dynamic-documents-with-syntax-highlighting-easier-tools</id>
   <content type="html">&lt;p&gt;The highlight package is a simple solution for very nice syntax highlighted code boxes in latex documents.  Requires &lt;a href=&quot;http://stackoverflow.com/questions/5448608/changing-the-sweave-driver-from-the-command-line&quot;&gt;switching the driver&lt;/a&gt;, which is best done from within R and requires creating a makefile though.  Needs the “highlight” package installed.  Here’s a &lt;a href=&quot;https://gist.github.com/1469063&quot;&gt;simple makefile.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A wealth/mess of Sweave related packages on the CRAN &lt;a href=&quot;http://cran.r-project.org/web/views/ReproducibleResearch.html&quot;&gt;taskview for Reproducible Research&lt;/a&gt; (now what other software platform has a the equivalent of a Reproducible Research task view?)&lt;/p&gt;
&lt;p&gt;But why not really do things correctly? The &lt;a href=&quot;http://yihui.github.com/knitr&quot;&gt;knitr&lt;/a&gt; package is beautiful. Abstracts the concept beyond just latex integration.  You can write in pure latex, (instead of noweb mix), in pure markdown, or pure html, embedding the R commands in comments.  knitr can run the code in those comments to generate a file of the same format, but with the dynamic content embedded.  Handles caching, syntax highlighting, and figures in a much more seamless manner.  It can also use the package author’s &lt;a href=&quot;https://github.com/yihui/formatR&quot;&gt;formatR&lt;/a&gt;code to tidy up your code before including it.  You can convince R to use this for vignettes with a similar makefile.&lt;/p&gt;
&lt;p&gt;[gist id=1470786]&lt;/p&gt;
&lt;p&gt;The github markdown integration makes github look like a better and better candidate for a lab notebook.  Wonder how it handles mathjax or citations?&lt;/p&gt;
&lt;p&gt;Another nice find for bringing my older package documentation into roxygen form: &lt;a href=&quot;https://github.com/yihui/Rd2roxygen&quot;&gt;Rd2roxygen&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;more-ambitious-dynamic-documentation&quot;&gt;More ambitious dynamic documentation&lt;/h2&gt;
&lt;p&gt;These improvements to Sweave are nice, though the dynamic document concept can certainly go much further.  &lt;a href=&quot;http://www.dexy.it/features/&quot;&gt;Dexy.it&lt;/a&gt; is an interesting multi-lingual version, but doesn’t seem to combine source and the documentation in the same file.  Guess that can be kinda good, kinda bad. It seem to use a non-standard syntax, and while it’s python easy_install sounds fine, might still be a barrier to adoption among R users…&lt;/p&gt;
&lt;p&gt;Meanwhile, some notes form a presentation I saw recently that have a much more ambitious view of what’s possible.  Nov 22 (which I’ve recast into the language Tim Berners-Lee uses to describe linked-data on the web:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One star – sweave&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;two stars - XDynDocs multiple views (alternate analyses, full lab notebook)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;three stars - rfirefox - interactive web view&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;star four - live data sources (self updating)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some people involved: Deborah Nolan, Thomas Lee, Paul Baines, Wolfgang Polonik, Duncan Temple-Lang, Gabriel Becker.&lt;/p&gt;
&lt;p&gt;some of my questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;In the context of these tools, do we distinguish documenting code from publishing analyses?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does this make remaining errors the more insidious?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Some Notes on Open Notebooks, Open peer review practices.</title>
   <link href="/2011/12/11/some-notes-on-open-notebooks-open-peer-review-practices.html"/>
   <updated>2011-12-11T14:45:54-08:00</updated>
   <id>h/2011/12/11/some-notes-on-open-notebooks-open-peer-review-practices</id>
   <content type="html">&lt;p&gt;What follows is a collection of notes, examples, and reflections I’ve been meaning to write down.&lt;/p&gt;
&lt;h2 id=&quot;section&quot;&gt;&lt;/h2&gt;
&lt;h2 id=&quot;revealing-revisions&quot;&gt;Revealing Revisions&lt;/h2&gt;
&lt;p&gt;Sharing version history is an important part of an open notebook really being open, and one reason why wikis have remained so popular for Open Notebook Science.  Wordpress (this platform) does version management internally, and the&lt;a href=&quot;http://wordpress.org/extend/plugins/post-revision-display/&quot;&gt;post-revision display plug-in&lt;/a&gt;makes this visible on posts.  I had experimented but disabled this a while ago because I didn’t like visual impact of the long list at the end of my posts.  I may often put a post up early in the day and add subsequent notes as I go along, so my revisions are nearly exclusively additions (I show any cross-outs on the final copy anyway) so it seemed unnecessary.  Anyway, this &lt;a href=&quot;http://ff.im/NPlPW&quot;&gt;FF discussion&lt;/a&gt; made me feel guilty so I added them back.  Luckily the manual mode lets me have this display in the metadata section, which feels a bit more out of the way. ((Configuration notes to self:  Directions basically follow the package instructions – I added  the two php lines to single.php in the sidebar section.  Would be overwritten by theme updates so I should write a &lt;a href=&quot;http://www.carlboettiger.info/archives/1697&quot;&gt;child theme,&lt;/a&gt; but I understand &lt;a href=&quot;http://somadesign.ca/projects/the-erudite/&quot;&gt;my theme&lt;/a&gt; is no longer being updated anyhow.  I’d have to edit the css to get color highlighting of the changes, doesn’t really fit with my theme.  My theme also doesn’t use the standard CSS file, but it’s own directory for css files which means I have to go outside the wordpress editor to edit it.)).  We’ll see.&lt;/p&gt;
&lt;h2 id=&quot;revealing-impact&quot;&gt;Revealing Impact&lt;/h2&gt;
&lt;p&gt;A while ago &lt;a href=&quot;http://www.researchremix.org/wordpress/&quot;&gt;Heather Piwowar&lt;/a&gt; asked me about setting up WP Post Views on my notebook so that projects like total-impact could include the data.  There should be a good plugin that just uses the API from the standard statistics plugin (now part of jetpack) to display views on individual posts, but it seems there isn’t.  WP Post Views requires modifying the theme files, and requires the ajax-the-views plugin to update the display on sites using caching, and uses it’s own counter (so it’s view counts only start once it’s installed), but I don’t have time to write my own, so it now appears in the metadata section of the posts.&lt;/p&gt;
&lt;h2 id=&quot;ons-logos&quot;&gt;ONS Logos&lt;/h2&gt;
&lt;p&gt;Interesting &lt;a href=&quot;http://andymaloney.wordpress.com/2011/11/24/ons-logo/#comment-69&quot;&gt;discussion&lt;/a&gt; by Andy Maloney on the use of ONS logos to track Open Notebook science.  (See mine in the footer “further information.”  The choice of ONS claim is a different discussion, e.g. &lt;a href=&quot;http://www.carlboettiger.info/archives/1229#comment-491&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;journals-with-open-peer-review&quot;&gt;Journals with Open Peer Review&lt;/h2&gt;
&lt;p&gt;Been meaning to jot these notes down, prompted to by the open-knowledge / &lt;a href=&quot;https://plus.google.com/107449381177524115065/posts/5iQoPnuY5R8&quot;&gt;G+ discussion&lt;/a&gt; here.  Here’s a few different models of open peer review.&lt;/p&gt;
&lt;p&gt;Biology Direct has always practiced open peer review in which reviews are solicited; then having received the reviews (either positive or negative) the author can opt to have the paper published, can make changes &amp;amp; publish, or can withdraw the paper. Any time the paper is published the reviews are published with it, with the reviewers name, and with the author’s reply to the reviews. &lt;a href=&quot;http://www.biology-direct.com/&quot;&gt;http://www.biology-direct.com/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Nature journal EMBO has an innovative but less extreme process where reviews are solicited, identities are included, but the reviews are published (as a supplement) only if the paper is accepted. The open review is opt-in, with 95% opting in. Interestingly reviewers are encouraged to “cross-review” or comment on remarks of other reviewers. They have stats showing that about 10% of the time people download the peer-review comments when they download the paper, comparable to downloads of traditional supplements. &lt;a href=&quot;http://www.nature.com/emboj/about/process.html&quot;&gt;http://www.nature.com/emboj/about/process.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Nature did an experiment with its flagship journal on unsolicited open peer review in 2006 in parallel with it’s traditional peer review. They deemed it unsuccessful due to low opt-in rates among authors and few &amp;amp; lower quality reviews in the open. &lt;a href=&quot;http://www.nature.com/nature/peerreview/debate/nature05535.html&quot;&gt;http://www.nature.com/nature/peerreview/debate/nature05535.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;BMC Molecular Biology journals has authors recommend reviewers, non-anonymous review, and publishing of the reviews with the article.  &lt;a href=&quot;http://www.biomedcentral.com/bmcmolbiol/authors/peerreview&quot;&gt;http://www.biomedcentral.com/bmcmolbiol/authors/peerreview&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;copyright-licenses&quot;&gt;Copyright Licenses&lt;/h2&gt;
&lt;p&gt;Some vibrant discussion on non-commercial (NC) (and to some extent, share-alike, or SA) clauses in licenses on the open-knowledge list (and in the recent published literature: (Carroll, 2011), (Hagedorn &lt;em&gt;et. al.&lt;/em&gt; 2011)). The question at hand is targeting Open Access publishers who use NC license, but has interesting reflections onto bloggers and software licenses.&lt;/p&gt;
&lt;p&gt;While I’d heard discontent with NC before (particularly around PLoS ONE clones using NC clause), I was surprised at the extent – Creative Commons is apparently considering removing it since it is so problematic.  Similar troubles have dogged the share-alike/GPL clause for software (license incompatibility, etc), and it sounds that GPL is out of favor in preference for more open/permissive BSD licenses.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Carroll M (2011). “Why Full Open Access Matters.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001210&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001210&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hagedorn G, Mietchen D, Morris R, Agosti D, Penev L, Berendsohn W and Hobern D (2011). “Creative Commons Licenses And The Non-Commercial Condition: Implications For The re-Use of Biodiversity Information.” &lt;em&gt;Zookeys&lt;/em&gt;, &lt;strong&gt;150&lt;/strong&gt;. ISSN 1313-2989, &lt;a href=&quot;http://dx.doi.org/10.3897/zookeys.150.2189&quot;&gt;http://dx.doi.org/10.3897/zookeys.150.2189&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/12/09/friday-9.html"/>
   <updated>2011-12-09T05:42:30-08:00</updated>
   <id>h/2011/12/09/friday-9</id>
   <content type="html">&lt;h2 id=&quot;wrightscapepmc&quot;&gt;Wrightscape/pmc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Writing up derivation from Thursday properly / for manuscript.&lt;/li&gt;
&lt;li&gt;Writing up test cases for method2, direct evaluation of covariance matrix for comparisons&lt;/li&gt;
&lt;li&gt;Minor revisions submitted to Evolution&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-control-to-do&quot;&gt;pdg-control To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Implement the NCO.&lt;/li&gt;
&lt;li&gt;Implement HS SDP&lt;/li&gt;
&lt;li&gt;Closer read of (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005), (Su &amp;amp; Peterman, 2012) and &lt;a href=&quot;http://www.webmeets.com/files/papers/aere/2011/237/Woodward%20and%20Tomberlin%20-%20Robust%20DP%20-%20Fisheries.AERE.pdf&quot;&gt;Woodward &amp;amp; Tomberlin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Allee effects in linear programming with different classes.&lt;/li&gt;
&lt;li&gt;Timescales of noise using van Kampen expansion.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;image-log&quot;&gt;Image Log&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-09 7:00:37” max_upload_date=“2011-12-09 23:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Su Z and Peterman R (2012). “Performance of A Bayesian State-Space Model of Semelparous Species For Stock-Recruitment Data Subject to Measurement Error.” &lt;em&gt;Ecological Modelling&lt;/em&gt;, &lt;strong&gt;224&lt;/strong&gt;. ISSN 03043800, &lt;a href=&quot;http://dx.doi.org/10.1016/j.ecolmodel.2011.11.001&quot;&gt;http://dx.doi.org/10.1016/j.ecolmodel.2011.11.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/12/08/thursday-11.html"/>
   <updated>2011-12-08T03:06:00-08:00</updated>
   <id>h/2011/12/08/thursday-11</id>
   <content type="html">&lt;p&gt;Another day of working on 4 different projects at once.&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;review Alan pulses manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;review (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003) Paper discussing the data you want $ $ the data you want&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;No way in Anchoveta data, look at time series:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7142/6478073223_819460d349_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;example-in-the-cod-data&quot;&gt;Example in the cod data&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7157/6477872559_87a539f2df_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;using only up until 1991 data:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7028/6477872503_bc33d69793_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Way forward – construct the step-wise predictor of probabilities.  Add the economic costs of both.  run in replicate — eek this will definitely be one for the NERSC cluster.  Is there really no policy to compare against?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Selecting figures, see section in &lt;a href=&quot;http://www.carlboettiger.info/archives/3488&quot;&gt;Yesterday’s post&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;describe the differences in optimization methods, and modify our mention of the Hessian to say that it may provide reasonable CIs, but not necessarily, and can be problematic to compute. – Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider AICc for comparison?  – supplement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cite Revel &amp;amp; Collar 2009 – Done&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reply letter.&lt;/p&gt;
&lt;p&gt;Code polish and submit.&lt;/p&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;p&gt;Very clever! State-space too big for SDP?  Just simulate forward a few steps and call it good. Now with citation.  Nicol &amp;amp; Chadès, 2011&lt;/p&gt;
&lt;p&gt;Discussing with Paul – read:&lt;/p&gt;
&lt;p&gt;Checking expected behavior when the cost of change is high and the stock has significant scrap value (reward for non-zero terminal condition):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7158/6479108919_5818e93990_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7159/6479067329_108dc6e17d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;in this limit the trivial solution is not to fish.&lt;/p&gt;
&lt;p&gt;Just implement NCO tracking on Reed’s S.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Beyond Stochastic Dynamic Programming: A Heuristic Sampling Method For Optimizing Conservation Decisions in Very Large State Spaces, Sam Nicol, Iadine Chadès, (2011) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2010.00069.x&quot;&gt;10.1111/j.2041-210X.2010.00069.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday - wrightscape runs and various other things</title>
   <link href="/2011/12/07/wednesday-11.html"/>
   <updated>2011-12-07T10:01:07-08:00</updated>
   <id>h/2011/12/07/wednesday-11</id>
   <content type="html">&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;plots for changing costs&lt;/li&gt;
&lt;li&gt;Report out to Training Problem II group.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ggplot-note&quot;&gt;ggplot note&lt;/h3&gt;
&lt;p&gt;defining functions that return a ggplot object can be tricky. If you compute some objects in the plot function (stats etc), those stats are not stored by the object (due to lazy evaluation, usually a very nice time-saving feature), so the plot cannot be produced unless the function returns those things to the global environment (or from wherever the plot will be printed/evaluated). Can return them to the global env with “&amp;lt;&amp;lt;-” assignment, but seems poor form.&lt;/p&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;h3 id=&quot;power-in-phylogenies&quot;&gt;power in phylogenies&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Hessian reply.  manuscript reply.&lt;/li&gt;
&lt;li&gt;Select wrightscape examples.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1530089 series: bm vs a2 on parrotfish tree. looks like close &amp;amp; SH.y reject brownie, open almost does. kt almost does.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/7a347b05696d179e442b2619d5a0dd5c70c284c8&quot;&gt;7a347b0&lt;/a&gt; series: bm vs a1 on parrotfish tree: (missing lr line).  More power, smaller diffs.  Kt maybe? must rerun these!&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/43352040ff429dab06a038632d16025775e87a5d&quot;&gt;4335204&lt;/a&gt;  bm vs a1 with the lines.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://www.flickr.com/photos/cboettig/6475405483/in/photostream&quot; alt=&quot;prot.y&quot; /&gt; sig. open sig in reverse&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;cce5a5a/93a8630 series: labrid tree, intramandibular division, bm vs a1   (more power on larger tree, go for finer division between models?)   only bodymass rejects.  (cce5a5a missing lr line).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/8382283f9b63f6dd3500baf75a9acaf441d62007/demo/labrid_power.R&quot;&gt;8382283&lt;/a&gt; now running labrid bm vs a2.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7175/6475405483_eb15f0aea9.jpg&quot; alt=&quot;KT significant&quot; /&gt; &lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7156/6475405223_485794f9af_o.png&quot; alt=&quot;closing: boarderline&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;closing: boarderline&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6475405179_f9046e73e3_o.png&quot; alt=&quot;bodymass sig&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;bodymass sig&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7022/6475405419_6b917dae8e.jpg&quot; alt=&quot;open: kinda not really&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;open: kinda not really&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;open &amp;amp; prot.y significant in reverse&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/6befae4fdbce8ef5ab00c141e68e6681a391ed29&quot;&gt;6befae4&lt;/a&gt; Check out open and kt on a2 vs bm when regime=two_shifts.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7146/6477481011_65e328f325_m.jpg&quot; alt=&quot;Prot&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Prot&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7033/6477480971_084c73eb32.jpg&quot; alt=&quot;open&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;open&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7027/6477480889_547db25f73.jpg&quot; alt=&quot;kt&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;kt&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://farm8.staticflickr.com/7163/6477480785_4216e0f606_o.png&quot; alt=&quot;bodymass&quot; /&gt; are significant.  Close is significant reversed (funny pattern at a2 anyhow).&lt;/p&gt;
&lt;p&gt;Make sure to run against standard ouch too!&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Alan Manuscript&lt;/li&gt;
&lt;li&gt;Reading: re data sources (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/li&gt;
&lt;li&gt;(Le Quesne &amp;amp; Jennings, 2012)&lt;/li&gt;
&lt;li&gt;Example decisions under uncertainty of crash&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;(Molloy, 2011)&lt;/li&gt;
&lt;li&gt;And on NC clause (Carroll, 2011), (Hagedorn &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Fiction: Non-commerical license means no one can make money from it. “I don’t want to give some entrepreneur a free lunch”&lt;/li&gt;
&lt;li&gt;Fact: NC means the journal (by holding the copyright) retains the right to &lt;strong&gt;sell&lt;/strong&gt; your work to pharmaceuticals, teachers, researchers interested in text-mining,  (rather than those groups having &lt;strong&gt;free&lt;/strong&gt; use).&lt;/li&gt;
&lt;li&gt;Data reviews – F1000?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;graph-gallery&quot;&gt;Graph gallery&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-07 7:00:37” max_upload_date=“2011-12-08 12:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Le Quesne W and Jennings S (2012). “Predicting Species Vulnerability With Minimal Data to Support Rapid Risk Assessment of Fishing Impacts on Biodiversity.” &lt;em&gt;Journal of Applied Ecology&lt;/em&gt;, &lt;strong&gt;49&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Molloy J (2011). “The Open Knowledge Foundation: Open Data Means Better Science.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001195&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001195&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carroll M (2011). “Why Full Open Access Matters.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001210&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001210&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hagedorn G, Mietchen D, Morris R, Agosti D, Penev L, Berendsohn W and Hobern D (2011). “Creative Commons Licenses And The Non-Commercial Condition: Implications For The re-Use of Biodiversity Information.” &lt;em&gt;Zookeys&lt;/em&gt;, &lt;strong&gt;150&lt;/strong&gt;. ISSN 1313-2989, &lt;a href=&quot;http://dx.doi.org/10.3897/zookeys.150.2189&quot;&gt;http://dx.doi.org/10.3897/zookeys.150.2189&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Optimal control -- costs to policy shifts</title>
   <link href="/2011/12/07/optimal-control-costs-to-policy-shifts.html"/>
   <updated>2011-12-07T01:11:36-08:00</updated>
   <id>h/2011/12/07/optimal-control-costs-to-policy-shifts</id>
   <content type="html">&lt;p&gt;Considering the case where there is a cost to changing the harvest quota (representing the cost of efforts to change policy).  We can imagine several scenarios that could introduce this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fixed cost to change&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cost proportional to the size of the change (L1 norm)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cost proportional to the square of the size (L2 norm, i.e. small changes aren’t expensive, large ones are very expensive)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;asymmetric costs – lowering quotas may be harder than raising them&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;implementation&quot;&gt;Implementation:&lt;/h3&gt;
&lt;p&gt;Before, we could calculate the optimal harvest rate for each value of the state variable $ x_t $ on the grid, at each time step (using Bellman’s equation for the value-to-go).  The optimal solution was given by a matrix of size n by T, where n is the grid size and T the stopping time  - n rows for the states, T columns for the timesteps.  Now we have to have the optimal harvest level at state $ x_t $ calculated out for each possible value of last year’s quota ( h_{t-1}  ), to know how big a change we’re considering.  This makes our matrix n by n by T (if harvest can assume any value on the grid, it has n options – we might make the harvest grid coarser or bounded at some h_max &amp;lt; x_max).&lt;/p&gt;
&lt;p&gt;I think I have this right(?)  Slower to compute this much bigger optimum, but here we go:&lt;/p&gt;
&lt;h3 id=&quot;results&quot;&gt;Results&lt;/h3&gt;
&lt;p&gt;L1 norm tends to follow the optimal solution to a point, and then give up on changing the policy – putting the harvest all the way up and running the population to extinction:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7150/6470200593_06f074a462_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The “alternate” line shows what the fishstock would have been if there was no cost to changing the policy (the classical Reed optimum), and its harvest rate is shown as harvest_alt. Looking across the ensemble we see this pattern repeat, with the manager throwing in the hat and fishing out the population at different times:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6472332667_f75a3ccda6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Higher costs make this happen instantly, lower costs nearly mimic the Reed optimum strategy.&lt;/p&gt;
&lt;h3 id=&quot;code&quot;&gt;Code&lt;/h3&gt;
&lt;p&gt;available in R package form now,&lt;a href=&quot;https://github.com/cboettig/pdg_control&quot;&gt;install instructions&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;(version of code used for figures should be linked from the figures as always too).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday -- two insights</title>
   <link href="/2011/12/06/tuesday-two-insights.html"/>
   <updated>2011-12-06T13:46:16-08:00</updated>
   <id>h/2011/12/06/tuesday-two-insights</id>
   <content type="html">&lt;h2 id=&quot;control-optimization&quot;&gt;Control &amp;amp; Optimization&lt;/h2&gt;
&lt;h3 id=&quot;dominique-bonvin-visit&quot;&gt;Dominique Bonvin visit&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;two-step control (optimize parameters, optimize mean-square error between model and measurement also by parameter adjustment) fails when reality isn’t in the model set.  Problem is under-determined (N free variables, 4N equations).  (converges, but onto the wrong optimum).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Better solution – adjust the penalty/regularization terms to to get better agreement between model and data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bonvin approach – adjust the control instead (NCO Control).  Can be almost model free in the control process.   (**)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pdg-control-training-problem-1b-2&quot;&gt;pdg-control Training Problem 1b &amp;amp; 2&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Coded SDP with costs to changing quotas.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Best way to visualize the optimal solution?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hessian calculation?  Non-trivial – how to get Hessian from a non-gradient method, or a gradient method when you need to handle bounds?  Various numerical challenges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape model comparisons – comparing meaningful hypotheses! (**)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;days-graphs-log&quot;&gt;Day’s graphs log&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics, PDG_Control” min_upload_date=“2011-12-06 7:00:37” max_upload_date=“2011-12-06 23:23:37”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday - wrightscape meetings, PDG meeting</title>
   <link href="/2011/12/05/monday-wrightscape-meetings-pdg-meeting.html"/>
   <updated>2011-12-05T10:45:32-08:00</updated>
   <id>h/2011/12/05/monday-wrightscape-meetings-pdg-meeting</id>
   <content type="html">&lt;p&gt;Wrightscape – added a user utility to to specify custom model types, such that some subset of the total number of regimes can share certain parameters.&lt;/p&gt;
&lt;h2 id=&quot;peter-meeting&quot;&gt;Peter Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derivation – provide clear examples of the differences and by how much it matters.&lt;/li&gt;
&lt;li&gt;Expected result from the biology: the jaw lever traits should show greater changes than the other traits after a release of constraint.&lt;/li&gt;
&lt;li&gt;Based on previous studies, expect most of the action to be around the intramandibular joint innovation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;luke-meeting&quot;&gt;Luke Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Set up wrightscape to run on the &lt;em&gt;Anolis&lt;/em&gt; ecomorph data.  Requires custom_Multitype() to specify separate shared and independent parameters on different regimes.&lt;/li&gt;
&lt;li&gt;Get wrightscape to compile on Luke’s Mac.  He has gsl libraries installed, yet somehow package won’t compile by R, complains that R cannot find gcc-4.2.  &lt;strong&gt;Solved&lt;/strong&gt; aliased gcc to gcc-4.2, and compile worked fine.  Wish that didn’t take so long to think of.&lt;/li&gt;
&lt;li&gt;Up and running on Luke’s &lt;em&gt;Anolis&lt;/em&gt; data.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-training-problem-1-conference-call&quot;&gt;PDG Training Problem 1 Conference Call&lt;/h2&gt;
&lt;h3 id=&quot;b-penalties-on-rate-of-change-of-control-variable.&quot;&gt;1b: penalties on rate of change of control variable.&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;c depend on h – not a velocity penalty.&lt;/li&gt;
&lt;li&gt;L_1 vs L_2  is a bigger penalty for large changes, small penalty for smaller&lt;/li&gt;
&lt;li&gt;Operational question: do penalties change the nature of the optimal policy?&lt;/li&gt;
&lt;li&gt;No cost penalties, upper bound on h&lt;/li&gt;
&lt;li&gt;Jake with h_max stochastic problem – lose the state independence, alter the Reed solution.&lt;/li&gt;
&lt;li&gt;Highlight differences from constant-escapement policy.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;a-curvature-question&quot;&gt;1a: curvature question&lt;/h3&gt;
&lt;p&gt;Focus on cases where state equation has stable node, chattering/limit cycles introduced by the control.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-05 8:00:37” max_upload_date=“2011-12-05 23:23:37”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>More labrid plots</title>
   <link href="/2011/12/05/more-labrid-plots.html"/>
   <updated>2011-12-05T02:24:36-08:00</updated>
   <id>h/2011/12/05/more-labrid-plots</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7010/6444379007_dbb297e7e3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Intramandibular likelihood comparisons&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7031/6444378523_edee31f162_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Parameter zooms:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7020/6444379297_5a6b655d55_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7156/6444379559_7d8b997c1d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7017/6444335351_49faec8780_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Pharyngeal likelihood comparisons&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7012/6444112101_ea34f25320_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Both shifts:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7146/6455296281_24c319ecba_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7013/6455296139_56d33fe1d0_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-03 8:00:37” max_upload_date=“2011-12-04 23:23:37”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Release of constraint</title>
   <link href="/2011/12/04/release-of-constraint.html"/>
   <updated>2011-12-04T05:41:47-08:00</updated>
   <id>h/2011/12/04/release-of-constraint</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7157/6453857531_80d64da193_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7004/6453857285_50d6a67275_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(uncertainty estimation to follow).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday - updated wrightscape results - simulated examples</title>
   <link href="/2011/12/02/friday-updated-wrightscape-results.html"/>
   <updated>2011-12-02T14:35:24-08:00</updated>
   <id>h/2011/12/02/friday-updated-wrightscape-results</id>
   <content type="html">&lt;p&gt;Consider two simulated datasets, one under a release of constraint (left) one under an increase in sigma (right).  Can we correctly discriminate between these models?&lt;/p&gt;
&lt;p&gt;Parameter differences:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7175/6443908549_5a57d8c103_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Likelihood differences:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7159/6443918533_ab45a0d544_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Yup&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;Repeated with effect-size scaled to be roughly equivalent for both traits.  Wondering if it’s easier to plot parameters out separately like this.  Error bars show median and 25/75 % quantile range, with barplots showing the means (note that high outliers makes mean often larger than median).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7011/6444288263_d0e75be4b4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7162/6444288021_cbcafa94ff_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that the resulting likelihood differences are less dramatic in the sigma-simulation trait when it’s variance is more comparable to the alpha example:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6444280225_392246ba00_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Day’s complete log from the image repository.. lots of exploring…&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-02 8:00:37” max_upload_date=“2011-12-02 23:23:37”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thrusday - corrected calculation, implementing.  </title>
   <link href="/2011/12/01/thrusday-corrected-calculation-implementing.html"/>
   <updated>2011-12-01T15:33:55-08:00</updated>
   <id>h/2011/12/01/thrusday-corrected-calculation-implementing</id>
   <content type="html">&lt;p&gt;Implementing Wednesday night’s calculations. Should transcribe full derivation from paper notebook, meanwhile (revealing how chaotic my work process really is):&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“equations” min_upload_date=“2011-12-04 11:00:37” max_upload_date=“2011-12-04 11:39:37”]&lt;/p&gt;
&lt;p&gt;Day’s log of plots:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-12-01 8:00:37” max_upload_date=“2011-12-01 23:23:37”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday - various logistics, then checking likelihood calculation</title>
   <link href="/2011/11/30/wednesday-various-logistics-then-checking-likelihood-calculation.html"/>
   <updated>2011-11-30T12:20:42-08:00</updated>
   <id>h/2011/11/30/wednesday-various-logistics-then-checking-likelihood-calculation</id>
   <content type="html">&lt;h2 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;rOpenSci wins runner up prize in PLoS + Mendeley’s Binary Battle!&lt;/li&gt;
&lt;li&gt;Write replies to interview questions with Mendeley.&lt;/li&gt;
&lt;li&gt;roxygenizing documentation for RMendeley – about half done&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Call with Jake scheduled for tomorrow&lt;/li&gt;
&lt;li&gt;Emails with Michael. I’ll implement delay intervals, he’ll add costs to adjustment.&lt;/li&gt;
&lt;li&gt;Need to fix/finish delay interval optimization calculation (exponent of matrix &amp;amp; beta)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;p&gt;Meeting with Alan&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Regime shifts&lt;/li&gt;
&lt;li&gt;Emphasize the RO curve in uncertainty analysis&lt;/li&gt;
&lt;li&gt;See  (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003) (relevant) &amp;amp; (more for fun) (Le Quesne &amp;amp; Jennings, 2012)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;seminars&quot;&gt;Seminars&lt;/h2&gt;
&lt;p&gt;Excellent &lt;a href=&quot;http://innovation.ucdavis.edu/events/getting-famous-or-getting-scooped-risks-and-opportunities-in-sharing-your-science-and-scholarship&quot;&gt;discussion panel&lt;/a&gt; with Jonathan Eisen, Jon Wilbanks, and Mario Biagioli. Looks like the beginning of a successful collaboration between Davis Open Science and the Center for Science &amp;amp; Innovation Studies at UC Davis.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;https://lh4.googleusercontent.com/-os5A425swFI/TtaPQHDF-qI/AAAAAAAABdk/NRNnLFdsrgU/h301/2011-11-30%2B12-13-29-956.jpg&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;evolution&quot;&gt;Evolution&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Evolution manuscript accepted, pending a few minor checks.&lt;/li&gt;
&lt;li&gt;Complete documentation and submit associated pmc package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape-debugging-process&quot;&gt;Wrightscape debugging process&lt;/h2&gt;
&lt;p&gt;Into the C code, checking the equations &amp;amp; implementation of the likelihood calculation.&lt;/p&gt;
&lt;p&gt;Day’s plots on the feed:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics pdgcontrol” min_upload_date=“2011-11-30 7:00:37” max_upload_date=“2011-11-30 23:23:37”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Le Quesne W and Jennings S (2012). “Predicting Species Vulnerability With Minimal Data to Support Rapid Risk Assessment of Fishing Impacts on Biodiversity.” &lt;em&gt;Journal of Applied Ecology&lt;/em&gt;, &lt;strong&gt;49&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2664.2011.02087.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday debugging</title>
   <link href="/2011/11/29/tuesday-debugging.html"/>
   <updated>2011-11-29T02:13:35-08:00</updated>
   <id>h/2011/11/29/tuesday-debugging</id>
   <content type="html">&lt;p&gt;Wrote seven unit tests to identify source of how/why I can get $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?&amp;#39;s to be larger in the parrotfish group than wrasses (when only\inline&quot;/&gt;&lt;/span&gt;alpha $ varies across regimes) on the same trait for which $ $’s are larger (when only they vary). Tests successively restrict pattern into the likelihood equation, some treatment of the regimes must be wrong.&lt;/p&gt;
&lt;p&gt;Unit tests.&lt;/p&gt;
&lt;h3 id=&quot;nov-29-2011&quot;&gt;Nov 29, 2011&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;also need to double-check calc of lca_matrix – needs to obey same sc…&lt;/a&gt; …&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;52a5d0bf12&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/52a5d0bf129a3fcd89bf20384ac015725c652471&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; 2011-11-29 17:29:04&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;seems that branchlength times alpha is off somewhere…&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;5e88b3af18&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/5e88b3af189e2eba6eb51438c39468fcb0e0ec53&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 17:27:26&lt;/p&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;docs for data&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;fc852d023d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/fc852d023de41380f2ab56fbddfa93731ed4765c&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 15:23:54&lt;/p&gt;
&lt;ol start=&quot;4&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;unit_test5, lambda parameter illustrates the problem&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;3da057ba8d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/3da057ba8d84717bd5e2b0a33b84aaacfaf96306&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 15:22:50&lt;/p&gt;
&lt;ol start=&quot;5&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;added data documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;e6caf07ca5&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/e6caf07ca584c8fbaf77f78255e16e18be7b2ede&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:36:49&lt;/p&gt;
&lt;ol start=&quot;6&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;8f64c98b66&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/8f64c98b663566c1c75aabc0306bb5d20737e687&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:31&lt;/p&gt;
&lt;ol start=&quot;7&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;4c6c546f66&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/4c6c546f66f04ea994a7f5a42cb601ee887fac4d&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:17&lt;/p&gt;
&lt;ol start=&quot;8&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;more unit tets&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;970c765c8d&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/970c765c8d65b3df823da1cbad8dcbbf5f171369&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:27:07&lt;/p&gt;
&lt;ol start=&quot;9&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;unit testing&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;52c264222e&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/52c264222ec15d4732f83e779943727a655967a9&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:26:41&lt;/p&gt;
&lt;ol start=&quot;10&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;unit testing continues&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;03a056f6f4&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/03a056f6f43f8cb66304cd14c757d2c1c0d0ea9d&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 14:26:22&lt;/p&gt;
&lt;ol start=&quot;11&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;Merge branch ‘master’ of github.com:cboettig/wrightscape&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;2ce29b5d41&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/2ce29b5d4134753e801e608a317c555ccccd4c66&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:26:01&lt;/p&gt;
&lt;ol start=&quot;12&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;debug unit_test3 working&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;938d5f7245&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/938d5f72453da1bdc5a041172aec8b01d79e5fa9&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:25:46&lt;/p&gt;
&lt;ol start=&quot;13&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;adding more unit tests&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;00147026a2&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/00147026a2491071b0e8bfbf6631f9f8ec9a11d7&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 10:24:44&lt;/p&gt;
&lt;ol start=&quot;14&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;img src=&quot;https://secure.gravatar.com/avatar/9dc8783d8ff42565db30cc90e29ad01c?s=140&amp;amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png&quot; /&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;debug exploring&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;a1b7a02aaf&lt;/a&gt; &lt;a href=&quot;https://github.com/cboettig/wrightscape/tree/a1b7a02aaf041b828e4a6dde308efc9b4dad6489&quot;&gt;Browse code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;cboettig&lt;/a&gt; authored 2011-11-29 09:09:02&lt;/p&gt;
&lt;p&gt;Time to check these&lt;/p&gt;
&lt;p&gt;Mean &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(X_t) = \exp \left( - \sum \alpha_i \Delta t_i \right) \left( X_{t_i} + \sum \theta_i \left( e^{\alpha_i t_i}-e^{\alpha_i t_{i-1} } \right) \right)&quot; alt=&quot;E(X_t) = \exp \left( - \sum \alpha_i \Delta t_i \right) \left( X_{t_i} + \sum \theta_i \left( e^{\alpha_i t_i}-e^{\alpha_i t_{i-1} } \right) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Covariances &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\omega = \frac{\sigma^2}{2 \alpha } \left( e^{2\alpha t_i} - e^{2 \alpha t_{i-1}} \right)&quot; alt=&quot;\omega = \frac{\sigma^2}{2 \alpha } \left( e^{2\alpha t_i} - e^{2 \alpha t_{i-1}} \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle x_i, x_i \rangle = \omega \exp( \alpha_i t_i - \alpha_j t_j)&quot; alt=&quot;\langle x_i, x_i \rangle = \omega \exp( \alpha_i t_i - \alpha_j t_j)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(Note - dates pulled out of html with vim gsub, note that vim needs the parentheses for grouping to be escaped (backwhacked!)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; :%s/&lt;span class=&quot;kw&quot;&gt;&amp;lt;&lt;/span&gt;time.*&lt;span class=&quot;ot&quot;&gt;title=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;$.*$&amp;quot;&lt;/span&gt;.*&lt;span class=&quot;kw&quot;&gt;time&amp;gt;&lt;/span&gt;/\1/g&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: submodels for full traits</title>
   <link href="/2011/11/28/monday-11.html"/>
   <updated>2011-11-28T03:00:24-08:00</updated>
   <id>h/2011/11/28/monday-11</id>
   <content type="html">&lt;h2 id=&quot;two-shifts&quot;&gt;Two shifts&lt;/h2&gt;
&lt;h3 id=&quot;alpha&quot;&gt;alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6036/6419878719_2e7cee4b99_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;sigma&quot;&gt;sigma&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7023/6419877949_4fab63904b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;likelihood&quot;&gt;likelihood&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7025/6419677919_6c5a5ee452_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;pharyngeal-shift&quot;&gt;Pharyngeal shift&lt;/h2&gt;
&lt;h3 id=&quot;alpha-1&quot;&gt;alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7158/6419878253_5c03a39887_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;sigma-1&quot;&gt;sigma&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7151/6420059863_83821a57ed_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;likelihood-1&quot;&gt;likelihood&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7009/6419230695_ab5c45a489_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intramandibular-shift&quot;&gt;Intramandibular shift&lt;/h2&gt;
&lt;h3 id=&quot;alpha-2&quot;&gt;alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6211/6419877455_0dbff60168_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;sigma-2&quot;&gt;sigma&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7170/6419876967_d785955d96_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;likelihood-2&quot;&gt;likelihood&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7164/6419690343_d921fc12d6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;intramandibular-shift-parrotfish-only&quot;&gt;Intramandibular shift (parrotfish only)&lt;/h2&gt;
&lt;h3 id=&quot;alpha-3&quot;&gt;alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6112/6419878425_80f3297424_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;sigma-3&quot;&gt;sigma&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6091/6419877923_f3819b9979_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;likelihood-3&quot;&gt;likelihood&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7034/6416542987_2ed9f4e0d7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h2&gt;
&lt;p&gt;It seems alpha is often higher in the regime that has a the higher sigma when variance is restricted to sigma. This cannot be right.&lt;/p&gt;
&lt;p&gt;Creating unit tests:&lt;/p&gt;
&lt;p&gt;Sigma behaves correctly in the following way. Simulate data where regimes have different sigmas.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
s1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
s1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; s1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;co&quot;&gt;# Order of entries in sigma is the order regime names are given by levels (alphabetical)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(s1$sigma) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
s1$sigma[&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;01&lt;/span&gt;
s1$sigma[&lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(s1)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
testcase[pharyngeal==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;lowvar
testcase[pharyngeal!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;highvar&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Results check out.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(lowvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.009888678&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(highvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;12.22513&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# and the recovered estimates are pretty close to the underlying simulation parameters&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(s1, testcase)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy$sigma
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.1015016&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;7.6793429&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;      &lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;lowvar indeed has the lower variance (the regime with smaller sigma). And the higher sigma is estimated for the pharyngeal regime (with some expected error: 7.7 instead of 10, and 0.1 instead of 0.01).&lt;/p&gt;
&lt;p&gt;BUT repeat with alpha:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; a1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(a1$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)

&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; dat[&lt;span class=&quot;st&quot;&gt;&amp;quot;close&amp;quot;&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; tree, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; pharyngeal,
             &lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; a1_spec,  &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5000&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(a1$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(pharyngeal)
a1$alpha[&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;
a1$alpha[&lt;span class=&quot;st&quot;&gt;&amp;quot;pharyngeal&amp;quot;&lt;/span&gt;] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e-12&lt;/span&gt;
a1$sigma &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]] &amp;lt;-&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(a1)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
dummy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(a1, dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]])

testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;simulated_a1&amp;quot;&lt;/span&gt;]]
testcase[pharyngeal==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;lowvar
testcase[pharyngeal!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase !=&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt; ] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;highvar&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we get&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(lowvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;1.187643&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;var&lt;/span&gt;(highvar)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;0.000385144&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dummy$alpha
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;10.0551960&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;0.2670818&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And the variances are backwards. Note that the parameter estimates reasonably reflect the simulated regimes (other = 10.1, vs 10, intramandibular = 0.27 vs 1e-12).&lt;/p&gt;
&lt;p&gt;How is this possible? The indexing routine is handling the sigma case correctly, and the same code is used to handle the indexing of each.&lt;/p&gt;
&lt;p&gt;Does this have anything to do with the simulation function: No. We can recreate the issue by drawing data as iid variables instead of using the simulation along the tree:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
spec =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#spec = list(alpha=&amp;quot;global&amp;quot;, sigma=&amp;quot;indep&amp;quot;, theta=&amp;quot;global&amp;quot;)&lt;/span&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
## Set the distribution of &amp;quot;other&amp;quot;
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#Set the distribution of the focal trait&lt;/span&gt;
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)

m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;testcase, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;spec)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(m$sigma) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(intramandibular)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(m$alpha) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;levels&lt;/span&gt;(intramandibular)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The higher alpha is estimated on the regime that has higher variance&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(m$alpha)
intramandibular           other 
      &lt;span class=&quot;fl&quot;&gt;13.121679&lt;/span&gt;        &lt;span class=&quot;fl&quot;&gt;5.981398&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data has higher variance among the intramandibular traits. (same is true for pharyngeal). This problem does not face the sigmas model, hence appears to do with the indexing of alphas somehow.&lt;/p&gt;
&lt;p&gt;Trying direct debug:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labrids)
spec =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)

&lt;span class=&quot;co&quot;&gt;# Load internal functions&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;load_all&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;..&amp;quot;&lt;/span&gt;)
data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase
lca &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lca_calc&lt;/span&gt;(tree)
&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(data, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;7&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Looks to be keeping the alpha with sigma at least.&lt;/p&gt;
&lt;p&gt;Check that in global ou mode, smaller alphas fit high variance better: (yup)&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# Test of single OU&lt;/span&gt;
test &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
test[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
ou  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;test, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;ou)
test[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(test)), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;test, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;ou)
m1$alpha &lt;span class=&quot;co&quot;&gt;# larger variance has smaller alpha&lt;/span&gt;
m2$alpha&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;All okay. But compare fits&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
testcase &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;st&quot;&gt;&amp;quot;prot.y&amp;quot;&lt;/span&gt;]]
other.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)]
intra.prot.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] 
testcase[intramandibular==&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(other.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
testcase[intramandibular!=&lt;span class=&quot;st&quot;&gt;&amp;quot;other&amp;quot;&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(testcase)] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(intra.prot.data), &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# Load internal functions&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(devtools)
&lt;span class=&quot;kw&quot;&gt;load_all&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;..&amp;quot;&lt;/span&gt;)
data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;testcase
lca &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lca_calc&lt;/span&gt;(tree)

&lt;span class=&quot;co&quot;&gt;# expect higher alpha on &amp;quot;other&amp;quot; (alpha2) to be best, higher on alpha1 is worst&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# BUT NO!&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;1802.169&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;248.6667&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiOU_lik_lca&lt;/span&gt;(testcase, tree, intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, lca)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;110821.8&lt;/span&gt;



&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1_spec  &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;testcase, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tree, &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;a1_spec)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a1$alpha
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;14.165247&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;6.579535&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-11-28 10:15:00” max_upload_date=“2011-11-28 10:30:20”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Handling other sources of noise</title>
   <link href="/2011/11/28/handling-other-sources-of-noise.html"/>
   <updated>2011-11-28T01:16:28-08:00</updated>
   <id>h/2011/11/28/handling-other-sources-of-noise</id>
   <content type="html">&lt;p&gt;I’m now computing the optimal solution under three sources of noise (compare with my &lt;a href=&quot;http://www.carlboettiger.info/archives/3296&quot;&gt;earlier examples&lt;/a&gt; of calculating the optimal solution assuming only growth noise, but simulating dynamics with other noise sources). See the &lt;a href=&quot;http://www.carlboettiger.info/archives/3313&quot;&gt;statement of problem details&lt;/a&gt;, essentially:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}&quot; alt=&quot;\max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; s.t. Fish population follows: $ x_t = z_t^g f( x_{t-1} - h_{t-1} ) $ and measured stock is given by: $ m_t = z_t^m x_t $ while harvest is: $ h_t = (x_t, z_t^i q_t) $ Where $ z^g $ denotes uncertainty in population growth, $ z^m $ denotes uncertainty in measurement for the stock assessment, and $ z^i $ denotes uncertainty in harvest implementation. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right)&quot; alt=&quot;m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sethi et al. 2005 (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005).&lt;/p&gt;
&lt;p&gt;Properly, this involves integrating over all three probability distributions&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\int_x^{x+\Delta} dx \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y)&quot; alt=&quot;\int_x^{x+\Delta} dx \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;though as I &lt;a href=&quot;http://www.carlboettiger.info/archives/3325&quot;&gt;noted&lt;/a&gt;, we can ignore integrating over the grid when it is high-resolution, due to the normalization step.&lt;/p&gt;
&lt;p&gt;Still not getting this integral to compute fast enough to do the deterministic calculation of the transition matrix. Meanwhile, I estimate the transition matrix instead by simulating the transition process 999 times. Not fast, but parallelizes easily.&lt;/p&gt;
&lt;h2 id=&quot;comparing-variation-from-noise-sources&quot;&gt;Comparing variation from noise sources&lt;/h2&gt;
&lt;p&gt;Each uses the log-normal distribution with $ = 0.2$. Jake points out economists use the uniform distribution to emphasize the impact of noise as a kind of extreme case (since “realistic” modeling of the noise is a fanciful notion anyhow), so I should probably include that as well. Should also allow more analytic work.&lt;/p&gt;
&lt;h4 id=&quot;noise-in-harvest-implementation-only&quot;&gt;Noise in harvest implementation only&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7149/6387500545_eb5e518dd4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;noise-in-stock-assessment-only&quot;&gt;Noise in stock assessment only&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6387500079_071c824b52_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;noise-in-population-growth-only&quot;&gt;Noise in population growth only&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7013/6387499699_b477b6aa11_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;all-three-sources&quot;&gt;All three sources&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7015/6387499095_cf513cf0df_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: wrightscape, ggplot, wp memory</title>
   <link href="/2011/11/25/friday-wrightscape-ggplot-wp-memory.html"/>
   <updated>2011-11-25T12:32:59-08:00</updated>
   <id>h/2011/11/25/friday-wrightscape-ggplot-wp-memory</id>
   <content type="html">&lt;h2 id=&quot;more-sub-model-comparisons&quot;&gt;more sub-model comparisons&lt;/h2&gt;
&lt;p&gt;wrightscape sub-models:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a1 independent alphas, global theta, sigmas&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bm “brownie” (alpha = 0, indep sigmas)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a2 independent alpha, theta, global sigma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;s1 indep sigma, global alpha, theta&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;s2 indep sigma, theta, global alpha&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;basic-nelder-mead&quot;&gt;Basic Nelder Mead&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7142/6402641965_cf632aa2cf_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;simulated-annealing&quot;&gt;Simulated annealing&lt;/h3&gt;
&lt;p&gt;associated parameter estimates&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7015/6403260959_04a0f06d73_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This approach is really not finding a very robust solution.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6402646435_b77d7d2548_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;plotting-with-stats_summary&quot;&gt;Plotting with stats_summary()&lt;/h2&gt;
&lt;p&gt;Using stats_summary instead of melt and cast computations and line and ribbon geometries for adding statistical layers to plots.  For instance, from plots.R in SDP code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, variable ==&lt;span class=&quot;st&quot;&gt; &amp;quot;unharvested&amp;quot;&lt;/span&gt;),
           &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; L1)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;# shows the mean +/i mult * sd , requires Hmisc&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.data =&lt;/span&gt; mean_sdl, &lt;span class=&quot;dt&quot;&gt;geom=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;smooth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mapping=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;mult=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that this needs thee aesthetic mapping (group=1) to know what to do. I’m not clear exactly why.&lt;/p&gt;
&lt;p&gt;Note also that “mult” is an additional option, and is passed to the function, mean_sdl, specifying the multiplier in front of the standard deviation.&lt;/p&gt;
&lt;p&gt;The documentation of possible function definitions in stat_summary aren’t entirely clear. This can take fun.y to apply the function across y values, for instance, to calculate just the mean:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;subset&lt;/span&gt;(dat, variable ==&lt;span class=&quot;st&quot;&gt; &amp;quot;unharvested&amp;quot;&lt;/span&gt;),
       &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(time, value, &lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; L1)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_line&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) +
&lt;span class=&quot;st&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;stat_summary&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;fun.y =&lt;/span&gt; mean, &lt;span class=&quot;dt&quot;&gt;geom=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;line&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mapping=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;group =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we’ve also changed the geometry to line, since we’re not returning ymin/ymax information.&lt;/p&gt;
&lt;p&gt;We could add separate functions for the lower and upper bounds, fun.ymin and fun.ymax instead. Again we’d need a geometry that knew what to do with these – for instance, “smooth” or “errorbar”.&lt;/p&gt;
&lt;p&gt;There’s quite a collection of convenient functions whose wrappers are provided through the package Hmisc, such as the mean_sdl choice shown here, which are illustrated well in the stat_summary examples.&lt;/p&gt;
&lt;h2 id=&quot;wordpress-memory-management&quot;&gt;Wordpress memory management&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/tpc-memory-usage/&quot;&gt;tcp-memory-usage&lt;/a&gt; plugin&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Increased available memory in wp-config.php (&lt;a href=&quot;http://codex.wordpress.org/Editing_wp-config.php&quot;&gt;instructions&lt;/a&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wow, my &lt;a href=&quot;http://support.rstudio.org/help/discussions/problems/1169-installing-server-edition-by-source-on-debian-lenny&quot;&gt;saga continues&lt;/a&gt; for RStudio server running on Debian Lenny…&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Getting the right distributions</title>
   <link href="/2011/11/23/getting-the-right-distributions.html"/>
   <updated>2011-11-23T07:43:27-08:00</updated>
   <id>h/2011/11/23/getting-the-right-distributions</id>
   <content type="html">&lt;p&gt;Determining the stochastic transition matrix is the essential computational step of SDP solution. If stochasticity enters only in the growth process:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = z_t f(x_t)&quot; alt=&quot;x_{t+1} = z_t f(x_t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?z_t\inline&quot;/&gt;&lt;/span&gt; is a draw from a log-normal density distribution function $  (x; , ) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, then the probability that\inline&quot;/&gt;&lt;/span&gt;x_{t+1}$ falls within a bin $ [x_i-,x_i+] $ given that at it is currently at &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t = y\inline&quot;/&gt;&lt;/span&gt; is&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P([x_i-\Delta,x_i+\Delta] |y) = \int_{x-\Delta}^{x+\Delta} \log \mathcal{N}(x; \log(f(y)) + \mu, \sigma) dx&quot; alt=&quot;P([x_i-\Delta,x_i+\Delta] |y) = \int_{x-\Delta}^{x+\Delta} \log \mathcal{N}(x; \log(f(y)) + \mu, \sigma) dx&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that we are discritizing the transition matrix to a grid of values $ x_i $ at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt; to $ x_j$ at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t+1\inline&quot;/&gt;&lt;/span&gt;, hence the binning question, where $ $ is half the grid bin width.&lt;/p&gt;
&lt;p&gt;Another note: Let us assume z_t is mean unity; only logical for the growth equation. In the case of the log-normal, the parameter $ $ is the log mean, thus: $ z_t =  (x; (1) - ^2/2, ) $.&lt;/p&gt;
&lt;h3 id=&quot;computational-implementation-comparison&quot;&gt;Computational implementation / comparison&lt;/h3&gt;
&lt;p&gt;On a fine grid, this seems to be the same as just evaluating the density at the midpoint and normalizing.&lt;/p&gt;
&lt;p&gt;For instance, we could integrate following the definition above:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
bw &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;(x_grid[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;x_grid[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]) /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# we&amp;#39;ll go from the midpoint&lt;/span&gt;
F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y,h,p)) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma_g ^&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; /&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_g)
Prob &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, function(x) &lt;span class=&quot;kw&quot;&gt;integrate&lt;/span&gt;(F, x -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bw, x +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bw)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] )
Prob/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(Prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;which seems to get us the same thing as evaluating the density directly at the midpoint:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
Prob &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x_grid, &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y)) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma))
Prob/&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(Prob)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note also that because we’re normalizing, we could just as easily rescaled the state by the mean,&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x/&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(y), &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigma^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/43cb4839d91f6ea310678289dbf6368739f131e3/R/SDP/unit_tests.R&quot;&gt;this example code&lt;/a&gt; (requires my&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/ae2bb58ca29339d81e815e032bdffa9f17391b3f/R/SDP/stochastic_dynamic_programming.R&quot;&gt;stochastic_dynamic_programming.R&lt;/a&gt;functions), distributions agree pretty exactly (red and blue distributions overlap exactly to look purple):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm8.staticflickr.com/7002/6391815985_360cf7c40f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;adding-additional-sources-of-uncertainty&quot;&gt;Adding additional sources of uncertainty&lt;/h3&gt;
&lt;p&gt;In the above, next year’s population is uncertain but this year’s is known perfectly. Imagine the current value of the stock &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt;, is a random deviate from the value we measured &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_t\inline&quot;/&gt;&lt;/span&gt;, given by the probability density $ P_m(x_t) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and the harvest level will be a random variate around whatever level we set for the quota, given from the distribution P_q(h).  Both of these introduce uncertainty into the expected value of stock next year,\inline&quot;/&gt;&lt;/span&gt;f(x_t,h_t)$:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P([x_i,x_i+\Delta] |m_t, q_t) =&quot; alt=&quot;P([x_i,x_i+\Delta] |m_t, q_t) =&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\int_x^{x+\Delta} dx  \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y)&quot; alt=&quot;\int_x^{x+\Delta} dx  \int_0^{\infty}dy \int_0^{\infty} dh\cdot \ln\mathcal{N}(x; \log(f(y,h)) + \mu, \sigma) P_q(h) P_m(y)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Looks like this is gonna be un-pretty. Cubature R package is supposed to handle these higher-dimensional integrals quickly, but no luck. Computation for even a single integral is very slow:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(cubature)
pdf_zg &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x, expected) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(expected)-sigma_g^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_g)
pdf_zm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)-sigma_m^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_m)
pdf_zi &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x,q) &lt;span class=&quot;kw&quot;&gt;dlnorm&lt;/span&gt;(x, &lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;(q)-sigma_i^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;/&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, sigma_i)
F &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;kw&quot;&gt;pdf_zg&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],x[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;],p))*&lt;span class=&quot;kw&quot;&gt;pdf_zm&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])*&lt;span class=&quot;kw&quot;&gt;pdf_zi&lt;/span&gt;(x[&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], q)
&lt;span class=&quot;kw&quot;&gt;adaptIntegrate&lt;/span&gt;(F, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(x_grid[i]-bw,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(x_grid[i]+bw, x_grid[gridsize], h_grid[gridsize]))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(See full example as &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/c6d77e639b9fe4dd575e0b276568815b9b4767ee/R/SDP/unit_test2.R&quot;&gt;unit_test2&lt;/a&gt;)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>some configuration notes: RStudio setup, syntax highlighting in sweave</title>
   <link href="/2011/11/22/some-configuration-notes-rstudio-setup-syntax-highlighting-in-sweave.html"/>
   <updated>2011-11-22T10:51:19-08:00</updated>
   <id>h/2011/11/22/some-configuration-notes-rstudio-setup-syntax-highlighting-in-sweave</id>
   <content type="html">&lt;p&gt;Installing R-Studio on my dreamhost VPS server. Dreamhost runs debian lenny, which is a bit dated, making it necessary to install from source. (Would be easy on a modern ubuntu server). Here we go.&lt;/p&gt;
&lt;p&gt;First, we probably want to install R from source to begin with (Lenny comes with cutting-edge R 2.7.1…). This needs to be done with shared libs enabled. Also I needed to run it without recommended-packages to get the initial install working&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
./configure --with-recommended-packages=no --enable-R-shlib 
&lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; 
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;install&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# now install the shared libs&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;prefix=&lt;/span&gt;/path/to/here install-libR
&lt;span class=&quot;co&quot;&gt;# and install the recommended packages &lt;/span&gt;
tools/./rsync-recommended&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Patience is required. Increasing memory available during this task by about 400MB (through the dreamhost panel) might be a good idea.&lt;/p&gt;
&lt;p&gt;Rstudio source install uses cmake and packages the dependencies itself, so installation isn’t necessarily intuitive. Note that we will compile dependencies from source included in RStudio, rather than just grabbing libboost-dev over apt-get.&lt;/p&gt;
&lt;p&gt;Download and extract the tarball, and cd into the base rstudio directory. Then install the dependencies – sit tight, this can take a while. Again, the extra 400MB memory helps.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; dependencies/linux/older
./install-boost&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; ../../..
&lt;span class=&quot;kw&quot;&gt;mkdir&lt;/span&gt; build
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; build
cmake -DRSTUDIO_TARGET=Server -DCMAKE_BUILD_TYPE=Release ..&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Still stuck at this stage. Filed &lt;a href=&quot;http://support.rstudio.org/help/discussions/problems/1169-installing-server-edition-by-source-on-debian-lenny&quot;&gt;help ticket&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Trying out the desktop IDE. Might take a bit to get me to edit code outside of vim though…&lt;/p&gt;
&lt;h2 id=&quot;sweave-documents-with-pretty-formatting-flexible-graphic-layout-and-syntax-highlighting&quot;&gt;Sweave documents with pretty formatting, flexible graphic layout and syntax highlighting&lt;/h2&gt;
&lt;p&gt;Install the package SweaveListingUtils in order to have syntax highlighting in Sweave documents. Requires a few extra commands in the sweave file, see its vignette for details. Here’s a working template combined with the elsarticle class. This also illustrates modifying the footer of elsarticle without changing the class; see my &lt;a href=&quot;http://tex.stackexchange.com/questions/35712/modify-footer-used-by-elsarticle-cls/35714#35714&quot;&gt;tex-overflow&lt;/a&gt; question.&lt;/p&gt;
&lt;p&gt;[gist id=1387759]&lt;/p&gt;
&lt;h3 id=&quot;latex-equations-in-r-plots&quot;&gt;Latex equations in R plots&lt;/h3&gt;
&lt;p&gt;The plotmath syntax can be annoying. If you’re willing to restrict your device output to generating tex files that you then run pdflatex on for pdf graphics, you can get around this nicely with tikzDevice package. See &lt;a href=&quot;stackoverflow.com/questions/8190087/italic-greek-letters-latex-style-math-in-r-plot-titles-with-ggplot/&quot;&gt;stackoverflow&lt;/a&gt; answers.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Google tasks in my system tray? Nope. Apparently this used to be &lt;a href=&quot;http://namsisi.wordpress.com/2009/02/22/gmail-tasks-in-your-ubuntu-system-tray/&quot;&gt;possible&lt;/a&gt; with &lt;a href=&quot;http://prism.mozillalabs.com/&quot;&gt;prism&lt;/a&gt;, a mozillalabs project to allow web applications to run natively in the desktop ((ironically the opposite direction from google’s chrome-os and the direction of mobile developers)). The project is no longer supported but &lt;a href=&quot;http://mozillalabs.com/blog/2011/02/prism-is-now-chromeless/&quot;&gt;will be replaced&lt;/a&gt; by chromeless, a more ambitious version which is still pre-alpha.&lt;/p&gt;
&lt;p&gt;Eventually should learn to use google+. Looks like I need to spend some time organizing circles. seems like having separate accounts (e.g. facebook for friends/personal stuff, twitter for professional) is much easier. too lazy to use facebook already.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/11/18/friday-7.html"/>
   <updated>2011-11-18T09:32:00-08:00</updated>
   <id>h/2011/11/18/friday-7</id>
   <content type="html">&lt;p&gt;Connecting weather fluctuations to trends in climate: should really consider replicating (Min &lt;em&gt;et. al.&lt;/em&gt; 2011) and (Pall &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;p&gt;Ooh.. David’s Nature Climate paper (McCollum &lt;em&gt;et. al.&lt;/em&gt; 2011).  (Does UC Davis really not have access to this journal?)&lt;/p&gt;
&lt;p&gt;Sebastian mentioned his advisor’s work on&lt;a href=&quot;http://www.youtube.com/watch?v=R_w4HYXuo9M&quot;&gt;inverting the sphere without creating a fold&lt;/a&gt;, including a proof through a series of physical models made with chickenwire.  Math is crazy.&lt;/p&gt;
&lt;p&gt;Reviewing Sebastian’s manuscript on stochastic sinks at lab meeting.  Clear writing and one of my favorite cocktail-party results - persistence of coupled sink habitats.  A must read.&lt;/p&gt;
&lt;p&gt;** Integrating the densities instead of simulating probability distributions for the stochastic population dynamics would make the most sense.  Extra noise terms involve high-dimensional intergrals, consider the &lt;a href=&quot;http://ab-initio.mit.edu/wiki/index.php/Cubature&quot;&gt;cubature&lt;/a&gt; R package.&lt;/p&gt;
&lt;p&gt;Excellent lab group meeting given by Jamie today, population genetics results with red noise, extinction results.  Reminded me of my NSF proposal, see&lt;a href=&quot;http://www.carlboettiger.info/archives/2699&quot;&gt;classic red noise results&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/ajaxplorer/public/a048f2146403c451d9d4e6de8db2b038.php&quot;&gt;NSF proposal.&lt;/a&gt;, and&lt;a href=&quot;http://www.carlboettiger.info/archives/3135&quot;&gt;this calculation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Progress on &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/pollen/readme_pollen.txt&quot;&gt;pollen data&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Min S, Zhang X, Zwiers F and Hegerl G (2011). “Human Contribution to More-Intense Precipitation Extremes.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;470&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09763&quot;&gt;http://dx.doi.org/10.1038/nature09763&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pall P, Aina T, Stone D, Stott P, Nozawa T, Hilberts A, Lohmann D and Allen M (2011). “Anthropogenic Greenhouse Gas Contribution to Flood Risk in England And Wales in Autumn 2000.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;470&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09762&quot;&gt;http://dx.doi.org/10.1038/nature09762&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McCollum D, Krey V and Riahi K (2011). “an Integrated Approach to Energy Sustainability.” &lt;em&gt;Nature Climate Change&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1758-678X, &lt;a href=&quot;http://dx.doi.org/10.1038/nclimate1297&quot;&gt;http://dx.doi.org/10.1038/nclimate1297&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Steve Pacala - Storer lecture</title>
   <link href="/2011/11/17/steve-pacala-storer-lecture.html"/>
   <updated>2011-11-17T15:16:30-08:00</updated>
   <id>h/2011/11/17/steve-pacala-storer-lecture</id>
   <content type="html">&lt;p&gt;Excellent visit from a former advisor, Steve Pacala, at Davis for a Storer lecture.&lt;/p&gt;
&lt;h2 id=&quot;seminar&quot;&gt; Seminar&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;atmospheric CO2 is roughly half CO2 production, rest is being mitigated by the natural carbon sink&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carbon sink is half ocean, half terrestrial&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A grim future:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;450ppm not feasible&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;500ppm best case&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;550ppm is likely even if we are largely successful&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Even worse if the terrestrial sink collapses.  Will it?  Discussion of GCM models.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There’s no reason to trust these models - and I make them. - 100’s of free parameters. This is the nature of an ecological crisis. the policy world needs an answer. the science isn’t ready, and that’s just tough.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Current climate models predict collapse of sink due to carbon enrichment going mostly into fine roots, rather than more lasting trunks.  These disagree with the FACE experiments at Duke manipulating the carbon enrichment of trees empirically.  Current carbon methods scale the leaf to the globe, and have forgotten the lesson of &lt;strong&gt;Gersani’s soybeans&lt;/strong&gt; (Gersani &lt;em&gt;et. al.&lt;/em&gt; 2001). Steve elegantly summarized:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Nature isn’t a meritocracy. it’s more like an sat test where you can also kick people in the face.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Next is a beautiful recap of approximating the individual-based simulation forest SORTIE models into the analytically tractable PPA model with hopes that this can scale to the global scale, wonderfully described in Purves et al (Purves &lt;em&gt;et. al.&lt;/em&gt; 2008), which I cut my teeth on &lt;a href=&quot;http://www.mendeley.com/download/public/98752/3107796981/f36faf01ce5eefa266480067793881530f212fea/dl.pdf&quot;&gt;as an undergraduate&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;What follows next is upcoming insights from his grad student Caroline Farrior and others on root-shoot competition that may resolve the FACE/GCM paradox. (unpublished, no notes here yet).&lt;/p&gt;
&lt;h2 id=&quot;speaker-dinner&quot;&gt;Speaker dinner&lt;/h2&gt;
&lt;p&gt;Perhaps the best part of the Storer lectures is the session after dinner where the guest is invited to expound upon any topic of interest and controversy. Sometimes this feels like roasting the guest, but tonight it was more the other way around.  Steve reminded us of the poor state of science recognition in the country (most Americans cannot name a single scientific agency they trust – a few come up with NASA, and a few with CDC, and no one has heard of the National Academy).  He then challenged us to answer what we were doing about it, and shared some insights from their work at &lt;a href=&quot;http://www.climatecentral.org/&quot;&gt;Climate Central&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After much study, their team has decided that Americans trust local weather media anchor the most of almost any authority, and tend to turn to this source particularly during extreme weather events.  These anchors are well rewarded for this trust as some of the best paid media positions, making some $2e6 a year.  Couple this with two other key observations: (1) during a weather crisis, people are most receptive to ideas about climate change (Hurricane Katrina is perhaps the best example); and (2) these anchors &lt;em&gt;love&lt;/em&gt; discussing data on climate change during these events.&lt;/p&gt;
&lt;p&gt;The latter surprised me – anyone else trying to get trust of the public avoids controversial topics.  But for the local weather anchor, this lets them say things like “the heat waves this summer are twice as frequent as the heat waves our grandfathers in this town experienced.”  It gives them something to talk about, and it gives their viewers something to talk about, call in, and post on their blogs, driving up their ratings.&lt;/p&gt;
&lt;p&gt;The facts are there. (Pacala even observed that the US military uses a moving-average weather model to get accurate forecasts because they just couldn’t get accurate predictions in combat areas without building climate change into their models). To sway the American public, we just need to get the current conditions compared to historical conditions, wait for the next extreme weather, and demonstrate it’s a statistical outlier, and get the data into the hands of the local weather news anchors.  Everywhere in the US.&lt;/p&gt;
&lt;p&gt;Pacala didn’t get much push back on this, though the connection of extreme weather and climate is of course not the favorite tack of scientific community.  It was only&lt;a href=&quot;http://www.nature.com/news/2011/110907/full/477148a.html&quot;&gt;this September&lt;/a&gt;that &lt;em&gt;Nature&lt;/em&gt; ran a series of pieces putting this forward seriously(Schiermeier, 2011) - the articles and comments make great reading.&lt;/p&gt;
&lt;h2 id=&quot;meeting&quot;&gt;Meeting&lt;/h2&gt;
&lt;p&gt;Discussion of warning signals and potential data sets, particularly for spatial systems.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Black hawk island - spatial waves in tree dynamics between maples (improve soil strategy) and spruce (degrade soil strategy).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Varve lake pollen deposits – very rich history.  Suggested a European database and US database, still trying to track these down. The &lt;a href=&quot;http://www.europeanpollendatabase.net/&quot;&gt;European&lt;/a&gt; one?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gersani M, Brown J, O’Brien E, Maina G and Abramsky Z (2001). “Tragedy of The Commons as A Result of Root Competition.” &lt;em&gt;Journal of Ecology&lt;/em&gt;, &lt;strong&gt;89&lt;/strong&gt;. ISSN 0022-0477, &lt;a href=&quot;http://dx.doi.org/10.1046/j.0022-0477.2001.00609.x&quot;&gt;http://dx.doi.org/10.1046/j.0022-0477.2001.00609.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Purves D, Lichstein J, Strigul N and Pacala S (2008). “Predicting And Understanding Forest Dynamics Using A Simple Tractable Model.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0807754105&quot;&gt;http://dx.doi.org/10.1073/pnas.0807754105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schiermeier Q (2011). “Climate And Weather: Extreme Measures.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;477&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/477148a&quot;&gt;http://dx.doi.org/10.1038/477148a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>wrightscape and sensitivity to initial conditions</title>
   <link href="/2011/11/17/wrightscape-and-sensitivity-to-initial-conditions.html"/>
   <updated>2011-11-17T15:08:14-08:00</updated>
   <id>h/2011/11/17/wrightscape-and-sensitivity-to-initial-conditions</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6236/6355255495_9e411fa96e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Seems ouma performs poorly, though the sign of the effect seems correct. Starting conditions cause this.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6102/6355521393_87bb3660bc_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6216/6355521309_56d048c641_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Even starting conditions: improves the fit and flips the sign of the result.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6111/6355669139_71c319e27f_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6037/6355606159_9e1c68d77a_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;More parameters: &lt;img src=&quot;http://farm7.staticflickr.com/6019/6355483585_2f66181ff2_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;addendum&quot;&gt;addendum&lt;/h3&gt;
&lt;p&gt;Longer runs using simulated annealing can still get stuck.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6052/6384795655_a51d85a30a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6384795737_4923194030_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Tues: Sources of stochastic variation in optimal control</title>
   <link href="/2011/11/15/tuesday-10.html"/>
   <updated>2011-11-15T15:28:14-08:00</updated>
   <id>h/2011/11/15/tuesday-10</id>
   <content type="html">&lt;p&gt;Adding stochasticity seems to have a small history.&lt;/p&gt;
&lt;p&gt;Reed 1979 Reed, 1979 Uncertainty in &lt;em&gt;next year’s stock&lt;/em&gt;, “growth uncertainty” at the time of determining harvest. Constant escapement policy, no chance of extinction.&lt;/p&gt;
&lt;p&gt;Clark &amp;amp; Kirkwood 1986 Clark &amp;amp; Kirkwood, 1986 Uncertainty in &lt;em&gt;this year’s stock&lt;/em&gt;, “measurement uncertainty” when determining harvest.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pnas.org/content/93/10/5078.short&quot;&gt;Roughgarden &amp;amp; Smith (1996)&lt;/a&gt; consider both, and add uncertainty in harvest. Sethi et al. 2005 (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005) consider the economist’s optimization of this.&lt;/p&gt;
&lt;h3 id=&quot;statement-of-problem&quot;&gt;Statement of problem&lt;/h3&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}&quot; alt=&quot;\max_{ \{ q_t \} \leq 0 }  \mathbb{E} \left\{ \sum_0^{\infty} \alpha^t h_t \right\}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;s.t. Fish population follows: $ x_t = z_t^g f( x_{t-1} - h_{t-1} ) $ and measured stock is given by: $ m_t = z_t^m x_t $ while harvest is: $ h_t = (x_t, z_t^i q_t) $&lt;/p&gt;
&lt;p&gt;Where $ z^g $ denotes uncertainty in population growth, $ z^m $ denotes uncertainty in measurement for the stock assessment, and $ z^i $ denotes uncertainty in harvest implementation. Note we ignore the profit function for the moment and just maximize infinite-horizon harvest.&lt;/p&gt;
&lt;p&gt;From this we must set up the stochastic transition matrix. Instead of defining this over the known current stock values &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt; as we did before, our decision state-space is defined over the measured values $ m_t $, which is given by:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right)&quot; alt=&quot;m_t = z_t^m z_t^g f\left( x_{t-1} - \min(x_{t-1}, z_{t-1}^i q_{t-1})  \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The trick here is assigning the probability distribution on $ m_t $. Otherwise the optimization proceeds as before with the modified stochastic transition matrix. Sethi et al., and Clark &amp;amp; Kirkwood choose uniform random variables over given intervals for each, which seems like a rather strange choice. Reed 1979 uses a normal distribution.&lt;/p&gt;
&lt;p&gt;Have implemented a general simulation-based approach to generate the stochastic transition matrix for arbitrary distribution shapes for $ z_t^g &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?,\inline&quot;/&gt;&lt;/span&gt; z_t^m &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?,\inline&quot;/&gt;&lt;/span&gt; z_t^i $.&lt;/p&gt;
&lt;h3 id=&quot;further-topics&quot;&gt;Further topics&lt;/h3&gt;
&lt;p&gt;(parameter uncertainty - more extensive literature)&lt;/p&gt;
&lt;p&gt;(modified to be effort-based. Explore with an allee effect).&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Completed review for THEE.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;on Uncertain Renewable Resource Stocks: Optimal Harvest Policies And The Value of Stock Surveys, Colin W. Clark, Geoffrey P. Kirkwood, (1986) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-06968690024-0&quot;&gt;10.1016/0095-0696(86)90024-0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-06967990014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>non-optimal outcomes of optimal solutions</title>
   <link href="/2011/11/12/non-optimal-outcomes-of-optimal-solutions.html"/>
   <updated>2011-11-12T16:54:39-08:00</updated>
   <id>h/2011/11/12/non-optimal-outcomes-of-optimal-solutions</id>
   <content type="html">&lt;p&gt;I consider the optimal stochastic-dynamic programming solution for the model specified with known stochasticity in population dynamics, but now vary the actual simulated dynamics to include further uncertainty or error not included in the optimal solution in different ways. In some way this is an “unfair” analysis, as I really should be solving for the optimal solution in light of the fully uncertain space, but in practice this at least serves as a sensitivity analysis to the assumptions that certain quantities are perfectly known. I consider several scenarios below.&lt;/p&gt;
&lt;h3 id=&quot;parameter-value-misspecification&quot;&gt;Parameter value misspecification&lt;/h3&gt;
&lt;p&gt;Has essentially no impact on extinction risk on models without allee effects, but dramatic impact of 5% overestimate in a parameter. Many optimally managed populations crash, compare to very few crashes of the same dynamics in unharvested scenario:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/6339141969_0ff1be1d6a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6339892296_18a8e5a0db_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;uncertainty-in-harvest-and-stock&quot;&gt;Uncertainty in harvest and stock&lt;/h3&gt;
&lt;p&gt;Doing optimal management that accounts for stock growth uncertainty but not harvest uncertainty or stock assessment uncertainty. Large stock assessment uncertainty can crash even the non-allee Beverton-Holt model.&lt;/p&gt;
&lt;h4 id=&quot;risk-of-ignoring-stock-assessment-uncertainty&quot;&gt;Risk of ignoring stock-assessment uncertainty&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6339956972_10d3a84497_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Will need to account for these uncertainties in the optimal solution. Increasing noise in the population dynamics (which the optimal solution is compensating for) can compensate for this, and additional stock assessment noise doesn’t do much additional damage:&lt;/p&gt;
&lt;h4 id=&quot;unaccounted-for-uncertainty-can-have-little-impact-when-smaller-than-the-accounted-for-sources&quot;&gt;Unaccounted-for uncertainty can have little impact when smaller than the accounted-for sources&lt;/h4&gt;
&lt;h4 id=&quot;section&quot;&gt;&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6339968498_c715285c49_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;including-policy-limitations&quot;&gt;including policy limitations&lt;/h3&gt;
&lt;p&gt;Consider performing the stock assessment and updating the harvest quota (according to the optimal management solution) every four years. Note this is suboptimal as the optimization assumed updating every year was possible.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6345350242_8b11b20f21_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6114/6345352340_8394155570_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;further-simple-examples&quot;&gt;further simple examples&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should consider annually adjusted quotas based on projected stock assessment. Compare to fixed quota calculated for a 4-yr interval between assessments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Slower-responding policy variable?  cost to changing fishing effort?  differential cost to increase vs decrease effort?  differing timescales?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should add plots to compare profits associated with different perturbations&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;varying-the-cost-of-extinction&quot;&gt;Varying the cost of extinction&lt;/h3&gt;
&lt;p&gt;This one is a bit different then the uncertainty experiments. Since the population can crash, we can consider a penalty for crashing the population by offering a reward for meeting the boundary condition. In the deterministic (or nearly deterministic) case, this condition is always satisfied. In the very stochastic case, the optimal solution accepts some probability of not satisfying the boundary condition in return for a greater harvest reward.&lt;/p&gt;
&lt;p&gt;Dramatically (100x) increasing reward for meeting boundary condition at or above allee threshold can decrease crashes even in spite of model parameter misspecification (5% lower growth, as above):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6111/6339906744_b68e322437_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Direct (but finite) cost penalty on extinction, vs adjusting reward for meeting boundary condition? How is this implemented?&lt;/p&gt;
&lt;h3 id=&quot;learning-adaptive-management&quot;&gt;Learning &amp;amp; adaptive management&lt;/h3&gt;
&lt;h2 id=&quot;readingrefs&quot;&gt;Reading/Refs&lt;/h2&gt;
&lt;p&gt;Working through Sethi et al, “Fishery Management Under Multiple Uncertainty,” (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wainwright Retreat to Hastings Reserve</title>
   <link href="/2011/11/12/of-labrids-and-dubious-convergence.html"/>
   <updated>2011-11-12T13:36:51-08:00</updated>
   <id>h/2011/11/12/of-labrids-and-dubious-convergence</id>
   <content type="html">&lt;p&gt;Two-day mini conference with Wainwright lab, Mike Alfaro lab, Rita Mehta lab, Tim Higham lab at the Hastings reserve, with everyone (about 30 of us) presenting, and discussions on convergence and on modularity.&lt;/p&gt;
&lt;h2 id=&quot;more-labrid-trait-evolution&quot;&gt;more labrid trait evolution&lt;/h2&gt;
&lt;p&gt;alpha &amp;amp; sigma models on two shifts, not converged runs.  should really consider the mcmc or at least simulated annealing.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6103/6334250289_993e6d5ffb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Peter proposes looking at model adequacy by deviance of a observed traits from what is expected under the model (by replicate simulations).  Added a little function to do this for my wrightscape fits.  Blue: less than 1 sd, green 1-2 sd, orange 2-3, &amp;gt;3 red:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6108/6339237621_9b300c2a42_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# create a colorcoded plot of how well each tip is fitting it&amp;#39;s predicted value&lt;/span&gt;
tip_plot &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(modelfit, &lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, ...){
  dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;modelfit$data
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;modelfit$tree

  reps &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n, function(i) &lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(modelfit)))

  m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rowMeans&lt;/span&gt;(reps)
  sder &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:(&lt;span class=&quot;kw&quot;&gt;dim&lt;/span&gt;(reps)[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]), function(i) &lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(reps[i,]))
  colorcode &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;dat[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;orange&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;green&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;blue&amp;quot;&lt;/span&gt;
  colorcode[ &lt;span class=&quot;kw&quot;&gt;abs&lt;/span&gt;(dat -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m) &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;*sder ] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;red&amp;quot;&lt;/span&gt;
  tr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;convert&lt;/span&gt;(tree, colorcode)

  col &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr$regimes[!&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tr$regimes)]
  &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(tr, ...)
  &lt;span class=&quot;kw&quot;&gt;tiplabels&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;col, &lt;span class=&quot;dt&quot;&gt;pch=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;19&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;tr, &lt;span class=&quot;dt&quot;&gt;tipcolors=&lt;/span&gt;col)
}&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;community-phylo-exploration&quot;&gt;Community Phylo exploration&lt;/h3&gt;
&lt;p&gt;Based on a question from Jonathan Chang’s presentation; we work this out during the break: Evolutionarily-motivated models for null models for community phylogenetics:&lt;/p&gt;
&lt;p&gt;picante, distribution of distance-based clustering summary-statistics: &lt;strong&gt;mntd, mpd. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Simulate data under the evolutionary transition rate model.  Estimate the summary statistic on this data.  Bootstrap the estimate over the discrete trait simulations.  Not significant:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6338897429_4815f01abc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Compare to null distributions from the picante methods (run with ses.mntd, ses.mpd): for instance: p = 0.07 according to ses.mntd on this model.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/11/10/thursday-12.html"/>
   <updated>2011-11-10T09:36:48-08:00</updated>
   <id>h/2011/11/10/thursday-12</id>
   <content type="html">&lt;p&gt;Forage Fish dynamics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Forage fish consumption: who consumes, how important is it. e.g. Africa imports more quantity of fish, but of low value. net exports based on value.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;food security / undernourished regions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;forage fish substitutable? Study in Asia: Pretty inelastic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;income elasticity vs wealth elasticity (not a real difference. but patterns of consumption of a rich person aren’t same as poor person with a windfall, e.g. income != wealth)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Is converting forage fishery to direct consumption the best approach to malnourished (direct consumption raises value? – when is that even possible? technological limitation? how about policy?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alaska Halibut - regulation was derby-based, all fishing was done in 2 24 hr windows, had to freeze it. Regulation switched to ITQ, and now fished over longer time and could sell fresh.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;but fishmeal is elevating prices? - economics may not play out. other demand - vitamins, pet food, bait? elastic/substitutable?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tim: lobster fishing in Maine act like aquaculture - bait is the major food source, and the population is much larger than natural size.  – regulation is like a marine fishery though.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Auteur plots for reef fish jaws and monkey brains -- needs tweaking</title>
   <link href="/2011/11/10/auteur-plots-for-reef-fish-jaws-and-monkey-brains-needs-tweaking.html"/>
   <updated>2011-11-10T09:22:17-08:00</updated>
   <id>h/2011/11/10/auteur-plots-for-reef-fish-jaws-and-monkey-brains-needs-tweaking</id>
   <content type="html">&lt;p&gt;Looking at the diversification patterns from Auteur.  Longer rjmcmc runs aren’t showing a significant difference, but more attention needed in parameters such as initial merge-split probability perhaps?  Seems to overestimate the change points.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6033/6333499476_06c5674425_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6235/6327052959_473815cc4d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6105/6332213939_5c0707a26d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6226/6327078803_4b6dd1cc44_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Remains true for the primate brains example:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6322815367_6a796cd607_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Set up to run on carver cluster, copy over the saved rda file and all files matching the random string already saved as outputs.  Full labrid example on 20 cores still exceeds the allocation capacity for an R vector.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Note on the x-axis scale - often isn’t autoscaled, but providing the appropriate a range to xlim (matching max branch length) can fix this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cannot figure out how to increase the fontsize of species names - cex or pointsize for png output both only seem to increase fontsize for the legends, etc.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Parallel hpc on clusters in R, MPI</title>
   <link href="/2011/11/10/parallel-computing-on-clusters-in-r-mpi.html"/>
   <updated>2011-11-10T08:49:17-08:00</updated>
   <id>h/2011/11/10/parallel-computing-on-clusters-in-r-mpi</id>
   <content type="html">&lt;p&gt;Some notes for reference on parallel computing strategies on R with dedicated high performance clusters.&lt;/p&gt;
&lt;h2 id=&quot;parallelization-in-r&quot;&gt;parallelization in R&lt;/h2&gt;
&lt;p&gt;For cluster computing in R, I’ve found the “snow” package with MPI to be the most flexible and robust solution. snowfall is a useful package to use multiple cores on a single processor, but requesting all 16 threads on a node is a much more difficult demand for the queue to fill than 16 threads on all nodes. Requesting more nodes is sometimes useful simply to have more memory, and also to take advantage of the communication speed between nodes.&lt;/p&gt;
&lt;p&gt;Regardless, parallelization across a cluster in R requires: (1) initializing the cluster, (2) export library, variables and functions, (3) execute a parallelized apply command.&lt;/p&gt;
&lt;p&gt;Illustrating a couple different approaches:&lt;/p&gt;
&lt;p&gt;[gist id=1356682]&lt;/p&gt;
&lt;h2 id=&quot;working-with-the-queue&quot;&gt;Working with the queue&lt;/h2&gt;
&lt;p&gt;Writing a shell script for NERSC’s &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/carver/getting-started/&quot;&gt;Carver&lt;/a&gt;, (IBM iDataPlex). Note the commands that begin #PBS look to be commented out but are really preprocessor commands used to set up the queue before the actual bash commands are run. Using double hashes to distinguish true comments. Writing shell script for &lt;a href=&quot;http://cccc.caes.ucdavis.edu/&quot;&gt;Farm cluster&lt;/a&gt;, CentOS5.5, syntax differs a bit.&lt;/p&gt;
&lt;p&gt;[gist id=1356685]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;qsub run.sh (submits the shell script to the queue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qstat - u username (status)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qdel (removes item from queue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;qlogin (on farm, log into a computational node for some quick testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;nersc-particulars&quot;&gt;NERSC particulars&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Great information on &lt;a href=&quot;http://www.nersc.gov/systems/&quot;&gt;NERSC systems&lt;/a&gt; and tutorials on their website.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get an &lt;a href=&quot;https://www.nersc.gov/users/accounts/allocations/&quot;&gt;allocation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://shib.nersc.gov/idp/Authn/UserPassword&quot;&gt;log in&lt;/a&gt;, &lt;a href=&quot;https://www.nersc.gov/users/my-nersc-2/&quot;&gt;My NERSC Dashboard&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;authentication&quot;&gt;Authentication&lt;/h2&gt;
&lt;p&gt;Should summarize setting up RSA authentication keys, meanwhile see &lt;a href=&quot;https://help.ubuntu.com/community/SSH/OpenSSH/Keys&quot;&gt;ubuntu reference&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;See notes on &lt;a href=&quot;http://www.carlboettiger.info/archives/2133&quot;&gt;Segue&lt;/a&gt; for Computing on Amazon clusters.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Crashing stocks and optimal harvesting effort on Allee effects</title>
   <link href="/2011/11/09/crashing-stocks-and-optimal-harvesting-effort-on-allee-effects.html"/>
   <updated>2011-11-09T15:34:48-08:00</updated>
   <id>h/2011/11/09/crashing-stocks-and-optimal-harvesting-effort-on-allee-effects</id>
   <content type="html">&lt;h2 id=&quot;modeling-choices&quot;&gt;Modeling choices&lt;/h2&gt;
&lt;p&gt;Allee effect model: Myers Beverton-Holt with harvesting-effort mortality:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = f(x) = \frac{a x_t^{\alpha}}{1+ x_t^{\alpha}/b} - e x&quot; alt=&quot;x_{t+1} = f(x) = \frac{a x_t^{\alpha}}{1+ x_t^{\alpha}/b} - e x&quot; /&gt;&lt;/div&gt;&lt;/span&gt; For $ = 2 &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, equilibrium points are\inline&quot;/&gt;&lt;/span&gt; x = 0 $ and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x = \frac{ab}{2(1+e)} \pm \frac{1}{2} \sqrt{ \left(\frac{ab}{1+e}\right)^2-4b }&quot; alt=&quot;x = \frac{ab}{2(1+e)} \pm \frac{1}{2} \sqrt{ \left(\frac{ab}{1+e}\right)^2-4b }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;As written this differs from our earlier solutions a couple respects – the growth function applies to the unharvested population, which then experiences harvesting mortality, and the control variable is fishing effort, not harvest.&lt;/p&gt;
&lt;p&gt;We have a bifurcation point induced by increasing effort when &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\left(\frac{ab}{1+e}\right)^2-4b  = 0&quot; alt=&quot;\left(\frac{ab}{1+e}\right)^2-4b  = 0&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?e^* = \frac{a\sqrt{b}-2}{2}&quot; alt=&quot;e^* = \frac{a\sqrt{b}-2}{2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Implementing this (see &lt;a href=&quot;http://www.carlboettiger.info/archives/3176&quot;&gt;earlier notes&lt;/a&gt; for implementation) in stochastic optimal control, we see that we now harvest continuously, not just when population exceeds Reed’s S escapement level (black line, defined in this context as the highest value of the population size at which we do not harvest). More to the point, note that we often but not always apply an effort (green path) that exceeds $ e^* $, (dotted green line).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6060/6329889835_0e813113d7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Despite this, crashes are not that common. We observe 18/100 populations that crash:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6050/6331684019_8ec10867dc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The population dynamics under optimal harvesting for the 100 replicates are shown as black lines, with the overall average trend (light blue line) and standard deviation (blue ribbon) overlaid. A few population crashes can be seen. The black dotted line indicates the allee threshold - note that we see a few populations that are stochastically rescued from below this threshold.&lt;/p&gt;
&lt;p&gt;The green lines shows the harvesting effort (mean and sd shown in the ribbon as before). Note the occasional spikes in harvest effort matching populations that dip below the (unharvested) Allee threshold - with the current profit/cost model it’s worth fishing these out as fast as possible.&lt;/p&gt;
&lt;p&gt;The most interesting observation is the dashed green line – the tipping point at which effort destroys the stable point. Harvesting at that level, the only stable point in the system is extinction - but because it is the control variable, it can simply be relaxed next year, allowing the population to recover (as long as the current population isn’t below the allee threshold). Note that on average the effort stays below this level.&lt;/p&gt;
&lt;h3 id=&quot;data-sources&quot;&gt;Data sources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://seaaroundus.org/lme/13/1.aspx&quot;&gt;Humboldt&lt;/a&gt; (Peruvian) Anchoveta&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://seaaroundus.org/lme/9/1.aspx&quot;&gt;Scotian&lt;/a&gt; Cod (&amp;amp; &lt;a href=&quot;http://seaaroundus.org/lme/9/11.aspx&quot;&gt;value&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.st.nmfs.noaa.gov/st1/commercial/landings/annual_landings.html&quot;&gt;NOAA data annual landings&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;some-references-for-fisheries-collapse&quot;&gt;some references for fisheries collapse&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dynamics of collapse (Mullon &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unexpected collapse (Pinsky &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Collapses: stock assessment vs catch (BRANCH &lt;em&gt;et. al.&lt;/em&gt; 2011) (uses the NOAA data above)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extinction vulnerability (Dulvy &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extinction vulnerability in Coral reef fishes (Graham &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;pdg-control-updates&quot;&gt;pdg-control updates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;update sent to Michael&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List of some next steps for pdg-control Training problem II on the &lt;a href=&quot;https://github.com/cboettig/pdg_control/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;github Issues tracker&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mullon C, Freon P and Cury P (2005). “The Dynamics of Collapse in World Fisheries.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1467-2979.2005.00181.x&quot;&gt;http://dx.doi.org/10.1111/j.1467-2979.2005.00181.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pinsky M, Jensen O, Ricard D and Palumbi S (2011). “Unexpected Patterns of Fisheries Collapse in The World’S Oceans.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1015313108&quot;&gt;http://dx.doi.org/10.1073/pnas.1015313108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BRANCH T, JENSEN O, RICARD D, YE Y and HILBORN R (2011). “Contrasting Global Trends in Marine Fishery Status Obtained From Catches And From Stock Assessments.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2011.01687.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2011.01687.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dulvy N, Sadovy Y and Reynolds J (2003). “Extinction Vulnerability in Marine Populations.” &lt;em&gt;Fish And Fisheries&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 1467-2960, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&quot;&gt;http://dx.doi.org/10.1046/j.1467-2979.2003.00105.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Graham N, Chabanet P, Evans R, Jennings S, Letourneur Y, Aaron MacNeil M, McClanahan T, Öhman M, Polunin N and Wilson S (2011). “Extinction Vulnerability of Coral Reef Fishes.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01592.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01592.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>SDP solution for allee model</title>
   <link href="/2011/11/08/sdp-solution-for-allee-model.html"/>
   <updated>2011-11-08T04:40:31-08:00</updated>
   <id>h/2011/11/08/sdp-solution-for-allee-model</id>
   <content type="html">&lt;p&gt;Summarizing efforts from last few days setting up and running some stochastic dynamic programming optimization problems. As we are focusing on discrete time at the moment, these problems are solved by Bellman’s equation (don’t need Hamilton-Jacobi-Bellman formulation).&lt;/p&gt;
&lt;h3 id=&quot;problem-statement&quot;&gt;Problem Statement&lt;/h3&gt;
&lt;p&gt;Choose the harvest level to optimize the profit &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_h \sum_{t=0}^T \beta^t \pi(x,h,t)&quot; alt=&quot;\max_h \sum_{t=0}^T \beta^t \pi(x,h,t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Subject to the boundary conditions &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X(0) = X_0, X(T) = X_T\inline&quot;/&gt;&lt;/span&gt; and the state equation: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X(t+1) = Z(t) f(X(t))&quot; alt=&quot;X(t+1) = Z(t) f(X(t))&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z(t)\inline&quot;/&gt;&lt;/span&gt; is a normal random variable with mean unity and standard deviation &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-transition-matrices&quot;&gt;Stochastic Transition Matrices&lt;/h3&gt;
&lt;p&gt;The problem is discrete in time, but we must still discritize the state and control variables. We define the state (population abundance) to assume only the values on a grid of size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N\inline&quot;/&gt;&lt;/span&gt;. In general the control variable could be defined on a separate grid (for instance, if we used effort-control) but as harvest is in the same units as the state variable (number of fish), we can use the same grid.&lt;/p&gt;
&lt;p&gt;The transition matrix &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{T}  maps all states\inline&quot;/&gt;&lt;/span&gt;x_i$ to all other states &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_j\inline&quot;/&gt;&lt;/span&gt; by their transition probabilities through the state equation: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(x_j | x_i ) = \mathcal{N} \text{lognormal}\left( \frac{x_j}{f(x_i-h)}, \sigma \right)&quot; alt=&quot;P(x_j | x_i ) = \mathcal{N} \text{lognormal}\left( \frac{x_j}{f(x_i-h)}, \sigma \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathcal{N}\inline&quot;/&gt;&lt;/span&gt; is just a normalization, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathcal{N} = \sum_j P(x_j | x_i) = 1\inline&quot;/&gt;&lt;/span&gt;. Note that the state equation is computed on the post-havest population &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_i - h\inline&quot;/&gt;&lt;/span&gt;, and hence a different matrix is produced for each possible value of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; (for the moment we ignore the possibility that this function may vary explicitly with time as well, which would further increase the memory needed).&lt;/p&gt;
&lt;p&gt;The stochastic dynamic programming solution just implements Bellman’s equation: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_{t} = \max_h \left( \mathbf{T}_h V_{t+1} + \pi(x_t, h_t) e^{-\delta (T-t)} \right)&quot; alt=&quot;V_{t} = \max_h \left( \mathbf{T}_h V_{t+1} + \pi(x_t, h_t) e^{-\delta (T-t)} \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We begin with some final value &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_T\inline&quot;/&gt;&lt;/span&gt; a vector of the “scrap” value of each possible end state. For instance, we can offer a fixed profit for all states above &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_T\inline&quot;/&gt;&lt;/span&gt;, and nothing otherwise. We then just iterate backwards, at each time-point trying all possible h values in the grid (from our set of transition matrices &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathbf{T}_h\inline&quot;/&gt;&lt;/span&gt; ) and selecting the best harvest level for each possible system state &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t\inline&quot;/&gt;&lt;/span&gt;. Note this differs a bit from the way the boundary conditions are enforced in the deterministic continuous time case, and the exact value we put here may make a difference in different stochastic realizations.&lt;/p&gt;
&lt;h3 id=&quot;implementation&quot;&gt;Implementation&lt;/h3&gt;
&lt;p&gt;This is implemented in matlab code in the functions: &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/determine_SDP_matrix.m&quot;&gt;determine_SPD_matrix.m&lt;/a&gt;, &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/6fe3bef84398b7358c6abc8240adaf6918ab3057/matlab/find_dp_optim.m&quot;&gt;find_dp_optim.m&lt;/a&gt;, using population dynamics and profit model specified in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/Reed_SDP.m&quot;&gt;Reed_SDP.m&lt;/a&gt;. We can then simulate under the state equation, and apply the optimal solution (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/ForwardSimulate.m&quot;&gt;ForwardSimulate.m&lt;/a&gt;) and plot the results (&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/de5a7cf30142a6ed3bb1a0e07decc366b3dc8f8e/matlab/draw_plots.m&quot;&gt;draw_plots.m&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;This is also implemented in R, with the optimization methods specified in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/6fe3bef84398b7358c6abc8240adaf6918ab3057/R/stochastic_dynamic_programming.R&quot;&gt;stochastic_dynamic_programming.R&lt;/a&gt;, run for selected profit function and population dynamics in &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/12999fa836416352a09550be7db3df2d1f172102/R/Reed.R&quot;&gt;Reed.R&lt;/a&gt;.  We can explore a few examples using the R code.((recall that figures link to code snapshot, click through to see parameter values used in the script, etc))&lt;/p&gt;
&lt;h3 id=&quot;example-exploration&quot;&gt;Example exploration&lt;/h3&gt;
&lt;p&gt;Let’s assume a cost function of the from:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pi(h) = p h - c/h&quot; alt=&quot;\pi(h) = p h - c/h&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which assumes a fixed price $ p $ and fishing costs following the Schaeffer production function.  Let’s start with our allee effect model &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x_t) =  x_t e^{ \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) }&quot; alt=&quot;f(x_t) =  x_t e^{ \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) }&quot; /&gt;&lt;/div&gt;&lt;/span&gt; First, with low noise, it is easy to make sure the dynamics are behaving properly:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6054/6326945150_4beed0a3a3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that the population finishes near 30, the set boundary condition. This varies with larger noise:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6095/6326954160_1a1fda5030_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;We can run a suite of replicates, and compare optimally harvested and unharvested outcomes.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6114/6326970240_5bd5daea86_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6219/6326970212_131719e4a2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Can compare this to Reed’s optimal escapement. Let’s start with a simpler set of population dynamics using the basic Beverton-Holt model, then we harvest only whenever the population exceeds Reed’s optimal escapement threshold, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S\inline&quot;/&gt;&lt;/span&gt;, and we harvest the population at a rate that should return it to $ S $ if next year’s growth were the equal to the expected growth:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6326408241_09ff6444b5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that this means that the &lt;em&gt;average&lt;/em&gt; population will be below the optimal escapement, because of the curvature of the growth rate function and Jensen’s inequality:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6096/6327164496_b92773bcca_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Compare to the case of our Allee-Ricker function, even when the allee threshold is 0, the curvature is the other way, and this rule results in under-havesting more than over-harvesting the optimal escapement:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6120/6326467925_cddf1a3006_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6237/6327220864_3be6a170b1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Kinda suggests that there should be a curvature-correction to Reed’s derivation, presumably that’s been done somewhere?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
   <link href="/2011/11/06/sunday-5.html"/>
   <updated>2011-11-06T06:38:18-08:00</updated>
   <id>h/2011/11/06/sunday-5</id>
   <content type="html">&lt;h2 id=&quot;computing-notes&quot;&gt;Computing notes&lt;/h2&gt;
&lt;p&gt;A few configuration related things from migrating to the &lt;a href=&quot;http://zareason.com/shop/Strata-Pro-13.html&quot;&gt;new laptop&lt;/a&gt;.&lt;/p&gt;
&lt;h4 id=&quot;clipboard-and-vim&quot;&gt;Clipboard and Vim&lt;/h4&gt;
&lt;p&gt;vim clipboard - install vim-gnome “+y and”+p interact between vim and global clipboard, and y, shift+insert work within terminal.&lt;/p&gt;
&lt;p&gt;make a repository bare so it can be pushed to (as opposed to moving to it’s working directory and running a pull). From &lt;a href=&quot;http://stackoverflow.com/questions/2199897/git-convert-normal-to-bare-repository&quot;&gt;stackoverflow&lt;/a&gt;:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mv&lt;/span&gt; repo/.git repo.git; &lt;span class=&quot;kw&quot;&gt;rm&lt;/span&gt; -rf repo
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; repo.git
git config --bool core.bare &lt;span class=&quot;kw&quot;&gt;true&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;lab-notebook&quot;&gt;Lab Notebook&lt;/h4&gt;
&lt;p&gt;It would be nice to be able to browse my flickr research images and see which ones have been embedded in what lab notebook pages automatically.&lt;/p&gt;
&lt;p&gt;Unfortunately,&lt;a href=&quot;webmasters.stackexchange.com/users/11279/cboettig&quot;&gt;it seems&lt;/a&gt;there is no way to track ping backs on flickr images?  Meanwhile did configure flickr’s stats utility, which seems to give only detailed stats (including inbound links) over the past 28 days.  The Flickr API app &lt;a href=&quot;http://statsr.net/user/&quot;&gt;statr&lt;/a&gt; claims to log the rest, though won’t resolve full referring urls without pro account, and neither of these are proper pingbacks of linked photos.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Richard McElreath recommends reading &lt;a href=&quot;http://www.amazon.com/gp/product/052139838X/ref=kinw_rke_tl_1&quot;&gt;this&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics&quot;&gt;Phylogenetics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Prepare notes on QuaSSE for seminar.  See Mendeley copy.&lt;/li&gt;
&lt;li&gt;Updated MCMCtools, for some basic QuaSSE exploration.  Roxygenize documentation and add some convenient priors.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sparkleshare configuration</title>
   <link href="/2011/11/04/sparkleshare-configuration.html"/>
   <updated>2011-11-04T15:35:11-07:00</updated>
   <id>h/2011/11/04/sparkleshare-configuration</id>
   <content type="html">&lt;p&gt;Configured sparkleshare across my linux server &amp;amp; laptops, and android phone.  Provides a dropbox-style syncing and version history for all files using git.  I can sync as much space as I have hardisk capacity, with as many users and machines as I like, at no cost.  Wonderful.&lt;/p&gt;
&lt;h3 id=&quot;basic-setup&quot;&gt;Basic setup&lt;/h3&gt;
&lt;p&gt;Get sparkleshare working on a server is dead simple, Can also use a &lt;a href=&quot;http://github.com&quot;&gt;github&lt;/a&gt; server, &lt;a href=&quot;http://gitorious.org/&quot;&gt;gitorious server&lt;/a&gt;, etc. Setup is &lt;a href=&quot;https://github.com/hbons/SparkleShare/wiki/How-to-set-up-your-own-server&quot;&gt;clearly documented&lt;/a&gt;, which is really just doing a bunch of standard stuff if you have a server or github already set up.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;On the server, just needs a bare git repository you can point to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;On the client, need rsa authentication to the target server set-up, then it’s dead simple again.&lt;/p&gt;
&lt;p&gt;sudo apt-get install sparkleshare sparkleshare start&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It will ask you where the server is - (you can give it a github or gitorious server here too)&lt;/p&gt;
&lt;p&gt;and specify the server as username@server, and specify the full path to the bare repository.&lt;/p&gt;
&lt;h3 id=&quot;dashboard&quot;&gt;Dashboard&lt;/h3&gt;
&lt;p&gt;Set up a dashboard on the server, gives you a web interface and also allows syncing to Android.&lt;/p&gt;
&lt;p&gt;Getting the &lt;a href=&quot;https://github.com/hbons/SparkleShare-Dashboard/wiki&quot;&gt;dashboard client set up&lt;/a&gt; requires a bit more effort.  This   Uses the snazzy &lt;a href=&quot;http://nodejs.org/#download&quot;&gt;node.js&lt;/a&gt; server language, which requires a bit of setting up since it isn’t packaged for debian lenny, which my server (Dreamhost VPS) is running, but luckily has few dependencies and can install from source just fine.  Get one the packaged tarballs, it won’t work with the latest source (fails the version check).  I used 0.4.12.&lt;/p&gt;
&lt;p&gt;on the server: (last one requires root access, can do this logged in from the root user):&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;wget&lt;/span&gt; http://nodejs.org/dist/node-v0.4.12.tar.gz
&lt;span class=&quot;kw&quot;&gt;tar&lt;/span&gt; -xvf node-v0.4.12.tar.gz
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; node
./configure
&lt;span class=&quot;kw&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;install&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From here the &lt;a href=&quot;https://github.com/hbons/SparkleShare-Dashboard/wiki&quot;&gt;instructions&lt;/a&gt; work just fine.  There are some lines in config.js that look like they need editing even though the instructions doesn’t mention them.  I added the server address to the repository, and a location for the rsa key; not sure what’s going on there but it works.&lt;/p&gt;
&lt;p&gt;Note that if the repository is denoted “public” include a public link for sharing without having a user log in.  You still need to log in to the dashboard to get this link in the first place. It seems repositories should be initiated bare in directory ending in .git to be properly recognized.&lt;/p&gt;
&lt;p&gt;Make sure the dashboard is running to use the web interface / android app. Launch the webserver with&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; &lt;span class=&quot;kw&quot;&gt;nohup&lt;/span&gt; node app.js &lt;span class=&quot;kw&quot;&gt;&amp;amp;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;from the Sparkleshare-Dashboard directory (the &amp;amp; for running in the background and the nohup should keep it running after logging off the server).&lt;/p&gt;
&lt;h3 id=&quot;further-configuration-notes&quot;&gt;Further configuration notes&lt;/h3&gt;
&lt;p&gt;Removing sparkleshare-synced folder: edit&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;~/.config/sparkleshare/config.xml&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Also learned about a shallow clone: Cannot push or clone it, but you can get only recent changes with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone --depth 1 git@github.com:cboettig/repository&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Could be handy when a collaborator wants to just grab the latest copy of a large repository.&lt;/p&gt;
&lt;p&gt;Versioning interface is supposed to display as Get Earlier Version on right-click, but I’m only seeing ubuntu’s deja vu version backup.  Fortunately any sparkleshare directory is a proper git repository, so one can always use the full git log and commands to checkout any version. though of course some of git’s power isn’t useful for binary-type files.&lt;/p&gt;
&lt;p&gt;Don’t try copying a directory already containing a .git repository into the sparkleshare folder.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday's reading</title>
   <link href="/2011/11/04/fridays-reading.html"/>
   <updated>2011-11-04T06:14:24-07:00</updated>
   <id>h/2011/11/04/fridays-reading</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Catching up on journal table-of-contents/rss readings.&lt;/p&gt;
&lt;h3 id=&quot;news&quot;&gt;News&lt;/h3&gt;
&lt;p&gt;Australia Researchers unhappy (unknown, 2011)&lt;/p&gt;
&lt;h4 id=&quot;climate-change-and-open-science&quot;&gt;Climate change and Open Science&lt;/h4&gt;
&lt;p&gt;Nature debate on the Berkeley climate team’s (BEST) press release in advance of publication. (unknown, 2011) Editor critiques the stunt:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Richard Muller, the physicist in charge, even told the BBC: “That is the way I practised science for decades; it was the way everyone practised it until some magazines — particularly Science and Nature — forbade it.”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is both wrong and unhelpful. It is wrong because for years Nature has explicitly endorsed the use of preprint servers and conferences as important avenues for scientific discussion ahead of submission to this journal, or other Nature titles.&lt;/p&gt;
&lt;p&gt;And suggests they might have posted the result on a preprint server and solicited input, rather than announcing a definitive conclusion:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To solicit input on results before publication is not a guerrilla action against a shadowy scientific elite. Witness the posting on a preprint server last month of the paper reporting neutrinos that apparently travel faster than light: the authors made it clear that they were seeking help from the wider community to explain the findings, and the media stories (if not the headlines) mostly reflected that. To pretend otherwise can only erode public trust in science, as it is practised by all.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;education&quot;&gt;Education&lt;/h4&gt;
&lt;p&gt;A provocative letter on the lack of empirical support behind NSF’s recently closed G-12 initiative (Cormas, 2011)&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics&quot;&gt;Phylogenetics&lt;/h3&gt;
&lt;p&gt;Interesting study of branching models in treebase, including constant rate birth-death models and some time-dependent models (Jones, 2011)&lt;/p&gt;
&lt;p&gt;From Bioinformatics, Spatial spread from phylogenies software (Bielejec &lt;em&gt;et. al.&lt;/em&gt; 2011) and some treevis software (Pirrung &lt;em&gt;et. al.&lt;/em&gt; 2011) I haven’t had a chance to look at.&lt;/p&gt;
&lt;h3 id=&quot;theoretical-ecology&quot;&gt;Theoretical Ecology&lt;/h3&gt;
&lt;p&gt;Analysis of the global population dynamics database: uncertainty in abundance may drive the lack of signal of density dependence (Knape &amp;amp; de Valpine, 2012). The literature on this has been mixed, I wrote an F1000 comment on an earlier eco let paper that didn’t find density dependence, in which I called for just this kind of study, so it’s nice to see, if not surprising, that the conclusions here are largely a lack of signal. (Ziebarth &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;h4 id=&quot;critical-transitions&quot;&gt;Critical transitions&lt;/h4&gt;
&lt;p&gt;Things I’ve been meaning to give a closer look into: (McClanahan &lt;em&gt;et. al.&lt;/em&gt; 2011), (Franklin &amp;amp; Johnson, 2011), (Hirota &lt;em&gt;et. al.&lt;/em&gt; 2011), (Staver &lt;em&gt;et. al.&lt;/em&gt; 2011),&lt;/p&gt;
&lt;p&gt;and still have to replicate the methodology of Ditlevsen &amp;amp; Johnsen, 2010&lt;/p&gt;
&lt;p&gt;These &lt;a href=&quot;http://rs.resalliance.org/2010/12/13/resilience-and-regime-shift-videos/&quot;&gt;regime shift videos&lt;/a&gt; are quite cute.&lt;/p&gt;
&lt;p&gt;And &lt;a href=&quot;http://www.regimeshifts.org&quot;&gt;this “database”&lt;/a&gt; is a great idea, but would be more useful if it had data, not just descriptive metadata.&lt;/p&gt;
&lt;h2 id=&quot;open-science-blogs&quot;&gt;Open Science Blogs&lt;/h2&gt;
&lt;p&gt;And catching up on some definite highlights from the open science blogs.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cameron Neylon: &lt;a href=&quot;http://cameronneylon.net/blog/building-the-perfect-data-repository-or-the-one-that-might-get-used/&quot;&gt;on building useful databases&lt;/a&gt;. insightful, practical, an so right.&lt;/li&gt;
&lt;li&gt;Michael Nielsen gives &lt;a href=&quot;http://michaelnielsen.org/blog/open-access-a-short-summary/&quot;&gt;the best description&lt;/a&gt; of the state of Open Access publishing I’ve seen, including stories of some of the most exciting recent changes.&lt;/li&gt;
&lt;li&gt;Heather Piwowar describes their &lt;a href=&quot;http://researchremix.wordpress.com/2011/10/31/total-impact-party/&quot;&gt;total-impact&lt;/a&gt; project.&lt;/li&gt;
&lt;li&gt;Our own open science community is getting going on Jason’s provocative post on getting scooped in open science. Jonathan Eisen shares his experiences and Law Professor Mario Biagioli shares a preprint on Openness, secrecy, and priority in science.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;unknown u (2011). “Academics Unhappy.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;478&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nj7370-549c&quot;&gt;http://dx.doi.org/10.1038/nj7370-549c&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unknown u (2011). “Scientific Climate.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;478&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/478428a&quot;&gt;http://dx.doi.org/10.1038/478428a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cormas P (2011). “Empirical Tests For Nsf Classroom Programs.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.334.6055.453-a&quot;&gt;http://dx.doi.org/10.1126/science.334.6055.453-a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jones G (2011). “Tree Models For Macroevolution And Phylogenetic Analysis.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr086&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr086&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bielejec F, Rambaut A, Suchard M and Lemey P (2011). “Spread: Spatial Phylogenetic Reconstruction of Evolutionary Dynamics.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btr481&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btr481&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Pirrung M, Kennedy R, Caporaso J, Stombaugh J, Wendel D and Knight R (2011). “Topiaryexplorer: Visualizing Large Phylogenetic Trees With Environmental Metadata.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btr517&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btr517&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Knape J and de Valpine P (2012). “Are Patterns of Density Dependence in The Global Population Dynamics Database Driven by Uncertainty About Population Abundance?” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;15&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01702.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01702.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ziebarth N, Abbott K and Ives A (2010). “Weak Population Regulation in Ecological Time Series.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2009.01393.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2009.01393.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McClanahan T, Graham N, MacNeil M, Muthiga N, Cinner J, Bruggemann J and Wilson S (2011). “Critical Thresholds And Tangible Targets For Ecosystem-Based Management of Coral Reef Fisheries.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1106861108&quot;&gt;http://dx.doi.org/10.1073/pnas.1106861108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Franklin J and Johnson K (2011). “Societal Challenges in Understanding And Responding to Regime Shifts in Forest Landscapes.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1114045108&quot;&gt;http://dx.doi.org/10.1073/pnas.1114045108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hirota M, Holmgren M, Van Nes E and Scheffer M (2011). “Global Resilience of Tropical Forest And Savanna to Critical Transitions.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1210657&quot;&gt;http://dx.doi.org/10.1126/science.1210657&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Staver A, Archibald S and Levin S (2011). “The Global Extent And Determinants of Savanna And Forest as Alternative Biome States.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1210465&quot;&gt;http://dx.doi.org/10.1126/science.1210465&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals - noise response</title>
   <link href="/2011/11/03/warning-signals-noise-response.html"/>
   <updated>2011-11-03T04:27:40-07:00</updated>
   <id>h/2011/11/03/warning-signals-noise-response</id>
   <content type="html">&lt;p&gt;Dakos (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2012) considers $  = f(x,p) $ and perturbs the parameter randomly to introduce variation. Evaluating around an equilibrium where $ f(x^&lt;em&gt;, p^&lt;/em&gt;) = 0 $, they expand to first order (citing (Ripa &amp;amp; Heino, 1999)):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = \partial_x f(x^*,p^*)(x-x^*)  +  \partial_p f(x^*,p^*) (p - p^*)&quot; alt=&quot;\frac{dx}{dt} = \partial_x f(x^*,p^*)(x-x^*)  +  \partial_p f(x^*,p^*) (p - p^*)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and taking $ = x- x^* $, with some slight of hand argue this can be rewritten as an Ito process,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d \xi = \lambda \xi dt + \partial_p f(x,p) dW&quot; alt=&quot;d \xi = \lambda \xi dt + \partial_p f(x,p) dW&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with eigenvalue $ = _x f(x^&lt;em&gt;, p^&lt;/em&gt;) $.&lt;/p&gt;
&lt;p&gt;Let’s be a bit more careful. First, we haven’t said much about the noise process. In general we’ll want the noise process to have a timescale. White noise Gaussian process won’t track.&lt;/p&gt;
&lt;p&gt;Consider again $ x(t) = f(x(t), p(t) $.&lt;/p&gt;
&lt;p&gt;The variance dynamics are given by the van Kampen expansion: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \sigma_x^2 = 2 \partial_x f(x,p)\sigma_x^2 + g(x,p) + \nu(x,p)&quot; alt=&quot;\dot \sigma_x^2 = 2 \partial_x f(x,p)\sigma_x^2 + g(x,p) + \nu(x,p)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where $ g(x,t) $ is the intrinsic demographic noise, properly the second jump moment, and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\nu(x,p) = 2\frac{ ( \partial_p f(x,p)  )^2 \sigma_p^2}{-\partial_x f(x,p) + 1/\tau_c}&quot; alt=&quot;\nu(x,p) = 2\frac{ ( \partial_p f(x,p)  )^2 \sigma_p^2}{-\partial_x f(x,p) + 1/\tau_c}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where $ &lt;em&gt;c $ is the correlation time of the noise process (0 is white noise, which doesn’t contribute, going towards infinity is very low-frequency noise, which the population can track). The ability to track the noise requires $ &lt;/em&gt;x f(x,p) $ to be on order or larger than $ 1/&lt;em&gt;c&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, an ability it loses near a critical bifurcation where\inline&quot;/&gt;&lt;/span&gt; &lt;/em&gt;x f(x,p) 0 &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Note that this term is missing from the Dakos et. al. treatment, essentially that treatment assumes that the noise is always substantially faster than the population dynamics, but not white, so that\inline&quot;/&gt;&lt;/span&gt; &lt;em&gt;p f(x,p) &lt;/em&gt;p^2 $.&lt;/p&gt;
&lt;p&gt;_This is all about tracking low-frequency variation though, which is not the kind of dynamics we’re interested in. _&lt;/p&gt;
&lt;p&gt;Under this assumption, we might write:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dx = f(x, p) dt + \sigma_x dB_1(t)+ \sigma_p | \partial_p f(x,p) | dB_2(t)&quot; alt=&quot;dx = f(x, p) dt + \sigma_x dB_1(t)+ \sigma_p | \partial_p f(x,p) | dB_2(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now recall that the noisy parameter $ p $ will not generally be the parameter changing to drive the bifurcation.&lt;/p&gt;
&lt;p&gt;if $ &lt;em&gt;p f(x,p) $ does not change as $ &lt;/em&gt;x f(x,p) 0$, then we need not worry.&lt;/p&gt;
&lt;p&gt;In there example, none of the $ _p f(x,p) $ depend directly on $ c &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, the bifurcation parameter, but all depend on\inline&quot;/&gt;&lt;/span&gt; x $, which decreases as the bifurcation approaches.&lt;/p&gt;
&lt;p&gt;So how about this case on environmental variation entering linearly? $ p f(x) = h(x) $&lt;/p&gt;
&lt;p&gt;Decreasing x decreases the total noise in two of the examples:&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dakos V, van Nes E, D’Odorico P and Scheffer M (2012). “Robustness of Variance And Autocorrelation as Indicators of Critical Slowing Down.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;93&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0889.1&quot;&gt;http://dx.doi.org/10.1890/11-0889.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ripa u and Heino u (1999). “Linear Analysis Solves Two Puzzles in Population Dynamics: The Route to Extinction And Extinction in Coloured Environments.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.1999.00073.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.1999.00073.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Stochastic Optimal Control</title>
   <link href="/2011/11/02/stochastic-optimal-control.html"/>
   <updated>2011-11-02T15:57:57-07:00</updated>
   <id>h/2011/11/02/stochastic-optimal-control</id>
   <content type="html">&lt;p&gt;Starting with Reed 1979 Reed, 1979. Consider the stochastic population growth model&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1} = Z_n f(X_n)&quot; alt=&quot;X_{t+1} = Z_n f(X_n)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;$ f(x) $ is concave and non-decreasing (compensating, not over-compensating). A natural choice is the Beverton-Holt model,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x) = \frac{A x}{1+B x}&quot; alt=&quot;f(x) = \frac{A x}{1+B x}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Cost of harvest is Schaefer production function $ c(x) = k/q x &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, (i.e. doubling fish density halves the cost, assume\inline&quot;/&gt;&lt;/span&gt;q $ constant), or Cobbs-Douglas form $ c(x) = k/x^{} $ where $ = 1+1$.&lt;/p&gt;
&lt;p&gt;We’ll solve through a dynamic programming approach using the Bellman equation.&lt;/p&gt;
&lt;p&gt;We begin by discretizing the system to a grid. Let us assume that the fish population can only assume a set of discrete values, $ x { x_i } $ on a grid &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N \in (0, x_2, x_3, ..., 2 K)\inline&quot;/&gt;&lt;/span&gt;, where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?K\inline&quot;/&gt;&lt;/span&gt; is the unharvested equilibrium. (Of course if we think of $ x $ as number instead of density, this finite, discrete case is natural). Let us further assume that the control variable, harvesting level, can only assume discrete values as well. For convenience we’ll use the same grid, since it doesn’t make sense to harvest fractions of fish or more than the total stock, but let’s call this grid $ H &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Time is already discrete in the model above, assuming values\inline&quot;/&gt;&lt;/span&gt; t {0, 1, 2, , T } $.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/41023cdf80f2f41bf215d83f94bb32b4e485bc46/R/Reed.R&quot;&gt;Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Results: Optimally harvested (black) and unharvested (green) population dynamics, for a stochastic realization.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6213/6307860283_47fc9e704c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;From the original Matlab example from michael (run in Octave):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6102/6308462214_1f255cc3ca_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-06967990014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>server file management from bowser: ajaxplorer, mollify</title>
   <link href="/2011/11/01/server-file-management-from-bowser-ajaxplorer-mollify.html"/>
   <updated>2011-11-01T13:18:38-07:00</updated>
   <id>h/2011/11/01/server-file-management-from-bowser-ajaxplorer-mollify</id>
   <content type="html">&lt;p&gt;A few notes on trying out some server-based file sharing solutions.&lt;/p&gt;
&lt;h2 id=&quot;ajaxplorer&quot;&gt;&lt;a href=&quot;http://www.ajaxplorer.info/&quot;&gt;ajaXplorer&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Kind of amazingly good and easy to install, with configuration-free functionality like previews of images and playing mp3s. More secure file sharing (at least, public link not generated until asked for, can have password assigned to it). Sharing is the only step not activated by default. Create a folder called “public” in the ajaxplorer directory, and this feature will appear.&lt;/p&gt;
&lt;p&gt;Curious about performance issues, we’ll see.&lt;/p&gt;
&lt;h2 id=&quot;mollify&quot;&gt;&lt;a href=&quot;http://www.mollify.org/&quot;&gt;Mollify&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;A bit cleaner, mysql or sqlite based; configuration is considerably more challenging. Seems that performance may be better for large system.&lt;/p&gt;
&lt;p&gt;In the configuration file, follow directions. Note that Dreamhost does not use the localhost for mysql, follow directions and set to the hostname given in panel: mysql.mydomain.com. Delete the line that has the socket, since it isn’t used.&lt;/p&gt;
&lt;p&gt;Add support to share public links: add this to the configuration.php file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;$SETTINGS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;enable_public_links&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;kw&quot;&gt;TRUE&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Add support for flash uploader (See &lt;a href=&quot;http://code.google.com/p/mollify/wiki/ConfigurationAdditionalOptions&quot;&gt;additional configuration directions&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Go to mollify/ directory, edit index.html: In the section about mollify-init that looks like:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    mollify.init({
        &amp;quot;service-path&amp;quot;: &amp;quot;backend/&amp;quot;,
    });
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;edit to read as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot; language=&amp;quot;javascript&amp;quot; src=&amp;quot;client/swfupload.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;
    mollify.init({
        &amp;quot;service-path&amp;quot;: &amp;quot;backend/&amp;quot;,
        &amp;quot;file-uploader&amp;quot;: &amp;quot;flash&amp;quot;
    });
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Has plugin support which should deliver previews, a file viewer and text editors, but I was unable to get these to work. Is activated using the following php in configuration file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;$SETTINGS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;enable_public_links&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;kw&quot;&gt;TRUE&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kw&quot;&gt;$PLUGINS&lt;/span&gt; = &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;st&quot;&gt;&amp;quot;FileViewerEditor&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;viewers&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Image&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gif&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;TextFile&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;php&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;html&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Google&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;pdf&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;tiff&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;doc&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;

                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;previewers&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;Image&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;gif&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;png&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;jpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;st&quot;&gt;&amp;quot;editors&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;
                                &lt;span class=&quot;st&quot;&gt;&amp;quot;TextFile&amp;quot;&lt;/span&gt; =&amp;gt; &lt;span class=&quot;fu&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;txt&amp;quot;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;ot&quot;&gt;),&lt;/span&gt;
                &lt;span class=&quot;ot&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;menu now displays preview and view options, but these do not display content. Of course these work on the demo site; not sure what is wrong.&lt;/p&gt;
&lt;h2 id=&quot;dropbox-style-linked-synced-sharing&quot;&gt;Dropbox-style Linked &amp;amp; synced sharing&lt;/h2&gt;
&lt;p&gt;e.g. &lt;a href=&quot;http://sparkleshare.org&quot;&gt;sparkleshare&lt;/a&gt;?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control Conference Call</title>
   <link href="/2011/11/01/pdg-control-conference-call.html"/>
   <updated>2011-11-01T09:53:46-07:00</updated>
   <id>h/2011/11/01/pdg-control-conference-call</id>
   <content type="html">&lt;p&gt;Call includes everyone except Frank &amp;amp; Claire.&lt;/p&gt;
&lt;h2 id=&quot;logistics&quot;&gt;Logistics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Meeting 2: 13-15 March&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review code/files on wiggio.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Want a group review of material / webX tutorial?  Email Paul after the call.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;training-problem-1b-penalty-to-policy-change-rate.&quot;&gt;Training Problem 1b: penalty to policy-change rate.&lt;/h2&gt;
&lt;p&gt;Group is: Paul, Jake, Dan, Carl T, Jim, Frank, …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dan&lt;/strong&gt;: L2 done.  Code coming (in Python, matlab coming).  L1 is hard.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Control variable becomes $ dh/dt &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and\inline&quot;/&gt;&lt;/span&gt; h $ becomes a control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an impulse-control maximum principle?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Jim&lt;/strong&gt; suggests - similar to fishing-effort control?  Optimality conditions are singular?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: See Dan’s summary.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-1a-chatteringperiodic-control&quot;&gt;Training Problem 1a: Chattering/periodic control&lt;/h2&gt;
&lt;p&gt;Group is: Paul, Jim, Dan, Michael, …&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Collected references: some general statements in texts about when to expect periodic optimal controls&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Dan&lt;/strong&gt;: Just look for periodic solutions to state / co-state equations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Advanced problem: spatial control (see proposal), talk to &lt;strong&gt;Michael&lt;/strong&gt;.  Direct data on live fishing effort across great barrier reef.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Can we get a description of this data set?  Do we have data on policy-elasticity (re 1b)? &lt;em&gt;Material&lt;/em&gt;: still coming?&lt;/p&gt;
&lt;h2 id=&quot;training-problem-2&quot;&gt;Training Problem 2&lt;/h2&gt;
&lt;p&gt;Group is: Alan, Carl B, Jake, Michael, Carl T, Marie-Josee, …&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl &lt;/strong&gt;Building up to the Stochastic Optimal Control Problem, then adding uncertainty / Bayesian learning. Literature on Uncertainty (&lt;strong&gt;Jake&lt;/strong&gt;)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Uncertainty over growth function (bang-bang).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uncertainty over stock assessment (pretty open).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Look at &lt;strong&gt;Michael&lt;/strong&gt;’s SDP code and Reed Reed, 1979.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: see &lt;a href=&quot;http://www.carlboettiger.info/archives/3094&quot;&gt;Carl’s summary&lt;/a&gt; and Jake’s lit review.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-3&quot;&gt;Training Problem 3&lt;/h2&gt;
&lt;p&gt;Group is: Megan, Claire, Marie-Josee, Frank, …&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan&lt;/strong&gt;, &lt;strong&gt;Claire&lt;/strong&gt;.  Spawning time and investment as optimization.  Claire running simulations over space/time to generate the return-on-investment curve.  Can then determine if there’s a non-trivial optimization search to be done.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Material&lt;/em&gt;: still coming.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Optimal Escapement Levels in Stochastic And Deterministic Harvesting Models, William J Reed, (1979) &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/0095-06967990014-7&quot;&gt;10.1016/0095-0696(79)90014-7&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Training Problem 2 update</title>
   <link href="/2011/11/01/training-problem-2-update.html"/>
   <updated>2011-11-01T07:20:08-07:00</updated>
   <id>h/2011/11/01/training-problem-2-update</id>
   <content type="html">&lt;h2 id=&quot;problem-statement&quot;&gt;Problem Statement&lt;/h2&gt;
&lt;p&gt;We consider the stochastic optimal control problem of fisheries harvests under the scenarios involving alternate stable states, with uncertainty about the parameters of harvest. We consider a series of introductory problems to prepare us for the full problem. We begin with classical optimal control approaches (Pontraygin’s principle to transform into an ordinary differential equation boundary-value problem) for continuous time state equations (fish population dynamics) as a reference point. We begin with a one-dimensional state equation. We next consider the discrete-time state equation, which we approach with the Bellman/dynamic programming solution, as a useful starting point for the stochastic control. The continuous-time problem can solved from the Hamilton-Jacobi-Bellman PDE, instead of the BVP. While this is less efficient numerically, it generalizes to the stochastic case most naturally. The stochastic solution for the optimal path still assumes perfect knowledge. We can accommodate uncertainty in the state variables in a Bayesian learning framework.&lt;/p&gt;
&lt;p&gt;So far I (Carl) am about half-way through these toy examples which will help set up the training problem.  Once we have a common set of tools and code we have quite a few questions to explore within the uncertainty problem.&lt;/p&gt;
&lt;p&gt;(See &lt;a href=&quot;http://www.carlboettiger.info/archives/2655&quot;&gt;original&lt;/a&gt; task description)&lt;/p&gt;
&lt;h2 id=&quot;introductory-problem-by-pontryagin-minimization&quot;&gt;Introductory Problem by Pontryagin minimization&lt;/h2&gt;
&lt;p&gt;Optimal control with an allee effect. Continuous time, Pontraygin’s minimum principle for the first-order conditions to establish a boundary value problem.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;BVP derivation&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3049&quot;&gt;Numerical solutions&lt;/a&gt; in several cases&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/pdg_control/&quot;&gt;Code&lt;/a&gt; for numerics&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;discrete-problem-by-bellman-equation-dynamic-programming&quot;&gt;Discrete problem by Bellman equation, Dynamic Programming&lt;/h2&gt;
&lt;p&gt;Optimal control for the analogous discrete time state equations.  Provides a dynamic programming example solution, introduces the cost-to-go.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Problem setup &lt;a href=&quot;http://www.carlboettiger.info/archives/3076&quot;&gt;notes&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;continuous-problem-by-hamilton-jacobi-bellman-pde&quot;&gt;Continuous problem by Hamilton-Jacobi-Bellman PDE&lt;/h2&gt;
&lt;p&gt;As in the introductory problem. Discritize $ dt $,   and then by Taylor expansion the recursion of the cost to go becomes the HJB PDE:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   \right)&quot; alt=&quot;\partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the optimal path obeys:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h(x,t) = \arg \min_h \left( U(x,h,t) + \beta \partial_x J(x,t) f(x,h, t) \right)&quot; alt=&quot;h(x,t) = \arg \min_h \left( U(x,h,t) + \beta \partial_x J(x,t) f(x,h, t) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;stochastic-problem&quot;&gt;Stochastic problem&lt;/h2&gt;
&lt;p&gt;State equation is an SDE ((perhaps restricted to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?g(x,h,t) = 1\inline&quot;/&gt;&lt;/span&gt;? )) &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dx =f(x(t), h(t), t)dt + g(x(t), h(t), t) dB_t&quot; alt=&quot;dx =f(x(t), h(t), t)dt + g(x(t), h(t), t) dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and we minimize the expected cost.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_h \left( \phi( \langle x(T) \rangle ) + \left \langle \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle \right)&quot; alt=&quot;\max_h \left( \phi( \langle x(T) \rangle ) + \left \langle \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For a Gaussian process we solve the stochastic HJB (from taking expectations over the path gives a deterministic PDE by that name):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex? \partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   + \frac{1}{2} \nu(x,h,t) \partial_x^2 J(x,t) \right)  &quot; alt=&quot; \partial_t J(x,t) = \min_h \left( U(x,h,t)  +  \beta f(x,h,t) \partial_x J(x,t)   + \frac{1}{2} \nu(x,h,t) \partial_x^2 J(x,t) \right)  &quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where $ (x,h,t ) $ is the variance dynamics for the state equation.  This may require a numerical solution for appropriate definitions of the stochastic state model, e.g.&lt;/p&gt;
&lt;p&gt;$ d X = X (1-) (  ) - X h + X dB $&lt;/p&gt;
&lt;p&gt;Not as bad as it appears perhaps; for instance, &lt;a href=&quot;http://en.wikipedia.org/wiki/Merton%27s_portfolio_problem&quot;&gt;Merton’s portfolio problem&lt;/a&gt; is actually an example of this nature with a closed-form solution. There are efficient numerical solutions for linear-quadratic control versions, perhaps of little use to us.&lt;/p&gt;
&lt;h2 id=&quot;stochastic-problem-with-uncertainty&quot;&gt;Stochastic problem with uncertainty&lt;/h2&gt;
&lt;p&gt;(Finite time-horizon). Either the parameters of the cost function or the state equation are unknown, and we update our belief about the parameters according to Bayes rule: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p_{t+dt} (\alpha | dx, h) \propto p(dx | \alpha, h) p_t(\alpha)&quot; alt=&quot;p_{t+dt} (\alpha | dx, h) \propto p(dx | \alpha, h) p_t(\alpha)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We define sufficient statistics for this distribution, and have a control problem with an extra dimension in the state equations. The expected profit is computed over both dimensions: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_h \left \langle \phi( x(T) ) + \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle_{\theta, x}&quot; alt=&quot;\max_h \left \langle \phi( x(T) ) + \int_0^T e^{-\rho t} \pi(x,h,t) dt \right \rangle_{\theta, x}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&quot;higher-dimensional-dynamics&quot;&gt;Higher dimensional dynamics&lt;/h2&gt;
&lt;p&gt;Each of these problems can then be repeated with the proper 3-dimensional parrotfish system:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT&quot; alt=&quot;\frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dC}{dt} = (rT - d-aM)C&quot; alt=&quot;\frac{dC}{dt} = (rT - d-aM)C&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP&quot; alt=&quot;\frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;K(C) is from territorial limits, rather than food limits.  (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;p&gt;Adding habitat quality (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Labrids & Parrotfish, method1</title>
   <link href="/2011/11/01/labrids-parrotfish-method1.html"/>
   <updated>2011-11-01T01:57:15-07:00</updated>
   <id>h/2011/11/01/labrids-parrotfish-method1</id>
   <content type="html">&lt;h2 id=&quot;parrotfish-only&quot;&gt;Parrotfish only:&lt;/h2&gt;
&lt;h4 id=&quot;shift-at-intramandibular-joint-in-bm-rate-only.&quot;&gt;Shift at intramandibular joint in BM rate only.&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6234/6302854244_cef4375e8d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;shift-in-constraint-at-intramandibular-innovation.&quot;&gt;Shift in constraint, $ $ at intramandibular innovation.&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6035/6301572694_8edc13de2a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;labrids-wrasses-vs-parrotfish&quot;&gt;Labrids: Wrasses vs parrotfish&lt;/h2&gt;
&lt;h4 id=&quot;shift-in-bm-rate&quot;&gt;Shift in BM rate&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6039/6301602946_3042af8c2a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;shift-in-constraint&quot;&gt;Shift in constraint, $ $&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6019/6301145351_d26cea9902_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/3037&quot;&gt;Compare to: method2&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: openfisheries & ggplot</title>
   <link href="/2011/10/31/monday-openfisheries-ggplot.html"/>
   <updated>2011-10-31T04:54:19-07:00</updated>
   <id>h/2011/10/31/monday-openfisheries-ggplot</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.andrewdyck.com/&quot;&gt;Andrew&lt;/a&gt; has put together the preliminary API for the openfisheries.org project. I’ve begun an R package, rfisheries, to interface to the openfisheries project. It would be great to incorporate data from the &lt;a href=&quot;http://ramlegacy.marinebiodiversity.ca/ram-legacy-stock-assessment-database/how-to-access-the-ram-legacy-database&quot;&gt;RAM Legacy database&lt;/a&gt; and the &lt;a href=&quot;http://seaaroundus.org/global/1/101.aspx&quot;&gt;seaaroundus.org&lt;/a&gt; project, which may be done at the level of the R package or (perhaps more flexibly) directly through the developing openfisheries API.&lt;/p&gt;
&lt;p&gt;Here’s a quick proof-of-principle example for Andrew’s API:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6056/6299209963_2c45c79755_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(Code linked from image as usual).&lt;/p&gt;
&lt;h2 id=&quot;ggplot2&quot;&gt;ggplot2&lt;/h2&gt;
&lt;p&gt;Looking into switching my graphics into ggplot.&lt;/p&gt;
&lt;p&gt;For instance, above graph is made by:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;year =&lt;/span&gt; global$year, &lt;span class=&quot;dt&quot;&gt;global =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(global$data),
&lt;span class=&quot;dt&quot;&gt;usa=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(usa$data)) 
dat2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;melt&lt;/span&gt;(dat, &lt;span class=&quot;dt&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;ggplot&lt;/span&gt;(dat2, &lt;span class=&quot;kw&quot;&gt;aes&lt;/span&gt;(year, value, &lt;span class=&quot;dt&quot;&gt;fill=&lt;/span&gt;variable)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;geom_area&lt;/span&gt;() &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that data has to be in “long” form, accomplished by “melt” function.&lt;/p&gt;
&lt;p&gt;Primary disadvantages are (a) me having to learn a new syntax (b) users of my package having to learn a new syntax. (a) is something I can get over, (b) is something I can largely avoid by keeping plotting routines and data routines separate enough, though it’s more a problem in building on other’s plotting routines or having other developers extend mine. (I’m sure Hadley would argue that it would in fact be easier, not harder, thanks to the grammar, so there’s that side too).  Anyway, non-trivial step when you realize you ’re starting off unable to even create a plot.&lt;/p&gt;
&lt;p&gt;Collating references as a starting point.  Probably nothing better than the deep end: reading throught ggplot2 book, since getting a handle on the &lt;em&gt;philosophy&lt;/em&gt; of the grammar of graphics seems ultimately more useful than getting examples that run.&lt;/p&gt;
&lt;h2 id=&quot;continued-notes&quot;&gt;Continued notes&lt;/h2&gt;
&lt;p&gt;still writing today’s notes… check back&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Optimal Control examples continued: Bellman,  Dynamic Programming</title>
   <link href="/2011/10/28/optimal-control-examples-continued-bellman-dynamic-programming.html"/>
   <updated>2011-10-28T16:23:12-07:00</updated>
   <id>h/2011/10/28/optimal-control-examples-continued-bellman-dynamic-programming</id>
   <content type="html">&lt;h3 id=&quot;discrete-time-state-equation&quot;&gt;Discrete-time state equation&lt;/h3&gt;
&lt;p&gt;Discrete-time solution appears to be all about &lt;strong&gt;dynamic programming&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;and a chance for me to remember that I’m out of practice writing recursive functions. It’s just that in thinking about the problem, you start from the end, with the trivial subcase, and keep adding the layers. But the recursive function kinda starts at the beginning, and that trivial case is the exit condition. R doesn’t seem very efficient with these recursive functions, so this might become a C sub-routine eventually.&lt;/p&gt;
&lt;h4 id=&quot;problem-setup&quot;&gt;Problem setup&lt;/h4&gt;
&lt;p&gt;We consider some discrete-time state equation for (fish stock, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;) under some control parameter (harvest, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt;):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = f(x_t, h)&quot; alt=&quot;x_{t+1} = f(x_t, h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We again have utility function, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pi(h)\inline&quot;/&gt;&lt;/span&gt; for diminishing returns on fish harvest. Discrete time means we maximize over the discrete discounting rate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta\inline&quot;/&gt;&lt;/span&gt; and sum over intervals:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_{h_t} \sum_{t=0}^T \beta^t \pi(h)&quot; alt=&quot;\max_{h_t} \sum_{t=0}^T \beta^t \pi(h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;subject to the state equation above and some boundary conditions &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_0 = X_0, \qquad x_T = X_T\inline&quot;/&gt;&lt;/span&gt;. First-order conditions are:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?U&amp;#39;(h_t) = \beta U&amp;#39;(h_{t+1}) F&amp;#39;(x_{t+1} ) \forall t&quot; alt=&quot;U&amp;#39;(h_t) = \beta U&amp;#39;(h_{t+1}) F&amp;#39;(x_{t+1} ) \forall t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and solution will use a dynamic programming approach of the following recursion&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V(x_t) = \max_h \left( U(h) + \beta V(x_{t+1} ) \right)&quot; alt=&quot;V(x_t) = \max_h \left( U(h) + \beta V(x_{t+1} ) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which substituting in the state equation gives us:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V(x_t) = \max_h \left( U(h) + \beta V( F(x_t)) \right)&quot; alt=&quot;V(x_t) = \max_h \left( U(h) + \beta V( F(x_t)) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Let’s assume a discrete Ricker-style model: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h x&quot; alt=&quot;x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h x&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The Ricker-style formulation in analogy to our continuous time &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;problem&lt;/a&gt;, Alan suggests we actually consider the case by Myers et al., (Myers &lt;em&gt;et. al.&lt;/em&gt; 1995)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_{t+1} = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} }&quot; alt=&quot;N_{t+1} = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Trivial case of no cost at boundary, harvests everything.&lt;br /&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6046/6303190675_b1151d0931_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;a-simpler-case&quot;&gt;A simpler case&lt;/h3&gt;
&lt;p&gt;Fish remaining are whatever wasn’t harvested yet: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = x_t - h_t&quot; alt=&quot;x_{t+1} = x_t - h_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Cost/profit of harvesting: Profit &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p(t)\inline&quot;/&gt;&lt;/span&gt; per fish (possibly varies with year), but cost gets harder &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c h^2\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c &amp;lt;&amp;lt; p(t)\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?U(h) = p h - c h^2&quot; alt=&quot;U(h) = p h - c h^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The algorithm can be specified by recursion,&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
phi &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(x) &lt;span class=&quot;dv&quot;&gt;300&lt;/span&gt;

J &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(t,x){
  if(t &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;T)
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;U&lt;/span&gt;(t,x, &lt;span class=&quot;kw&quot;&gt;h_star&lt;/span&gt;(t,x)) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;beta*&lt;span class=&quot;kw&quot;&gt;J&lt;/span&gt;(t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(t,x, &lt;span class=&quot;kw&quot;&gt;h_star&lt;/span&gt;(t,x)))
  else 
    out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;phi&lt;/span&gt;(x)
  out
}
 
h_star &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(t,x){
    func &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(h) &lt;span class=&quot;kw&quot;&gt;U&lt;/span&gt;(t, x, h) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;beta*&lt;span class=&quot;kw&quot;&gt;J&lt;/span&gt;(t&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(t,x,h))
&lt;span class=&quot;co&quot;&gt;#    optimize(f=func, interval=c(0,1))[[1]]&lt;/span&gt;
    h &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;seq&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;length=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;)
    cost &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(h, func)
    i &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;which.max&lt;/span&gt;(cost)
    h[i]
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/2fedf60ae61dafb21badaf05f1a97c213d59b1d1/R/discrete_optimal_control.R&quot;&gt;full code&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6043/6306213989_bf88df311d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;but this is terribly inefficient.&lt;/p&gt;
&lt;p&gt;A simple dynamic programming reference &lt;a href=&quot;http://frank.mtsu.edu/~berc/working/Zietz-DP-1.pdf&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-optimal-control&quot;&gt;Stochastic Optimal Control&lt;/h3&gt;
&lt;p&gt;Looks like this needs a dynamic programming approach. A us&lt;a href=&quot;http://userpage.fu-berlin.de/~mtoussai/08-optimal-control/kappen-handout.pdf&quot;&gt;eful reference.&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;higher-dimensional-state-equations&quot;&gt;Higher-dimensional state equations&lt;/h3&gt;
&lt;p&gt;Can these lead to oscillating solutions in as the number of state equations increases? Depends on nature of constraints? Inequalities?&lt;/p&gt;
&lt;h3 id=&quot;steps-check-list&quot;&gt;Steps check list&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Simple boundary-value problem solution by collocation. &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;Example&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chebychev polynomial collocation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harvest vs fishing effort as control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Solution under inequality bounds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discrete-time state equations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stochastic Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parrotfish 3 dimensional system, Horan 2 dimensional system.  See (Mumby &lt;em&gt;et. al.&lt;/em&gt; 2007), (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010) (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uncertainty&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Myers R, Barrowman N, Hutchings J and Rosenberg A (1995). “Population Dynamics of Exploited Fish Stocks at Low Population Levels.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.269.5227.1106&quot;&gt;http://dx.doi.org/10.1126/science.269.5227.1106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mumby P, Hastings A and Edwards H (2007). “Thresholds And The Resilience of Caribbean Coral Reefs.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;450&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;http://dx.doi.org/10.1038/nature06252&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Optimal control sample problems (Mostly continuous time by Pontryagin principle)</title>
   <link href="/2011/10/27/optimal-control-next-steps.html"/>
   <updated>2011-10-27T06:53:50-07:00</updated>
   <id>h/2011/10/27/optimal-control-next-steps</id>
   <content type="html">&lt;h3 id=&quot;optimal-control-by-pontryagin-principle&quot;&gt;Optimal Control by Pontryagin principle&lt;/h3&gt;
&lt;h4 id=&quot;problem-statement&quot;&gt;Problem statement&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;State equation: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - x h\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Utility function &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pi(h, x, t) = \frac{h^{1+\gamma}}{1+\gamma}\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Boundary constraints: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x(0) = X_0 \qquad x(T) = X_T\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See problem statement and analytic BVP formulation details in &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;this post&lt;/a&gt;. Additionally we scale the variables appropriately. Then we can begin with some basic parameter exploration in the original model formulation. We solve by collocation:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6232/6286772118_872b47a7f7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Decreasing the ecological dynamics timescale (growth rate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha\inline&quot;/&gt;&lt;/span&gt; ) leads to less fishing eventually but also slower decrease in fishing rate:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6046/6286772066_b37c2e7588_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Increased discounting means fish faster now and….&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6223/6286391925_da5987dce6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;…whoops, put fish back in the sea later (negative harvest).&lt;/p&gt;
&lt;p&gt;Control on harvest directly rather than harvest effort gives ill-behaved solution:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6094/6287043786_05e270fa1d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Code &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1fb870e5a22a54fdb44f8e25ad65a74822c60188/training_prob2_collocation.R&quot;&gt;defining the system&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Code for &lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/1fb870e5a22a54fdb44f8e25ad65a74822c60188/run_collocation.R&quot;&gt;running the examples&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;inequalities&quot;&gt;Inequalities&lt;/h2&gt;
&lt;p&gt;This solution has only equality based constraints. A trivial inequality to consider is the final stock size is properly a lower bound, but clearly the optimal solution will attain this bound. The next inequality constraint to consider is $ h &amp;gt; 0 $, avoiding results such as above. I believe this constraint must enter through the state equation, as it is a dynamic constraint?&lt;/p&gt;
&lt;p&gt;We could solve the Hamilton-Jacobi-Bellman equation instead; may be a good building block for the stochastic case. Perhaps warm up for this using the discrete case…&lt;/p&gt;
&lt;h3 id=&quot;discrete-time-state-equation&quot;&gt;Discrete-time state equation&lt;/h3&gt;
&lt;p&gt;a discrete Ricker-style model: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h \beta&quot; alt=&quot;x_{t+1} = f(x,h) = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - h \beta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; or a more Beverton-Holt style model: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_{t+1} = r\frac{x^{\alpha}}{1+\frac{x^{\alpha}}{K}} - x E_h \beta&quot; alt=&quot;x_{t+1} = r\frac{x^{\alpha}}{1+\frac{x^{\alpha}}{K}} - x E_h \beta&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Sounds like a dynamic programming approach is called for.&lt;/p&gt;
&lt;h3 id=&quot;stochastic-optimal-control&quot;&gt;Stochastic Optimal Control&lt;/h3&gt;
&lt;p&gt;Looks like this needs a dynamic programming approach.&lt;/p&gt;
&lt;h3 id=&quot;higher-dimensional-state-equations&quot;&gt;Higher-dimensional state equations&lt;/h3&gt;
&lt;h3 id=&quot;steps-check-list&quot;&gt;Steps check list&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Simple boundary-value problem solution by collocation. &lt;a href=&quot;http://www.carlboettiger.info/archives/3001&quot;&gt;Example&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chebychev polynomial collocation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jim’s additional examples. Matlab examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harvest vs fishing effort as control variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Solution under inequality bounds&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discrete-time state equations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stochastic Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan 2 dimensional system&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Labrid submodels</title>
   <link href="/2011/10/26/labrid-submodels.html"/>
   <updated>2011-10-26T08:49:27-07:00</updated>
   <id>h/2011/10/26/labrid-submodels</id>
   <content type="html">&lt;p&gt;Updates to labrids results:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/2960&quot;&gt;Results from&lt;/a&gt; Parrotfish tree &amp;amp; 2-partition Labrid tree on full model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;full-model-labrids-pharyngeal-shift&quot;&gt;Full model, Labrids Pharyngeal Shift&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://farm7.static.flickr.com/6056/6284030745_75ea415a08_o.png&quot;&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6056/6284030745_75ea415a08_o.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;alphas&quot;&gt;Alphas&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6236/6284030401_985162f874_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;sigmas&quot;&gt;Sigmas&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6043/6284030429_3fe0187f59_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;full-model-intramandibular-shift&quot;&gt;Full Model,  Intramandibular Shift&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6049/6284507842_ea98730121_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6040/6284507386_7ee804e414_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6118/6284507370_1615c32c6b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;.&lt;/p&gt;
&lt;h3 id=&quot;labrid-tree-multi-sigma-model-both-shifts&quot;&gt;Labrid tree, multi-sigma model,  both shifts&lt;/h3&gt;
&lt;p&gt;Surprising less powerful at identifying the differences.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6106/6284061485_9d3013448e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that this still estimates OU models, and hence has a global alpha, and unique thetas:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6229/6284609616_faf3fce83f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;labrid-tree-multi-alpha-both-shifts&quot;&gt;LABRID TREE, MULTI-alpha,  BOTH SHIFTS&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6049/6284581522_3057f6cb92_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;parrotfish-treemulti-sigma-model&quot;&gt;Parrotfish tree, multi-sigma model:&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6212/6284625308_a190be5675_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;parrotfish-tree-multi-alpha-model&quot;&gt;Parrotfish tree, multi-alpha model:&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6119/6284105359_6c633db6a6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;labrid-pharyngeal-onlymulti-sigma-model&quot;&gt;Labrid pharyngeal only, multi-sigma model:&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6093/6284633974_07a359fe14_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;labrid-pharyngealmulti-alpha&quot;&gt;Labrid pharyngeal, multi-alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6045/6284114285_654c4c50fb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;labrid-intramandibular-onlymulti-sigma-model&quot;&gt;Labrid intramandibular only, multi-sigma model:&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6103/6284640552_364ee8de5e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;labrid-intramandibularmulti-alpha&quot;&gt;Labrid intramandibular, multi-alpha&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6227/6284121123_e43b4ee70c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Full model plots with: &lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/1c1dcc93c7d5185e2763503d38739a72b4b18d0e#diff-0&quot;&gt;method2_plots.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;submodel plots with: &lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/1c1dcc93c7d5185e2763503d38739a72b4b18d0e#diff-1&quot;&gt; method2_subplot.R&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;whats-not-here-pure-bm-shift-models&quot;&gt;What’s not here: pure BM shift models&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Auteur version&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brownie version&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape version&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;running on parrotfish and full labrid_data example.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday, misc notes</title>
   <link href="/2011/10/26/monday-misc-notes.html"/>
   <updated>2011-10-26T02:47:13-07:00</updated>
   <id>h/2011/10/26/monday-misc-notes</id>
   <content type="html">&lt;p&gt;R packages relevant to the optimal control problems&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BB: solving system of nonlinear equations&lt;/li&gt;
&lt;li&gt;bvpSolve: boundary value problems&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;lunch with Alan &amp;amp; visiting professor from Ottowa, &lt;a href=&quot;http://mysite.science.uottawa.ca/flutsche/&quot;&gt;Frithjof Lutscher&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;adg-algorithm-discussion-group&quot;&gt;ADG (algorithm discussion group)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Reviewed github, basic git commands.&lt;/li&gt;
&lt;li&gt;Added roxygen function documentation&lt;/li&gt;
&lt;li&gt;Created basic package, toyHMM&lt;/li&gt;
&lt;li&gt;Some git notes:  The quick git-undo for a destroyed file:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git checkout filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This will checkout the file from HEAD, overwriting your change. If you’ve already committed changes, you need to go up one previous from head, using&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git checkout HEAD^ filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Or for two commits back,&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git checkout HEAD^^ filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This command is also used to checkout branches, and you could happen to have a file with the same name as a branch. All is not lost, you will simply need to type:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git checkout -- filename&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;You can also do this with files from other branches, and such. &lt;code&gt;man git-checkout&lt;/code&gt; has the details.&lt;/p&gt;
&lt;p&gt;The rest of the Internet will tell you to use &lt;code&gt;git reset --hard&lt;/code&gt;, but this resets &lt;strong&gt;all &lt;/strong&gt; uncommitted changes you’ve made in your working copy. Type this with care.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday notes: package work mostly.</title>
   <link href="/2011/10/25/tuesday-notes-package-work-mostly.html"/>
   <updated>2011-10-25T12:18:09-07:00</updated>
   <id>h/2011/10/25/tuesday-notes-package-work-mostly</id>
   <content type="html">&lt;h2 id=&quot;treebase-release&quot;&gt;Treebase release&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;write updated tutorial.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cran needs mac and windows binaries.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Trying devtools win_builder(); emailing Kurt.  &lt;em&gt;Nevermind&lt;/em&gt;, just got the email saying the binary has been built.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;write email announcement&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rfishbase-data-formatting&quot;&gt;rfishbase data formatting&lt;/h2&gt;
&lt;p&gt;My problem turned out not to be about &amp;quot;&amp;quot; at all, these were octal encodings of symbols used in the XML data, eg:   Cape Bojador (26°N)&lt;/p&gt;
&lt;p&gt;which xmlValue() would read in using the octal encoding  “Cape Bojador (260260N)”&lt;/p&gt;
&lt;p&gt;and which R CMD check would then complain about, giving the error in byte encoding (just to confuse me): “Cape Bojador (26&lt;c2&gt;&lt;b0&gt;N)”&lt;/p&gt;
&lt;p&gt;inconv() function provided my crude work-around:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;Cape Bojador (26\302\260N)&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;Encoding&lt;/span&gt;(string) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;UTF-8&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;iconv&lt;/span&gt;(string, &lt;span class=&quot;st&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;ASCII&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;byte&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# return hex code used by R CMD check&lt;/span&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;iconv&lt;/span&gt;(string, &lt;span class=&quot;st&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;ASCII&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# just drop those chars&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I could translate the hex errors by hand into octal, and then hand-code a better literal translation:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &amp;quot;Cape Bojador (26\302\260N)&amp;quot;&lt;/span&gt;
string &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;\302\260&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; degrees &amp;quot;&lt;/span&gt;, string)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but that’s too tedious and slow, I’ll cope without the degree symbol for the moment.   Tedious, because I’d have to recode most UTF-8 symbols, starting by decoding their byte strings, by looking up the &lt;a href=&quot;http://stuffofinterest.com/misc/utf8.php?s=128&quot;&gt;hex string here&lt;/a&gt;, then pasting the symbol into an&lt;a href=&quot;http://encodertool.com/octal&quot;&gt;octal encoder&lt;/a&gt;.    A partial list of the offenders includes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;c2&amp;gt;&amp;lt;96&amp;gt;, &amp;lt;c2&amp;gt;&amp;lt;b0&amp;gt;,  &amp;lt;c3&amp;gt;&amp;lt;a9&amp;gt;, &amp;lt;c3&amp;gt;&amp;lt;ad&amp;gt;, &amp;lt;c2&amp;gt;&amp;lt;bd&amp;gt;, &amp;lt;c3&amp;gt;&amp;lt;b3&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A solution, if not an ideal one.  At least no ASCII errors.  I’d be happy for any better suggestions.  Oh well, done.  Package submitted to CRAN via devtools&lt;/p&gt;
&lt;h2 id=&quot;labrid-phylogenetics&quot;&gt;Labrid Phylogenetics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Launch sub-model runs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Attempt to replicate Price et al. results on BM model&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Treebase Package On Cran</title>
   <link href="/2011/10/25/treebase-package-on-cran.html"/>
   <updated>2011-10-25T12:06:38-07:00</updated>
   <id>h/2011/10/25/treebase-package-on-cran</id>
   <content type="html">&lt;p&gt;My treebase package is now up on the &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/&quot;&gt;CRAN repository&lt;/a&gt;. (Source code is up, the binaries should appear soon). Here’s a few introductory examples to illustrate some of the functionality of the package. Thanks in part to new data deposition requirements at journals such as Evolution, Am Nat, and Sys Bio, and data management plan requirements from NSF, I hope the package will become increasingly useful for teaching by replicating results and for meta-analyses that can be automatically updated as the repository grows. Please contact me with any bugs or requests (or post in the &lt;a href=&quot;https://github.com/cboettig/treeBASE/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;issue tracker&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;basic-tree-and-metadata-queries&quot;&gt;Basic tree and metadata queries&lt;/h2&gt;
&lt;p&gt;Downloading trees by different queries: by author, taxa, &amp;amp; study. More options are described in the help file.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
both &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Ronquist or Hulesenbeck&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;))
dolphins &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Delphinus&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
studies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;)
Near &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Near&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can query the metadata record directly. For instance, plot the growth of Treebase submissions by publication date&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;)
dates &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x$date))
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(dates, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeBase growth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(This query could also take a date range).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6221/6280258573_0c01c06c91_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;How do the weekly’s do on submissions to Treebase? We construct this in a way that gives us back the indices of the matches, so we can then grab those trees directly. Run the scripts yourself to see if they’ve changed!&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
nature &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Nature&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
science &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Science$&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(nature)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(science)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;14&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now get me all of those treebase trees that have appeared in Nature.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study&lt;/span&gt;( all[nature] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which authors have the most submissions?&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
authors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x){
  index &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;( &lt;span class=&quot;st&quot;&gt;&amp;quot;creator&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(x))
  x[index]
  })
a &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.factor&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;unlist&lt;/span&gt;(authors))
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(a))
        Crous, Pedro W.   Wingfield, Michael J. Groenewald, Johannes Z.
                     &lt;span class=&quot;dv&quot;&gt;88&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;68&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;58&lt;/span&gt;
   Donoghue, Michael J.       Takamatsu, Susumu    Wingfield, Brenda D.
                     &lt;span class=&quot;dv&quot;&gt;39&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;36&lt;/span&gt;                      &lt;span class=&quot;dv&quot;&gt;35&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;replicating-results&quot;&gt;Replicating results&lt;/h2&gt;
&lt;p&gt;A nice paper by Derryberry et al. appeared in Evolution recently on diversification in ovenbirds and woodcreepers (Derryberry &lt;em&gt;et. al.&lt;/em&gt; 2011). The article mentions that the tree is on Treebase, so let’s see if we can replicate their diversification rate analysis:&lt;/p&gt;
&lt;p&gt;Let’s grab the trees by that author and make sure we have the right one:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(treebase)
&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Derryberry&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(tree$S.id)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(tree)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6117/6280770968_483816528a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(click to zoom - go to all sizes-&amp;gt;original size)&lt;/p&gt;
&lt;p&gt;They fit a variety of diversification rate models avialable in the laser package, which they compare by aic.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)
models &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;pb =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(tt),
                &lt;span class=&quot;dt&quot;&gt;bdfit =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(tt),
                &lt;span class=&quot;dt&quot;&gt;y2r =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;yule2rate&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# yule model with single shift pt&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ddl =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;DDL&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# linear, diversity-dependent&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ddx =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;DDX&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;#exponential diversity-dendent&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;sv =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitSPVAR&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# vary speciation in time&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;ev =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitEXVAR&lt;/span&gt;(tt), &lt;span class=&quot;co&quot;&gt;# vary extinction in time&lt;/span&gt;
                &lt;span class=&quot;dt&quot;&gt;bv =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;fitBOTHVAR&lt;/span&gt;(tt)&lt;span class=&quot;co&quot;&gt;# vary both&lt;/span&gt;
                )
aics &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(models, function(x) x$aic)
&lt;span class=&quot;co&quot;&gt;# show the winning model&lt;/span&gt;
models[&lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(aics)]
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;models[&lt;span class=&quot;kw&quot;&gt;which.min&lt;/span&gt;(aics)]
$y2r
          LH      st1        r1         r2       aic
&lt;span class=&quot;dv&quot;&gt;276&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;505.0685&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1.171871&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1426537&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.05372305&lt;/span&gt; -&lt;span class=&quot;fl&quot;&gt;1004.137&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yup, their result agrees with our analysis. Using the extensive toolset for diversification rates in R, we could now rather easily check if these results hold up in newer methods such as TreePar, etc.&lt;/p&gt;
&lt;h2 id=&quot;meta-analysis&quot;&gt;Meta-Analysis&lt;/h2&gt;
&lt;p&gt;Of course one of the more interesting challenges of having an automated interface is the ability to perform meta-analyses across the set of available phylogenies in treebase. As a simple proof-of-principle, let’s check all the phylogenies in treebase to see if they fit a birth-death model or yule model better.&lt;/p&gt;
&lt;p&gt;We’ll create two simple functions to help with this analysis. While these can be provided by the treebase package, I’ve included them here to illustrate that the real flexibility comes from being able to create custom functions. ((These are primarily illustrative; I hope users and developers will create their own. In a proper analysis we would want a few additional checks.))&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
timetree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
    check.na &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tree$edge.length))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(check.na, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;) |&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;check.na)
      &lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;
    else
    &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;chronoMPL&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;multi2di&lt;/span&gt;(tree)) )
}
drop_errors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tr){
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tr, is.null)]
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, function(x) &lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))]
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;dropped&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tr)-&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tt), &lt;span class=&quot;st&quot;&gt;&amp;quot;trees&amp;quot;&lt;/span&gt;))
  tt
}
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
pick_branching_model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
  m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
  m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
  &lt;span class=&quot;kw&quot;&gt;as.logical&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(m2$aic &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m1$aic))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Return only treebase trees that have branch lengths. This has to download every tree in treebase, so this will take a while. Good thing we don’t have to do that by hand.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Consensus&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type.tree&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop_errors&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, timetree))
is_yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, pick_branching_model)
&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(is_yule)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derryberry E, Claramunt S, Derryberry G, Chesser R, Cracraft J, Aleixo A, Pérez-Emán J, Remsen Jr. J and Brumfield R (2011). “Lineage Diversification And Morphological Evolution in A Large-Scale Continental Radiation: The Neotropical Ovenbirds And Woodcreepers (Aves: Furnariidae).” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Training problem 2: the economist's problem statement</title>
   <link href="/2011/10/24/optimal-control-training-problem-2-problem-statement.html"/>
   <updated>2011-10-24T10:46:26-07:00</updated>
   <id>h/2011/10/24/optimal-control-training-problem-2-problem-statement</id>
   <content type="html">&lt;h3 id=&quot;pdg-control&quot;&gt;pdg-control&lt;/h3&gt;
&lt;p&gt;Problem statement: Maximize profits subject to &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_{h(t)} \int_0^T e^{-\rho t} \pi(x, h, t) dt&quot; alt=&quot;\max_{h(t)} \int_0^T e^{-\rho t} \pi(x, h, t) dt&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Subject to the state equations (biology):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - x h&quot; alt=&quot;\dot x = x \exp \left( \alpha \left(1-\frac{x}{K}\right) \left( \frac{x-C}{K} \right) \right) - x h&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that we consider the control variable to be effort, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?h\inline&quot;/&gt;&lt;/span&gt; instead of harvest, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathcal{H}\inline&quot;/&gt;&lt;/span&gt;, where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathcal{H} = h x\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;and the constraints: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x(0) = X_0 \qquad x(T) = X_T&quot; alt=&quot;x(0) = X_0 \qquad x(T) = X_T&quot; /&gt;&lt;/div&gt;&lt;/span&gt; We have fixed boundary conditions (equalities) and equalities in the state equations, so we have a nice straight-forward problem. We assume the instantaneous profit function shows diminishing returns (i.e. satisfies the curvature conditions &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d \pi}{dh} &amp;lt; 0, \frac{d^2 \pi}{dh} &amp;gt; 0\inline&quot;/&gt;&lt;/span&gt;). For instance we could take the saturating function: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pi(h, x, t) = \frac{h^{1+\gamma}}{1+\gamma}&quot; alt=&quot;\pi(h, x, t) = \frac{h^{1+\gamma}}{1+\gamma}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; with &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\gamma &amp;lt; 0\inline&quot;/&gt;&lt;/span&gt;. From this we can write down the associated present-value Hamiltonian: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H = \pi(h) - \lambda f(x,h)&quot; alt=&quot;H = \pi(h) - \lambda f(x,h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and the costate equation: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \lambda = -\partial_x H = \lambda \left( \rho - \partial_x f(x,h) \right)&quot; alt=&quot;\dot \lambda = -\partial_x H = \lambda \left( \rho - \partial_x f(x,h) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and boundary conditions. Given our curvature assumptions on $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, the maximum principle of Pontryagin gives us the first-order condition:\inline&quot;/&gt;&lt;/span&gt;$ 0 = &lt;em&gt;h H = &lt;/em&gt;h - &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Assuming functional form above for fishing profits $\pi$, we can then rewrite the costate equation.&quot; alt=&quot;Assuming functional form above for fishing profits $\pi$, we can then rewrite the costate equation.&quot; /&gt;&lt;/div&gt;&lt;/span&gt;  =  = h^{}  = h^{} ( - &lt;em&gt;x f(x,h) ) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?$ simplifies to an ODE for\inline&quot;/&gt;&lt;/span&gt;h &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, leaving us with the two dimensional ODE BVP:\inline&quot;/&gt;&lt;/span&gt;h = ^{-1} ( - &lt;/em&gt;x f(x,h) )$ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = f(x,h)\inline&quot;/&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x(0) = X_0 \qquad x(T) = X_T\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which we can solve by a variety of direct or indirect approaches. Note that we have analytically for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x)\inline&quot;/&gt;&lt;/span&gt; given above &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\partial_x f = - \alpha \frac{ ( C K - 2 x K - 2 x C + 3 x^2) }{ K ^ 2 } - h&quot; alt=&quot;\partial_x f = - \alpha \frac{ ( C K - 2 x K - 2 x C + 3 x^2) }{ K ^ 2 } - h&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For instance, solving with shooting or basic collocation:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6059/6279431460_c76e58240d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/pdg_control/blob/master/training_prob2_collocation.R&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: Optimal Control</title>
   <link href="/2011/10/21/friday-optimal-control.html"/>
   <updated>2011-10-21T16:15:08-07:00</updated>
   <id>h/2011/10/21/friday-optimal-control</id>
   <content type="html">&lt;h2 id=&quot;optimal-control&quot;&gt;Optimal control&lt;/h2&gt;
&lt;p&gt;Imagine we’re trying to minimize &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?J = \theta( y(t_F), t_F)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;subject to both the state equations: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot y = f(y(t), u(t))\inline&quot;/&gt;&lt;/span&gt;, Note these are continuous, applying at all times &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;and boundary conditions: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\psi(y(t_F), u(t_F), t_F) = 0\inline&quot;/&gt;&lt;/span&gt;. These are discrete, applying only at fixed time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t_F\inline&quot;/&gt;&lt;/span&gt;.  We have to put the continuous constraint in as an integral:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat J = \left[\phi + \mathbf{\nu}^T \psi \right]_{t_F} - \int_{t_I}^{t_F} \mathbf{\lambda}^T \left(\dot{\mathbf{y}} - f(\mathbf{y}(t),\mathbf{u}(t)) \right) dt&quot; alt=&quot;\hat J = \left[\phi + \mathbf{\nu}^T \psi \right]_{t_F} - \int_{t_I}^{t_F} \mathbf{\lambda}^T \left(\dot{\mathbf{y}} - f(\mathbf{y}(t),\mathbf{u}(t)) \right) dt&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;compare to the Lagrangian minimizing &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(x)\inline&quot;/&gt;&lt;/span&gt; under the constraint &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c(\mathbf{x} ) = 0\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(\mathbf{x}) - \mathbf{\lambda}^T \mathbf{c}(\mathbf{x}) = F(\mathbf{x}) - \sum_{i=1}^m \lambda_i c_i(\mathbf{x})&quot; alt=&quot;F(\mathbf{x}) - \mathbf{\lambda}^T \mathbf{c}(\mathbf{x}) = F(\mathbf{x}) - \sum_{i=1}^m \lambda_i c_i(\mathbf{x})&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can add the discrete boundary conditions in with classic Lagrange multiplier&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Hamiltonian_control_theory&quot;&gt;Differences&lt;/a&gt; between Hamiltonian of Pontryagin and that in mechanics. Why didn’t anyone tell me about &lt;a href=&quot;https://netfiles.uiuc.edu/liberzon/www/teaching/sussmann-willems.pdf&quot;&gt;this paper&lt;/a&gt;!&lt;/p&gt;
&lt;h3 id=&quot;sample-problem&quot;&gt;Sample problem&lt;/h3&gt;
&lt;p&gt;from page 353 (10.6.10), Judd&lt;/p&gt;
&lt;p&gt;Maximize the objective function: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_c \int_0^T e^{-\rho t} u(c) dt&quot; alt=&quot;\max_c \int_0^T e^{-\rho t} u(c) dt&quot; /&gt;&lt;/div&gt;&lt;/span&gt; s.t. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot A = f(A) + w(t) -c(t)&quot; alt=&quot;\dot A = f(A) + w(t) -c(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?A(0) = A(T) = 0&quot; alt=&quot;A(0) = A(T) = 0&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with w(t) wage rate at time t A(t) assets at ime t, and f(A) the return on invested assets&lt;/p&gt;
&lt;p&gt;From the statement of the problem, we have: the Hamiltonian: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H = u(c) + \lambda ( f(A) + w(t) -c )\inline&quot;/&gt;&lt;/span&gt; and the costate eqn: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \lambda = \lambda (\rho - f&amp;#39;(A) )\inline&quot;/&gt;&lt;/span&gt; and bdry conditions.&lt;/p&gt;
&lt;p&gt;assuming u concave in c, the maximum principle gives us: the first order condition that: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?0 = \partial_c H = u&amp;#39;(c) - \lambda&quot; alt=&quot;0 = \partial_c H = u&amp;#39;(c) - \lambda&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So we’re left with a nice ODE system: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot A = f(A) + w(t) - C(\lambda)&quot; alt=&quot;\dot A = f(A) + w(t) - C(\lambda)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \lambda = \lambda (\rho - f&amp;#39;(A))&quot; alt=&quot;\dot \lambda = \lambda (\rho - f&amp;#39;(A))&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?A(0) = A(T) = 0&quot; alt=&quot;A(0) = A(T) = 0&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Let’s assume functional forms for the utility: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?u(c) = c^{1+\gamma}/(1+\gamma)&quot; alt=&quot;u(c) = c^{1+\gamma}/(1+\gamma)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and the asset return: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(A) = rA&quot; alt=&quot;f(A) = rA&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then our system becomes &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot A = rA + w(t) - c(t)&quot; alt=&quot;\dot A = rA + w(t) - c(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \lambda = \lambda (\rho - r )&quot; alt=&quot;\dot \lambda = \lambda (\rho - r )&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From the max principle of Hamiltonian, first order condition &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?0 = \partial_c H&quot; alt=&quot;0 = \partial_c H&quot; /&gt;&lt;/div&gt;&lt;/span&gt;, so &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?u&amp;#39;(c) -\lambda = c^{\gamma} -\lambda&quot; alt=&quot;u&amp;#39;(c) -\lambda = c^{\gamma} -\lambda&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda = c^{\gamma}&quot; alt=&quot;\lambda = c^{\gamma}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d\lambda}{dt} = \frac{d\lambda}{dc}\frac{d c}{dt}&quot; alt=&quot;\frac{d\lambda}{dt} = \frac{d\lambda}{dc}\frac{d c}{dt}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d\lambda}{dc} = \gamma c^{\gamma}&quot; alt=&quot;\frac{d\lambda}{dc} = \gamma c^{\gamma}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; which we sub into the costate equation to get &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d\lambda}{dt} = c^{\gamma} (\rho - r)&quot; alt=&quot;\frac{d\lambda}{dt} = c^{\gamma} (\rho - r)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\gamma c^\gamma \frac{dc}{dt} = c^{\gamma} (\rho - r)&quot; alt=&quot;\gamma c^\gamma \frac{dc}{dt} = c^{\gamma} (\rho - r)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; which simplfiies to: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dc}{dt} = \frac{c}{\gamma} (\rho - r)&quot; alt=&quot;\frac{dc}{dt} = \frac{c}{\gamma} (\rho - r)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and our second equation is still: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot A = rA + w(t) - c(t)&quot; alt=&quot;\dot A = rA + w(t) - c(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; And our boundary conditions: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?A(0) = A(T) = 0&quot; alt=&quot;A(0) = A(T) = 0&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So a nice ODE BVP we’re ready to solve.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday - some parrotfish & labrid runs on method2</title>
   <link href="/2011/10/20/thursday-some-parrotfish-runs-on-method2.html"/>
   <updated>2011-10-20T09:20:14-07:00</updated>
   <id>h/2011/10/20/thursday-some-parrotfish-runs-on-method2</id>
   <content type="html">&lt;p&gt;Running:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-17 method2_parrotfish.R – Done. Below.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-27 method2_labrids.R (with three partitions)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-13 method2_labrids_phar.R (two partitions)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;farm cluster, c0-19 method2_labrids_intra.R (two partitions)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;parrotfish&quot;&gt;Parrotfish&lt;/h2&gt;
&lt;h4 id=&quot;phylogeny&quot;&gt;Phylogeny&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6101/6265110970_b52d8ca4c7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The .y indicates the trait has been size-corrected.  Parameters reported from estimations in the full model.  All sets converged except open lever ratio. Error bars indicate 1 standard deviation estimated from the likelihood curvature.  Lighter color indicates the presence of an intramandibular joint, as coded in the phylogeny above.&lt;/p&gt;
&lt;h4 id=&quot;strength-of-selection&quot;&gt;Strength of Selection&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6099/6264563965_b8442e9255_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;evolutionary-rate&quot;&gt;Evolutionary Rate&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6057/6264563979_c39b2ae9b1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;optimum&quot;&gt;Optimum&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6231/6265093854_8f0141ff95_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;wrasses&quot;&gt;Wrasses&lt;/h2&gt;
&lt;h4 id=&quot;strength-of-selection-1&quot;&gt;Strength of Selection&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6037/6264757205_079488b3bc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;evolutionary-rate-1&quot;&gt;Evolutionary Rate&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6221/6264757231_2363f098d6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;optimum-1&quot;&gt;Optimum&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6174/6264757239_8233630f34_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;phylogeny-1&quot;&gt;Phylogeny&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6110/6265295834_5631e1a270_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;http://www.carlboettiger.info/archives/1534&quot;&gt;Data background&lt;/a&gt;) Next&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compare open and close ratios in oumv and ouma models (within each partition scheme).&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Optimal Control Exploration</title>
   <link href="/2011/10/19/optimal-control-exploration.html"/>
   <updated>2011-10-19T16:01:10-07:00</updated>
   <id>h/2011/10/19/optimal-control-exploration</id>
   <content type="html">&lt;p&gt;Translating Jim’s Matlab code.&lt;/p&gt;
&lt;p&gt;Adapted for Octave.&lt;/p&gt;
&lt;p&gt;R version.&lt;/p&gt;
&lt;p&gt;Document review:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Chapter 04_Sanchirico_Final.pdf&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SanchiricoOptimalSpace_JEEM.pdf (Sanchirico &amp;amp; Wilen, 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal_Rebuilding_AJAE2010.pdf, Optimal_Rebuilding_Supp_Material.pdf (Sanchirico &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sanchirico_editsembedded.pdf: Book Chapter 1:  Economically Optimal Management of a Metapopulation&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reviewing Bett’s Practical Methods for Optimal Control using Nonlinear Programming. (( &lt;a href=&quot;http://www.mendeley.com/library/#&quot;&gt;Practical Methods for Optimal Control and Estimation Using Nonlinear Programming, Second Edition (Advances in Design and Control)&lt;/a&gt; John T. Betts (2009) &lt;em&gt;Society for Industrial &amp;amp; Applied Mathematics&lt;/em&gt; p. 448))&lt;/p&gt;
&lt;h3 id=&quot;basics&quot;&gt;Basics&lt;/h3&gt;
&lt;h4 id=&quot;newtons-method&quot;&gt;Newton’s Method:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;in solving roots (constraint), Jacobian. (secant methods)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt; in solving (unconstrained) optimization, Hessian&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;equality-constrained-optimization&quot;&gt;Equality-constrained Optimization:&lt;/h4&gt;
&lt;p&gt;Lagrangian multipliers -&amp;gt; optimization.  Hessian of Lagrangian, gives KTT system:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\begin{pmatrix} H_L &amp;amp; G^T \\ G &amp;amp; 0 \end{pmatrix} = \pmatrix{ - p \\ \bar \lambda}   = \pmatrix{ g\\ c }&quot; alt=&quot;\begin{pmatrix} H_L &amp;amp; G^T \\ G &amp;amp; 0 \end{pmatrix} = \pmatrix{ - p \\ \bar \lambda}   = \pmatrix{ g\\ c }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Newton’s.  Estimating Jacobian/Hessian by Quasi-Newton (Secant) approach.  e.g. BFGS update.&lt;/p&gt;
&lt;h4 id=&quot;inequality-constrained-optimization&quot;&gt;Inequality-Constrained Optimization:&lt;/h4&gt;
&lt;p&gt;define Active set &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mathcal A\inline&quot;/&gt;&lt;/span&gt; of constraints.  if &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c_i(x) \geq 0\inline&quot;/&gt;&lt;/span&gt; then active when &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda_i^* \geq 0\inline&quot;/&gt;&lt;/span&gt;, e.g. active for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?i \in \mathcal{A}\inline&quot;/&gt;&lt;/span&gt;. If in the active set, can treat as equality, otherwise constraint is removed from Lagrangian.&lt;/p&gt;
&lt;h4 id=&quot;quadratic-programming&quot;&gt;Quadratic Programming:&lt;/h4&gt;
&lt;p&gt;If we have&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;quadratic objective &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(x) = g^T x + \frac{1}{2} x^T H x\inline&quot;/&gt;&lt;/span&gt;, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H\inline&quot;/&gt;&lt;/span&gt; positive-definite.  (&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H = 0\inline&quot;/&gt;&lt;/span&gt; becomes a LP problem).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;linear constraints &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Ax = a, Bx \geq b\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;An active set algorithm:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Newton-minimize the active set Lagrangian (as equalities).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Take the largest step in direction &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?p\inline&quot;/&gt;&lt;/span&gt; that doesn’t violate the inactive set. (step size &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha  &amp;lt; 1\inline&quot;/&gt;&lt;/span&gt; in &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\bar x = x + \alpha p\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If the step is restricted by inactive set, add to active set and repeat.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;globalization-strategies&quot;&gt;Globalization strategies&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Merit function (just use F? use quadratic penalty?) decides if method is “working”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Line-search method: what to do when step doesn’t improve merit function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trust-region methods&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Filters&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;nonlinear-programming&quot;&gt;Nonlinear Programming&lt;/h4&gt;
&lt;p&gt;minimize objective &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(x)\inline&quot;/&gt;&lt;/span&gt; subject to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m\inline&quot;/&gt;&lt;/span&gt; constraints &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?c_L \leq c(x) \leq c_U\inline&quot;/&gt;&lt;/span&gt; and the simple bounds &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_L \leq x \leq x_U\inline&quot;/&gt;&lt;/span&gt; .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Make quadratic from Taylor approximation to Lagrangian and solve this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Introduce merit function&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;what-can-go-wrong&quot;&gt;What can go wrong&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Infeasible constraints&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rank-deficient constraints&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Constraint redundancy (confuses the active set definition)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discontinuities&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;scaling&quot;&gt;Scaling&lt;/h4&gt;
&lt;p&gt;Scale variables appropriately, same range, magnitude, etc.  Typically automated in a good algorithm.&lt;/p&gt;
&lt;h3 id=&quot;large-sparse-nlp&quot;&gt;Large, Sparse, NLP&lt;/h3&gt;
&lt;p&gt;(This is a direct approach.  Indirect methods reformulate as a boundary value problem by the Hamiltonian and solve that instead (via shooting, etc).&lt;/p&gt;
&lt;h2 id=&quot;finite-horizon-optimal-control-problems&quot;&gt;Finite-Horizon Optimal Control Problems&lt;/h2&gt;
&lt;p&gt;On to collocation solutions to boundary value problems.  Switching to:&lt;/p&gt;
&lt;p&gt;Judd, K. L. (1998). &lt;em&gt;Numerical Methods in Economics.&lt;/em&gt; The MIT Press. Retrieved from http://www.amazon.com/Numerical-Methods-Economics-Kenneth-Judd/dp/0262100711&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_u \int_O^T e^{\rho t} \pi(x,u,t) dt + W(x(T))&quot; alt=&quot;\max_u \int_O^T e^{\rho t} \pi(x,u,t) dt + W(x(T))&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;s.t. &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = f(x,u,t)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x(0) = x_0\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where we have:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n\inline&quot;/&gt;&lt;/span&gt; state variables &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x \in R^n\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m\inline&quot;/&gt;&lt;/span&gt; controls &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?u \in R^m\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a discount rate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\rho\inline&quot;/&gt;&lt;/span&gt;,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a rate of payoff &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\pi(x,u,t) : R^n \times R^m \times R \to R\inline&quot;/&gt;&lt;/span&gt;, (a.k.a. the utility function)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?W(x(T))\inline&quot;/&gt;&lt;/span&gt;, a value of the terminal state, (or otherwise this is 0, and we have terminal condition &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x(T) = x^T\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f\inline&quot;/&gt;&lt;/span&gt; the law of motion (biology).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We can define the current-value Hamiltonian:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H(x, u, \lambda, t) = \pi(x,u,t) + \lambda^T f(x,u,t)&quot; alt=&quot;H(x, u, \lambda, t) = \pi(x,u,t) + \lambda^T f(x,u,t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda \in R^n\inline&quot;/&gt;&lt;/span&gt; are shadow prices for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\inline&quot;/&gt;&lt;/span&gt;, subject to the costate equations:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot \lambda = \rho \lambda - (\partial_x \pi + \lambda^T \partial_x f )&quot; alt=&quot;\dot \lambda = \rho \lambda - (\partial_x \pi + \lambda^T \partial_x f )&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(e.g. the costate equation is $ = -_x H $.  Why? Proof?)&lt;/p&gt;
&lt;p&gt;and then the maximum principle implies that we get the optimal control (time-dependent values for parameters) by:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?u(t) \in \arg \max_u H(x,u, \lambda, t)&quot; alt=&quot;u(t) \in \arg \max_u H(x,u, \lambda, t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H\inline&quot;/&gt;&lt;/span&gt; is &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C^2\inline&quot;/&gt;&lt;/span&gt; and concave in &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?u\inline&quot;/&gt;&lt;/span&gt;, there’s a unique solution &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?U(x,\lambda,t)\inline&quot;/&gt;&lt;/span&gt;, given by first-order condition&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?0 = \partial_u H(x, U(x,\lambda,t), \lambda, t)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which satisfies the costate equation, the law of motion, and the boundary value problem.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sanchirico J and Wilen J (2005). “Optimal Spatial Management of Renewable Resources: Matching Policy Scope to Ecosystem Scale.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.001&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sanchirico J, Wilen J and Coleman C (2010). “Optimal Rebuilding of A Metapopulation.” &lt;em&gt;American Journal of Agricultural Economics&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0002-9092, &lt;a href=&quot;http://dx.doi.org/10.1093/ajae/aaq045&quot;&gt;http://dx.doi.org/10.1093/ajae/aaq045&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Mathematical Elements of Attack Risk Analysis for Mountain Pine tribolium</title>
   <link href="/2011/10/18/mathematical-elements-of-attack-risk-analysis-for-mountain-pine-beetles.html"/>
   <updated>2011-10-18T01:00:46-07:00</updated>
   <id>h/2011/10/18/mathematical-elements-of-attack-risk-analysis-for-mountain-pine-beetles</id>
   <content type="html">&lt;p&gt;(POWELL &lt;em&gt;et. al.&lt;/em&gt; 2000)&lt;/p&gt;
&lt;h2 id=&quot;regimes&quot;&gt;Regimes&lt;/h2&gt;
&lt;p&gt;endemic - attack the weakling trees. epidemic&lt;/p&gt;
&lt;p&gt;Tree has defenses. Aggregation of beetles can exhaust these, but then must disperse to other trees to avoid larval competition.&lt;/p&gt;
&lt;h2 id=&quot;mathematical-elements&quot;&gt;Mathematical Elements&lt;/h2&gt;
&lt;p&gt;The cast, (after some non-dimensionalization)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;$ Q(x,y,t) = R P  -   Q  R$ Nesting beetles&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ H(x,y,t) =   R P - H R $ Holes: measures attack success&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ R(x,y,t) = ( 1 - R ) R - R H $  Resin: tree defense success&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ A(x,y,t) $ Some complex phermone plume, dependent on $ Q $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ P(x,y,t) =  -(vf(A)) - P)- P  - RP + (x,y,t) $ Flying beetles diffuse&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;density-based-pde&quot;&gt;Density-based PDE&lt;/h3&gt;
&lt;p&gt;Hosting/nesting behavior: function of insect-pheromone response, host-tree vigor.&lt;/p&gt;
&lt;p&gt;All about the competing processes $ Q $ and $ H $.&lt;/p&gt;
&lt;h3 id=&quot;local-projection-onto-ode-system&quot;&gt;Local projection onto ODE system&lt;/h3&gt;
&lt;p&gt;Spatial dynamics play out in things that move ($ P $ and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?A\inline&quot;/&gt;&lt;/span&gt; ).  Consider a focal tree of fixed density, and we can examine it’s impact on it’s radial neighbors by replacing the plume $ A $ with a function of nesting beetle number $ q &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, such that\inline&quot;/&gt;&lt;/span&gt; P $ can be described as infestation function on the current rate $ I(q) $.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6113/6257315953_99ed7abb02_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;stem-competition-model&quot;&gt;Stem-competition model&lt;/h3&gt;
&lt;p&gt;Becoming spatial again: with stand-growth model.&lt;/p&gt;
&lt;p&gt;Factors:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;stand age (changes tree vigor), older stands more robust due to thinning as well as individual robustness.  But effect is weak since it can saturate quickly, old enough trees are safe.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;emergence density (increases risk)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;canopy closure (extends risk)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wind (disperses plume)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;POWELL J, KENNEDY B, WHITE P, BENTZ B, LOGAN J and ROBERTS D (2000). “Mathematical Elements of Attack Risk Analysis For Mountain Pine Beetles.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;204&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.2000.1080&quot;&gt;http://dx.doi.org/10.1006/jtbi.2000.1080&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms Group: Literate programming</title>
   <link href="/2011/10/17/algorithms-group-literate-programming.html"/>
   <updated>2011-10-17T11:41:42-07:00</updated>
   <id>h/2011/10/17/algorithms-group-literate-programming</id>
   <content type="html">&lt;p&gt;Algorithms group today took a brake from discussing algorithms for an aside on coding practices.  Today we focused primarily on literate programming tools for making better documented, more readable code.   We covered:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://users.stat.umn.edu/~charlie/Sweave/&quot;&gt;Sweave&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html&quot;&gt;Google style guide&lt;/a&gt;, also see R core-team developer Hadley Wickam’s&lt;a href=&quot;https://github.com/hadley/devtools/wiki/Style&quot;&gt;style guide&lt;/a&gt; (modified from Google)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R coding practices grab-bag: using functionalized code, {…}, S3 vs S4 classes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/roxygen/&quot;&gt;roxygen&lt;/a&gt;, &lt;a href=&quot;http://cran.r-project.org/web/packages/roxygen2/index.html&quot;&gt;roxygen2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next time: Github, then we’ll spend 30 minutes collaboratively adding roxygen documentation to our existing codes and committing changes over git.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Rewrites</title>
   <link href="/2011/10/17/pnas-rewrites.html"/>
   <updated>2011-10-17T10:37:19-07:00</updated>
   <id>h/2011/10/17/pnas-rewrites</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Add more data set examples&lt;/li&gt;
&lt;li&gt;Remove skew, Remove the broken CaCO3 analysis&lt;/li&gt;
&lt;li&gt;Show distributions for increased sampling effort.&lt;/li&gt;
&lt;li&gt;Does time interval make a difference for convergence of deuterium2 run?  Nope.  Fails in parallel, running in series.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code&quot;&gt;Code:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;get away from explicit parallelization and deeply nested functions.&lt;/li&gt;
&lt;li&gt;really master optimizers, and avoid errors &amp;amp; failed convergence.&lt;/li&gt;
&lt;li&gt;store finished data for plotting as data objects.&lt;/li&gt;
&lt;li&gt;CaCO3 example -&amp;gt; MLE estimate of unstable model doesn’t converge, shouldn’t be used to simulate then! Add functions to check this convergence.&lt;/li&gt;
&lt;li&gt;Examples: Could use further examples, not so convincing as is.&lt;/li&gt;
&lt;li&gt;rescale time before fitting doesn’t change anything.&lt;/li&gt;
&lt;li&gt;show fixed true pos, fixed false pos.&lt;/li&gt;
&lt;li&gt;show thresholds, show observed&lt;/li&gt;
&lt;li&gt;scripts that save must use rm list=ls()&lt;/li&gt;
&lt;li&gt;G6, G10, ibm_short, deut2 running.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday, more runs</title>
   <link href="/2011/10/17/friday-more-runs.html"/>
   <updated>2011-10-17T06:39:08-07:00</updated>
   <id>h/2011/10/17/friday-more-runs</id>
   <content type="html">&lt;p&gt;A couple more runs:&lt;/p&gt;
&lt;p&gt;G10:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6044/6243871675_7d491ceda2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;G8: &lt;img src=&quot;http://farm7.staticflickr.com/6055/6247535358_8074f6ea87_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;G7: &lt;img src=&quot;http://farm7.staticflickr.com/6155/6247407000_d0b32cc52b_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;G6: &lt;img src=&quot;http://farm7.staticflickr.com/6114/6244395206_5524489815_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;K9: &lt;img src=&quot;http://farm7.staticflickr.com/6032/6246861765_73a54e65dd_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;K8: &lt;img src=&quot;http://farm7.staticflickr.com/6096/6246858279_1cf2350980_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Stable model: &lt;img src=&quot;http://farm7.staticflickr.com/6174/6247453182_3d67915c81_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;IBM critical on first half of data: &lt;img src=&quot;http://farm7.staticflickr.com/6179/6246814345_f05d594959_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Estimate the nonlinear model, show this method does worse than the linear estimation&lt;/li&gt;
&lt;li&gt;Apply to systems with alternate dynamics.&lt;/li&gt;
&lt;li&gt;Parameter distributions&lt;/li&gt;
&lt;li&gt;writing &amp;amp; formatting continue…&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday, Fisheries course</title>
   <link href="/2011/10/13/thursday-fisheries-course.html"/>
   <updated>2011-10-13T06:28:49-07:00</updated>
   <id>h/2011/10/13/thursday-fisheries-course</id>
   <content type="html">&lt;p&gt;Fisheries impact on forage fish.  Forage fish impact on the primary fisheries.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Sustainable_fisheries#cite_note-65&quot;&gt;Huxley, 1882&lt;/a&gt;: “Great Sea Fisheries cannot be exhausted” (&lt;a href=&quot;http://aleph0.clarku.edu/huxley/SM5/fish.html&quot;&gt;full address&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Worm &lt;em&gt;et al.&lt;/em&gt;, 2006: All fish will collapse by 2050 (Worm &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Benguela Current upwelling (Anchovy collapse)&lt;/p&gt;
&lt;p&gt;Discussion of: Prey switching impact?&lt;/p&gt;
&lt;p&gt;Wasp-waist ecosystems&lt;/p&gt;
&lt;p&gt;Ecopath/ecosim vs &lt;a href=&quot;http://www.csiro.au/science/Atlantis-ecosystem-model.html&quot;&gt;Atlantis&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Questions:&lt;/p&gt;
&lt;p&gt;Can we identify the nature of control?&lt;/p&gt;
&lt;p&gt;Importance of wasp-waist control.&lt;/p&gt;
&lt;p&gt;regime switching&lt;/p&gt;
&lt;p&gt;Negative impact of forage fish on ground fish. e.g. Iceland appearance of mackerel in their waters.  Can they fish it as an invasive&lt;/p&gt;
&lt;p&gt;Groundfish, like cod, can eat primarily forage fish, or invertebrates&lt;/p&gt;
&lt;p&gt;Big gaps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;modeling tools, non-equilibrium.&lt;/li&gt;
&lt;li&gt;examples where forage fish collapse&lt;/li&gt;
&lt;li&gt;variability, impact of variability.&lt;/li&gt;
&lt;li&gt;Where the heck are the innate oscillations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ropensci&quot;&gt;rOpenSci&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Final revisions on Digital Catalyst grant&lt;/li&gt;
&lt;li&gt;Digital catalyst grant submitted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Worm B, Barbier E, Beaumont N, Duffy J, Folke C, Halpern B, Jackson J, Lotze H, Micheli F, Palumbi S, Sala E, Selkoe K, Stachowicz J and Watson R (2006). “Impacts of Biodiversity Loss on Ocean Ecosystem Services.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;314&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1132294&quot;&gt;http://dx.doi.org/10.1126/science.1132294&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/10/12/wednesday-10.html"/>
   <updated>2011-10-12T15:01:56-07:00</updated>
   <id>h/2011/10/12/wednesday-10</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;8:30 gist - flush swap.  Catalyst grant review.&lt;/li&gt;
&lt;li&gt;9-9:30 SCHA stuff&lt;/li&gt;
&lt;li&gt;9:30 - query roc curve thresholds&lt;/li&gt;
&lt;li&gt;10 - 10:30 post rfishbase update&lt;/li&gt;
&lt;li&gt;10:30 http://openfisheries.org/&lt;/li&gt;
&lt;li&gt;11:15 back to roc curves.&lt;/li&gt;
&lt;li&gt;noon. curves threshold reading done.  lunch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;PNAS writing, examples.&lt;/p&gt;
&lt;p&gt;Adding more Drake-data examples: on farm, running G10 and G6.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1pm-2pm domes&lt;/li&gt;
&lt;li&gt;2pm back to writing&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Launch additional data runs: deut2, trying in series.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>rfishbase Tutorial - updated & extended</title>
   <link href="/2011/10/12/rfishbase-tutorial-updated-extended.html"/>
   <updated>2011-10-12T04:59:49-07:00</updated>
   <id>h/2011/10/12/rfishbase-tutorial-updated-extended</id>
   <content type="html">&lt;p&gt;Updated rfishbase package. Include querying for a list of scientific names and the addition of more quantitative traits, though the selection is still somewhat limited. Demo includes how to grab some data to match a phylogenetic tree, and some regular expression (grep) searches for feeding behavior.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;Source code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/downloads/cboettig/rfishbase/rfishbase_0.0-4.zip&quot;&gt;Windows binary also available&lt;/a&gt;.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# demo.R&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;rm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;list=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ls&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)

###### Grabbing, Loading &amp;amp; Caching Fishbase Data ######

## Download and parse data for first 40 ids (36 fish)
&lt;span class=&quot;co&quot;&gt;#fish.data &amp;lt;- getData(1:40)&lt;/span&gt;

## Or just load the cached copy of the full fishbase data:
## Note that this loads the copy distributed with rfishbase.
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(fishbase)

## To get the most recent copy of fishbase, update the cache
## and load that.  The update may take up to 24 hours.  
&lt;span class=&quot;co&quot;&gt;# updateCache() &lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# loadCache(&amp;quot;2011-10-12fishdata.Rdat&amp;quot;)&lt;/span&gt;


###### Sample Analysis #########

## Lets start by looking at the distribution of all age data available:
yr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt;(fish.data, &lt;span class=&quot;st&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(yr, &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Age Distribution&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;age (years)&amp;quot;&lt;/span&gt;); 
nfish &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(fish.data)


&lt;span class=&quot;co&quot;&gt;# We can create partitions by taxon.  For instance, we get the index&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# to all fish wrasses and parrotfish by searching for both families&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# note the use of a &amp;quot;regular expression&amp;quot; to specify the OR command in the search&lt;/span&gt;
labrid &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;familySearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(Labridae|Scaridae)&amp;quot;&lt;/span&gt;, fish.data)
goby &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;familySearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Gobiidae&amp;quot;&lt;/span&gt;, fish.data)


## Let&amp;#39;s see if there are more labrid species or goby speices on reefs:

&lt;span class=&quot;co&quot;&gt;# get all the labrids that are reefs &lt;/span&gt;
labrid.reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data[labrid])
&lt;span class=&quot;co&quot;&gt;# How many species are reef labrids:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(labrid.reef) &lt;span class=&quot;co&quot;&gt;# same as: length(fish.data[labrid][labrid.reef])&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# How many reef gobies:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt; (&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data[goby]) )


&lt;span class=&quot;co&quot;&gt;# Let&amp;#39;s plot the log length distribution of freshwater vs marine fish: &lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;freshwater&amp;quot;&lt;/span&gt;, fish.data)], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
         &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;marine fish are bigger&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;marine&amp;quot;&lt;/span&gt;, fish.data)], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
          &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)

&lt;span class=&quot;co&quot;&gt;# Note that we can also find anadromous fish:&lt;/span&gt;
anadromous &amp;lt;-&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;anadromous&amp;quot;&lt;/span&gt;, fish.data)



&lt;span class=&quot;co&quot;&gt;# this is useful for phylogenetic comparative methods.  For instance, load the labrid tree:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(ape)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(labridtree)

&lt;span class=&quot;co&quot;&gt;# get the species names (&amp;amp; remove underscores)&lt;/span&gt;
tree$tip.label&amp;lt;-&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;, tree$tip.label)
tip.labels &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$tip.label


myfish &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;findSpecies&lt;/span&gt;(tip.labels, fish.data) 
species.names &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data[myfish], function(x) x$ScientificName)

&lt;span class=&quot;co&quot;&gt;# create a trait matrix of fin data&lt;/span&gt;
traits &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getQuantTraits&lt;/span&gt;(fish.data[myfish])
&lt;span class=&quot;kw&quot;&gt;rownames&lt;/span&gt;(traits) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names
depths &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getDepth&lt;/span&gt;(fish.data[myfish])
&lt;span class=&quot;kw&quot;&gt;rownames&lt;/span&gt;(depths) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names

size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt;(fish.data[myfish], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(size) &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names

&lt;span class=&quot;co&quot;&gt;# who&amp;#39;s missing from treebase entirely?&lt;/span&gt;
missing&amp;lt;-tip.labels[!&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tip.labels %in%&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;species.names ]
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tree, missing)
&lt;span class=&quot;co&quot;&gt;# drop species with NAs for max depth&lt;/span&gt;
depth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;depths[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
missing&amp;lt;-&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(depth[&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(depth)])
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tr, missing)
&lt;span class=&quot;co&quot;&gt;# repeat for NAs for length&lt;/span&gt;
missing&amp;lt;-&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(size[&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(size)])
tr&amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop.tip&lt;/span&gt;(tr, missing)

&lt;span class=&quot;co&quot;&gt;# drop all the data not in the tree &lt;/span&gt;
pruned.names &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tr$tip.label
size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;size[pruned.names]
depth &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;depth[pruned.names]

&lt;span class=&quot;co&quot;&gt;# Does depth correlate with size after correcting for phylogeny?&lt;/span&gt;
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pic&lt;/span&gt;(size, tr)
y &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pic&lt;/span&gt;(depth, tr)
&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;lm&lt;/span&gt;(y~x&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;)) &lt;span class=&quot;co&quot;&gt;# Yes&lt;/span&gt;


&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(geiger)
bm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(tr, depth, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;)
ou &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fitContinuous&lt;/span&gt;(tr, depth, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;OU&amp;quot;&lt;/span&gt;)


invert &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;invertebrate&amp;quot;&lt;/span&gt;, x$trophic))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
piscivore &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;(piscivore|fish)&amp;quot;&lt;/span&gt;, x$trophic))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[invert], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
         &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;invert eaters vs piscivores&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;log&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;getSize&lt;/span&gt; (fish.data[piscivore], &lt;span class=&quot;st&quot;&gt;&amp;quot;length&amp;quot;&lt;/span&gt;)),
          &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)





## Using a treebase tree
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rtreebase)
## Need to find an example of a fish tree on treebase that has branchlengths
&lt;span class=&quot;co&quot;&gt;#trees &amp;lt;- search_treebase(&amp;quot;Scarus&amp;quot;, by=&amp;quot;taxon&amp;quot;, branch=TRUE)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#str &amp;lt;- trees[[1]]$tip.label&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#gsub(&amp;quot;(\\w+)_(\\w+)_.*&amp;quot;, &amp;quot;\\1 \\2&amp;quot;, str)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#myfish &amp;lt;- findSpecies(species, fish.data) &lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#getQuantTraits(fish.data[myfish])&lt;/span&gt;


&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Loo Botsford, CPB seminar</title>
   <link href="/2011/10/11/lou-botsford-cpb-seminar.html"/>
   <updated>2011-10-11T10:04:57-07:00</updated>
   <id>h/2011/10/11/lou-botsford-cpb-seminar</id>
   <content type="html">&lt;h2 id=&quot;effects-of-fishing-on-the-sensitivity-of-fisheries-to-climate-variability&quot;&gt;“Effects of Fishing on the Sensitivity of Fisheries to Climate Variability”&lt;/h2&gt;
&lt;p&gt;Truncation of age structure.&lt;/p&gt;
&lt;p&gt;juvenation (younger population), maternal effects (first-year breeders are poor), genetic selection, ability to track environment (vs smoothing – averaging over longer times).&lt;/p&gt;
&lt;p&gt;Outline:&lt;/p&gt;
&lt;h4 id=&quot;empirical-evidence-for-increased-variability-model-explanations&quot;&gt;Empirical evidence for increased variability, model explanations&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Story begins with Hsieh, et al 2006.  Long time series, increasing fluctuations. (Hsieh &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Anderson et al no age structure model (Anderson &lt;em&gt;et. al.&lt;/em&gt; 2008).  Imagine waht age structure would do.  Mortality rate as noise (funny, since it’s not so variable). Assumed increase r leads to instability.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shelton and Mangel (2011) Shelton &amp;amp; Mangel, 2011.  some age structure, same dome-shaped Ricker for recruitment.  Conclude noise necessary for variability – it’s not in intrinsic oscillations (large r/chaotic).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;cohort-resonance&quot;&gt;Cohort resonance&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Starts with (BJORNSTAD &lt;em&gt;et. al.&lt;/em&gt; 2004).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Leslie matrix (i.e. linear), except with Beverton-Holt in recruitment.  Intersection of 1/LEP with stock-recruitment curve is the equilibrium.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lou’s work (Worden &lt;em&gt;et. al.&lt;/em&gt; 2010) finds: Resonance increases with fishing.  Random growth rate drives resonance more strongly than survival.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;mechanisms-governing-increasing-sensitivity-with-fishing&quot;&gt;Mechanisms governing increasing sensitivity with fishing&lt;/h4&gt;
&lt;p&gt;Drive this system with white noise, introduces variability on a low-frequency trend.  Easily mistake these long-term trends for climate change effects?&lt;/p&gt;
&lt;p&gt;Different signals in different measurements:&lt;/p&gt;
&lt;h4 id=&quot;implications-for-science-management&quot;&gt;Implications for science, management&lt;/h4&gt;
&lt;h5 id=&quot;scientific-conclusions&quot;&gt;Scientific conclusions&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;It’s not Environment -&amp;gt; Catch.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It’s Environment -&amp;gt; Growth &amp;amp; Survival -&amp;gt; Recruitment. Egg Production. Catch&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Use not just variance, but the spectrum.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;management&quot;&gt; Management&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Current Magnuson Act calls for explicit estimates in uncertainty and precaution scaling with uncertainty.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;stage structured lumping loses many of the fluctuations.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hsieh C, Reiss C, Hunter J, Beddington J, May R and Sugihara G (2006). “Fishing Elevates Variability in The Abundance of Exploited Species.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;443&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05232&quot;&gt;http://dx.doi.org/10.1038/nature05232&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Anderson C, Hsieh C, Sandin S, Hewitt R, Hollowed A, Beddington J, May R and Sugihara G (2008). “Why Fishing Magnifies Fluctuations in Fish Abundance.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;452&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06851&quot;&gt;http://dx.doi.org/10.1038/nature06851&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;BJORNSTAD O, NISBET R and FROMENTIN J (2004). “Trends And Cohort Resonant Effects in Age-Structured Populations.” &lt;em&gt;Journal of Animal Ecology&lt;/em&gt;, &lt;strong&gt;73&lt;/strong&gt;. ISSN 0021-8790, &lt;a href=&quot;http://dx.doi.org/10.1111/j.0021-8790.2004.00888.x&quot;&gt;http://dx.doi.org/10.1111/j.0021-8790.2004.00888.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Worden L, Botsford L, Hastings A and Holland M (2010). “Frequency Responses of Age-Structured Populations: Pacific Salmon as an Example.” &lt;em&gt;Theoretical Population Biology&lt;/em&gt;, &lt;strong&gt;78&lt;/strong&gt;. ISSN 00405809, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tpb.2010.07.004&quot;&gt;http://dx.doi.org/10.1016/j.tpb.2010.07.004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fluctuations of Fish Populations And The Magnifying Effects of Fishing, A. O. Shelton, M. Mangel, (2011) &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1100334108&quot;&gt;10.1073/pnas.1100334108&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms Group, HMM meets EM</title>
   <link href="/2011/10/10/algorithms-group-hmm-meets-em.html"/>
   <updated>2011-10-10T11:42:03-07:00</updated>
   <id>h/2011/10/10/algorithms-group-hmm-meets-em</id>
   <content type="html">&lt;p&gt;Alisa reviews &lt;a href=&quot;http://www.carlboettiger.info/archives/2521&quot;&gt;HMM&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/archives/2215&quot;&gt;EM&lt;/a&gt;, and shows us how to combine them.&lt;/p&gt;
&lt;p&gt;The EM version treats the transition probabilities (exchanging coins) and emission probabilities (chance of heads/tails under each coin) as unknowns.  Make a guess, calculate the blue line from &lt;a href=&quot;http://www.carlboettiger.info/archives/2521&quot;&gt;before&lt;/a&gt;.  This can be used to calculate a new guess that will hill climb to the locally optimum solution (EM).&lt;/p&gt;
&lt;p&gt;New guess for the transition probability is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?A_{lk} = \frac{f_i b_i a_{lk} e_k(x_{i+1}) }{P(x)}&quot; alt=&quot;A_{lk} = \frac{f_i b_i a_{lk} e_k(x_{i+1}) }{P(x)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;New guess for the emission probability is just:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\sum f_i b_i}{P(x)}&quot; alt=&quot;\frac{\sum f_i b_i}{P(x)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(example code coming)&lt;/p&gt;
&lt;p&gt;Future Topics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sweave/literate programming, Github – Carl&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Large Scale spatial analysis – Yaniv&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bayesian CP analysis – Alisa&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dirchelet process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;machine learning: GA/SVM/NN – Dave&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal Control/Lagrangian&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;EC2 / HPC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;debug/profile/unit tests/code optimization&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Matt Helmus visit</title>
   <link href="/2011/10/07/matt-helmus-visit.html"/>
   <updated>2011-10-07T07:36:33-07:00</updated>
   <id>h/2011/10/07/matt-helmus-visit</id>
   <content type="html">&lt;h2 id=&quot;notes-from-presentation&quot;&gt;Notes from presentation&lt;/h2&gt;
&lt;h3 id=&quot;species-area-curve&quot;&gt;1. Species-area curve:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Species sorting by environment.&lt;/li&gt;
&lt;li&gt;species clustering due to limited dispersal&lt;/li&gt;
&lt;li&gt;Random displacement (faster saturation)&lt;/li&gt;
&lt;li&gt;In-situ speciation looks like clustering&lt;/li&gt;
&lt;li&gt;Compare to colonization&lt;/li&gt;
&lt;li&gt;Phylogenetic species variability metric: compare phylogenetic covariance matrix to a star-phylogeny, not expected to increase with area.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{n \textrm{tr}C - \sum C }{n(n-1)}&quot; alt=&quot;\frac{n \textrm{tr}C - \sum C }{n(n-1)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;simulations&quot;&gt;2. Simulations:&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;species sort along an environmental gradient. BM trait determining position.  : closely related species clustered. Similar species are clustered.&lt;/li&gt;
&lt;li&gt;limited dispersal. BM trait for dispersal.  Closely related species are not clustered.&lt;/li&gt;
&lt;li&gt;random placement, proportional to abundance. Phylogeny proportional to abundance. no clustering.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;hmm, limited dispersal isn’t same as dispersal evolving.  differing in size&lt;/li&gt;
&lt;li&gt;have individual placement&lt;/li&gt;
&lt;li&gt;species-area curve is very poor measure of clustering?&lt;/li&gt;
&lt;li&gt;phylomatic tree.  yikes.&lt;/li&gt;
&lt;li&gt;decreasing phylo diversity with area.  phylogenetic repulsion&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;macroevolution-simulation&quot;&gt;3. macroevolution simulation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;each island assigned an extinction probability, exp decrease with is. area.&lt;/li&gt;
&lt;li&gt;in situ speciation vs colonization probability&lt;/li&gt;
&lt;li&gt;More in situ speciation generates more clustering, as expected.&lt;/li&gt;
&lt;li&gt;phylo diversity vs area: no relationship.  (Obviously colonizations make large diversity)&lt;/li&gt;
&lt;li&gt;ecologically neutral.  island diversity&lt;/li&gt;
&lt;li&gt;colonization and in situ speciation events not area dependent&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;anoles-example&quot;&gt;Anoles example&lt;/h4&gt;
&lt;h4 id=&quot;notes-from-tutorial&quot;&gt;Notes from tutorial&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Overview of linear mixed models, generalized lmm, phylogenetic glmm.&lt;/li&gt;
&lt;li&gt;Random effects with phylogenetic correlations.&lt;/li&gt;
&lt;li&gt;consider a phylogeny with trait as prevelance, overdispersed.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday - forage fish & cascades</title>
   <link href="/2011/10/05/wednesday-forage-fish-cascades.html"/>
   <updated>2011-10-05T16:38:52-07:00</updated>
   <id>h/2011/10/05/wednesday-forage-fish-cascades</id>
   <content type="html">&lt;h3 id=&quot;forage-fish-presentation&quot;&gt;Forage fish presentation&lt;/h3&gt;
&lt;p&gt;Some simulations exploring top-down &amp;amp; bottom up control concepts in simple models.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex? \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P&quot; alt=&quot; \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dP}{dt} = \beta \alpha N P - \mu P &quot; alt=&quot;\frac{dP}{dt} = \beta \alpha N P - \mu P &quot; /&gt;&lt;/div&gt;&lt;/span&gt; Note that at equilibrium, &lt;em&gt;N&lt;/em&gt; depends only on predator dynamics, &lt;em&gt;P&lt;/em&gt; on &lt;em&gt;K&lt;/em&gt; and &lt;em&gt;r&lt;/em&gt;. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat N = \frac{\mu}{\alpha\beta}&quot; alt=&quot;\hat N = \frac{\mu}{\alpha\beta}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat P = \frac{r}{\alpha}\left( 1 - \frac{N}{K} \right)&quot; alt=&quot;\hat P = \frac{r}{\alpha}\left( 1 - \frac{N}{K} \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6229/6218801964_2959d33d3a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6172/6218281173_8baf1ac355_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Saturating predator response:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex? \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P&quot; alt=&quot; \frac{dN}{dt} = r N\left( 1 - \frac{N}{K} \right) - \alpha N P&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dP}{dt} = \beta \alpha \frac{N}{H+N} P - \mu P &quot; alt=&quot;\frac{dP}{dt} = \beta \alpha \frac{N}{H+N} P - \mu P &quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Equilibrium:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\mu H}{ \alpha\beta-\mu}&quot; alt=&quot;\frac{\mu H}{ \alpha\beta-\mu}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{r}{\alpha} \left(1- \frac{\hat N}{K}\right)&quot; alt=&quot;\frac{r}{\alpha} \left(1- \frac{\hat N}{K}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;see &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/demo/cascades2.R&quot;&gt;code&lt;/a&gt; for saturating example.&lt;/p&gt;
&lt;h3 id=&quot;wainwright-lab-meeting-presentation&quot;&gt;Wainwright Lab Meeting presentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Presented rfishbase, rtreebase demos.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2011/10/04/tuesday-9.html"/>
   <updated>2011-10-04T15:29:29-07:00</updated>
   <id>h/2011/10/04/tuesday-9</id>
   <content type="html">&lt;h2 id=&quot;hastings-seminar-forest-pest-outbreaks&quot;&gt;Hastings seminar: Forest Pest Outbreaks&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://docs.google.com/document/d/17SN6FmLrhLrUNbaBgbH9iPVJX2I7ArVl3FdMJXX8QdA/edit?hl=en_US&quot;&gt;Schedule&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;prof-dave-rizzo&quot;&gt;Prof &lt;a href=&quot;http://plantpathology.ucdavis.edu/faculty/rizzo/lab/PI.html&quot;&gt;Dave Rizzo&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Reviews major pest outbreaks (&lt;a href=&quot;http://www.fs.fed.us/foresthealth/publications/ConditionsReport_09_final.pdf&quot;&gt;Major Forest Insect &amp;amp; Disease Conditions in the United States 2009 Update&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Mentions weekend’s &lt;a href=&quot;http://www.nytimes.com/2011/10/01/science/earth/01forest.html?_r=2&amp;amp;ref=temperaturerising&quot;&gt;NY Times piece&lt;/a&gt;, (and see author’s &lt;a href=&quot;http://green.blogs.nytimes.com/2011/10/03/dying-forests-how-bad-is-it-really/&quot;&gt;commentary&lt;/a&gt;), reviews major pest outrbreak trends.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;david-kling&quot;&gt;David Kling&lt;/h4&gt;
&lt;p&gt;Allee effects &amp;amp; Management (Gypsy moth). * Review review (Taylor &amp;amp; Hastings, 2005). * Simulation exploration: pmid: 19831081, * Also discuss (Tobin &lt;em&gt;et. al.&lt;/em&gt; 2011). * (Epanchin-Niell &amp;amp; Hastings, 2010).&lt;/p&gt;
&lt;h2 id=&quot;pmc&quot;&gt;PMC&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Peter/Graham edits.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Picked up some LaTeX tricks (problems) in final edits: * Got pdf 1.5 version error on including cairo_pdf figures.  adding &lt;code&gt;\pdfoptionpdfminorversion=5&lt;/code&gt; before the documentclass declaration solves this. * Using the fixed width paragraph option from the multirow package provides some flexible table formating.  See &lt;a href=&quot;http://stackoverflow.com/questions/2797270/advanced-table-in-latex-with-multiline-cells&quot;&gt;this example&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;teary-theory-tea&quot;&gt;Teary (Theory Tea)&lt;/h3&gt;
&lt;p&gt;Discussed this article on&lt;a href=&quot;http://www.sfu.ca/~mcollard/documents/MarshallJ.C.etal.2009.pdf&quot;&gt;hiring statistics&lt;/a&gt; in Ecology &amp;amp; Evolution, and the reactions of our various faculty to it.  Rather interesting, might be worth a post sometime.&lt;/p&gt;
&lt;h3 id=&quot;nick-fabinas-seminar&quot;&gt;Nick Fabina’s seminar&lt;/h3&gt;
&lt;p&gt;Excellent presentation on his corals work in CPB.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Taylor C and Hastings A (2005). “Allee Effects in Biological Invasions.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00787.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00787.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tobin P, Berec L and Liebhold A (2011). “Exploiting Allee Effects For Managing Biological Invasions.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01614.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01614.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Epanchin-Niell R and Hastings A (2010). “Controlling Established Invaders: Integrating Economics And Spread Dynamics to Determine Optimal Management.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2010.01440.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2010.01440.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday, wordpress backups, pmc edits</title>
   <link href="/2011/09/30/friday-wordpress-backups-pmc-edits.html"/>
   <updated>2011-09-30T10:51:31-07:00</updated>
   <id>h/2011/09/30/friday-wordpress-backups-pmc-edits</id>
   <content type="html">&lt;h2 id=&quot;wordpress-local-copy&quot;&gt;Wordpress local copy&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;configured mysqldump backup, following &lt;a href=&quot;http://wiki.dreamhost.com/Mysqldump&quot;&gt;dreamhost wiki&lt;/a&gt; (added cron job manually instead of in panel).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;edit local wp-config.php to use localhost. Get the database name, user name and password from the lines above it, which are used later.&lt;/p&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;
define(&amp;#39;DB_HOST&amp;#39;, &amp;#39;localhost&amp;#39;);     // ...and the server MySQL is running on&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;create user: log in as root&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
mysql -u root -p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and create user&lt;/p&gt;
&lt;pre class=&quot;sourceCode sql&quot;&gt;&lt;code class=&quot;sourceCode sql&quot;&gt;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;database&lt;/span&gt; database_name
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;username&amp;#39;&lt;/span&gt;@&lt;span class=&quot;st&quot;&gt;&amp;#39;localhost&amp;#39;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;database&lt;/span&gt; database_name
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;usage&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;on&lt;/span&gt; *.* &lt;span class=&quot;kw&quot;&gt;to&lt;/span&gt; username@localhost &lt;span class=&quot;kw&quot;&gt;identified&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;password&amp;#39;&lt;/span&gt;;
mysql&amp;gt; &lt;span class=&quot;kw&quot;&gt;grant&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;privileges&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;on&lt;/span&gt; database_name.* &lt;span class=&quot;kw&quot;&gt;to&lt;/span&gt; username@localhost;
mysql&amp;gt; quit&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;yes you need the quotes around the password and the .* appended after database_name. Then can import the most recent dump.&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
mysql -u username -p database_name &lt;span class=&quot;kw&quot;&gt;&amp;lt;&lt;/span&gt; mysqldump_file.sql&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Install wordpress, configure. Set from /var/www to backup location, following &lt;a href=&quot;http://movingtofreedom.org/2007/05/09/how-to-wordpress-on-ubuntu-gnu-linux/&quot;&gt;any&lt;/a&gt; &lt;a href=&quot;https://help.ubuntu.com/community/WordPress&quot;&gt;decent&lt;/a&gt; tutorial.&lt;/p&gt;
&lt;h2 id=&quot;manuscript-edits&quot;&gt;Manuscript edits&lt;/h2&gt;
&lt;p&gt;power_curve.R still running on farm. Run just the needed analysis. Done, updated data files. Runs much faster on farm then on zero, kinda amazing. Need these kind of explanatory &lt;a href=&quot;http://www.carlboettiger.info/archives/286&quot;&gt;figures&lt;/a&gt;? Removed.&lt;/p&gt;
&lt;p&gt;Confidence intervals easy to get for each model, harder to squeeze into a nice table though.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pmc)
 &lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(anoles_model_choice)
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(bm_v_ou1)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou1_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(bm_v_ou1)$null -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;bm_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_half)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou15_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_ouLP4)$null -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou3_ci
 &lt;span class=&quot;kw&quot;&gt;confidenceIntervals.pow&lt;/span&gt;(ouLP_v_ouLP4)$test -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;ou4_ci&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;application-statement&quot;&gt;Application statement&lt;/h2&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/09/29/thursday-10.html"/>
   <updated>2011-09-29T09:46:03-07:00</updated>
   <id>h/2011/09/29/thursday-10</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;9-9:20 Updating research statement (home page).&lt;/li&gt;
&lt;li&gt;9:20 -9:40 Updating notebook: Review, Tuesday &amp;amp; Wednesday meetings&lt;/li&gt;
&lt;li&gt;coffee&lt;/li&gt;
&lt;li&gt;9:50 Application.&lt;/li&gt;
&lt;li&gt;10-11:30:&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;forage-fish-dynamics-sanchirico-and-essington&quot;&gt;Forage fish dynamics, Sanchirico and Essington&lt;/h2&gt;
&lt;p&gt;Jim gives the broad overview,  central question: What are the benefits/costs of a % reduction in the catch C of forage fish N:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\Delta C \downarrow \to \Delta N \to  \Delta F, \Delta M \Delta S&quot; alt=&quot;\Delta C \downarrow \to \Delta N \to  \Delta F, \Delta M \Delta S&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;F predator commercial fisheries, M marine mammals, S seabirds.&lt;/p&gt;
&lt;p&gt;Stock effects, fishmeal fish oil, vitamin supplements&lt;/p&gt;
&lt;p&gt;What are the benefits and costs from a percent (say 20) reduction in the catch of a forage fish?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Week 2: Introductory discussion on the information necessary to answer this policy question (Jim) and discussion of the current regulatory tools being used to manage forage fish around the world (Tim)&lt;/li&gt;
&lt;li&gt;Week 3: &lt;strong&gt;Population regulation&lt;/strong&gt;, including bottom-up/environmental controls and top-down predation controls&lt;/li&gt;
&lt;li&gt;Week 4: &lt;strong&gt;Ecosystem&lt;/strong&gt; function: Fish and Fisheries (relationship between forage fish abundance and productivity of harvested stocks)&lt;/li&gt;
&lt;li&gt;Week 5: &lt;strong&gt;Ecosystem&lt;/strong&gt; function: Charismatic Fauna: Mammals and Seabirds (how dependent are these species on forage fish, spatial issues, etc. How do these species respond to depletion of forage fish?) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot M = f(M, N)\inline&quot;/&gt;&lt;/span&gt;, $ S = g(S, N) $&lt;/li&gt;
&lt;li&gt;Week 6: The &lt;strong&gt;economics&lt;/strong&gt; of changes in &lt;strong&gt;higher trophic catches&lt;/strong&gt; (what are the key issues when you go from mapping a change in an abundance of a predator fish to changes in value of the fishery? And, what examples are there from the literature on forage fish).&lt;/li&gt;
&lt;li&gt;Week 7: The &lt;strong&gt;economics&lt;/strong&gt; of &lt;strong&gt;fishmeal&lt;/strong&gt; and the potential impacts of a reduction of catch of the forage fish on feed prices, and agricultural prices (understanding the substitution possibilities of different types of protein in diets, etc).&lt;/li&gt;
&lt;li&gt;Week 8: The &lt;strong&gt;economic&lt;/strong&gt; effects of the policy on &lt;strong&gt;direct consumption, vitamin supplements, and bait&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Week 9: The &lt;strong&gt;economics&lt;/strong&gt; of non-market values for &lt;strong&gt;charismatic fauna&lt;/strong&gt; and valuing potential changes in their populations due to the policy.&lt;/li&gt;
&lt;li&gt;Week 10: Synthesis (Your job is try to put the pieces together…you can use pieces of presentation by others).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Key papers to start with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Alder’s review: (Alder &lt;em&gt;et. al.&lt;/em&gt; 2008)&lt;/li&gt;
&lt;li&gt;May’s, showing MSY (max sustainable yield) cannot work for multi-species dynamics (May &lt;em&gt;et. al.&lt;/em&gt; 1979).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tim’s section&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Case study: Peruvian anchovy collapse.  Upwelling west coast SA.  Mixed layer sinks during El Nino (1972), upwelling provides less nutrients.  Big loss in productivity for anchoveta.  High temps, Anchoveta cluster in colder thermal refuge.  Low recruitment plus high catch.&lt;/li&gt;
&lt;li&gt;Ecosystem-based Management: Minimum escapement (instead of MSY).  Can catch fewer on bad years&lt;/li&gt;
&lt;li&gt;Spatial management for central-place foragers.  (1) Spatial catch quotas, (&lt;em&gt;e.g.&lt;/em&gt; in Southern Ocean), (2) No-take areas.  Case study in sand eel.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next week: I’ll present week 3 with Matt Whalen, possibly Patrick.&lt;/p&gt;
&lt;h2 id=&quot;application-writing&quot;&gt;Application writing&lt;/h2&gt;
&lt;h2 id=&quot;edits-on-pmc-paper&quot;&gt;Edits on pmc paper&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Alder J, Campbell B, Karpouzi V, Kaschner K and Pauly D (2008). “Forage Fish: From Ecosystems to Markets.” &lt;em&gt;Annual Review of Environment And Resources&lt;/em&gt;, &lt;strong&gt;33&lt;/strong&gt;. ISSN 1543-5938, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.environ.33.020807.143204&quot;&gt;http://dx.doi.org/10.1146/annurev.environ.33.020807.143204&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;May R, Beddington J, Clark C, Holt S and Laws R (1979). “Management of Multispecies Fisheries.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;205&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.205.4403.267&quot;&gt;http://dx.doi.org/10.1126/science.205.4403.267&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday - Berkeley visits</title>
   <link href="/2011/09/28/wednesday-berkeley-visits.html"/>
   <updated>2011-09-28T02:25:56-07:00</updated>
   <id>h/2011/09/28/wednesday-berkeley-visits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Consultation call with Rebecca Lawrence, F1000.  F1000 is exploring offering a data publishing platform, and we discussed some of the potential challenges (submission incentives, data review/reproducible review, meta-data standards).&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;anyone who might be interested  in working with us to get this project off the ground, with a scientific PhD background, a reasonable understanding of data sharing/mining issues and some knowledge of technical issues (not necessarily a coder but I guess it might help) then do let me know.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Meeting with Graham and Peter, finalizing paper revisions.&lt;/li&gt;
&lt;li&gt;Meeting with John Huelsenbeck.&lt;/li&gt;
&lt;li&gt;Group members: Talked to Tracy. (Nick &amp;amp; Bastien are overseas currently)&lt;/li&gt;
&lt;li&gt;Meeting with Kathy Day.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday - Berkeley visits</title>
   <link href="/2011/09/27/tuesday-berkeley-visits.html"/>
   <updated>2011-09-27T16:19:08-07:00</updated>
   <id>h/2011/09/27/tuesday-berkeley-visits</id>
   <content type="html">&lt;p&gt;In Berkeley for a few meetings with faculty and students.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;7:15 Train Davis to Berkeley&lt;/li&gt;
&lt;li&gt;9:30 -11 Coffee with George Oster.&lt;/li&gt;
&lt;li&gt;11- 1 Meeting with de Valpine lab&lt;/li&gt;
&lt;li&gt;1p Presentation from Viorel Popescu, (post-doc in lab, mostly working remotely from Vancover) on BACI (before-after, control-impact) occupancy models.&lt;/li&gt;
&lt;li&gt;2p meeting with Perry&lt;/li&gt;
&lt;li&gt;3p Meeting with Karthik&lt;/li&gt;
&lt;li&gt;4:24-6 train to Davis&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/09/26/monday-10.html"/>
   <updated>2011-09-26T08:31:07-07:00</updated>
   <id>h/2011/09/26/monday-10</id>
   <content type="html">&lt;h2 id=&quot;phylogenetics-paper&quot;&gt;Phylogenetics paper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Grayscale the figures&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;moore-coop-pbg-270&quot;&gt;Moore &amp;amp; Coop PBG 270:&lt;/h2&gt;
&lt;p&gt;Phylo methods for exploring correlations between character traits and lineage rates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Models ((Are the generalized birth-death models (&lt;em&gt;e.g.&lt;/em&gt; Kendall 1948) good limit to interesting process? somtimes.  ))&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;detecting variation in rates&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;locating shifts along branches&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;locating shifts in time&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;correlates of differential rates (_e.g. _traits; our subject for today/course).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parameter estimation&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;bisse-methods&quot;&gt;BiSSE methods&lt;/h4&gt;
&lt;p&gt;Discussing Maddison 2006, (Maddison, 2006)&lt;/p&gt;
&lt;p&gt;An “over-represented traits” may be due to a more rapidly diversifying character or a character with faster transitions into it then out of it.  Foreshadowing comes early: Maddison uses the median to avoid convergence problems influencing the mean… We’ll see a lot of rather flat likelihood surfaces.&lt;/p&gt;
&lt;p&gt;Statistical concerns that entangle this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;biased sampling of states&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;entangled rates? (to some extent represented by models)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Short branches, identifiable issues.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;older-methods&quot;&gt;Older methods:&lt;/h4&gt;
&lt;p&gt;Sister-clade comparisons: how unbalanced does your tree need to be, to have 95% confidence?  40:1 under the birth-death models.  Hmm, not such a good way…  Seems robust, if low power, but Maddison notes that it can also be biased.  Note that under any Markov process, any partition pattern is equally probable (only distribution of times matters).&lt;/p&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Maddison W (2006). “Confounding Asymmetries in Evolutionary Diversification And Character Change.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 0014-3820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.0014-3820.2006.tb00517.x&quot;&gt;http://dx.doi.org/10.1111/j.0014-3820.2006.tb00517.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday</title>
   <link href="/2011/09/24/saturday-2.html"/>
   <updated>2011-09-24T11:03:02-07:00</updated>
   <id>h/2011/09/24/saturday-2</id>
   <content type="html">&lt;h2 id=&quot;nimbios-working-group-follow-up&quot;&gt;NIMBioS Working group follow-up:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Install pdf plugin (pdf24, Kalin’s pdf, epub all don’t display equations) … Posted issue to wordpress-for-scientists list. Solution: simply print to file (pdf) from google-chrome.  (Doesn’t work when printing from firefox 6.0)&lt;/li&gt;
&lt;li&gt;Reply to Paul, add pdf of notes on wiggio.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fellowship-stuff&quot;&gt;Fellowship stuff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Email Alan, David, George, John, Perry&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reviews&quot;&gt;Reviews&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Answer request to review for Ecology&lt;/li&gt;
&lt;li&gt;Answer request to review for Evolution &lt;em&gt;**Working on reviews (see private notes) **&lt;/em&gt;3-6pm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Testing &lt;a href=&quot;http://droideley.posterous.com/&quot;&gt;Droideley&lt;/a&gt;.  Nice clean interface, intuitive.  Reasonably handy to grab a pdf from my library.  Would be nice to have sort-by options within folders.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;(Meredith &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Meredith R, Janecka J, Gatesy J, Ryder O, Fisher C, Teeling E, Goodbla A, Eizirik E, Simao T, Stadler T, Rabosky D, Honeycutt R, Flynn J, Ingram C, Steiner C, Williams T, Robinson T, Burk-Herrick A, Westerman M, Ayoub N, Springer M and Murphy W (2011). “Impacts of The Cretaceous Terrestrial Revolution And Kpg Extinction on Mammal Diversification.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;334&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1211028&quot;&gt;http://dx.doi.org/10.1126/science.1211028&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: ropensci, manuscript edits</title>
   <link href="/2011/09/23/friday-ropensci-manuscript-edits.html"/>
   <updated>2011-09-23T04:03:43-07:00</updated>
   <id>h/2011/09/23/friday-ropensci-manuscript-edits</id>
   <content type="html">&lt;h2 id=&quot;ropensci-conference-call&quot;&gt;rOpenSci Conference Call&lt;/h2&gt;
&lt;h4 id=&quot;catalyst-grant&quot;&gt;Catalyst grant&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Reviewed &lt;a href=&quot;https://docs.google.com/spreadsheet/ccc?key=0AkEIu-KKuNnqdHF4b2xDS3JXWDlIMmgwY182bmRReWc&amp;amp;hl=en_US#gid=0&quot;&gt;budget&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Karthik will merge current proposals, Carl will review.  Goal: send out next week.&lt;/li&gt;
&lt;li&gt;Ask Mark Hahnel to look it over&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;blog-posts&quot;&gt;Blog posts&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carley planning to make guest blog post within the next week.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;mendeleyplos-binary-battle&quot;&gt;Mendeley/Plos Binary battle&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carl will file &lt;a href=&quot;http://dev.mendeley.com/binary-battle-entry/&quot;&gt;entry form&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Karthik push edits to rplos&lt;/li&gt;
&lt;li&gt;Scott will add rplos tutorial to ropensci.org&lt;/li&gt;
&lt;li&gt;Carl will add rmendeley tutorial to ropensci.org&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;advisor-update&quot;&gt;Advisor Update&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Follow up with advisors once grant, binary-battle, and guest blog post are submitted (circa 1 more week).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;packages-technical-questions&quot;&gt;Packages &amp;amp; Technical questions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;discussed rvertnet, IntWebData.&lt;/li&gt;
&lt;li&gt;Use xpath to process XML objects, sometimes more useful and faster than converting to list (xmlToList() function).&lt;/li&gt;
&lt;li&gt;See the excellent xpath &lt;a href=&quot;http://www.w3schools.com/xpath/default.asp&quot;&gt;tutorial&lt;/a&gt; from w3c.&lt;/li&gt;
&lt;li&gt;And some basic examples in rfishbase, &lt;a href=&quot;http://www.carlboettiger.info/archives/2745&quot;&gt;explained here.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Can someone send me the link to Hadley’s post re: R-Forge and github?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;pmc-manuscript-edits&quot;&gt;pmc manuscript edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finish figures &amp;amp; captions.&lt;/li&gt;
&lt;li&gt;Response to Peter’s AIC paragraph&lt;/li&gt;
&lt;li&gt;Edits to rule-of-thumb shape/size section&lt;/li&gt;
&lt;li&gt;…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hmm.. &lt;a href=&quot;http://blogs.ft.com/gavyndavies/2011/02/10/why-cant-economists-predict-disruptive-events/&quot;&gt;experts, hedgehogs and foxes&lt;/a&gt;… may be interesting in the ecosystem warning signals context too.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/09/22/thursday-9.html"/>
   <updated>2011-09-22T10:51:06-07:00</updated>
   <id>h/2011/09/22/thursday-9</id>
   <content type="html">&lt;p&gt;Sent off review. finally.&lt;/p&gt;
&lt;h2 id=&quot;sanchirico-seminar&quot;&gt;Sanchirico seminar&lt;/h2&gt;
&lt;p&gt;with &lt;a href=&quot;http://fish.washington.edu/people/essington/&quot;&gt;Tim Essington&lt;/a&gt; (U Washington). Goal: Prepare for a review on forage fisheries.&lt;/p&gt;
&lt;h4 id=&quot;outline&quot;&gt;Outline&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;background&lt;/li&gt;
&lt;li&gt;background&lt;/li&gt;
&lt;li&gt;Fishery interactions&lt;/li&gt;
&lt;li&gt;marine mammal/seabird interactions&lt;/li&gt;
&lt;li&gt;Climate &amp;amp; forage fish&lt;/li&gt;
&lt;li&gt;Fishmeal (Demand side)&lt;/li&gt;
&lt;li&gt;direct consumption (Demand side)&lt;/li&gt;
&lt;li&gt;Vitamin supp / health benefits (Demand side)&lt;/li&gt;
&lt;li&gt;Non-market value marine mammals&lt;/li&gt;
&lt;li&gt;Synthesis&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Forage-fish: “foundation species” in marine ecosystems, get energy from zooplankton/upwelling to high-level predators (high-market target fisheries). Sardines/pilchards, anchovies, sandeels, krill, herrings, capelin, menhaden.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Why this topic? Much interest, (e.g. (Smith &lt;em&gt;et. al.&lt;/em&gt; 2011)) but little is known (either on economics, mostly primitive MSY based, or population dynamics, mostly ecopath based).&lt;/li&gt;
&lt;li&gt;variability – large oscillations, e.g. &lt;a href=&quot;http://ca-seafood.ucdavis.edu/news/wetfish/wf_reading/baumgart.pdf&quot;&gt;Baumgartner et al. 1992&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;catchability – schooling, etcm so almost indepent of density.&lt;/li&gt;
&lt;li&gt;Many relevant spatial dynamics challenges.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See fisheries landings &lt;a href=&quot;http://www.seaaroundus.org/global/1/1.aspx&quot;&gt;data&lt;/a&gt; from the Sea Around Us project.&lt;/p&gt;
&lt;h2 id=&quot;evolution-manuscript&quot;&gt;Evolution Manuscript&lt;/h2&gt;
&lt;p&gt;edits continue:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;finish up figure touch-ups.&lt;/li&gt;
&lt;li&gt;Caption updates.&lt;/li&gt;
&lt;li&gt;Table updated.&lt;/li&gt;
&lt;li&gt;review Peter’s comments to text&lt;/li&gt;
&lt;li&gt;reply letter&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Lab visit emails. check.&lt;/li&gt;
&lt;li&gt;Edits to Alistair app. check.&lt;/li&gt;
&lt;li&gt;Our Open Science talk for incoming students: &lt;a href=&quot;http://www.archive.org/details/ThingsIWishIKnewThreeYearsAgo-ByTheDavisOpenScienceGroup&amp;amp;reCache=1&quot;&gt;audio&lt;/a&gt; and &lt;a href=&quot;http://hazelnusse.github.com/DOS_WOW2011/&quot;&gt;slides&lt;/a&gt;  (using &lt;a href=&quot;http://imakewebthings.github.com/deck.js/&quot;&gt;deck.js&lt;/a&gt;) now posted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Smith A, Brown C, Bulman C, Fulton E, Johnson P, Kaplan I, Lozano-Montes H, Mackinson S, Marzloff M, Shannon L, Shin Y and Tam J (2011). “Impacts of Fishing Low-Trophic Level Species on Marine Ecosystems.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;333&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1209395&quot;&gt;http://dx.doi.org/10.1126/science.1209395&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/09/21/wednesday-9.html"/>
   <updated>2011-09-21T15:34:13-07:00</updated>
   <id>h/2011/09/21/wednesday-9</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sanchirico course, Hastings course&lt;/li&gt;
&lt;li&gt;Berkeley visits&lt;/li&gt;
&lt;li&gt;NIMBioS working group&lt;/li&gt;
&lt;li&gt;Lab website, lab group meeting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finish THEE review&lt;/li&gt;
&lt;li&gt;Evolution edits&lt;/li&gt;
&lt;li&gt;Miller Application&lt;/li&gt;
&lt;li&gt;Berkeley visits emails.&lt;/li&gt;
&lt;li&gt;File ESA reimbursements.&lt;/li&gt;
&lt;li&gt;File NIMBioS reimbursements.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;next-steps&quot;&gt;Next steps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Paper for treebase/rfishbase packages?&lt;/li&gt;
&lt;li&gt;wrightscape paper.&lt;/li&gt;
&lt;li&gt;Training problem II.&lt;/li&gt;
&lt;li&gt;Economics warning signals.  Costs of errors.  Updating (multiple decision points). Mitigation strategy.&lt;/li&gt;
&lt;li&gt; Inferring the uncertainty in model, adaptive management.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;lit-based-steps&quot;&gt;Lit-based steps:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;close read / replicate stochastic transitions discrimination Ditlevsen &amp;amp; Johnsen, 2010.&lt;/li&gt;
&lt;li&gt;close read of economic considerations, (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Classic Allee effect models with saddle-node bifurcations.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Organizing: what I’d like from Merrit:  dropbox-style data storage.  &lt;em&gt;e.g&lt;/em&gt;. also with Wordpress/server file&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Colored noise: some classic results in ecology</title>
   <link href="/2011/09/21/colored-noise-some-classic-results-in-ecology.html"/>
   <updated>2011-09-21T06:20:52-07:00</updated>
   <id>h/2011/09/21/colored-noise-some-classic-results-in-ecology</id>
   <content type="html">&lt;p&gt;Some of my early notes &amp;amp; derivations on the impact of red environmental noise on population dynamics as pdf:&lt;/p&gt;
&lt;embed src=&quot;http://carlboettiger.info/assets/files/coloredNoise.pdf&quot;&gt;


&lt;ul&gt;
&lt;li&gt;Roughgarden’s &lt;a href=&quot;http://www.jstor.org/stable/2459866&quot;&gt;paper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Fieberg &amp;amp; Ellner, (2000) “When is it Meaningful to Estimate an Extinction Probability?” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1890/0012-9658(2000)081[2040:WIIMTE]2.0.CO;2&quot;&gt;doi&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Lawton, J. H. (1988). More time means more variation. Nature, 334, 563.&lt;/li&gt;
&lt;li&gt;Petchey, O. L., Gonzalez, A., &amp;amp; Wilson, H. B. (1997). Effects on population persistence: the interaction between environmental noise colour, intraspecific competition and space. Proceedings of the Royal Society of London, B, 264, 1841–1847.&lt;/li&gt;
&lt;li&gt;Ripa, J., &amp;amp; Lundberg, P. (1996). Noise colour and the risk of population extinctions. Proceedings of the Royal Society of London, B, 263, 1751–1753.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Van Kampen Expansion and Stochastic population dynamics</title>
   <link href="/2011/09/21/van-kampen-expansion-and-stochastic-population-dynamics.html"/>
   <updated>2011-09-21T06:02:30-07:00</updated>
   <id>h/2011/09/21/van-kampen-expansion-and-stochastic-population-dynamics</id>
   <content type="html">&lt;p&gt;Embedding a file from some of my earlier work illustrating the use of the linear noise approximation  describing demographic noise processes and highlighting some of the more interesting results therein.&lt;/p&gt;
&lt;embed src=&quot;http://www.carlboettiger.info/assets/files/EcologyLinNoise.pdf&quot;&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Visit to Berkeley</title>
   <link href="/2011/09/21/tuesday-visit-to-berkeley.html"/>
   <updated>2011-09-21T03:04:37-07:00</updated>
   <id>h/2011/09/21/tuesday-visit-to-berkeley</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Train to Berkeley 7:15-8:32 (6:35a)&lt;/li&gt;
&lt;li&gt;9-10:30 Harte lab meeting: Chloe presented her work on mima mounds and pocket gofers&lt;/li&gt;
&lt;li&gt;10:30 - noon Justin (coffee, tour campus). Discussed grant opportunities: Lab has a recent NSF and likely will get a Moore grant to extend maximum entropy work.  (Not to be confused with species distribution modeling maxent).&lt;/li&gt;
&lt;li&gt;noon-1p Erica (lunch).&lt;/li&gt;
&lt;li&gt;1p-2:15 John.&lt;/li&gt;
&lt;li&gt;2:15-3:30 Andy.  Great discussions about phylogenetic methods and hierarchical models, regime shifts, open science.&lt;/li&gt;
&lt;li&gt;Train back to Davis&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;THEE Review&lt;/li&gt;
&lt;li&gt;Edits on Evolution paper&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/09/19/monday-9.html"/>
   <updated>2011-09-19T16:55:33-07:00</updated>
   <id>h/2011/09/19/monday-9</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Catching up on ToCs, reading.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on THEE review.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Manuscript edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Algorithms group meeting - planning for quarter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://library.kdvs.org/archive/view/show_id/1864&quot;&gt;Interview on KDVS&lt;/a&gt;  In which I discuss mathematical ecology with my advisor and our local radio station.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control: Thursday</title>
   <link href="/2011/09/15/nimbios-pdg-control-thursday.html"/>
   <updated>2011-09-15T07:54:05-07:00</updated>
   <id>h/2011/09/15/nimbios-pdg-control-thursday</id>
   <content type="html">&lt;p&gt;Thursday, August 15 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Training Problem Groups TASK: Prepare progress report/action strategy for full group 9:30 Regroup: Reports from each Training Problem Group 10:30 Planning for Meeting 2 12:00 Lunch at NIMBioS &amp;amp; Departure&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control PDG group, Tasks</title>
   <link href="/2011/09/15/nimbios-pdg-group-tasks.html"/>
   <updated>2011-09-15T01:59:36-07:00</updated>
   <id>h/2011/09/15/nimbios-pdg-group-tasks</id>
   <content type="html">&lt;h2 id=&quot;tools&quot;&gt;Tools&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sharing: Dropbox (Team account? 350 gigs/12 users $1670/yr)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Common language for training development: Matlab&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remote collaboration: GoToMeeting? Evo?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code collaboration GitHub?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;training-problem-i&quot;&gt;Training problem I&lt;/h2&gt;
&lt;h3 id=&quot;a-state-vars-control-vars&quot;&gt;1a) State vars &amp;gt; Control vars:&lt;/h3&gt;
&lt;p&gt;Can give solutions with chattering (periodic, possibly jumping between boundaries.)&lt;/p&gt;
&lt;p&gt;Short-term priorities:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;shared numerics.  &lt;strong&gt;Jim&lt;/strong&gt; looks at collocation problem: how do they perform on periodic controls on the infinite time?  (If they can’t work, we go to finite time.)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Need a way to be able to run each-other’s numerics and get same result.&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Literature exercise: Gather cases of chattering.  When it occurs is the objective linear or nonlinear? interior periodic or on boundary?  discrete or cts time?  Where are constraints relative to interior solution (i.e. are they outside the domain?)  Do they check second order sufficiency conditions for optimality? Theorem-like results?  &lt;strong&gt;Paul with stick&lt;/strong&gt;, anyone who has seen this.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Deadline: Oct 31st Conference call.  Drop box. &lt;/strong&gt;&lt;/p&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Select an example in which to explore this.  Have simple form:&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = F(x,y, h)&quot; alt=&quot;\dot x = F(x,y, h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot y = G(x,y)&quot; alt=&quot;\dot y = G(x,y)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;(could be discrete time instead.)  Predator-prey?  Age-structure?&lt;/p&gt;
&lt;ol start=&quot;4&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Domain where controllability issues arise:&lt;/li&gt;
&lt;/ol&gt;
&lt;ol style=&quot;list-style-type: lower-alpha&quot;&gt;
&lt;li&gt;Put y on fast time scale (see Kellner et al. Kellner &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;slow down y (numerically.  Perturbation theory)&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: lower-alpha&quot;&gt;
&lt;li&gt;Introduce a second control $ x = G(x,y, h_2) $&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Constraint $ || h_2 || &amp;lt; $&lt;/p&gt;
&lt;ol start=&quot;5&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Convexity statement by subbing in equilibrium solns and periodic.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Dan, Carl, Alan, Paul.&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&quot;b-adjustment-costs&quot;&gt;1b) Adjustment costs&lt;/h3&gt;
&lt;p&gt;Refs: Everyone should read: Reed 79, Ludwig&lt;/p&gt;
&lt;p&gt;Emperics - Paul/Jim long grass&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_t = f(x_t -h_t) \epsilon_t&quot; alt=&quot;x_t = f(x_t -h_t) \epsilon_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?J = \mathbb{E} \left( \sum h_t -c(h_t, h_{t-1} ) \right)&quot; alt=&quot;J = \mathbb{E} \left( \sum h_t -c(h_t, h_{t-1} ) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the velocity penalties/Regularization take one of these forms:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;$ c(h)^2 $  Smoothing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c(h) $ Smoothing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c(&lt;em&gt;{h&lt;/em&gt;t h_t-1} ) $  Transaction fee (i.e. Dan’s toy version)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ c_1 &lt;em&gt;{h&lt;/em&gt;t&amp;gt; h_{t-1}} $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;traditional econ penalties $ ch_t^2 &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?,\inline&quot;/&gt;&lt;/span&gt; p(h_t)h_t $&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Mechanistic motivation - &lt;strong&gt;Jim&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Jobs: analytical – approach path/ deterministic Led by: &lt;strong&gt;Dan&lt;/strong&gt;, with &lt;strong&gt;Jake, Paul&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Numerics: **Michael **stochastic dynamic programming.  (see Sethi 2005, JEEM (Sethi &lt;em&gt;et. al.&lt;/em&gt; 2005)).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Deadline: October 31st. Dan’s analytics, Michael’s numeric model. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Frank&lt;/strong&gt;: MPC exploration of numeric model.&lt;/p&gt;
&lt;h2 id=&quot;training-problem-ii&quot;&gt;Training Problem II&lt;/h2&gt;
&lt;p&gt;2.0 One-dimensional Myers et al. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_t+1 = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} }&quot; alt=&quot;N_t+1 = \frac{r N_t^{\alpha}}{1+\frac{N_t^{\alpha}}{K} }&quot; /&gt;&lt;/div&gt;&lt;/span&gt; $ &amp;gt; 1 $ gets allee effect.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_0\inline&quot;/&gt;&lt;/span&gt; unknown. Cost of gathering information, profit from fishing.&lt;/p&gt;
&lt;p&gt;Steps:&lt;/p&gt;
&lt;p&gt;Constant strategy, single-step information gathering.&lt;/p&gt;
&lt;p&gt;Information over time. Strategy varies.  Harvest control or effort control? Uncertain information from harvest? (Maybe go back to more classical framework here).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl B, Carl T, Jake, Alan, Michael&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Literature review: &lt;strong&gt;Jake, Marie-Josee, Alan&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Deadline: October 31st&lt;/p&gt;
&lt;p&gt;2.0.1 Coral-algal-parrotfish&lt;/p&gt;
&lt;p&gt;2.0.2 Commercial fishery sampling problem&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan wields stick.&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;training-problem-iii&quot;&gt;Training Problem III&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Run the spawning model on NIMBioS cluster. &lt;strong&gt;Claire&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spawning time as a single point optimization&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Larval behavior during path.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Lit review: control model before the spawning?&lt;/p&gt;
&lt;p&gt;Model predictive control?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan wields stick. &lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;How tightly controlled is aggregation?  Let dispersion be open-loop.  Reverse engineer spawning controller.  Reverse active control.&lt;/p&gt;
&lt;p&gt;Cluster scaling options: NIMBioS, Kraken, XSEDE.&lt;/p&gt;
&lt;p&gt;Further skills&lt;/p&gt;
&lt;p&gt;efficient stochastic dynamic programming (SDP).&lt;/p&gt;
&lt;p&gt;Frank’s people.  Jim’s people.&lt;/p&gt;
&lt;p&gt;TREE review? boxes and glossary.&lt;/p&gt;
&lt;p&gt;Engineering control/model choice for control/timescales&lt;/p&gt;
&lt;p&gt;Summary:&lt;/p&gt;
&lt;p&gt;Participant Tasks&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Paul Armsworth&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt; Carry Stick for Prob. 1. Analytic for 1b.&lt;/p&gt;
&lt;p&gt;Michael Bode&lt;/p&gt;
&lt;p&gt;Lead numerics for 1b.  Prob 2.&lt;/p&gt;
&lt;p&gt;Carl Boettiger&lt;/p&gt;
&lt;p&gt;Lead Problem 2 coding.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan Donahue&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Stick for Problem 3&lt;/p&gt;
&lt;p&gt;Frank Doyle&lt;/p&gt;
&lt;p&gt;MPC for problem 1b&lt;/p&gt;
&lt;p&gt;Dan Ryan&lt;/p&gt;
&lt;p&gt;Analytic 1b.&lt;/p&gt;
&lt;p&gt;Marie-Josee Fortin&lt;/p&gt;
&lt;p&gt;Literature for Prob 2.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan Hastings&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Stick for Problem 2&lt;/p&gt;
&lt;p&gt;Jacob LaRiviere&lt;/p&gt;
&lt;p&gt;support analytic 1b, numeric 2&lt;/p&gt;
&lt;p&gt;Claire Paris&lt;/p&gt;
&lt;p&gt;Simulation on cluster&lt;/p&gt;
&lt;p&gt;Jim Sanchirico&lt;/p&gt;
&lt;p&gt;Numerics for 1a.  Mechanistic motivation 1b.  Share code. Recruit student&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Toews&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Prob 2&lt;/p&gt;
&lt;p&gt;*Group organizers&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sethi G, Costello C, Fisher A, Hanemann M and Karp L (2005). “Fishery Management Under Multiple Uncertainty.” &lt;em&gt;Journal of Environmental Economics And Management&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 00950696, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jeem.2004.11.005&quot;&gt;http://dx.doi.org/10.1016/j.jeem.2004.11.005&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimizing For Multiple Species And Multiple Values: Tradeoffs Inherent in Ecosystem-Based Fisheries Management, Julie B. Kellner, James N. Sanchirico, Alan Hastings, Peter J. Mumby, (2011) &lt;em&gt;Conservation Letters&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.1755-263X.2010.00132.x&quot;&gt;10.1111/j.1755-263X.2010.00132.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Training Problem II</title>
   <link href="/2011/09/14/training-problem-ii.html"/>
   <updated>2011-09-14T15:47:29-07:00</updated>
   <id>h/2011/09/14/training-problem-ii</id>
   <content type="html">&lt;p&gt;Consider a harvested fish population with discrete-time population dynamics under an allee effect:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_{t+1} = N_t \exp \left(   \gamma \left[ 1-\frac{N_t}{K} \right] \left[   \frac{N_t - C}{K} \right] \right) - \beta E_h N_t&quot; alt=&quot;N_{t+1} = N_t \exp \left(   \gamma \left[ 1-\frac{N_t}{K} \right] \left[   \frac{N_t - C}{K} \right] \right) - \beta E_h N_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that C is the unfished allee threshold, K the carrying capacity, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E_h\inline&quot;/&gt;&lt;/span&gt; the fish harvesting effort.&lt;/p&gt;
&lt;p&gt;Consider that the initial population is unknown, but described by a density function whose variance can be decreased by sampling.  Just to get started, let’s assume log-normal (avoiding the chance of negative population sizes), with log-standard deviation inversely proportional to the sampling effort &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E_s\inline&quot;/&gt;&lt;/span&gt;.   For the moment we will only imagine sampling in the first year, then add the impact of sampling at later times eventually.&lt;/p&gt;
&lt;p&gt;Write down the cost function as the sum of sampled cost of effort $ E_s $ and the expected profit over the uncertainty in the fish distribution.&lt;/p&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;p&gt;see code (click-through figure for link to code).&lt;/p&gt;
&lt;p&gt;hmm… optimum seems to drive fish to extinction.  Poor choice of parameter value or something worse?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6185/6148896081_a13efaeda4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Should allow $ E_h $ to vary.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control: Wednesday</title>
   <link href="/2011/09/14/nimbios-pdg-control-wednesday.html"/>
   <updated>2011-09-14T07:54:29-07:00</updated>
   <id>h/2011/09/14/nimbios-pdg-control-wednesday</id>
   <content type="html">&lt;p&gt;Wednesday, August 14 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Introduction to Day 3 (Donahue/Armsworth) 9:00 Training Problem Groups&lt;/p&gt;
&lt;h4 id=&quot;marie-jose-reflects-on-the-sampling-problem&quot;&gt;Marie-Jose reflects on the sampling problem:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Optimization between effort and data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spatial autocorrelation challenges&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;periodic sampling challenges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fortin et al 1989&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl asked: Nyquist frequency?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Spatial sampling the correct scale by maximum variance in wavelet scaling.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;frank-reflects-on-our-activities-from-a-control-engineers-perspective&quot;&gt;Frank reflects on our activities from a control engineer’s perspective&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MPC for fishery management - few long-sampling engineering examples.  HIV/tumor treatment may be one.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal program for spawning:  “Chasing the cost function,” i.e. What do you minimize when I reach for a pen? Time? Distance?  Ans: third derivative of arm angle (jerk).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Larva follow an open-loop program vs internal/external feedback?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chemotaxis, thermostats, integral control.  simple, robust.  (what’s the optimal control problem it solves?)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sensitivity Analysis: to - model behavior, cost function, shadow prices (constraint).&lt;/p&gt;
&lt;p&gt;Model accuracy: is adaptation necessary?  Transfer function example:&lt;/p&gt;
&lt;p&gt;Consider&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tau \frac{dx}{dt} = - x + k u&quot; alt=&quot;\tau \frac{dx}{dt} = - x + k u&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Taking Laplace transform we get transfer eqn:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{x}{u} = \frac{K}{\tau s + 1}&quot; alt=&quot;\frac{x}{u} = \frac{K}{\tau s + 1}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then roots of denominator are the eigenvalues. More &lt;a href=&quot;http://en.wikipedia.org/wiki/Transfer_function&quot;&gt;here&lt;/a&gt;.  Analyze with &lt;a href=&quot;http://en.wikipedia.org/wiki/Bode_plot&quot;&gt;Bode plots&lt;/a&gt;: note that Frank’s examples are similar in the part where you want control to be fast.&lt;/p&gt;
&lt;p&gt;An engineer’s approach to adaptive control grab-box:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gain Scheduling&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model-Reference Adaptive Control&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Self-Tuning (sorta suboptimal dual control)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dual Control (active adaptive – i.e. probe)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Paul: how does this inform our model complexity discussion?  Model complexity needed to achieve predictive power may exceed that needed to achieve the control power.&lt;/p&gt;
&lt;p&gt;R = M S, data is model operator on parameters.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Control problem: $ S = M ^{-1} R $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identification of model form: M?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulation: R?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Models are always wrong at high frequency (noise), and irrelevant at low frequency.  All that matters is the right frequency.  Timescales!  e.g. thermostat doesn’t care about days, doesn’t care about seconds.&lt;/p&gt;
&lt;p&gt;Process-based sampling?  Sampling a timescale/spatial scale of what you know about system.&lt;/p&gt;
&lt;p&gt;Frank: recall crazy amazing thing in chemotaxis (e. coli story) is sensitivity over 10^4 ranges by resetting its bandwidth.&lt;/p&gt;
&lt;p&gt;My brainstorm on emerging key ideas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Control at the right frequency (isn’t predictive power).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;PDG control – because optimal solution requires too freq intervention.  because infrequent intervention implies nonlinear regime.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;problem-i-breakout&quot;&gt;Problem I breakout:&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;state variables &amp;gt; controls.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Examples: Age structured fishery.  Eradicate a subset of species with single control. Active adaptive management.  Effort becomes state (i.e. control is tax).&lt;/p&gt;
&lt;p&gt;Result isn’t always pulsing/chattering, but different dynamics.  When is not relevant?  (Note: variables = controls gets chattering by convexity.  non-chattering solutions of state variable &amp;gt; control).&lt;/p&gt;
&lt;p&gt;Sub in the dynamics, not at the equilbrium.  (Kellner et al. Fast-slow timescale of open access).&lt;/p&gt;
&lt;p&gt;Convexity condition.  two state, one control.  One fast state:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = F(x, y, h)&quot; alt=&quot;\dot x = F(x, y, h)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot y = G (x,y)&quot; alt=&quot;\dot y = G (x,y)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot y = 0\inline&quot;/&gt;&lt;/span&gt; fast time scale.  how about y periodic?&lt;/p&gt;
&lt;p&gt;Plug into $ x $ eqn.  So 1 state, 1 control:&lt;/p&gt;
&lt;p&gt;$ x = F(x, G(x), h) $&lt;/p&gt;
&lt;p&gt;Have engineers solved the convexity problem?  How do they do the two-floor chattering problem.&lt;/p&gt;
&lt;p&gt;Numerics: can they capture chattering?  Discrete time, they can in long-term.  Is chattering impossible to represent in polynomial function &lt;a href=&quot;http://en.wikipedia.org/wiki/Collocation_method&quot;&gt;collocation&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Two controls, becoming one control $ d(h_1, h_2 ) &amp;lt; $&lt;/p&gt;
&lt;p&gt;Jim’s conjecture: Chattering is always the case, but always at the noise, when state variables exceed control.&lt;/p&gt;
&lt;p&gt;Performance between low-dimensional and high dimensional .&lt;/p&gt;
&lt;p&gt;Franz Wirl’s papers: steady state is stable limit cycle.&lt;/p&gt;
&lt;p&gt;TASK: Continue work on model formulation/analysis 12:00 Lunch at NIMBioS&lt;/p&gt;
&lt;h4 id=&quot;training-problem-iii-summary-from-morning-break-out&quot;&gt;Training Problem III summary from morning break-out:&lt;/h4&gt;
&lt;p&gt;Consider when synchronized spawning is optimal.&lt;/p&gt;
&lt;p&gt;Noise  enhanced performance. Geometric mean/arthmetic mean (random mover bet-hedges better).&lt;/p&gt;
&lt;p&gt;“We believe in markets.  The ones that are sloppy don’t exist any more.”&lt;/p&gt;
&lt;h4 id=&quot;training-problem-i-morning-breakout-report&quot;&gt;Training Problem I morning breakout report:&lt;/h4&gt;
&lt;p&gt;General feedback.  Need glossary of terms (TREE review)&lt;/p&gt;
&lt;p&gt;Do we want to exemplify differences between PDG and optimal, or just pursue unanswered control questions.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;state var &amp;gt; control vars.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Sufficient from the deterministic dynamics.&lt;/p&gt;
&lt;p&gt;3 conjectures: (A) chattering always comes up when state var &amp;gt; control var.  (B) Chattering is always only as large as the noise. (C) Numerics.&lt;/p&gt;
&lt;p&gt;Alan’s convexity conjecture: Can we collapse into the objective function in chattering examples and show convexity.  Must substitute in the dynamics, not the equilibrium.  (prove chattering is better by subbing in periodic solutions).&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;adjustment costs: decided this is motivated by (4) empirical differences&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Postulate: more relevant when stochastics.&lt;/p&gt;
&lt;h4 id=&quot;training-problem-ii-morning-breakout-report&quot;&gt;Training Problem II morning breakout report:&lt;/h4&gt;
&lt;p&gt;Parrotfish problem&lt;/p&gt;
&lt;p&gt;Stochastic or uncertain&lt;/p&gt;
&lt;p&gt;shocks&lt;/p&gt;
&lt;p&gt;adjusting fishing&lt;/p&gt;
&lt;p&gt;unknown system state&lt;/p&gt;
&lt;p&gt;1:00 Training Problem Groups, shuffling expertise as needed TASK: Continue work on model formulation/analysis 3:00 Break 3:15 Training Problem Groups TASK: Develop plan of work going forward: task assignments, writing assignments 5:30 Walk to town for dinner 7:00 Optional Activity (TBA)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>pdg-control pdg-control, Tuesday</title>
   <link href="/2011/09/13/2588.html"/>
   <updated>2011-09-13T02:00:38-07:00</updated>
   <id>h/2011/09/13/2588</id>
   <content type="html">&lt;p&gt;Tuesday, August 13 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Outline for Day 2 (Donahue/Armsworth)&lt;/p&gt;
&lt;h3 id=&quot;adaptive-control-jake&quot;&gt;Adaptive Control, Jake&lt;/h3&gt;
&lt;p&gt;Introduced by he two-armed bandit problem, Rothchild i = 1,2. $ T_i $ is the number of trials, $ N_i $ are numbers of successes.&lt;/p&gt;
&lt;p&gt;Define &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\rho_i = \frac{1}{1+T_i}, \mu_i = \frac{N_i}{1+T_i}&quot; alt=&quot;\rho_i = \frac{1}{1+T_i}, \mu_i = \frac{N_i}{1+T_i}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If i is played $ p_i $ becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{p_i}{1+p_i} = \frac{1}{T+2}&quot; alt=&quot;\frac{p_i}{1+p_i} = \frac{1}{T+2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;If i is played and successful $ _i $ becomes&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?s(\mu_i) = \frac{\mu_i + p_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}&quot; alt=&quot;s(\mu_i) = \frac{\mu_i + p_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;whereas failure is&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?s(\mu_i) = \frac{\mu_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}&quot; alt=&quot;s(\mu_i) = \frac{\mu_i}{p_i+1} = \frac{N_i + 1 }{T_i + 2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lim_{T_i \to \infty} \frac{N_i}{T_i+1} = \tau_i&quot; alt=&quot;\lim_{T_i \to \infty} \frac{N_i}{T_i+1} = \tau_i&quot; /&gt;&lt;/div&gt;&lt;/span&gt;, the true probability.&lt;/p&gt;
&lt;p&gt;Depends on prior information and luck. Costly to pull on uncertain machine.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Consider fisheries example where &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x = F(x) - h&quot; alt=&quot;x = F(x) - h&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F(x) = x^{\alpha} \epsilon |_{\epsilon ~ N(0, \sigma^2}&quot; alt=&quot;F(x) = x^{\alpha} \epsilon |_{\epsilon ~ N(0, \sigma^2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\ln F(x) = \alpha ln(x) + ln(\epsilon) =: y&quot; alt=&quot;\ln F(x) = \alpha ln(x) + ln(\epsilon) =: y&quot; /&gt;&lt;/div&gt;&lt;/span&gt; $ $ must be estimated.&lt;/p&gt;
&lt;p&gt;Frequentist:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat \alpha = \frac{\ln x&amp;#39; \ln F(x)}{\ln X&amp;#39; \ln x}&quot; alt=&quot;\hat \alpha = \frac{\ln x&amp;#39; \ln F(x)}{\ln X&amp;#39; \ln x}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Bayesian: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(\alpha) N( \alpha_0, \sigma_{\alpha^2})&quot; alt=&quot;P(\alpha) N( \alpha_0, \sigma_{\alpha^2})&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(\alpha | y ) \sim \exp\left( \tfrac{1}{2} (y-\alpha \ln(x) )&amp;#39; (y- \alpha \ln(x) \right) \exp \left( -\frac{1}{2} \frac{(\alpha - \alpha_0)^2}{\sigma_{\alpha}^2}\right)&quot; alt=&quot;f(\alpha | y ) \sim \exp\left( \tfrac{1}{2} (y-\alpha \ln(x) )&amp;#39; (y- \alpha \ln(x) \right) \exp \left( -\frac{1}{2} \frac{(\alpha - \alpha_0)^2}{\sigma_{\alpha}^2}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Myopic igonre additional variation in harvest to identify $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?. More variation means better estimated\inline&quot;/&gt;&lt;/span&gt; $&lt;/p&gt;
&lt;p&gt;Michael raises two issues: applying this information elsewhere. If environment is changing, learning current condition is less valuable. (can’t I learn the change rate?)&lt;/p&gt;
&lt;p&gt;Adaptive management experiment in corals.&lt;/p&gt;
&lt;h3 id=&quot;pdg-control-approaches-from-engineering-discussion-carl-toews&quot;&gt;9:00 pdg-control: Approaches from Engineering &amp;amp; Discussion (Carl Toews)&lt;/h3&gt;
&lt;p&gt;An adaptive talk on techniques.&lt;/p&gt;
&lt;p&gt;How do we quantify the volatility of a control law? (function space choice) How do we measure the distance between models? Between controls? Change an objective function to yield a better control law (regularization in inverse problems)&lt;/p&gt;
&lt;h4 id=&quot;modeling-inverse-problems&quot;&gt;Modeling, Inverse Problems&lt;/h4&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M : X \to Y&quot; alt=&quot;M : X \to Y&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Forward: predicting observations from parameters. Inverse: parameters from observation. Existence, uniqueness, stability. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?M = \pmatrix{ 1 &amp;amp; 0 \\ 0 &amp;amp; \epsilon }&quot; alt=&quot;M = \pmatrix{ 1 &amp;amp; 0 \\ 0 &amp;amp; \epsilon }&quot; /&gt;&lt;/div&gt;&lt;/span&gt; Not unique if $ = 0 $&lt;/p&gt;
&lt;p&gt;So: Cost functional: $ J(x) := ||M(x) = y_0|| $ Regularization: $  J(x) := ||M(x) = y_0|| + ||x ||  $ Optimize: $  x_0 = _{xX} J(x)  $&lt;/p&gt;
&lt;p&gt;Regularization means solving a suboptimal model. Fudge factor. Trade-off due to inverting an unstable operator vs error due to the objective function.&lt;/p&gt;
&lt;p&gt;Singular value decomposition regularization example:&lt;/p&gt;
&lt;p&gt;Linear regime &lt;a href=&quot;http://en.wikipedia.org/wiki/Kalman_filter&quot;&gt;Kalman&lt;/a&gt; filter exact solution. (e.g. uncertainty in stock size, based on harvest).&lt;/p&gt;
&lt;p&gt;True state evolves according to: $ x_{k+1} = g(x_k, v_k) $ But the observation is some function of that: $ y_{k} = h(x_k, n_k) $&lt;/p&gt;
&lt;p&gt;Paul: Nonlinearity can be ignored by engineers, because they can intervene frequently. If you’re doing management, forced to do policy control, you cannot intervene frequently enough to be linear. (e.g., &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?g(x_k, v_k\inline&quot;/&gt;&lt;/span&gt; is nonlinear.&lt;/p&gt;
&lt;p&gt;Alan, Frank: quite easy for $ h(x_k, n_k) $ to be nonlinear as well, such as x being the density and y being only the moments.&lt;/p&gt;
&lt;h4 id=&quot;estimation&quot;&gt;Estimation&lt;/h4&gt;
&lt;h4 id=&quot;filtering&quot;&gt;Filtering&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Model_predictive_control&quot;&gt;Model predictive control&lt;/a&gt;:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Read control, disturbance, output variable&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Estimate state (e.g. Kalman Filter)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove ill condition (regularization)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Local steady-sate optimization (Linear or quadratic program)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dynamic optimization (Dynamic programming)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outputs control variable&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;training-problem-ii-problem-formulation&quot;&gt;Training Problem II problem formulation&lt;/h2&gt;
&lt;p&gt;How does decreasing uncertainty improve outcomes?  Expected value of perfect information?&lt;/p&gt;
&lt;p&gt;Model uncertainty vs parameter uncertainty.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Adaptive management approach to coral-algae location of phase shift. vs Passive adaptive management/MPC.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nonlinearity in observation error&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;H inverse.  dockside landings don’t include discard/bycatch.  age &amp;amp; space from total biomass.&lt;/p&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Optimal sampling rates and intervention rate (rel to system timescale).  Compared to 3 yr rule on stock assessment.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Jim’s staged approach: Overall optimal.  Conditional on fishermen sampling. compare difference.&lt;/p&gt;
&lt;ol start=&quot;4&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Spatial signal of declines: most efficient fishing.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Dual_control_theory&quot;&gt;Dual control&lt;/a&gt;  = active adaptive management.&lt;/p&gt;
&lt;del&gt;
&lt;p&gt;10:00 Break into Training Problem Groups&lt;/del&gt;&lt;/p&gt;
&lt;del&gt;
&lt;p&gt;TASK: Formalize Question. What is the biological problem? What is the control problem? Is&lt;/del&gt; &lt;del&gt; there expertise you are missing? What resources do you need?&lt;/del&gt; &lt;del&gt; 11:30 Report back to full group&lt;/del&gt; 12:00 Lunch at NIMBioS&lt;/p&gt;
&lt;h2 id=&quot;training-problem-iii-summary&quot;&gt;Training problem III summary&lt;/h2&gt;
&lt;p&gt;Claire reviews dispersal problem in larva on Caribbean reefs.&lt;/p&gt;
&lt;p&gt;Discussion of focal questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Unique aspects of life history problems&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metamorphosis timing, energy (optimal stopping time)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;spawning trends and synchrony.  Synchronous settlement.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Work backwards from advanced problem.&lt;/p&gt;
&lt;p&gt;Extreme value vs. mean&lt;/p&gt;
&lt;p&gt;1:00 Training Problem Groups (shuffle expertise as needed) TASK: Model formulation &amp;amp; What do you need for Wednesday? 3:15 Break 3:30 NIMBioS Seminar by Alan Hastings 6:00 Dinner at the Armsworth’s&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Pretty Darn Good Control Working Group</title>
   <link href="/2011/09/12/pretty-darn-good-control-working-group.html"/>
   <updated>2011-09-12T05:49:39-07:00</updated>
   <id>h/2011/09/12/pretty-darn-good-control-working-group</id>
   <content type="html">&lt;p&gt;Monday, August 12 8:00 Coffee &amp;amp; Breakfast at NIMBioS 8:45 Welcome to NIMBioS (Lou Gross, Director of NIMBioS) 9:00 Intro to the pdg-control Working Group (Paul Armsworth) 9:30 Introductions by each Working Group Participant 5-minute self-introduction to the group, including your background, expertise, and current work 10:30 Break 11:00 Introduction to Training Problem 1 &amp;amp; Discussion (Jim Sanchirico)&lt;/p&gt;
&lt;h3 id=&quot;training-problem-0-optimal-control&quot;&gt;Training problem 0: Optimal Control&lt;/h3&gt;
&lt;p&gt;Jim&lt;/p&gt;
&lt;p&gt;maximize present discounted value:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\max_{h_t} \int_0^T e^{-rt} \Pi(h_t) dt &quot; alt=&quot;\max_{h_t} \int_0^T e^{-rt} \Pi(h_t) dt &quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Biological growth minus harvest.  Let’s start with given: $ X_0, X_T $&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x = F(x_t) -h_t&quot; alt=&quot;\dot x = F(x_t) -h_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Instantaneous fishing profit function curvature assumptions: $ ‘(h_t) &amp;gt;0, ’’(h_t) &amp;lt;0 $ (Diminishing returns)&lt;/p&gt;
&lt;p&gt;Solution:  Current Value Hamiltonian: $ H = e^{rt} H $ (current value is instantaneous, present value is integrated forward)&lt;/p&gt;
&lt;p&gt;$ $ would be lagrange multiplier but is a variable, a function of time.  Hence “Dynamic” optimization.  Is the “shadow price” or adjoint.  Solve:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?H = \Pi(h_t) + \lambda_t \left( F(x_t) -h_t \right)&quot; alt=&quot;H = \Pi(h_t) + \lambda_t \left( F(x_t) -h_t \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Under optimality conditions:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;$ h_t  = 0 t w/ h_t &amp;gt; 0 ’(h_t) -_t $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ - r &lt;em&gt;t =  = F’(x&lt;/em&gt;t) $&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;$ x = F(x_t) - h_t$&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Subbing out lambda equations:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot h = \frac{\Pi ^{\prime}}{\Pi^{\prime\prime}} \left( r - F^{\prime}(x) \right)&quot; alt=&quot;\dot h = \frac{\Pi ^{\prime}}{\Pi^{\prime\prime}} \left( r - F^{\prime}(x) \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot x_t = F(x_t) - h_t&quot; alt=&quot;\dot x_t = F(x_t) - h_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Why is it dynamic?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Durability: fish stock today faces fish stock tomorrow.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjustment costs: can’t immediately change control.  Rate of changing control.  (come from $ Pi’’ $&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://www.jstor.org/stable/1814560&quot;&gt;Catenary Turnpike Theorem&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;note the stationary state is just setting value of leaving fish in water equal to rate of money it gets  &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F^{\prime}(x) = r\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note if $ $ depends on the stock value (i.e. more fish are easy to find, or you like having fish in the sea)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F^{\prime}(x) + \frac{\Pi_x}{\Pi_h} = r&quot; alt=&quot;F^{\prime}(x) + \frac{\Pi_x}{\Pi_h} = r&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Work simple example if profit is linear in h, but depends on stock: price of fish is p.   $ (h,x) = (p - c(x)) h $  Solutions are bang-bang, etc…&lt;/p&gt;
&lt;p&gt;Then marginial productivity = rate of return minus stock effect (searching costs, etc).&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?F^{\prime}(x) = r - \frac{c&amp;#39;(x) h}{p-c(x)}&quot; alt=&quot;F^{\prime}(x) = r - \frac{c&amp;#39;(x) h}{p-c(x)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;liquidation gain equals loss forever in taking out more fish.&lt;/p&gt;
&lt;p&gt;$ p-c(x) =  $&lt;/p&gt;
&lt;p&gt;External change in fish price, then steady state just follows the rate of change:&lt;/p&gt;
&lt;p&gt;$ F^{}(x) +  = r $&lt;/p&gt;
&lt;p&gt;Singular path (steady state path):&lt;/p&gt;
&lt;p&gt;What if harvest is constrained outside: “blocked intervals” changes dynamics.&lt;/p&gt;
&lt;p&gt;General note in all this dynamic stuff: you want stock at steady state, but you can’t just put it there, you have to harvest.  Hence canterary turnpike, etc.&lt;/p&gt;
&lt;h3 id=&quot;paul-armsworth-training-problem-1&quot;&gt;Paul Armsworth: training problem 1&lt;/h3&gt;
&lt;p&gt;constraints (limitations) on control&lt;/p&gt;
&lt;p&gt;Applications of optimal control recommend policy that changes frequently.&lt;/p&gt;
&lt;p&gt;Nonlinear relationship in age class&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_1(t+1) = f(N(t)&quot; alt=&quot;N_1(t+1) = f(N(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_{i+1}(t+1) = N_i(t) e^{\mu_i}, i \leq a &quot; alt=&quot;N_{i+1}(t+1) = N_i(t) e^{\mu_i}, i \leq a &quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N_{i+1}(t+1) = N_i(t) e^{\mu_i-q_iE(t)}, i &amp;gt; a &quot; alt=&quot;N_{i+1}(t+1) = N_i(t) e^{\mu_i-q_iE(t)}, i &amp;gt; a &quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Fishing effort level E.  Pulse fishing or chattering becomes optimal (trying to meet two constraints, like temperature on different floors, where can’t meet both, but response time to one is faster than the other). Can see as convexity (Alan).&lt;/p&gt;
&lt;p&gt;_So the full optimum isn’t popular!  _Because no policy maker wants chattering as a solution.&lt;/p&gt;
&lt;p&gt;Appears when number of state variables exceeds number of control variables.  (Jim can this be proven?)  Many things expand state space.&lt;/p&gt;
&lt;p&gt;Another example: adding stochasticity (optimal inventory)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?N(t+1) = f(N(t) -h(t)) \varepsilon_t&quot; alt=&quot;N(t+1) = f(N(t) -h(t)) \varepsilon_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Results in highly variable optimal quotas. At least in bluefin tuna, show policy is very non-responsive.  Alan: easier to raise than lower quotas. Jim: irreversible action extreme.&lt;/p&gt;
&lt;p&gt;Uncertainty analysis: Predicted stock size when quota set vs observed value.  Note: you get more accurate estimate of the stock size more distantly in the past (more harvest size data).&lt;/p&gt;
&lt;p&gt;Common fixes: quadratic/L2 penalty to changing quota.  L1 penalty, max change size.&lt;/p&gt;
&lt;p&gt;Neubert 2003: chattering in marine reserves (infinitely many infentesimal reserves) silly assumptions (no cost)&lt;/p&gt;
&lt;p&gt;Halpern 2011: optimal harvest rates differ for each of 22 targets.&lt;/p&gt;
&lt;p&gt;Hobday &amp;amp; Hartman 2006 suggest moving time-area closure boundaries to react to satellite data.&lt;/p&gt;
&lt;p&gt;Technologically, tracking is possible.  But how much variation is desirable?&lt;/p&gt;
&lt;h3 id=&quot;lunch-at-nimbios&quot;&gt;12:00 Lunch at NIMBioS&lt;/h3&gt;
&lt;h3 id=&quot;introduction-to-training-problem-2-discussion-alan-hastings&quot;&gt;1:00 Introduction to Training Problem 2 &amp;amp; Discussion (Alan Hastings)&lt;/h3&gt;
&lt;p&gt;Coral reef grazing model (analytic model by Mumby et al 2007) (Mumby &lt;em&gt;et. al.&lt;/em&gt; 2007)&lt;/p&gt;
&lt;p&gt;Macroalgae (grazed by parrotfish) overgrows coral, Coral, Turf. Grazed or dead coral both become turf.  T+M+C = constant, so:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dM}{dt} = a MC - \frac{g M}{M+T}+\gamma MT&quot; alt=&quot;\frac{dM}{dt} = a MC - \frac{g M}{M+T}+\gamma MT&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dC}{dt} = (rT - d-aM)C&quot; alt=&quot;\frac{dC}{dt} = (rT - d-aM)C&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Multiple stable states.   a is overgrowth.&lt;/p&gt;
&lt;p&gt;Parrotfish model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT&quot; alt=&quot;\frac{dM}{dt} = a MC - \frac{g(P) M}{M+T}+\gamma MT&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dC}{dt} = (rT - d-aM)C&quot; alt=&quot;\frac{dC}{dt} = (rT - d-aM)C&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP&quot; alt=&quot;\frac{dP}{dt} = sP\left( 1-\frac{P}{K(C)}\right) - fP&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;K(C) is from territorial limits, rather than food limits.  (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;
&lt;p&gt;Adding habitat quality (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Compare to a non-multiple stable states.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl Walters adaptive control: variance on posterior as a state variable (confidence in a parameter)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;passive adaptive – living with uncertainty – don’t perturb to learn, only to improve expectation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;active – actually perturbing system&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;model choice. model averaging.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Advanced problem: aggregated model vs model complexity.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;introduction-to-training-problem-3-discussion-megan-donahue&quot;&gt;2:00 Introduction to Training Problem 3 &amp;amp; Discussion (Megan Donahue)&lt;/h3&gt;
&lt;p&gt;Understanding how biology does it’s own control problems: life history switch:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Constraint: tradeoff between growth R and fecundity F&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimality criterion: maximize reproduction at time T&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Optimal strategy: switch effort from all F to all R at time &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?t_s\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Evolutionary context: optimal only in light of evolution.  heritablity limitations. differing historical context. optimal plasticity (“adaptive management”).&lt;/p&gt;
&lt;p&gt;ultimate (e.g. fitness) vs proximate (e.g. food) causation.&lt;/p&gt;
&lt;p&gt;Optimal larval return strategy.  (Intro to larval forms of marine creatures)&lt;/p&gt;
&lt;p&gt;Exploiting water column current flow (ARMSWORTH, 2001)&lt;/p&gt;
&lt;p&gt;Delayed and non-delayed swimming.  Stochastic dynamic programming (Irisson &lt;em&gt;et. al.&lt;/em&gt; 2004)&lt;/p&gt;
&lt;p&gt;Megan: “You guys probably have another word for it in economics”  Jim: “Same thing”. (Alan throws Jim candy)&lt;/p&gt;
&lt;p&gt;Highly stochastic: in the sense that 1 :10^6 survive to settle.&lt;/p&gt;
&lt;p&gt;Objective uncertainty: maximize time in plankton? survivorship to settlement? body size at settlement?  Is arithmetic mean lifetime fitness the right measure?  Sweepstakes (does one organism’s progeny make up most of the population?)&lt;/p&gt;
&lt;p&gt;Jim: Is this an optimal stopping time question?&lt;/p&gt;
&lt;p&gt;Alan: An approximate solution to the optimal problem or optimal solution to the approximate problem?&lt;/p&gt;
&lt;p&gt;Choosing among a set of potentially equivalent models.&lt;/p&gt;
&lt;p&gt;Jim: When do we get 90% there with a low-dimensional solution?   (Advanced problem 1 &amp;amp; 2 start to address this). Does this make a difference when stochasticity enters?  (Jim and Alan’s paper of adding more species to management story doesn’t matter much).&lt;/p&gt;
&lt;p&gt;In policy, we only want robust solutions when forced to be non-optimal; i.e. simple model or inflexible policy.  Michael: life-history/nature optimizes full problem, not the simplified one.  Does this mean it is less robust.&lt;/p&gt;
&lt;p&gt;Paul Ludwig’s paper where the simple model outperforms the generating complex model.&lt;/p&gt;
&lt;p&gt;3:00 Break 3:15 Self-select into small groups to discuss Training Problems TASK: Identify 1-3 focal questions. What the biological problem? What’s the control problem?&lt;/p&gt;
&lt;h3 id=&quot;training-problem-1-questions&quot;&gt;Training Problem 1 Questions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theory:  state variable exceed control variable: we want the non-optimal control.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;When does this give chattering?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Is there a convexity analog?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does this non-optimal solution to high-state-variable case do better than a an optimal solution to lower-state model?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjustment Costs&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;optimal vs suboptimal&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare optimal under different constrains irriversability/asymmetric penalty&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overages/Underages&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical: volatility of stock-size estimate vs volatility of management adjustment.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;5:00 NIMBioS Reception 6:15 Walk into town for dinner 7:30 Optional Activity: Contradancing at the Laurel Theater (2 blocks from NIMBioS)&lt;/p&gt;
&lt;p&gt;Participant list&lt;/p&gt;
&lt;h1 id=&quot;pretty-darn-good-control&quot;&gt;&lt;a href=&quot;http://www.nimbios.org/workinggroups/WG_PDG&quot;&gt;Pretty Darn Good’ Control&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;Participant Institutional affiliation Meetings&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Paul Armsworth&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Ecology &amp;amp; Evolutionary Biology, Univ. of Tennessee&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Michael Bode&lt;/p&gt;
&lt;p&gt;Adv. Environmental Decision Analysis, Univ. of Melbourne, Australia&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Carl Boettiger&lt;/p&gt;
&lt;p&gt;Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Megan Donahue&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Marine Biology, Univ. of Hawaii, Kaneohe&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Frank Doyle&lt;/p&gt;
&lt;p&gt;Chemical Engineering, Univ. of California, Santa Barbara&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Raissa D’Souza&lt;/p&gt;
&lt;p&gt;Univ. of California, Davis; Santa Fe Institute&lt;/p&gt;
&lt;p&gt;-&lt;/p&gt;
&lt;p&gt;Marie-Josee Fortin&lt;/p&gt;
&lt;p&gt;Zoology, Univ. of Toronto&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Alan Hastings&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Environmental Science &amp;amp; Policy, Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Jacob LaRiviere&lt;/p&gt;
&lt;p&gt;Economics, Univ. of Tennessee&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Claire Paris&lt;/p&gt;
&lt;p&gt;Marine Science, Univ. of Miami&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;Jim Sanchirico&lt;/p&gt;
&lt;p&gt;Environmental Science &amp;amp; Policy, Univ. of California, Davis&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Toews&lt;/strong&gt;*&lt;/p&gt;
&lt;p&gt;Mathematics, Duquesne Univ.&lt;/p&gt;
&lt;p&gt;1&lt;/p&gt;
&lt;p&gt;*Group organizers Mtg 1: Sep 12-15, 2011 (preliminary)&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mumby P, Hastings A and Edwards H (2007). “Thresholds And The Resilience of Caribbean Coral Reefs.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;450&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;http://dx.doi.org/10.1038/nature06252&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ARMSWORTH P (2001). “Directed Motion in The Sea: Efficient Swimming by Reef Fish Larvae.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;210&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.2001.2299&quot;&gt;http://dx.doi.org/10.1006/jtbi.2001.2299&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Irisson J, LeVan A, Lara M and Planes S (2004). “Strategies And Trajectories of Coral Reef Fish Larvae Optimizing Self-Recruitment.” &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;227&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1016/j.jtbi.2003.10.016&quot;&gt;http://dx.doi.org/10.1016/j.jtbi.2003.10.016&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood expressions for branching processes</title>
   <link href="/2011/09/10/likelihood-expressions-for-branching-processes.html"/>
   <updated>2011-09-10T07:29:09-07:00</updated>
   <id>h/2011/09/10/likelihood-expressions-for-branching-processes</id>
   <content type="html">&lt;h3 id=&quot;lineage-through-time-approach&quot;&gt;Lineage-through-time approach&lt;/h3&gt;
&lt;p&gt;Nee, then Paradis (Paradis, 2003) introduces unresolved tips&lt;/p&gt;
&lt;h3 id=&quot;distribution-of-branch-lengths-approach&quot;&gt;Distribution of branch-lengths approach&lt;/h3&gt;
&lt;p&gt;Note that in any Markov branching process, only node depth, not topology, influence the likelihood.&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;&lt;/h3&gt;
&lt;h3 id=&quot;see-also&quot;&gt;See also:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/974&quot;&gt;Notes&lt;/a&gt; on bootstrapping in laser&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/340&quot;&gt;Earlier Notes&lt;/a&gt; on distribution derivation from Kendall 1948&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;My &lt;a href=&quot;http://www.carlboettiger.info/archives/299&quot;&gt;derivation&lt;/a&gt; of the analytic probability of N individuals in pure birth (from van Kampen approximation)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(manual list)&lt;/p&gt;
&lt;h3 id=&quot;refs&quot;&gt;Refs&lt;/h3&gt;
&lt;p&gt;Kendall, D. G. (1948). On the Generalized “Birth-and-Death” Process. Annals of Mathematical Statistics, 19(1), 1-15.&lt;/p&gt;
&lt;p&gt;Alfaro, M. E., Santini, F., Brock, C., Alamillo, H., Dornburg, A., Rabosky, D. L., Carnevale, G., et al. (2009). Nine exceptional radiations plus high turnover explain species diversity in jawed vertebrates. Proceedings of the National Academy of Sciences of the United States of America, 106(32), 13410-4. doi:10.1073/pnas.0811087106 Nee, S., Holmes, E. C., May, R. M., &amp;amp; Harvey, P. H. (1994). Extinction rates can be estimated from molecular phylogenies. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences, 344(1307), 77-82. Nee, S., May, R. M., &amp;amp; Harvey, P. H. (1994). The reconstructed evolutionary process. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences, 344(1309), 305-311.&lt;/p&gt;
&lt;p&gt;Foote, M. (1999). Evolutionary and Preservational Constraints on Origins of Biologic Groups: Divergence Times of Eutherian Mammals. Science, 283(5406), 1310-1314. doi:10.1126/science.283.5406.1310&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Paradis E (2003). “Analysis of Diversification: Combining Phylogenetic And Taxonomic Data.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;270&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2003.2513&quot;&gt;http://dx.doi.org/10.1098/rspb.2003.2513&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>How google views me: by search terms or citation counts?</title>
   <link href="/2011/09/09/how-google-views-me-by-search-terms-or-citation-counts.html"/>
   <updated>2011-09-09T02:55:39-07:00</updated>
   <id>h/2011/09/09/how-google-views-me-by-search-terms-or-citation-counts</id>
   <content type="html">&lt;p&gt;How Google search views me: here’s a word cloud of search terms reaching my site in August.  Word cloud produced with R: click-through for link to source-code. Uses the rather convenient tm package for text-mining functions in R. Note that this shows the frequency of individual words used in searches, rather than the whole search term.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6073/6128330822_c3f089a3da_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(tm)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wordcloud)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RColorBrewer)

carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.csv&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;searchterms.csv&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;colClasses=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;character&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;numeric&amp;quot;&lt;/span&gt;))

words &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;character&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(carl[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]]))
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(carl[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])){
  n &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;carl[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]][i]
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;carl[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][i]
  words[m:(m+(n&lt;span class=&quot;dv&quot;&gt;-1&lt;/span&gt;))] &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rep&lt;/span&gt;(x, n)
  m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m+n
}

 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Corpus&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;DataframeSource&lt;/span&gt;(carl))
 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tm_map&lt;/span&gt;(carl, removePunctuation)
 carl &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tm_map&lt;/span&gt;(carl, tolower)

 carl.tdm &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;TermDocumentMatrix&lt;/span&gt;(carl)
 carl.m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.matrix&lt;/span&gt;(carl.tdm)
 carl.v &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;rowSums&lt;/span&gt;(carl.m), &lt;span class=&quot;dt&quot;&gt;decreasing=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
 carl.d &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;word=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(carl.v), &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;carl.v)

pal2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;brewer.pal&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;Dark2&amp;quot;&lt;/span&gt;)

&lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;800&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;height=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;800&lt;/span&gt;) 
&lt;span class=&quot;co&quot;&gt;#larger canvas doesn&amp;#39;t increase plot size&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;wordcloud&lt;/span&gt;(carl.d$word,carl.d$freq, &lt;span class=&quot;dt&quot;&gt;scale=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;min.freq=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
&lt;span class=&quot;dt&quot;&gt;max.words=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;Inf&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;random.order=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;rot.per=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;colors=&lt;/span&gt;pal2)
&lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(socialR)
&lt;span class=&quot;kw&quot;&gt;upload&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;script=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;wordcloud.R&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here’s another way that Google views me: results from the &lt;a href=&quot;http://code.google.com/p/citations-gadget/&quot;&gt;Google citation gadget&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Citations for “Carl Boettiger”: &lt;strong&gt;77&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cited Publications: &lt;strong&gt;18&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;H-Index: &lt;strong&gt;5&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hmm… I think the wordcloud approach might be more accurate… Perhaps no one needed reminding not to trust these kinds of tools, despite the predilection to believe anything quantitative (See the real story on my CV tab (pdf). The other lesson might be that alternative forms of publishing are likely to get picked up by some of these algorithms. Many of the &lt;a href=&quot;http://scholar.google.com/scholar?start=0&amp;amp;q=author:%22Carl+Boettiger%22&amp;amp;hl=en&amp;amp;lr=lang_en&amp;amp;as_sdt=0,5&quot;&gt;items&lt;/a&gt; that come up are talks I’ve deposited on Nature Precedings, and a few are even just notebook posts. Interesting that there’s a growing number of services designed to help scientists strengthen their review dossier using these tools.&lt;/p&gt;
&lt;p&gt;Does this mean that alternative publishing (&lt;em&gt;i.e.&lt;/em&gt; conference slides, prepints, notebook posts) is a good way to trick the metrics? That people won’t trust the numbers of bloggers, etc, assuming they are inflated? Or that these kinds of communication methods may gain acceptance as part of the scientific discourse?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>discriminating early bursts</title>
   <link href="/2011/09/08/discriminating-early-bursts.html"/>
   <updated>2011-09-08T16:08:33-07:00</updated>
   <id>h/2011/09/08/discriminating-early-bursts</id>
   <content type="html">&lt;p&gt;Looking at cases when early burst can be discriminated from OU, a la Harmon et al 2010 (Harmon &lt;em&gt;et. al.&lt;/em&gt; 2010). Fixed models can be told apart. Rather trivially, none of these models can be told apart if initially estimated from Brownian data. Rather encouraging: models estimated from common data can be told apart. 600 taxa tree&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6199/6125357510_a09d6f32dd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Still works on 60 taxa, identifying OU correctly when sim under OU (left), and EB for EB data (right):&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6185/6126018835_6199c37005_o.png&quot; /&gt;   &lt;img src=&quot;http://farm7.staticflickr.com/6209/6128149375_b398dc55dd_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;But not always.&lt;/p&gt;
&lt;p&gt;Parameter estimation on weak EB can be quite tough.  600 taxa tree does fine with a stronger EB signal, though with considerable uncertainty&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6193/6124689945_db2e564065_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;For instance, the small geospiza data set (13 taxa) the OU fits better, but not substantially:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6130047163_ca04cc1f3d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Should add parameter distributions for the above cases and run the model choice on a couple simulations with weaker EB parameters, as well as a couple of the real data sets.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Harmon L, Losos J, Jonathan Davies T, Gillespie R, Gittleman J, Bryan Jennings W, Kozak K, McPeek M, Moreno-Roark F, Near T, Purvis A, Ricklefs R, Schluter D, Schulte II J, Seehausen O, Sidlauskas B, Torres-Carvajal O, Weir J and Mooers A (2010). “Early Bursts of Body Size And Shape Evolution Are Rare in Comparative Data.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>memory management, cron</title>
   <link href="/2011/09/07/memory-management-cron.html"/>
   <updated>2011-09-07T14:28:03-07:00</updated>
   <id>h/2011/09/07/memory-management-cron</id>
   <content type="html">&lt;p&gt;Create the memcheck.sh script that will write a mem.log file with the data, and a&lt;a href=&quot;http://t16web.lanl.gov/Kawano/gnuplot/datetime-e.html&quot;&gt;gnuplot script&lt;/a&gt; that will plot it.&lt;/p&gt;
&lt;p&gt;[gist id=1201994]&lt;/p&gt;
&lt;p&gt;Then set up a cron job.  First, set the editor to something functional:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export EDITOR=vi&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then, crontab -e to edit the cron table.  Add this line to run the command every 2 minutes (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Cron#Examples&quot;&gt;wikipedia entry&lt;/a&gt; for quick intro), and plot it every 15 minutes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;*/2 * * * * /home/cboettig/./memcheck.sh
*/15 * * * * gnuplot /home/cboettig/memplot.gnu&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See resulting &lt;a href=&quot;http://www.carlboettiger.info/mem.png&quot;&gt;plot&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/09/07/wednesday-8.html"/>
   <updated>2011-09-07T05:30:39-07:00</updated>
   <id>h/2011/09/07/wednesday-8</id>
   <content type="html">&lt;h3 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h3&gt;
&lt;p&gt;Next steps directions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;economics of uncertainty in early warning&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated data approach - insect pest dynamics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;cod data set. fisheries depensation&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Send Alan: Slides, CV (for post doc apps)&lt;/p&gt;
&lt;p&gt;Discussed some relevant literature, mostly for the warning signals in fisheries questions: (Colchero &amp;amp; Clark, 2012), (Hutchings, 2000), HUTCHINGS &amp;amp; REYNOLDS, 2004, (Minckley &lt;em&gt;et. al.&lt;/em&gt; 2012), (Myers &lt;em&gt;et. al.&lt;/em&gt; 1995), (Schröder &lt;em&gt;et. al.&lt;/em&gt; 2012)&lt;/p&gt;
&lt;p&gt;Upcoming working group at NIMBioS next week.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Colchero F and Clark J (2012). “Bayesian Inference on Age-Specific Survival For Censored And Truncated Data.” &lt;em&gt;Journal of Animal Ecology&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1365-2656.2011.01898.x&quot;&gt;http://dx.doi.org/10.1111/j.1365-2656.2011.01898.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hutchings J (2000). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;406&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/35022565&quot;&gt;http://dx.doi.org/10.1038/35022565&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Minckley T, Shriver R and Shuman B (2012). “Resilience And Regime Change in A Southern Rocky Mountain Ecosystem During The Past 17 000 Years.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0283.1&quot;&gt;http://dx.doi.org/10.1890/11-0283.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Myers R, Barrowman N, Hutchings J and Rosenberg A (1995). “Population Dynamics of Exploited Fish Stocks at Low Population Levels.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.269.5227.1106&quot;&gt;http://dx.doi.org/10.1126/science.269.5227.1106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schröder A, Persson L and de Roos A (2012). “Complex Shifts Between Food Web States in Response to Whole-Ecosystem Manipulations.” &lt;em&gt;Oikos&lt;/em&gt;, &lt;strong&gt;121&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1600-0706.2011.19764.x&quot;&gt;http://dx.doi.org/10.1111/j.1600-0706.2011.19764.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marine Fish Population Collapses: Consequences For Recovery And Extinction Risk, JEFFREY A. HUTCHINGS, JOHN D. REYNOLDS, (2004) &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;54&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1641/0006-35682004054[0297:MFPCCF]2.0.CO;2&quot;&gt;10.1641/0006-3568(2004)054[0297:MFPCCF]2.0.CO;2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>rfishbase demo: Are there more Goby or Labrid species on reefs?</title>
   <link href="/2011/09/02/rfishbase-demo.html"/>
   <updated>2011-09-02T05:59:35-07:00</updated>
   <id>h/2011/09/02/rfishbase-demo</id>
   <content type="html">&lt;p&gt;I have updated the package to 0.0-3 alpha, having all the target functionality now.  Improved error handling, downloading of data, processing.  Get the source or windows binary &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;here&lt;/a&gt;. I now download the full database and cache it locally for faster querying. Just about any kind of manipulation is then possible and fast.&lt;/p&gt;
&lt;p&gt;For instance, here’s a quick demo based on a question from Peter Wainwright: “are there more gobys or labrids on reefs?”&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; require(rfishbase)
Loading required package: rfishbase
&amp;gt; ## Download and parse data for first 40 ids (36 fish)
&amp;gt; #fish.data &amp;lt;- getData(1:40)
&amp;gt; 
&amp;gt; ## Or just load the cached copy of the full fishbase data:
&amp;gt; data(fishbase)
&amp;gt; fish.data &amp;lt;- all.fishbase 
&amp;gt; labrid &amp;lt;- familySearch(&amp;quot;Labridae&amp;quot;, fish.data)
&amp;gt; goby &amp;lt;- familySearch(&amp;quot;Gobiidae&amp;quot;, fish.data)
&amp;gt; 
&amp;gt; # get all those that are reefs 
&amp;gt; labrid.reef &amp;lt;- habitatSearch(&amp;quot;reef&amp;quot;, fish.data[labrid])
&amp;gt; # How many species are reef labrids:
&amp;gt; sum(labrid.reef) #same as: length(fish.data[labrid][labrid.reef])
[1] 415
&amp;gt; 
&amp;gt; # How many reef gobies:
&amp;gt; sum (habitatSearch(&amp;quot;reef&amp;quot;, fish.data[goby]) )
[1] 399
&amp;gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;More Labrids! Peter tells me that once you add the parrotfish, labrids are the clear winner. Just as we can search habitat keywords, we could do the same for diet, distribution, etc. We also have access to the size data, etc, as shown in the &lt;a href=&quot;http://fishlab.ucdavis.edu/?p=395&quot;&gt;wainwrightlab&lt;/a&gt; demo. This has been streamlined using the getSize() function in the new version.&lt;/p&gt;
&lt;p&gt;This uses some very simple functions I’ve added to the package in the &lt;a href=&quot;https://github.com/cboettig/rfishbase/blob/2f642553e4d0ab3b632a0fea64150aca98a02594/R/analysis.R&quot;&gt;R/analysis.R&lt;/a&gt; script. They are meant to be examples rather than comprehensive, since it will be easier for an experienced user of R to write their own commands or functions than to anticipate all possible kinds of queries. This should give a clear starting point. Other potentially common queries may be given their own functions in the future.&lt;/p&gt;
&lt;p&gt;While one can always run against the cached copy of the database now included in the package, it may be necessary to update this regularly as the online database is updated. This synchrony is of course the primary functionality of the rfishbase package. In principle all 30,715 or so entries of fishbase can be downloaded with getData(1:70000). In practice this may need to be broken into chunks to be successful, given server limitations, memory limitations, etc. The demo script downloadFishbase.R is one example of how this might be done.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday Reading</title>
   <link href="/2011/09/01/thursday-reading.html"/>
   <updated>2011-09-01T16:58:40-07:00</updated>
   <id>h/2011/09/01/thursday-reading</id>
   <content type="html">&lt;p&gt;Very interesting article on tipping points that seems to answer a question I put to Vasilis back in 2009 at IIASA: whether critical transitions due to bifurcations could be distinguished from stochastic transitions due to rare events Ditlevsen &amp;amp; Johnsen, 2010.  Argues that some of the well-known climate transitions may have been stochastic transitions instead.  Will need a closer read to better assess how they are distinguishing between such transitions in the data.&lt;/p&gt;
&lt;p&gt;Provocative &lt;em&gt;Nature&lt;/em&gt; paper by Frank et al.  claims that fishery collapse represents only a long transient on the road to recovery, rather than an alternate stable state (Frank &lt;em&gt;et. al.&lt;/em&gt; 2011).  An intriguing debate – setting aside the trouble of actually defining what it means rigorously, since either description is a low-dimensional approximation of the true dynamics anyhow.  Of course the next worry is that we probably don’t have the data to tell definitively, even if we can define the question; but we can certainly do our best.  This kind of data on fisheries seems to go through all kinds of opaque filtering before it becomes the numbers we analyze (getting from catch effort to information about abundance and size that we don’t observe by using phenomenological models seems to leave room for doubt).  So if we set those concerns aside too and do the best we can to answer the question – we can at least confront the paper.  The hypothesis seems plausible, the argument that the system is in a transient because Figure 3 looks like the pattern of a damped harmonic oscillator is hardly convincing.  The match of theory to data should be compared between plausible hypotheses.  Nor does it seem that just because the forage fish dynamics have a stable spiral that we’ve eliminated the alternate stable states hypothesis.  Still, I’d need to actually look at the data to really be able to make much judgment, and it looks like reconstructing the time series from the public data would take some doing.&lt;/p&gt;
&lt;p&gt;Hypothesis they wish to displace runs something like this: Large benthic species like cod normally predate the smaller forage fish.  Destruction of cod releases the forage fish who then prevent cod recovery due to their increased biomass (through competition with smaller cod, or predation, etc) (Jackson, 2001) (Persson &lt;em&gt;et. al.&lt;/em&gt; 2007) (Fauchald, 2010).&lt;/p&gt;
&lt;p&gt;Interesting review of “Early warning of climate tipping points” in Nature Climate Change: (Lenton, 2011); a remarkable number of the examples are ecological rather than more meteorological.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Frank K, Petrie B, Fisher J and Leggett W (2011). “Transient Dynamics of an Altered Large Marine Ecosystem.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;477&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature10285&quot;&gt;http://dx.doi.org/10.1038/nature10285&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jackson J (2001). “Historical Overfishing And The Recent Collapse of Coastal Ecosystems.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;293&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1059199&quot;&gt;http://dx.doi.org/10.1126/science.1059199&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Persson L, Amundsen P, De Roos A, Klemetsen A, Knudsen R and Primicerio R (2007). “Culling Prey Promotes Predator Recovery–Alternative States in A Whole-Lake Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;316&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1141412&quot;&gt;http://dx.doi.org/10.1126/science.1141412&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fauchald P (2010). “Predator–Prey Reversal: A Possible Mechanism For Ecosystem Hysteresis in The North Sea?” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;91&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/09-1500.1&quot;&gt;http://dx.doi.org/10.1890/09-1500.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lenton T (2011). “Early Warning of Climate Tipping Points.” &lt;em&gt;Nature Climate Change&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1758-678X, &lt;a href=&quot;http://dx.doi.org/10.1038/nclimate1143&quot;&gt;http://dx.doi.org/10.1038/nclimate1143&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tipping Points: Early Warning And Wishful Thinking, Peter D. Ditlevsen, Sigfus J. Johnsen, (2010) &lt;em&gt;Geophysical Research Letters&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2010GL044486&quot;&gt;10.1029/2010GL044486&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/08/31/wednesday-7.html"/>
   <updated>2011-08-31T05:09:29-07:00</updated>
   <id>h/2011/08/31/wednesday-7</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Wait, the storage effect is often evolutionarily unstable? Yikes. (Snyder &amp;amp; Adler, 2011). Will have to read this more closely.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vasseur &amp;amp; Fox nice AD paper in &lt;del&gt;PNAS&lt;/del&gt; Am Nat (Vasseur &amp;amp; Fox, 2011), ((One day Am Nat will finish registering the doi for these papers?))&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Contrary to previous verbal arguments that suggest that character convergence leads to neutral stability, coadaptation of competing consumers always leads to stable coexistence. Furthermore, we show that incorporating costs of consuming or excreting excess nonlimiting nutrients selects for nutritionally balanced diets and so promotes character convergence.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Curious: phlyogenetic rate shifts in feeding &lt;em&gt;in Homo&lt;/em&gt; genus: (Organ &lt;em&gt;et. al.&lt;/em&gt; 2011). An unfamiliar approach to me. Nice time-calibrated mophological-character tree of humans though. Now if only PNAS would consider requiring treebase archiving…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Best meta-population dataset ever (Hanski, 2011)? Looks like a nice paper, can’t help feeling it would have huge impact if the data were made available. Without that, it’s a bit hard to judge.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Great arxiv &lt;a href=&quot;http://arxiv.org/abs/1010.1595&quot;&gt;paper&lt;/a&gt; on parallel computation to improve MCMC. Not the way I thought – independent samples rather than independent chains. Which I had a better grasp or more time to go through this. Also, Robert’s ABC critique paper is out (Robert &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also need to read (Liebhold &amp;amp; Bascompte, 2003)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;p&gt;Working on Evolution revisions…&lt;/p&gt;
&lt;h2 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h2&gt;
&lt;p&gt;Bill got me started on automatic reporting from the clusters using some bash scripting. Still tweaking.&lt;/p&gt;
&lt;p&gt;Jacob, P., Robert, C. P., &amp;amp; Smith, M. H. (2010). Using parallel computation to improve Independent Metropolis–Hastings based estimation, 19. Retrieved from http://arxiv.org/abs/1010.1595&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Snyder R and Adler P (2011). “Coexistence And Coevolution in Fluctuating Environments: Can The Storage Effect Evolve?” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;178&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/661905&quot;&gt;http://dx.doi.org/10.1086/661905&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vasseur D and Fox J (2011). “Adaptive Dynamics of Competition For Nutritionally Complementary Resources: Character Convergence, Displacement, And Parallelism.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;178&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/661896&quot;&gt;http://dx.doi.org/10.1086/661896&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Organ C, Nunn C, Machanda Z and Wrangham R (2011). “Phylogenetic Rate Shifts in Feeding Time During The Evolution of Homo.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1107806108&quot;&gt;http://dx.doi.org/10.1073/pnas.1107806108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hanski I (2011). “Inaugural Article: Eco-Evolutionary Spatial Dynamics in The Glanville Fritillary Butterfly.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1110020108&quot;&gt;http://dx.doi.org/10.1073/pnas.1110020108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Robert C, Cornuet J, Marin J and Pillai N (2011). “Lack of Confidence in Approximate Bayesian Computation Model Choice.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1102900108&quot;&gt;http://dx.doi.org/10.1073/pnas.1102900108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liebhold A and Bascompte J (2003). “The Allee Effect, Stochastic Dynamics And The Eradication of Alien Species.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.2003.00405.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.2003.00405.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2011/08/30/tuesday-8.html"/>
   <updated>2011-08-30T15:11:23-07:00</updated>
   <id>h/2011/08/30/tuesday-8</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Completed review for &lt;em&gt;Methods&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First read-through of review/resubmission for &lt;em&gt;THEE&lt;/em&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on Evolution manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape: root should have the option of being fixed at phylogenetic mean for all models. Do root estimates occur far from this currently?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check graph color schemes, seem inconsistent.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms group: Hidden Markov Models</title>
   <link href="/2011/08/29/algorithms-group-hidden-markov-models.html"/>
   <updated>2011-08-29T14:43:42-07:00</updated>
   <id>h/2011/08/29/algorithms-group-hidden-markov-models</id>
   <content type="html">&lt;p&gt;Great group discussion on Hidden Markov Models tag-teamed by Yaniv and Alisa.  Walked through the coin flip example, creating the forward algorithm, and the posterior decoding.  In this case it is assumed model and parameters are known: two coins, known ratios, known rate of swapping; goal is to guess which coin is being used in a given interval.  Algorithm does quite well, as shown in Yaniv’s awesome graph.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6187/6101814161_83ce34791c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;As usual in the notebook, click on the graph to get link-through to the code.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: scaling wrightscape examples</title>
   <link href="/2011/08/29/monday-scaling-wrightscape-examples.html"/>
   <updated>2011-08-29T11:27:20-07:00</updated>
   <id>h/2011/08/29/monday-scaling-wrightscape-examples</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;syntaxHighligher isn’t working. no idea why, posted to forums.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still no luck compiling gsl on carver. Can’t install gsl R package or compile wrightscape C code. posted C issue to NERSC, R issue to statscicomp.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Commits to taxize pushed to Scott.&lt;/p&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h2&gt;
&lt;h3 id=&quot;parrotfish-example&quot;&gt;parrotfish example&lt;/h3&gt;
&lt;p&gt;Convergence test: with simple (common) initial values (alpha=.1, sigma=1), the different methods behave mostly appropriately: outer nested models out-perform inner ones, and likelihoods roughly agree between ouch package methods and wrightscape equivalents:&lt;/p&gt;
&lt;p&gt;[gist id=1179079]&lt;/p&gt;
&lt;p&gt;values agree with those from the sigma=40 starting condition (biased to explain variation by sigma instead of alpha). Note that with fixed alpha, the sigmas-indep is doing just slightly worse than the sigmas-global model, and the sigmas-indep model with sigma=40 starting condition did substantially worse than this.&lt;/p&gt;
&lt;p&gt;So, it looks like good evidence for selection at least (non-zero alpha). Next run should see if there’s any evidence of two different selection strengths.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running ou vs 2 alphas on farm, 64 nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some evidence, thought difference in alphas seems very small relative to the resolution:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6182/6094130312_ca51efa2a7_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6069/6094130360_aa6ec76838_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Running alphas vs sigmas2, an OU model with sigmas indep vs one with indep alphas. Likely not distinquishable: parrotfish2. 64 cores, farm.&lt;/p&gt;
&lt;p&gt;Also running the fully general model against the indep sigmas, second-best scoring. May be distinguishable: parrotfish_indep, 128 cores, farm.&lt;/p&gt;
&lt;h3 id=&quot;primates-example&quot;&gt;Primates example&lt;/h3&gt;
&lt;p&gt;A much larger tree, routine is much slower. For some reason, MLE on the brownie-style models do the worse. Primates dataset shows release of constraint over OU:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6203/6094761018_0b2c2387ff_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6083/6094761040_de833e0882_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Waiting on primates2.R to compare this to brownie result.&lt;/p&gt;
&lt;h3 id=&quot;wrightscapegsl-compile-on-carver&quot;&gt;Wrightscape/gsl compile on carver!&lt;/h3&gt;
&lt;p&gt;Automatic configuration failed, but was able to set libraries manually in Makevars:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;PKG_CPPFLAGS=-I/usr/common/usg/gsl/1.13/include -Wall -O3
PKG_LIBS=-L/usr/common/usg/gsl/1.13/lib -lm -lgsl -lgslcblas                                                       &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then removing all the configure files and loading the intel modules (R wants the intel compilers for carver I guess):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;module swap pgi intel
module swap openmpi openmpi-intel
module load gsl
module load R/2.12.1
R CMD INSTALL wrightscape&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and we’re live!&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://nim.nersc.gov/ercap_menu.php&quot;&gt;NERSC grant submitted&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday: scaling, runs</title>
   <link href="/2011/08/28/sunday-scaling-runs.html"/>
   <updated>2011-08-28T15:33:59-07:00</updated>
   <id>h/2011/08/28/sunday-scaling-runs</id>
   <content type="html">&lt;p&gt;laptop: ubuntu upgrades: 10.04 LTS -&amp;gt; 10.10 -&amp;gt; 11.04, geesh.&lt;/p&gt;
&lt;p&gt;Set up for running primates.R in likelihood mode with abstracted parallelization:&lt;/p&gt;
&lt;p&gt;Carver trouble getting wrightscape installed: even after module load gsl, cannot find gsl library. Testing on zero in mpi mode, 16. Testing on farm, mpi mode with snow, 16 cores.&lt;/p&gt;
&lt;p&gt;hmm, high (9%) memory usage on primates.R on zero… monitoring situation closely… Only .3% on farm so far, which has 24G instead of zero’s 32Gig RAM..&lt;/p&gt;
&lt;p&gt;farm runs at 16 cores, bm vs ouch: successful. Little difference in differing optima between new and old world monkeys vs brownian motion:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6091130793_5ed3f89e87_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Running bm vs alphas models on primates, 64 cpu on farm&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running sigmas vs alphas model as primates2.R, 64 cpu on farm&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;estimate of sigmas model on primates data is very slow relative to alpha, etc.  hmm..&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running ou vs alphas on parrotfish.R 64 cpu on farm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(looks like sigmas v alphas but note sigmas is defined as all global, i.e. 1-peak ou, in the model.spec).  Add labrid data to git tracking to facilitate this.  Dramatically better log likelihood on the alphas model, easily supported by the bootstrap: (trait is size-corrected protrusion).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6186/6091578813_d7793634c6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;plotting for parameter distributions is supported from wrightscape, to handle the regimes grouping on matching plots.  A more basic/general one is found in pmc pots.  Should  add a decent general plotting of parameters to mcmcTools, as well as ROC curve tools.&lt;/p&gt;
&lt;p&gt;Updated socialR a bit to allow more minimal details specified in upload, and to work better with reporting from head node following a cluster run.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday: working on computational scaling, ion, etc</title>
   <link href="/2011/08/27/saturday-working-on-computational-scaling-abstraction-etc.html"/>
   <updated>2011-08-27T16:44:09-07:00</updated>
   <id>h/2011/08/27/saturday-working-on-computational-scaling-abstraction-etc</id>
   <content type="html">&lt;p&gt;Can I get a generic montecarlotest function working for both warningsignals and pmc?&lt;/p&gt;
&lt;p&gt;Needs to be able to handle S4 classes as well as S3 classes, or need to define the methods update, simulate, loglik and getParameters for any object that would use the method. i.e. these need to be defined in warningsignals for its functions and in wrightscape/pmc for its creatures. then the generic can be used. Implementing now… Completed. pmc and wrightscape now depend on my mcmcTools package, which now provides the montecarlotest() function. This function can be run piecewise as well using two new functions, compare_models(), and collect(). compare_models contains the abstract parallelization loop, which can be applied in any parallelization manner (including bash-script serial runs of the function) using any lapply formating. Results from separate runs can simply be concatenated and passed to collect(), which does some basic reformatting.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6197/6090938628_313358fec8_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6085/6090932874_d2b3b20cd4_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Seems to be working: pmc example montecarlotest and compare_models() methods seem to show the comparable results.&lt;/p&gt;
&lt;p&gt;Exploring parallelization methods between snow, snowfall, and Rmpi. All working in preliminary examples on carver. All except the snowfall mpi mode work on farm, unfortunately. filed ticket.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# Initialize the Rmpi environment&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(Rmpi)

## load the packages we&amp;#39;ll need
RLIBS=&lt;span class=&quot;st&quot;&gt;&amp;quot;~/R/x86_64-redhat-linux-gnu-library/2.13&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(RLIBS, &lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;()))

### Direct RMPI way:
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;)
slavefn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() { &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello from&amp;quot;&lt;/span&gt;, foldNumber)) }
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.cmd&lt;/span&gt;(foldNumber &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.comm.rank&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(slavefn)
result &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;slavefn&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(result)
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()


&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snow)
## snow method
cluster &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;makeCluster&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;MPI&amp;quot;&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parSapply&lt;/span&gt;(cluster, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;stopCluster&lt;/span&gt;(cluster)

## SNOWFALL method
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(snowfall)
&lt;span class=&quot;co&quot;&gt;# default&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;( &lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpus=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;sfStop&lt;/span&gt;()

&lt;span class=&quot;co&quot;&gt;# snowfall MPI&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;sfInit&lt;/span&gt;( &lt;span class=&quot;dt&quot;&gt;parallel=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cpus=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;MPI&amp;quot;&lt;/span&gt; )
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sfSapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;snow hello from &amp;quot;&lt;/span&gt;, x)))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(out)
&lt;span class=&quot;kw&quot;&gt;sfStop&lt;/span&gt;()

&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;exploring mpi in C on carver. Working example on carver. Will see about pure-C implementations of wrightscape. Pure c on warning signals will wait on better handling of the integration, see earlier &lt;a href=&quot;http://www.carlboettiger.info/archives/1169&quot;&gt;optimization&lt;/a&gt; on this.&lt;/p&gt;
&lt;p&gt;on farm, need to load compiler first:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
module load &lt;span class=&quot;kw&quot;&gt;gcc&lt;/span&gt; openmpi&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>rropensci and some taxonomy in R with taxize</title>
   <link href="/2011/08/26/rfishbase-and-some-taxonomy-in-r-with-taxize.html"/>
   <updated>2011-08-26T16:16:22-07:00</updated>
   <id>h/2011/08/26/rfishbase-and-some-taxonomy-in-r-with-taxize</id>
   <content type="html">&lt;h2 id=&quot;rfishbase&quot;&gt;rfishbase&lt;/h2&gt;
&lt;p&gt;Went through demo of rfishbase with Tomomi.  Improved error handling, added a few data types and a few use cases.&lt;/p&gt;
&lt;p&gt;I always forget that I have to drop nulls by indexing, not my return values of sapply.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

x[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(x, is.null)]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Very annoyed with fishbase id numbers (being discontinuous listings and unable to query xml by anything more intelligent). Querying all fishbase ids 1:30000, I get only 999 fish. hmm. Could this be an R memory issue? No sign of such errors. I also illustrate custom functions for processing output.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;_UPDATE: _&lt;/strong&gt;fixed these errors generally. Seemed specific to zero.  Did run with some memory errors; hopefully avoided. See updated post 09-01-11.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)
&lt;span class=&quot;co&quot;&gt;# Now let&amp;#39;s just grab the entire fishbase database,&lt;/span&gt;
fish.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getData&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;30000&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(fish.data)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;999&lt;/span&gt;

habitatSearch &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(keyword, fish.data){
&lt;span class=&quot;co&quot;&gt;# A function to search for the occurances of a keyword in habitat description&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Args:&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   keyword: pattern to be used by grep&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   fish.data: list of outputs from fishbase(), or from getData()&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Example:&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   data &amp;lt;- getData(1:10)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#   habitatSearch(&amp;quot;feshwater&amp;quot;, data)&lt;/span&gt;
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(x) &lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(keyword, x$habitat) )
  x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.integer&lt;/span&gt;(x)
}

x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;habitatSearch&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;reef&amp;quot;&lt;/span&gt;, fish.data)
reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(x, &lt;span class=&quot;dt&quot;&gt;na.rm=&lt;/span&gt;T)
nonreef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(x))
percent_reef &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;reef/(reef+nonreef)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I’d like to be able to query fishbase by something other than fishbase’s own id numbers, but might have to make that database myself, since they don’t seem to be listed anywhere.&lt;/p&gt;
&lt;h3 id=&quot;taxize&quot;&gt;Taxize&lt;/h3&gt;
&lt;p&gt;Meanwhile, I’m looking into how we can query between common names and scientific names at different levels using the ROpenSci package taxize from Scott. I’ve just made a few modifications to handle some xml parsing with xpath expressions and formatting.  Tweaked some functions in taxize.R script-set for grabbing scientific names.  For instance, if I want all Plethodon salamanders in the &lt;a href=&quot;http://itis.gov&quot;&gt;Integrated Taxanomic Information System&lt;/a&gt; database&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(taxize)
xml &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_itis_xml&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Plethodon &amp;quot;&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;parse_itis&lt;/span&gt;(xml)
&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(out)
                       sci    tsn                                com
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;         Plethodon aeneus &lt;span class=&quot;dv&quot;&gt;208328&lt;/span&gt;                               &amp;lt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;&amp;gt;
&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;     Plethodon ainsworthi &lt;span class=&quot;dv&quot;&gt;668315&lt;/span&gt;               Catahoula Salamander
&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;       Plethodon albagula &lt;span class=&quot;dv&quot;&gt;208278&lt;/span&gt;           Western Slimy Salamander
&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;         Plethodon amplus &lt;span class=&quot;dv&quot;&gt;668316&lt;/span&gt; Blue Ridge Gray-cheeked Salamander
&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt; Plethodon angusticlavius &lt;span class=&quot;dv&quot;&gt;668317&lt;/span&gt;                   Ozark Salamander
&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;         Plethodon asupak &lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;               Scott Bar Salamander&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note I get common names, scientific names, and tsn id numbers. Using a tsn id number I can query the whole taxonomy, by querying by the given tsn ids:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;classification&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;)
       rank            taxon tsn..length.tsn..
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;   Kingdom         Animalia            &lt;span class=&quot;dv&quot;&gt;202423&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;    Phylum         Chordata            &lt;span class=&quot;dv&quot;&gt;158852&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt; Subphylum       Vertebrata            &lt;span class=&quot;dv&quot;&gt;331030&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;     Class         Amphibia            &lt;span class=&quot;dv&quot;&gt;173420&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;     Order          Caudata            &lt;span class=&quot;dv&quot;&gt;173584&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;    Family   Plethodontidae            &lt;span class=&quot;dv&quot;&gt;173631&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;7&lt;/span&gt; Subfamily   Plethodontinae            &lt;span class=&quot;dv&quot;&gt;550197&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;     Genus        Plethodon            &lt;span class=&quot;dv&quot;&gt;173648&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;9&lt;/span&gt;   Species Plethodon asupak            &lt;span class=&quot;dv&quot;&gt;685566&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pretty cool.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>FishBASE from R: some XML parsing</title>
   <link href="/2011/08/26/fishbase-from-r-some-xml-parsing.html"/>
   <updated>2011-08-26T03:51:29-07:00</updated>
   <id>h/2011/08/26/fishbase-from-r-some-xml-parsing</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://fishlab.ucdavis.edu/?p=395&quot;&gt;cross-posted&lt;/a&gt; from Wainwright Lab blog, archiving in the notebook here. This early tutorial includes some background on XML parsing from R using XPath. See the later rfishbase &lt;a href=&quot;http://www.carlboettiger.info/archives/2529&quot;&gt;tutorial&lt;/a&gt; for more functionality.&lt;/p&gt;
&lt;p&gt;In lab known for its quality data collection, high-speed video style, writing the weekly blog post can be a bit of a challenge for the local code monkey. That’s right, no videos today. But lucky for me, even this group can still make good use of publicly available data. Like the other day, when one of our newer graduate students wanted to do a certain degree of data-mining from information available from &lt;a href=&quot;http://fishbase.org&quot;&gt;FishBASE&lt;/a&gt;. Now I’m sure there are plenty of reasons to grumble about it, but there’s quite an impressive bit of information available on FishBASE, most of it decently referenced if by no means comprehensive. And getting that kind of information quickly and easily is rapidly becoming a skill every researcher needs. So here’s a quick tutorial of the tools to do this.&lt;/p&gt;
&lt;p&gt;Okay, so what are we talking about? Let’s start with an example fishbase page on Nile tilapia:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6076/6074984408_1692760c9c.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Okay, so there’s a bunch of information we could start copying down, then go onto the next fish. Sounds pretty tedious for 30,000 species… Now we can get an html copy of this page, but that’s got all this messy formatting we’ll have to dispense with. Luckily, we scroll down a little farther and we see the magic words:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Download XML&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The summary page takes us to just what we were looking for:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6086/6074984352_6f1f9075d5.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;To the human eye this might not look very useful, but to a computer, it’s just what we wanted. ((Well, not acutally. A RESTful interface to this data would be better, where we could query by the different categories, finding all fish of a certain family or diet, but we’ll manage just fine from here, just might be a bit slower)) It’s XML - eXtensible Mark-up Language: meaning it’s all the stuff on the previous page, marked up with all these helpful tags so that a computer can make sense of the document. ((Actually, not everything on the html page. Between the broken links, there’s tons of information like the life history tool, diet data references, etc that somehow haven’t made it into the XML summary sheet.))&lt;/p&gt;
&lt;p&gt;To process this, we’ll fire up our &lt;a href=&quot;http://www.r-project.org&quot;&gt;favorite language&lt;/a&gt; and start scripting. To access the internet from R we’ll use a the command-line url browser, curl, available in the RCurl package. We’ll process XML with the XML package, so let’s load that too. Install these from CRAN if you don’t have them:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(XML)
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RCurl)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Click on that XML link to the summary page, and note how the url is assembled: http://fishbase.sinica.edu.tw/maintenance/FB/showXML.php?identifier=FB-2&amp;amp;ProviderDbase;=03&lt;/p&gt;
&lt;p&gt;The thing to note here is what followers the php?. There’s something called an identifier, which is set equal to the value FB-2. 2 is the id number of Nile tilapia. Change that to 3 (leave the rest the same) and you get African perch.&lt;/p&gt;
&lt;p&gt;We can grab the content of this page in R and parse the XML using these two packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
fish.id &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
 url &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://fishbase.sinica.edu.tw/&amp;quot;&lt;/span&gt;,
               &lt;span class=&quot;st&quot;&gt;&amp;quot;maintenance/FB/showXML.php?identifier=FB-&amp;quot;&lt;/span&gt;,
              fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;amp;ProviderDbase=03&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
  tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURLContent&lt;/span&gt;(url, &lt;span class=&quot;dt&quot;&gt;followlocation=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
  doc &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlParse&lt;/span&gt;(tt)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We create the url with a given fish id. Then the getURLContent line is the equivalent of pointing your browser to that url. Because the page is XML, we then read or parse the page with xmlParse, creating an R object representation of all that XML. We are ready to rock and roll.&lt;/p&gt;
&lt;p&gt;If you look closely at the XML, you’ll see all these placed around the information we want, like the scientific names, identifying what they are. For instance, we see the lines that look like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dwc:Family&amp;gt;&lt;/span&gt;Cichlidae&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dwc:Family&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dwc:Genus&amp;gt;&lt;/span&gt;Oreochromis&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dwc:Genus&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Clearly these are telling us the family and the Genus for this creature. The computer just has to look for the tag (this whole entry is called a node) and that’s the family. The dwc stands for Darwin Core, which is a big language or ontology created explicitly for taxonomic applications. It tells the computer that “Family” in Darwin-Core speak, is precisely the taxonomic meaning of the word. The computer can go and look up the dwc “namespace” given at the beginning of this document to learn exactly what that word means.&lt;/p&gt;
&lt;p&gt;To grab this text using R, we simply ask for the value of the node named dwc:Family:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  Family &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;st&quot;&gt;&amp;quot;//dwc:Family&amp;quot;&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]) 
  Family&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There’s two commands combined in that line. getNodeSet() is the first, getting any nodes that have the name dwc:Family anywhere (the // means anywhere) in the document. The [[1]] indicates that we want the first node it finds (since there’s only one of these in the entire document). Specifying which node we want makes use of the&lt;a href=&quot;http://www.w3schools.com/xpath/default.asp&quot;&gt;xpath syntax&lt;/a&gt;, a powerful way of navigating XML which we’ll use more later.&lt;/p&gt;
&lt;p&gt;The xmlValue command just extracts the contents of that node, now that we’ve found it. If we ask R for the value it got for Family, it says Cichlidae, just as expected.&lt;/p&gt;
&lt;p&gt;That was easy. We can do the same for Genus, Scientific Name, etc. As we go down the XML document, we see some of the information we want isn’t given a uniquely labeled node.&lt;br /&gt;For instance, the information for size, habitat, and distribution are all under nodes called . Closer look shows these nodes are under “parent” nodes, all called . If we look at the other “child” nodes of these nodes, we see they also have a node called , like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dataObject&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:identifier&amp;gt;&lt;/span&gt;FB-Size-2&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:identifier&amp;gt;&lt;/span&gt;
  ... other stuff ....
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:description&amp;gt;&lt;/span&gt; Text We need &lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:description&amp;gt;&lt;/span&gt;
  ... other stuff ....
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dataObject&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That identifier node tells us that this dataObject has size information. We can grab the content of that dc:description by first finding the identifier that says FB-Size-2, going up to it’s parent dataObject, and asking that dataObject for it’s child node called description. Like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  size_node &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;//dc:identifier[string(.) =&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;FB-Size-&amp;quot;&lt;/span&gt;, fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;#39;]/..&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;))
size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;( size_node[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;st&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;]] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, so that looks crazy complicated – guess we got in a bit deep. See that link to xpath above? That’s a wee tutorial that will explain most of what’s going on here. It’s pretty simple if you take it slow. Using these kind of tricks, we can extract just the information we need from the XML.&lt;/p&gt;
&lt;p&gt;Meanwhile, if you want the fast-track option, I’ve put this together in a little R package called &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;rfishbase&lt;/a&gt;. The package has a function called fishbase() which extracts various bits of information using these calls. Once you get the hang of it you can modify it pretty easily. I do a little extra processing to get numbers from text using &lt;a href=&quot;http://en.wikipedia.org/wiki/Regular_expression&quot;&gt;Regular Expressions&lt;/a&gt;, a sorta desperate but powerful option when everything isn’t nicely labeled XML.&lt;/p&gt;
&lt;p&gt;Using this function we query a fish id number and get back the data in a nice R list, which we can happily manipulate. Here’s a quick demo:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(rfishbase)

## a general function to loop over all fish ids to get data
getData &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fish.ids){
  &lt;span class=&quot;kw&quot;&gt;suppressWarnings&lt;/span&gt;(
    &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(fish.ids, function(i) &lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;fishbase&lt;/span&gt;(i)))
  )
}

&lt;span class=&quot;co&quot;&gt;# A function to extract the ages, handling missing values&lt;/span&gt;
get.ages &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fish.data){
              &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(fish.data, function(out){
                 if(!(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(out,&lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)))
                   x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;out$size_values[[&lt;span class=&quot;st&quot;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;]]
                 else
                   x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                 x
               })
  
}

&lt;span class=&quot;co&quot;&gt;# Process all the XML first, then extract the ages &lt;/span&gt;
fish.data &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getData&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;)
yr &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get.ages&lt;/span&gt;(fish.data)

&lt;span class=&quot;co&quot;&gt;# Plot data&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(yr, &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Age Distribution&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;age (years)&amp;quot;&lt;/span&gt;); &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note we take a bit of care to avoid the missing values using try() function. Here’s the results:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm7.static.flickr.com/6090/6074128436_9d3137acd7.jpg&quot;&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6090/6074128436_9d3137acd7.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Kinda cool, isn’t it?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>DataCite Day 2</title>
   <link href="/2011/08/25/datacite-day-2.html"/>
   <updated>2011-08-25T01:14:58-07:00</updated>
   <id>h/2011/08/25/datacite-day-2</id>
   <content type="html">&lt;h4 id=&quot;am1030amsession-4-data-and-the-scholarly-output&quot;&gt;9:00am–10:30am Session 4: Data and the Scholarly Output&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MacKenzie Smith, Research Director, MIT Libraries. Orcid: the Open Researcher and Contributor ID Registry. (&lt;a href=&quot;http://t.co/BoYZIGA&quot;&gt;slides&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Greg Janee, Digital Library Research Specialist, Earth Research Institute, University of California, Santa Barbara. Earth Science Data:Second-Class Citizen in the Scholarly Record.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;see great example of the &lt;a href=&quot;http://www.cru.uea.ac.uk/cru/projects/acrid/&quot;&gt;ACRID database&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Dr. Micah Altman, Archival Director, Henry A. Murray Research Archive, Senior Research Scientist, Harvard University. Principle for Data Citation. (&lt;a href=&quot;http://t.co/7frbYf7&quot;&gt;Prezi Slides&lt;/a&gt;) (includes summary from Harvard’s &lt;a href=&quot;http://projects.iq.harvard.edu/datacitation_workshop/&quot;&gt;Citation Principles workshop&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;am1230pmsession-5-the-role-of-data-archives-and-data-centers-in-identifying-and-preserving-data&quot;&gt;11:00am–12:30pm Session 5: The Role of Data Archives and Data Centers in Identifying and Preserving Data&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Sarah Callaghan, Senior Research Scientist and Project Manager, British Atmospheric Data Centre at STFC. Citation and Publication by NERC’s Environmental Data Centres.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bob Cook, Chief Scientist, Oak Ridge National Laboratory Distributed Active Archive Center, Environmental Sciences Division, Oak Ridge National Lab. Archiving Earth Science Data: Experiences of the ORNL Distributed Active Archive Center.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mr. Uwe Schindler, PANGAEA, Data Publisher for Earth and Environmental Science, University of Bremen. PANGAEA - Data Publisher in the context of the ICSU World Data System.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;pm---300pmsession-6-publishers-and-research-data---roundtable-discussion&quot;&gt;1:30pm - 3:00pm Session 6: Publishers and Research Data - Roundtable Discussion&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Dr. Hylke Koers, Content Innovation Manager, Innovation &amp;amp; Product Development, S&amp;amp;T Journals, Elsevier. Integrating Data and the online Article on SciVerse ScienceDirect.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Chuck Koscher, Director of Technology, CrossRef. Linking with Meaning: Relating Content.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jennifer Lin, Product Manager, PLoS. Perspectives on Open Access and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Open Data.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;3:00pm - 3:30pm Break&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;3:30pm -4:00pm Session 7: DataCite: Looking Ahead&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Adam Farquhar, Head of Digital Scholarship, Scholarship and Collections, The British Library&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian Peters, Software Developer, German National Library of Science and Technology. Technical Highlights and the Road Ahead.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;reflections&quot;&gt;Reflections&lt;/h2&gt;
&lt;p&gt;Conferences are really about people.  Nice to the see familiar faces: Heather Piowowar, Jason Priem, Karthik Ram, Carly Strasser, William Gunn.  Nice to finally meet Dario Taraborelli (ReaderMeter).  Good to see Trisha Cruse, John Kunze, and Stephen Abrams for CDL, and meet some of the others from CDL.   Good to meet Sylvia Spengler NSF’s program director for information integration and Informatics.  Ben Rubin from Elseviers developer portal, and talk to Eric Kansa on use of Merritt in social sciences in Berkeley, (and the Edinborough georeferencing text software).  And of course the tweeps who I didn’t get to catch in person but enjoyed the online interactions none the less: Todd Carpenter, Sarah Callaghan.&lt;/p&gt;
&lt;p&gt;Highlight discussions from some of the breaks:  (1) Where’s the snoody journal of data, where it’s really hard to get data accepted due to broad impact and high standards required?  (2) Do we need a research on effective research?  How do we generate such a community?&lt;/p&gt;
&lt;p&gt;Also see:  &lt;a href=&quot;https://docs.google.com/document/d/1xDOy9GXXrUFc9TUIR2C470DTau8JEgZ9k-SMNIx5pb8/edit?hl=en_US&amp;amp;authkey=CMeCqOYD&quot;&gt;Decoupling the Scholarly Journal&lt;/a&gt;, from Jason Priem.&lt;/p&gt;
&lt;p&gt;Should also look into granular identifiers for my notebook objects, so I can capture version history in the image log as well as code log.&lt;/p&gt;
&lt;h3 id=&quot;reflections-notes-from-others&quot;&gt;Reflections &amp;amp; notes from others&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://inundata.org/2011/08/25/datacite-2011-recap/&quot;&gt;Reflections from Karthik&lt;/a&gt;on DataCite 2011.&lt;/p&gt;
&lt;p&gt;Twitter log to much to archive here, but William Gunn has put together a nice collection of the links/references shared during over the feed on &lt;a href=&quot;http://storify.com/mrgunn/links-to-datacite-presentations-and-sites-mentione?awesm=sfy.co_FgI&amp;amp;utm_campaign=mrgunn&amp;amp;utm_medium=sfy.co-twitter&amp;amp;utm_source=direct-sfy.co&amp;amp;utm_content=storify-pingback&quot;&gt;storify&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;DataCite will probably make an official compilation of slides, etc, so more references soon. Also feel free to note others in the comments.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>DataCite Day 1</title>
   <link href="/2011/08/24/datacite-day-1.html"/>
   <updated>2011-08-24T01:10:51-07:00</updated>
   <id>h/2011/08/24/datacite-day-1</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;12:00pm–1:00pm Lunch&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1:15pm–2:00pm Keynote Address: John Wilbanks, Vice President for Science, Creative Commons. Citation in the Commons. (&lt;a href=&quot;http://www.slideshare.net/wilbanks/datacite-wilbanks&quot;&gt;Slides&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Find -&amp;gt; access -&amp;gt; understand -&amp;gt; be influenced -&amp;gt; cite.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Lesson of the Library of Babel, Early Web (Greenspun, 1995) Simple and weak is best – scalable.  (&lt;a href=&quot;http://t.co/uKj52Ql&quot;&gt;Rule of least power&lt;/a&gt;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;2:00pm–3:30pm Session 1: Exposing Dataset DOIs and Citations&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Heather Piwowar, DataONE Postdoctoral Researcher, NESCent and Dryad. Tracking Data Reuse: Motivations, Methods, and Obstacles. &lt;a href=&quot;http://www.slideshare.net/hpiwowar/data-citation-from-the-perspective-of-tracking-data-reuse&quot;&gt;Slides&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Highlights 3 challenges: (1) Lack the tools – can’t search by DOI.  (2) Can’t Scale.  (3) Can’t get credit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Total Impact Citations tool: &lt;a href=&quot;http://total-impact.org/report.php?id=jjwTQt&quot;&gt;http://total-impact.org&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Heather’s research notebook: &lt;a href=&quot;https://notebooks.dataone.org/piwowar/&quot;&gt;https://notebooks.dataone.org/piwowar/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Hailey Mooney, Data Services and Reference Librarian, Michigan State University Libraries. Building Data Citations for Discovery.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Elizabeth Moss, Librarian, &lt;a href=&quot;http://www.icpsr.umich.edu/icpsrweb/ICPSR/&quot;&gt;ICPSR&lt;/a&gt;, University of Michigan. Cite the Data! ICPSR’s Efforts to Improve Practice.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4:00pm–5:30pm Session 2: Beyond Citing Data: Trends and Practices&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;John Kunze, Associate Director, University of California Curation Center, California Digital Library. Baby Steps Towards Data Publication.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jason Priem, Graduate Student, School of Information and Library Science, University of North Carolina. Toward a Second Revolution: Data Citation, Altmetrics, and the Decoupled Journal.  &lt;a href=&quot;https://docs.google.com/present/view?id=0ASyDkfrsAcUjZGRmZzc4N2NfMjgwZjU3aDVuZ3E&amp;amp;hl=en_US&quot;&gt;Slides&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Joel Hammond, Director, Product Management &amp;amp; Development IP &amp;amp; Science Thomson Reuters. Exposing Dataset DOIs and Citations.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;5:30pm-6:15pm Session 3: Pecha Kucha – Rapid Fire Talks From DataCite Partners&lt;/p&gt;
&lt;p&gt;6:30pm–9:00pm Reception&lt;/p&gt;
&lt;h3 id=&quot;select-from-my-twitter-log&quot;&gt;Select from my twitter-log&lt;/h3&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; on the @&lt;a href=&quot;http://twitter.com/GigaScience&quot;&gt;GigaScience&lt;/a&gt; tweetnome &lt;a href=&quot;http://t.co/YMfZiW3&quot;&gt;http://t.co/YMfZiW3&lt;/a&gt; rapid publication of e.coli outbreak genome #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt; @&lt;a href=&quot;http://twitter.com/chrismentzel&quot;&gt;chrismentzel&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; can penetrate the science community when it makes a difference in the scale/quality of the science we do(?)&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; “What would scholarly comm look like if it were built from scratch today?” Priem’s ans: Doesn’t matter, can’t do that #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/TAC_NISO&quot;&gt;TAC_NISO&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; Journals are the best we can do with 17th century technology. We can do better&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt;: Slides up #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;, “Toward a second revolution: Data citation, altmetrics, and the decoupled journal” &lt;a href=&quot;http://t.co/p16Y735&quot;&gt;http://t.co/p16Y735&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; summarizes citation practices &lt;person&gt; &lt;uses&gt; &lt;resource&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt; asks what about diff types of use? person? resource?&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sylvia from NSF speaks on citation of data in biosketches, etc. Suggests NSF needs instructions to PIs for reference proposals #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt;: #&lt;a href=&quot;http://search.twitter.com/search?q=%23Mendeley&quot;&gt;Mendeley&lt;/a&gt; is working on adding dataset as a type as well #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Evidence that younger researchers are more protective of their data than established ones. Published in &lt;a href=&quot;http://t.co/FMr6Df7&quot;&gt;http://t.co/FMr6Df7&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt;&lt;/strong&gt; &lt;a href=&quot;http://t.co/jbblmj7&quot;&gt;http://t.co/jbblmj7&lt;/a&gt; , a tool from @&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; and @&lt;a href=&quot;http://twitter.com/jasonpriem&quot;&gt;jasonpriem&lt;/a&gt; being shown at #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; See @&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; notebook on tracking 1000 data sets &lt;a href=&quot;http://t.co/CRrceXI&quot;&gt;http://t.co/CRrceXI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/researchremix&quot;&gt;researchremix&lt;/a&gt; shows evidence that data deposition is a good investment in Nature piece:&lt;a href=&quot;http://t.co/jlpkXoW&quot;&gt;http://t.co/jlpkXoW&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; Academia is not providing a data firehose, so everyone is mining facebook &amp;amp; twitter instead #&lt;a href=&quot;http://search.twitter.com/search?q=%23makeAPIsnotWebsites&quot;&gt;makeAPIsnotWebsites&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; discusses creating a data-journal, Open Network Biology. &lt;a href=&quot;http://t.co/codi2Lv&quot;&gt;http://t.co/codi2Lv&lt;/a&gt; and challenges of reviewing such articles #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; calls for data solutions that follow the Rule of Least Power: &lt;a href=&quot;http://t.co/uKj52Ql&quot;&gt;http://t.co/uKj52Ql&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23datacite&quot;&gt;datacite&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Need evolving system - @&lt;a href=&quot;http://twitter.com/wilbanks&quot;&gt;wilbanks&lt;/a&gt; cites this early attack on HTML and the resulting beautiful fix in css:&lt;a href=&quot;http://t.co/h96f17Y&quot;&gt;http://t.co/h96f17Y&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Greenspun P (1995). “we Have Chosen Shame And Will Get War.” &lt;em&gt;Journal of Electronic Publishing&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.3998/3336451.0001.137&quot;&gt;http://dx.doi.org/10.3998/3336451.0001.137&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: rropensci, Rmpi, manuscripts, ...</title>
   <link href="/2011/08/23/tuesday-rfishbase-rmpi-manuscripts.html"/>
   <updated>2011-08-23T08:10:24-07:00</updated>
   <id>h/2011/08/23/tuesday-rfishbase-rmpi-manuscripts</id>
   <content type="html">&lt;h2 id=&quot;rfishbase&quot;&gt;rfishbase&lt;/h2&gt;
&lt;p&gt;In answer to Tomomi’s question from last week, have basic functionality as an R package on github, &lt;a href=&quot;https://github.com/cboettig/rfishbase&quot;&gt;rfishbase&lt;/a&gt;. Learned some slightly richer XML parsing in the process.&lt;/p&gt;
&lt;h3 id=&quot;xml-notes&quot;&gt;XML Notes&lt;/h3&gt;
&lt;p&gt;Had to identify blocks by a child node that specifies the identity, and then find the sibling node that contains the content I needed. Goes something like this:&lt;/p&gt;
&lt;pre class=&quot;sourceCode xml&quot;&gt;&lt;code class=&quot;sourceCode xml&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;dataObject&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:identifier&amp;gt;&lt;/span&gt;FB-Size-2&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:identifier&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;&amp;lt;dc:description&amp;gt;&lt;/span&gt; Text I need &lt;span class=&quot;kw&quot;&gt;&amp;lt;/dc:description&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;&amp;lt;/dataObject&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which I parsed in R as:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 size_node &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getNodeSet&lt;/span&gt;(doc, &lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;//dc:identifier[string(.) =&lt;/span&gt;
&lt;span class=&quot;st&quot;&gt;                          &amp;#39;FB-Size-&amp;quot;&lt;/span&gt;, fish.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;#39;]/..&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;), namespaces)
  size &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;xmlValue&lt;/span&gt;( size_node[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;st&quot;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;]] )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that because we specify the exact node, we get only one return item and we can call size_node[[1]]. Note that fish.id is part of the identifier, and the use of the string(.)= to get the content of the identifier. We use xmlValue to get the description element out, though other ways are possible (such as sapply xmlToList). See code for details.&lt;/p&gt;
&lt;h3 id=&quot;regexp-notes&quot;&gt;RegExp Notes&lt;/h3&gt;
&lt;p&gt;Also did some regular expressions parsing for size information, which isn’t intelligently coded in the XML. Found the &lt;a href=&quot;http://regexlib.com/&quot;&gt;regexplib website&lt;/a&gt; particularly useful for looking up expressions, for instance, for handling numbers with commas and different units. This &lt;a href=&quot;http://www.addedbytes.com/download/regular-expressions-cheat-sheet-v2/png/&quot;&gt;cheat-sheet&lt;/a&gt; also helps.&lt;/p&gt;
&lt;p&gt;In particular, getting weight units was a bit tricky:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;.+published weight: ( (&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d|,)*&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;.?&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;d*) (g|kg).+&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;\\&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;1&amp;quot;&lt;/span&gt;, size)
  weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;gsub&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;,&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, weight)) &lt;span class=&quot;co&quot;&gt;# remove commas&lt;/span&gt;
  if(units==&lt;span class=&quot;st&quot;&gt;&amp;quot;kg&amp;quot;&lt;/span&gt;)
    weight &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;weight*&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;implementation-and-examples&quot;&gt;Implementation and Examples&lt;/h3&gt;
&lt;p&gt;Error handling is quite necessary as there’s lots of missing data. Compute times are a bit slow, but able to create a few smart examples.&lt;/p&gt;
&lt;p&gt;Age distribution for ids 2-500, minus those missing. Image will link to code.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6090/6074128436_82b96c5104_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;rmpi&quot;&gt;Rmpi&lt;/h2&gt;
&lt;p&gt;A couple difficulties in my earlier shell scripts on carver/hopper. Re-testing these now. SUCCESS. Test script simple.sh is working on Carver.&lt;/p&gt;
&lt;p&gt;simple.sh:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -l walltime=00:10:00&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -q debug&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -l nodes=2:ppn=8&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -N simple&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#PBS -j oe&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;$PBS_O_WORKDIR&lt;/span&gt;
module load R/2.12.1
R -f simple.R&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Test R file:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Rmpi&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;15&lt;/span&gt;)
slavefn &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function() { &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Hello from&amp;quot;&lt;/span&gt;, foldNumber)) }
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.cmd&lt;/span&gt;(foldNumber &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.comm.rank&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(slavefn)
result &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;slavefn&lt;/span&gt;())
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(result)
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Academic Year 2011 Summary</title>
   <link href="/2011/08/21/academic-year-2011-summary.html"/>
   <updated>2011-08-21T16:46:13-07:00</updated>
   <id>h/2011/08/21/academic-year-2011-summary</id>
   <content type="html">&lt;p&gt;Brief summary of events for this past academic year, as submitted to my dissertation committee.&lt;/p&gt;
&lt;h2 id=&quot;talks&quot;&gt;TALKS&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Model Choice for Phylogenetic Comparative Methods, Evolution 2010&lt;/li&gt;
&lt;li&gt;Computational Methods for comparative inference (poster), DoE CSGF Meeting, 2010.&lt;/li&gt;
&lt;li&gt;My experiment with open notebook science, iEvoBio 2010&lt;/li&gt;
&lt;li&gt;Power in Phylogenetic Comparative Methods, SICB 2011&lt;/li&gt;
&lt;li&gt;Open Notebook Science - Connections to databases. Science Online, 2011&lt;/li&gt;
&lt;li&gt;General model of evolution for continuous traits on phylogenies, Evolution 2011&lt;/li&gt;
&lt;li&gt;Automated meta-analyses via an R - TreeBASE package, iEvoBio 2011&lt;/li&gt;
&lt;li&gt;Early Warning Signals, ESA 2011.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;papers&quot;&gt;PAPERS:&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Power in Phylogenetic Comparative Methods: &lt;em&gt;Submitted&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Early Warning Signals: &lt;em&gt;Submitted&lt;/em&gt;.&lt;/li&gt;
&lt;li&gt;Preparing general phylogenetic model for continuous traits&lt;/li&gt;
&lt;li&gt;Preparing TreeBASE R package – as an applications note.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;service&quot;&gt;SERVICE&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Assisted organizing the CPB workshop on Hierarchical Modeling.&lt;/li&gt;
&lt;li&gt;Orientation talk for first year CPB students on computer tools to for organizing research (Bib. management, electronic notebooks, professional website, networking tools)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Organized a CPB workshop&lt;/a&gt; on Data Management.&lt;/li&gt;
&lt;li&gt;Co-chaired the &lt;a href=&quot;http://gtc-blog.blogspot.com/&quot;&gt;Graduate Teaching Community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Co-chair the &lt;a href=&quot;http://daviswiki.org/Davis_Open_Science&quot;&gt;student group on Open Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Instructor in the &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Boettiger%29_2011&quot;&gt;UC Davis Bodega Phylogenetics Workshop&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Student member on the steering committee for the CPB program review.&lt;/li&gt;
&lt;li&gt;Student panel member interviewing candidates for the CBS Dean search.&lt;/li&gt;
&lt;li&gt;Taught two sessions for the CPB Core on computational methods for phylogenetic interference&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: reviewing edits, ropensci, computers.</title>
   <link href="/2011/08/18/thursday-reviewing-edits-fishbase-computers.html"/>
   <updated>2011-08-18T08:03:16-07:00</updated>
   <id>h/2011/08/18/thursday-reviewing-edits-fishbase-computers</id>
   <content type="html">&lt;h2 id=&quot;graham-peter-meeting&quot;&gt;Graham &amp;amp; Peter meeting&lt;/h2&gt;
&lt;p&gt;Going over review and figuring out how to address issues.  Plan: Will write our line-by-line responses under the reviewer comments in the Google Doc.  Peter and I will implement remaining changes on the .tex file, then we’ll compose the reply letter from the notes under the comments and include the latex-diff.&lt;/p&gt;
&lt;p&gt;Brief topic notes from today’s meeting:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;set up different take on layout: lambda, AIC, power&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parameter estimates on over-parameterized&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;opten implicit nulls&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;eb bootstrapping is power analysis&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rules of thumb only so good, simulate easy.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;delta = aic + k&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;intro on aic use for finding “good enough models” not inferring process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;we do stepwise B&amp;amp;K approach (as our recommended approach)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fishbase-interface&quot;&gt;FishBASE interface&lt;/h2&gt;
&lt;p&gt;Tomomi had an interesting query re FishBASE today - she’d like to be able to sweep through the database and extract certain information such as genus, maximum published weight, etc.  While there doesn’t seem to be a documented API per se. the&lt;a href=&quot;http://fishbase.us/Summary/SpeciesSummary.php?ID=2&quot;&gt;individual reference pages&lt;/a&gt; include a link to an &lt;a href=&quot;http://fishbase.sinica.edu.tw/maintenance/FB/showXML.php?identifier=FB-2&amp;amp;ProviderDbase=03&quot;&gt;XML summary sheet&lt;/a&gt;, where at least some of this information is intelligently tagged.  So we can easily set up some R functions with the help of XML and xpath to start grabbing the relevant information.&lt;/p&gt;
&lt;h2 id=&quot;mpi-computing&quot;&gt;MPI Computing&lt;/h2&gt;
&lt;p&gt;Looks like a hardware failure may have been responsible for my crashed MPI job on farm cluster.  Waiting to hear more from admin.  Likewise waiting on NERSC help on the batch R process on compute nodes.  step by step….&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: migrating codes into MPI</title>
   <link href="/2011/08/17/wednesday-migrating-codes-into-mpi.html"/>
   <updated>2011-08-17T15:53:33-07:00</updated>
   <id>h/2011/08/17/wednesday-migrating-codes-into-mpi</id>
   <content type="html">&lt;h2 id=&quot;parellelizationscaling-of-code&quot;&gt;Parellelization/Scaling of code&lt;/h2&gt;
&lt;p&gt;MPI on farm cluster&lt;/p&gt;
&lt;p&gt;Got my MPI codes running.&lt;br /&gt;Much better way to get jobs into the queue, asking for 16 threads that don’t have to be on the same node is much faster. Can also ask for 161 threads, but will wait longer in the queue.&lt;/p&gt;
&lt;p&gt;The trick to getting this to run was mostly getting the library set correctly. Setting the library path at the top of the script did the trick:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
RLIBS=&lt;span class=&quot;st&quot;&gt;&amp;quot;~/R/x86_64-redhat-linux-gnu-library/2.13&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(RLIBS, &lt;span class=&quot;kw&quot;&gt;.libPaths&lt;/span&gt;()))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;From there I can initialize an MPI instance, set up exit conditions, load variables and functions to the slave nodes and then have them all execute the desired function:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

N &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# n-1 from the threads allocated(?) &lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(Rmpi)
&lt;span class=&quot;kw&quot;&gt;mpi.spawn.Rslaves&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;nslaves=&lt;/span&gt;N)

## Clean-up 
.Last &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(){
    if (&lt;span class=&quot;kw&quot;&gt;is.loaded&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;mpi_initialize&amp;quot;&lt;/span&gt;)){
        if (&lt;span class=&quot;kw&quot;&gt;mpi.comm.size&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
            &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Please use mpi.close.Rslaves() to close slaves.&amp;quot;&lt;/span&gt;)
            &lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
        }
        &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Please use mpi.quit() to quit R&amp;quot;&lt;/span&gt;)
        &lt;span class=&quot;kw&quot;&gt;.Call&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;mpi_finalize&amp;quot;&lt;/span&gt;)
    }
}

&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(monkey)
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(new_world)
&lt;span class=&quot;kw&quot;&gt;mpi.bcast.Robj2slave&lt;/span&gt;(chains)

mcmc_out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mpi.remote.exec&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;chains&lt;/span&gt;())


&lt;span class=&quot;co&quot;&gt;# close slaves and exit&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;mpi.close.Rslaves&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;mpi.quit&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;save =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Where “chains” is the function earlier defined that runs on each node.&lt;/p&gt;
&lt;p&gt;Hmm… seem to run into trouble scaling this out to 161 nodes. Meanwhile better to run MCMCs as separate jobs, write data to a tmp folder, and then read in with a different script for the analysis, a la Eastman’s approach.&lt;/p&gt;
&lt;h3 id=&quot;nersc-machine&quot;&gt;NERSC machine&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;setup for github: copy .ssh/rda and .ssh/rda.pub&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;installing R packages: load the R module and swap in the intel compilers first&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
module load R/2.12.1
module swap pgi intel
module swap openmpi openmpi-intel &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that format for the batch jobs differs substantially between architectures. Hopper is a Cray, and launches commands with &lt;a href=&quot;http://www.csc.fi/english/pages/louhi_guide/batch_jobs/commands/aprun&quot;&gt;aprun&lt;/a&gt;, see &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/hopper/getting-started/your-first-program/&quot;&gt;example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Carver is an IBM, and seems to use &lt;a href=&quot;http://www.mcs.anl.gov/research/projects/mpi/www/www1/mpirun.html&quot;&gt;mpirun&lt;/a&gt; instead, which appears to be a more general architecture command. See the &lt;a href=&quot;http://www.nersc.gov/users/computational-systems/carver/getting-started/&quot;&gt;Carver example program&lt;/a&gt;.&lt;/p&gt;
&lt;h5 id=&quot;testing&quot;&gt;Testing:&lt;/h5&gt;
&lt;p&gt;Run brute_force example script on Carver and Hopper. Can’t launch R on compute nodes, perhaps a module loading issue. Will need to explore further. Otherwise might be better to move all code down into C and write the MPI there….&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Buy home server? &lt;a href=&quot;http://zareason.com/shop/Breeze-Server-4220.html&quot;&gt;ZaReason Breeze&lt;/a&gt;?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Conferences I’ve followed on twitter this summer: &lt;a href=&quot;http://rcs.columbia.edu/rdlm&quot;&gt;Research Data Lifecycle management&lt;/a&gt;, #rdlmw #useR11 #scifoo11 &lt;a href=&quot;http://www.mitacs.ca/events/index.php?option=com_content&amp;amp;view=article&amp;amp;id=214&amp;amp;Itemid=231&amp;amp;lang=en&quot;&gt;Reproducible Research&lt;/a&gt; (&lt;a href=&quot;http://www.stodden.net/AMP2011/&quot;&gt;talk archive&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wrightscape: a brief tutorial</title>
   <link href="/2011/08/17/wrightscape-a-brief-tutorial.html"/>
   <updated>2011-08-17T07:15:59-07:00</updated>
   <id>h/2011/08/17/wrightscape-a-brief-tutorial</id>
   <content type="html">&lt;p&gt;While the &lt;a href=&quot;https://github.com/cboettig/wrightscape&quot;&gt;wrightscape package&lt;/a&gt; is still in active development, I realize the code base doesn’t contain any introductory examples.  So as a first tutorial, here’s a short walk-through of the package. We begin by loading the package and a few useful additional packages:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(wrightscape&lt;span class=&quot;er&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# My package for this analysis&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(auteur) &lt;span class=&quot;co&quot;&gt;# for the data only&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(maticce) &lt;span class=&quot;co&quot;&gt;# to create paintings&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We’ll load a data set of 233 taxa of primates with their body sizes(REDDING &lt;em&gt;et. al.&lt;/em&gt; 2010), kindly provided by Eastman et al.(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011) in &lt;a href=&quot;http://www.carlboettiger.info/archives/2337&quot;&gt;the Auteur package&lt;/a&gt;. We format this data-set using a wrightscape function, which converts both the tree and the data into the ouch format from the ape/geiger format. (Eventually the conversion step will be automated)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(primates)
monkey &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;format_data&lt;/span&gt;(primates$phy, primates$dat)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We just have to create the “painting” indicating which regimes can be treated separately, as in ouch. We do this using several handy functions from the&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/04/18&quot;&gt;maticce package&lt;/a&gt;. Selecting the common ancestor two arbitrarily chosen species from different families of New World monkeys should do the trick to identify the New World clade, Platyrrhini.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

## Paint the tree with a transition at New World monkeys
new_world_ancestor &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mrcaOUCH&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Ateles_belzebuth&amp;quot;&lt;/span&gt;,
                                 &lt;span class=&quot;st&quot;&gt;&amp;quot;Leontopithecus_caissara&amp;quot;&lt;/span&gt;), 
                               monkey$tree)
new_world &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paintBranches&lt;/span&gt;(new_world_ancestor, monkey$tree,
                            &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;OldWorld&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;NewWorld&amp;quot;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6073/6053510239_a267fea02f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This clade showed a substantially lower rate of body-size evolution in Eastman et al’s RJMCMC analysis under a Brownian model(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011). Now we will test whether that is due to greater stabilizing selection or a greater diversification rate. With the painting and the data, we are ready to construct these wrightscape models.&lt;/p&gt;
&lt;p&gt;Wrighstcape &lt;a href=&quot;http://www.carlboettiger.info/archives/2027&quot;&gt;uses a general model formulation&lt;/a&gt;, of which many common models, such as used by ouch, brownie, and others are subclasses. We can construct these subclasses by fixing certain parameters using the model_spec parameter.&lt;/p&gt;
&lt;p&gt;This specifies which parameters out of alpha, theta, and sigma are independently estimated on each regime, kept global across regimes, or, in the case of alpha, fixed to zero (to give purely Brownian behavior). i.e. ouch model is equivalent to: list(alpha=“global”, sigma=“global”, theta=“indep”), while the brownie model is equivalent to list(alpha=“fixed”, sigma=“indep”, theta=“global”).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

#####  Estimate the models by maximum likelihood, as in OUCH #####
alphas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;monkey$data, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;monkey$tree,
                      &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;new_world,&lt;span class=&quot;dt&quot;&gt;model_spec =&lt;/span&gt; 
                      &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;control =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;))

sigmas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;multiTypeOU&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;monkey$data, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;monkey$tree, 
                      &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;new_world, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt; 
                      &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, 
                      &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;40&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;control=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Starting parameter estimates are given or left to NULL. “method” refers to the optimization, using parameters given in control. We’ll use simulated annealing to get a robust result.&lt;/p&gt;
&lt;p&gt;The code above estimates a novel model, where only the strength of selection, $ $, has changed in across branches in the OU model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \alpha_i ( \theta - X) dt + \sigma dB_t&quot; alt=&quot;dX = \alpha_i ( \theta - X) dt + \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;While the second example runs a Brownian motion model that differs across regimes:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \sigma_i dB_t&quot; alt=&quot;dX = \sigma_i dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Once these have run, we can do a simple comparison by likelihood:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
alphas$loglik -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sigmas$loglik&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To know if this is significant, we would do best to compare the models by PMC (my other package, with upcoming paper):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
alphas_v_sigmas &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;montecarlotest&lt;/span&gt;(alphas, sigmas, &lt;span class=&quot;dt&quot;&gt;cpu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;nboot=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(alphas_v_sigmas)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could instead estimate the posterior distributions by MCMC:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
          &lt;span class=&quot;kw&quot;&gt;phylo_mcmc&lt;/span&gt;(monkey$data, monkey$tree, new_world, 
                     &lt;span class=&quot;dt&quot;&gt;MaxTime=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, 
                     &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;model_spec=&lt;/span&gt;
                     &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;alpha=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;indep&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;global&amp;quot;&lt;/span&gt;),
                     &lt;span class=&quot;dt&quot;&gt;stepsizes=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.05&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course we would do well to parallelize this call over some large number of nodes to get appropriate mixing.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;REDDING D, DeWOLFF C and MOOERS A (2010). “Evolutionary Distinctiveness, Threat Status, And Ecological Oddity in Primates.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eastman J, Alfaro M, Joyce P, Hipp A and Harmon L (2011). “A Novel Comparative Method For Identifying Shifts in The Rate of Character Evolution on Trees.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday:</title>
   <link href="/2011/08/16/tuesday-7.html"/>
   <updated>2011-08-16T12:04:22-07:00</updated>
   <id>h/2011/08/16/tuesday-7</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished first round of edits and sent off to Graham and Peter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring wrightscape runs on additional data sets&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring migrating code into MPI&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: Evolution manuscript revisions; early burst models, etc</title>
   <link href="/2011/08/16/monday-evolution-manuscript-revisions-early-burst-models-etc.html"/>
   <updated>2011-08-16T05:13:46-07:00</updated>
   <id>h/2011/08/16/monday-evolution-manuscript-revisions-early-burst-models-etc</id>
   <content type="html">&lt;h3 id=&quot;evolution-manuscript-edits&quot;&gt;Evolution Manuscript Edits&lt;/h3&gt;
&lt;p&gt;Received the reviews of our evolution manuscript back with relatively straight-forward edits. (Yay!)&lt;/p&gt;
&lt;p&gt;Need better citations of the early history in phylogenetic comparative methods, which is quite rich. Reviewer pointed me to an early book chapter by AW Edwards and LL Cavalli-Sforza introducing Brownian motion model in 1964, of which Joe Felsenstein has a nice description (of this and other work) in his 1988 review(Felsenstein, 1988).&lt;/p&gt;
&lt;p&gt;See private review notes for details.&lt;/p&gt;
&lt;h3 id=&quot;early-bursts&quot;&gt;Early bursts&lt;/h3&gt;
&lt;p&gt;Hadn’t added a wrapper to the early burst model of geiger in pmc. There’s a great paper by Harmon et al. (Harmon &lt;em&gt;et. al.&lt;/em&gt; 2010) last year looking at 49 different phylogenetic trees and comparing BM, OU, and EB on body size, 39 on body shape measurements, and also consider all subclades of n&amp;gt;10 species, finding surprisingly little evidence for EB model. I’d suspect many of these examples fall into the class “cannot tell” rather than definitively belonging to one or the other model. (See supplementary figure 1).&lt;/p&gt;
&lt;p&gt;The authors use AICc, and include a bootstrap analysis which suggests relatively robust model choice above 10 taxa. The reason for this is that the models being compared are not estimated from the data. The authors fix parameters for each of the three models, BM, OU, EB, and simulate 100 trait data sets (on each tree). On each, one tends to make the correct choice by AICc.&lt;/p&gt;
&lt;p&gt;In our approach, we &lt;em&gt;estimate&lt;/em&gt; BM/OU/EB model parameters from the data, and simulate all replicates under that. Imagine a rich data set that is clearly from EB by any criteria. The estimated BM model for this data-set has a worse log-likelihood. Yet simulations from that estimated model can be very difficult to tell apart from the simulations of the EB model &lt;em&gt;that has been estimated from the same data&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Consequently we find in our approach that we cannot tell between data simulated under the specified EB model and the other models:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6193/6049627283_cbf468cc4e_o.png&quot; /&gt; &lt;img src=&quot;http://farm7.staticflickr.com/6066/6050179134_de4b740944_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;aicc&quot;&gt;AICc&lt;/h3&gt;
&lt;p&gt;Also added AICc comparison along with AIC and BIC (calculated but the updated plot command). Of course as none of the criteria estimate any measure of uncertainty, it doesn’t do any better, just pushes the false positive and false negative errors around a bit:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.staticflickr.com/6187/6046471361_9616dfdd4a_o.png&quot; /&gt;  &lt;img src=&quot;http://farm7.staticflickr.com/6183/6046471291_057f23129d_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;However, summary patterns are still going to be necessary, particularly for large meta-analyses such as the EB example. AUC of the ROC might be a promising thing to explore here.&lt;/p&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;wrightscape&lt;/h3&gt;
&lt;p&gt;Luke Mahler is trying out my wrightscape code (prerelease version, from github). Some trouble apparently in compiling from source, probably in getting RTools and GSL libraries to cooperate, luckily winbuilder builds me a quick binary successfully, now available on &lt;a href=&quot;https://github.com/cboettig/pmc/downloads&quot;&gt;github downloads&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Doesn’t really have any good demos set up yet. Should add some use cases. Might be interesting to test the sets studied by Eastman &lt;em&gt;et al.&lt;/em&gt;(Eastman &lt;em&gt;et. al.&lt;/em&gt; 2011), Turtles (see Jaffe et al. 2011(Jaffe &lt;em&gt;et. al.&lt;/em&gt; 2011); 226 species) and female body mass for primates (see Redding et al. 2010(REDDING &lt;em&gt;et. al.&lt;/em&gt; 2010); complete sampling of 233 species).&lt;/p&gt;
&lt;h3 id=&quot;compute-jobs&quot;&gt;Compute Jobs&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;early_burst_example.R added and submitted to farm.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;rerunning power_analysis.R for comparison on zero.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;p&gt;Wordpress academic &lt;a href=&quot;https://docs.google.com/document/d/1YeOgB9yzuIAdir1Sy-TGMqSdQjZDClmVTMtY-Z125LM/edit?pli=1&quot;&gt;plugins list&lt;/a&gt; from Peter Krautzberger Adam Wilson’s &lt;a href=&quot;http://hydrodictyon.eeb.uconn.edu/people/wilson/pubs.html&quot;&gt;page&lt;/a&gt; at UConn&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Felsenstein J (1988). “Phylogenies And Quantitative Characters.” &lt;em&gt;Annual Review of Ecology And Systematics&lt;/em&gt;, &lt;strong&gt;19&lt;/strong&gt;. ISSN 0066-4162, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.es.19.110188.002305&quot;&gt;http://dx.doi.org/10.1146/annurev.es.19.110188.002305&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Harmon L, Losos J, Jonathan Davies T, Gillespie R, Gittleman J, Bryan Jennings W, Kozak K, McPeek M, Moreno-Roark F, Near T, Purvis A, Ricklefs R, Schluter D, Schulte II J, Seehausen O, Sidlauskas B, Torres-Carvajal O, Weir J and Mooers A (2010). “Early Bursts of Body Size And Shape Evolution Are Rare in Comparative Data.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01025.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eastman J, Alfaro M, Joyce P, Hipp A and Harmon L (2011). “A Novel Comparative Method For Identifying Shifts in The Rate of Character Evolution on Trees.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jaffe A, Slater G and Alfaro M (2011). “The Evolution of Island Gigantism And Body Size Variation in Tortoises And Turtles.” &lt;em&gt;Biology Letters&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. ISSN 1744-9561, &lt;a href=&quot;http://dx.doi.org/10.1098/rsbl.2010.1084&quot;&gt;http://dx.doi.org/10.1098/rsbl.2010.1084&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;REDDING D, DeWOLFF C and MOOERS A (2010). “Evolutionary Distinctiveness, Threat Status, And Ecological Oddity in Primates.” &lt;em&gt;Conservation Biology&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&quot;&gt;http://dx.doi.org/10.1111/j.1523-1739.2010.01532.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>ESA personal notes: people, goals</title>
   <link href="/2011/08/13/esa-personal-notes-people-goals.html"/>
   <updated>2011-08-13T12:22:27-07:00</updated>
   <id>h/2011/08/13/esa-personal-notes-people-goals</id>
   <content type="html">&lt;h3 id=&quot;meetings&quot;&gt;Meetings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;John Drake&lt;/li&gt;
&lt;li&gt;Suzanne O’Regan (Post-doc with John, strong dynamical systems)&lt;/li&gt;
&lt;li&gt;Justin Kinze – great post-doc at Berkeley with John Harte, should visit.&lt;/li&gt;
&lt;li&gt;Paul Armsworth – with Alan, have asked me to join NIMBioS working group on Pretty Darn Good Control (Tuesday evening).&lt;/li&gt;
&lt;li&gt;Hal Caswell – interested in some of the data management / provenance for theoretical work. (Mon)&lt;/li&gt;
&lt;li&gt;Jeremy Fox – Interesting lunch discussion, clonal interference as ecological insight?&lt;/li&gt;
&lt;li&gt;Kim Cuddington – auto-correlation changes.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.eeb.ucla.edu/indivfaculty.php?FacultyKey=8377&quot;&gt;Priyanga Amarasekare&lt;/a&gt; – NCEAS group on early warning signals&lt;/li&gt;
&lt;li&gt;Ethan White - Tuesday morning chat.  Also about ecodata retreiver poster.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;missed&quot;&gt;Missed&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Bob Holt&lt;/li&gt;
&lt;li&gt;Elizabeth (Eli) Holmes (NCEAS group on early warning. Also Robin Waples, group organizer)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;catch-up-with&quot;&gt;Catch up with:&lt;/h3&gt;
&lt;p&gt;Kyle Edwards, Dan Warren. (follow up still)&lt;/p&gt;
&lt;h3 id=&quot;misc-reflections&quot;&gt;Misc Reflections&lt;/h3&gt;
&lt;p&gt;traditional categories don’t fit me. they don’t fit you.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday: Post ESA, NSF Intersections post-doc?</title>
   <link href="/2011/08/13/saturday.html"/>
   <updated>2011-08-13T08:46:13-07:00</updated>
   <id>h/2011/08/13/saturday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;run system backup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reading TOCs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Catch up from ESA&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on review for THEE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;New phylogenetic methods in _Evolution _(Paradis, 2012), (Revell &lt;em&gt;et. al.&lt;/em&gt; 2012)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next steps for fellowship applications.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;post-esa&quot;&gt;Post ESA&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theoretical Ecology Review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revisions on &lt;em&gt;Evolution&lt;/em&gt; manuscript&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;TreeBASE paper. See Kemp &lt;em&gt;et. al.&lt;/em&gt; 2012&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outline next steps on warning signals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wrightscape manuscript, finalize examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NIMBioS working group&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;nsf-intersections-post-doc&quot;&gt;NSF Intersections Post-doc?&lt;/h2&gt;
&lt;p&gt;Looking over the&lt;a href=&quot;http://www.nsf.gov/pubs/2010/nsf10587/nsf10587.htm#pgm_desc_txt&quot;&gt;NSF Biology post-doc position&lt;/a&gt;.  Looks rather different than the earlier bioinformatics position.  Whereas I believe the informatics position was submitted before  the applicant identified a lab or institution, the Intersections post-doc requires I identify two sponsors at my intended institution.  Seems like this will be much easier for someone already going to a chosen institution.  Should probably address my questions to the program officer.  Summarizing the application requirements from the more lengthy official call below:&lt;/p&gt;
&lt;h4 id=&quot;intersections-ofbiology-andmathematical-and-physical-sciences.&quot;&gt;Intersections of Biology and Mathematical and Physical Sciences.&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;To further advances in biology, these fellowships will support the most innovative research and training where biology meets the mathematical or physical sciences.  To achieve this goal, the fellowships require dual mentors for the Fellow, one from biology and one from mathematical or physical sciences.  Sponsors may be at the same or different institutions but must provide mentoring and research guidance from the different fields presented in the proposed research and training plan.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;application-requirements&quot;&gt;Application requirements&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;the application form (FastLane);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;applicant’s Curriculum Vitae (CV) limited to 2 pages (list publications and abstracts separately);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an abstract or project summary (limited to one page) of the proposed research and training including a specific and separate statement of &lt;strong&gt;broader impacts&lt;/strong&gt;.  Must also include a clear and concise statement of the intersection, the mentor from biology, and the mentor identified by field of mathematical or physical science;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;research and training plan (limited to 5 pages, including all figures, tables, etc.) with its own bibliography (no page limit);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;abstract of your dissertation research (limited to one page);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;if the teaching option is being requested, the project plan (limited to 3 pages) may be uploaded as a “supplemental document” in the FastLane application;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the sponsoring scientist(s) statement and 2-page CV(s) that you, the applicant, uploads into the application; and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;two reference reports, submitted directly in FastLane by the reference writers.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;research-and-training-plan&quot;&gt;Research and training plan&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Include in the research and training plan: 1) a brief and informative introduction or background section; 2) a statement of research objectives, methods, and significance; 3) training objectives and plan for achieving them (these may include scientific as well as other career preparation activities); 4) an explanation of how the fellowship activities will enhance your career development; and 5) a justification of the choice of sponsoring scientist(s) and host institution(s).  As with all NSF proposals, broader impacts must also be addressed.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;the-sponsoring-scientists-statement&quot;&gt;The sponsoring scientists statement&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;A complete sponsoring scientist statement consists of two parts; a CV of no more than two pages for each sponsor and a single discussion of the following items:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;A brief description of the research projects in the host research group(s), including a statement of current and pending research support, both private and public, for each sponsor. If any sponsor has submitted similar research for funding, what is the degree of overlap?&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;An explanation of how the research and training plan of the applicant would fit into and complement ongoing research of the sponsor(s) and indicate the personnel with whom the Fellow would work.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;How the sponsor(s) will determine what mentoring the applicant needs in research, teaching, and career development skills and translate these into a specific plan to foster the development of the applicant’s future independent research career.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;4&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;What role the sponsor(s) will play in the proposed research and training and what other resources will be available to the Fellow to complete his or her training plan during the fellowship.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;5&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;What limitations, if any, will be placed on the Fellow regarding the research following the fellowship.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Paradis E (2012). “Shift in Diversification in Sister-Clade Comparisons: A More Powerful Test.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;66&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01429.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01429.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revell L, Mahler D, Peres-Neto P and Redelings B (2012). “A New Phylogenetic Method For Identifying Exceptional Phenotypic Diversification.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;66&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01435.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01435.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rncep: Global Weather And Climate Data at Your Fingertips, Michael U. Kemp, E. Emiel van Loon, Judy Shamoun-Baranes, Willem Bouten, (2012) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;3&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00138.x&quot;&gt;10.1111/j.2041-210X.2011.00138.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>ESA Friday</title>
   <link href="/2011/08/12/esa-friday.html"/>
   <updated>2011-08-12T11:34:47-07:00</updated>
   <id>h/2011/08/12/esa-friday</id>
   <content type="html">&lt;p&gt;Great last day of the conference, despite noticeably decreased attendance.  Once again just pulling in my tweets, since I haven’t had a chance to transcribe proper notes.  Meanwhile, some of the bloggers have done a rather nice day-to-day coverage; no idea how they all manage to keep up.  Links below, with a nice mix of those targeting more theory oriented, more application oriented and more outreach oriented sessions.&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; ESA should have science cafes! Jeremy Fox / OikosBlog &lt;a href=&quot;http://t.co/cfo6Shi&quot;&gt;http://t.co/cfo6Shi&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Back to back talks by two student coauthors (Kremer &amp;amp; Thomas) on plankton response to temperature - brilliantly play off each other #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Nothing is better than listening to pseudospecta calculations for transcritical bifurcations in a broad Irish accent! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Justin Kitze does reserve design in a flexible markov process that outperforms network theory approaches #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Excellent poster by Suzanne O’Regan on transient dynamics in an SIR model approaching a bifurcation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;esa-in-the-blogosphere&quot;&gt;ESA in the blogosphere&lt;/h2&gt;
&lt;h3 id=&quot;jeremy-fox-oikosblog&quot;&gt;Jeremy Fox, OikosBlog&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/09/blogging-the-esa-sunday-and-monday-highlights/&quot;&gt;Oikos Sunday-Monday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/10/blogging-the-esa-tuesday-highlights/&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/11/blogging-the-esa-wednesday-highlights/&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/12/blogging-the-esa-thursday-highlights/&quot;&gt;Thursday&lt;/a&gt; &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/08/12/blogging-the-esa-friday-highlights/&quot;&gt;Friday&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;marc-cadotte-caroline-tucker-ebb-flow&quot;&gt;Marc Cadotte, Caroline Tucker, EBB &amp;amp; flow:&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/esa-austin-day-1.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-2-in-austin.html&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/esa-austin-day-3.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-4.html&quot;&gt;Thursday&lt;/a&gt; &lt;a href=&quot;http://evol-eco.blogspot.com/2011/08/day-5-in-austin.html&quot;&gt;Friday&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;scott-champerlain-recology_&quot;&gt;Scott Champerlain (@recology_)&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/monday-at-esa11.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/wednesday-at-esa11.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/thursday-at-esa11.html&quot;&gt;Thursday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/08/esa11-ropensci-collaborative-effort-to_08.html&quot;&gt;rOpenSci Launch&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;zen-folkes-doctorzen&quot;&gt;Zen Folkes (@DoctorZen)&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-1.html&quot;&gt;Monday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-2.html&quot;&gt;Tuesday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-3.html&quot;&gt;Wednesday&lt;/a&gt; &lt;a href=&quot;http://neurodojo.blogspot.com/2011/08/esa-2011-day-4.html&quot;&gt;Thursday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;More twitter-stats of the conference from &lt;a href=&quot;http://twitter.com/#!/allredbw&quot;&gt;@allredbw&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://p.twimg.com/AWsqJSuCEAINJuA.jpg&quot;&gt;&lt;img src=&quot;http://p.twimg.com/AWsqJSuCEAINJuA.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ESA Thursday</title>
   <link href="/2011/08/11/esa-thursday.html"/>
   <updated>2011-08-11T11:43:02-07:00</updated>
   <id>h/2011/08/11/esa-thursday</id>
   <content type="html">&lt;p&gt;Just automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Predicting rare; predicting ubiquitous/noxious weed species by machine learning vs GLMs #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Beautiful thing when you know just how talk methods will proceed after 2 min of intro to problem.. but stay tuned for surprises #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deitterich: how to reconstruct life history patterns from abundance fluctuations #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; inferring what we want from what we have w models&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; John Drake extends goals of Ives et al 2003 monographs by estimating genralized LV covar using lasso methods for L1 regularization #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Machine learning session will use cancelled end talk to hold general methods Q&amp;amp;A #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/bgrassbluecrab&quot;&gt;bgrassbluecrab&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; tweetup happening now, meet in the lobby by exhibit hall, look for doctorzen’s kilt&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Intraspecific variation symp wraps up wth nice panel discussion among presenters, excellent idea! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Bolnick onto ecological reasons: Jensen’s inequality; ‘portfolio effect’ (bet hedge), or size-dep food web. See &lt;a href=&quot;http://bit.ly/p3j1GG&quot;&gt;http://bit.ly/p3j1GG&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dan Bolnick synthesizes the symp lessons on individ variation. Include eco-evo dynamics, ‘phenotypic subsidies’ for sink genotypes.. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Schreiber shows “Resident strikes back” phenomena&amp;quot; in intraguild predation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/nXD1DH&quot;&gt;http://bit.ly/nXD1DH&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sebastian Schreiber shows how variation in predator trait stabilizes eco-evo coexistence in a app comp &amp;amp; intraguild predation #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner “dx = Uxdt+sdW, dU=s2dW this comes from an integrated Ornstein Uhlenbeck process - if u don’t know what that is, I can’t help” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner published the proposed talk faster than expected &lt;a href=&quot;http://bit.ly/nVmmgI&quot;&gt;http://bit.ly/nVmmgI&lt;/a&gt; thanks Eco Let; so after fast sum. he’s showin new stuff #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ellner is a great speaker. “In 2005, ecologists everwhere said ‘oh my god, we forgot about the Price eqn’” thanks to Jeremy Fox #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; This intraspecific variation symp, from all-star @&lt;a href=&quot;http://twitter.com/NIMBioS&quot;&gt;NIMBioS&lt;/a&gt; working group, is tearing up much of classical theory #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23awesometalks&quot;&gt;awesometalks&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ESA Wednesday</title>
   <link href="/2011/08/10/esa-wednesday.html"/>
   <updated>2011-08-10T11:46:00-07:00</updated>
   <id>h/2011/08/10/esa-wednesday</id>
   <content type="html">&lt;p&gt;My talk today, as well as several others from our Theory group at Davis. Journal review requirements mean posting my slides is gonna be delayed somewhat, but appreciated some excellent questions and those who laughed at my jokes in between slides. Meanwhile, automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;Twitter-log&lt;/h2&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt; Here’s the paper I mentioned for introducing ontologies/linked data into spreadsheets&lt;a href=&quot;http://t.co/TfAWxsK&quot;&gt;http://t.co/TfAWxsK&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;: Different levels of scientists as seen by other scientists: &lt;a href=&quot;http://ow.ly/600jV&quot;&gt;http://ow.ly/600jV&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Peres-Neto gives a great talk. “Whole journals on spatial ecology … but we still don’t think correctly about it.” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/msanclem&quot;&gt;msanclem&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/JacquelynGill&quot;&gt;JacquelynGill&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/DoctorZen&quot;&gt;DoctorZen&lt;/a&gt; calls for a tweet up Thurs lunch I think? Do we have a place? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Loving Ben Bolker’s “unconstrained” intro to his talk and his mathematician’s use of words like “simple” &amp;amp; “uncomplicated” #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo coins the phrase #&lt;a href=&quot;http://search.twitter.com/search?q=%23webolution&quot;&gt;webolution&lt;/a&gt;, shows growth and crashes in species abundance #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo decides to skip niche model expl. after polling audience, discusses prdiction of food webs from PNAS piece&lt;a href=&quot;http://bit.ly/rhDh5e&quot;&gt;http://bit.ly/rhDh5e&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neo Martinez: Will discuss evolution by sympatric speciation (audience grumbles), integration with community networks, global change #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Foodwebs assembled by speciation events instead of invasions are more complex, more trophic levels, more species #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; -T. Romanuk&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; 30 years in the making, Alan Hastings reveals some key insights in the real-world facts that have frustrated models of subsides #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Eek, my talk is coming up, 2:10p on early warning… #&lt;a href=&quot;http://search.twitter.com/search?q=%23shamelessselfpromotion&quot;&gt;shamelessselfpromotion&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/101365206839599104&quot;&gt;10th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Modeling background combines habitat, climate, and stoch pop dyn in forecasting &lt;a href=&quot;http://bit.ly/ndTQkg&quot;&gt;http://bit.ly/ndTQkg&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;to choose management option. Wow&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ooh, a decision framework for species threatened by climate change adressing prediction &amp;amp; uncertainty (Austalian accent included) #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Coarse graining population models to scale to regional levels and long time-scales. Management is Bayesian w/ expert-guess priors #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Will be presenting at 2:10p today in 19A on Early Warning Signals of Ecosystem collapse. Come on by if you have a chance! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ESA Tuesday</title>
   <link href="/2011/08/09/esa-tuesday.html"/>
   <updated>2011-08-09T11:48:44-07:00</updated>
   <id>h/2011/08/09/esa-tuesday</id>
   <content type="html">&lt;p&gt;Just automatically generating a log form twitter since I cannot find the time to write proper notes. Perhaps those will amended eventually…&lt;/p&gt;
&lt;h2 id=&quot;twitter-log&quot;&gt;twitter-log&lt;/h2&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great Eco Let mixer. Kudos to Marcel &amp;amp; crew for increasing citation rates w/o decreasing acceptance. Now how bout data sharing reqs? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/IceAgeEcologist&quot;&gt;IceAgeEcologist&lt;/a&gt;: #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; Marten Scheffer gets Honorary Member Award (max 20 living awardees); Don Strong ge… (cont) &lt;a href=&quot;http://deck.ly/~0JyXq&quot;&gt;http://deck.ly/~0JyXq&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/BrunaLab&quot;&gt;BrunaLab&lt;/a&gt;: Thanks to @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; for tweeting me questions from my #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; talk given by B Inouye. Me in FL responding live. #&lt;a href=&quot;http://search.twitter.com/search?q=%23awesome&quot;&gt;awesome&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Leibold emphasizes non-pt equilibrium patterns of coupled oscillators, eg Bohannan &amp;amp; Lenski&lt;a href=&quot;http://bit.ly/q0LD0u&quot;&gt;http://bit.ly/q0LD0u&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mathew Leibold - will skip the confusing enviro fluctuations part of biodiversity impact on stability #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23standingroomonly&quot;&gt;standingroomonly&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Translate last tweet: changes in environment patterns could have big impact on conservation models #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Kim Cuddington compares continental and marine environmental variance and autocorellation - latter is also higher on land, &amp;amp; changing #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Melbourne: spatial heterogeneity &lt;em&gt;reduces&lt;/em&gt; variation in spatial spread rates. Mysteries that lab systems through at theory! #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Details of Melbourne &amp;amp; Hastings’ model of beetle pop dynamics here: &lt;a href=&quot;http://bit.ly/pyzGqf&quot;&gt;http://bit.ly/pyzGqf&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Melbourne on stochastic spatial spread experiments in 17a, see background in Science&lt;a href=&quot;http://bit.ly/r936pu&quot;&gt;http://bit.ly/r936pu&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; C. Parent calls for including ecological / phenotypic traits in comm. phylo. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Wishing community phylogentics would use more models and fewer tests of ‘association.’ What’s the null? Care about branch length? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Christine Parent blends community phylogenetics with metacommunity ecology, see background paper here:&lt;a href=&quot;http://bit.ly/lTz0y3&quot;&gt;http://bit.ly/lTz0y3&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/snacktavish&quot;&gt;snacktavish&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; 2/3 ESA talks include phylogenies! ok, n=3, but I still think that is great. #&lt;a href=&quot;http://search.twitter.com/search?q=%23inlightofevolution&quot;&gt;inlightofevolution&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: ESA Conference</title>
   <link href="/2011/08/08/monday-esa-conference.html"/>
   <updated>2011-08-08T06:09:27-07:00</updated>
   <id>h/2011/08/08/monday-esa-conference</id>
   <content type="html">&lt;p&gt;Hope to process the day’s happenings later, meanwhile just a snapshot of my twitter-stream notes.  My own highlights certainly include Steve Pacala’s fantastic plenary session in receiving the MacArthur award, and Mark Urban’s crystal clear presentation on “climate collisions.”  I thought I was less tolerant of data-free models with arbitrary assumptions these days, but somehow Mark just swept those concerns away.  In pointing out really fundamental concepts, such details just aren’t so important.&lt;/p&gt;
&lt;p&gt;My twitter-notes below: note the statistical overview of the conference, quotes from the plenary, links to some papers I hope to look over soon, and the amazing images from Arkive.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.arkive.org/goodmans-mouse-lemur/microcebus-lehilahytsara/image-G26165.html#src=portletV3web&quot;&gt;&lt;img src=&quot;http://cdn2.arkive.org/media/DF/DFB1AAC7-E519-4129-AB2C-09B8AA8984CA/Presentation.Portlet/Goodmans-mouse-lemur.jpg&quot; alt=&quot;ARKive photo - Goodman’s mouse lemur&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; theory mixer was packed. So many brilliant people so little space. Theorists know how to run buisness meetings - mixer was the meetin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/NEONInc&quot;&gt;NEONInc&lt;/a&gt;&lt;/strong&gt; The average age of a NEON user is shrinking, as evidenced by the fascination of today’s visitor.&lt;a href=&quot;http://t.co/07VZneQ&quot;&gt;http://t.co/07VZneQ&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; See Allesina’s results on coexistence of competitor networks in the recent PNAS article &lt;a href=&quot;http://bit.ly/oXTVIU&quot;&gt;http://bit.ly/oXTVIU&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; Stefano Allesina predicts coexistence of competitive networks from pairwise interactions that are either deterministic or random&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Wow, great time talking to the @&lt;a href=&quot;http://twitter.com/NEONInc&quot;&gt;NEONInc&lt;/a&gt; folks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;; where did the time go? Check out their poster session 4:30-6:30 tonight!&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/_inundata&quot;&gt;_inundata&lt;/a&gt;&lt;/strong&gt; DataONE best practices from #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;a href=&quot;http://t.co/NIC2QyY&quot;&gt;http://t.co/NIC2QyY&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23openscience&quot;&gt;openscience&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Urban shows vivdly how variation in dispersal rates during climate change results in population “collisions” &amp;amp; resulting extinction #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Urban species interaction ignored in 92% of species response to climate change studies. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Enjoying a talk in education pedagogy &amp;amp; faculty development. Everyone should check out at least one of the &amp;gt;200 edu talks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Matt compares coliniz vs in situ speciation of island anoles. Colinization at any rate obscures pattern of phylo diversity w area #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Matt helmus builds model of phylogenetic attraction or repulsion to ask how diff patterns change species-area curves #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Have images of endangered (global redlist) species? check out Arkive’s most wanted list and get involved: &lt;a href=&quot;http://bit.ly/cvgkbp&quot;&gt;http://bit.ly/cvgkbp&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Totally loving the arkive.org session, presenter is excellent, good disc. of resuse. Check out its flickr group &lt;a href=&quot;http://bit.ly/oi8aMC&quot;&gt;http://bit.ly/oi8aMC&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; &lt;a href=&quot;http://arkive.org/&quot;&gt;http://Arkive.org&lt;/a&gt; world’s largest free database of images and video #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt; spice up your talks and course material with amazing images&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Hal Caswell asks: how about dealing with the processed data? Reproducing from raw data ain’t trivial #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;. Carley ans: saving the workflow&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt; gives great advice on best practices that can easily be implemented by any researcher in standard spreadsheets #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Data management session has a bit too much “how” and not enough “why.” Where are &lt;em&gt;examples&lt;/em&gt; of these steps leading to better science? #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/rOpenSci&quot;&gt;rOpenSci&lt;/a&gt;: What do you want to see in #&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;packages to integrate #&lt;a href=&quot;http://search.twitter.com/search?q=%23opensource&quot;&gt;opensource&lt;/a&gt; data with R? Tell us at &lt;a href=&quot;http://bit.ly/os7OBm&quot;&gt;http://bit.ly/os7OBm&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/megritude&quot;&gt;megritude&lt;/a&gt; “Young ecologists, you face…a litany of existential crises. When I was a kid, this field was a BLAST!” Pacala #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; NewPost (#&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science &lt;a href=&quot;http://bit.ly/nbQ3Zn&quot;&gt;http://bit.ly/nbQ3Zn&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; “Everyone believes the data except the collector. No one believes the model except the modeller” - Pacala shares old adage #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pacala encourages ecologists to diversify research MT @&lt;a href=&quot;http://twitter.com/jessicablois&quot;&gt;jessicablois&lt;/a&gt;: “reduce associative mating and increase dispersal” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pacala calls all of us to reserve at least part of our careers for working on enviro crisis - social contract. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Never has so much been asked of so little knowledge… but we must make predictions on the best avail science - Pacala #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/DoctorZen&quot;&gt;DoctorZen&lt;/a&gt;&lt;/strong&gt; Whoa. Pacala is saying the demands on ecology for predictions could outstrip the ability to get evidence. #&lt;a href=&quot;http://search.twitter.com/search?q=%23esa11&quot;&gt;esa11&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/carlystrasser&quot;&gt;carlystrasser&lt;/a&gt;: Data Management Plan tool demo today at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; SS3- 10am. Plus tips on #&lt;a href=&quot;http://search.twitter.com/search?q=%23metadata&quot;&gt;metadata&lt;/a&gt;, best practices, and example DMPs&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; .@&lt;a href=&quot;http://twitter.com/JacquelynGill&quot;&gt;JacquelynGill&lt;/a&gt; my thoughts exactly. Hmm… Wonder if there’ll be a tweetup at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Arrived in Austin, check. Badge &amp;amp; textbook-sized program, check. Now walking past Darwin’s Pub. Hello #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;, this gonna be good&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; From @&lt;a href=&quot;http://twitter.com/ethanwhite&quot;&gt;ethanwhite&lt;/a&gt;: tips for navigating #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/oXysK1&quot;&gt;http://bit.ly/oXysK1&lt;/a&gt;. What’s your strategy?&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; A statistical overview of what will be going on at the #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt; conference in Austin: &lt;a href=&quot;http://bit.ly/nRjJtR&quot;&gt;http://bit.ly/nRjJtR&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Heading to #&lt;a href=&quot;http://search.twitter.com/search?q=%23ESA11&quot;&gt;ESA11&lt;/a&gt;. Excited to be speaking in conservation, policy &amp;amp; theory section where cool math meets real-world problems&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Fisheries stock assessments for early warning</title>
   <link href="/2011/08/02/fisheries-stock-assessments-for-early-warning.html"/>
   <updated>2011-08-02T09:59:14-07:00</updated>
   <id>h/2011/08/02/fisheries-stock-assessments-for-early-warning</id>
   <content type="html">&lt;blockquote&gt;
&lt;p&gt;What you want to look for are stock assessments.  For example, for the species closest to home, under the Pacific Fisheries Management Council:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pcouncil.org/groundfish/stock-assessments/archived-stock-assessments/&quot;&gt;http://www.pcouncil.org/groundfish/stock-assessments/archived-stock-assessments/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Three rockfish species that might be good to look into for your purposes are widow, yelloweye, and bocaccio, but these will have shorter-term data than any of the cod data.  Also, NOAA NMFS Technical Reports on individual stocks often have long appendices with lots of data.  For the Canada side of things, I just Googled in “Canadian cod stock assessment” and got this:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://publications.gc.ca/collections/collection_2011/mpo-dfo/Fs70-6-2005-024-eng.pdf&quot;&gt;http://publications.gc.ca/collections/collection_2011/mpo-dfo/Fs70-6-2005-024-eng.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Note that Canada divides up its cod into multiple stocks based on region, and it’s the Newfoundland one in this assessment that had the most famous collapse.  The US does the same – of the US cod stocks, the Georges Bank one is probably the most relevant to you – it’s the second one at:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.nefsc.noaa.gov/sos/spsyn/pg/cod/&quot;&gt;http://www.nefsc.noaa.gov/sos/spsyn/pg/cod/&lt;/a&gt; (note links to .cvs data for each figure). Also, some relevant synthesis papers that come to mind as potential pointers to data sources are: &lt;a href=&quot;http://www.nature.com/nature/journal/v423/n6937/abs/nature01610.html&quot;&gt;http://www.nature.com/nature/journal/v423/n6937/abs/nature01610.html&lt;/a&gt; &lt;a href=&quot;http://www.nature.com/nature/journal/v406/n6798/abs/406882a0.html&quot;&gt;http://www.nature.com/nature/journal/v406/n6798/abs/406882a0.html&lt;/a&gt; &lt;a href=&quot;http://www.sciencemag.org/content/325/5940/578.short&quot;&gt;http://www.sciencemag.org/content/325/5940/578.short&lt;/a&gt; &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/1540-92952005003%5B0078:THOORM%5D2.0.CO%3B2&quot;&gt;http://www.esajournals.org/doi/abs/10.1890/1540-9295(2005)003%5B0078:THOORM%5D2.0.CO%3B2&lt;/a&gt; &lt;a href=&quot;http://www.sciencemag.org/content/293/5530/629.short&quot;&gt;http://www.sciencemag.org/content/293/5530/629.short&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Three of these are from NCEAS working groups, so they might have archived the data with NCEAS.  The big caveat for all of this, as I mentioned earlier, is that any catch data confounds abundance and harvest effort – for example, as Alan said, zero catch doesn’t mean zero fish, it means the fishery was closed.&lt;/p&gt;
&lt;p&gt;Another thought might be to look into the North Sea cod/herring/mackerel system, where there is an explicit model with the right kind of bifurcation in mind based on cultivation effects (herring and mackerel preying on cod recruits but being the prey of adult cod can drive alternative stable states) – there are a couple of recent statistical modeling papers aimed at trying to detect alternative states in the system that might indicate data sources, including abundance data that isn’t confounded by effort:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.pnas.org/content/106/1/197.short&quot;&gt;http://www.pnas.org/content/106/1/197.short&lt;/a&gt; &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/09-1500.1&quot;&gt;http://www.esajournals.org/doi/abs/10.1890/09-1500.1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For cod more generally, both cultivation effects (originally modeled in the Walters &amp;amp; Kitchell paper referenced in the second North Sea paper linked above) and Allee effects (I think the Rosenberg Frontiers paper linked among the synthesis papers talks about this) are hypothesized to be potential drivers of alternative states.  Competition cultivation effects are hypothesized to occur in rockfish too, which was the basis for one of my papers.&lt;/p&gt;
&lt;p&gt;But, really, Loo Botsford will have the most knowledge of anyone on campus about which fisheries have the most reliable data – also, might he, Alan, and Matt know of some time-series cod data sources for the cod/salmon biocomplexity project?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MB&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/08/02/monday-8.html"/>
   <updated>2011-08-02T09:41:03-07:00</updated>
   <id>h/2011/08/02/monday-8</id>
   <content type="html">&lt;h2 id=&quot;peter-advice&quot;&gt;Peter advice&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Figure out your focus.&lt;/li&gt;
&lt;li&gt;Have all the stuff from your PhD published (at least submitted), make sure your post-doc moves forward.  (#1 mistake).&lt;/li&gt;
&lt;li&gt;Publish with data folks to show you have much to offer the non-theorist community&lt;/li&gt;
&lt;li&gt;Speak to potential advisers, get them excited about the work.&lt;/li&gt;
&lt;li&gt;Berkeley over Michigan over NESCent/NIMBioS.&lt;/li&gt;
&lt;li&gt;Visit Berkeley.  Ackerley on sabbatical?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;review-for-theoretical-ecology&quot;&gt;Review for Theoretical Ecology&lt;/h2&gt;
&lt;p&gt;Working on another review. Not a bad paper, but presenting many classical results as novel.  Dear would-be authors in theoretical ecology: Please read Nisbet &amp;amp; Gurney 1982, Chesson &amp;amp; Ellner 1984, Benheim &amp;amp; Schreiber 2010 before submitting an article about stochastic population dynamics.&lt;/p&gt;
&lt;h2 id=&quot;paper&quot;&gt;Paper&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add citation – done&lt;/li&gt;
&lt;li&gt;Update Figure 1&lt;/li&gt;
&lt;li&gt;disclaimer paragraph? – done&lt;/li&gt;
&lt;li&gt;parenthetical references to supp and methods&lt;/li&gt;
&lt;li&gt;how to choose a result?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cartoonify stable and tipping&lt;/li&gt;
&lt;li&gt;Model fit comparison?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday: Fisheries Data Survey, Warning Signals</title>
   <link href="/2011/07/30/saturday-fisheries-data-survey-warning-signals.html"/>
   <updated>2011-07-30T10:26:54-07:00</updated>
   <id>h/2011/07/30/saturday-fisheries-data-survey-warning-signals</id>
   <content type="html">&lt;p&gt;Marissa mentioned looking into some of the fisheries data for early warning signals: particularly the Canadian Cod collapse.&lt;/p&gt;
&lt;p&gt;Apparently several of the data sets are problematic.  All deal with catch instead of abundance and measurement error is highly significant, though it seems that some may suffer from more troublesome systematic errors.  Taking a quick look over what is available.  Lots of data, but despite what appears to be some rather sophisticated tools available on the sites, I’m having a bit of difficulty finding just what I’m looking for.&lt;/p&gt;
&lt;p&gt;For instance, would be nice to get the data associated with the often-reproduced &lt;a href=&quot;http://www.millenniumassessment.org/en/GraphicResources.aspx&quot;&gt;graphs from the Millennium Ecosystem Assessment&lt;/a&gt; (&lt;em&gt;e.g.&lt;/em&gt; inset).  An hour or so of poking around hasn’t been very successful.  Checking out:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://upload.wikimedia.org/wikipedia/commons/thumb/b/bc/Atlantic-Cod-Stocks.jpg/773px-Atlantic-Cod-Stocks.jpg&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.fao.org/fishery/statistics/collections/en&quot;&gt;International Fisheries data from FAO&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.dfo-mpo.gc.ca/stats/commercial/sea-maritimes-eng.htm&quot;&gt;Canadian Fisheries DFO&lt;/a&gt; (annual entries, only back to 1990)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wdc.nbii.gov/ma/datapage.htm&quot;&gt;Millennial Ecosystem assessment data at NBII&lt;/a&gt; Looks more promising, but in zipped (MS access?) DB formats, not quite sure what’s what yet.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Nice paper by Carpenter and Brock comparing performance of non=parametric warning signals out in Ecology today (Carpenter &amp;amp; Brock, 2011).  Haven’t given it a close read yet, but seems to show that diffusion-related estimates like variance are the most reliable indicator while drift-related estimates such as autocorrelation/return time are less reliable. The estimate a drift-diffusion-jump model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dx = \mu(x_t,\theta_t)d t + \sigma(x_t, \theta_t) d W + d(\sum Z_n)&quot; alt=&quot;dx = \mu(x_t,\theta_t)d t + \sigma(x_t, \theta_t) d W + d(\sum Z_n)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z_n\inline&quot;/&gt;&lt;/span&gt; is a sum over discontinuous shocks.  Seems that this conclusion can be argued from first principles of stochastic processes – convergences of parameter estimates should obey a central-limit theorem, though the time-varying case might be harder.  They seem to be estimated in a piece-wise constant manner over a sliding Gaussian window.  Mean and variance are just estimated from the first and second moments in the window, somehow jump terms are estimated as function of the sixth and forth moment.  This estimation approach comes from the econometrics literature Bandi &amp;amp; Nguyen, 2003, (Johannes, 2004).&lt;/p&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;p&gt;Working on incorporating comments from Friday’s practice talk.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Registered for DataCite 2011.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrote to Alan about EIM 2011&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some ESA planning&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Carpenter S and Brock W (2011). “Early Warnings of Unknown Nonlinear Shifts: A Nonparametric Approach.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/11-0716.1&quot;&gt;http://dx.doi.org/10.1890/11-0716.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Johannes M (2004). “The Statistical And Economic Role of Jumps in Continuous-Time Interest Rate Models.” &lt;em&gt;The Journal of Finance&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 0022-1082, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1540-6321.2004.00632.x&quot;&gt;http://dx.doi.org/10.1111/j.1540-6321.2004.00632.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;on The Functional Estimation of Jump–Diffusion Models, Federico M. Bandi, Thong H. Nguyen, (2003) &lt;em&gt;Journal of Econometrics&lt;/em&gt;, &lt;strong&gt;116&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0304-40760300110-6&quot;&gt;10.1016/S0304-4076(03)00110-6&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: ESA Practice Talk</title>
   <link href="/2011/07/29/2268.html"/>
   <updated>2011-07-29T10:26:44-07:00</updated>
   <id>h/2011/07/29/2268</id>
   <content type="html">&lt;p&gt;Practice talk in Teary today; Jamie, Marissa and myself.  Lots of discussion and feedback. Some good general discussion about presentations as well – Marissa mentioned the Oceanographic Institute’s &lt;a href=&quot;http://www.tos.org/resources/publications/sci_speaking.html&quot;&gt;tips for speakers&lt;/a&gt; and other resources &lt;a href=&quot;http://www.des.ucdavis.edu/faculty/baskett/links/communication.html&quot;&gt;on her website&lt;/a&gt;. Brief notes on changes to make in my talk based on some excellent discussion:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Julie and others point out I should at least reference Type I &amp;amp; Type II Error – statement contrasting scientific hypothesis testing vs managing for collapse.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consensus that I should open with data from real collapses, &lt;em&gt;e.g. &lt;/em&gt;North Atlantic Cod.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ROC Curves&lt;/strong&gt; – Don’t work or aren’t necessary for everyone (I think Peter and I could do without them at least), but most felt they helped substantially. Sounds like I should definitely keep them but explain even more slowly. Some revisions on the explanation movies might help.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian suggested cross-hair marker indicating the false-positive/true-positive for the current point.  Could probably use a few more frames in ‘videos’ too.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Must label blue and red distributions, repeatedly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add disclaimers on model generality – illustrate the process&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bubbles/cartoons/images&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add citations&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;filed CSGF receipts&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;review-of-the-week&quot;&gt;Review of the Week&lt;/h2&gt;
&lt;p&gt;Created ESA practice presentation.  Small edits on manuscript figures and appendix.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Weds: Manuscript</title>
   <link href="/2011/07/27/weds-manuscript.html"/>
   <updated>2011-07-27T15:38:55-07:00</updated>
   <id>h/2011/07/27/weds-manuscript</id>
   <content type="html">&lt;p&gt;I’ve removed the model choice/model adequacy section of the appendix. This is the section that Reviewer 2 said needed further development, which would be beyond the scope of this paper:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Here the authors claim that by using particular structural models based on assumptions about underlying dynamics their method makes it easy to identify cases that do not conform to the assumptions. It would be interesting to evaluate this claim but it would require a substantial amount of analysis that may be beyond the scope of a short paper. Alternatively the claim could be tempered.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I tend to agree, explaining how to do this properly really is beyond the scope, so I pulled that section (Appendix H) out. Reviewer 2 also had some comments about systems with other complicated dynamics, such as alternatively approaching, moving away, and then approaching the critical point. This section was mentioned in the second-to-last paragraph of the main text. I’ve updated that paragraph to read:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Not all sudden collapses correspond to our model assumptions, including dynamical systems where the variance actually decreases as a sudden shift approaches (24, 25)⁠. While further development may make some of these systems amiable to detection (SOM, Appendix C), certain systems may collapse without any warning (26)⁠. Including measurement error and focusing on such different classes of dynamics are other complications we do not address at this time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I’m a bit worried that this sounds too negative? (26 is clearly your Ecol Let paper).&lt;/p&gt;
&lt;p&gt;A few other questions. Figure 2 shows the stable system, to make the point that it can look like a false alarm. I have the ROC curves for this system that correspond to Figure 3 and 4. Since it’s stable, those curves always lie on the 1:1 line, for all methods, since there’s nothing to detect. Should I include them in Figure 3 &amp;amp; 4?&lt;/p&gt;
&lt;p&gt;I don’t show the parameter distributions for individual models. I don’t discuss whether the fit is constrained to strictly deteriorating systems vs stable systems (in principle you could allow for a system that is increasing in stability using the same model but changing parameter bounds). Guess I should add this into the appendix.&lt;/p&gt;
&lt;p&gt;Figure 1 may need revisions.  Sebastian suggests showing how ROC curve changes when the distributions are closer together.  This could also perhaps benefit from an animation.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: ESA presentation, manuscript/appendix edits </title>
   <link href="/2011/07/27/wednesday-esa-presentation-manuscriptappendix-edits.html"/>
   <updated>2011-07-27T09:22:02-07:00</updated>
   <id>h/2011/07/27/wednesday-esa-presentation-manuscriptappendix-edits</id>
   <content type="html">&lt;h2 id=&quot;misc-morning&quot;&gt;Misc morning&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Site trouble, again.  requested migrating servers.  Done.  hope we’re more stable now.&lt;/li&gt;
&lt;li&gt;Checking in with Peter about migrating site domain.  Sent request to Matt.&lt;/li&gt;
&lt;li&gt;Looking over NERSC PI &lt;a href=&quot;https://nim.nersc.gov/ercap_menu.php&quot;&gt;application&lt;/a&gt;, see &lt;a href=&quot;http://www.nersc.gov/users/accounts/allocations/first-allocation/&quot;&gt;first allocation&lt;/a&gt; instructions.  Emailed Mary Ann w/ questions on forms.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://nimbios.org/SMB2012/&quot;&gt;SMB 2012&lt;/a&gt; is at NIMBioS!&lt;/li&gt;
&lt;li&gt;Nick to join ropensci.  Coordinating launch, advisers, etc.   Karthik and Scott have done a great job editing my intro post and sprucing up the site.  more later.&lt;/li&gt;
&lt;li&gt;wp-minify &lt;a href=&quot;http://wordpress.org/support/topic/block-quote-missing-quotation-graphic?replies=4#post-2229639&quot;&gt;messes up certain graphics&lt;/a&gt;, like the quotations in this theme.  &lt;a href=&quot;http://wordpress.org/extend/plugins/bwp-minify/&quot;&gt;better-wordpress-minify&lt;/a&gt; is, well, better.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sam just pointed out the &lt;a href=&quot;http://cran.r-project.org/web/packages/motmot/index.html&quot;&gt;MOTMOT package on CRAN&lt;/a&gt; and it’s paper in Methods in Ecology and Evolution Thomas &amp;amp; Freckleton, 2012.  A “Medusa” for traits algorithm.  Does a handful of different BM-like models (because it’s always easier to transform the tree than to actually solve a new likelihood equation).  Rather worried about the proliferation of these non-Bayesian approaches when they don’t compute confidence intervals.&lt;/li&gt;
&lt;li&gt;Clever! &lt;a href=&quot;http://onertipaday.blogspot.com/2011/07/word-cloud-in-r.html?utm_source=twitterfeed&amp;amp;utm_medium=twitter&amp;amp;utm_campaign=Feed%3A+OneRTipADay+%28One+R+Tip+A+Day%29&quot;&gt;wordclouds&lt;/a&gt; in R.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;upcoming-conferences&quot;&gt;Upcoming conferences&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;DataCite &lt;a href=&quot;http://datacite2011.eventbrite.com/&quot;&gt;conference&lt;/a&gt;, Berekely, 24-25 of August. (Wed-Thurs)&lt;/li&gt;
&lt;li&gt;Maybe: the Santa Barbara  for &lt;a href=&quot;https://eim.ecoinformatics.org/eim2011&quot;&gt;EIM 2011&lt;/a&gt; is the 28-29 September, though I’d probably spend 27 &amp;amp; 30th on the train.  (Tues-Fri).  Could probably couple this with a chance to visit some of the labs in Santa Barbara, re post-doc options, etc.  Should speak to Alan about this.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Next year:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Science Online: January, sometime&lt;/li&gt;
&lt;li&gt;Evolution: Ottawa, Ontario, Canada - July 6-10&lt;/li&gt;
&lt;li&gt;CSGF: not scheduled&lt;/li&gt;
&lt;li&gt;SMB: Knoxville, TN: July 26-28&lt;/li&gt;
&lt;li&gt;ESA: Portland, OR, August 5 – Friday, August 10, 2012&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;esa-presentation&quot;&gt;ESA presentation&lt;/h2&gt;
&lt;p&gt;Still working on this, see scripts and slides for details.&lt;/p&gt;
&lt;p&gt;Do I have time to do explain ROC curves, or stick with parameter distributions?&lt;/p&gt;
&lt;p&gt;Manuscript/Appendix&lt;/p&gt;
&lt;p&gt;In separate entry… delayed release.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Motmot: Models of Trait Macroevolution on Trees, Gavin H. Thomas, Robert P. Freckleton, (2012) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;3&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00132.x&quot;&gt;10.1111/j.2041-210X.2011.00132.x&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tues: ESA presentation</title>
   <link href="/2011/07/26/tues-esa-presentation.html"/>
   <updated>2011-07-26T06:24:34-07:00</updated>
   <id>h/2011/07/26/tues-esa-presentation</id>
   <content type="html">&lt;p&gt;Working on ESA presentation.  See slides and code for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Adding movie a time series which gets longer (and closer to collapse) each frame, with corresponding warning signals for the interval thus far shown below (for CV and autocorrelation).  Include sparsely sampled (100) and densely sampled (1000) examples.  Compare always using a sliding window-size equal to half the length of the available data (works well on longer time series) to a fixed-width sliding window (doesn’t work well ever).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added two examples to introduce tau as measure of quantifying an increase.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: ESA, appendix, etc</title>
   <link href="/2011/07/25/monday-esa.html"/>
   <updated>2011-07-25T16:22:37-07:00</updated>
   <id>h/2011/07/25/monday-esa</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Gene expression as a continuous phenotypic trait – establishing signal for selection over drift.  (Bedford &amp;amp; Hartl, 2009)  OU vs BM (or just estimation of selection in the OU model relative to tree length) would have been an obvious way to do this, but the paper tries to make the argument that scaling the data and then comparing&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\sigma^2}{2\alpha}&quot; alt=&quot;\frac{\sigma^2}{2\alpha}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;is some indication.&lt;/p&gt;
&lt;h2 id=&quot;model-choice-section-on-warning-signals&quot;&gt;Model choice section on warning signals&lt;/h2&gt;
&lt;p&gt;Trying to figure out whether or not to remove this section (previously Appendix H: Model Choice and Model Adequacy).  Second-to-last paragraph mentions this, becomes a wimpy paragraph without it.  Run this by Alan.&lt;/p&gt;
&lt;p&gt;Model choice works for drake example: supports the transcritical bifurcation over the the saddle-node bifurcation.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6018/5975223608_49c038c3ec_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Hmm, less convincing: IBM model of saddle node, LTC vs LSN:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6137/5978135939_ba24a85dda_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Should try LSN-simulation data.  Demonstrate robustness of initial estimates?&lt;/p&gt;
&lt;h2 id=&quot;null-results-on-stable-system&quot;&gt;Null results on stable system&lt;/h2&gt;
&lt;p&gt;Should we include the stable system in Figures 3 &amp;amp; 4?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6025/5967217332_a0f0d6d10a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Should we include the posterior parameter distributions?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bedford T and Hartl D (2009). “Optimization of Gene Expression by Natural Selection.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0812009106&quot;&gt;http://dx.doi.org/10.1073/pnas.0812009106&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: Algorithms Discussion Group, EM finished</title>
   <link href="/2011/07/25/monday-algorithms-discussion-group-em-finished.html"/>
   <updated>2011-07-25T10:58:55-07:00</updated>
   <id>h/2011/07/25/monday-algorithms-discussion-group-em-finished</id>
   <content type="html">&lt;p&gt;Finished up the EM algorithm today.  Key was getting the right function to maximize.  Turns out wikipedia has a very &lt;a href=&quot;http://en.wikipedia.org/wiki/Expectation-maximization_algorithm&quot;&gt;nice write up&lt;/a&gt; of this very example, but in our notation:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex? E_p \log(p f_1) + (1-E_p) \log( (1-p) f_2 )&quot; alt=&quot; E_p \log(p f_1) + (1-E_p) \log( (1-p) f_2 )&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E_p\inline&quot;/&gt;&lt;/span&gt; comes from the expectation step.&lt;/p&gt;
&lt;p&gt;Jamie has joined us and has set up a &lt;a href=&quot;https://github.com/ashander/adg&quot;&gt;github repository&lt;/a&gt; for the discussion group.  Find the successful &lt;a href=&quot;https://github.com/ashander/adg/blob/master/em/em3.R&quot;&gt;abstract algorithm&lt;/a&gt; there.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday: Appendix edits</title>
   <link href="/2011/07/24/sunday-appendix-edits.html"/>
   <updated>2011-07-24T09:47:15-07:00</updated>
   <id>h/2011/07/24/sunday-appendix-edits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Appendix A. Method Summary – Basically the “methods” section as we had it in the Nature version, a bit updated.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;These sections are as before, with minor updates from the reviewers, etc. They’re also probably the most important part:&lt;/li&gt;
&lt;li&gt;Appendix B. The data sets&lt;/li&gt;
&lt;li&gt;Appendix C. Model Derivations&lt;/li&gt;
&lt;li&gt;Appendix D. Likelihood calculations&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix E. The likelihood statistic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix F. The distributions for the ROC curves – these are the former figure 1b/c distributions used to make the ROC curve.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix G. On a hypothesis-testing framework – A new section. Really let me know if this part is okay, I try to address some issues more directly then we had space for in the main text.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix H. Model choice and model adequacy – I don’t currently include examples of this. I could add them, I think they are interesting, but a bit tangential to the topic. I want to acknowledge that the models we use are general but not completely general, and that this is a sensible way of checking when they are reasonable. I think it’s important to point out how one could check for model adequacy, but let me know what you think. I could remove the whole section too.  Referenced in second-to-last paragraph though.  Attempting runs on cluster, unlikely to finish though.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix I. R package tutorial – this is super minimal at the moment. I may try and flush it out more.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Appendix J. Examples – I add the analysis for two more data sets, exactly as in the paper. I put almost all the text in the captions, let me know if it needs more background on the data, etc in the body of this section.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Conference Notes</title>
   <link href="/2011/07/24/csgf-conference-notes.html"/>
   <updated>2011-07-24T07:30:43-07:00</updated>
   <id>h/2011/07/24/csgf-conference-notes</id>
   <content type="html">&lt;p&gt;Just returned from 5 days in Washington, DC for the annual computational science graduate fellowship conference.  No live notes/tweets, so just attempting to synthesize some of the major ideas before I get back to paper writing. Most of the conference material, including workshop slides, are &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011&quot;&gt;archived online&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011/hpc-workshop&quot;&gt;high performance computing workshop&lt;/a&gt; made two things clear to me – a lot of parallel computing can be done without lots of communication between nodes (&lt;em&gt;i.e.&lt;/em&gt; Monte Carlo, simulations, and all the embarrassingly parallel stuff we now call massively serial stuff), and the next generation of supercomputers – exoscale computers – will be pretty much impossible to program or use, with lots of processors per chip but no memory, while the major limitation becomes (already is) power. It’s not the only was forward, as one fellow pointed me to the massive shared-memory machine at PSC, &lt;a href=&quot;http://www.psc.edu/general/hardware.php&quot;&gt;blacklight&lt;/a&gt;. The NERSC hands-on session was particularly good.&lt;/p&gt;
&lt;p&gt;The student talks were as excellent as they were diverse.  I think the fellows this year did a particularly good job of keeping the talks entertaining to a wide audience, if completely irrelevant to my work.  See the agenda for &lt;a href=&quot;http://www.krellinst.org/conf/csgf/2011/conference-agenda&quot;&gt;details&lt;/a&gt;, but some of the astrophysics talks probably took the cake.  As always, the poster session was expertly organized into shifts and abundant good food.&lt;/p&gt;
&lt;p&gt;I always enjoy hearing from the various agency directors.  We didn’t have a general this year to yell at us about how awesome science was, but we did here a lot about&lt;a href=&quot;http://www.sandia.gov/NNSA/ASC/univ/psaap.html&quot;&gt;predictive science&lt;/a&gt; and quantifying uncertainty, with some emphasis on ill-defined but policy relevant systems.  Hey, that’s what I do! (in the forecasting ecosystem collapse work.)  Only I think ecology isn’t what they have in mind. It was great to see familiar faces of fellows and alumni and meet the incoming students.  Celebrating 20 years, CSGF program has adopted the tag-line for this conference as “Building a Community of Leaders.”  With a diverse network of researchers in all kinds of interdisciplinary fields, I think it’s not too far off.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF 2010 Computing Practices Survey Summary</title>
   <link href="/2011/07/24/csgf-2010-computing-practices-survey-summary.html"/>
   <updated>2011-07-24T07:11:07-07:00</updated>
   <id>h/2011/07/24/csgf-2010-computing-practices-survey-summary</id>
   <content type="html">&lt;p&gt;Thanks to everyone who participated in the CSGF 2010 Survey.With too many things going on this year, I didn’t conduct a survey at the 2011 Conference.  But as people were asking about the survey, I thought I could at least make last year’s summary a bit more accessible.  The following comes from the pdf report I submitted to Krell and a few example figures from data.This year’s survey was longer and broader, recieving over 90 responses from fellows and alumni. Thanks to everyone who wrote in useful comments from last year, many appear as multiple choice options this year. This survey started out of my own ignorance about many of the methods and languages discussed at my first CSGF conference. Without what I’ve picked up from other fellows my answers to most of the survey questions would have been “never heard of it.”&lt;/p&gt;
&lt;p&gt;This year’s survey had three goals:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Identify computational usage patterns, languages, and skills of among the fellows and visualize how they break down by year in the fellowship, academic discipline, and other factors.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Quantify our adherence to good practice in software design, development, and documentation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Explore our interest in Internet tools in a research context / Science 2.0 tools and practices.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;languages&quot;&gt;Languages&lt;/h3&gt;
&lt;p&gt;The results were full of surprises. I was unable to come across any obvious trends in language use across either department or year. Overall usage patterns varied more between subjects than by years, but with all groups representing strong computational talent: over 40% have used DoE supercomputers, 70% of each year and each discipline have experience with parallel programming. Most use both a compiled and a scripting language. 25% of fellows have explored GPU computing. knowledge of LATEX and basic HTML are all but ubiquitous, while database use and more advanced web development platforms are mostly unknown. Students learn primarily from colleagues.&lt;/p&gt;
&lt;h3 id=&quot;software-practices&quot;&gt;Software Practices&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6003/5971726690_118e1d94f3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Scores on the good software practices quiz were reasonably high for scientists and mostly undifferentiated by year or discipline, scoring an average of 8 out of 16 points. We’re particularly good at documenting code (80%) and version management (&amp;gt; 60%) but almost no one uses a standards style checker or an automated test suite. Most fellows have experience in collaboratively writing software, working across disciplines and working across institutions. Some have experience on software development in large teams (&amp;gt; 10 researchers).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6133/5971726626_2219a694de_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Unfortunately fellows were significantly less likely to publish in open access journals and even less likely post their publications on public archives than they were to publish in the non-open access literature. Fellows are somewhat more likely to release and distribute open source code. Fellows have explored little of the rapidly expanding set of internet resources for science. Few have learned to productively leverage wikis or other software for electronic notebooks, blogs for public com- munication of science, rss feeds for aggregating and sharing literature, forums for connecting to experts, or the social networking aspects that accompany these tools and connect researchers.&lt;/p&gt;
&lt;h3 id=&quot;science-2.0&quot;&gt;Science 2.0&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6149/5971193777_0b3cfcd2b5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Overall, we perform quite well in our knowledge of languages and parallelism, reasonably in our standards of good practice and are rather unambitious in our exploration of Science 2.0 tools. The survey did not explore numerical methods commonly learned and applied nor quantify the upper bound of computing scale (i.e. in number of processors in an application) reached by the fellows or the causes for those bounds (lack of need, resources, training, etc), but we’re deep into open source.&lt;/p&gt;
&lt;p&gt;Get the data &lt;a href=&quot;https://raw.github.com/cboettig/sandbox/master/csgf_survey/Sheet_1.csv&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Showcasing the latest phylogenetic methods: AUTEUR</title>
   <link href="/2011/07/20/showcasing-the-latest-phylogenetic-methods-auteur.html"/>
   <updated>2011-07-20T08:07:14-07:00</updated>
   <id>h/2011/07/20/showcasing-the-latest-phylogenetic-methods-auteur</id>
   <content type="html">&lt;p&gt;While high-speed fish feeding videos may be the signature of the lab, dig a bit deeper and you’ll find a wealth of comparative phylogenetic methods sneaking in.  It’s a natural union – expert functional morphology is the key to good comparative methods, just as phylogenies hold the key to untangling the evolutionary origins of that morphology.  The lab’s own former graduate, &lt;a href=&quot;http://www.brianomeara.info/&quot;&gt;Brian O’Meara&lt;/a&gt;, made a revolutionary step forward in the land of phylogenetic methods when he unveiled &lt;em&gt;Brownie&lt;/em&gt; in 2006, allowing researchers to identify major shifts in trait diversification rates across the tree.  This work spurred not only a flood of empirical applications but also methodological innovations, such as Liam’s &lt;a href=&quot;http://phytools.blogspot.com/2011/07/more-robust-version-of-brownielite.html&quot;&gt;brownie-lite&lt;/a&gt;, and today’s focus: &lt;a href=&quot;http://public.wsu.edu/~storfer/eastman/pages/index.html&quot;&gt;Jon Eastman&lt;/a&gt; &lt;em&gt;et al.&lt;/em&gt;’s auteur package.&lt;/p&gt;
&lt;p&gt;Auteur, short for “Accommodating uncertainty in trait evolution using R,” is the grown-up Bayesian RJMCMC version of that original idea in &lt;em&gt;Brownie&lt;/em&gt;.  Diversification rates can change along the phylogenetic tree – only this time, you don’t have to specify where those changes could have occurred, or how many there may have been – auteur simply tries them all.&lt;/p&gt;
&lt;p&gt;If you want the details, definitely go &lt;a href=&quot;http://doi.wiley.com/10.1111/j.1558-5646.2011.01401.x&quot;&gt;read the paper&lt;/a&gt; – it’s all there, clear and thorough.  Meanwhile, what we really want to do, is take it out for a test drive.&lt;/p&gt;
&lt;p&gt;The package isn’t up on CRAN yet, so you can grab the development version from Jon’s &lt;a href=&quot;https://github.com/eastman/auteur&quot;&gt;github&lt;/a&gt; page, or &lt;a href=&quot;https://github.com/downloads/eastman/auteur/auteur_0.11.0612.tar.gz&quot;&gt;click here&lt;/a&gt;.  Put that package in a working directory and fire up R in that directory.  Let’s go for a spin.&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;auteur_0.11.0612.tar.gz&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;repos=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;library&lt;/span&gt;(auteur)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Great, the package installed and loaded successfully. Looks like Jon’s put all 73 functions into the NAMESPACE, but it’s not hard to guess which one looks like the right one to start with.  rjmcmc.bm.  Yeah, that looks good.  It has a nice help file, with – praise the fish – example code.  Looks like we’re gonna run a simulation, where we know the answer, and see how it does:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

     #############
     ## generate tree
     n=&lt;span class=&quot;dv&quot;&gt;24&lt;/span&gt;
     while(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;) {
             phy=&lt;span class=&quot;kw&quot;&gt;prunelastsplit&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;birthdeath.tree&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;b=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;d=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;taxa.stop=&lt;/span&gt;n&lt;span class=&quot;dv&quot;&gt;+1&lt;/span&gt;))
             phy$tip.label=&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sp&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:n,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
             rphy=&lt;span class=&quot;kw&quot;&gt;reorder&lt;/span&gt;(phy,&lt;span class=&quot;st&quot;&gt;&amp;quot;pruningwise&amp;quot;&lt;/span&gt;)

             &lt;span class=&quot;co&quot;&gt;# find an internal edge&lt;/span&gt;
             anc=&lt;span class=&quot;kw&quot;&gt;get.desc.of.node&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;Ntip&lt;/span&gt;(phy)+&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,phy)
             branches=phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]
             branches=branches[branches&amp;gt;&lt;span class=&quot;kw&quot;&gt;Ntip&lt;/span&gt;(phy) &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;branches!=anc]
             branch=branches[&lt;span class=&quot;kw&quot;&gt;sample&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(branches),&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)]
             desc=&lt;span class=&quot;kw&quot;&gt;get.descendants.of.node&lt;/span&gt;(branch,phy)
             if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(desc)&amp;gt;=&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;) break()
     }
     rphy=phy
     rphy$edge.length[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(desc,phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]=phy$edge.length[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(desc,phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]*&lt;span class=&quot;dv&quot;&gt;64&lt;/span&gt;

     e=&lt;span class=&quot;kw&quot;&gt;numeric&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;nrow&lt;/span&gt;(phy$edge))
     e[&lt;span class=&quot;kw&quot;&gt;match&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(branch,desc),phy$edge[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])]=&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
     cols=&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;,&lt;span class=&quot;st&quot;&gt;&amp;quot;gray&amp;quot;&lt;/span&gt;)
     &lt;span class=&quot;kw&quot;&gt;dev.new&lt;/span&gt;()
     &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(phy,&lt;span class=&quot;dt&quot;&gt;edge.col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ifelse&lt;/span&gt;(e==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,cols[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],cols[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]), &lt;span class=&quot;dt&quot;&gt;edge.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
     &lt;span class=&quot;kw&quot;&gt;mtext&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;expected pattern of rates&amp;quot;&lt;/span&gt;)

     #############
     ## simulate data on the &amp;#39;rate-shifted&amp;#39; tree
     dat=&lt;span class=&quot;kw&quot;&gt;rTraitCont&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;rphy, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That creates this beautiful example (sorry, no random generator seed, you’re results may vary but that’s ok) tree:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm7.static.flickr.com/6123/5952070152_e7761d597c.jpg&quot; /&gt; Okay, so that’s the target, showing where the shift occurred.  Note the last line got us some data on this tree.  We’re ready to run the software.  It looks super easy:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
## run two short reversible-jump Markov chains
 r=&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sample&lt;/span&gt;(letters,&lt;span class=&quot;dv&quot;&gt;9&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;replace=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;collapse=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;)
 &lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, function(x) &lt;span class=&quot;kw&quot;&gt;rjmcmc.bm&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;phy, &lt;span class=&quot;dt&quot;&gt;dat=&lt;/span&gt;dat, &lt;span class=&quot;dt&quot;&gt;ngen=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sample.freq=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;prob.mergesplit=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;simplestart=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;prop.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;fileBase=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,x,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The data is going in as “phy” and “dat”, just as expected.  We won’t worry about the optional parameters that follow for the moment.  Note that because we use lapply to run multiple chains, it would be super easy to run this on multiple processors.&lt;/p&gt;
&lt;p&gt;Note that Jon’s creating a bunch of directories to store parameters, etc.  This can be important for MCMC methods where chains get too cumbersome to handle in memory.  Enough technical rambling, let’s merge and load those files in now, and plot what we got:&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# collect directories&lt;/span&gt;
dirs=&lt;span class=&quot;kw&quot;&gt;dir&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;./&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;pattern=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;BM&amp;quot;&lt;/span&gt;,r,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;pool.rjmcmcsamples&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;base.dirs=&lt;/span&gt;dirs, &lt;span class=&quot;dt&quot;&gt;lab=&lt;/span&gt;r)

## view contents of .rda
&lt;span class=&quot;kw&quot;&gt;load&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;combined.rjmcmc&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;),&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;posteriorsamples.rda&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;),&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(posteriorsamples$rates))
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;head&lt;/span&gt;(posteriorsamples$rate.shifts))

## plot Markov sampled rates
&lt;span class=&quot;kw&quot;&gt;dev.new&lt;/span&gt;()
&lt;span class=&quot;kw&quot;&gt;shifts.plot&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;phy=&lt;/span&gt;phy, &lt;span class=&quot;dt&quot;&gt;base.dir=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r,&lt;span class=&quot;st&quot;&gt;&amp;quot;combined.rjmcmc&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;burnin=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;legend=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;edge.width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)

&lt;span class=&quot;co&quot;&gt;# clean-up: unlink those directories&lt;/span&gt;
 &lt;span class=&quot;kw&quot;&gt;unlink&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;dir&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;pattern=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(r)),&lt;span class=&quot;dt&quot;&gt;recursive=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6001/5952112488_91867e7f3a.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Not only is that a beautiful plot, but it’s nailed the shift in species 12-16.  How’d your example do?&lt;/p&gt;
&lt;p&gt;Auteur comes with three beautiful large data sets described in the paper.  Check them out, but expect longer run times than our simple example!&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(chelonia)
&lt;span class=&quot;co&quot;&gt;# take a look at this data&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia
$phy
Phylogenetic tree with &lt;span class=&quot;dv&quot;&gt;226&lt;/span&gt; tips and &lt;span class=&quot;dv&quot;&gt;225&lt;/span&gt; internal nodes.

Tip labels:
Elseya_latisternum, Chelodina_longicollis, Phrynops_gibbus, Acanthochelys_radiolata, Acanthochelys_macrocephala, Acanthochelys_pallidipectoris, ...

Rooted; includes branch lengths.

$dat
Pelomedusa_subrufa                   Pelusios_williamsi
&lt;span class=&quot;fl&quot;&gt;2.995732&lt;/span&gt;                             &lt;span class=&quot;fl&quot;&gt;3.218876&lt;/span&gt;
...
dat &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia$dat
phy &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;chelonia$phy
## ready to run as above
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://www.R-bloggers.com&quot;&gt;&lt;img src=&quot;http://a1.twimg.com/profile_images/1344218056/RblogLogo_bigger.png&quot; alt=&quot;R-bloggers.com&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Thanks Jon and the rest of the Harmon Lab for a fantastic package. This is really just a tip of the iceberg, but should help get you started. See the paper for a good example of posterior analyses requisite after running any kind of MCMC, or stay tuned for a later post.&lt;/p&gt;
&lt;p&gt;(cross-posted from &lt;a href=&quot;http://fishlab.ucdavis.edu/?p=303&quot;&gt;my entry on the Wainwright lab blog&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.researchblogging.org&quot;&gt;&lt;img src=&quot;http://www.researchblogging.org/public/citation_icons/rb2_large_gray.png&quot; alt=&quot;ResearchBlogging.org&quot; /&gt;&lt;/a&gt; Eastman, J., Alfaro, M., Joyce, P., Hipp, A., &amp;amp; Harmon, L. (2011). A NOVEL COMPARATIVE METHOD FOR IDENTIFYING SHIFTS IN THE RATE OF CHARACTER EVOLUTION ON TREES Evolution DOI: &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01401.x&quot;&gt;10.1111/j.1558-5646.2011.01401.x&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday: Warning Signals</title>
   <link href="/2011/07/17/sunday-warning-signals.html"/>
   <updated>2011-07-17T16:38:23-07:00</updated>
   <id>h/2011/07/17/sunday-warning-signals</id>
   <content type="html">&lt;p&gt;Continuing work on warning signals manuscript.  Most entries for this work are &lt;a href=&quot;http://www.carlboettiger.info/archives/1229&quot;&gt;delayed-release&lt;/a&gt;.  Some final stages of editing today:&lt;/p&gt;
&lt;h4 id=&quot;data-sets-for-appendix&quot;&gt;Data sets for appendix&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;deut1&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;caco3&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Other datasets? other drake? other deut?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched drakeI9 on farm c0-2 by ssh.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched ibm_stable on farm c0-1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;launched deut2_analysis on farm c0-3, failed.  needs better initial conditions to run&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;main-paper&quot;&gt;Main paper&lt;/h4&gt;
&lt;p&gt;fix plots: Figure 4 needs axis labels – done.&lt;/p&gt;
&lt;p&gt;Revisions sent to Sebastian and Alan.&lt;/p&gt;
&lt;h4 id=&quot;appendix&quot;&gt;Appendix&lt;/h4&gt;
&lt;p&gt;Edits, updated copy sent to Sebastian.&lt;/p&gt;
&lt;p&gt;Distributions corresponding to Fig 3 style ROC plots: &lt;img src=&quot;http://farm7.staticflickr.com/6027/5948027168_f73a4cfdcc_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Distributions corresponding to Fig “S3,” additional data &lt;img src=&quot;http://farm7.staticflickr.com/6125/5947664361_e281f1c4d1_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Updated axis labels on Fig 4. &lt;img src=&quot;http://farm7.staticflickr.com/6021/5947760252_bd131497ed_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;figure 3 style for additional data, appendix &lt;img src=&quot;http://farm7.staticflickr.com/6013/5947755880_cd8c1a744f_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;figure 4 style for additional data, appendix &lt;img src=&quot;http://farm7.staticflickr.com/6012/5947755326_4974335801_o.png&quot; /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday - back to Warning Signals MS</title>
   <link href="/2011/07/17/saturday-back-to-warning-signals-ms.html"/>
   <updated>2011-07-17T03:59:43-07:00</updated>
   <id>h/2011/07/17/saturday-back-to-warning-signals-ms</id>
   <content type="html">&lt;h4 id=&quot;new-outline&quot;&gt;New outline&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt; “An increasing recognition”&lt;/li&gt;
&lt;li&gt;  “proof-of-principle” - reliability is unknown&lt;/li&gt;
&lt;li&gt;  “Cries wolf”&lt;/li&gt;
&lt;li&gt;  ROC, Fig 1&lt;/li&gt;
&lt;li&gt;  tau&lt;/li&gt;
&lt;li&gt;  method&lt;/li&gt;
&lt;li&gt;  data, Fig 2&lt;/li&gt;
&lt;li&gt;  analysis, Fig 3&lt;/li&gt;
&lt;li&gt;  enough data Fig 4&lt;/li&gt;
&lt;li&gt;  disclaimer&lt;/li&gt;
&lt;li&gt;  conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;former-outline&quot;&gt;Former Outline&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Early Warning matter, no-one does statistics&lt;/li&gt;
&lt;li&gt;We need quantify uncertainty stats&lt;/li&gt;
&lt;li&gt;ROC curve shows this trade-off&lt;/li&gt;
&lt;li&gt;ROC also compares different methods &amp;amp; data sizes (i.e. Fig 4)&lt;/li&gt;
&lt;li&gt;Quantifying “increasing variance” etc — we’ll use tau&lt;/li&gt;
&lt;li&gt;We’ll also do a likelihood-based method&lt;/li&gt;
&lt;li&gt;Introduce the datasets&lt;/li&gt;
&lt;li&gt;ROC curves on the data, Fig 3&lt;/li&gt;
&lt;li&gt;Quantifying data necessary, Fig 4&lt;/li&gt;
&lt;li&gt;Disclaimers: Not completely general&lt;/li&gt;
&lt;li&gt;Conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(Marissa’s comments)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I struggled a bit with the flow in these three paragraphs. I see what you’re trying to do (go from&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;the idea of a trade-off, to&lt;/li&gt;
&lt;li&gt;what you’ll do, to&lt;/li&gt;
&lt;li&gt;how your ROC methods illustrates the trade-off, to&lt;/li&gt;
&lt;li&gt;how you’ll apply ROCs),&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;but I didn’t fully understand the trade-off and why you were talking about it so much in the first paragraph until the ROC illustration described in the second paragraph.&lt;/p&gt;
&lt;p&gt;Another approach might be to:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;have a paragraph about no one having quantified both reliability and sensitivity and their dependence on data quality, ending with the point that that’s the goal of this manuscript. This paragraph won’t mention anything about trade-offs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now introduce trade-offs with fig. 1: start a paragraph with a topic sentence like: “Our tool for quantifying reliability and sensitivity, receiver-operating characteristic (ROC) curves, also illustrates the trade-off between the two.”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;This sets you up to get into the details of (a) what ROC curves are and what they tell you, and then&lt;/li&gt;
&lt;/ol&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: lower-alpha&quot;&gt;
&lt;li&gt;the why the trade-off happens and why it matters, using your ROC curves (which the reader now has the background to understand) to illustrate. - MB&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Implemented comments, mostly. Still mentions trade-off ahead before presenting ROC curve. Sent draft back to Alan.&lt;/p&gt;
&lt;h4 id=&quot;to-do&quot;&gt;To Do&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Figure revisions&lt;/li&gt;
&lt;li&gt;Appendix updates&lt;/li&gt;
&lt;li&gt;Caption revisions&lt;/li&gt;
&lt;li&gt;Flag points in supplementary text&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>The Case for Better Data Citation Practices?</title>
   <link href="/2011/07/14/the-case-for-better-data-citation-practices.html"/>
   <updated>2011-07-14T02:34:31-07:00</updated>
   <id>h/2011/07/14/the-case-for-better-data-citation-practices</id>
   <content type="html">&lt;p&gt;An excellent question came up on ecoinformatics list today on data citation from Kyle Kwaiser at the Michigan Biological Station&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I am working with graduate students this summer to archive their work at our field station. I want to tell them to cite their datasets on their CV’s but I know this is not yet the norm.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Any general thoughts on how close we are to including datasets on CV’s? Can you suggest recent papers that argue (decisively) for this practice? Here are two relevant but slightly tangential examples:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Reichman, O. J., M. B. Jones, and M. P. Schildhauer. 2011. “Challenges and Opportunities of Open Data in Ecology.” Science 331 (6018) (February): 703-705.&lt;/li&gt;
&lt;li&gt;Vision, Todd J. 2010. “Open Data and the Social Contract of Scientific Publishing.” BioScience 60 (5) (May): 330-331.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I gave a look over my Mendeley archives on the topic to come up with a few more. As this question seemed of interest to the FriendFeed groups ((yeah, so I was probably supposed to post this in G+, but not everyone can access that yet, right?)) I thought I’d take the liberty to share there. Unfortunately comments can’t be formatted, so I’m adding my list here. Tried to include the relevant quote from the article unless that would mean quoting the whole thing. Will try and polish a bit later.&lt;/p&gt;
&lt;h2 id=&quot;references-arguing-for-data-citation&quot;&gt;References arguing for Data Citation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Mons et al’s piece is essentially an argument for data citation (Mons &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Birney et al: “another would be to track the usage and citation of data sets using electronic systems similar to those used for traditional publications” and cite this in support: Sharing Data from Large-scale Biological Research Projects: A System of Tripartite Responsibility (Wellcome Trust, 2003); &lt;a href=&quot;www.wellcome.ac.uk/stellent/groups/%20corporatesite/@policy_communications/documents/%20web_document/wtd003207.pdf&quot;&gt;available here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;“Providing a secure but flexible cyberinfrastructure while promulgating best practices such as data citation and metadata reuse, will help build confidence in data sharing”(Tenopir &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Rod discusses data citation quite a bit in print (Page, 2010)&lt;/li&gt;
&lt;li&gt;“By ensuring that data remain curated at the source, and by showing the importance of data sharing to promote data citation and usage, we have grown past our original technology implementation and are ready to move into a long-term production environment that departs from the original model.”(Constable &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/li&gt;
&lt;li&gt;These three make mention of data citation, mostly in reference to increased citation rates of papers(MOORE &lt;em&gt;et. al.&lt;/em&gt; 2010),(Whitlock &lt;em&gt;et. al.&lt;/em&gt; 2010),(Whitlock, 2011)&lt;/li&gt;
&lt;li&gt;Mark Parson’s talk: http://ands.org.au/guides/data-citation-awareness.html&lt;/li&gt;
&lt;li&gt;Heather’s excellent &lt;a href=&quot;http://researchremix.wordpress.com/2011/05/17/resources-on-data-citation-principles/&quot;&gt;summary of resources&lt;/a&gt; on data citation principles&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Vision T (2010). “Open Data And The Social Contract of Scientific Publishing.” &lt;em&gt;Bioscience&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 0006-3568, &lt;a href=&quot;http://dx.doi.org/10.1525/bio.2010.60.5.2&quot;&gt;http://dx.doi.org/10.1525/bio.2010.60.5.2&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mons B, van Haagen H, Chichester C, Hoen P, den Dunnen J, van Ommen G, van Mulligen E, Singh B, Hooft R, Roos M, Hammond J, Kiesel B, Giardine B, Velterop J, Groth P and Schultes E (2011). “The Value of Data.” &lt;em&gt;Nature Genetics&lt;/em&gt;, &lt;strong&gt;43&lt;/strong&gt;. ISSN 1061-4036, &lt;a href=&quot;http://dx.doi.org/10.1038/ng0411-281&quot;&gt;http://dx.doi.org/10.1038/ng0411-281&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;unknown u (2009). “Prepublication Data Sharing.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/461168a&quot;&gt;http://dx.doi.org/10.1038/461168a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tenopir C, Allard S, Douglass K, Aydinoglu A, Wu L, Read E, Manoff M, Frame M and Neylon C (2011). “Data Sharing by Scientists: Practices And Perceptions.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0021101&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0021101&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Page R (2010). “Enhanced Display of Scientific Articles Using Extended Metadata.” &lt;em&gt;Web Semantics: Science, Services And Agents on The World Wide Web&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 15708268, &lt;a href=&quot;http://dx.doi.org/10.1016/j.websem.2010.03.004&quot;&gt;http://dx.doi.org/10.1016/j.websem.2010.03.004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Constable H, Guralnick R, Wieczorek J, Spencer C and Peterson A (2010). “Vertnet: A New Model For Biodiversity Data Sharing.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000309&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1000309&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MOORE A, Mcpeek M, RAUSHER M, RIESEBERG L and WHITLOCK M (2010). “The Need For Archiving Data in Evolutionary Biology.” &lt;em&gt;Journal of Evolutionary Biology&lt;/em&gt;, &lt;strong&gt;23&lt;/strong&gt;. ISSN 1010061X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&quot;&gt;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M, McPeek M, Rausher M, Rieseberg L and Moore A (2010). “Data Archiving.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;175&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/650340&quot;&gt;http://dx.doi.org/10.1086/650340&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M (2011). “Data Archiving in Ecology And Evolution: Best Practices.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.11.006&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.11.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>UC Davis Student Assembled Panel on Data Management Issues</title>
   <link href="/2011/07/13/uc-davis-student-assembled-panel-on-data-management-issues.html"/>
   <updated>2011-07-13T10:47:41-07:00</updated>
   <id>h/2011/07/13/uc-davis-student-assembled-panel-on-data-management-issues</id>
   <content type="html">&lt;h2 id=&quot;panel-members&quot;&gt;Panel Members&lt;/h2&gt;
&lt;p&gt;(listed left to right)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.plantsciences.ucdavis.edu/gepts/geptslab.htm&quot;&gt;Paul Gepts&lt;/a&gt;: UC Davis Professor of Plant Science: evolution of plants on domestication.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.law.ucdavis.edu/faculty/Biagioli/&quot;&gt;Mario Biagioli&lt;/a&gt;: Professor of Law in Science and Technology, Director of Science and Innovation, formerly Professor of History of Science at Harvard; written extensively on the role of secrecy in science.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://dot.ucop.edu/home/jak/biography.html&quot;&gt;John Kunze&lt;/a&gt;: Preservation Technologist and Ass. Director of California Digital Library.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phoebeayers.info/&quot;&gt;Phoebe Ayers&lt;/a&gt;: UC Davis Librarian, Wikimedia Foundation Board of Trustees.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://entomology.ucdavis.edu/faculty/facpage.cfm?id=carey&quot;&gt;James Carey&lt;/a&gt;, Professor of Entomology and Program Director at National Institute on Aging.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.innovationaccess.ucdavis.edu/home.cfm?id=ovc,23,1728,1735,1740&quot;&gt;David McGee&lt;/a&gt;: UC Davis Executive Director of Innovation Access, Technology Transfer.  Previous co-founder of two biotechs, Ph.D. in Mol. Genetics.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’d like to highlight that this panel was assembled and moderated by graduate students, where it was featured as part of the campus-wide graduate student research symposium. The changing requirements have a much more apparent impact on faculty writing grants and charged with the overall management of a project than they do on students. Yet here are the students bringing together librarians, digital data archiving specialists, technology transfer directors, and professors of law, and the faculty that have been at the forefront of these issues – to talk about the issues in such a community forum.&lt;/p&gt;
&lt;p&gt;Nearly every discussion of these issues have raised the need to address social and cultural challenges to data sharing (&lt;em&gt;e.g.&lt;/em&gt; (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011), (Tenopir &lt;em&gt;et. al.&lt;/em&gt; 2011)). Forums such of these offer an excellent chance to start addressing these issues head-on. I hope other universities will hold similar panels with their local experts to carry these discussions forward. This video recording is archived on &lt;a href=&quot;http://uctv.tv&quot;&gt;uctv&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tenopir C, Allard S, Douglass K, Aydinoglu A, Wu L, Read E, Manoff M, Frame M and Neylon C (2011). “Data Sharing by Scientists: Practices And Perceptions.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0021101&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0021101&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>141 scientists can't be wrong?</title>
   <link href="/2011/07/08/141-scientists-cant-be-wrong.html"/>
   <updated>2011-07-08T06:18:10-07:00</updated>
   <id>h/2011/07/08/141-scientists-cant-be-wrong</id>
   <content type="html">&lt;p&gt;Turning the author-list into a petition is becoming an almost familiar ruse in the table of contents of journals such as Nature (Simberloff, 2011), (Abbot &lt;em&gt;et. al.&lt;/em&gt; 2011). This as prompted some rather provocative commentary on whether we have begun conducting scientific debates as popularity contests rather than arguments of evidence and logic (see David Sloan Wilson on inclusive fitness theory &lt;a href=&quot;http://scienceblogs.com/evolution/2011/03/139_co-authors_cant_be_wrong--.php&quot;&gt;137 scientists can’t be wrong&lt;/a&gt;, or Chris on invasive species on &lt;a href=&quot;https://listserv.umd.edu/cgi-bin/wa?A2=ind1107a&amp;amp;L=ecolog-l&amp;amp;P=4347&quot;&gt;ecolog&lt;/a&gt;. As much as this appeals to the inner scientist, the response from the other side can be quite persuasive: this particular discussion is a political one, not a scientific debate, and while excellent scientific work on the topic continues, it’s important the message policymakers will see is representative (i.e., to paraphrase &lt;a href=&quot;https://listserv.umd.edu/cgi-bin/wa?A2=ind1107a&amp;amp;L=ecolog-l&amp;amp;P=4764&quot;&gt;David Duffy&lt;/a&gt;’s reply).&lt;/p&gt;
&lt;p&gt;Why is it then that we organize petitions with such illustrious lists of authors for ostensibly political reasons to publish them in our primary scientific literature? Did this troupe of 141 also append their names to letter to their policymakers?&lt;/p&gt;
&lt;p&gt;It is not so much the individual willingness of scientists to engage policy-relevant questions outside of scientific forums that I mean to raise – a look at the activities of many of the individuals can easily convince one otherwise. And it is certainly not a critique of a predilection for academic debate void of policy relevance – to say so would not only ignore the essential value of basic science but miss this invasive-species topic entirely, with its obvious desire for policy relevance. It is the ability to &lt;em&gt;organize&lt;/em&gt; as a group that I would place emphasis on. As David’s comments make clear, we certainly recognize the political relevance not only of the work but of a long list of established scientists supporting it, even if we don’t view such a list as relevant to the scientific content of the argument.&lt;/p&gt;
&lt;p&gt;Why is it that I feel it we are much better at assembling such an illustrious author list when we identify a misguided paper in a high profile journal than when we identify a misguided bill in congress?&lt;/p&gt;
&lt;p&gt;Simberloff, D. et al. (2011). Non-natives: 141 scientists object Nature, 475 (7354), 36-36 DOI: &lt;a href=&quot;http://dx.doi.org/10.1038/475036a&quot;&gt;10.1038/475036a&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simberloff D (2011). “Non-Natives: 141 Scientists Object.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;475&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/475036a&quot;&gt;http://dx.doi.org/10.1038/475036a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Abbot P, Abe J, Alcock J, Alizon S, Alpedrinha J, Andersson M, Andre J, van Baalen M, Balloux F, Balshine S, Barton N, Beukeboom L, Biernaskie J, Bilde T, Borgia G, Breed M, Brown S, Bshary R, Buckling A, Burley N, Burton-Chellew M, Cant M, Chapuisat M, Charnov E, Clutton-Brock T, Cockburn A, Cole B, Colegrave N, Cosmides L, Couzin I, Coyne J, Creel S, Crespi B, Curry R, Dall S, Day T, Dickinson J, Dugatkin L, Mouden C, Emlen S, Evans J, Ferriere R, Field J, Foitzik S, Foster K, Foster W, Fox C, Gadau J, Gandon S, Gardner A, Gardner M, Getty T, Goodisman M, Grafen A, Grosberg R, Grozinger C, Gouyon P, Gwynne D, Harvey P, Hatchwell B, Heinze J, Helantera H, Helms K, Hill K, Jiricny N, Johnstone R, Kacelnik A, Kiers E, Kokko H, Komdeur J, Korb J, Kronauer D, Kümmerli R, Lehmann L, Linksvayer T, Lion S, Lyon B, Marshall J, McElreath R, Michalakis Y, Michod R, Mock D, Monnin T, Montgomerie R, Moore A, Mueller U, Noë R, Okasha S, Pamilo P, Parker G, Pedersen J, Pen I, Pfennig D, Queller D, Rankin D, Reece S, Reeve H, Reuter M, Roberts G, Robson S, Roze D, Rousset F, Rueppell O, Sachs J, Santorelli L, Schmid-Hempel P, Schwarz M, Scott-Phillips T, Shellmann-Sherman J, Sherman P, Shuker D, Smith J, Spagna J, Strassmann B, Suarez A, Sundström L, Taborsky M, Taylor P, Thompson G, Tooby J, Tsutsui N, Tsuji K, Turillazzi S, Úbeda F, Vargo E, Voelkl B, Wenseleers T, West S, West-Eberhard M, Westneat D, Wiernasz D, Wild G, Wrangham R, Young A, Zeh D, Zeh J and Zink A (2011). “Inclusive Fitness Theory And Eusociality.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;471&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09831&quot;&gt;http://dx.doi.org/10.1038/nature09831&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: writing post-doc applications</title>
   <link href="/2011/07/08/friday-writing-post-doc-applications.html"/>
   <updated>2011-07-08T04:17:06-07:00</updated>
   <id>h/2011/07/08/friday-writing-post-doc-applications</id>
   <content type="html">&lt;p&gt;Today looks like mostly writing post-doc applications, research statements etc. Planning to finish in a year, amazing how many of these are due quite soon. Somehow this reflective process prompted me to take a look at how Google sees me; through the lens of search terms landing on my website. Here they are from the past month, in wordle form:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5116/5915718057_24c2c1246c_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: sending off paper draft, starting applications</title>
   <link href="/2011/07/07/thursday-8.html"/>
   <updated>2011-07-07T12:48:32-07:00</updated>
   <id>h/2011/07/07/thursday-8</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add re-sampling blurb to appendix. Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Read over manuscript &amp;amp; send to Marissa and Marcel. Done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now to spend today working on fellowship applications: research statement and proposal…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;appendix-edits&quot;&gt;Appendix edits&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add distributions to the appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Show where where the data actually fall in the distribution, as would be used in traditional hypothesis testing framework.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add extra examples to the appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider multiples of sampling effort rather than sampling length for Figures 3 &amp;amp; 4&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add stable system ROC curves to Figures 3 and 4&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Segue: Easy cloud hpc in R, now with custom packages</title>
   <link href="/2011/07/07/segue-easy-cloud-computing-in-r-now-with-custom-packages.html"/>
   <updated>2011-07-07T09:45:05-07:00</updated>
   <id>h/2011/07/07/segue-easy-cloud-computing-in-r-now-with-custom-packages</id>
   <content type="html">&lt;p&gt;After a few helpful emails from package creator JD Long, I have the segue package running with custom R packages. The package is &lt;a href=&quot;http://code.google.com/p/segue/source/checkout&quot;&gt;available&lt;/a&gt; on Google code. With two lines of code I can start submitting jobs to very large clusters of computers on the Amazon cloud. For a basic introduction to the package see Jeff Breen’s &lt;a href=&quot;http://jeffreybreen.wordpress.com/2011/01/10/segue-r-to-amazon-elastic-mapreduce-hadoop/&quot;&gt;post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Quick notes on updating using &lt;a href=&quot;http://mercurial.selenic.com/&quot;&gt;mercurial&lt;/a&gt;: Since I’ve already pulled the code using&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt; hg clone https://segue.googlecode.com/hg/ segue &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to clone the repo, I did&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
hg pull https://segue.googlecode.com/hg/ 
hg update
R CMD INSTALL .&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, ready to test the segue package. We will load the CRAN package (sde) which automatically loads dependencies as well, and my little custom &lt;a href=&quot;https://github.com/cboettig/mcmcTools&quot;&gt;mcmcTools&lt;/a&gt; package, which has no dependencies (these would have to be loaded manually).&lt;/p&gt;
&lt;p&gt;[gist id=1070581]&lt;/p&gt;
&lt;h3 id=&quot;a-few-notes&quot;&gt;a few notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Be sure to double-check the cluster has shut down on the Amazon web interface. Just exiting R doesn’t mean the cluster closed and they aren’t billing.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that on launch of the cluster instance we have to pass along all the rObjects we want to have access to on the cluster using the rObjectsOnNodes option in a named list. Failing to do so tripped me up earlier&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that emrlapply wants a list argument,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;as.list&lt;span class=&quot;kw&quot;&gt;(&lt;/span&gt;1:2&lt;span class=&quot;kw&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;not a numeric vector,&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;1:2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Earlier this morning, none of this was possible. JD Long is a genius, and a fast-working one at that. First he added the support for cran packages, and then for custom packages. A few notes: package dependencies must be loaded explicitly. Be patient with the instance start-up, mine took 11 minutes.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; post updated 2011-07-08 to reflect JD’s suggestion to use rObjectsOnNodes. now all is working well. Maybe also a thank-you to &lt;a href=&quot;https://plus.google.com/&quot;&gt;Google+&lt;/a&gt; for facilitating the last bit o troubleshooting.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Early warning signals presentation notes</title>
   <link href="/2011/07/07/early-warning-signals-presentation-notes.html"/>
   <updated>2011-07-07T09:40:06-07:00</updated>
   <id>h/2011/07/07/early-warning-signals-presentation-notes</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;motivate story of fisheries management.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Step advance a time series of fluctuations. Shows a gradual decline and eventually sudden crash. Predict when we crash?&lt;/li&gt;
&lt;li&gt;Introduce indicators. Advance a different time series, this time displaying summary statistics as we go. Have audience make prediction whether next step will be collapse.&lt;/li&gt;
&lt;li&gt;Present summary statistics with uncertainty included. (color code confidence?)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Exact Simulation by the Gillespie Algorithm</title>
   <link href="/2011/07/06/exact-simulation-by-the-gillespie-algorithm.html"/>
   <updated>2011-07-06T11:00:58-07:00</updated>
   <id>h/2011/07/06/exact-simulation-by-the-gillespie-algorithm</id>
   <content type="html">&lt;p&gt;The Gillespie algorithm has two parts: (1) determine what event happens, (2) determine when it happens. Consider the system of equations &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\dot X_i = f_i(\vec X)&quot; alt=&quot;\dot X_i = f_i(\vec X)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f_i\inline&quot;/&gt;&lt;/span&gt; give the rates of creation and annihilation (negative and postive parts of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f_i(\vec X)\inline&quot;/&gt;&lt;/span&gt; must be listed seperately) for all species &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x_i\inline&quot;/&gt;&lt;/span&gt;. We assume this gives the mean rate at which each event occurs, drawn from on exponential distribution. We could simply draw the associated random exponential time for each reaction, and pick the minimum for which event occurs. Instead, we use an equivalent method where we only have to draw a single, uniform random number to pick the event, and another uniform random number to compute the time until the next event. The method is outlined below.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Create a vector &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec C\inline&quot;/&gt;&lt;/span&gt; that is the cumulative sum of these rates,&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C_i = \sum_{j=1}^i f_j(\vec X)&quot; alt=&quot;C_i = \sum_{j=1}^i f_j(\vec X)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Normalize this vector by dividing by the sum of all the rates, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sum_i f_i(\vec X)\inline&quot;/&gt;&lt;/span&gt;, so that its components range from &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?(0,1]\inline&quot;/&gt;&lt;/span&gt; with the value of the last component equal to one.&lt;/li&gt;
&lt;li&gt;Draw a uniform random number between 0 and 1 and find the smallest component of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\vec C\inline&quot;/&gt;&lt;/span&gt; bigger than that random number. The index &lt;em&gt;i&lt;/em&gt; of that component indicates which event occurs.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;The time at which it occurs is simply an exponential random number whose mean rate is the sum of the individual rates. The best way to draw a random exponential with mean rate &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\lambda\inline&quot;/&gt;&lt;/span&gt; is&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?-\ln( r )/\lambda&quot; alt=&quot;-\ln( r )/\lambda&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?r\inline&quot;/&gt;&lt;/span&gt; is random number between 0 and 1, and advance the time counter by this interval.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: Data wrangling into graphs</title>
   <link href="/2011/07/06/wednesday-6.html"/>
   <updated>2011-07-06T07:34:37-07:00</updated>
   <id>h/2011/07/06/wednesday-6</id>
   <content type="html">&lt;p&gt;Really high sampling runs (20000 pts) still don’t seem to show any improvement in deut3 dataset summary statistics, perhaps it is the window size. testing by launching deut_replot.R, n5 on zero, 500, 1000, 2000 on a fixed windowsize of 60, see how it compares to the half window. probably because is such a weak signal.&lt;/p&gt;
&lt;p&gt;running drake tau sampling with corrected (1/2 length) windowsizes. – destroys any improvement in indicators:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/5908726595_8376e214be_o.png&quot; alt=&quot;1/2 windows&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;1/2 windows&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6053/5909121163_da83a028c3_o.png&quot; alt=&quot;attempt to fix at size 8 windows that fails to get the right window do to a bug (wasn’t passed down from bootstrap_tau, just found and fixed).&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;attempt to fix at size 8 windows that fails to get the right window do to a bug (wasn’t passed down from bootstrap_tau, just found and fixed).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5277/5890100915_806042b402_o.png&quot; alt=&quot;always size-8 windows performs better.&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;always size-8 windows performs better.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6038/5909491217_d2d636ac62_o.png&quot; alt=&quot;Now show tiny improvement by using smaller window (20) on the 500 timeseries for deut3,&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Now show tiny improvement by using smaller window (20) on the 500 timeseries for deut3,&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6044/5909967654_5f2e8dce9d_o.png&quot; alt=&quot;and using the smaller window (8) on the 500 timeseries for drake:&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;and using the smaller window (8) on the 500 timeseries for drake:&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Exploring the impact of windowsize on deut3 data now (5, 10, 25, 50 size on 500 pts, see &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/6ada6a0822be7251fd7da545e6f19b99df382f92/demo/replot.R&quot;&gt;code&lt;/a&gt;):&lt;/p&gt;
&lt;p&gt;check machine &lt;a href=&quot;http://cccc.caes.ucdavis.edu/status&quot;&gt;status live&lt;/a&gt;. For completed outputs from yesterday: running corrected windowing, and uploading from farm:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6057/5910201956_157457c837_o.png&quot; alt=&quot;Daphnia H6 with LTC done running on c0-8&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Daphnia H6 with LTC done running on c0-8&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6039/5910221132_34d0be2c29_o.png&quot; alt=&quot;deut1 done running on c0-6&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;deut1 done running on c0-6&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6001/5910169898_f8206f1d35_o.png&quot; alt=&quot;caco3 on c0-2 done:&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;caco3 on c0-2 done:&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Daphnia I9 with LTC still running on C0-23&lt;/li&gt;
&lt;li&gt;Writing code to assemble manuscript figures. Preliminary Figures 3 &amp;amp; 4 finally done. Probably need to add stable system still.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.static.flickr.com/6016/5910645036_17f54da2d8_z.jpg&quot; alt=&quot;Figure 3&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Figure 3&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5119/5910082619_e996c8f51f_z.jpg&quot; alt=&quot;Figure 4&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Figure 4&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Warning Signals Data Wrangling</title>
   <link href="/2011/07/05/tuesday-6.html"/>
   <updated>2011-07-05T10:45:53-07:00</updated>
   <id>h/2011/07/05/tuesday-6</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Revise abstract. 10a-11a. done.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-data-handling&quot;&gt;Misc data handling&lt;/h2&gt;
&lt;p&gt;11-1pm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;wrote a file to fix flickr data file names that are occasionally mangled by parallel loop printing.&lt;/li&gt;
&lt;li&gt;wrote a file to plot &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m T\inline&quot;/&gt;&lt;/span&gt; values on each dataset to get a sense of which have the most dramatic warning signals. running on one.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6047/5906246040_f65e971841_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;locale troubles on install lead to errors in data read&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;Error &lt;span class=&quot;kw&quot;&gt;in&lt;/span&gt; make.names&lt;span class=&quot;kw&quot;&gt;(&lt;/span&gt;col.names, unique = TRUE&lt;span class=&quot;kw&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;:&lt;/span&gt;
invalid multibyte string 2
ERROR: installing package indices failed&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;fixed by running in terminal or adding to .bashrc:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;&lt;span class=&quot;kw&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;LANG=&lt;/span&gt;C&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;and now my site is down. shoot.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-wrangling&quot;&gt;Data wrangling:&lt;/h2&gt;
&lt;h4 id=&quot;ibm-critical&quot;&gt;ibm critical&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Ind. based model, deteriorating stability.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5232/5895991499_bd8fd0375d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Data simulated with demo/ibm_sims.R, datafile stored in data/ibms.rda. Not handling seeds at the moment so individual simulations will differ. Instead, storing consistent data files from the simulations&lt;/li&gt;
&lt;li&gt;Complete runs at original sampling and resampled at 25, 50, 100, 200, 500 datapoints for all summary statistics and likelihood.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;daphnia-h6&quot;&gt;Daphnia H6&lt;/h4&gt;
&lt;p&gt;H6 Daphnia dataset from data/drake.rda, drake_deterior$H6 dataset.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5035/5890668068_d596f2ffc9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Complete runs at original sampling and resampled at 25, 50, 100, 200, 500 datapoints for all summary statistics and likelihood.&lt;/p&gt;
&lt;p&gt;Run using LSN model, should be rerun using LTC model. Now running on c0-8.&lt;/p&gt;
&lt;p&gt;Strongest signal is from the I9 dataset:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5280/5906008839_0b57cd2edb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;      G10.m         G6.m         G7.m         G8.m         G9.m        H10.m 
  -&lt;span class=&quot;fl&quot;&gt;1.1013887&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.9141734&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.8813874&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.3885321&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.0958326&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;1.5147485&lt;/span&gt; 
        H6.m         H8.m        I10.m         I6.m         I7.m         I8.m 
  -&lt;span class=&quot;fl&quot;&gt;3.0649959&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.5079393&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.5239186&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;2.5343564&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.9253477&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;3.4916514&lt;/span&gt; 
        I9.m        J10.m         J6.m         J7.m         J8.m         J9.m 
-&lt;span class=&quot;fl&quot;&gt;225.4806438&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.2427629&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.1574219&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;4.6880847&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.8195433&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;1.0447987&lt;/span&gt; 
        K6.m         K7.m         K8.m         K9.m        L10.m         L6.m 
   &lt;span class=&quot;fl&quot;&gt;0.1488124&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.6807473&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.7837302&lt;/span&gt;   -&lt;span class=&quot;fl&quot;&gt;0.8710619&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.0900158&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.2059365&lt;/span&gt; 
        L7.m         L8.m         L9.m        H72.m        H92.m       K102.m 
   &lt;span class=&quot;fl&quot;&gt;0.4682649&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.3032260&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.7171783&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.1463689&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;0.1516157&lt;/span&gt;    &lt;span class=&quot;fl&quot;&gt;1.9654239&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;trying the I9 dataset on c0-23&lt;/p&gt;
&lt;h4 id=&quot;deut3&quot;&gt;Deut3&lt;/h4&gt;
&lt;p&gt;Deterium levels from Glaciation III Original data run on all indicators:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6013/5904550426_4477bc6ab6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Sampling at 25,50,100,200,500 run for the likelihood approach (in same datafile as original runs). Need to debug runs on the indicator statistics.&lt;/p&gt;
&lt;p&gt;Sampling at fractional percentages for likelihood also available: &lt;img src=&quot;http://farm7.staticflickr.com/6033/5882379649_27b6c9f59f_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;ibm-stable&quot;&gt;ibm stable&lt;/h4&gt;
&lt;p&gt;Not run yet. Consider estimating with bounded &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?m&amp;lt;0\inline&quot;/&gt;&lt;/span&gt; for destabilizing test only.&lt;/p&gt;
&lt;h4 id=&quot;deut1&quot;&gt;Deut1&lt;/h4&gt;
&lt;p&gt;Deuterium levels from Glaciation I, data/deuterium.rda, deuterium[[1]] dataset. Original dataset on all indicators:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5279/5888212714_dcd7575fec_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;nearby also some sampling at different efforts for likelihood method.&lt;/p&gt;
&lt;p&gt;Potential alternate datasets:&lt;/p&gt;
&lt;h4 id=&quot;caco3&quot;&gt;CaCO3&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;very preliminary analysis:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3113/5864510263_5c1cb8c1ed_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Running at sampling levels 25,50,100,200,500 on c0-2.farm&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-trouble-shooting&quot;&gt;Data trouble-shooting&lt;/h2&gt;
&lt;p&gt;Discovered window was not being adjusted during the increased sampling comparisons for the summary statistics. (threw an error when full time length was less than the windowsize (half the length of the original data).&lt;/p&gt;
&lt;p&gt;Could have potentially significant impact on results. Now fixed, though needs testing to make sure it is using the correct windowsize each time. Rerunning code looks not to make a difference: i.e. for the ibm model summary stats show improvement with increased sampling in this range, while in the deut example they do not. Not surprising, as earlier examples (pre-correction) needed substantially higher multiples (10, 20 times the original data length, already in 100s) to show improvement.&lt;/p&gt;
&lt;p&gt;Time series up to 2000 still show no sign of improvement for other statistics: &lt;img src=&quot;http://farm6.staticflickr.com/5240/5907097898_2b0a91f028_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;maybe going to have to go back to multiplication factor rather than fixed number. Now running at up to 20,000 pts (deut_replot.R, zero, n5). also now running different windowsizes explicitly as part of test in deut_analysis.R (zero, n10).&lt;/p&gt;
&lt;h2 id=&quot;get-preliminary-figures&quot;&gt;Get preliminary figures&lt;/h2&gt;
&lt;p&gt;send main text to Marissa, Marcel for comments&lt;/p&gt;
&lt;h2 id=&quot;revise-appendix&quot;&gt;Revise Appendix&lt;/h2&gt;
&lt;h2 id=&quot;notebook&quot;&gt;Notebook&lt;/h2&gt;
&lt;p&gt;post pending drafts.&lt;/p&gt;
&lt;h2 id=&quot;code-vignette-and-cleanup&quot;&gt;Code vignette and cleanup&lt;/h2&gt;
&lt;p&gt;Postponed till later&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Open F1000 reviews?</title>
   <link href="/2011/07/04/open-f1000-reviews.html"/>
   <updated>2011-07-04T15:53:43-07:00</updated>
   <id>h/2011/07/04/open-f1000-reviews</id>
   <content type="html">&lt;p&gt;Sebastian has started &lt;a href=&quot;http://www.eve.ucdavis.edu/sschreiber/reviews.shtml&quot;&gt;posting article reviews&lt;/a&gt; on his website, and invites us (Teary - our theoretical ecology tea mailing list) to do likewise.  He uses a rather nifty &lt;a href=&quot;http://jabref.sourceforge.net/&quot;&gt;Jabref&lt;/a&gt; converter to display the reviews created as bibtex entries, using the format indicated below.&lt;/p&gt;
&lt;p&gt;These reviews are cross-posted from the reviews he (and associates) submit to &lt;a href=&quot;http://f1000.com/&quot;&gt;Faculty of 1000&lt;/a&gt;, a commercial, subscription-based service.  While this gives F1000 some publicity directly from his own site, it also means individuals can access these reviews freely.  Of course as the author of the reviews, he can share them as he chooses, while by giving the reviews a wider readership they can also be of more value/impact to the community.  Probably not what F1000 had in mind though.  Feel free to share thoughts on this practice in the comments below.&lt;/p&gt;
&lt;p&gt;I wonder what might be done if this practice became more common, and how easy it would be to create a simple aggregator of such content, together with information about the reviewer.  This of course has some similarities with &lt;a href=&quot;http://www.researchblogging.org/&quot;&gt;ResearchBlogging.org&lt;/a&gt;, but with a different flavor following the more prescribed format of F1000 together with a rating.  Of course the reality of online discussion of research is far more diverse than any such convention, making general aggregation difficult.&lt;/p&gt;
&lt;p&gt;What might be more intriguing is if (when?) any of these start making wider use of &lt;a href=&quot;http://opencitations.wordpress.com/2011/07/01/jisc-open-citations-project-%e2%80%93-final-project-blog-post/&quot;&gt;semantic markup&lt;/a&gt; tools that would make them easier to discover, parse, and aggregate.&lt;/p&gt;
&lt;p&gt;[gist id=1064069]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals writing, organization, appendices</title>
   <link href="/2011/07/04/warning-signals-writing-organization-appendices.html"/>
   <updated>2011-07-04T12:03:32-07:00</updated>
   <id>h/2011/07/04/warning-signals-writing-organization-appendices</id>
   <content type="html">&lt;h2 id=&quot;main-text&quot;&gt;main text&lt;/h2&gt;
&lt;p&gt;Summary Sentence. Abstract&lt;/p&gt;
&lt;h4 id=&quot;paragraphs&quot;&gt;Paragraphs&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Early Warning matter, no-one does statistics&lt;/li&gt;
&lt;li&gt;We need quantify uncertainty stats&lt;/li&gt;
&lt;li&gt;ROC curve shows this trade-off&lt;/li&gt;
&lt;li&gt;ROC also compares different methods &amp;amp; data sizes (i.e. Fig 4)&lt;/li&gt;
&lt;li&gt;Quantifying “increasing variance” etc – we’ll use tau&lt;/li&gt;
&lt;li&gt;We’ll also do a likelihood-based method&lt;/li&gt;
&lt;li&gt;Introduce the datasets&lt;/li&gt;
&lt;li&gt;ROC curves on the data, Fig 3&lt;/li&gt;
&lt;li&gt;Quantifying data necessary, Fig 4&lt;/li&gt;
&lt;li&gt;Disclaimers: Not completely general&lt;/li&gt;
&lt;li&gt;Conclusion&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;supporting-online-material&quot;&gt;Supporting Online Material&lt;/h2&gt;
&lt;p&gt;Original Appendix had:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Data&lt;/li&gt;
&lt;li&gt;Averaging over ensembles vs averaging over time (cut?)&lt;/li&gt;
&lt;li&gt;Error Types (cut)&lt;/li&gt;
&lt;li&gt;Model Derivations (edits)&lt;/li&gt;
&lt;li&gt;Likelihood calculations (edited, more notes on derivations)&lt;/li&gt;
&lt;li&gt;The likelihood statistic&lt;/li&gt;
&lt;li&gt;A note on information criteria (cut)&lt;/li&gt;
&lt;li&gt;Parameter distributions&lt;/li&gt;
&lt;li&gt;Model choice &amp;amp; model adequacy&lt;/li&gt;
&lt;li&gt;Package Tutorial&lt;/li&gt;
&lt;li&gt;Examples&lt;/li&gt;
&lt;li&gt;Comparisons to skew&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;software-package&quot;&gt;Software Package&lt;/h3&gt;</content>
 </entry>
 
 <entry>
   <title>Friday, warning signals writing, etc</title>
   <link href="/2011/07/01/friday-warning-signals-writing-etc.html"/>
   <updated>2011-07-01T10:57:59-07:00</updated>
   <id>h/2011/07/01/friday-warning-signals-writing-etc</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;9-10a email, etc&lt;/li&gt;
&lt;li&gt;10 am check simulations: Daphnia examples (Drake data) runs done. A few examples, see neighboring plots in image database for the corresponding distributions and further examples. Runtime of this code (click images for script) about 10 hours on 16 cores on zero.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5277/5890100915_806042b402_o.png&quot; alt=&quot;200 sample points&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;200 sample points&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5316/5890100389_a5d5a1b852_o.png&quot; alt=&quot;50 sample points&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;50 sample points&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5034/5890100139_60b8246f09_o.png&quot; alt=&quot;25 sample points&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;25 sample points&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;launched ibm_analysis.R on zero, n10.&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Writing writing… first full text draft done.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Trying to get started on the centos cluster, some trouble submitting job to queue, see email discussion with Bill. Initial config went fine:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copy ~/.ssh/ over for git access&lt;/li&gt;
&lt;li&gt;Copy .flickrrc over for flickr upload access&lt;/li&gt;
&lt;li&gt;Copy .bashrc, .inputrc over&lt;/li&gt;
&lt;li&gt;Copy ~/bin/ over for hpc-autotweets&lt;/li&gt;
&lt;li&gt;export PYTHONPATH=~/bin/ (or add to .bashrc)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;easy_install -d ~/bin/ tweepy&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: Warning Signals writing, figures, segue</title>
   <link href="/2011/06/30/thursday-7.html"/>
   <updated>2011-06-30T03:13:52-07:00</updated>
   <id>h/2011/06/30/thursday-7</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan meeting&lt;/h2&gt;
&lt;h4 id=&quot;figure-1-introducing-the-roc-curve&quot;&gt;Figure 1: Introducing the ROC Curve&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5240/5885802303_0816eff9e8_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;figure-2-standard-approach&quot;&gt;Figure 2: Standard approach&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5278/5891714401_5499f8e1cc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;figure-3-roc-curves-corresponding-to-standard-approach&quot;&gt;Figure 3: ROC curves corresponding to standard approach&lt;/h4&gt;
&lt;p&gt;Do we show the distributions? – Create for each, but log in appendix&lt;/p&gt;
&lt;p&gt;ROC curves corresponding to increased sampling – our method, other stats? organize how?&lt;/p&gt;
&lt;h2 id=&quot;computational-runs&quot;&gt;Computational Runs&lt;/h2&gt;
&lt;p&gt;Running at constant sample points rather than sample effort.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On eleven:  n5&lt;a href=&quot;https://github.com/cboettig/warningsignals/commit/6a140413693dade6c6b7d839351be97969bc520f#diff-4&quot;&gt;ibm_stable.R&lt;/a&gt; 6pm&lt;/li&gt;
&lt;li&gt;On zero, n10 &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/67a70ea731e44c6bc9184ef48a74eced9a23d22a/demo/drake_analysis.R&quot;&gt;drake_analysis.R&lt;/a&gt; 6pm&lt;/li&gt;
&lt;li&gt;On zero, n19 &lt;a href=&quot;https://github.com/cboettig/warningsignals/commit/6a140413693dade6c6b7d839351be97969bc520f#diff-2&quot;&gt;deut_analysis.R&lt;/a&gt; 6pm (deut 3)&lt;/li&gt;
&lt;li&gt;on one, n19 &lt;a href=&quot;https://github.com/cboettig/warningsignals/blob/8e9cb618a12aa45d4dfc534995bbb84270a56356/demo/deut_analysis.R&quot;&gt;deut_analysis.R&lt;/a&gt; 6:10pm (deut 1)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;segue-amazon-cloud-through-a-local-r-session&quot;&gt;Segue: Amazon cloud through a local R session&lt;/h2&gt;
&lt;p&gt;Rather computationally limited at the moment.  Tried &lt;a href=&quot;http://code.google.com/p/segue/&quot;&gt;Segue&lt;/a&gt; but don’t seem to be able to run custom functions:&lt;/p&gt;
&lt;p&gt;[gist id=1059002]&lt;/p&gt;
&lt;p&gt;On to plan B: requesting time on the &lt;a href=&quot;http://cccc.caes.ucdavis.edu/&quot;&gt;caes cluster&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals: summary statistic performance at varying sampling effort</title>
   <link href="/2011/06/29/warning-signals-summary-statistic-performance-at-varying-sampling-effort.html"/>
   <updated>2011-06-29T15:08:01-07:00</updated>
   <id>h/2011/06/29/warning-signals-summary-statistic-performance-at-varying-sampling-effort</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;oikos post&lt;/li&gt;
&lt;li&gt;launch case of increased sampling on sim data for autocorrelation&lt;/li&gt;
&lt;li&gt;(is our approach more robust to model differences?)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ibm-data-example&quot;&gt;IBM data Example&lt;/h2&gt;
&lt;p&gt;Using data from the individual-based model simulation of a system approaching a saddle-node.&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;While the initial example with variance shows almost no signal, increasing the sampling effort substantially improves the performance.  This can be seen in the ROC curves and as a tightening and spreading out of the null and test distributions as the sampling effort is increased.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5061/5886269969_d9fecfa77b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5158/5886270151_ddf0fd6c45_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The distributions corresponding to each of the ROC curves above, in order of increasing sampling effort.  The original simulation had 40 data points. The coefficient of variation essentially matches the variance pattern.&lt;/p&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;autocorrelation&lt;/h3&gt;
&lt;p&gt;Autocorrelation requires substantially higher sampling before it becomes very effective at discriminating between the critical and stable cases.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5312/5886270427_c95b6dd420_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5263/5886270603_ac9dc593b3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;Skew does not appear to be a useful indicator. This is probably a consequence of the low-order models on which the inference is actually based, since accurately estimating a higher-order model in the first place would be problematic.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5886270909_3d145b3522_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5080/5886837244_69fb0de8b7_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals writing</title>
   <link href="/2011/06/29/warning-signals-writing.html"/>
   <updated>2011-06-29T11:35:18-07:00</updated>
   <id>h/2011/06/29/warning-signals-writing</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting:&lt;/h2&gt;
&lt;p&gt;Discussed yesterday’s possible representations, post-doc considerations.&lt;/p&gt;
&lt;h3 id=&quot;misc-reading&quot;&gt;Misc &amp;amp; Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Catching up on ToCs, now 13 papers to review&lt;/li&gt;
&lt;li&gt;Installing pilot &lt;a href=&quot;http://mx.phenomix.org/index.php/Installation&quot;&gt;mx database&lt;/a&gt; for comparative methods data&lt;/li&gt;
&lt;li&gt;accessible semantic web &lt;a href=&quot;http://www.webcentralstation.ca/2011/02/08/an-intro-to-the-semantic-web-why-you-need-to-know-about-it-sooner-than-later/&quot;&gt;introduction&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Dean’s Lab &lt;a href=&quot;https://docs.google.com/document/d/19Ru320TL7BNbyRSxyxCHXuebVqFq86N0hgW1zqyYYes/edit?hl=en&amp;amp;authkey=CJu9tIAL&amp;amp;pli=1&quot;&gt;statement&lt;/a&gt; of mutual expectations: nice guide for things that are too rarely spelled out.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: Warning Signals Manuscript</title>
   <link href="/2011/06/27/monday-warning-signals-manuscript.html"/>
   <updated>2011-06-27T05:33:21-07:00</updated>
   <id>h/2011/06/27/monday-warning-signals-manuscript</id>
   <content type="html">&lt;p&gt;Looking at ways to visually explain receiver-operator characteristic (ROC) curves. Should probably be done in a way that maps the curves to the points along the curve. May make a nice graphic but perhaps unnecessary.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm7.staticflickr.com/6040/5879279744_ba81455daa_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Perhaps simpler to present as single panel &lt;img src=&quot;http://farm6.staticflickr.com/5116/5878717919_acf1970f31_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Integrating the test distribution to the left instead of the right gives the error rate (Type I/Type II errors, False Alarms/Missed Events):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5315/5878717465_56452ef801_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;analyses&quot;&gt;Analyses&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Maximization algorithm failing at initial conditions on deut2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Re-running deut1 and deut3 with more replicates and finer resolution on the effect of increased sampling.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Posted Evolution conference notes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still have to post ievobio notes.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>#ievobio Day 2</title>
   <link href="/2011/06/22/ievobio-day-2.html"/>
   <updated>2011-06-22T16:44:58-07:00</updated>
   <id>h/2011/06/22/ievobio-day-2</id>
   <content type="html">&lt;p&gt;Day 2 is every bit as packed as day 1, and then some do to the higher concentration of lightning talks. Other coverage of #ievobio is starting to find it’s way to the web:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cellinese.blogspot.com/2011/06/my-post-ievobio-meeting-emotional.html&quot;&gt;Nico Cellinese&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/06/ievobio-2011-synopsis.html?utm_source=twitterfeed&amp;amp;utm_medium=twitter&quot;&gt;Scott Chamberlain&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://soyouthinkyoucandigitize.wordpress.com/2011/06/30/a-confluence-of-drawers/&quot;&gt;Rob Guralnick&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Meanwhile, my scratchpad of notes from day 2, tweet-style.&lt;/p&gt;
&lt;h2 id=&quot;my-lightning-talk&quot;&gt;My Lightning Talk&lt;/h2&gt;
&lt;p&gt;Gave my lightning talk in this session, slides:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/r-interface-to-treebase&quot;&gt;R interface to TreeBASE&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Lunch with Todd Vision, Joe Felsenstein, Vince Smith.  Interesting discussions about open source, code archiving, and other topics.&lt;/p&gt;
&lt;h2 id=&quot;birds-of-a-feather-sessions&quot;&gt;Birds of A Feather Sessions:&lt;/h2&gt;
&lt;p&gt;I attend:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Integrating TreeBASE, TOLWeb and EoL&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code Archiving on Dryad&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;See the collective &lt;a href=&quot;http://bit.ly/lfLCgG&quot;&gt;notes&lt;/a&gt; on BoF sessions.&lt;/p&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My Twitter Coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great summary w/ links to the software -&amp;gt; RT @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23iEvoBio&quot;&gt;iEvoBio&lt;/a&gt; 2011 Synopsis &lt;a href=&quot;http://bit.ly/j6dZ8N&quot;&gt;http://bit.ly/j6dZ8N&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23rstats&quot;&gt;rstats&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83733644950257664&quot;&gt;3:10 AM Jun 23rd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; Definitely! –&amp;gt; RT @&lt;a href=&quot;http://twitter.com/ncellinese&quot;&gt;ncellinese&lt;/a&gt;: Big round of applause for amazing #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; organizing committee @&lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;hlapp&lt;/a&gt;@&lt;a href=&quot;http://twitter.com/robgural&quot;&gt;robgural&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; Mark Holder.&lt;a href=&quot;http://twitter.com/recology_/status/83720703022608387&quot;&gt;2:19 AM Jun 23rd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; BOF proposes TOL-o-matic, (like phylomatic) makes species trees from inputs, not tied to pubs, updatable, serves subtrees #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83651748425773056&quot;&gt;9:45 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Read about Vince Smith’s digitization of the Natural History Museum of London here &lt;a href=&quot;http://bit.ly/iPfgfU&quot;&gt;http://bit.ly/iPfgfU&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83623343324020736&quot;&gt;7:52 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt; Discusses @&lt;a href=&quot;http://twitter.com/datadryad&quot;&gt;datadryad&lt;/a&gt; Q about software archiving. Join discussion at BoF or online:&lt;a href=&quot;http://bit.ly/k7OhMb&quot;&gt;http://bit.ly/k7OhMb&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83622358358818816&quot;&gt;7:48 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/eightysteele&quot;&gt;eightysteele&lt;/a&gt; discusses Commplish w/ @&lt;a href=&quot;http://twitter.com/andrewxhill&quot;&gt;andrewxhill&lt;/a&gt;: a stackoverflow-style badge system for getting users to help curate databases #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83620804792815616&quot;&gt;7:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Visit RevBayes on sourceforge: &lt;a href=&quot;http://bit.ly/lyUEHy&quot;&gt;http://bit.ly/lyUEHy&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83619492516724736&quot;&gt;7:36 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sebastian says R.I.P. MrBayes; previews RevBayes: can a GUI driven tool help users make better choices on priors than defaults? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83618973891043328&quot;&gt;7:34 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Holder’s phycas tools , along with many others are at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;, are on github. Follow him there&lt;a href=&quot;http://bit.ly/mMvtXO&quot;&gt;http://bit.ly/mMvtXO&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23networking&quot;&gt;networking&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83618244166029314&quot;&gt;7:31 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ryan Scherle discusses handshakes between very different repositories, which he illustrates with this photo:&lt;a href=&quot;http://bit.ly/lE0ha1&quot;&gt;http://bit.ly/lE0ha1&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83616415172661248&quot;&gt;7:24 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/andrewxhill&quot;&gt;andrewxhill&lt;/a&gt; Hi, we miss you at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; this year&lt;img src=&quot;http://twitter.com/cboettig/status/83614570454843393&quot; alt=&quot;7:17 PM Jun 22nd&quot; /&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Leslie Ries shares a user perspective on databases, working with citizen science butterfly data #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83614271669415936&quot;&gt;7:16 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/eightysteele&quot;&gt;eightysteele&lt;/a&gt; discusses VertNET: FishNET, ORNIS, MaNIS, HerpNET join forces an integrate&lt;a href=&quot;http://bit.ly/iMGBct&quot;&gt;http://bit.ly/iMGBct&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83613808119119872&quot;&gt;7:14 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great lineup for the lightning talks&lt;a href=&quot;http://bit.ly/mIVuwb&quot;&gt;http://bit.ly/mIVuwb&lt;/a&gt; many of which will lead into BoF discussions at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83605220688527360&quot;&gt;6:40 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/dr_bik&quot;&gt;dr_bik&lt;/a&gt; says Computational methods developers should consider performance of tools under automation, missing data, and integration #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83579921410166784&quot;&gt;4:59 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Neil Davies on Biocode: coins phrase “whole ecome sequencing” for all genomes in the ecosystem @&lt;a href=&quot;http://twitter.com/phylogenomics&quot;&gt;phylogenomics&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23badomics&quot;&gt;badomics&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83569297192005632&quot;&gt;4:17 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Birds of a Feather topics scan of paper idea list so far: &lt;a href=&quot;http://flic.kr/p/9VPZqP&quot;&gt;http://flic.kr/p/9VPZqP&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobioBoF&quot;&gt;ievobioBoF&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23yesweusepaper&quot;&gt;yesweusepaper&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83566123139870721&quot;&gt;4:04 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Here’s the #&lt;a href=&quot;http://search.twitter.com/search?q=%23iEvoBio&quot;&gt;iEvoBio&lt;/a&gt; tweet graph from Day 1, includes retweets and mentions, size of image is # followers:&lt;a href=&quot;http://yfrog.com/kf1iwp&quot;&gt;http://yfrog.com/kf1iwp&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83565356911820800&quot;&gt;4:01 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Shindel “data we know we don’t know, and then…” crowd giggles&lt;a href=&quot;http://twitter.com/cboettig/status/83561525515788288&quot;&gt;3:46 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/Dr_Bik&quot;&gt;Dr_Bik&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt; Yay! in addition to data, #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; is also integrating twitter networks it seems.&lt;a href=&quot;http://twitter.com/Dr_Bik/status/83561280983678978&quot;&gt;3:45 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Shindel on taxanomic barcoding: If you could find sushi in OK, it’s about 20% mislabeled (anywhere in US) #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83560564089036801&quot;&gt;3:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt;&lt;/strong&gt; MT @&lt;a href=&quot;http://twitter.com/recology&quot;&gt;recology&lt;/a&gt;: 2nd that @&lt;a href=&quot;http://twitter.com/tjvision&quot;&gt;tjvision&lt;/a&gt;: how to archive and license software in Dryad? &lt;a href=&quot;http://bit.ly/k7OhMb&quot;&gt;http://bit.ly/k7OhMb&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobioBoF&quot;&gt;ievobioBoF&lt;/a&gt;&lt;a href=&quot;http://twitter.com/tjvision/status/83558022101733376&quot;&gt;3:32 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Field: scientists say to motivate them they need tool to advance their own personal science then as by-product get data out there #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83547749722755072&quot;&gt;2:51 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/mjyoder&quot;&gt;mjyoder&lt;/a&gt;&lt;/strong&gt; Dawn- standards are good - but we need to start proving their usefulness by doing real science on the outcomes. #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/mjyoder/status/83545486841221120&quot;&gt;2:42 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dawn: The first thing we do with our students is get them up to speed on the lit. Now we must get them up to speed with the data #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83546289559703552&quot;&gt;2:46 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Field: “Many of you are familiar with the darwin core.” the rest of us can check out to catch up &lt;a href=&quot;http://bit.ly/lhevyP&quot;&gt;http://bit.ly/lhevyP&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83543334185992192&quot;&gt;2:34 PM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Dawn Field on grass-roots standards #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; – “standards must be developed by the scientific community, not dictated from the top”&lt;a href=&quot;http://twitter.com/cboettig/status/83537341133754368&quot;&gt;2:10 PM Jun 22nd&lt;/a&gt; from&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution Day 4 / #ievobio Day 1</title>
   <link href="/2011/06/21/evolution-day-4-ievobio-day-1.html"/>
   <updated>2011-06-21T16:44:26-07:00</updated>
   <id>h/2011/06/21/evolution-day-4-ievobio-day-1</id>
   <content type="html">&lt;p&gt;Start of the ievobio conference, simultaneously the forth day of evolution. ievobio conference was very busy, luckily given the nature of the conference it is also largely well documented online. My notes are again archived primarily in tweet form below. My personal highlights of the day included the Keynote by Cladio Silva on Provenance – essentially supporting reproducible research workflows – and examples through his &lt;a href=&quot;http://www.vistrails.org/index.php/Main_Page&quot;&gt;vistrails software&lt;/a&gt;, and Mark Yoder’s demonstration of &lt;a href=&quot;http://mx.phenomix.org/&quot;&gt;mx&lt;/a&gt; at the software bazaar. Something like that might really get us past the era of spreadsheets in comparative methods. See the link to the full program and visit the &lt;a href=&quot;http://www.slideshare.net/event/ievobio11&quot;&gt;repository of slides&lt;/a&gt; from all the talks.&lt;/p&gt;
&lt;h2 id=&quot;program&quot;&gt;&lt;a href=&quot;http://ievobio.org/programschedule.html&quot;&gt;PROGRAM&lt;/a&gt;&lt;/h2&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My twitter coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Great discussions during the #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; software bazzar and after – coalesced in big circle on challenges of adoption &amp;amp; funding such projects&lt;a href=&quot;http://twitter.com/cboettig/status/83391459046338560&quot;&gt;4:30 AM Jun 22nd&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Keesey @&lt;a href=&quot;http://twitter.com/tmkeesey&quot;&gt;tmkeesey&lt;/a&gt; presents: &lt;a href=&quot;http://phylopic.org/&quot;&gt;http://phylopic.org&lt;/a&gt;find (open-licensed) organism silhouettes for your scientific diagrams #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83260237376798720&quot;&gt;7:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; and it looks amazing-&amp;gt; RT @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;: Aaron Steele kicks off lightning talks with an update on Map of LIfe&lt;a href=&quot;http://bit.ly/jDN7VG&quot;&gt;http://bit.ly/jDN7VG&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83255117457014784&quot;&gt;7:29 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Mark Holder introduces lightning talks at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;: Like regular 15 min talks, but they’ll speak three times as fast…&lt;a href=&quot;http://twitter.com/cboettig/status/83254169363955712&quot;&gt;7:25 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; trying to figure out which one of the challenge entries would best pass the test: could my PI figure out how to use this and why?&lt;a href=&quot;http://twitter.com/cboettig/status/83253697311817728&quot;&gt;7:23 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck says that BioSciCol would capture “trending data” twitter-style #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://bit.ly/mPV84s&quot;&gt;http://bit.ly/mPV84s&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83243622526496768&quot;&gt;6:43 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; now on to Matasci et. al. solving the taxanomic name problems: convert spelling errors, update names as the change, &amp;amp; other magic&lt;a href=&quot;http://twitter.com/cboettig/status/83218374087278593&quot;&gt;5:03 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck describes analyses that would run and update auomatically using unique ids. meta-analyses would never be the same #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83217915100409856&quot;&gt;5:01 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Deck’s vision for future (uuids, rdfa, aggregation, etc) sounds a bit like: make your biological data your tweeps #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83217721168363520&quot;&gt;5:00 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/hlapp&quot;&gt;hlapp&lt;/a&gt;&lt;/strong&gt; Should we give award for most acronyms per minute in talk? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/hlapp/status/83215623177515010&quot;&gt;4:52 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://twitter.com/#!/download/ipad&quot;&gt;Twitter for iPad&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; John Deck discusses collections that would alert researchers to when data relevant to them becomes available #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83214240487456768&quot;&gt;4:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;&lt;/strong&gt; accessing EOL via their API in R&lt;a href=&quot;http://bit.ly/jLmBYI&quot;&gt;http://bit.ly/jLmBYI&lt;/a&gt; , code in development at github #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/recology_/status/83212709646184450&quot;&gt;4:40 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Are the networks @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; shows all integrated by APIs? Do these interface with @&lt;a href=&quot;http://twitter.com/dataONEorg&quot;&gt;dataONEorg&lt;/a&gt; ? #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83212023852310529&quot;&gt;4:37 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cyndyparr&quot;&gt;cyndyparr&lt;/a&gt; describes major network hubs of biodiversity data: @&lt;a href=&quot;http://twitter.com/eol&quot;&gt;eol&lt;/a&gt;, ncbi, a few others. Still many isolated nodes to reach #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83211339031511040&quot;&gt;4:35 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; Updates us on the status of the biodiversity &lt;em&gt;data ecosystem&lt;/em&gt; a tour-de-force of cool projects and vision of what’s needed #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83209073859887104&quot;&gt;4:26 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; : too fast for smart phones, switching to laptop&lt;a href=&quot;http://twitter.com/cboettig/status/83207507870351362&quot;&gt;4:19 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; advances and challenges in grabbing trees from images also addressed in @&lt;a href=&quot;http://twitter.com/blJOg&quot;&gt;blJOg&lt;/a&gt; TreeRipper&lt;a href=&quot;http://bit.ly/jufyqI&quot;&gt;http://bit.ly/jufyqI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83207159004930048&quot;&gt;4:18 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Stolzfus on what makes reuse easy and hard: “Not a lot of research here.. these are just obvious!” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83206819694129152&quot;&gt;4:17 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Stolzfus #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; : “archiving an image of a phylogenetic tree is about as practical as an image of a coffee-mug”&lt;a href=&quot;http://twitter.com/cboettig/status/83205680932204544&quot;&gt;4:12 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Now at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Arlin Stolzfus: Publishing reusable phylogenetic trees: file formatls, archives, and tools (@&lt;a href=&quot;http://twitter.com/omearabrian&quot;&gt;omearabrian&lt;/a&gt; lab)&lt;a href=&quot;http://twitter.com/cboettig/status/83205077023731712&quot;&gt;4:10 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Piel discusses helping comparative methods like Pagel’s DISCRETE handle missing species by synthesizing “virtual trees” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83203913997762560&quot;&gt;4:05 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sourcecode for Estill’s code all up on github:&lt;a href=&quot;http://bit.ly/lNMFMX&quot;&gt;http://bit.ly/lNMFMX&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83199981024051201&quot;&gt;3:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/mrgunn&quot;&gt;mrgunn&lt;/a&gt; I believe all slides from speakers at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; will be archived on slideshare :&lt;a href=&quot;http://slidesha.re/lR1MBl&quot;&gt;http://slidesha.re/lR1MBl&lt;/a&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; correct url?&lt;a href=&quot;http://twitter.com/cboettig/status/83199042565324800&quot;&gt;3:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Now at #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; representing species trees in the cyberinfastructure, i.e. &lt;a href=&quot;http://bit.ly/mP8xgo&quot;&gt;http://bit.ly/mP8xgo&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83197473706872833&quot;&gt;3:39 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva’s visualizations have rendered me tweetless #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83188380418064384&quot;&gt;3:03 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva’s slide right now is way too awesome to summarize in a tweet #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83184814555004929&quot;&gt;2:49 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva: “Sharing of data is useful, but we need sharing of &lt;em&gt;data analysis&lt;/em&gt;” #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83184105738612736&quot;&gt;2:46 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Indeed! beat me to the tweet @&lt;a href=&quot;http://twitter.com/recology_&quot;&gt;recology_&lt;/a&gt;vistrails.org API: sounds like we should write an R wrapper for interfacing with vistrails #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83182148642807809&quot;&gt;2:39 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; Vistrails looks excellent. Is the API a rest/xml/json implementation? &lt;a href=&quot;http://www.vistrails.com/&quot;&gt;http://www.vistrails.com/&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83181891502620673&quot;&gt;2:38 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Perhaps my slides are an example of Silva’s theme? Click graph to get code, version history, timestamp, tags: &lt;a href=&quot;http://bit.ly/lIK63F&quot;&gt;http://bit.ly/lIK63F&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83180115525242880&quot;&gt;2:30 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva “Provenance (process) is more important than results” - results are often wrong, what is useful is what you actually did #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83179253998428162&quot;&gt;2:27 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt;&lt;/strong&gt; Silva: notion of an executable paper, interact with the data and analyses from the paper &lt;a href=&quot;http://bit.ly/jfgWQN&quot;&gt;http://bit.ly/jfgWQN&lt;/a&gt;#&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cydparr/status/83178107107946496&quot;&gt;2:23 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Silva shows scientific process in a circle, describes “executable papers.” Reminds me @&lt;a href=&quot;http://twitter.com/evomri&quot;&gt;evomri&lt;/a&gt; &amp;amp; @&lt;a href=&quot;http://twitter.com/cameronneylon&quot;&gt;cameronneylon&lt;/a&gt;’s docu the cycle #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83178476005371904&quot;&gt;2:24 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Claudio Silva describes today’s science process: publications reveal only the tip of the iceberg; the rest is lost (&amp;amp; not repro.) #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83177219693879296&quot;&gt;2:19 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/cydparr&quot;&gt;cydparr&lt;/a&gt; introduces #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; committee ending with “… and @&lt;a href=&quot;http://twitter.com/rdmpage&quot;&gt;rdmpage&lt;/a&gt; is our mascott”&lt;a href=&quot;http://twitter.com/cboettig/status/83174757247356928&quot;&gt;2:09 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; attendance is about half returning paticipants and half new. Lot smaller than the 300 registrations last year though…&lt;a href=&quot;http://twitter.com/cboettig/status/83171334422667264&quot;&gt;1:56 PM Jun 21st&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23ievobio&quot;&gt;ievobio&lt;/a&gt; begins at #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; – A lot more laptops all around me, I must be in the right room.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution Day 3</title>
   <link href="/2011/06/20/evolution-day-3.html"/>
   <updated>2011-06-20T16:44:25-07:00</updated>
   <id>h/2011/06/20/evolution-day-3</id>
   <content type="html">&lt;h2 id=&quot;talks&quot;&gt;Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;David Babst: &lt;em&gt;Patterns of diversification on large species level supertree of extinct graptolites&lt;/em&gt; – Actually, more on methods for making such a supertree for extinct taxa than on diversification analysis, but excellent talk.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Gene Hunt: _Using fossils to test the link between speciation and phenotypic evolution – _another highlight of the talks, really looking at cladeogeneic vs anaogenic models of evolutionary change, modifying the approach of Folmer Bokma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Graham Slater: _Roots, rates, and fossil states:  A Bayesian approach for integrating fossil character information in comparative analyses. _&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lars Schmitz: &lt;em&gt;The effect of diel activity pattern on eye shape in reef fishes&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sam Price: &lt;em&gt;Reef habitats promote the evolution of morphological diversity in reef fishes&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liam Revell: &lt;em&gt;Phylogenetic Methods for Studying the phenotypic axis of adaptive radiation&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lunch – I practice my talk&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Mike Sanderson: &lt;em&gt;Terraces in phylogenetic tree space&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt Davis: _Exploring the power and parameter estimation of BiSSE _&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tracy Heath: &lt;em&gt;Estimating lineage-specific substitution rates under a Dirchlet Process Prior&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marc Lajeunesse: &lt;em&gt;When to expect phylogenetic bias in meta-analyses&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Felipe Zapta: &lt;em&gt;a non-tree based method for species delimitation: Inferring gaps across a phylogeny.&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;My talk.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allen Rodrigo: &lt;em&gt;Coalescent entaglement: spooky relations from a distance&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Arlin Stoltzfus: &lt;em&gt;The causes of evolutionary transversion/transition bias&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jeremy Brown: &lt;em&gt;Phylogenetic inference of infectious disease sources&lt;/em&gt; – A simple idea based on parapatry, not guaranteed to be robust, but still, an incredibly insightful and well-presented talk.  See Jeremy’s recent PNAS paper (in tweets) for more background.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;asn-address&quot;&gt;ASN address&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ricklefs on &lt;em&gt;My life as a Naturalist&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;my-twitter-coverage&quot;&gt;My Twitter coverage&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Slides from my talk now posted as promised &lt;a href=&quot;http://t.co/bH1rOAI&quot;&gt;http://t.co/bH1rOAI&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/83021885893394432&quot;&gt;4:02 AM Jun 21st&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Bit surprised no mention of outgoing ASN pres (Losos) work in Ricklefs discussion of taxon cycling&lt;a href=&quot;http://bit.ly/k2ngqU&quot;&gt;http://bit.ly/k2ngqU&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82952849516019712&quot;&gt;11:27 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs predicts it will take 10 more years before we (finally) move beyond Hubble’s neutral theory #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;, says all ideas run 20 yrs&lt;a href=&quot;http://twitter.com/cboettig/status/82945089223147522&quot;&gt;10:57 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs cites history of Island biogeography as an example of how observation and natural history play in our understanding #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82944317043384320&quot;&gt;10:54 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/NESCent&quot;&gt;NESCent&lt;/a&gt; come to the evolution filmfest TONIGHT &amp;amp; vote on your favorite films. 6:30 Boomer #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://t.co/07wKZiL&quot;&gt;http://t.co/07wKZiL&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82942682174984192&quot;&gt;10:47 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Ricklefs in ASN adress asks “in the next-gen era, are we still naturalists?” Naturalist is broadly one who looks for sci exploration #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82941868467437568&quot;&gt;10:44 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Jeremy Brown solves real criminal cases with for causing infection using phylogeny, read the paper&lt;a href=&quot;http://bit.ly/iQ4sjC&quot;&gt;http://bit.ly/iQ4sjC&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82929896678100992&quot;&gt;9:56 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Why more transitions than transversions? Selection? Mutation? Arlin Stoltzuf #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; shows more synon. transversions, so may be mutational&lt;a href=&quot;http://twitter.com/cboettig/status/82925396315746304&quot;&gt;9:38 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Allen Rodrigo, director of @&lt;a href=&quot;http://twitter.com/NESCent&quot;&gt;NESCent&lt;/a&gt;, show “spooky relations” in coalescents. Conditional probabilities can be soo counterintuitive #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://twitter.com/cboettig/status/82921965601554432&quot;&gt;9:25 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Christine Parent applies Leibold et al’s&lt;a href=&quot;http://bit.ly/lTz0y3&quot;&gt;http://bit.ly/lTz0y3&lt;/a&gt; to disentangle enviro, phylogeny, and biogeography&lt;a href=&quot;http://twitter.com/cboettig/status/82854188232609795&quot;&gt;4:55 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Revell “also no trivial to average the posterior sample rates on the phylogeny. Fortunately I have a (R) function for that too.” #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82850718549151744&quot;&gt;4:42 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Revell’s software now available as an R package #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/mDPeNT&quot;&gt;http://bit.ly/mDPeNT&lt;/a&gt; Includes Bayesian version of Brownie w/ unknown change pts(!)&lt;a href=&quot;http://twitter.com/cboettig/status/82848908669222912&quot;&gt;4:34 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Liam Revell describes his progress on his development blog &lt;a href=&quot;http://phytools.blogspot.com/&quot;&gt;http://phytools.blogspot…&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82848289464127488&quot;&gt;4:32 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Sam Price explores “do fishes living on reefs evolve faster?” Yes. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82846006156337152&quot;&gt;4:23 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Lars combines paleontology and phylogenetic methods to infer which dinosaurs were nocturnal #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;(see &lt;a href=&quot;http://bit.ly/fxAHl2&quot;&gt;http://bit.ly/fxAHl2&lt;/a&gt; for details)&lt;a href=&quot;http://twitter.com/cboettig/status/82842437214679042&quot;&gt;4:09 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Graham observes: so you probably don’t need fossils if your data evolved under brownian motion (which it didn’t) #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82825793083936768&quot;&gt;3:03 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Graham Slater explores how to add fossil data, when it changes phylogenetic comparative inferences – and when it doesn’t #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82822251094867969&quot;&gt;2:48 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Gene Hunt: evaluates punct. equib: long stasis well documented, but fewer studies of major changes at speciation events #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82811155667628034&quot;&gt;2:04 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; David Babst- a supertree phylogeny of fossil plaktic graptolites: “floating beehives” #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Alt method to randomly resolving polytomes&lt;a href=&quot;http://twitter.com/cboettig/status/82808254119428096&quot;&gt;1:53 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Julie, aka @&lt;a href=&quot;http://twitter.com/sabercatwoman&quot;&gt;sabercatwoman&lt;/a&gt; discusses evolution of pleistocene coyotes who had to compete with dire wolves and sabertoothes #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82804166891806722&quot;&gt;1:37 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://www.tweetdeck.com/&quot;&gt;TweetDeck&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/ASNAmNat&quot;&gt;ASNAmNat&lt;/a&gt;&lt;/strong&gt; Archiving code came up in the Meet the Eds @ #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; Dryad is asking for feedback on this&lt;a href=&quot;http://t.co/z047MII&quot;&gt;http://t.co/z047MII&lt;/a&gt;&lt;a href=&quot;http://twitter.com/ASNAmNat/status/82722062636040192&quot;&gt;8:10 AM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;h2 id=&quot;talk-mentions&quot;&gt;Talk mentions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;K_H_F_H&lt;/a&gt;&lt;/strong&gt; &lt;em&gt;* &lt;strong&gt;@&lt;/strong&gt; &lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;&lt;em&gt;* &lt;strong&gt;rmvq&lt;/strong&gt;&lt;/em&gt;*&lt;/a&gt;&lt;/strong&gt;&lt;/em&gt;* ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****C****a****r****l****,**** ****t****h****i****s**** ****w****a****s**** ****j****u****s****t**** ****a****s**** ****g****o****o****d**** ****a****s ********y****o****u****r**** ****t****a****l****k**** ****a****t**** ****B****o****d****e****g****a**** ****B****a****y****,**** ****a****l****t****h****o****u****g****h**** ****I**** ****m****i****s****s****e****d**** ****t****h****e**** ****“****d****r****u****n****k****e****n********w****a****l****k****”**** ****d****e****m****o****n****s****t****r****a****t****i****o****n****&lt;a href=&quot;http://twitter.com/K_H_F_H/status/82920692508655616&quot;&gt;9:20 PM Jun 20th&lt;/a&gt; from web&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;k8lh&lt;/a&gt;&lt;/strong&gt; ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****P****u****t****t****i****n****g**** ****y****o****u****r**** ****s****l****i****d****e****s**** ****u****p**** ****o****n****l****i****n****e****,**** ****w****i****t****h**** ****c****o****d****e********a****v****a****i****l****a****b****l****e**** ****w****i****t****h**** ****a**** ****t****h****r****u****-****c****l****i****c****k****,**** ****i****s**** ****p****h****e****n****o****m****e****n****a****l****!**** ****@****&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;****K****&lt;em&gt;****H****&lt;/em&gt;****F****_****H****&lt;/a&gt;**** ****w****i****l****l********d****e****f**** ****b****e**** ****c****h****e****c****k****i****n****g**** ****l****a****t****e****r****!**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/k8lh/status/82919306144387072&quot;&gt;9:14 PM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;rmvq&lt;/a&gt;&lt;/strong&gt; ****W****o****w****,**** ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****t****o****o****k**** ****t****h****e**** ****“****g****o****o****d**** ****s****c****i****e****n****c****e**** ****i****s**** ****l****i****k****e ********s****t****o****r****y****t****e****l****l****i****n****g****”**** ****t****o**** ****t****h****e**** ****l****e****t****t****e****r****!**** ****G****r****8**** ****t****a****l****k**** ****o****n**** ****u****n****i****f****y****i****n****g**** ****m****o****d****e****l****s**** ****o****f**** ****t****r****a****i****t ********e****v****o****l****u****t****i****o****n**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/rmvq/status/82917460768079873&quot;&gt;9:07 PM Jun 20th&lt;/a&gt; from &lt;a href=&quot;http://twitter.com/#!/download/ipad&quot;&gt;Twitter for iPad&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;k8lh&lt;/a&gt;&lt;/strong&gt; ****H****e****y**** ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****!**** ****M****y**** ****d****a****t****a****‘****s**** ****t****o****t****a****l****l****y**** ****a**** ****h****o****b****b****i****t****.**** ****I****t****’****s**** ****e****v****e****n********h****a****i****r****y****.****&lt;a href=&quot;http://twitter.com/k8lh/status/82917248053944320&quot;&gt;9:06 PM Jun 20th&lt;/a&gt; from web&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/kzelnio&quot;&gt;kzelnio&lt;/a&gt;&lt;/strong&gt; ****@****&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;****c****b****o****e****t****t****i****g****&lt;/a&gt;**** ****;****)**** ****R****T**** ****@****&lt;a href=&quot;http://twitter.com/k8lh&quot;&gt;****k****8****l****h****&lt;/a&gt;****:**** ****I**** ****l****o****v****e**** ****B****o****e****t****t****i****g****e****r****’****s**** ****t****r****e****e**** ****o****f ********e****v****o****l****u****t****i****o****n****a****r****y**** ****m****o****d****e****l****s****!**** ****#****&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;****e****v****o****l****1****1****&lt;/a&gt;&lt;a href=&quot;http://twitter.com/kzelnio/status/82916413597171712&quot;&gt;9:03 PM Jun 20th&lt;/a&gt; from&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Slides from my talk at Evolution 2011</title>
   <link href="/2011/06/20/slides-from-my-talk-at-evolution-2011.html"/>
   <updated>2011-06-20T13:59:59-07:00</updated>
   <id>h/2011/06/20/slides-from-my-talk-at-evolution-2011</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/a-general-model-of-continuous-character-evolution&quot;&gt;A general model of continuous character evolution&lt;/a&gt;&lt;/strong&gt; [iframe http://www.slideshare.net/slideshow/embed_code/8371419 425 355]&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;As highlighted in the last slide (following acknowledgments), clicking on the results graphs will take you to the image repository, which records when the result was generated in my workstream, and provides a link to the script, software package and data to replicate. Code is parallel, examples shown took between 2 and 12 hours on a 16-core cpu.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution Day 2</title>
   <link href="/2011/06/19/evolution-day-2.html"/>
   <updated>2011-06-19T16:44:20-07:00</updated>
   <id>h/2011/06/19/evolution-day-2</id>
   <content type="html">&lt;p&gt;Second day of the conference. Many of the talks I most want to see are coming up Monday and Tuesday, and I have a bit more to do to prepare my own talk, so I take it a bit light on sessions. Highlight of the day was definitely the discussion with Mark McPeek and the other journal editors during and following the “Happy hour with the editors” session, which was perhaps the best event of the conference, despite a rather unimpressive attendance. Apparently this is an annual tradition I missed last year, certainly hope not to miss it again. Hope to flush out my reflections from those discussions sometime, meanwhile, just a few notes to myself below.&lt;/p&gt;
&lt;p&gt;Haven’t kept up with the paper notes, so using my own twitter archive to capture the essentials I wanted to remember or share from the talks I saw. A bit of a cop-out but makes for quick collective note-taking.&lt;/p&gt;
&lt;h2 id=&quot;talks&quot;&gt;Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stamatakis, Alexandros.  &lt;em&gt;What’s new in RaxML?&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crosby, Ralph: &lt;em&gt;Fast Evolutionary Tree Distance computation using quartets&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Linder, Randal: &lt;em&gt;SaTe-II, faster/more accurate simultaneous alignment and phylogenetic inference&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Zwickl, Derek: &lt;em&gt;A simple instertion-deletion mixture model for phylogenetic inference&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lunch with Dan Rabosky, Graham Slater and others.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Chris Martin: &lt;em&gt;Beyond Ecological Opportunity: adaptive radiation and the origins of novel ecological niches&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt McGee: &lt;em&gt;Functional morphology and kinematics of feeding in stickleback: implications for ecological speciation&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;happy-hour-with-the-editors&quot;&gt;Happy Hour with The editors&lt;/h2&gt;
&lt;p&gt;(Am Nat, Evolution, JEB:)&lt;/p&gt;
&lt;p&gt;Archiving code. double-blind review? who owns your review? Big names rejected more often from big journals. No one successfully guesses their reviewers.  Rejections are usually for failures of communication, not failures of scientific process.&lt;/p&gt;
&lt;p&gt;Dinner with Liam Revell &amp;amp; Sam Price&lt;/p&gt;
&lt;p&gt;My twitter coverage&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/rmvq&quot;&gt;rmvq&lt;/a&gt;&lt;/strong&gt; Discussion with editors: who owns “copyrights” for review dialogues? Can author post reviews on blog? No one knows for sure. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/rmvq/status/82573450471940096&quot;&gt;10:20 PM Jun 19th&lt;/a&gt; retweeted by cboettig&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/NerdyChristie&quot;&gt;NerdyChristie&lt;/a&gt;&lt;/strong&gt; Can sexual dimorphism be a source of variation for adaptive radiation? Yes, says Matthew McGee. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/NerdyChristie/status/82526909363265537&quot;&gt;7:15 PM Jun 19th&lt;/a&gt; retweeted by cboettig&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Check out Chris’s heatmap of pupfish jaw evolution: #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; &lt;a href=&quot;http://bit.ly/lfJ0Mn&quot;&gt;http://bit.ly/lfJ0Mn&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82522109401763841&quot;&gt;6:56 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Chris Martin: not talking about those seed-eating finches, but &lt;em&gt;niche novelty&lt;/em&gt;: bloodsucking vampire finch, tool using finch, … #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82520612345626625&quot;&gt;6:50 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Chris Martin explores the third axis of adaptive radiations &amp;amp; opens with photos of Darwin’s finches tatoos #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82520073851502592&quot;&gt;6:48 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; RT @&lt;a href=&quot;http://twitter.com/lukejharmon&quot;&gt;lukejharmon&lt;/a&gt;: de Koning: “with great data comes great responsibility.” A great motto for the genomic age. #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82501568250920960&quot;&gt;5:34 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; @&lt;a href=&quot;http://twitter.com/JennyMcGPhD&quot;&gt;JennyMcGPhD&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; shuttles to dorms till 10:30p. They can extend till 11pm for tweetup if we request&lt;a href=&quot;http://twitter.com/cboettig/status/82501194257412096&quot;&gt;5:33 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;*&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; tweet-up 9pm at Embassy hotel bar (following poster-session)?&lt;a href=&quot;http://twitter.com/cboettig/status/82486161074954240&quot;&gt;4:33 PM Jun 19th&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Pro Tip: Randal Linder (SATe-II) mentions he has reformatted his slides to contend w/ the small projector screens #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82479704858312704&quot;&gt;4:07 PM Jun 19th&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://twitter.com/cboettig&quot;&gt;cboettig&lt;/a&gt;&lt;/strong&gt; Whoever scheduled room OK A hasn’t heard of the “Felsenstein effect” &lt;a href=&quot;http://bit.ly/kJ3WiM&quot;&gt;http://bit.ly/kJ3WiM&lt;/a&gt; #&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;evol11&lt;/a&gt; @ 11:45 #&lt;a href=&quot;http://search.twitter.com/search?q=%23preparetobecrushed&quot;&gt;preparetobecrushed&lt;/a&gt;&lt;a href=&quot;http://twitter.com/cboettig/status/82478039090479104&quot;&gt;4:01 PM Jun 19th&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution Conference Day 1</title>
   <link href="/2011/06/18/evolution-conference-day-1.html"/>
   <updated>2011-06-18T14:34:01-07:00</updated>
   <id>h/2011/06/18/evolution-conference-day-1</id>
   <content type="html">&lt;h2 id=&quot;morning-sessions&quot;&gt;Morning Sessions&lt;/h2&gt;
&lt;h3 id=&quot;ssb-symposium-830---noon&quot;&gt;SSB Symposium 8:30 - noon:&lt;/h3&gt;
&lt;h4 id=&quot;unified-approaches-for-understanding-patterns-of-character-evolution-and-diversification&quot;&gt;Unified Approaches for Understanding Patterns of Character Evolution and Diversification&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Stacey Smith (U. of Nebraska-Lincoln) and Boris Igic (U.of Illinois-Chicago) – “Introduction to models of character state-dependent diversification”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Introduces the BiSSE model.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3041/5846584016_047413deb4_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Richard Fitzjohn (U. of British Columbia) – “Stochastic mapping incorporating differential diversification”&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5303/5846583940_998025ba25_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;BiSSE comparison to traditional discrete-trait transition rate which ignores the correlation.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Folmer Bokma (Umeå University) – “Estimating speciation and extinction with incomplete phylogenies”&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3008/5846029951_2424c3127b_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Emma Goldberg (University of Illinois-Chicago) – “Modes of speciation and character change from phylogenetic trees”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Peter Wagner (Smithsonian Institution) – “Using stratigraphic compatibility to reveal general relationships between character combinations and diversification”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;P. David Polly (Indiana U.) – “Morphological clocks: why phenotype is a poor predictor of time since common ancestry”&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;afternoon-talks-various-sessions&quot;&gt;Afternoon Talks (various sessions)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dan Rabosky – Ecological diversification and niche evolution in the world’s most species-rich lizard community.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5078/5846596456_edfe4ce7e5_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Cecile Ane: What power do comparative methods have to detect shifts in trait evolution and can we consistently estimate their parameters?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excellent talk, shows: more data doesn’t improve estimate of ancestral states as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?1\sqrt n\inline&quot;/&gt;&lt;/span&gt;, but does for estimates of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma\inline&quot;/&gt;&lt;/span&gt; in Brownian motion.  Shows failure of AIC and chi-square approximation in model choice, and derives a correction for BIC.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dean Adams: A phylogenetic evolution rate for shape and other multi-dimensional traits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ben Redelings: Representing Rogue Taxa with Majority Consensus Tree&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Missed this one (missed the schedule change!) but sounds promising.  Instead saw another excellent talk:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Carl Simpson: Reef coral diversification inferences from the molecular and fossil records&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Illustrates how challenging these inferences are without a timeseries fossil record of the diversification.  Decreases in overall species abundances are particularly challenging.&lt;/p&gt;
&lt;h2 id=&quot;ssb-presidential-address&quot;&gt;SSB Presidential Address&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Keith Crandall: The next generation of systematic biology&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Apparently the phrase “Next Generation”, or at least Next-Gen, is officially synonymous with 454 (star trek watch out).  1 run gets you 1000 taxa x 12 loci 100X coverage with a 454 machine. Wow. But $8000 per run,&lt;/p&gt;
&lt;p&gt;Picnic&lt;/p&gt;
&lt;p&gt;Debrief day with colleagues,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;met Scott Powell: cool ant diversification (soldiers with large heads to block nest holes mad in trees by beetles).  Interesting trait-dependent diversification possibilities.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mike Whitlock- Mostly discussion about data archiving, code archiving, and journal policies.  Happy to say hi and congratulate him for his leadership in this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Felsenstein- Priceless stories of the early days of phylogenetics that couldn’t be put in his textbook history.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;my-tweet-coverage-just-for-fun&quot;&gt;My Tweet coverage, just for fun&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Happy to get a chance to meet &amp;amp; thank Mike Whitlock for his leadership on data archiving and chat about future of code archiving &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hearing the fascinating and conflict-wrought history of early phylogenetic inference at &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; picnic from Joe Felsenstein&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crandall: good to study species that cabbies study (taxi driver pts him to this discovery:&lt;a href=&quot;http://bit.ly/92uTqk&quot;&gt;http://news.nationalgeographic.com/news…&lt;/a&gt;) &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; &lt;a href=&quot;http://search.twitter.com/search?q=%23yespeoplecare&quot;&gt;#yespeoplecare&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1 run gets you 1000 taxa x 12 loci 100X coverage with a 454 machine. Wow. But $8000 per run, so don’t let the students get too fast &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crandall: Systematist’s dilemma: more genes or more taxa? Next-Gen is to do both with targeted sequencing&lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; SSB pres address&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/K_H_F_H&quot;&gt;K_H_F_H&lt;/a&gt;: LOVE &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; I am in phy. methods I and it is so crowded there are rows of people sitting in the floor &lt;a href=&quot;http://search.twitter.com/search?q=%23phylogeneticsareawesome&quot;&gt;#phylogeneticsareawesome&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carl Simpson uses coral fossil record to test our ability to estimate species diversification rate - prob to have only + div rates! &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/BoraZ&quot;&gt;BoraZ&lt;/a&gt;: Lots of cool people tweeting from &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; - if they end up having a tweetup at the bar, I’ll be doubly jealous.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dean Adams: for multidimensional traits (like shape) we can model diversification with average componentwise brownian rate. &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cecile Ane says - more data doesn’t always buy you more precision. p.s. this means AIC/BIC LR test gonna suck. &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky shows “phlyogenetic anti-signal” in Aust. lizards - closely related species have greatest differebces in habitat &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/lukejharmon&quot;&gt;lukejharmon&lt;/a&gt;: Everyone should present statistical results like Emma Goldberg &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Emma Goldberg addresses when traits determining diversification change at speciation only - infer punctuated equib in PuncSSE &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Folmer Bolker shows brilliant entropy-based fit to speciation compared to birth-death models &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; refs pub:&lt;a href=&quot;http://bit.ly/kVVVnp&quot;&gt;http://iopscience.iop.org/1367-26…&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rich FitzJohn describes BiSSE, beautiful but “don’t try this with less than 100 species” &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking forward to hearing about the latest methods in character evolution and diversification in SSB Sym in rm OK. E &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RT @&lt;a href=&quot;http://twitter.com/98prcnt_primate&quot;&gt;98prcnt_primate&lt;/a&gt;: Well if @&lt;a href=&quot;http://twitter.com/JBYoder&quot;&gt;JBYoder&lt;/a&gt; is switching to &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt;, I guess us mortals have not choice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check out the upcoming talks from Wainwright lab at &lt;a href=&quot;http://search.twitter.com/search?q=%23evol11&quot;&gt;#evol11&lt;/a&gt; &lt;a href=&quot;http://t.co/BDeYpOG&quot;&gt;https://wainwrightlab.wordpress.com/2011…&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: more labrid & parrotfish wrightscape examples</title>
   <link href="/2011/06/17/friday-more-labrid-parrotfish-wrightscape-examples.html"/>
   <updated>2011-06-17T08:16:32-07:00</updated>
   <id>h/2011/06/17/friday-more-labrid-parrotfish-wrightscape-examples</id>
   <content type="html">&lt;h2 id=&quot;runs-from-yesterday&quot;&gt;Runs from yesterday:&lt;/h2&gt;
&lt;p&gt;MLE comparison of full labrid pharyngeal innovation (all parrotfish), alpha-v-sigma: &lt;img src=&quot;http://farm3.staticflickr.com/2552/5841932378_a0d0db354d_o.png&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5269/5841932492_6b82594000_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5067/5841932260_a39578679e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Unfortunately, the all-variable mcmc over labrid tree was &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5840779085&quot;&gt;unsuccessful&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Pure-brownie vs pure diversification ends up with the surprisingly opposite conclusion from the sigmas-alphas on parrotfish close ratio:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5318/5840808653_2763f5c181_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Clearly a convergence problem but with which model? (see parameter distributions adjacent; following in photostream archive).&lt;/p&gt;
&lt;p&gt;Luckily this is not the case in the full labrid (size-corrected, protrusion, pharyngeal innovation) model set:&lt;/p&gt;
&lt;p&gt;sigma model with alpha fixed at 1e-12, vs variable sigma, free, global alpha: &lt;img src=&quot;http://farm3.staticflickr.com/2464/5842102715_f597833fe9_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5067/5841932260_a39578679e_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Likelihoods well-behaved, indicating the importance of more data to navigate this ridge. letting alpha vary improves the fit, but not over the two-alphas model.&lt;/p&gt;
&lt;p&gt;Unfortunately it seems even on the full labrid tree, the protrusion trait doesn’t have large enough differences to discriminate between the 5 parameter models; a clear indication of lack of power for this ridge. (Might be nice to compare the 5 parameter to their four parameter kin above)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3228/5842718351_c601022b2b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;launched-today&quot;&gt;Launched today:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;labrid tree mcmc on prot with just alpha variable.  (eleven n10) (3:44p)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish prot.y simple: alpha v sigma (n1), alpha v brownie.  (zero n10) (3:44p)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wrightscape labrid/parrotfish results; Evolution pres</title>
   <link href="/2011/06/16/wrightscape-labridparrotfish-results-evolution-pres.html"/>
   <updated>2011-06-16T15:14:58-07:00</updated>
   <id>h/2011/06/16/wrightscape-labridparrotfish-results-evolution-pres</id>
   <content type="html">&lt;h2 id=&quot;analysis&quot;&gt;Analysis&lt;/h2&gt;
&lt;h3 id=&quot;summarizing-recently-completed-runs&quot;&gt;Summarizing recently completed runs:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Reviewing last night’s runs.  Some mcmcs complete:&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;labrid-prot.y-alpha&quot;&gt;Labrid prot.y alpha&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3011/5839272436_8b1fa13fdd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;and some crashed mcmc’s on Zero launched Tuesday night. (gape.y, close, open don’t seem to want to run)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the sigma-theta Vs alpha-theta on parrotfish (size-corrected) protrusion (over intramandibular innovation), which looks indistinguishable:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;sigma-theta-vs-alpha-theta-parrotfish-prot.y&quot;&gt;sigma-theta vs alpha-theta, parrotfish prot.y&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3643/5838783582_5163ed9340_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5320/5838230713_6d0a28c2b5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2527/5838781212_b5899fba56_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;alpha v sigma also indistinguishable on this data, see yesterday.&lt;/p&gt;
&lt;h4 id=&quot;closing-alpha-vs-sigma-parrotfish-intramandibular-200-reps&quot;&gt;Closing, alpha vs sigma, parrotfish (intramandibular, 200 reps)&lt;/h4&gt;
&lt;h5 id=&quot;alpha&quot;&gt;Alpha&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5269/5840194504_85847a578c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;sigma&quot;&gt;Sigma&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3310/5839645873_d9eec0d8bd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;comparison&quot;&gt;Comparison&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2767/5840194082_1c2b941997_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Would like nicer with more replicates, but clearly distinguishable, as were yesterday’s when theta could also vary.  Note: Green is intramdibular, blue is other.  If trait can’t vary across phylogeny, then there’s only a green distribution for both.&lt;/p&gt;
&lt;h3 id=&quot;runs-launched-today&quot;&gt;Runs launched today&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Would really like a full labrid tree, Pharyngeal innovation, alpha-v-sigma MLE.  Running on zero at nice 0 (10:59am).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;an alpha-sigma mcmc of labrid tree would also be nice. Trying on eleven (nice 10) now. (~11:15a)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would be nice to compare directly against Brownie/pure diversification.  running on parrotfish close ratio at (nice 1) on one (2:48pm).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would also be nice on labrids protrusion.  running on zero, nice 5 (2:55pm)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code Updates&lt;/h2&gt;
&lt;p&gt;Added plotting facility for MLE bootstrap distributions.  Needs to be added to the calls for the MLE examples.&lt;/p&gt;
&lt;h2 id=&quot;presentation&quot;&gt;Presentation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add tree for the examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Distribution walkthrough&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;distinguish between MCMC and bootstraps clearly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Describe software package availability&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Motivate better the need for other models&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;checking-in-on-warningsignals&quot;&gt;Checking in on Warningsignals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;caco3 run was terminated, deut run never restarted after lapply failed.  running deut_analysis.R now (n19) on zero (3:00pm).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Filed TreeBASE &lt;a href=&quot;https://sourceforge.net/tracker/?func=detail&amp;amp;aid=3317415&amp;amp;group_id=248804&amp;amp;atid=1126676&quot;&gt;bug&lt;/a&gt; in logicals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Excellent set of slides and commentary by Rod Page on the state of &lt;a href=&quot;http://www.slideshare.net/rdmpage/phylogeny-vizbi-2011&quot;&gt;phylogeny visualization&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday MCMC and MLEs for wrightscape</title>
   <link href="/2011/06/15/wednesday-mcmc-and-mles-for-wrightscape.html"/>
   <updated>2011-06-15T15:36:07-07:00</updated>
   <id>h/2011/06/15/wednesday-mcmc-and-mles-for-wrightscape</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wrote plotting function for wrightscape MCMC analysis&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;added support to write MCMC to a file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;exploring divergent MCMCs.  more checks on NaNs&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;trying MLE initiated MCMC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revising talk for evolution&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tweaks to socialR reporting – include error message, exit with status=1, fewer time sigfigs; see gitlog.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;max-likelihoods-bootstraps&quot;&gt;Max likelihoods &amp;amp; bootstraps&lt;/h2&gt;
&lt;h3 id=&quot;parrotfish-protrusion-size-corrected-400-reps&quot;&gt;Parrotfish protrusion (size corrected, 400 reps)&lt;/h3&gt;
&lt;p&gt;If thetas are different and not allowed to vary, the alpha model will obviously do worse than the sigma model, even if it is correct.&lt;/p&gt;
&lt;h5 id=&quot;alpha&quot;&gt;Alpha&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5142/5835746025_850538f03c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;sigma&quot;&gt;Sigma&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5302/5835747179_0af35db2a9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;alpha-vs-sigma&quot;&gt;Alpha vs Sigma&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2515/5835744831_fe47ba11fc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;parrotfish-closing-lever-ratio-400-reps&quot;&gt;Parrotfish Closing Lever Ratio (400 reps)&lt;/h3&gt;
&lt;h5 id=&quot;sigma-theta&quot;&gt;sigma-theta&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5274/5835165136_aa9b08f95b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;alpha-theta&quot;&gt;alpha-theta&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2546/5835164312_8208fba174_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h5 id=&quot;alpha-theta-vs-sigma-theta&quot;&gt;alpha-theta vs sigma-theta:&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5038/5835163592_db36ffc457_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;all-labrids-size-corrected-protrusion-400-reps&quot;&gt;All Labrids, (size corrected) Protrusion, (400 reps)&lt;/h3&gt;
&lt;h5 id=&quot;alpha-1&quot;&gt;alpha&lt;/h5&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2454/5837934440_16e015f0fa_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;need-now-running&quot;&gt;Need (now running):&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;all labrids, prot.y alpha v sigma (one, n12)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;all labrids prot.y alpha-theta v sigma-theta (running on zero)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish closing ratio alpha v sigma  (one, n18)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parrotfish prot.y alpha-theta vs sigma-theta (one, n19)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday - Evolution/wrightscape talk & sundry</title>
   <link href="/2011/06/14/tuesday-evolutionwrightscape-talk-sundry.html"/>
   <updated>2011-06-14T16:29:48-07:00</updated>
   <id>h/2011/06/14/tuesday-evolutionwrightscape-talk-sundry</id>
   <content type="html">&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;p&gt;For today’s analyses run history (with result/code links): see &lt;a href=&quot;http://twitter.com/#!/search/tweeting_cpu&quot;&gt;tweeting_cpu&lt;/a&gt; account or its &lt;a href=&quot;http://topsy.com/s?type=tweet&amp;amp;mintime=1308034800&amp;amp;maxtime=1308121200&amp;amp;q=from%3Atweeting_cpu&quot;&gt;search history&lt;/a&gt; (from Topsy)&lt;/p&gt;
&lt;h2 id=&quot;analysissummary&quot;&gt;Analysis/Summary&lt;/h2&gt;
&lt;p&gt;MCMC over parrotfish tree on protrusion doesn’t converge when alpha and sigma are both free to vary.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3296/5834498302_5c64b8e047_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;MLE approach, (size-corrected) protrusion (12hr run)&lt;/p&gt;
&lt;p&gt;Vary both theta and sigma:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5274/5835165136_aa9b08f95b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Vary alpha and theta:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2546/5835164312_8208fba174_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;alpha-theta wins over theta-sigma:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5038/5835163592_db36ffc457_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;git ids/urls git codes must be obtained at start of run, together with commit, or link will point to the wrong code!   Fixed.&lt;/p&gt;
&lt;h2 id=&quot;evolution-talk&quot;&gt;Evolution Talk&lt;/h2&gt;
&lt;p&gt;Adding examples, finishing up slides for practice talk for Evolution.&lt;/p&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished introduction to warning signals edits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review roc curves for increased sampling&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wainwright-lab-meeting&quot;&gt;Wainwright lab meeting&lt;/h2&gt;
&lt;p&gt;Practice talks: Chris M, Matt, myself.  Great feedback, now to rewrite talk.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.evolutionmeeting.org/engine/search/index.php?func=session&amp;amp;session=075&quot;&gt;My Session Info&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.evolutionmeeting.org/engine/search/index.php?func=program&amp;amp;program=0#results&quot;&gt;Evolution 2011 Conference Complete Program&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ievobio: visualization tools, largely from last year’s challenge entries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://synthesis.eol.org/media/treemap/#HOME&quot;&gt;Visualize EOL,&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jsphylosvg.com/&quot;&gt;PhyloSVG&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phylometrics.com/&quot;&gt;phylometrics&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;power-in-phylogenies-manuscript&quot;&gt;Power in Phylogenies manuscript&lt;/h2&gt;
&lt;p&gt;submitted!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>EM Algorithm</title>
   <link href="/2011/06/13/em-algorithm-2.html"/>
   <updated>2011-06-13T15:39:32-07:00</updated>
   <id>h/2011/06/13/em-algorithm-2</id>
   <content type="html">&lt;p&gt;Yaniv ran us through our second session on EM algorithms.  We implemented a simple case described in &lt;a href=&quot;http://www.stat.uiowa.edu/~kcowles/s166_2007/chang166.pdf&quot;&gt;this tutorial&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;[gist id=1028113]&lt;/p&gt;
&lt;p&gt;Code doesn’t reflect the abstraction of the algorithm into a proper Expectation step and Maximization step.  We attempted this generalization:&lt;/p&gt;
&lt;p&gt;[gist id=1028122]&lt;/p&gt;
&lt;p&gt;Missed something in framing this correctly, since the maximization step includes a function that doesn’t depend on s[1].  Any ideas?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday -</title>
   <link href="/2011/06/13/monday-7.html"/>
   <updated>2011-06-13T06:06:51-07:00</updated>
   <id>h/2011/06/13/monday-7</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Algorithms group meeting&lt;/li&gt;
&lt;li&gt;Evolution presentation&lt;/li&gt;
&lt;li&gt;warningsignals runs complete and troubleshooting&lt;/li&gt;
&lt;li&gt;finalizing power in phylogenies manuscript cover letter, supplement, final check through, etc.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
   <link href="/2011/06/12/sunday-3.html"/>
   <updated>2011-06-12T16:03:33-07:00</updated>
   <id>h/2011/06/12/sunday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;SocialR updates: print runtime, handle NULL mentions, and truncate messages to avoid over-length errors.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rmendeley repackage in response to user issue.  Updated issues list.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;_warningsignals: _&lt;/strong&gt;Separate demo scripts for each data set, running analysis now&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reversed nboot and cpu values, way to create very annoying error.  Back up and running all demo scripts now.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/06/10/friday-6.html"/>
   <updated>2011-06-10T10:21:03-07:00</updated>
   <id>h/2011/06/10/friday-6</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finish updates to socialR and wrote post.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reply to Richard on DataONE workflow internship&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;really should meet &lt;a href=&quot;https://sites.google.com/site/ludaesch/&quot;&gt;Bertram&lt;/a&gt;, re: workflow, dataONE, open science, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;wrote an avereps fn to replace limma dependency.  hmmf.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;setup analysis.R to run complete analysis sets.  still testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;consider returning myCall information on most standard functions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review model implementations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;model convergence error handling.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;better handling than remove_uncoverged on mc plots.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;uncoupled mcmc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;make sure we can do non-timeseries objects. violates autocor, oh well, can have option to process.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;consider adding runtime to socialR reporting. – DONE, could use more testing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Workflows that Work: making it "easy enough"</title>
   <link href="/2011/06/10/workflows-that-work-making-it-easy-enough.html"/>
   <updated>2011-06-10T06:31:07-07:00</updated>
   <id>h/2011/06/10/workflows-that-work-making-it-easy-enough</id>
   <content type="html">&lt;p&gt;I thought I had already fixed this problem. I thought I already had a way to recover the code and parameter values of figures saved in my image log. Grab the SHA hash from the comment, go to the relevant repository on github, search the commit history for the commit, find the version of that file that was current at that time of commit (which could be in an earlier version if nothing had changed…) and so forth… Instead, I would catch myself re-running the code with parameters I knew (I’d scribble somewhere), just so I could be sure. And these are not fast codes to re-run. Sure, it was &lt;em&gt;possible&lt;/em&gt;. It just wasn’t &lt;em&gt;easy enough&lt;/em&gt;. So I took a few hours to rewrite my socialR package to handle this properly. Goodbye SHA hash and search, hello direct links.&lt;/p&gt;
&lt;h2 id=&quot;linked-reproducible-scripts&quot;&gt;Linked reproducible scripts&lt;/h2&gt;
&lt;p&gt;I run a script and it produces some graphical output, like this:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5103/5819249612_7ac010a792_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Clicking on the image takes you to its place in the flickr photostream.  It has been automatically tagged, and the comment includes a direct link to a version-stable copy of the sourcecode that created it.  From the code page, we get a lot more information than just the source.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3530/5819272546_291d289b4c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We can see the package that it depends on, and grab all the dependencies by using git to pull this SHA commit hash.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can view the commit history of this particular file (click history).  Clicking then on any item shows a marked up diff of the file.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;If logged in to github, I can add line notes and comments to the diff pages, just as I can add comments in flickr.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Full suite of other abilities of both flickr and github, comments.  For instance, I can actually edit and commit changes to the code directly on github, or use flickr’s built-in photo editor.  Tag, search, and social functions also available.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2526/5819272524_2fed292477_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The links to the images and code can also be sent to me from my computer’s twitter account:&lt;/p&gt;
&lt;p&gt;[blackbirdpie url=“http://twitter.com/#!/tweeting_cpu/status/79278116543012864”]&lt;/p&gt;
&lt;p&gt;Viewing the tweet in the browser will actually show the image with the tweet, otherwise the links can quickly show me the figures or code. A similar tweet can be sent on the case of an error (if in batch mode only, the machine knows not to tweet if I’m &lt;em&gt;right here&lt;/em&gt;),  giving a timestamped link to the code and the name of the machine on which the run occurred.  A mention can get my attention and a unique hash tags help quickly check for other output by the same machine.&lt;/p&gt;
&lt;p&gt;http://twitter.com/#!/tweeting_cpu/status/79278121827827713&lt;/p&gt;
&lt;h2 id=&quot;adding-reporting-to-the-r-scripts&quot;&gt;Adding Reporting to the R Scripts&lt;/h2&gt;
&lt;p&gt;A bit more overhead is required in the code than simply loading the package and calling the report function (currently called “upload”).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We need to specify the script name.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We also must specify the commits manually, (not necessary if everything is committed before each batch run … but I’m not that perfect).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We must define a bit of information about the repository structure, though it will guess for my standard use cases.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then we can add optional information like tags, turn on the error reporting, etc.  An example script with these features looks like:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[gist id=1019567]&lt;/p&gt;
&lt;h3 id=&quot;possible-concerns&quot;&gt;Possible concerns&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Commits only the current script.  This assures the version number corresponds to a commit to this actual file, though links will work correctly regardless.  (Do all files exist as url at the end of all commits? – Yes.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Possible errors: installed version is older than the other files committed.  Would ideally run R CMD INSTALL and git commit -a before running any scripts, but oh well.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>mcmc and bootstrapped likelihood runs on parrotfish tree</title>
   <link href="/2011/06/09/mcmc-and-bootstrapped-likelihood-runs-on-parrotfish-tree.html"/>
   <updated>2011-06-09T09:48:42-07:00</updated>
   <id>h/2011/06/09/mcmc-and-bootstrapped-likelihood-runs-on-parrotfish-tree</id>
   <content type="html">&lt;h2 id=&quot;thursday-overview&quot;&gt;Thursday Overview&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Alan Meeting&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still running scripts, see below&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pmc vignette&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Got Duncan’s ROAuth utilities for RMendeley, still need to test.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Testing Scott’s rplos functions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Send Alan the paragraph for edits.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;computation&quot;&gt;Computation&lt;/h2&gt;
&lt;h4 id=&quot;running-on-one&quot;&gt;Running on one&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n 15: sim_general_mcmc.R   MCMC of general model with 8 x 1e6 reps.  alpha diverged. DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n14 Retry above with 8 x 1e6 and with less general model: sigma, theta indep only. WAITING&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n 18: parrotfish_gape.R: alpha,theta indep, vs sigma, theta indep on lever closing ratio (not gape, actually) data.  whoops, ran alpha twice instead.  DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n18 Rerun with 800 boot reps.  on “close” lever ratio: SUCCESS&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5222/5815759965_0cd67baa47_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2012/5815760235_9a712a2713_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2173/5816327756_4742c4c72c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n16 simulated release: as above on sim (alpha,theta indep, vs sigma, theta global on sim data).  Parallel Error.  DEAD&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n16 Retry. SUCCESS&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Note that this is actually less clear fit to (underlying) alpha model than in the true data. Also, theta is global (differing theta runs faced difficulties, not sure why). &lt;img src=&quot;http://farm6.staticflickr.com/5231/5815700214_a606a42554_o.png&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3033/5815132713_821c101d0c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2752/5815700830_60c588749b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The two sigma peaks aren’t visible due to y-axis scaling, which will have to be fixed (one is around 0, the other around 5).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;n17 gape.y mcmc_demo.R with sigma, theta indep, 1e6 x 8 DEAD (hits bad hastings ratio)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;n19 gape.y mcmc_demo.R with alpha, theta indep, 1e6 x 8 DEAD (hits bad hastings ratio)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;auto-generated-gallery-of-todays-runs&quot;&gt;Auto-generated gallery of today’s runs&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-06-08 22:00:00” max_upload_date=“2011-06-09 23:00:00”]&lt;/p&gt;
&lt;h2 id=&quot;code-tidbits&quot;&gt;Code tidbits&lt;/h2&gt;
&lt;p&gt;Would be nice to force me to write the comment about the script at runtime, rather than in the script itself (where I might forget to update it on a run). As long as any parameters are not written in by hand, the latter is okay. Tried adding prompt on batch mode, unsuccessfully:&lt;/p&gt;
&lt;p&gt;Read in command line arguments at batch mode: ((Adapted from &lt;a href=&quot;http://yangfeng.wordpress.com/2009/09/03/including-arguments-in-r-cmd-batch-mode/&quot;&gt;here&lt;/a&gt;))&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
$ R CMD BATCH --no-save --no-restore &lt;span class=&quot;st&quot;&gt;&amp;#39;--args a=1 b=c(2,5,6)&amp;#39;&lt;/span&gt; test.R test.out &lt;span class=&quot;kw&quot;&gt;&amp;amp;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Each argument must have no spaces, doesn’t seem to be able to pass text strings.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
##First read in the arguments listed at the command line
args=(&lt;span class=&quot;kw&quot;&gt;commandArgs&lt;/span&gt;(&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;))

##args is now a list of character vectors
## First check to see if arguments are passed.
## Then cycle through each element of the list and evaluate the expressions.
if(&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(args)==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;){
    &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;No arguments supplied.&amp;quot;&lt;/span&gt;)
    ##supply default values
    a =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
    b =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
}else{
    for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(args)){
         &lt;span class=&quot;kw&quot;&gt;eval&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;args[[i]]))
    }
}
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(a*&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(b*&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Always forget how to do block commenting in VIM: ((from &lt;a href=&quot;http://hurley.wordpress.com/2007/06/13/vim-tip-comment-out-multiple-lines/&quot;&gt;here&lt;/a&gt;)) Easiest to just select in visual mode (v) and then do :s/&lt;sup&gt;/&lt;/sup&gt;#/&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: Simulated model fit analysis on wrightscape, parrotfish tree</title>
   <link href="/2011/06/08/wednesday-simulated-model-fit-analysis-on-wrightscape-parrotfish-tree.html"/>
   <updated>2011-06-08T06:03:15-07:00</updated>
   <id>h/2011/06/08/wednesday-simulated-model-fit-analysis-on-wrightscape-parrotfish-tree</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Reviewed last night’s simulations, see yesterday’s post.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;simulated-data-testing&quot;&gt;Simulated data testing:&lt;/h2&gt;
&lt;p&gt;Fitting the general model well on the parrotfish tree even with clear simulated data seems hard.  Simulating with alpha(intramandibulars) = .01, and others = 20, and fitting general model and the alpha-only independent model (release of constraint model).  The release model MLE recovers reasonable values: alpha(intra) = 1.7, alpha(others) = 21.8, while the general model fit is clearly struggling even with SANN.&lt;/p&gt;
&lt;p&gt;[table id=3 /]&lt;/p&gt;
&lt;p&gt;May help to try seeding with optima of the sub-models.  This is expressed in the bootstraps of course, where the release model produces rather clear distributions (all with 80 reps):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5064/5812844434_0a7d0074dc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;though the general model is much more confused:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5236/5812283293_0f3c0c7aa7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Repeating with more replicates, but should try the remaining submodels.  This obviously shows up in the model comparison by bootstrapped likelihood ratio:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5266/5812703160_233cd3dbdf_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note how crucial it is we did the test distribution.  Without it, we’d think this a rather clear rejection of the variable alphas model in place of the general model.&lt;/p&gt;
&lt;h2 id=&quot;mcmcs&quot;&gt;MCMCs&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MCMCs on these models.  Having difficulty with undefined Hastings ratios, probably on out-of-bound proposals, though not sure why those aren’t being caught.  Good to know the MLE runs with the same likelihood function.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MCMC errors are occurring in MCMCMC, dropping the heated chains function for the moment works fine.  Some difficulty in recombining chain intervals in the coupling, will need a close look.  FIXME.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running long MCMCs on alpha (on zero, n8) and general (on one, n15) models.  Combines 16 chains (minus burnin), of 1e5 reps.  Simulated_mcmc.R example and sim_general_mcmc.R examples.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2499/5813212345_e3149ff42e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Ooh, much faster when not merging multiple chains.  let’s run 16 x 1e6.&lt;/p&gt;
&lt;h2 id=&quot;max-likelihood-bootstraps&quot;&gt;Max Likelihood + bootstraps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Piecewise initialized simulated annealing from the submodels: Works!  Also note: the aggressive SANN is still needed to get convergence:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gen_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;smart_multiType&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;sim_trait, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;labrid$tree,
+                   &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular,&lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;)
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  3.02538925492894e-07&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  0.0585819705289946&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  0.00166254126803767&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  2.90960629757019&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  1.23973641541187&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  1.84059077604827&amp;quot;&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getParameters.multiOU&lt;/span&gt;(gen_fit))
 alpha1       alpha2       theta1       theta2       sigma1       sigma2
 &lt;span class=&quot;fl&quot;&gt;0.756620314&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;3.758072410&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;13.732765801&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;4.853751270&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;0.006160961&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;3.913957909&lt;/span&gt;
 Xo
 &lt;span class=&quot;fl&quot;&gt;4.667250491&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;sann_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;smart_multiType&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data=&lt;/span&gt;sim_trait, &lt;span class=&quot;dt&quot;&gt;tree=&lt;/span&gt;labrid$tree,
+                   &lt;span class=&quot;dt&quot;&gt;regimes=&lt;/span&gt;intramandibular,&lt;span class=&quot;dt&quot;&gt;Xo=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; .&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;,
+                   &lt;span class=&quot;dt&quot;&gt;method =&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;control=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;80000&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;temp=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;25&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;tmax=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;))
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  0.271749815040882&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;alpha:  20.4096202543866&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  0.0037342888296498&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;sigma:  5.5349835595542&amp;quot;&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  4.81905476727201&amp;quot;&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;theta:  4.58842972148977&amp;quot;&lt;/span&gt;
&amp;gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;getParameters.multiOU&lt;/span&gt;(sann_fit))
 alpha1     alpha2     theta1     theta2     sigma1     sigma2         Xo
 &lt;span class=&quot;fl&quot;&gt;0.2609878&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;21.9790836&lt;/span&gt; -&lt;span class=&quot;fl&quot;&gt;5.5837586&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;4.6213975&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;17.9955025&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;9.6907227&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;7.3360959&lt;/span&gt;
&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should probably compare likelihoods of all models as well to check convergence.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm, likelihood of sann_fit isn’t actually better than the very far off combo of nelder-mead?  Change SANN starting temp?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Seems to be lack of power.  Seeding from a theta-only estimate doesn’t help at all in this case, as chooses wildly different theta.  meanwhile, sigma model is doing slightly better anyway:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3286/5812817201_389b5ca428_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Each model fit creates reasonably tight bootstraps around its MLE estimates:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5813385160_7afdf7f7ea_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2142/5813563660_f306740ef3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(plotted on different axes due the large difference in y max).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fixing “fixed” parameter style/ brownie.  has no alpha value stored, so can’t simulate.  FIXED.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Try on larger (labrid? simulated?) tree, will need a reasonable painting defined as well.  Seems to be a convergence problem, but more power may help tame the ridges.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;database-projects&quot;&gt;Database projects&lt;/h2&gt;
&lt;h3 id=&quot;treebase&quot;&gt;TreeBASE&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;iEvoBio talk accepted!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Johan Nylander’s advice: try readNexus() from phylobase package.  Unfortunately no go so far.  Can’t handle urls so download the file (needs wget interface).  See today’s update on&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues/3&quot;&gt;issue tracker&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rplos&quot;&gt;RPLoS&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wrote an R function implementing &lt;a href=&quot;http://labs.crossref.org/site/quick_and_dirty_api_guide.html&quot;&gt;CrossRef API&lt;/a&gt; for use in &lt;a href=&quot;https://github.com/SChamberlain/rplos&quot;&gt;rplos&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Oooh, PLoS and Mendeley have combined forces in the &lt;a href=&quot;http://www.mendeley.com/blog/developer-resources/plos-joins-mendeley-as-co-sponsor-of-the-binary-battle/&quot;&gt;competition&lt;/a&gt; to use their APIs.  Wonder if they’ll be very responsive to feature requests on the API itself…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Parrotfish/wrightscape runs and code modification</title>
   <link href="/2011/06/07/tuesday-parrotfishwrightscape-runs-and-code-modification.html"/>
   <updated>2011-06-07T16:47:09-07:00</updated>
   <id>h/2011/06/07/tuesday-parrotfishwrightscape-runs-and-code-modification</id>
   <content type="html">&lt;h2 id=&quot;runs-mon-midnight&quot;&gt;Runs: Mon midnight:&lt;/h2&gt;
&lt;p&gt;parrotfish.R with updated SANN parameters and corrected output parameter labeling (always {Xo, alpha, sigma, theta} ordering), implemented on zero, nice 19. General model (“wright”) still not outperforming others, so still un-converged.&lt;/p&gt;
&lt;p&gt;[flickr]5808279169/[/flickr]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MCMC runs of gape.y and close on one, at nice 19 and 18 1e5 reps. (Alex running matlab nice 10).  protrusion.y at nice 11, 1e6 reps.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open at nice 18 on zero, 1e6 reps.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;runs-tues-morning&quot;&gt;Runs: Tues Morning&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;8am: parrotfish.R 19 on one done, rest running.  added gape.y at 5e4 on zero at n18.  done.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open, close on zero, 1e5, 5e4. done.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;11am: open on zero, n17, 1e6 gen, and close on zero, n19, 1e6 gen.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;summary-results&quot;&gt;Summary Results&lt;/h2&gt;
&lt;p&gt;(Click on image for parameter details, hashtag to code in git).&lt;/p&gt;
&lt;h4 id=&quot;open-lever-arm-1e6-gens&quot;&gt;Open Lever arm, 1e6 gens&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2129/5811887743_ca8d58b5eb_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;general_mcmc&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;data =&lt;/span&gt; labrid[open], &lt;span class=&quot;dt&quot;&gt;tree =&lt;/span&gt; labrid, &lt;span class=&quot;dt&quot;&gt;regimes =&lt;/span&gt; intramandibular, &lt;span class=&quot;dt&quot;&gt;alpha =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;MaxTime =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1e+06&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;indep =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Despite the 1e6 gen probably far from stationary still: &lt;img src=&quot;http://farm3.staticflickr.com/2243/5811889155_0100789cc7_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Compare to:&lt;/p&gt;
&lt;h4 id=&quot;opening-lever-arm-1e5-gen&quot;&gt;Opening lever arm, 1e5 gen&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2006/5808419551_b08a514672_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;general_mcmc(data = labrid[open], tree = labrid, regimes = intramandibular, alpha = 0.1, sigma = 0.1, MaxTime = 1e+05, indep = 100)&lt;/p&gt;
&lt;h4 id=&quot;size-corrected-gape-5e5-gen&quot;&gt;Size-corrected gape, 5e5 gen&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2134/5810610763_90a42c7db7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;closing-lever-ratio-1e5-gen&quot;&gt;Closing lever ratio, 1e5 gen&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2274/5809256418_7fff175e7d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;All runs today: [flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-06-07 00:00:00” max_upload_date=“2011-06-08 9:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;afternoon-code-updates&quot;&gt;Afternoon: Code Updates&lt;/h2&gt;
&lt;p&gt;Rewrote the model with closures and generics.  Allows model to be specified by identifying which parameters are global, which are local (and if alpha is fixed).  Other combinations (global sigma, indep alpha and theta) may also be interesting. Keeps code completely functionalized, with single model (multiTypeOU) for maximum likelihood fit of any model, and single type to MCMCMC any model (phylo_mcmc, probably needs a better name).&lt;/p&gt;
&lt;h4 id=&quot;in-progress-to-do&quot;&gt;In Progress / To Do&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Testing convergence and power against simulated datasets.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Error handling for the simulation method–why does this sometimes give NAs?  Eee gads output mean can be variable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unit test cases for all functions!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Remove deprecated separate function calls for wright, brownie, etc, and update the code examples that use them (i.e. loop_over_models_traits_regimes.R and all the parrotfish examples)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;practice-presentation&quot;&gt;Practice Presentation&lt;/h2&gt;
&lt;p&gt;Lab meeting was moved to earlier in the day, which I missed.  Hopefully will reschedule.  See notes on practice presentation.&lt;/p&gt;
&lt;h2 id=&quot;databases-projects&quot;&gt;Databases projects&lt;/h2&gt;
&lt;h3 id=&quot;plos&quot;&gt;PLOS:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Tested out functions Scott has so far in the PLOS API, sent feedback.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some test runs of queries, troubleshooting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See details on the project &lt;a href=&quot;https://github.com/SChamberlain/plosjournals/issues&quot;&gt;issues tracker page&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;*&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parrotfish in wrightscape</title>
   <link href="/2011/06/06/parrotfish-in-wrightscape.html"/>
   <updated>2011-06-06T10:54:23-07:00</updated>
   <id>h/2011/06/06/parrotfish-in-wrightscape</id>
   <content type="html">&lt;h2 id=&quot;bootstrapping-option&quot;&gt;Bootstrapping option&lt;/h2&gt;
&lt;p&gt;Needs a method to pass the optional optim arguments to the update function, such that update uses the same algorithm as the initial fit. Required being a little clever:&lt;/p&gt;
&lt;p&gt;[gist id=“1010999”]&lt;/p&gt;
&lt;p&gt;Done. but perhaps we won’t always want to bootstrap under this? I suppose it is good practice but slow!  Shoot, now I need a lot of really large computers really soon.&lt;/p&gt;
&lt;p&gt;Excellent suggestion for better ways to do this from statscicomp list.  match.call looks very promising as it avoids making a copy, but risks being evaluated in the wrong environment, which my solution above avoids.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# Using match.call()&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#--------------------&lt;/span&gt;
f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y, ... ) {
 myCall =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;match.call&lt;/span&gt;()
 &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;myCall =&lt;/span&gt; myCall, &lt;span class=&quot;dt&quot;&gt;ans =&lt;/span&gt; y +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(...))
&amp;lt;div&amp;gt;}
a =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(a$myCall)&amp;lt;&lt;span class=&quot;er&quot;&gt;/&lt;/span&gt;div&amp;gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] &lt;span class=&quot;co&quot;&gt;# the function&lt;/span&gt;
f
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]] &lt;span class=&quot;co&quot;&gt;# represents the first argument, y&lt;/span&gt;
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Now I want to change this second value (representing y) to a 2&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]] =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a$myCall
 &lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;eval&lt;/span&gt;(a$myCall)
$myCall
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;y =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
$ans
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;fl&quot;&gt;2.199471&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Using closures&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#---------------&lt;/span&gt;
set_up_f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(...) {
 fFn =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(y) y +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(...)
 }
f =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;set_up_f&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sd =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mean =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# 1.199471&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;f&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# 2.199471&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Note: parallelization function can use pre-initialized parallelization, but should warn that it is using this setup and report how many processors are being used vs requested.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;General against Brownie, General against Ouch:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm4.staticflickr.com/3233/5806032744_3b0f33d372_o.png&quot; /&gt;   &lt;img src=&quot;http://farm4.staticflickr.com/3411/5805647153_c89329c204_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;rerunning nice 17 the long SANN to do model comparison of likelihoods before attempting bootstrapping.&lt;/p&gt;
&lt;h2 id=&quot;mcmcmc-option&quot;&gt;MCMCMC option&lt;/h2&gt;
&lt;p&gt;Opening example&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5120/5806537994_52946ec16a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Trait is untransformed gape; gape.x.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mixing of this model (1e5 generations), more transparent is hotter:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3054/5806558482_ef9fab2631_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;gape.y running 1e6 generations, nice 18&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;open (opening lever ratio running 1e4 gens, nice 16)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3046/5806049549_5f19a7f98b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3371/5806613814_526d29cb28_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;rerunning 1e5 gens, nice 14&lt;/p&gt;
&lt;h2 id=&quot;other-stuff&quot;&gt;Other stuff&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Algorithms group meeting on EM today, to be continued.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on evolution presentation, see draft notes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some work on RR workflow tools, see draft notes until posted.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Registered for CSGF conference and HPC workshop&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Julie’s questions on likelihood of SIR-type model simulation (in email)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Power in phylogenies manuscript finalize!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Assemble MCMC and bootstrapping results, write remaining Evolution practice talk&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hastings paper&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday -- warning signals manuscript (mostly)</title>
   <link href="/2011/06/05/sunday-warning-signals-manuscript-mostly.html"/>
   <updated>2011-06-05T09:20:26-07:00</updated>
   <id>h/2011/06/05/sunday-warning-signals-manuscript-mostly</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updates to Scott’s rspringer package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grabbed remaining datasets from Dakos et al., added to package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reading (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009) a bit more closely&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing and revisions on warning signals manuscript.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Biggs R, Carpenter S and Brock W (2009). “Turning Back From The Brink: Detecting an Impending Regime Shift in Time to Avert it.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811729106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811729106&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday: git with latexdiff, TreeBASE and PMC package updates, bounds on lambda</title>
   <link href="/2011/06/04/saturday-git-with-latexdiff-treebase-and-pmc-package-updates-bounds-on-lambda.html"/>
   <updated>2011-06-04T14:27:30-07:00</updated>
   <id>h/2011/06/04/saturday-git-with-latexdiff-treebase-and-pmc-package-updates-bounds-on-lambda</id>
   <content type="html">&lt;h2 id=&quot;bounds-on-lambda&quot;&gt;bounds on lambda:&lt;/h2&gt;
&lt;p&gt;Updated the pmc wrappers for fit_continuous to pass bounds on lambda to the bootstrapping Monte Carlo functions.  Settled on passing all options explicitly after quite a bit of effort. Looking for way to pass a function all of it’s arguments as a named arguments in a list; statscicomp list suggested do.call() function; quite brilliant.&lt;/p&gt;
&lt;p&gt;Considering user workflow for wrappers.  Conceptually, makes sense for user to run the standard package fit routines first, and then pass the results to pmc.  Added support to pass the fit, rather than refit, to create fitContinuous object of the pmc package.&lt;/p&gt;
&lt;p&gt;Revised method for wrapping PMC capability around existing functions (given a fit method and a simulation method).  A bit cumbersome still, as requires a couple user-defined functions, but at least faster for me to write wrappers, if not likely simple enough for most users to write their own wrappers.  Construction is explained in the in-code documentation of pmc_model.R, but easily illustrated with some simple examples (also in pmc_ex.R)&lt;/p&gt;
&lt;pre class=&quot;sourceCode R&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;co&quot;&gt;# use the pmc_model to define a function that fits under &amp;quot;pureBirth&amp;quot; and simulates under &amp;quot;sim.bd.taxa&amp;quot;&lt;/span&gt;
pureBirth_fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(fit_input){
 &lt;span class=&quot;kw&quot;&gt;pmc_model&lt;/span&gt;(pureBirth, sim.bd.taxa,
 &lt;span class=&quot;dt&quot;&gt;fit_input =&lt;/span&gt; fit_input,
 &lt;span class=&quot;dt&quot;&gt;data_name =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;,
 function(m) &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(m$fit_input$x), &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
 &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;m$fit_results$r1, &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;frac =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,
 &lt;span class=&quot;dt&quot;&gt;complete =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;stochsampling =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;),
 function(x) &lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]),
 function(fit_results) fit_results$LH )
 }

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(pmc)
&lt;span class=&quot;kw&quot;&gt;data&lt;/span&gt;(geospiza)
fit_input =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(geospiza$geospiza.tree))
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pureBirth_fit&lt;/span&gt;(fit_input)
x &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate&lt;/span&gt;(m)
m2&amp;lt;-&lt;span class=&quot;kw&quot;&gt;update&lt;/span&gt;(m,x)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;loglik&lt;/span&gt;(m2))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that then simulate, update, and loglik methods and work.   getParameters() returns all results of the fit method, which should be fixed (will create way too many copies of the data).&lt;/p&gt;
&lt;p&gt;Started writing these for several of the common fit methods, discovered many of them do not have corresponding “simulate” methods available.  Also found many features of these packages that drive me a bit crazy. Not that I don’t do this out of laziness, hope to better before I release my packages:&lt;/p&gt;
&lt;h3 id=&quot;my-list-of-common-faux-pas-in-packages&quot;&gt;my list of common faux pas in packages:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Don’t pollute the namespace. Don’t export functions in NAMESPACE not intended for use. Use IMPORTS instead of DEPENDS if your package requires other packages. Not to call anything out, but for instance, laser just exports all functions with exportPattern(“&lt;sup&gt;&lt;a href=&quot;#fn1&quot; class=&quot;footnoteRef&quot; id=&quot;fnref1&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;+”, and then adds “Internal” to the documentation of these functions. If they are internal, don’t export them.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;When returning a fit object, return all the function inputs as well (model used, data, etc). Ideally as an object with an assigned type and methods associated with it as well. laser, geiger, and others often return very simple list objects without this information.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Keep all function options of the utilities you use available to the user. The most common example here is that bothers me endlessly is the optim method, used by almost all of the packages, which for some reason all prefer the bounded box method and don’t allow the user to alter this. Hitting these bounds leads to a fair fraction of the confusion on the r-sig-phylo list regarding the behavior of one of these functions, and is usually completely unnecessary.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;likelihood based methods should always include methods to simulate under the process modeled. (medusa, many of the laser fits, etc don’t have this capacity).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write as a separate function the likelihood method passed to optim. This makes it easy to extend to other methods.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ooh, things we’d never do in phylogenetics: daily testing of software (&lt;a href=&quot;http://trac.buildbot.net/&quot;&gt;buildbot&lt;/a&gt;, &lt;a href=&quot;http://code.google.com/p/googletest/&quot;&gt;googletest&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;git-and-latexdiff&quot;&gt;git and latexdiff:&lt;/h2&gt;
&lt;p&gt;Spent way too long working out how to checkout the current commit and the previous commit of a tex file for a latex-diff.  checkout without specifying a branch means you end up with detached head, on a  “no-banch”, which I couldn’t seem to merge back to master.  Checking out a copy while specifying a branch avoids this.  (revert might work too?)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;mkdir&lt;/span&gt; tmp
&lt;span class=&quot;kw&quot;&gt;cp&lt;/span&gt; file.tex tmp/ &lt;span class=&quot;co&quot;&gt;#keep a copy to diff against&lt;/span&gt;
git checkout -b &lt;span class=&quot;kw&quot;&gt;test&lt;/span&gt; master~1 file.tex &lt;span class=&quot;co&quot;&gt;# checkout onto a separate branch&lt;/span&gt;
latexdiff file.tex tmp/file.tex &lt;span class=&quot;kw&quot;&gt;&amp;gt;&lt;/span&gt; diff.tex &lt;span class=&quot;co&quot;&gt;#&lt;/span&gt;
pdflatex diff.tex &lt;span class=&quot;co&quot;&gt;#&lt;/span&gt;
git checkout master &lt;span class=&quot;co&quot;&gt;# switch back to master&lt;/span&gt;
git-branch -D &lt;span class=&quot;kw&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;co&quot;&gt;# remove the test branch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Initialize an empty repository on webserver (note we need –bare if we want to start things off by pushing to this).&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
on the server: git init --bare .&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;then give it a name and push the master branch to the server:&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;
git remote add dreamhost cboettig@server:/path/to/dir/
git push -u dreamhost master&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;treebase-rr-test-case&quot;&gt;TreeBASE RR test case?&lt;/h2&gt;
&lt;p&gt;Exploring reproducible research with TreeBASE on the Evolution paper that just appeared (Derryberry &lt;em&gt;et. al.&lt;/em&gt; 2011).  Character data is supposed to be morphobase.org, but don’t see it.  Maybe it hasn’t posted yet?&lt;/p&gt;
&lt;p&gt;Step one: See article in Google Reader reporting a beautiful phylogeny.&lt;/p&gt;
&lt;p&gt;Step two: grab tree into R and run analyses:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(treebase)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Derryberry&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;) -&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;a
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(a[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(a[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A beautiful time-calibrated tree of 297 taxa.&lt;/p&gt;
&lt;p&gt;Step 3: read paper, repeating all of the author’s analyses as we go.&lt;/p&gt;
&lt;p&gt;Looking at testing the authors conclusions based on laser and medusa against treepar run, but haven’t navigated treepar’s rather verbose, unformatted output yet.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Derryberry E, Claramunt S, Derryberry G, Chesser R, Cracraft J, Aleixo A, Pérez-Emán J, Remsen Jr. J and Brumfield R (2011). “Lineage Diversification And Morphological Evolution in A Large-Scale Continental Radiation: The Neotropical Ovenbirds And Woodcreepers (Aves: Furnariidae).” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2011.01374.x&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&quot;fn1&quot;&gt;&lt;p&gt;[:alpha:]&lt;a href=&quot;#fnref1&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/06/03/friday-5.html"/>
   <updated>2011-06-03T10:52:31-07:00</updated>
   <id>h/2011/06/03/friday-5</id>
   <content type="html">&lt;h2 id=&quot;a-days-agenda&quot;&gt;A day’s agenda&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Scott’s got us going on a&lt;a href=&quot;https://github.com/SChamberlain/plosjournals&quot;&gt;R package&lt;/a&gt; for&lt;a href=&quot;http://api.plos.org/&quot;&gt;PLoS API&lt;/a&gt;, released Tuesday. Checked over the package and did some basic reorganization to put it in R package form.&lt;/li&gt;
&lt;li&gt;lots of feedback on my &lt;a href=&quot;http://ff.im/EIkgt&quot;&gt;FF question&lt;/a&gt; on pw vs private for delayed-disclosure entries.&lt;/li&gt;
&lt;li&gt;warning signals manuscript package, figures, writing 9-11a&lt;/li&gt;
&lt;li&gt;Going through Peter’s revisions 11-1p&lt;/li&gt;
&lt;li&gt;Meeting with Peter &amp;amp; Graham 1-2p&lt;/li&gt;
&lt;li&gt;Meeting with Mikaela, Betta for GTC 2-4&lt;/li&gt;
&lt;li&gt;PDG on Brian’s Autoparts paper 4-5:30&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Colored git diff’s etc (from &lt;a href=&quot;http://progit.org/book/ch7-1.html&quot;&gt;progit.org&lt;/a&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;`git config --global color.ui true`&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading:&lt;/h2&gt;
&lt;p&gt;Mostly education stuff:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Excellent &lt;a href=&quot;http://www.newyorker.com/arts/critics/atlarge/2011/06/06/110606crat_atlarge_menand?currentPage=all&quot;&gt;New Yorker piece&lt;/a&gt; on the value of a college education.&lt;/li&gt;
&lt;li&gt;Kandace sent this wonderful piece in Science, in which 7 HHMI fellows outline 7 initiatives for changing the balance of research and teaching (Anderson &lt;em&gt;et. al.&lt;/em&gt; 2011):&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Educate faculty about research on learning&lt;/li&gt;
&lt;li&gt;Create awards/named professorships supporting outstanding teachers&lt;/li&gt;
&lt;li&gt;Require excellence in teaching for promotion&lt;/li&gt;
&lt;li&gt;Create teaching discussion groups (of colleagues)&lt;/li&gt;
&lt;li&gt;Create cross-disciplinary programs at college-level learning&lt;/li&gt;
&lt;li&gt;Provide ongoing  support for effective science teaching (i.e. NSF grants)&lt;/li&gt;
&lt;li&gt;Engage chairs, deans, presidents&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Better still is this nice lecture response to the paper, addressing (1).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.physics.indiana.edu/~hake&quot;&gt;Should the Culture of University Science Education Be Changed?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Anderson W, Banerjee U, Drennan C, Elgin S, Epstein I, Handelsman J, Hatfull G, Losick R, O’Dowd D, Olivera B, Strobel S, Walker G and Warner I (2011). “Changing The Culture of Science Education at Research Universities.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1198280&quot;&gt;http://dx.doi.org/10.1126/science.1198280&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: Warning Signals</title>
   <link href="/2011/06/02/thursday-warning-signals.html"/>
   <updated>2011-06-02T14:31:39-07:00</updated>
   <id>h/2011/06/02/thursday-warning-signals</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;p&gt;Reviewing my edits.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Writing writing writing&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;updating graphs and package&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Yet another volley in the kin-selection group-selection debate (debacle?)(Marshall, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This looks excellent, will have to find time for a closer read: (Davies &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jonah’s Science paper, the subject of his Merton-Love seminar, (Piovia-Scott &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Marshall J (2011). “Group Selection And Kin Selection: Formally Equivalent Approaches.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2011.04.008&quot;&gt;http://dx.doi.org/10.1016/j.tree.2011.04.008&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Davies T, Smith G, Bellstedt D, Boatwright J, Bytebier B, Cowling R, Forest F, Harmon L, Muasya A, Schrire B, Steenkamp Y, van der Bank M, Savolainen V and Kingsolver J (2011). “Extinction Risk And Diversification Are Linked in A Plant Biodiversity Hotspot.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000620&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1000620&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Piovia-Scott J, Spiller D and Schoener T (2011). “Effects of Experimental Seaweed Deposition on Lizard And Ant Predation in an Island Food Web.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200282&quot;&gt;http://dx.doi.org/10.1126/science.1200282&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals Literature: when stats are and aren't attempted</title>
   <link href="/2011/06/01/warning-signals-literature-when-stats-are-and-arent-attempted.html"/>
   <updated>2011-06-01T08:10:56-07:00</updated>
   <id>h/2011/06/01/warning-signals-literature-when-stats-are-and-arent-attempted</id>
   <content type="html">&lt;p&gt;In preparing manuscript on warning signals, reviewing the literature on when statistical validation of the warning signal is included, and if so, what kind are done. There’s certainly no consensus in the approach, with the majority of papers not even attempting a method (and those that do not finding significance). Scheffer’s key review (Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2009) calls for the need to measure statistical significance of warning signals,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Therefore, it would be useful to build a set of reliable statistical procedures to test whether an increase in autocorrelation, for example, is significant.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;doesn’t report statistical significance on any of the examples presented.  This is certainly true of many of the most cited papers in the field:&lt;/p&gt;
&lt;h4 id=&quot;most-warning-signals-literature-ignores-the-question-of-significance&quot;&gt;most warning signals literature ignores the question of significance:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Carpenter’s paper “introducing” variance as a warning statistic (Carpenter &amp;amp; Brock, 2006) (model only) ((uses an annual window rather than sliding window))&lt;/li&gt;
&lt;li&gt;van Nes et al. Am Nat paper (van Nes &amp;amp; Scheffer, 2007), introducing CSD as a warning signal ((though citing earlier introduction to concept in Rietkerk et al. 1996; Gandhi et al. 1998 (Gandhi &lt;em&gt;et. al.&lt;/em&gt; 1998))) (model only)&lt;/li&gt;
&lt;li&gt;Guttal’s spatial skew/spatial variance (Guttal &amp;amp; Jayaprakash, 2008): (model only)&lt;/li&gt;
&lt;li&gt;Carpenter’s recent ecosystem experiment compares visually to a control, but no statistical significance test: (Carpenter &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Drake &amp;amp; Griffen (Drake &amp;amp; Griffen, 2010), No attempt to quantify the probability, hinges on visual comparison to control.  ((Actually use a variety of proxies, just no formal quantification of the probability this would be observed by chance.  On the individual time series (appendix): “any increase or local maximum in the statistic” is assumed a significant increase. Text defines exceeding the running average by 2 sigma as significant increase – asymptotically any data set becomes significant.))&lt;/li&gt;
&lt;li&gt;Subsequent theoretical work (Brock &amp;amp; Carpenter, 2010), (Biggs &lt;em&gt;et. al.&lt;/em&gt; 2009), (&lt;span class=&quot;showtooltip&quot; title=&quot;Carpenter S and Brock W (2010). Early Warnings of Regime Shifts in
Spatial Dynamics Using The Discrete Fourier Transform. _Ecosphere_,
*1*. ISSN 2150-8925,  http://dx.doi.org/10.1890/ES10-00016.1.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1890/ES10-00016.1&quot;&gt;Carpenter &amp;amp; Brock, 2010&lt;/a&gt;&lt;/span&gt;) doesn’t address this either.&lt;/li&gt;
&lt;li&gt;Observational system increases variance (fish stocks) (Hsieh &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;examples-attempting-statistical-significance-estimates&quot;&gt;Examples attempting statistical significance estimates&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Guttal &amp;amp; Jayaprakash introduce a new summary stat (skew, happily added to the pantheon) (Guttal &amp;amp; Jayaprakash, 2008).  A wonderful paper, does include real data (Sahara desertification), as well as model, and does statistical significance testing with real null and even finds it – not significant!  Uses a moving average window.  Data from Sandusky bay, Lake Erie, see the &lt;a href=&quot;http://www.heidelberg.edu/academiclife/distinctive/ncwqr/data/data&quot;&gt;SanduskyData&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos et al. PNAS paper (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) and Dakos et. al. spatial correlation paper (Gandhi &lt;em&gt;et. al.&lt;/em&gt; 1998) are one of few examples with statistical significance using Kendall’s correlation test, and at least in the appendix comparing it to a reasonable AR(1) null (under which the observed values of the statistic assume almost all values nearly uniformly and half of the examples loose statistical significance).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Litzow et al.   [cite source=“pubmed”]18767612[/cite] uses method STARS from (&lt;span class=&quot;showtooltip&quot; title=&quot;Rodionov S (2004). A Sequential Algorithm For Testing Climate Regime
Shifts. _Geophysical Research Letters_, *31*. ISSN 0094-8276, 
http://dx.doi.org/10.1029/2004GL019448.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1029/2004GL019448&quot;&gt;Rodionov, 2004&lt;/a&gt;&lt;/span&gt;).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Kéfi &lt;em&gt;et. al.&lt;/em&gt; 2007) statistically significant deviation from power law in patch-size (sum of squares reduction test), but is not a generic warning signal.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;other-commentary&quot;&gt;Other commentary&lt;/h4&gt;
&lt;p&gt;Examples cited (1 of 3) by Scheffer (Scheffer, 2010) as example of “smart data-processing technique” : only one attempts statistical significance test.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uses detail-specific bifurcation model (genie modeling system). (Lenton &lt;em&gt;et. al.&lt;/em&gt; 2009), no test of significance&lt;/li&gt;
&lt;li&gt;Dakos, (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) Kendall’s $ $&lt;/li&gt;
&lt;li&gt;Carpenter 2006, but no measure of statistical significance  (Carpenter &amp;amp; Brock, 2006).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Only models, no significance tests:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bailey’s model based approach, (Bailey, 2010) cellular automata simulation with CSD, some hints at significance levels from replicate simulations, but no reported statistics.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So where does this leave us &amp;amp; does it matter?&lt;/p&gt;
&lt;p&gt;Best examples are Dakos 2008, partic appendix, and Guttal Eco Let 2008.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Bascompte J, Brock W, Brovkin V, Carpenter S, Dakos V, Held H, van Nes E, Rietkerk M and Sugihara G (2009). “Early-Warning Signals For Critical Transitions.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature08227&quot;&gt;http://dx.doi.org/10.1038/nature08227&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S and Brock W (2006). “Rising Variance: A Leading Indicator of Ecological Transition.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00877.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00877.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;van Nes E and Scheffer M (2007). “Slow Recovery From Perturbations as A Generic Indicator of A Nearby Catastrophic Shift.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;169&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/516845&quot;&gt;http://dx.doi.org/10.1086/516845&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Gandhi A, Levin S and Orszag S (1998). ““Critical Slowing Down” in Time-to-Extinction: an Example of Critical Phenomena in Ecology.&amp;quot; &lt;em&gt;Journal of Theoretical Biology&lt;/em&gt;, &lt;strong&gt;192&lt;/strong&gt;. ISSN 00225193, &lt;a href=&quot;http://dx.doi.org/10.1006/jtbi.1998.0660&quot;&gt;http://dx.doi.org/10.1006/jtbi.1998.0660&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guttal V and Jayaprakash C (2008). “Spatial Variance And Spatial Skewness: Leading Indicators of Regime Shifts in Spatial Ecological Systems.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-008-0033-1&quot;&gt;http://dx.doi.org/10.1007/s12080-008-0033-1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S, Cole J, Pace M, Batt R, Brock W, Cline T, Coloso J, Hodgson J, Kitchell J, Seekell D, Smith L and Weidel B (2011). “Early Warnings of Regime Shifts: A Whole-Ecosystem Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1203672&quot;&gt;http://dx.doi.org/10.1126/science.1203672&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brock W and Carpenter S (2010). “Interacting Regime Shifts in Ecosystems: Implication For Early Warnings.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;80&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/09-1824.1&quot;&gt;http://dx.doi.org/10.1890/09-1824.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Biggs R, Carpenter S and Brock W (2009). “Turning Back From The Brink: Detecting an Impending Regime Shift in Time to Avert it.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811729106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811729106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hsieh C, Reiss C, Hunter J, Beddington J, May R and Sugihara G (2006). “Fishing Elevates Variability in The Abundance of Exploited Species.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;443&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05232&quot;&gt;http://dx.doi.org/10.1038/nature05232&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guttal V and Jayaprakash C (2008). “Changing Skewness: an Early Warning Signal of Regime Shifts in Ecosystems.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01160.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01160.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Kéfi S, Rietkerk M, Alados C, Pueyo Y, Papanastasis V, ElAich A and de Ruiter P (2007). “Spatial Vegetation Patterns And Imminent Desertification in Mediterranean Arid Ecosystems.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;449&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature06111&quot;&gt;http://dx.doi.org/10.1038/nature06111&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M (2010). “Complex Systems: Foreseeing Tipping Points.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/467411a&quot;&gt;http://dx.doi.org/10.1038/467411a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lenton T, Myerscough R, Marsh R, Livina V, Price A and Cox S (2009). “Using Genie to Study A Tipping Point in The Climate System.” &lt;em&gt;Philosophical Transactions of The Royal Society A: Mathematical, Physical And Engineering Sciences&lt;/em&gt;, &lt;strong&gt;367&lt;/strong&gt;. ISSN 1364-503X, &lt;a href=&quot;http://dx.doi.org/10.1098/rsta.2008.0171&quot;&gt;http://dx.doi.org/10.1098/rsta.2008.0171&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bailey R (2010). “Spatial And Temporal Signatures of Fragility And Threshold Proximity in Modelled Semi-Arid Vegetation.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2010.1750&quot;&gt;http://dx.doi.org/10.1098/rspb.2010.1750&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;S. R. Carpenter, W. A. Brock, (2010) Early Warnings of Regime Shifts in Spatial Dynamics Using The Discrete Fourier Transform. &lt;em&gt;Ecosphere&lt;/em&gt; &lt;strong&gt;1&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/ES10-00016.1&quot;&gt;10.1890/ES10-00016.1&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sergei N. Rodionov, (2004) A Sequential Algorithm For Testing Climate Regime Shifts. &lt;em&gt;Geophysical Research Letters&lt;/em&gt; &lt;strong&gt;31&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1029/2004GL019448&quot;&gt;10.1029/2004GL019448&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: PMC, confidence intervals; screen code-tricks</title>
   <link href="/2011/05/31/tuesday-5.html"/>
   <updated>2011-05-31T07:38:59-07:00</updated>
   <id>h/2011/05/31/tuesday-5</id>
   <content type="html">&lt;h2 id=&quot;pmc&quot;&gt;PMC&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Final read through of manuscript from me and Peter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at confidence intervals in fitContinuous?  Package used to use the hessian from optim, but it was later removed due to errors.  I added this back manually and attempt a few estimates.  Given the Hessian (likelihood surface curvature) this is approximated by&lt;/p&gt;
&lt;p&gt;sqrt(diag(solve(out$hessian)))&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/pmc/blob/64a9da6ee949cc04349580ed9e750296841af59a/demos/conf_interval_ex.R&quot;&gt;conf_interval_ex.R&lt;/a&gt;.  i.e for Geospiza tree is:&lt;/p&gt;
&lt;p&gt;[1] SE sigma: +/ 0.6763731 SE lambda: +/- 1.0338531 [2] boot lambda: (9.9e-08, 1) [3] boot beta: (0.0072 0.0591)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More crazy on large tree:  the bootstrap estimates are nice and narrow, while the Hessian estimate for lambda is ridiculous:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;SE sigma: +/- 0.05773465  SE lambda: +/- 73.05777456
boot lambda: (0.452340436725362, 0.694239348471331)
boot beta: (0.143594988736606, 0.214849236562022)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;added revolution-r packages to zero, parallelizes fitContinuous on my machine, but interestingly crashes it on zero when run on the large tree.  Hmm…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;database-packages&quot;&gt;database packages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scott’s updates to dryad.  Scott’s comment’s on workflow added to wiki.  Need to check over and test.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fixes from Emmanuel to read.nexus.data in the ape package, testing in TreeBASE package.   Basic examples that return the alignments now implemented.   A few issues remain: need to track the metadata (but can’t tag this onto the list), and lots of character matrices don’t meet read.nexus.data’s requirements.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discussion with Dave on his work.  Let a stochastic model parameter (binomial probability) evolve or not evolve on a tree.  Partition the uncertainty.  Considering some rather strange/arbitrary models.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-tricks&quot;&gt;Code tricks&lt;/h2&gt;
&lt;p&gt;Copy-paste in screen mode, very useful on remote machine:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Ctrl+a [&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;starts copy mode.  Navigate with vi-keys (arrows, etc), Hit spacebar to begin copy selection, spacebar again to end.  Paste with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Ctrl+a ]

&amp;lt;span style=&amp;quot;font-family: constantia, &amp;#39;hoefler text&amp;#39;, &amp;#39;palatino linotype&amp;#39;, serif; font-size: 16px; line-height: 24px; white-space: normal;&amp;quot;&amp;gt;Note that git can of course always pull directly from the server, rather than pushing through github.     i.e. &amp;lt;/span&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;git remote add zero cboettig@ten.ucdavis.edu:/home/cboettig/Computing/RMendeley&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git pull zero master&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perhaps worth configuring to share access to individual manuscript files.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/05/30/monday-6.html"/>
   <updated>2011-05-30T16:44:54-07:00</updated>
   <id>h/2011/05/30/monday-6</id>
   <content type="html">&lt;h2 id=&quot;power-in-phylogenies-paper-pmc&quot;&gt;Power in Phylogenies  Paper (PMC)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working through / incorporated Graham’s edits&lt;/li&gt;
&lt;li&gt;Added confidence intervals discussion&lt;/li&gt;
&lt;li&gt;tweaks to associated pmc package&lt;/li&gt;
&lt;li&gt;Exploring confidence intervals (and lack thereof) in literature on comparative methods.  Pagel (1999) (Pagel, 1999) includes them, but few other papers do.  He does not include any discussion about how these are calculated.&lt;/li&gt;
&lt;li&gt;Seems Sweave makes sense for the recreate-figures code from the cached data-files, but perhaps not for the entire analysis code-base (in demos/).  A pity it isn’t easy to get syntax-highlighting output.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also working on clean-up and reorganization of directory structure.&lt;/p&gt;
&lt;p&gt;Aside: installed jetpack plugin, breaks flickr-gallery plugin unless video inclusion short-codes are disabled.  Removing jetpack brakes the API key for wp-stats, cannot seem to fix this, (says wrong API key, doesn’t match the install of wp-stats), so have gone back to jetpack.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Pagel M (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;401&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/44766&quot;&gt;http://dx.doi.org/10.1038/44766&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
   <link href="/2011/05/29/sunday-2.html"/>
   <updated>2011-05-29T16:24:59-07:00</updated>
   <id>h/2011/05/29/sunday-2</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Completed phylogenetic power manuscript updates based on Peter’s comments.  Graham will read Monday.&lt;/li&gt;
&lt;li&gt;Took a whack at updating the treebase package with a method for grabbing nexus character matrices.  See&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues/3&quot;&gt;github issues log&lt;/a&gt;, querying Emmanuel on this one.&lt;/li&gt;
&lt;li&gt;Local directory management / cleanup&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;prepare-annual-progress-report-for-committee&quot;&gt;Prepare annual progress report for committee&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Phylogenetics Power manuscript. Nearly there.  (SICB presentation)&lt;/li&gt;
&lt;li&gt;Warning signals manuscript resubmission. (Presenting at ESA)&lt;/li&gt;
&lt;li&gt;Generalized comparative method/release of constraint – method done, time to write.  (Presenting at Evolution.)&lt;/li&gt;
&lt;li&gt;TreeBASE manuscript.  (Presenting at iEvoBio.)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;recent-progress-summary-for-duncan&quot;&gt;Recent progress summary for Duncan&lt;/h3&gt;
&lt;h4 id=&quot;rmendeley&quot;&gt;RMendeley:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Public API done,&lt;/li&gt;
&lt;li&gt;I’ve learned to create windows binaries, and it’s now being tested by some of the Mendeley team (W. Gunn).&lt;/li&gt;
&lt;li&gt;Need an authentication example to do the user-specific API&lt;/li&gt;
&lt;li&gt;Have some requests up on the Mendeley development list and the developer wiki for some modifications to API (i.e. search stats should return paper uuids)&lt;/li&gt;
&lt;li&gt;Considering entering in the competition?  Not to win but could be fun, and would get some free Amazon time.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;treebase&quot;&gt;TreeBASE:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;API implementation is done for the phylogenies.&lt;/li&gt;
&lt;li&gt;Example explorations &lt;a href=&quot;http://www.carlboettiger.info/archives/1702&quot;&gt;up in notebook&lt;/a&gt;:&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE/issues?sort=created&amp;amp;direction=desc&amp;amp;state=open&quot;&gt;Issues&lt;/a&gt; list on github&lt;/li&gt;
&lt;li&gt;Waiting for treeBASE developers to add Dryad IDs to pull dryad data out as well.  Meanwhile, working on a work-around using the Dryad database&lt;/li&gt;
&lt;li&gt;Presenting as a lightning talk at iEvoBio conference&lt;/li&gt;
&lt;li&gt;Considering combining with Dryad and Mendeley and entering into the &lt;a href=&quot;http://ievobio.org/challenge.html&quot;&gt;data integration challenge&lt;/a&gt; at iEvoBio conference.  Thoughts?&lt;/li&gt;
&lt;li&gt;Starting short manuscript, could try bioinformatics or BMC bioinformatics, could certainly go in&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;dryad&quot;&gt;Dryad:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Basic data-pulling interface implemented.&lt;/li&gt;
&lt;li&gt;Scott Chamberlain, Graduate Student at Rice. now helping with development of the package.&lt;/li&gt;
&lt;li&gt;Scott has added the metadata search capacity.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;socialr&quot;&gt;socialR:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;gitR, etc.  Need to update this to use native R functions instead of the command-line utilities for flickr, twitter, git.&lt;/li&gt;
&lt;li&gt;I need to figure out explicit semantics we discussed, and then figure out how to save/log work.  Will try and write this out carefully.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are lots of reasons this uses flickR for images over an S3 repository (though maybe good reasons to do both).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Flickr API is already built and already familiar to a large userbase,&lt;/li&gt;
&lt;li&gt;Flickr has a database structure, making it easy to tag, search, browse by date, etc&lt;/li&gt;
&lt;li&gt;Flickr API is widely implemented – easy to get simulation results in real time on my phone, add results to wordpress realtime using plugin with search criteria, etc.&lt;/li&gt;
&lt;li&gt;Flickr is a social web app, with notions of privacy, sharing, licensing, searching&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;from-friday&quot;&gt;From Friday&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Edits to pmc package&lt;/li&gt;
&lt;li&gt;begun package vignette in Sweave to illustrate how results are produced.&lt;/li&gt;
&lt;li&gt;would be nice if sweave had syntax highlighting, see the&lt;a href=&quot;http://stackoverflow.com/questions/4808052/sweave-syntax-highlighting-in-output&quot;&gt;stackoverflow&lt;/a&gt; on this.  Can’t seem to get minted.sty working, won’t recognize my install of pygmatize.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;a-minimal-summary-of-progress-this-week&quot;&gt;A minimal summary of Progress this week&lt;/h2&gt;
&lt;p&gt;ROC Curves.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Site configuration: file sharing notes</title>
   <link href="/2011/05/28/site-configuration-file-sharing-notes.html"/>
   <updated>2011-05-28T16:22:02-07:00</updated>
   <id>h/2011/05/28/site-configuration-file-sharing-notes</id>
   <content type="html">&lt;p&gt;Easiest way to share files is ssh onto the carlboettiger.info server,  change into the directory carlboettiger.info/ and create a new directory there – i.e. share/.  This behaves as a regular static webpage directory that will list the files provided.&lt;/p&gt;
&lt;p&gt;Secure access can be created by going to the goodies –&amp;gt;htaccess/WebDav page and selecting the option to make a directory or subdirectory secure, and then specifying the passwords, etc.  Have created the subdirectory http://carlboettiger.info/share/secure as an example of this.  See &lt;a href=&quot;http://wiki.dreamhost.com/Htaccess&quot;&gt;DreamHost wiki entry for Htaccess.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://wiki.dreamhost.com/FTP&quot;&gt;Dreamhost FTP&lt;/a&gt; access requires an FTP user account.  Anonymous FTP can be set up at an additional cost but is not generally advised.  This may be a good way to allow users to upload large content to me.  At the moment I don’t seem to have the root access to allow me to directly copy files from the guest ftp to my own user directory.&lt;/p&gt;
&lt;p&gt;Looks like can make a page &lt;a href=&quot;http://wiki.dreamhost.com/index.php/WebDAV&quot;&gt;WebDAV&lt;/a&gt; enabled, an http protocol.  Not sure that this will be very useful.  Currently sample webdav page doesn’t even display in browser.&lt;/p&gt;
&lt;h2 id=&quot;git-on-server&quot;&gt;Git on server&lt;/h2&gt;
&lt;p&gt;Configure a root (user carlroot) account for dreamhost &lt;a href=&quot;https://panel.dreamhost.com/index.cgi?tree=vserver.adminusers&amp;amp;&quot;&gt;through the panel&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Git &lt;a href=&quot;http://wiki.dreamhost.com/Git&quot;&gt;dreamhost wiki&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For instance, this works:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;log in to server, go to carlboettiger.info/git&lt;/li&gt;
&lt;li&gt;pull a public repo (read-only), i.e.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;git clone git://github.com/cboettig/dryad.git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git update-server-info&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in that directory.  Then anyone can clone using:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git clone http://carlboettiger.info/git/dryad/.git&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but cannot push changes back.  Can clone with ssh too.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Matt Potts: Conserving Diversity in Tropical Landscapes</title>
   <link href="/2011/05/27/matt-potts-conserving-diversity-in-tropical-landscapes.html"/>
   <updated>2011-05-27T14:27:20-07:00</updated>
   <id>h/2011/05/27/matt-potts-conserving-diversity-in-tropical-landscapes</id>
   <content type="html">&lt;p&gt;My notes from Matt’s seminar: Theory and field work addressing getting beyond binary decision making.  Malaysia.  Tropical forest becoming oil palm, rice, rubber, tea.&lt;/p&gt;
&lt;h3 id=&quot;reserve-selection-vs-landscape-reserve-design&quot;&gt;Reserve Selection vs Landscape Reserve Design&lt;/h3&gt;
&lt;h3 id=&quot;optimality-of-specialized-vs-uniform-forest-management&quot;&gt;Optimality of Specialized vs Uniform Forest Management&lt;/h3&gt;
&lt;p&gt;Uniform (sustainable forest management) vs very protected areas, ignore what’s done outside.  More intensive disturbance.&lt;/p&gt;
&lt;p&gt;An important ecological nonlinearity: What’s the most ubiquitous spatial pattern? Aggregated, random, uniform?  (50 hectares is .5 km by km, or 120 English acres, tag every tree taller than 1.3m &lt;a href=&quot;http://www.ctfs.si.edu/&quot;&gt;CTFS&lt;/a&gt;, very nice spatial data).  [Also an &lt;a href=&quot;http://rss.acs.unt.edu/Rdoc/library/CTFS/html/00Index.html&quot;&gt;R package&lt;/a&gt;, though removed from cran]&lt;/p&gt;
&lt;p&gt;((Aggregated? What about Jansen Connell? ))&lt;/p&gt;
&lt;p&gt;For a fixed reserve area A, find the number of reserves (of size a) that maximizes the number m of species in the reserve: given that species are aggregated. (assume abundance distribution – log-normal from Hubble (lots of rare species).  Neg Binomial model for aggregations.  (Assume a minimum viable population, ~100 individuals).&lt;/p&gt;
&lt;p&gt;Sanity check cases: under random model, regardless of A, one large reserve is optimal.  Very aggregated, one large reserve is never optimal. Treats a two-step problem: economics tell you total area A, step 2: decide how to partition that.  (Springborn Question: when should you be doing step 1 conditional on step 2?)&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Conclusion&lt;/em&gt;: as biodiversity is more valuable, fewer larger reserves is better.&lt;/p&gt;
&lt;p&gt;Field study on VJR areas, no pattern on biodiversity.  hmm.&lt;/p&gt;
&lt;p&gt;(comments on phylogeny &amp;amp; biodiversity?)&lt;/p&gt;
&lt;p&gt;(indicator species diversity of impact.)&lt;/p&gt;
&lt;h3 id=&quot;biodiversity-conservation-challenges-under-redd&quot;&gt;Biodiversity Conservation challenges under REDD+&lt;/h3&gt;
&lt;p&gt;Key-issues:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Additionality: No money to do what you already planned&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Baseline: Additional compared to what&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Leakage: Will this mean more logging elsewhere?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Non-permanence&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Measurement&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Monitoring&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Temporal &amp;amp; Spatial Scales of management: Biodiversity outside the timescale of typical lumber or carbon concerns. How about just RED?  Stack the biodiversity aspect, don’t bundle it?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday Meetings: Duncan; Alan</title>
   <link href="/2011/05/26/thursday-6.html"/>
   <updated>2011-05-26T16:53:05-07:00</updated>
   <id>h/2011/05/26/thursday-6</id>
   <content type="html">&lt;h2 id=&quot;duncan-meeting&quot;&gt;Duncan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ROAuth/RCurl question.  Mendeley is OAuth 1, github is OAuth 2 (simpler).  Both are implemented in pure R in another package, may be good.  OAuth 1 constructs complicated http urls with secret, and token, and random key, need to escape chars, etc.  OAuth 2 is https, just uses token.&lt;/li&gt;
&lt;li&gt;Authentication options: Jeff’s ROAuth/Duncan’s mod, other OAuth package.&lt;/li&gt;
&lt;li&gt;RMendeley– windows binary, competition?&lt;/li&gt;
&lt;li&gt;socialR – discussed strategy to get a figure with matching code and data.  Tracing, codeDepends, defining syntax.&lt;/li&gt;
&lt;li&gt;TreeBASE – iEvoBio lightning talk, data integration competition?  integrate 3 sources: TreeBASE, Dryad, Mendeley?  Github share scripts?&lt;/li&gt;
&lt;li&gt;Dryad: Scott on board.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finding requisite sampling density.&lt;/li&gt;
&lt;li&gt;Switching to ROC curves?  Yup.  Include graphic illustrating how they are computed.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2446/5762718170_60466b90dd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Rephrasing critique of what’s done: quantifying it’s performance vs understanding it’s performance (move latter to appendix).&lt;/li&gt;
&lt;li&gt;Data/lit.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;coding-and-writing&quot;&gt;Coding and writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working on updating manuscript figures&lt;/li&gt;
&lt;li&gt;MCMCMC routine on wrightscape example still manages to throw errors sometimes, not clear why.  more debugging.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Always takes me a moment to remember how to grab a deleted or changed file from an earlier commit to the repository, thought I better write it down.  Now tracking these useful bits under code-tricks (maybe should keep them as gists too?  If only gists could have tag structure, etc)&lt;/p&gt;
&lt;pre class=&quot;sourceCode bash&quot;&gt;&lt;code class=&quot;sourceCode bash&quot;&gt;git checkout 81e8a9fac4a862ca097ae2ef693fbfe33a0970c5 roc_curve_ex.R&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Reuse of phylogenetic info: Looking at &lt;a href=&quot;https://www.nescent.org/sites/evoio/MIAPA&quot;&gt;MIAPA&lt;/a&gt; project (Leebens-Mack &lt;em&gt;et. al.&lt;/em&gt; 2006), &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=5444&quot;&gt;NSF ABI&lt;/a&gt;.  Wonder if the TreeBASE project (maybe with Dryad+Mendeley interfaces) can be turned into a&lt;a href=&quot;http://ievobio.org/challenge.html&quot;&gt;iEvoBio challenge entry&lt;/a&gt; (deadline June 13!)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Leebens-Mack J, Vision T, Brenner E, Bowers J, Cannon S, Clement M, Cunningham C, DePamphilis C, DeSalle R, Doyle J, Eisen J, Gu X, Harshman J, Jansen R, Kellogg E, Koonin E, Mishler B, Philippe H, Pires J, Qiu Y, Rhee S, Sjölander K, Soltis D, Soltis P, Stevenson D, Wall K, Warnow T and Zmasek C (2006). “Taking The First Steps Towards A Standard For Reporting on Phylogenies: Minimum Information About A Phylogenetic Analysis (Miapa).” &lt;em&gt;Omics: A Journal of Integrative Biology&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1536-2310, &lt;a href=&quot;http://dx.doi.org/10.1089/omi.2006.10.231&quot;&gt;http://dx.doi.org/10.1089/omi.2006.10.231&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/05/25/wednesday-5.html"/>
   <updated>2011-05-25T10:25:06-07:00</updated>
   <id>h/2011/05/25/wednesday-5</id>
   <content type="html">&lt;h2 id=&quot;r-packages&quot;&gt;R packages&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Trying to build Windows binaries for R packages using &lt;a href=&quot;http://win-builder.r-project.org/&quot;&gt;win-builder&lt;/a&gt; service.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First have to get R CMD check working.  Check runs in –vanilla mode so have to tell it where libraries are.  Created the file ~/.R/check.Renviron containing the line: R_LIBS=“/home/cboettig/R/packages” seems to do the trick.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Successfully built windows binaries for RMendeley package (pre-release, still in development). &lt;a href=&quot;https://github.com/downloads/cboettig/RMendeley/RMendeley_0.1-1.zip&quot;&gt;Download&lt;/a&gt; the binaries from github.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Matt successfully installed &lt;a href=&quot;http://developer.nvidia.com/cuda-toolkit-40&quot;&gt;CUDA&lt;/a&gt; on zero (2.6, looks like we might want 3.0 or 4.0 – if only they could organize their site better…).  Now, do we pay for an academic license of &lt;a href=&quot;http://www.culatools.com/&quot;&gt;CULA&lt;/a&gt; tools and start playing with &lt;a href=&quot;http://brainarray.mbni.med.umich.edu/brainarray/rgpgpu/&quot;&gt;gputools&lt;/a&gt;?  A few more specialized GPU R packages are on the &lt;a href=&quot;http://cran.r-project.org/web/views/HighPerformanceComputing.html&quot;&gt;HPC taskview&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Troubleshooting MCMC – resolved some minor issues from last night’s run.  Seems to be up and running now (on zero, pid 14301, nice 5), we’ll see if we get successful output…&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3432/5760676232_8b926d033e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Re-running with smaller step increments on m (1/20th of value), see if the posterior is smaller). Running with four chains, still 1e5 steps, nice 18.&lt;br /&gt;Running with four chains, 1e6 steps, nice 19.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Running longer versions of sampling effect (have enough replicates to get smooth distributions), on zero, nice 19&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can represent these as &lt;a href=&quot;http://en.wikipedia.org/wiki/Receiver_operating_characteristic&quot;&gt;ROC Curves&lt;/a&gt;, showing the result of 20, 50, 100, and 200 data points.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5187/5760099339_9c535e11ce_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;For deteriorating example in &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5755642208&quot;&gt;this dataset&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Working on manuscript edits, 4:30p - ??&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;teaching&quot;&gt;Teaching&lt;/h2&gt;
&lt;p&gt;Teaching second half of phylogenetics comparative methods tutorial in R in core today.  Using my &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Boettiger%29_2011&quot;&gt;Bodega curriculum&lt;/a&gt;, covered up through model choice.  3p-4:30p.&lt;/p&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ooh: Stack &lt;em&gt;et. al.&lt;/em&gt; 2011&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Losos’s address from Evolution last year, out in Am Nat.   (Losos, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Cass pulled out this gem from Bruce Alberts: (Alberts, 2005)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Daniel says peer review should be public (Mietchen, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wow, once again Jeremy really writes about some great stuff on Oikos blog. Just a read &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/05/24/ignorance-is-bliss-sometimes/&quot;&gt;a piece after my own heart&lt;/a&gt; on the meaning of “random” in ecology. I think I need to cut back, I might be addicted.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;p&gt;Things I haven’t gotten to today. Should add these to their github repositories issues trackers.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dryad R package – search metadata. Scott is taking a whack at this one.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase support for downloading character matrices. Should be quick. one day&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase writeup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SocialR – integrate Rflickr, twitteR, begin github api, improved tracking of relevant code and data&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Losos J (2011). “Seeing The Forest For The Trees: The Limitations of Phylogenies in Comparative Biology.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;177&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/660020&quot;&gt;http://dx.doi.org/10.1086/660020&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alberts B (2005). “A Wakeup Call For Science Faculty.” &lt;em&gt;Cell&lt;/em&gt;, &lt;strong&gt;123&lt;/strong&gt;. ISSN 00928674, &lt;a href=&quot;http://dx.doi.org/10.1016/j.cell.2005.11.014&quot;&gt;http://dx.doi.org/10.1016/j.cell.2005.11.014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mietchen D (2011). “Peer Reviews: Make Them Public.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473452b&quot;&gt;http://dx.doi.org/10.1038/473452b&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rbrownie: an R Package For Testing Hypotheses About Rates of Evolutionary Change, J. Conrad Stack, Luke J. Harmon, Brian O’Meara, (2011) &lt;em&gt;Methods in Ecology And Evolution&lt;/em&gt;, &lt;strong&gt;2&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1111/j.2041-210X.2011.00112.x&quot;&gt;10.1111/j.2041-210X.2011.00112.x&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2011/05/24/tuesday-4.html"/>
   <updated>2011-05-24T16:09:15-07:00</updated>
   <id>h/2011/05/24/tuesday-4</id>
   <content type="html">&lt;h2 id=&quot;warning-signals-package&quot;&gt;Warning signals package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewing &lt;a href=&quot;http://www.carlboettiger.info/archives/1169&quot;&gt;Numerical challenges&lt;/a&gt; for faster analysis on warningsignals&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;created a quick &lt;a href=&quot;https://github.com/cboettig/mcmcTools&quot;&gt;mcmcTools&lt;/a&gt; package so different packages can use my custom routines.  Will have to explore some of the standard packages eventually, though most seem somewhat specialized (the Bayesian task-view is epic).  &lt;a href=&quot;http://cran.r-project.org/web/packages/bayesm/index.html&quot;&gt;bayesm&lt;/a&gt; looks promising, and LearnBayes package that accompanies Jim Albert’s book (Albert, unknown) might be worth a closer look.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrote mcmc script for &lt;a href=&quot;https://github.com/cboettig/warningsignals&quot;&gt;warningsignals&lt;/a&gt;, much more debugging to handle out-of-bounds conditions then expected.  Also switched to call parameters by position instead of name in linear_bifur_models.  Debugging is slow with slow codes!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;illustrating how increasing the sampling rate increases power to determine necessary monitoring scheme:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-05-24 10:40:00” max_upload_date=“2011-05-24 16:15:00”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Need to start writing more informative commit messages and committing more logically connected blocks with git.  Will perhaps go hand-in-hand with getting better with &lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=2975&quot;&gt;fugitive plugin&lt;/a&gt; for git commands in vim, for which &lt;a href=&quot;http://vimcasts.org/episodes/fugitive-vim---a-complement-to-command-line-git/&quot;&gt;vimcasts has a nice tutorial&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;meetingstalks&quot;&gt;Meetings/Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Matt @ Wainwright lab meeting 2-4p&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Morgan’s exit seminar. 4-5p&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Albert J (unknown). “Bayesian Computation With R.” &lt;em&gt;Unknown&lt;/em&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: some code-tricks, Algorithms group planning</title>
   <link href="/2011/05/23/monday-5.html"/>
   <updated>2011-05-23T16:00:18-07:00</updated>
   <id>h/2011/05/23/monday-5</id>
   <content type="html">&lt;h2 id=&quot;teary&quot;&gt;Teary&lt;/h2&gt;
&lt;p&gt;Some discussion on combining Greek letters with variables in R.  Previously have solved this with substitute() command,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;x =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;4.5&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main =&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;substitute&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Kendall &amp;quot;&lt;/span&gt;, tau ==&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;val), &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;val =&lt;/span&gt; x[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;])))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;but Peter has a more elegant solution that can be vectorized:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;interaction&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; == &amp;quot;&lt;/span&gt;),function(x)&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;x))
&lt;span class=&quot;co&quot;&gt;#for instance&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;legend&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;topright&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;legend=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;interaction&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sep=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot; == &amp;quot;&lt;/span&gt;),function(x)&lt;span class=&quot;kw&quot;&gt;parse&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;text=&lt;/span&gt;x)),&lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Better yet, &lt;code&gt;bquote&lt;/code&gt; has a mechanism to evaluate an argument vs express the argument as a symbol, see gist id=1108159.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Having other people to help code is great, we’re considering the teary list-serve as a potential source for R help now.&lt;/li&gt;
&lt;li&gt;Also very interesting discussion around the NCEAS model, it’s impact, and the role of ecoinformatics. Check out &lt;a href=&quot;http://ice.ucdavis.edu/&quot;&gt;UC Davis’s ICE lab&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Update comments/suggestions about Rblogging and CiTO, posted to Dave Munger. (not actually during teary)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;algorithms-group&quot;&gt;Algorithms group&lt;/h2&gt;
&lt;p&gt;Our group is gaining interest among others, so we spend most of today thinking about our goals and possible changes to the format that could address this while preserving our monkey-style approach of low preparation, liberal doses of mistakes, and actually hacking out working examples of trivial problems together. We also started reviewing the set up for the EM problem, which we’ll consider when Yaniv returns the week after next. Next week we’ll detour into Amazon EC2 tutorial instead.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Nick has some great notes on the future of the session, which hopefully will be posted on the OWW page eventually. Meanwhile:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;The Algorithm Discussion Group began as a handful of students who met informally to implement toy models of various algorithms in R. Every week, ADG members gather in the Schreiber lab to discuss an algorithm, create code to run a sample problem, and interpret the results. Over the course of the last two months, we’ve covered ABC and (MC)^3, and plan to cover EM and HMM in the near future. While we talk about reading papers beforehand and coming to meetings prepared, it often devolves into shouting instructions at the computer monkey.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Several students have expressed interest in joining our group over the last two months. Unfortunately, our current format would be suboptimal and unwieldy for groups with more than five or six members. We are instituting a few changes to open the group to new members and have three involvement options for interested students.&lt;/p&gt;
&lt;p&gt;Sign up for the mailing list with Alisa (&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h='&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#46;&amp;#x65;&amp;#100;&amp;#x75;';a='&amp;#64;';n='&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;';e=n+a+h;
document.write('&lt;a h'+'ref'+'=&quot;ma'+'ilto'+':'+e+'&quot;&gt;'+e+'&lt;\/'+'a'+'&gt;');
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x65;&amp;#100;&amp;#x75;&lt;/noscript&gt;). We envision this as a way for students to talk about algorithms, mathematics, statistics, and coding. Most importantly, it’s going to be a safe environment to ask questions and not worry about sounding goofy.&lt;/p&gt;
&lt;p&gt;Attend formal Algorithm Discussion Group meetings. Meetings will occur approximately monthly and be announced on the ADG mailing list. One student will lead the meetings and provide reading material and code prior to the event. The meetings will be interactive and accessible for students with beginning coding and rusty mathematical skills.&lt;/p&gt;
&lt;p&gt;The third option is to pitch algorithm meeting ideas to the organizing committee. Interested students can suggest algorithms with general applicability to Pop Bio student research and have the option of implementing the algorithm in R with the organizing committee and presenting it at the monthly meeting. Currently, the organizing committee is Alisa, Carl, Dave, Nick, and Yaniv, but we envision members rotating in and out as commitments change and students leave Davis.&lt;/p&gt;
&lt;p&gt;Anyway, reply to Alisa (&lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h='&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#46;&amp;#x65;&amp;#100;&amp;#x75;';a='&amp;#64;';n='&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;';e=n+a+h;
document.write('&lt;a h'+'ref'+'=&quot;ma'+'ilto'+':'+e+'&quot;&gt;'+e+'&lt;\/'+'a'+'&gt;');
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x73;&amp;#x65;&amp;#100;&amp;#x67;&amp;#104;&amp;#x69;&amp;#102;&amp;#x61;&amp;#114;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x75;&amp;#x63;&amp;#100;&amp;#x61;&amp;#118;&amp;#x69;&amp;#x73;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x65;&amp;#100;&amp;#x75;&lt;/noscript&gt;) if you’re interested in participating further. This will be the last email to the CPB-student list and all future emails will be to the ADG list.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;updates to &lt;a href=&quot;http://www.carlboettiger.info/archives/1736&quot;&gt;MCMC&lt;/a&gt; (with examples), and Dave pointed this &lt;a href=&quot;http://cscs.umich.edu/~crshalizi/weblog/606.html&quot;&gt;intriguing example&lt;/a&gt; of bad behavior in MCMC convergence out.  Seems to be a rather different problem than I get from the priors, as it is rather contrived with a bimodal distribution to stump the particular centered prior, but oh well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;p&gt;Only a bit of real research today.  Updates to warningsignals, see git log.&lt;/p&gt;
&lt;h2 id=&quot;discussion-for-gtc&quot;&gt;Discussion for GTC&lt;/h2&gt;
&lt;p&gt;Great discussion about better alternatives to the cookbook lab report: 1. Moskovitz, C. &amp;amp; Kellogg, D. &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200353&quot;&gt;Science education. Inquiry-based writing in the laboratory course&lt;/a&gt;. Science (New York, N.Y.) 332, 919-20(2011).&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Asai, D.J.&lt;a href=&quot;http://dx.doi.org/10.1126/science.1207680&quot;&gt;Measuring student development&lt;/a&gt;. Science (New York, N.Y.) 332, 895(2011).  Particularly interesting in that a big player is taking accurate assessment the effectiveness of educational impact seriously; something other funders (i.e. NSF broader impacts) have not done, and also in its reference to this &lt;a href=&quot;http://nces.ed.gov/pubsearch/pubsinfo.asp?pubid=2000601&quot;&gt;excellent study&lt;/a&gt; characterizing gender and race/ethnicity differences in staying in the sciences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Deslauriers, L., Schelew, E. &amp;amp; Wieman, C.&lt;a href=&quot;http://dx.doi.org/10.1126/science.1201783&quot;&gt;Improved Learning in a Large-Enrollment Physics Class&lt;/a&gt;. Science 332, 862-864(2011), also discussed in this &lt;a href=&quot;http://www.nytimes.com/2011/05/13/science/13teach.html?_r=2&quot;&gt;NY Times piece&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Also looked into some work by Scott Freeman. Scott also sent the preprint for #2, which isn’t out yet, hence why I couldn’t find it.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Freeman, S. &amp;amp; Parks, J.W. How accurate is peer grading? CBE life sciences education 9, 482-8(2010).&lt;/li&gt;
&lt;li&gt;Freeman, S., Haak, D. &amp;amp; Wenderoth, M.P. Increased Course Structure Improves Performance in Introductory Biology. Education (2011).doi:10.1187/cbe.10-08-0105&lt;/li&gt;
&lt;li&gt;Entry and Persistence of Women and Minorities in College Science and Engineering Education Entry and Persistence of Women and Minorities in College Science and Engineering Education. Educational Research (2000).&lt;/li&gt;
&lt;li&gt;Freeman, S. et al. Prescribed Active Learning Increases Performance in Introductory Biology. Education 6, 132-139(2007).&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday</title>
   <link href="/2011/05/22/sunday.html"/>
   <updated>2011-05-22T14:33:41-07:00</updated>
   <id>h/2011/05/22/sunday</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.biomath.ilstu.edu/beer/&quot;&gt;International Symposium on Biomathematics and Ecology: Education and Research&lt;/a&gt; – This looks excellent, wonder if I can make it.  Besides, it’s in Portland and the acronym is promising.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.foodwebs.org/&quot;&gt;Pacific Ecoinformatics and Computational Ecology Lab&lt;/a&gt; - Based in Berkeley, looks rather intriguing, hard to tell how active this is as a group.&lt;/li&gt;
&lt;li&gt;Ecoinformatics? So it does exist? Paraphrasing Jeremy Fox, has it done anything?  A rather nice review in ARES: (Jones &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/li&gt;
&lt;li&gt;HHMI to take measuring achievement of education programs seriously in its next round of $60M in grants to primarily undergrad institutions.  (Asai, 2011).&lt;/li&gt;
&lt;li&gt;Integrating writing into science courses makes it into the Education Forum of this week’s issue.  (Moskovitz &amp;amp; Kellogg, 2011)&lt;/li&gt;
&lt;li&gt;Great post over at Oikos blog on NCEAS, prompted me to &lt;a href=&quot;http://www.carlboettiger.info/archives/1788&quot;&gt;some writing&lt;/a&gt;. Too much fun.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.dataone.org/content/dataone-users-group&quot;&gt;DataONE users group&lt;/a&gt; reads like a who’s who in data archiving in ecology and evolution.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;programming&quot;&gt;Programming&lt;/h2&gt;
&lt;h3 id=&quot;rmendeley&quot;&gt;Rmendeley&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Fixed my difficulties with search queries in RMendeley by discipline.  The documentation read that the argument was “discipline-id”.  While you do give the id-number (i.e., “6” for computer science, see categories() for a list of id numbers), the API argument should just read “discipline.” Looks like the &lt;a href=&quot;https://sites.google.com/site/mendeleyapi/home/concepts#discipline_id&quot;&gt;documentation has been updated&lt;/a&gt;, and I’ve learned how to log in to edit the wiki (sign in is at the bottom of the page).&lt;/li&gt;
&lt;li&gt;This should just about complete the public API.  A few testing things still to do: Searches with spaces should be entered as %20, and DOI forward-slashes may need to be escaped, but haven’t figured out how to do so.  Another question posted to the Dev-list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dryad&quot;&gt;Dryad&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Can OAI_MPH can search/query by any of the metadata tags by specifying the tag by the metadata prefix?  Doesn’t seem like it, maybe I’m missing something.  Once again a question for the dev-list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;blog-updates&quot;&gt;Blog updates&lt;/h2&gt;
&lt;p&gt;Okay, so as I say, this is a lab notebook, not a blog.  Except when it’s a blog.  In that spirit, I’ve decided to register with a few relevant blog networks, to share my more bloggified notebook entries with their relevant audiences – namely, entries about the literature, and entries about R.&lt;/p&gt;
&lt;p&gt;Finally registered for &lt;a href=&quot;http://researchblogging.org/news/?p=88&quot;&gt;ResearchBlogging.org&lt;/a&gt;.  I love this idea, but I think they could include a few recommendations.&lt;/p&gt;
&lt;p&gt;In the past I’ve hesitated from registering because I’ve wondered what exactly &lt;a href=&quot;http://researchblogging.org/news/?p=88&quot;&gt;their standards&lt;/a&gt;were, and what the&lt;a href=&quot;http://www.researchblogging.org/static/index/page/register&quot;&gt;approval process&lt;/a&gt;looked like.  I’ve finally found them, but they could be placed somewhere more obvious and look a bit more formal?  Primarily as this information might be of interest to those looking to read blogs but not register.  Their automatic citation thing is great – but I’d like to use my own automatic citation thing (kcite).  I wish either one supported CiTO.&lt;/p&gt;
&lt;p&gt;There’s no obvious statistics associated with Research Blogging (number of blogs, breakdown by discipline), or a way to search for blog entries on a specific paper (by, say, title or DOI), which seems like it should be simple given that users all add the little RB citation script to their page.&lt;/p&gt;
&lt;p&gt;I’ll have to figure out which posts I would actually tag as research blogging.  I cite articles in most of my posts, but many would not quite fit the research-blogging paradigm.  We’ll see how my approval goes and where I go from there.&lt;/p&gt;
&lt;h3 id=&quot;r-bloggers&quot;&gt;R-Bloggers&lt;/h3&gt;
&lt;p&gt;Pushed my &lt;a href=&quot;http://www.carlboettiger.info/archives/tag/r/feed/rss&quot;&gt;R tag&lt;/a&gt; as an RSS to &lt;a href=&quot;http://www.r-bloggers.com/&quot;&gt;R-bloggers&lt;/a&gt;.  Includes two posts so far.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Jones M, Schildhauer M, Reichman O and Bowers S (2006). “The New Bioinformatics: Integrating Ecological Data From The Gene to The Biosphere.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;37&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.ecolsys.37.091305.110031&quot;&gt;http://dx.doi.org/10.1146/annurev.ecolsys.37.091305.110031&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Asai D (2011). “Measuring Student Development.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1207680&quot;&gt;http://dx.doi.org/10.1126/science.1207680&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Moskovitz C and Kellogg D (2011). “Inquiry-Based Writing in The Laboratory Course.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1200353&quot;&gt;http://dx.doi.org/10.1126/science.1200353&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>End of NCEAS & the legacy of synthetic data</title>
   <link href="/2011/05/22/end-of-nceas-the-legacy-of-synthetic-data.html"/>
   <updated>2011-05-22T08:40:43-07:00</updated>
   <id>h/2011/05/22/end-of-nceas-the-legacy-of-synthetic-data</id>
   <content type="html">&lt;p&gt;The upcoming termination of NSF funding for &lt;a href=&quot;http://www.nceas.ucsb.edu/&quot;&gt;NCEAS&lt;/a&gt; has recently been receiving a bit of attention, including this nice piece in &lt;em&gt;Science&lt;/em&gt; (Stokstad, 2011).  I was particularly intrigued by &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/05/20/its-the-end-of-nceas-as-we-know-it-and-i-feel-fine/&quot;&gt;Oikos’s treatment of this&lt;/a&gt;, in which Oikos editor Jeremy Fox writes,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;that’s probably NCEAS’ biggest legacy–the sense that the answers to all, or at least many, of our questions are already out there, in existing data that just needs to be pulled together&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;and then argues that this may have gone to far,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;As the saying goes, if all you have is a hammer, everything looks like a nail. Similarly, if all you have is the data you’ve currently got, every question looks like one that can be answered with those data.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I think this is an important point to raise, but it misses the mark.  I don’t think anyone meant we should never collect new data.  I think the issue is rather that we never look back at the data we collect, as Jeremy very aptly acknowledges:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The sort of datasets I (and everyone I know) work with can be handled easily on an ordinary laptop with ordinary software like Excel and R. […] we’re getting along just fine without any ecoinformatics or high performance computing resources.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;As he says, if all you have is a hammer, everything looks like a nail. This is &lt;em&gt;exactly&lt;/em&gt; why efforts such as NCEAS are so important. Darwin didn’t need a laptop with Excel and R, he got along just fine.  So why is everyone using fancy laptops?&lt;/p&gt;
&lt;p&gt;I don’t think we’re at any risk of all new data collection ceasing and everyone pouring over the same tired old few studies.  Rather we’re in an era of being flooded with data, from GenBank to NCEAS to the thousands of individual studies becoming papers in our ever-expanding journals.  We will always need new data, and we’ll always collect it, even though it is hard work and expensive, as Jeremy says.&lt;/p&gt;
&lt;p&gt;Do we check that our questions cannot be answered by combining existing data before we set off to get more?  Do we design our collection in a way that others can maximally reuse the data to answer other questions, or combine it with other existing data to answer the kinds of questions that a small, short-term, or system-specific dataset cannot? Do we recognize the contributions of excellent, careful data collection the way we do those brilliantly clever insights backed by the most tenuous available evidence?  Do we have the tools to do this?&lt;/p&gt;
&lt;p&gt;Jeremy has argued that many centers have attempted to mimic NCEAS, and it is worth reflecting on exactly what is successful.  Another of NSF’s short-term initiative centers, NESCent, (National Evolutionary Synthesis Center) holds an equally synthetic charge which was excellently enunciated by it’s own independent post-docs in an article called Linking Big,  (Sidlauskas &lt;em&gt;et. al.&lt;/em&gt; 2009), emerging in the aftermath of an NSF program review that critiqued the center early on for being insufficiently synthetic. NESCent will soon face similar challenges to NCEAS, figuring out how to continue its mission and value on a model that goes beyond 5-year program grants.&lt;/p&gt;
&lt;p&gt;Their recent piece in &lt;em&gt;Nature&lt;/em&gt; (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2011) emphasizes the importance of funding data-archiving infastructure, which, at a cost of $400,000 annually may generate much more research for the dollar than the current NSF funding average of over $25,000 per paper ((or the 3.7 million budget of NCEAS, though admittedly was charged with a much greater scope)).&lt;/p&gt;
&lt;p&gt;As NCEAS authors Reichman, Jones &amp;amp; Schildhauer eloquently state, (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ecology is a synthetic discipline benefiting from open access to data from the earth, life, and social sciences. Technological challenges exist, however, due to the dispersed and heterogeneous nature of these data. Standardization of methods and development of robust metadata can increase data access but are not sufficient. Reproducibility of analyses is also important, and executable workflows are addressing this issue by capturing data provenance. Sociological challenges, including inadequate rewards for sharing data, must also be resolved. The establishment of well-curated, federated data repositories will provide a means to preserve data while promoting attribution and acknowledgement of its use.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Reichman, Jones &amp;amp; Schildhauer are putting their money on federated repositories such as &lt;a href=&quot;https://www.dataone.org/&quot;&gt;DataONE&lt;/a&gt; to address these challenges, which may be a key as well as economical solution.  But will such programs be funded more continuously than the synthesis centers that have jump-started them?  What role will future centers play in helping us address those challenges?&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stokstad E (2011). “Pioneering Center Ponders Future as Nsf Pulls Out.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.332.6032.905&quot;&gt;http://dx.doi.org/10.1126/science.332.6032.905&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sidlauskas B, Ganapathy G, Hazkani-Covo E, Jenkins K, Lapp H, McCall L, Price S, Scherle R, Spaeth P and Kidd D (2009). “Linking Big: The Continuing Promise of Evolutionary Synthesis.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00892.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00892.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Piwowar H, Vision T and Whitlock M (2011). “Data Archiving is A Good Investment.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473285a&quot;&gt;http://dx.doi.org/10.1038/473285a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms group: MCMCMC</title>
   <link href="/2011/05/19/algorithms-group-mcmcmc.html"/>
   <updated>2011-05-19T05:52:34-07:00</updated>
   <id>h/2011/05/19/algorithms-group-mcmcmc</id>
   <content type="html">&lt;p&gt;Discussed &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\text{MC}^3\inline&quot;/&gt;&lt;/span&gt;, the &lt;a href=&quot;http://en.wikipedia.org/wiki/Bayesian_inference_in_phylogeny#Metropolis-coupled_MCMC_.28Geyer.29&quot;&gt;Metropolis coupled Markov Chain Monte Carlo&lt;/a&gt;, in Monday’s algorithms group meeting, just getting around to posting code.  The MrBayes paper is a good reference for this (Altekar &lt;em&gt;et. al.&lt;/em&gt; 2004).  Our&lt;a href=&quot;https://gist.github.com/956311&quot;&gt;practice example&lt;/a&gt; needed some debugging. I re-wrote a general purpose mcmcmc function in R to illustrate the algorithm, below.  Recall that it modifies our original MCMC in two ways.  The normal proposal step gets weighted by temperature, allowing heated chains to step downhill more often.  We draw a uniform (0,1) random number and accept the move R is larger than it, where:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?R = \min\left[ 1, \left( \frac{f(X|\theta^{\prime})}{f(X|\theta)} \times \frac{f(\theta^{\prime})}{f(\theta)} \right)^{\beta_i} \times \frac{q(\theta)}{q(\theta^{\prime})} \right]&quot; alt=&quot;R = \min\left[ 1, \left( \frac{f(X|\theta^{\prime})}{f(X|\theta)} \times \frac{f(\theta^{\prime})}{f(\theta)} \right)^{\beta_i} \times \frac{q(\theta)}{q(\theta^{\prime})} \right]&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta_i = \frac{1}{1+\Delta T \times (i-1)}&quot; alt=&quot;\beta_i = \frac{1}{1+\Delta T \times (i-1)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;for priors $ f() &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, likelihood\inline&quot;/&gt;&lt;/span&gt; f(X|) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, proposed parameters\inline&quot;/&gt;&lt;/span&gt; ^{} &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and proposal density\inline&quot;/&gt;&lt;/span&gt; q() $&lt;/p&gt;
&lt;p&gt;In this mode chains evolve along independently.  We occasionally propose a swap between chains, where the Hastings ratio takes on the specific form:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?R = \min \left[1, \left( \frac{f(\theta_k|X)}{f(\theta_j|X)} \right)^{\beta_j} \left( \frac{f(\theta_j|X)}{f(\theta_k|X)}\right)^{\beta_k} \right]&quot; alt=&quot;R = \min \left[1, \left( \frac{f(\theta_k|X)}{f(\theta_j|X)} \right)^{\beta_j} \left( \frac{f(\theta_j|X)}{f(\theta_k|X)}\right)^{\beta_k} \right]&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that for the posterior $ f(| X) $ we use $ f(X|) f() &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, just as in the single chain case, which is true modulo the normalization\inline&quot;/&gt;&lt;/span&gt; f(X) $.&lt;/p&gt;
&lt;p&gt;[gist id=981399]&lt;/p&gt;
&lt;p&gt;Note this code doesn’t run anything, we have to specify temperature ratios $ _i $, the likelihood function, and the prior, and then it can give us back chains.  Here’s a trivial example based on our Gaussian process:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
## Observed Data
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rnorm&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)

loglik &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
  ## The likelihood function
  &lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(X, &lt;span class=&quot;dt&quot;&gt;mean=&lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;sd=&lt;/span&gt;pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;) )
}
prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;/pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#  dnorm(pars[1], 0, 1000, log=TRUE)+&lt;/span&gt;
 &lt;span class=&quot;co&quot;&gt;# dnorm(pars[2], 0, 1000, log=TRUE)&lt;/span&gt;
}

&lt;span class=&quot;co&quot;&gt;# chains can have different or matching starting conditions, will mix anyway&lt;/span&gt;
pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))

chains &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;mcmcmc_fn&lt;/span&gt;(pars, loglik, prior, &lt;span class=&quot;dt&quot;&gt;MaxTime=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1e3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;indep=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;stepsizes=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;02&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Works rather well: &lt;img src=&quot;http://farm4.staticflickr.com/3642/5752281143_ea460ec9a2_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;With different prior:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
prior &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(pars){
  &lt;span class=&quot;kw&quot;&gt;dnorm&lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;) +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;dexp&lt;/span&gt;(pars[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;log=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The run converges on an erroneous sigma value:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5023/5752308597_18ec63132b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Longer runs don’t seem to fix this, but increasing the number of sample points in the data (from 20 to say, to 200) does.&lt;/p&gt;
&lt;p&gt;Plotting code:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;layout&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;matrix&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;nrow=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)))
&lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;cex.lab=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;cex.axis=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(chains[[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;l&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;rgb&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,.&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;),
 &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mixing chains&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;ylab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;log prob density&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;lines&lt;/span&gt;(chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;legend&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;bottomright&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;normal&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;heated&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;cex=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;1.5&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;density&lt;/span&gt;((chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])), &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;mu&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#curve(dnorm(x, 0, 1000), add=TRUE, lty=2)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;density&lt;/span&gt;((chains[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][-burnin, &lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;])), &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;#curve(dexp(x, 10), add=TRUE, lty=2)&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;col=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lty=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Altekar G, Dwarkadas S, Huelsenbeck J and Ronquist F (2004). “Parallel Metropolis Coupled Markov Chain Monte Carlo For Bayesian Phylogenetic Inference.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;20&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btg427&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btg427&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/05/19/thursday-5.html"/>
   <updated>2011-05-19T03:52:22-07:00</updated>
   <id>h/2011/05/19/thursday-5</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Finish and post core notes from yesterday.&lt;/li&gt;
&lt;li&gt;Debugging locale problem in phylo packages = success.  Emmanuel has already patched drop.fossils() in the ape package, will see if Gieger and TreeSim try to handle locale issue directly too.  Problem in comparisons:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Sys.setlocale&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;locale =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# default locale using UTF8&lt;/span&gt;
 &lt;span class=&quot;co&quot;&gt;# message deleted&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &amp;quot;-1&amp;quot;&lt;/span&gt; &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
 [&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;Sys.setlocale&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;locale =&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;quot;C&amp;quot;&lt;/span&gt;)
 &lt;span class=&quot;co&quot;&gt;# message deleted&lt;/span&gt;
 &amp;gt;&lt;span class=&quot;st&quot;&gt; &amp;quot;-1&amp;quot;&lt;/span&gt; &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
 [&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Posted MCMCMC notes from algorithms.&lt;/li&gt;
&lt;li&gt;Hastings Meeting 10-10:30&lt;/li&gt;
&lt;li&gt;Wainwright lab meeting 2-3p: Chris discusses Cameroon Cichlids and evidence for sympatric speciation. Also can measure age/stress/fitness by rings on fish scales. wow.&lt;/li&gt;
&lt;li&gt;Hastings lab meeting 3-4p: Matt discusses transition to policy from science. Sandy Liebhold joins us for the chat.&lt;/li&gt;
&lt;li&gt;Catch up on reading. Get better at citing reading in notebook for reference.&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id=&quot;todays-reading&quot;&gt;Today’s reading&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;Heather’s column in_ Nature_ (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2011), and more details and longer full-text on &lt;a href=&quot;http://researchremix.wordpress.com/2011/05/19/nature-letter/&quot;&gt;her blog&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;MCMCMC reference, Geyer, C.J. &lt;a href=&quot;http://www.jstor.org/stable/2246094&quot;&gt;Practical markov chain monte carlo&lt;/a&gt;. Statistical Science 7, 473–483(1992).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Piwowar H, Vision T and Whitlock M (2011). “Data Archiving is A Good Investment.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;473&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/473285a&quot;&gt;http://dx.doi.org/10.1038/473285a&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Birth-death Tutorial for PBG Core</title>
   <link href="/2011/05/18/birth-death-tutorial-for-pbg-core.html"/>
   <updated>2011-05-18T16:55:05-07:00</updated>
   <id>h/2011/05/18/birth-death-tutorial-for-pbg-core</id>
   <content type="html">&lt;p&gt;Ran a introductory tutorial on birth-death models for phylogenetic trees in R today for Peter Wainwright’s section of the Pop Bio Core sequence. Notes below, in a manner that may suggest I was better organized than reality might attest. Luckily the firsties are brilliant…&lt;/p&gt;
&lt;h2 id=&quot;getting-started&quot;&gt;Getting Started&lt;/h2&gt;
&lt;p&gt;Code is shown section by section with results in the following examples.  If you prefer, you can download my full &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/51ba0cbd07171de5c257b46c677b5c6fa8f61faa/ucd_core/branching_models.R&quot;&gt;code file here&lt;/a&gt;, but you will have to comment out my flickr plotting utilities before it will run.  Here we go:&lt;/p&gt;
&lt;p&gt;Install and load the packages “TreeSim” and “laser”.  Will require a recent version of R for TreeSim to install correctly. We also write two simple custom functions to make our life easier, one to get the age of a tree, one to solve r= b-d and a= b/d for b and d.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;install.packages&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeSim&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;laser&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(TreeSim); &lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)

## tree age
treeage &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
  if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(tree, &lt;span class=&quot;st&quot;&gt;&amp;quot;phylo&amp;quot;&lt;/span&gt;)){
    tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;ape2ouch&lt;/span&gt;(tree, &lt;span class=&quot;dt&quot;&gt;scale=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
    time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;max&lt;/span&gt;(tree@times)
  } else {
    time &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;
  }
  time
}

&lt;span class=&quot;co&quot;&gt;# r is diversification rate, b-d, and a is d/b&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# we&amp;#39;d rather have in terms of b and d&lt;/span&gt;
swp &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(r, a){
  b =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;r/(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;-a)
  d =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;r*a/(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;-a)
  &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(b,d)
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;simulating-birth-death-trees&quot;&gt;Simulating Birth-Death Trees&lt;/h2&gt;
&lt;p&gt;We’ll start with the TreeSim function sim.bd.age to create birth-death trees.  These examples illustrate the diversity of possible outcomes that result from the &lt;em&gt;identical model&lt;/em&gt;.  They also highlight subtleties in defining a model – such as, “was that the age from the origin, or the mrca?”  Our first tree: ((yeah, so this tutorial isn’t that introductory – check the help file on sim.bd.age if you’ve forgotten what the arguments to the function are. We assume knowledge of R b.c. students have used it all year now.))&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# so we all get the same result&lt;/span&gt;
tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;F)
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tree[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]])  )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We get age=1.907982. Less than the age 2 we asked for, as Tomomi had pointed out. This means the founder species took about 0.1 time steps before the first speciation event. We expect the waiting times to be exponentially distributed. This is easy to confirm:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&lt;span class=&quot;kw&quot;&gt;set.seed&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;) &lt;span class=&quot;co&quot;&gt;# so we all get the same result&lt;/span&gt;
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;num=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;100&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;F)
  times &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, function(tr){
    &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt; -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tr)
  })
  times &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;times[times!=&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] &lt;span class=&quot;co&quot;&gt;# trees that never branch don&amp;#39;t contribute&lt;/span&gt;
## Plot Results
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(times, &lt;span class=&quot;dt&quot;&gt;freq=&lt;/span&gt;F)
&lt;span class=&quot;kw&quot;&gt;curve&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;dexp&lt;/span&gt;(x, &lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;), &lt;span class=&quot;dt&quot;&gt;add=&lt;/span&gt;T) &lt;span class=&quot;co&quot;&gt;# theory&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2577/5736177996_9c94cb2561_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;As we mentioned, setting the age equal to the most recent common ancestor (mrca) means the tree does have the age specified. We wondered if this held true when the tree had extinction, since it is possible the first branching event could end up with no descendants on one branch. In that case it isn’t the mrca of extant taxa, and it gets pruned, such that the total length of the tree is still the age given. ((So if we show the complete tree (complete=TRUE) with extinct taxa, is such a taxon floating or lost?)) This example tests this a bunch of times:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  ## This tree is exactly the age we asked for:
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;F, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;T)
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(  &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;( tree[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]] )  )

  ## This tree isn&amp;#39;t always the age we asked for, or is it:
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;fl&quot;&gt;4.9&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;T, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;T)
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(  &lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, function(tr) &lt;span class=&quot;kw&quot;&gt;treeage&lt;/span&gt;(tr))   )&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Okay, onto visualizing differences in simulation outcomes. The most obvious is the variety in tip counts, as seen in this 6 taxon example:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;mfrow=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;))
  for(i in &lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(trees[[i]])
 &lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5185/5735651931_350bb0bc1b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Do trees that branch early tend to be the ones with more species?&lt;/p&gt;
&lt;p&gt;Notice these trees tend to have many more species than if we were to have mrca=FALSE, because they are older. Conditioning on MRCA age also means that we don’t see empty trees, like we do when we specify age since origin:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2758/5734461229_bd856c083d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Recall we expect: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?e^{\lambda t} \approx 54&quot; alt=&quot;e^{\lambda t} \approx 54&quot; /&gt;&lt;/div&gt;&lt;/span&gt; tips on average., and in the case of MRCA=true:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;
   tips &amp;lt;- sapply(trees,
                  function(x){
                    if(!is(x, &amp;quot;phylo&amp;quot;))
                      ans &amp;lt;- 0  ## If the object isn&amp;#39;t a tree, it&amp;#39;s `cause all extinct
                   else
                     ans &amp;lt;- x$Nnode+1 ## num tip taxa = 1+internal nodes                    ans}) &amp;gt; ## R OUTPUT
&amp;gt; tips
[1] 49 53 70 40 71 64
&amp;gt; exp(4) ## expectation
[1] 54.59815
&amp;gt; mean(tips)  ## observed over 6 replicates
[1] 57.83333
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Running more replicates we can see the long tail of the Poisson. &lt;img src=&quot;http://farm3.staticflickr.com/2513/5735206162_73753568d8_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;conditioning-on-number-of-taxa&quot;&gt;Conditioning on number of taxa&lt;/h3&gt;
&lt;p&gt;Often we are not interested in all possible trees (X), but only the subset that have the observed number (N) of taxa.  This results from conditioning on N:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(X) = P(X|N)P(N)&quot; alt=&quot;P(X) = P(X|N)P(N)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Generating our trees with this command instead accomplishes that.  For a great discussion of these issues see the TreeSim paper (Stadler, 2011)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
trees&amp;lt;-  &lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;20&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;6&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2794/5736723143_fe543c61b1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2&gt;
Fitting Models
&lt;/h2&gt;


&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
### Let&amp;#39;s take a closer look at estimating parameters from trees now.   ###
## Start with a simple tree
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
&lt;span class=&quot;co&quot;&gt;# fit a birth death model&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# gives confidence levels that assume normality&lt;/span&gt;
  &lt;span class=&quot;kw&quot;&gt;birthdeath&lt;/span&gt;(tree)
## laser&amp;#39;s way of estimating a model
  model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
## estimate a yule model
  yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
&lt;span class=&quot;co&quot;&gt;# which one is better&lt;/span&gt;
  model$aic -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;yule$aic&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;bootstrapping-models&quot;&gt;Bootstrapping Models&lt;/h3&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# simulate a tree, fit a birth-death model, pull out the b and d parameters&lt;/span&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.age&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;age=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;mrca=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                else
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
              })
  ## err, fix formatting if sapply failed to give me a matrix!
  if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(bd_dist, &lt;span class=&quot;st&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;))
    bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;:&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(bd_dist),
      function(i) &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(bd_dist[[i]][&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],bd_dist[[i]][&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;]))
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(bd_dist)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3218/5736235990_81f961bf72_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This didn’t condition on reality of N species being observed. We can repeat with sim.bd.taxa&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                else
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;])
              })&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm4.staticflickr.com/3276/5735704383_02c969ccb8_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;How about David’s question on bootstrapping the likelihood?  How about when the birth-death model is inappropriate to the data?  Here we will tranform the tree to create a topology very different than any we’ve seen, where branching starts off rapidly and then seems to stop:&lt;/p&gt;
&lt;p&gt;Birth-death trees are quite twiggy, this seems like a rather unlikely tree for a birth-death process. &lt;img src=&quot;http://farm6.staticflickr.com/5182/5736268982_d689ba66cb_o.png&quot; /&gt;&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;0.9&lt;/span&gt;,
                      &lt;span class=&quot;dt&quot;&gt;complete=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]

  tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lambdaTree&lt;/span&gt;(tree, .&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;) ## TRANSFORM THE TREE
  fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree))
  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
&lt;span class=&quot;co&quot;&gt;# simulate lots of trees&lt;/span&gt;
  boots &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sim.bd.taxa&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;n=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;50&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;numbsim=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;lambda=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;mu=&lt;/span&gt;para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;],
                      &lt;span class=&quot;dt&quot;&gt;comp=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;FALSE&lt;/span&gt;)[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(boots,
              function(x){
                fit &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(x)))
  ## Some fits fail because bd sucks too.  tell R to tough it out anyhow
                if(!&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(fit, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)){
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;swp&lt;/span&gt;(fit$r, fit$a)
                  lh &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;fit$LH
                }
                else {
                  para &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                  lh &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt;
                }
                &lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(para[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], para[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], lh)
              })
  bd_dist &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;t&lt;/span&gt;(bd_dist)

  ## give us a wee peek at some summary data
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;summary&lt;/span&gt;(bd_dist))
  &lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sd&lt;/span&gt;(bd_dist, &lt;span class=&quot;dt&quot;&gt;na.rm=&lt;/span&gt;T))

  &lt;span class=&quot;kw&quot;&gt;png&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;bddist.png&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;width=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;480&lt;/span&gt;*&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;par&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;mfrow=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;))
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$r, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$a, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(bd_dist[,&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;], &lt;span class=&quot;dt&quot;&gt;breaks=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;lik&amp;quot;&lt;/span&gt;)
    &lt;span class=&quot;kw&quot;&gt;abline&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;v=&lt;/span&gt;fit$LH, &lt;span class=&quot;dt&quot;&gt;lwd=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;)
  &lt;span class=&quot;kw&quot;&gt;dev.off&lt;/span&gt;()&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2424/5735722223_e54c61c352_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;However, the bootstrap of likelihood (rightmost histogram) does not register as such a bad fit.  Testing model adequacy requires a richer approach.  The bootstrapping estimates our uncertainty under the assumption that our model is reasonable.&lt;/p&gt;
&lt;h2 id=&quot;a-footnote-on-strange-behavior-in-treesim&quot;&gt;A footnote on strange behavior in TreeSim&lt;/h2&gt;
&lt;p&gt;Some computers (my laptop) geiger’s prune.extinct.taxa or Tanja’s option to return a only extant taxa (complete=FALSE) end up dropping all tips always.  This bug (after some effort and help from mailing lists yesterday) is caused by having: Sys.setlocale(locale=“en_US.UTF-8”)  and can be fixed by using Sys.setlocale(locale=“C”)  &lt;a href=&quot;http://permalink.gmane.org/gmane.comp.lang.r.phylo/1358&quot;&gt;see mailing list threads&lt;/a&gt;…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Parrotfish results, MCMCMC testing, APIs</title>
   <link href="/2011/05/17/tuesday-3.html"/>
   <updated>2011-05-17T15:55:59-07:00</updated>
   <id>h/2011/05/17/tuesday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finished review for TE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Shared post on TreeBASE API&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviewed Scott’s updates to dryad R API, adjusted formatting.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListIdentifiers&quot;&gt;documentation for the OAI-MPH queries&lt;/a&gt;, don’t seem to be as rich as Phylo-ws queries.  This is why treeBASE metadata searches tend to download the full metadata set into R and query that.  Looks like we’ll need to take a similar approach to Dryad, as it doesn’t seem like there’s a way to query the API by author name at all?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;run of Parrotfish example with intensive simulated annealing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5731178948_cc29283d31_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Working on MCMCMC implementation and testing, see (Altekar &lt;em&gt;et. al.&lt;/em&gt; 2004)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Today results summary:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-17 00:00:00” max_upload_date=“2011-05-18 06:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Altekar G, Dwarkadas S, Huelsenbeck J and Ronquist F (2004). “Parallel Metropolis Coupled Markov Chain Monte Carlo For Bayesian Phylogenetic Inference.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;20&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btg427&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btg427&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>TreeBASE in R: a first tutorial</title>
   <link href="/2011/05/16/treebase-in-r-a-first-tutorial.html"/>
   <updated>2011-05-16T12:46:54-07:00</updated>
   <id>h/2011/05/16/treebase-in-r-a-first-tutorial</id>
   <content type="html">&lt;p&gt;My TreeBASE R package is essentially functional now.  Here’s a quick tutorial on the kinds of things it can do.  Grab the &lt;a href=&quot;https://github.com/cboettig/treeBASE/archives/master&quot;&gt;treebase package here&lt;/a&gt;, install and load the library into R.&lt;/p&gt;
&lt;p&gt;TreeBASE provides two APIs to query the database, one which searches by the metadata associated with different publications (called &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;OAI-PMH&lt;/a&gt;), and another which queries the phylogenies directly (called &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;Phylo-ws&lt;/a&gt;).  They have somewhat redundant functions, but for our purposes the second one returns the actual data, while the first returns metadata.  A few examples will best illustrate how this all works.  We start with some queries of the metadata directly without downloading any trees.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Trees can be downloaded with search_treebase(), using a variety of search conditions provided by Phylo-ws API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metadata can be searched by date using search_metadata.  Just Download all metadata for finer queries.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metadata for a study can be grabbed using the study id.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;A few examples will better illustrate how this all works.&lt;/p&gt;
&lt;h2 id=&quot;metadata-queries&quot;&gt;Metadata queries&lt;/h2&gt;
&lt;p&gt;How has TreeBASE grown since it’s inception?  Let’s grab the metadata for all entries and histogram by publication year:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;)
dates &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x$date))
&lt;span class=&quot;kw&quot;&gt;hist&lt;/span&gt;(dates, &lt;span class=&quot;dt&quot;&gt;main=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeBase growth&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xlab=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;Year&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm3.staticflickr.com/2676/5711820192_95ab0fc731_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;What journals have submitted the most studies to treebase?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

journals &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) x$publisher)
J &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;tail&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sort&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;as.factor&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;unlist&lt;/span&gt;(journals)))),&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
b &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;barplot&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(J))
&lt;span class=&quot;kw&quot;&gt;text&lt;/span&gt;(b, &lt;span class=&quot;kw&quot;&gt;names&lt;/span&gt;(J), &lt;span class=&quot;dt&quot;&gt;srt=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;70&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;pos=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;xpd=&lt;/span&gt;T)
&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5125/5728023288_1737290073_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;How many have been submitted from &lt;em&gt;Nature&lt;/em&gt;? &lt;em&gt;Science&lt;/em&gt;?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

nature &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Nature&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
science &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, function(x) &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;grep&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;^Science$&amp;quot;&lt;/span&gt;, x$publisher))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)

&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(nature)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;11&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(science)

&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which studies were those?  Can I have those trees please?&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;( all[nature] )

nature_trees &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Other details associated with the study are certainly also available.  Since we downloaded all metadata we have this stored already.  Any tree downloaded stores the TreeBASE study id in &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S.id, ((and the unique tree id in\inline&quot;/&gt;&lt;/span&gt;Tr.id)) which we can use to look up the metadata again.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;plot&lt;/span&gt;(nature_trees[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]) &lt;span class=&quot;co&quot;&gt;#plot first tree in the first study in the set&lt;/span&gt;

all[nature][&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;co&quot;&gt;# Pull metadata from complete list&lt;/span&gt;

&lt;span class=&quot;co&quot;&gt;# Or look up again using the study id:&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(nature_trees[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]][[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)
&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;importing-phylogenies&quot;&gt;Importing Phylogenies&lt;/h2&gt;
&lt;p&gt;We can query for phylogenies directly on an array of search criteria, such as study authors, taxa included, number of taxa, number of characters in the trait matrix, etc, as illustrated by the following examples.  A few queries that aren’t built into the API (i.e. does the tree have branch lengths) are accomplished by filtering after downloading the tree, which is slower.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

## We&amp;#39;ll often use max_trees in the example so that they run quickly,
&lt;span class=&quot;co&quot;&gt;# notice the quotes for species.&lt;/span&gt;
dolphins &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Delphinus&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;)
## can do exact matches
humans &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;Homo sapiens&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;taxon&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;exact_match=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# all trees with 5 taxa&lt;/span&gt;
five &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;ntax&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;max_trees =&lt;/span&gt; &lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# These are different, a tree id isn&amp;#39;t a Study id.  we report both&lt;/span&gt;
studies &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;)
tree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;id.tree&amp;quot;&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;TreeID&amp;quot;&lt;/span&gt; =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$Tr.id, &lt;span class=&quot;st&quot;&gt;&amp;quot;StudyID&amp;quot;&lt;/span&gt; =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tree$S.id)
&lt;span class=&quot;co&quot;&gt;# Only results wiht branch lengths&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# Has to grab all the trees first, then toss out ones without branch_lengths&lt;/span&gt;
Near &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Near&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(Near)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These queries can be combined with metadata searches&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

#### Metadata examples ###
&lt;span class=&quot;co&quot;&gt;# Use the OAI-PMH api to check out the metadata from the study in which tree is published:&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(Near[[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]]$S.id)
&lt;span class=&quot;co&quot;&gt;# or manualy give a sudy id&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2377&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;combining-metadata-and-phylogeny-queries&quot;&gt;Combining metadata and phylogeny queries&lt;/h2&gt;
&lt;p&gt;Metadata queries can optionally return only those studies added to TreeBASE before or after a given date:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;co&quot;&gt;# Use that to get all trees &amp;quot;published&amp;quot; after 2010&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# publication date is only a year&lt;/span&gt;
post2010 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(dates, function(x) &lt;span class=&quot;dv&quot;&gt;2010&lt;/span&gt; &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;as.numeric&lt;/span&gt;(x))
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;( all[post2010] )
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))
&lt;span class=&quot;co&quot;&gt;# Grab the trees entered since 2011: (some studies will have multiple trees)&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;#can compare dates with as.Date(&amp;quot;2001-01-01&amp;quot;, &amp;quot;%y-%m-%d) &amp;lt; as.Date ...&lt;/span&gt;
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_metadata&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;2011-05-05&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;from&amp;quot;&lt;/span&gt;)
s &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;get_study_id&lt;/span&gt;(m)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;lapply&lt;/span&gt;(s, function(x) &lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;id.study&amp;quot;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;a-simple-meta-analysis&quot;&gt;A simple meta-analysis&lt;/h2&gt;
&lt;p&gt;Of course, this capacity is most powerful not to merely get some summary statistics of the database, but repeat analyses of given studies or perform meta-analyses.  Most comparative phylogenetics methods require ultrametric trees.&lt;/p&gt;
&lt;p&gt;We can assemble a simple pipeline to perform the meta-analysis across all existing studies of whether phylogenies tend to fit a pure-birth or a birth-death model more frequently:&lt;/p&gt;
&lt;p&gt;As a proof-of-principle, we can create a pipeline that will estimate chronograms for all trees containing branchlengths in treebase.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

timetree &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
check.na &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sum&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;is.na&lt;/span&gt;(tree$edge.length))&amp;gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(check.na, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;) |&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;check.na)
&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;
else
&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;( &lt;span class=&quot;kw&quot;&gt;chronoMPL&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;multi2di&lt;/span&gt;(tree)) )
}
drop_errors &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(trees){
## apply to a list of trees created with timetree to drop errors
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(trees, is.null)]
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;tt[!&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, function(x) &lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(x, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;))]
&lt;span class=&quot;kw&quot;&gt;print&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;dropped&amp;quot;&lt;/span&gt;, &lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(trees)-&lt;span class=&quot;kw&quot;&gt;length&lt;/span&gt;(tt), &lt;span class=&quot;st&quot;&gt;&amp;quot;trees&amp;quot;&lt;/span&gt;))
tt

}

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(laser)
pick_branching_model &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(tree){
 m1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;pureBirth&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
 m2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;bd&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;branching.times&lt;/span&gt;(tree)))
 &lt;span class=&quot;kw&quot;&gt;as.logical&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(m2$aic &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;m1$aic))
}

&lt;span class=&quot;co&quot;&gt;# Return all treebase trees that have branch lengths&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;# This has to download every tree in treebase, so not superfast...&lt;/span&gt;
all &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;search_treebase&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;Consensus&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;type.tree&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;branch_lengths=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
tt &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;drop_errors&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(all, timetree))
is_yule &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sapply&lt;/span&gt;(tt, pick_branching_model)
&lt;span class=&quot;kw&quot;&gt;table&lt;/span&gt;(is_yule)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;replicating-individual-studies&quot;&gt;Replicating individual studies&lt;/h2&gt;
&lt;p&gt;Replicating individual studies is a bit more challenging, mostly do to the quality of available data.  For instance, here is a nice recent study (Rowe &lt;em&gt;et. al.&lt;/em&gt; 2011) that has nicely time calibrated chronograms (from BEAST, Figure 4) and species trees (using BEST, Figure 3), but it seems only the&lt;a href=&quot;http://purl.org/phylo/treebase/dev/phylows/study/find?query=tb.identifier.study=10869&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;Mr. Bayes tree in Figure 2 is given in TreeBASE.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Further, replicating the study would require other data than the phylogenetic tree.  In the future we might hope that this data would appear on Dryad.  Dryad’s web-based search frustratingly does not seem to allow a simple query by doi or treebase id, and a query by title returns a long list of &lt;a href=&quot;http://datadryad.org/discover?&amp;amp;query=Recent+and+Rapid+Speciation+with+Limited+Morphological+Disparity+in+the+Genus+Rattus.&amp;amp;fq=dc.title%3ARecent+and+Rapid+Speciation+with+Limited+Morphological+Disparity+in+the+Genus+Rattus.&amp;amp;filtertype=*&amp;amp;filter=&amp;amp;rpp=10&amp;amp;sort_by=score&amp;amp;order=DESC&amp;amp;location=l2&quot;&gt;things that aren’t this paper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The Mendeley API (through my &lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;RMendeley&lt;/a&gt; package) does a bit better at pulling out some metadata, but not much.  Querying by the doi we can’t find the paper, but the pmid works:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;require&lt;/span&gt;(RMendeley)

&lt;span class=&quot;kw&quot;&gt;details&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;21239388&amp;quot;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;quot;pmid&amp;quot;&lt;/span&gt;)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://datadryad.org/handle/10255/dryad.1705&quot;&gt;Some Dryad papers&lt;/a&gt;have phylogenies, and the data deposition includes the BEAST xml files necessary to reproduce the phylogenies, but not, it seems, the phylogenies themselves.  It would be great to have some good examples of papers with data up on both TreeBASE and Dryad. Further, a pipeline that could regenerate the trees from the alignments might be interesting.&lt;/p&gt;
&lt;p&gt;RaXML for inferring branch lengths: A quick solution for trees that have only topologies would be to infer branch lengths conditional on the topology from the character matrix.  TreeBASE does not include this with the nexus file containing the tree, and would require a separate query to pull the character matrix.  This is handled in the read.nexus.data command.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rowe K, Aplin K, Baverstock P and Moritz C (2011). “Recent And Rapid Speciation With Limited Morphological Disparity in The Genus Rattus.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq092&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq092&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>MathJax the smart way: Child Themes</title>
   <link href="/2011/05/16/mathjax-the-smart-way-child-themes.html"/>
   <updated>2011-05-16T05:54:05-07:00</updated>
   <id>h/2011/05/16/mathjax-the-smart-way-child-themes</id>
   <content type="html">&lt;p&gt;Adding mathjax by modifying the header.php file in my wordpress theme, &lt;a href=&quot;http://www.mathjax.org/docs/1.1/platforms/wordpress.html&quot;&gt;as recommended by MathJax website&lt;/a&gt;, isn’t stable to upgrades of the theme, which simply replace the header.php file with a fresh version.  The “correct” way to do this is using &lt;a href=&quot;http://codex.wordpress.org/Child_Themes&quot;&gt;child themes,&lt;/a&gt; which are pretty simple, even though this got me writing my first php functions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Create a directory in wp-content/themes with the desired name of the new theme.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a file style.css as follows:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode css&quot;&gt;&lt;code class=&quot;sourceCode css&quot;&gt;

&lt;span class=&quot;co&quot;&gt;/*&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Theme Name: carlboettiger&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Theme URI: http://carlboettiger.info&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Description: A customization (child theme) of The Erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Version: 2.7.7-1&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Author URI: http://carlboettiger.info&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Template: the-erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;Tags: white, dark, one-column, fixed-width, theme-options, editor-style, translation-ready, custom-menu&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;License: GPL v2&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;*/&lt;/span&gt;
&lt;span class=&quot;dv&quot;&gt;@import&lt;/span&gt; url(&lt;span class=&quot;st&quot;&gt;&amp;quot;../the-erudite/style.css&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The stuff in the C-style comments is functional.  The only required lines are theme name and template.  template tells the style file to copy everything from the template theme (which will be updated whenever the template is updated).  The @import command imports the style file of the template theme.  Any changes to the style can be specified in CSS below. We won’t be changing anything on the style sheet.&lt;/p&gt;
&lt;p&gt;What we want to do is change the header.  We do this the clever way using action hooks. I used &lt;a href=&quot;http://themeshaper.com/2009/05/25/action-hooks-wordpress-child-themes/&quot;&gt;this great reference&lt;/a&gt; to get a handle on them, and the &lt;a href=&quot;http://codex.wordpress.org/Child_Themes&quot;&gt;Wordpress child themes guide&lt;/a&gt; to see how functions.php works.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Create a second file in the theme called functions.php:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;sourceCode php&quot;&gt;&lt;code class=&quot;sourceCode php&quot;&gt;

&lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;/*&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;This file is part of carlboettiger child theme to The Erudite&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;This uses action hooks to add the mathjax code extending the theme&lt;/span&gt;
&lt;span class=&quot;co&quot;&gt;*/&lt;/span&gt;

&lt;span class=&quot;kw&quot;&gt;function&lt;/span&gt; mathjax_cdn&lt;span class=&quot;ot&quot;&gt;()&lt;/span&gt; {
 &lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
 &amp;lt;script type=&amp;quot;text/javascript&amp;quot;
 src=&amp;quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&amp;quot;&amp;gt;
 &amp;lt;/script&amp;gt;
 &lt;span class=&quot;kw&quot;&gt;&amp;lt;?php&lt;/span&gt;
}
add_action&lt;span class=&quot;ot&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;#39;wp_head&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;st&quot;&gt;&amp;#39;mathjax_cdn&amp;#39;&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This creates a function that inserts the HTML code for MathJax into the header. Note that we create a php function, break out of php to use the HTML code, and then return to php to close the function.  The add_action uses action hooks to insert our function into the header, specified where wp_head appears (check it out in header.php).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Activate the theme carlboettiger from the dashboard and we’re good to go.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: Fun with databases continued</title>
   <link href="/2011/05/12/thursday-fun-with-databases-continued.html"/>
   <updated>2011-05-12T13:32:26-07:00</updated>
   <id>h/2011/05/12/thursday-fun-with-databases-continued</id>
   <content type="html">&lt;h2 id=&quot;dryad&quot;&gt;Dryad&lt;/h2&gt;
&lt;p&gt;Hilmar pointed out the documentation for machine access to Dryad files&lt;a href=&quot;https://www.nescent.org/wg_dryad/Data_Access&quot;&gt;on the wiki&lt;/a&gt;, much nicer than guessing from the XML. (Good thing too, since it’s a bit more complicated than I thought). Wiki describes four steps:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Get the dryad short-identifier for the datafile&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;look up the METS reference using that identifier&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;parse the XML returned by METS to find the bitstream url&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Query the bitstream url and presto!  Data on demand.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In R:&lt;/p&gt;
&lt;p&gt;[gist id=969706]&lt;/p&gt;
&lt;p&gt;Will have to return to this for a more complete implementation of the API once TreeBASE includes the Dryad ids.  TreeBASE is also implementing the PRISM standard for metadata in phylo-ws, though apparently Dryad is moving away from PRISM to BIBO.&lt;/p&gt;
&lt;h2 id=&quot;treebase&quot;&gt;Treebase&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Added man pages for &lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;TreeBASE&lt;/a&gt;, put up new &lt;a href=&quot;https://github.com/cboettig/treeBASE/archives/master&quot;&gt;download&lt;/a&gt; version 0.0-2.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added more error handling to TreeBASE calls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working on examples to ultra-metricize all trees that have branch lengths, currently with chronoMPL.  Some difficulties – trees that report to have branch lengths but are mostly NAs, and one tree that errors in multi2di even within try().&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rflickr&quot;&gt;Rflickr&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rflickr is working, had wrong call to permission.  Have to add into socialR now.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rmendeley&quot;&gt;RMendeley&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finished up public API side for RMendeley, troubleshooting now – Mendeley’s API seems to be ignoring some of my options.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig&quot;&gt;github activity for record&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: Treebase</title>
   <link href="/2011/05/11/wednesday-treebase.html"/>
   <updated>2011-05-11T08:12:14-07:00</updated>
   <id>h/2011/05/11/wednesday-treebase</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;TREEBASE PACKAGE&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Modified treebase package to return the treebase id in the phylo class as phy$id, so that I can use the id to query the appropriate meta data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Modified the package with the option to return only max number of trees,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;try(xpathApply(search_returns, paste(&amp;quot;//rdf:li[position()&amp;lt; &amp;quot;, max_trees, &amp;quot;]&amp;quot;, sep=&amp;quot;&amp;quot;),
         function(x){&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Modified to check for branch lengths and remove trees without branch lengths from the returned set. Still has to download all trees, so in this case max_trees is the number attempted, not the number returned.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;xpath-and-metadata&quot;&gt;XPATH AND METADATA&lt;/h4&gt;
&lt;p&gt;Trying to learn XPath from the &lt;a href=&quot;http://www.w3schools.com/xpath/xpath_syntax.asp&quot;&gt;W3 tutorial&lt;/a&gt; in order to parse the OAI-PMH output (like this, for a single &lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&quot;&gt;treebase entry&lt;/a&gt;). Not much success.  Oooh, Duncan introduced me to getNodeSet() and xmlToList(), now I can query the metadata for the tree(!)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;     tree &amp;lt;- search_treebase(&amp;quot;1234&amp;quot;, &amp;quot;id.tree&amp;quot;)
     metadata(tree$id)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Since the metadata  API is quite small, (see &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;treebase wiki on OAI-PMH&lt;/a&gt;) just about done with treebase implementation, short of testing, documentation and use cases.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grabbing study by date could be useful (supports at least “until” and “after”.)  Can “ListRecord” or “GetIdentifier”.  The latter can be useful to get ids to feed into search_treebase(), allowing the user to query all studies after a certain date, for instance. (DONE – see examples.)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And now the treebase server for OAI-PMH seems to be down. Maybe a sign I should return to some real work.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Managing the to-do lists for treeBASE under &lt;a href=&quot;https://github.com/cboettig/treeBASE/issues&quot;&gt;github-issues&lt;/a&gt; (much more sensible than flipping through notebook pages).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;dryad&quot;&gt;DRYAD&lt;/h2&gt;
&lt;p&gt;Implemented the basic Dryad metadata query GetRecord given an ID.  (forms the api query and parses output).  Uses the same OAI function as the treebase query:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;dryad_metadata(&amp;quot;10255/dryad.12&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now I just need:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a way to get Dryad IDs from the TreeBASE query, (server-side issue)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;a way to grab the doi pointing to each data file (not the paper doi, or the study doi.  This is returned in $relation, along with other stuff such as the journal title, so will need a grep on doi at the moment).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A way to get from the webpage returned to get the actual url of the data (&lt;del&gt;also a server-side issue &lt;/del&gt;) Actually was already in the documentation on the wiki.   &lt;a href=&quot;http://www.carlboettiger.info/archives/1692&quot;&gt;DONE, see 2011-05-12&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;rflickr&quot;&gt;RFlickr&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Revisiting Rflickr now that Duncan has added write permissions.  install.packages(“Rflickr”, repos = “&lt;a href=&quot;http://www.omegahat.org/R&quot;&gt;http://www.omegahat.org/R&lt;/a&gt;”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Look up key and secret for my &lt;a href=&quot;http://www.flickr.com/services/apps/by/cboettig&quot;&gt;registered app&lt;/a&gt; (others must&lt;a href=&quot;http://www.flickr.com/services/apps/create/apply&quot;&gt;register an app&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Authenticate with write permissions – Go quickly after issuing this command into browser and approve access before the timeout. NOTE: PERMISSION IS SINGULAR - - won’t error if it is plural.   tok &amp;lt;- Rflickr::authenticate(api_key, secret, permission=“write”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;We can use the full &lt;a href=&quot;http://www.flickr.com/services/api/&quot;&gt;flickr api&lt;/a&gt; just as described, except that we need to start everything with secret, tok, and then as specified in the API (api_key, other options).  I.e. for &lt;a href=&quot;http://www.flickr.com/services/api/flickr.people.getInfo.html&quot;&gt;flickr.people.getInfo&lt;/a&gt; we would do: flickr.people.getInfo(secret, tok, api_key, “30385402@N05”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Instead we can use the clever interface to avoid having to give these keys each time.  (See documentation): we make a session once: &amp;gt; session = flickrSession(secret, tok, api_key)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and can now call with session$ and skip the “flickr” everywhere it occurs, and skip the keys, i.e.:  session$people.getInfo(“46456847@N08”)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note: we could have left flickr in too: session$flickr.people.getInfo(“46456847@N08”).  Partial matching in R is fantastic.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All this is great &lt;del&gt;but having trouble with write permissions still.&lt;/del&gt;.. farther than&lt;a href=&quot;http://www.carlboettiger.info/archives/1355&quot;&gt;last time&lt;/a&gt; though.  Working, should have used singular, as noted above.  ToDo: integrate into socialR package.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;wordpress-rwordpress&quot;&gt;Wordpress, RWordpress&lt;/h2&gt;
&lt;p&gt;There’s a &lt;a href=&quot;http://wordpress.org/extend/plugins/json-api/&quot;&gt;JSON API for Wordpress&lt;/a&gt;, that allows downloading post data, also optionally making posts, editing posts and tags, etc from the API.  An implementation of this in R would be straight forward using RCurl and RJSONIO.  Duncan has an RWordpress package (on Omegahat) that does this the official/direct way for blogs as well.&lt;/p&gt;
&lt;h2 id=&quot;chats-and-reading&quot;&gt;CHATS AND READING&lt;/h2&gt;
&lt;p&gt;Discussing with Brian Anackner some ways of looking for evidence of correlations in transition rates using contrasts. Taking an example from [cite source=‘pubmed’ rel=“cito:DisagreesWith”]16261729[/cite] the method proposed in [cite source=‘pubmed’ rel=“cito:UsesMethod”]7583692[/cite], which combines independent contrasts in discrete and continuous traits. Say categorical traits are E and N and continuous trait is affinity for precipitation level. This method pairs them so that contrasts are taken only between E and N, and in the the same order each time, E - N (or vice versa). It seems to me this simply suggests that large values means E’s tend to be found more often in higher-precipitation climates.&lt;/p&gt;
&lt;p&gt;Rebecca Best suggests I take a look at [cite rel=“cito:UsesMethod”]10.1890/10-1264.1[/cite].&lt;/p&gt;
&lt;h2 id=&quot;upgrading-to-a-vps&quot;&gt;UPGRADING TO A VPS&lt;/h2&gt;
&lt;p&gt;Time to upgrade this site to a &lt;a href=&quot;http://www.dreamhost.com/hosting-vps.html&quot;&gt;virtual private server on DreamHost&lt;/a&gt;.  We’ll see how it goes, hopefully things get faster now.&lt;/p&gt;
&lt;h2 id=&quot;mathjax&quot;&gt;mathjax&lt;/h2&gt;
&lt;p&gt;Meanwhile, Jason Moore suggested just adding the mathjax to the header file, as &lt;a href=&quot;http://www.mathjax.org/docs/1.1/platforms/index.html&quot;&gt;described on the MathJax homepage&lt;/a&gt;. Doesn’t need any libraries installed as it uses their CDN, and so is quite fast. Won’t convert my wp-latex but will work with inline equations, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y=mx+b\inline&quot;/&gt;&lt;/span&gt;, and displayed equations. Wonder if I’ll have to manually edit the header file if I upgrade my theme.&lt;/p&gt;
&lt;p&gt;[ = 1+ {1+ {1+ {1+ {1+} } } }]&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[\begin{aligned}
\nabla \times \vec{\mathbf{B}} -\, \frac1c\, \frac{\partial\vec{\mathbf{E}}}{\partial t} &amp;amp; = \frac{4\pi}{c}\vec{\mathbf{j}} \\   \nabla \cdot \vec{\mathbf{E}} &amp;amp; = 4 \pi \rho \\
\nabla \times \vec{\mathbf{E}}\, +\, \frac1c\, \frac{\partial\vec{\mathbf{B}}}{\partial t} &amp;amp; = \vec{\mathbf{0}} \\
\nabla \cdot \vec{\mathbf{B}} &amp;amp; = 0 \end{aligned}\]&lt;/span&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$ $    
$$ $$ or $$ $$  &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To give credit where it’s due: now, powered by: &lt;a href=&quot;http://www.mathjax.org/&quot;&gt;&lt;img src=&quot;http://www.mathjax.org/badge-square-3.png&quot; alt=&quot;Powered by MathJax&quot; /&gt;&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Interfaces for databases: TreeBASE, Dryad, DataONE</title>
   <link href="/2011/05/10/interfaces-for-databases-treebase-dryad-dataone.html"/>
   <updated>2011-05-10T02:55:57-07:00</updated>
   <id>h/2011/05/10/interfaces-for-databases-treebase-dryad-dataone</id>
   <content type="html">&lt;h2 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h2&gt;
&lt;h3 id=&quot;treebase&quot;&gt;Treebase&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1632&quot;&gt;(See Sunday’s post)&lt;/a&gt; - Phylo-ws implemented, but a few extra functions would strengthen the interface a bit: limit the number of trees returned, querying trees for branch lengths,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RaXML pipeline for returning rough branch lengths conditioned on the given topology, user documentation, more test examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implement OAI-PMH test cases for treebase: For instance, query all records after a given date (or all possible other queries), i.e.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And return treebase ids that can then be handed to search_treebase to pull the phylogenies. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pull treebase ID from phylo-ws query and return the corresponding OAI-PMH metadata information. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;interfacing-with-dryad&quot;&gt;Interfacing with Dryad:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Currently neither repository seems to always provide the key identifiers to point to the other one.  For instance, William Piel points out the same study &lt;a href=&quot;http://treebase.org/treebase-web/search/study/anyObjectAsRDF.rdf?namespacedGUID=TB2:S11266&quot;&gt;in TreeBASE&lt;/a&gt; and &lt;a href=&quot;http://datadryad.org/handle/10255/dryad.8661&quot;&gt;in Dryad,&lt;/a&gt; where neither links to the other.   Not sure why this study doesn’t get listed in &lt;a href=&quot;http://datadryad.org/discover?&amp;amp;query=&amp;amp;filtertype=dc.title&amp;amp;filter=Bridging+the+Rubicon&amp;amp;submit_search-filter-controls_add=Add&amp;amp;rpp=10&amp;amp;sort_by=score&amp;amp;order=DESC&amp;amp;location=l2&quot;&gt;Dryad’s search returns&lt;/a&gt;.  Discussing with members of both teams (William, Rutger, and Harry with TreeBASE, Kevin and Ryan with Dryad) about addressing this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://datadryad.org/handle/10255/dryad.4939?show=full&quot;&gt;Sometimes Dryad does provide the treebase url&lt;/a&gt;, but would have to identify from the url directly (after parsing all dc:idenfier terms), as it isn’t more clearly specified.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GOAL: From a TreeBASE query (for trees/phylo-ws or metadata/OAI-PMH): be able to return Dryad data and metadata associated with the study.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GOAL: From Dryad-query: return trees associated with a Dryad study by querying TreeBASE.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;dryad-implementation-goals&quot;&gt;Dryad Implementation GOALS:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Extend OAI-PMH interface to the &lt;a href=&quot;https://datadryad.org/wiki/API&quot;&gt;Dryad API&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Current &lt;a href=&quot;http://www.datadryad.org/oai/request?verb=GetRecord&amp;amp;identifier=oai:datadryad.org:10255/dryad.1619&amp;amp;metadataPrefix=oai_dc&quot;&gt;Dryad returns&lt;/a&gt;don’t include clear identifiers to &lt;a href=&quot;http://datadryad.org/handle/10255/dryad.1621&quot;&gt;the data files&lt;/a&gt; urls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Work with Dryad to figure out how to access data files as well as meta-data from the API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Extend to&lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/index.html&quot;&gt;DataONE API&lt;/a&gt;?  Presumably will also have OAI-PMH based access to metadata?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;background-notes-in-progress&quot;&gt;BACKGROUND (NOTES IN PROGRESS)&lt;/h2&gt;
&lt;p&gt;A few further development goals&lt;/p&gt;
&lt;p&gt;Define the databases, API, goal.&lt;/p&gt;
&lt;p&gt;Define teams, discussions, wikis, lists.&lt;/p&gt;
&lt;p&gt;Development goals listed/tracked as Issues on the Github repository&lt;/p&gt;
&lt;h2 id=&quot;section&quot;&gt;&lt;/h2&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: meetings, notebook</title>
   <link href="/2011/05/09/monday-4.html"/>
   <updated>2011-05-09T16:56:35-07:00</updated>
   <id>h/2011/05/09/monday-4</id>
   <content type="html">&lt;h2 id=&quot;coop-moore-270-species-trees&quot;&gt;Coop &amp;amp; Moore 270: Species Trees&lt;/h2&gt;
&lt;p&gt;Discussing Bucky paper (Ane &lt;em&gt;et. al.&lt;/em&gt; 2006)&lt;/p&gt;
&lt;p&gt;Approach of BEST and *BEAST (last time): Prior probability on gene trees P(G|S), given species trees.  Goal: Posterior of species trees,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(S|X) = \int_G \Pi_{\ell} \left[ P(X_{\ell}|G_{\ell}) P(G_{\ell}|S) \right] P(S) dG&quot; alt=&quot;P(S|X) = \int_G \Pi_{\ell} \left[ P(X_{\ell}|G_{\ell}) P(G_{\ell}|S) \right] P(S) dG&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(G_{\ell}|S) = \Pi_{b \in S} P(H_b(G_{\ell})|S_b)&quot; alt=&quot;P(G_{\ell}|S) = \Pi_{b \in S} P(H_b(G_{\ell})|S_b)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Uses a Dirchlet process model for clustering genes by topologies.  All genes in a cluster agree to share a common topology.  Comparisons to BEST and *BEAST next week.&lt;/p&gt;
&lt;h2 id=&quot;algorithms-group&quot;&gt;Algorithms Group&lt;/h2&gt;
&lt;p&gt;Brief meeting today, discuss plans for next steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Start an OpenWetWare group to facilitate collaboration and sharing  of algorithms.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dissect a common MCMC algorithm’s source code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identify some basic questions:  in MCMCMC how do we make account for proposal ratio?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Where do the priors enter: should we be using prior times likelihood in the Hastings ratio?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Next week: EM algorithms&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Then: HMMs&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;databases&quot;&gt;Databases&lt;/h2&gt;
&lt;p&gt;Notes from &lt;a href=&quot;http://www.carlboettiger.info/archives/1632&quot;&gt;Sunday&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1660&quot;&gt;TreeBASE updates and to-do&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;notebook-optimization&quot;&gt;Notebook optimization&lt;/h2&gt;
&lt;p&gt;Checked profiling speed with http://gtmetrix.com/. Added &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-minify/&quot;&gt;wp-minify&lt;/a&gt; and started specifying sizes explicitly for images. Images from media library can be optimized for faster rendering using &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-smushit/&quot;&gt;smushit&lt;/a&gt;, though most of my images are embedded from flickr instead, not sure how performance compares. Have been using &lt;a href=&quot;http://wordpress.org/extend/plugins/wp-super-cache/&quot;&gt;wp super cache&lt;/a&gt;, but updated to some of the recommended settings.&lt;/p&gt;
&lt;p&gt;Seems like further performance increases could best be accomplished with Content Delivery Network (CDN) option. Several plugins provide this. &lt;a href=&quot;http://wordpress.org/extend/plugins/use-google-libraries/&quot;&gt;Use-google-libraries&lt;/a&gt; uses a couple public CDNs that google has made available for popular AJAX scripts such as jQuery. Super Cache works with the extension &lt;a href=&quot;http://wordpress.org/extend/plugins/cdn-sync-tool/&quot;&gt;CDN sync tool&lt;/a&gt;, &lt;a href=&quot;http://wordpress.org/extend/plugins/w3-total-cache&quot;&gt;w3-total-cache&lt;/a&gt; provides CDN option as well.&lt;/p&gt;
&lt;p&gt;Sounds like CDN for mathjax could be particularly valuable. Some &lt;a href=&quot;http://sites.google.com/site/mathjaxproject/design-documents/cdn-hosting-plan&quot;&gt;description of this&lt;/a&gt; from the mathjax folks, not clear if they are providing the actual CDN or just the code to set one up? Not clear how to implement this on wordpress, but seeing if the knowledge-blog folks have any ideas.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ane C, Larget B, Baum D, Smith S and Rokas A (2006). “Bayesian Estimation of Concordance Among Gene Trees.” &lt;em&gt;Molecular Biology And Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 0737-4038, &lt;a href=&quot;http://dx.doi.org/10.1093/molbev/msl170&quot;&gt;http://dx.doi.org/10.1093/molbev/msl170&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday: a few Treebase R package updates</title>
   <link href="/2011/05/08/sunday-a-few-treebase-r-package-updates.html"/>
   <updated>2011-05-08T16:16:24-07:00</updated>
   <id>h/2011/05/08/sunday-a-few-treebase-r-package-updates</id>
   <content type="html">&lt;p&gt;Working on a few updates to the TreeBASE package.  This flushes out the basic functionality provided by the phylo-ws API now. Needs a bit more testing of the possible queries and some bells and whistles options.  Meanwhile, going to start looking at the metadata side with the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;OAI-PMH&lt;/a&gt; API.  With this I should be able to grab metadata associated with a tree or the tree associated with the metadata.  Should also be able to extend the queries over to other databases such as Dryad.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Looking into what might currently exist: apTreeshape (Bortolussi &lt;em&gt;et. al.&lt;/em&gt; 2005) had a dbtrees function which has &lt;a href=&quot;https://stat.ethz.ch/pipermail/r-sig-phylo/2010-September/000767.html&quot;&gt;since been removed&lt;/a&gt;. Scott Chamberlain has is also &lt;a href=&quot;http://r-ecology.blogspot.com/2011/05/treebase-trees-from-r.html&quot;&gt;exploring this a bit&lt;/a&gt;, sounds like a good person to talk to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fixed many of the XML parsing errors and warnings by moving to RCurl for queries:&lt;/p&gt;
&lt;h1&gt;Use&lt;/h1&gt;
&lt;p&gt;tt = getURLContent(query, followlocation = TRUE) #instead of con = url(query) tt = readLines(con, warn = FALSE) close(con)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This adds RCurl as a dependency. (Following Duncan’s suggestion to keep from polluting the namespace, I’ve moved dependencies into imports instead).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;implemented the remaining use cases, needs testing of these other query types still.  A few extra tests have been added to the demos.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Automatically matches section, rather than specifying as a third argument.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implemented handling for boolean logic, not clear that the API handles these cases correctly? Seems to do OR, but treats AND and NOT as if it was also OR.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Joined Treebase-devel@lists.sourceforge.net.  Should probably post about this work and ask about this boolean trouble.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Made output a multiPhylo object.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To-Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should add faculties to return only trees with branch lengths, etc. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should figure out how to pull metadata from returned matches. Possibly grab the TB id number, and then use a separate query to pull that up. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider maximum number of returns on a query. &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hm: Given a id like TB2-S2377 number (study id), why do these both return unrelated trees, and what is a id.tree?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;studies &amp;lt;- search_treebase(“2377”, by=“id.study”) tree &amp;lt;- search_treebase(“2377”, by=“id.tree”)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Treebase &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;wiki entry&lt;/a&gt; for the phylo-ws api&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;leveraging predicates?  What’s &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=API#Output_formats&quot;&gt;this section of the wiki&lt;/a&gt; really about?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;metadata-and-oai-pmh&quot;&gt;Metadata and OAI-PMH&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Needs to get study id from the phylows query and then look up the metadata.  See &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;treebase wiki&lt;/a&gt;.  (Pretty sparse, maybe I should add something).  &lt;a href=&quot;http://carlboettiger.info/archives/1670&quot;&gt;DONE 2011-05-11&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example queries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=GetRecord&amp;amp;metadataPrefix=oai_dc&amp;amp;identifier=TB:s1234&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&quot;&gt;http://treebase.org/treebase-web/top/oai?verb=ListRecords&amp;amp;metadataPrefix=oai_dc&amp;amp;after=1996-11-04T00:00:00Z&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bortolussi N, Durand E, Blum M and Francois O (2005). “Aptreeshape: Statistical Analysis of Phylogenetic Tree Shape.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;22&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/bti798&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/bti798&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Building a semantic notebook</title>
   <link href="/2011/05/08/building-a-semantic-notebook.html"/>
   <updated>2011-05-08T11:39:49-07:00</updated>
   <id>h/2011/05/08/building-a-semantic-notebook</id>
   <content type="html">&lt;p&gt;What would a semantic lab notebook look like?  What would be possible with such a structure, ideally?  What is already possible now?  There’s a lot that can be done with an electronic notebook that adds value over a paper notebook: browsing by categories and tags, embedding links, time-stamping entries, searching the full text, and having automated trackbacks or pingbacks when a post is mentioned in another post or appears elsewhere on the web. Despite these advantages, I think a lot more could be possible with a semantic notebook – where links can be identified with an ontology describing the relationship. I’ve found a couple current tools very promising, and would be interested in developing some of these much further.&lt;/p&gt;
&lt;p&gt;There’s been a lot written about the potential for linked data and a semantic web elsewhere &lt;a rel=&quot;http://purl.org/spar/cito/discusses&quot;, resource=&quot;http://dx.doi.org/10.2200/S00334ED1V01Y201102WBE001&quot;&gt;(Heath &amp;amp; Bizer, 2011)&lt;/a&gt;, here I outline what’s already possible and what I’d like to see in the context of a lab notebook. My notebook links three primary content sources: literature citations, graphs, and code; as I’ve &lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;described before&lt;/a&gt;. A more semantic version could make the connections between these elements explicit and machine readable, opening the door to many more possibilities.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/files/mynotebook-300x123.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;citations&quot;&gt;Citations:&lt;/h3&gt;
&lt;h4 id=&quot;existing-capabilities&quot;&gt;Existing capabilities&lt;/h4&gt;
&lt;p&gt;A lot of linked-data meta-data is already supported for citations, but a lot more could be possible. In my notebook, the citations are included by DOI whenever possible, using the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;KCite&lt;/a&gt; plugin (EDIT: now using my &lt;a href=&quot;https://github.com/cboettig/knitcitations/iss&quot;&gt;knitcitations&lt;/a&gt; package). &lt;a href=&quot;http://inkdroid.org/journal/2011/04/25/dois-as-linked-data/&quot;&gt;DOI’s are linked data&lt;/a&gt;. Further information can be added to any link using the CITO ontology. &lt;a rel=&quot;http://purl.org/spar/cito/usesMethodIn&quot;, resource=&quot;http://dx.doi.org/10.1186/2041-1480-1-S1-S6&quot;&gt;Shotton (2010)&lt;/a&gt;. The link-to-link plugin, &lt;a rel=&quot;http://prul.org/spar/cito/discusses&quot; resource='http://wordpress.org/extend/plugins/link-to-link'&gt;(Fenner 2011)&lt;/a&gt;, can in addition to DOIs can add indicate the reason for the citation. &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/installation/&quot;&gt;Link-2-Link&lt;/a&gt; adds the citation to the link library in Wordpress, and can import bibtex documents, though this tends not to be as convenient as citing directly from DOI when it is available. I’m not sure if &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;KCite&lt;/a&gt; will include the cito relationship if it is written in without &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/installation/&quot;&gt;Link-2-Link&lt;/a&gt;, as:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[cite source=&amp;#39;doi&amp;#39; rel=&amp;#39;cito:discusses&amp;#39;]10.1186/2041-1480-1-S1-S6[/cite]&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;desired-capabilities&quot;&gt;Desired capabilities:&lt;/h4&gt;
&lt;p&gt;It would be nice to do a lot more though. First, it would be great to be able to browse this data efficiently. It would be great to parse the whole notebook to generate citation statistics, with the ability to identify such things as: which articles I most cite, what reasons I most cite for (from CiTO), links to posts where I disagree with an article, what authors I most cite ((more challenging since it involves looking up information not directly embedded into the post)), etc.&lt;/p&gt;
&lt;p&gt;Next, it would be great to be able to include more information in linked data format and pull in information available from other sources. Most of my citations are correspond to objects in my Mendeley library, where they have added tags, notes, date added to my library, categories, groups, as well as the full suite of further data and reader statistics exposed by Mendeley (such as illustrated in &lt;a href=&quot;http://readermeter.org/&quot;&gt;ReaderMeter&lt;/a&gt; and &lt;a href=&quot;http://dev.mendeley.com/&quot;&gt;Mendeley API&lt;/a&gt;).&lt;/p&gt;
&lt;h3 id=&quot;images-and-code&quot;&gt;Images and Code:&lt;/h3&gt;
&lt;h4 id=&quot;whats-already-possible&quot;&gt;What’s already possible&lt;/h4&gt;
&lt;p&gt;Graphs (stored on Flickr) have a direct correspondence to the code that generated them (stored on Github).  This connection could be exposed through some semantic mark-up, identifying which code corresponds to which images and vice versa, as well as identifying such meta-data as when the code was committed or the image generated, author, tags, version, and relationship with other versions and codes. This meta-data already exists for the most part, but cannot be queried by a machine (give me older/newer versions of this code, or all results run from this code, etc). Both code and images have stable identifiers/urls. Within code, versions and dependencies are already handled explicitly, though not perhaps in a machine-readable way. Code is assigned to different repositories, images to different tags, both with timestamps for commits. These connections between code an results have been discussed by Gavish and Donoho in &lt;a href=&quot;http://www.stanford.edu/~vcs/AAAS2011/&quot;&gt;universal identifiers for computational results&lt;/a&gt;, among others, but could be particularly powerful using semantic markup.&lt;/p&gt;
&lt;h4 id=&quot;making-this-semantic&quot;&gt;Making this semantic&lt;/h4&gt;
&lt;p&gt;The simplest goal would be to extract the information that these links refer to code or refer to images, presumably possible by domain information / plugin short code identification. Following these links then, some metadata is already exposed by Flickr or github in RDF. &lt;a href=&quot;http://inspector.sindice.com/inspect?url=http%3A%2F%2Fwww.flickr.com%2Fphotos%2Fcboettig%2F5692100650&amp;amp;content=#SIGMA&quot;&gt;Flickr returns&lt;/a&gt;the title, license, and identifiers. Github&lt;a href=&quot;http://inspector.sindice.com/inspect?url=http%3A%2F%2Fgithub.com%2Fcboettig%2FComparative-Phylogenetics%2Fblob%2Ff75d2f79b0469112bf2635e321006e1079fa2c41%2Ftreebase%2FR%2Ftreebase.R&amp;amp;content=&quot;&gt;seems to return&lt;/a&gt; only the title.  Ideally, having come across any graph in the notebook, one could obtain some identifier which would recover other instances where the image has appeared, identify the code that created it (with the code revision history) and pages that link to the code, as well as author information, license (software and image), platform information, etc.&lt;/p&gt;
&lt;h3 id=&quot;other-content&quot;&gt;Other content&lt;/h3&gt;
&lt;p&gt;There’s a lot of other content that is not treated here. References to people are an obvious candidate for semantic content, though FOAF and XFN (built into Wordpress links) don’t seem to capture the notions of “adviser,” “labmate,” or “co-author,” etc. Pulling up all references to a particular person in the notebook might be useful.&lt;/p&gt;
&lt;p&gt;Markup for identifying data analyzed in a post would also be useful. Like articles, &lt;a href=&quot;http://datacite.org/&quot;&gt;data is more and more frequently being assigned a DOI&lt;/a&gt;, so the goal is simply to couple the post id, graphs and code that analyze the data more tightly to this identifier. A different solution may be necessary for unpublished data, or for indicating the subset or combination of published data sets used.&lt;/p&gt;
&lt;p&gt;Aquiring DOIs for computational results and posts from the California Digital Library’s &lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/index.html&quot;&gt;EZID&lt;/a&gt; would make richer meta-data tracking possible. This might be possible to implement for figures through FigShare as well.&lt;/p&gt;
&lt;h3 id=&quot;other-wordpress-plugins&quot;&gt;Other Wordpress Plugins&lt;/h3&gt;
&lt;p&gt;Basic meta-data about the post can be included through the Wordpress plugin &lt;a href=&quot;http://dev.squarecows.com/projects/wp-rdfa/&quot;&gt;wp-rdfa&lt;/a&gt;, providing FOAF relationships for admin/editors/authors in the wordpress database and Dublin Core relationships to identify the authors and post title, but are quite limited. A variety of other Wordpress plugins  also provide semantic support, including  &lt;a href=&quot;http://www.ontos.com/o_eng/index.php?cs=1&quot;&gt;ontos feeder&lt;/a&gt;, &lt;a href=&quot;http://fgiasson.com/blog/index.php/2007/09/01/blogs-wordpress-zitgist-and-the-semantic-web/&quot;&gt;zlinks&lt;/a&gt;, &lt;a href=&quot;http://wordpress.org/extend/plugins/wpmu-talis-triple-uploader/&quot;&gt;WPMU-talis-triples-uploader&lt;/a&gt; (&lt;a href=&quot;http://www.talis.com&quot;&gt;Talis&lt;/a&gt;), but I’m not sure any provide the kind of  capacity I discuss above (most attempt to automatically link content from other web sources).  This semantic &lt;a href=&quot;http://inspector.sindice.com/index.jsp&quot;&gt;inspector tool&lt;/a&gt; is quite useful, as well as a rich example of markup of a scientist’s page &lt;a href=&quot;http://egonw.github.com/&quot;&gt;from Egon&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;feedback&quot;&gt;Feedback?&lt;/h3&gt;
&lt;p&gt;I’m curious what others think about these possibility, what they’d like to see in a semantic notebook, and if anyone would be interested in helping further develop these tools, at least in a Wordpress context.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Reproducible Research, Large data sets, and SI2 </title>
   <link href="/2011/05/06/reproducible-research-large-data-sets-and-si2.html"/>
   <updated>2011-05-06T12:24:03-07:00</updated>
   <id>h/2011/05/06/reproducible-research-large-data-sets-and-si2</id>
   <content type="html">&lt;p&gt;What follows are my notes from May 6th, 2011 expressing the ideas that would ultimately coalesce into the &lt;a href=&quot;ropensci.org&quot;&gt;rOpenSci&lt;/a&gt; project.  Much of this was turned into an email to Duncan and Todd, whose feedback was invaluable in working through this, and several others. (The reference to SI2 refers to &lt;a href=&quot;http://www.nsf.gov/pubs/2011/nsf11539/nsf11539.htm&quot;&gt;an NSF call&lt;/a&gt; from about that time, which also stimulated my thinking on this matter.) Since then I’ve learned quite a bit about these tools, with which I now feel quite comfortable. I stumbled across this private note in my notebook today, and figured it could take it’s place as part of my public notebook.&lt;/p&gt;
&lt;h3 id=&quot;goals&quot;&gt;Goals:&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;I’d love to know something about how to interface with common web-based APIs.  Somehow I feel that means knowing about OAuth, JSON, CURL, knowing what HTTP GET and PUT commands and millions of other things are.  I feel like there are some basic building blocks that if I knew, I could look at pages l&lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/search-terms&quot;&gt;ike this one,&lt;/a&gt; and say, oh, I know how to implement that capability in R.  Unfortunately I still feel like a fish out of water without a clue where to start on most of this.  No one in my department or anyone else that I regularly interact with does this kind of stuff, with the possible exception of statcompsci, so I don’t know where to start.  I’m also a bit worried that actually implementing anything that could successfully be distributed to other users would require more than I’d be capable of, and I should figure out how to get a team of people involved.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Why am I interested in this stuff anyway?  Two (related) reasons: I’m very interested in structuring scientific workflow around reproducible research, and I’m very interested in large data.  The two go hand in hand in many ways.&lt;/p&gt;
&lt;p&gt;I’m interested in large data applications (like this TreeBASE project) because my field has somehow managed to have some of the most progressive policies in data archiving and data sharing (through DataDryad, and DataONE, with &lt;a href=&quot;http://carlboettiger.info/archives/502&quot;&gt;mandatory archiving&lt;/a&gt; in many of our journals) while simultaneously having the some of the least-well trained scientists to tackle them.  I organized a workshop around this stuff in my department, hardly anyone came but the &lt;a href=&quot;http://carlboettiger.info/archives/1284&quot;&gt;video archives&lt;/a&gt; have been popular online…)&lt;/p&gt;
&lt;p&gt;About a year and a half ago, I began an experiment of keeping an open lab notebook (initially on a wiki, now with wordpress).  This brought me into interactions with an online community that is very interested in web-based tools for science, open science, data sharing, collaborative research, social media, etc., which has inspired me to learn more about how these tools could help me work with greater efficiency and greater impact.&lt;/p&gt;
&lt;p&gt;I’d really like to figure out what’s worth learning, what’s worth finding people who already know and collaborating, and how to do each.&lt;/p&gt;
&lt;h4 id=&quot;si2-people-to-contact&quot;&gt;SI2 people to contact?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Duncan Temple Lang&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Todd Vision&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Heather Piwowar,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ethan White,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Patricia Cruze&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rutger Vos,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Mendeley API in R</title>
   <link href="/2011/05/06/mendeley-api-in-r.html"/>
   <updated>2011-05-06T04:21:10-07:00</updated>
   <id>h/2011/05/06/mendeley-api-in-r</id>
   <content type="html">&lt;p&gt;Started to implement the &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources&quot;&gt;Mendeley API&lt;/a&gt; in R, with much help and guidance from Prof. &lt;a href=&quot;http://www.stat.ucdavis.edu/~duncan/&quot;&gt;Duncan Temple-Lang&lt;/a&gt; in the Stats dept.  &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; is a widely used statistical software environment, and this should facilitate real-time statistical analysis of the rich amount of publication data available in Mendeley.&lt;/p&gt;
&lt;p&gt;My motivation is primarily pedagogical at the moment- Mendeley seems to have a nice modern API with both public and authentication-required elements (using OAuth).  Writing out the API gives me some good practice making GET requests in RCURL and handling JSON returns, and experiencing the bumps that go with this kind of work.&lt;/p&gt;
&lt;p&gt;Duncan got us started with examples for &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/search-terms&quot;&gt;search&lt;/a&gt; and &lt;a href=&quot;http://apidocs.mendeley.com/home/public-resources/stats-authors&quot;&gt;author&lt;/a&gt; stats, which are pretty straight forward to extend to the rest of their domain.  I’ve extended this to other stats functions (somehow tags returns empty, and publications returns the wrong format, a&lt;a href=&quot;https://groups.google.com/d/topic/mendeley-open-api-developers/9rUZQBM7giQ/discussion&quot;&gt;known issue&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Implemented the other search methods, though could add some more functions to assist in parsing the returned data structure (returns a list with elements documents (whose elements are the entries), and various totals, as indicated). Seem to be functioning well.&lt;/p&gt;
&lt;p&gt;Will have to come up with some interesting use cases, so far just the kind of things a human could do from the web interface, but hey, came across my grandpa’s paper from &lt;a href=&quot;http://api.mendeley.com/research/observations-on-the-flight-motor-of-diptera/&quot;&gt;1950&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We will have to get R’s OAuth package working with CURL options in order to start exploring the user-specific methods.  More to follow, meanwhile, better get back to some research.&lt;/p&gt;
&lt;p&gt;ADDED: Development now &lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;up on github&lt;/a&gt;.  Note package depends on &lt;a href=&quot;http://cran.r-project.org/web/packages/RCurl/index.html&quot;&gt;RCurl&lt;/a&gt; 1.6 (development version, hopefully up soon).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: parrotfish analysis</title>
   <link href="/2011/05/05/thursday-parrotfish-analysis.html"/>
   <updated>2011-05-05T09:57:28-07:00</updated>
   <id>h/2011/05/05/thursday-parrotfish-analysis</id>
   <content type="html">&lt;p&gt;Summarizing parrotfish data under the single shift at the intramandibular joint. See version stable code for data loading/transforms (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/827da7db4b1825ca2f800002328c31c8fe0e1024/demos/parrotfish_data.R&quot;&gt;parrotfish_data.R&lt;/a&gt;), and for plots (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/6e545b9ff299cb30f2e3a7e95acc09b0d42a1c3a/demos/parrotfish.R&quot;&gt;parrotfish.R&lt;/a&gt;) as shown, and for analysis functions (&lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/6e545b9ff299cb30f2e3a7e95acc09b0d42a1c3a/demos/loop_models_traits_regimes.R&quot;&gt;loop_models_traits_regimes.R&lt;/a&gt;). Models are named by the parameter which is regime-dependent. Results are shown sorted by likelihood, so the best model is on top, and likelihood values are scaled by the weakest model.&lt;/p&gt;
&lt;p&gt;Tree: &lt;img src=&quot;http://farm6.staticflickr.com/5021/5691359485_a00d084d85_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;alpha is favored in all the ratio traits, sometimes substantially. &lt;img src=&quot;http://farm6.staticflickr.com/5265/5691184643_184bca54d2_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Without size corrections the muscle traits essentially reflect body mass. Though ratio may be better than the regression:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5184/5691756348_90744b6d35_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Size-corrected length traits show a substantial signal:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5309/5691756336_4c0267c963_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The appaxial muscle looks strong candidate for release of constraint, the control muscles not involved with the jaw mechanism do not show any such release:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5187/5691184637_2e1c33781b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Strength of constraint (alpha parameter), by trait: log ratio of intramandibular to other parrotfish: &lt;img src=&quot;http://farm6.staticflickr.com/5069/5691354277_db6aaf2b2b_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;hmm, doesn’t match the general model fits: &lt;img src=&quot;http://farm6.staticflickr.com/5142/5691354301_b2f6914bdd_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;puzzles-and-puzzle-shooting&quot;&gt;Puzzles and puzzle-shooting&lt;/h2&gt;
&lt;p&gt;A couple traits don’t converge for the general model:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;conv(test) [1] “trait  AM.x regime intramandibular model wright didn’t converge” [1] “trait  SH.y regime intramandibular model wright didn’t converge” [1] “trait  LP.y regime intramandibular model wright didn’t converge”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Above uses equal-alpha always as starting conditions (taken from hansen fit).  Comparing against a fit attempt using very different alphas for each regime (intra at 0.1, other at 5).  Comparisons run and pushed to flickr, gallery below.  Results are clearly different; i.e. alpha ratios on release (alpha varies) model:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5692100638_22d88e2637_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(replotted without the two dominant ratios &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5692103784/in/photostream/&quot;&gt;here&lt;/a&gt;, first in stream below.)&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-05 18:00:00” max_upload_date=“2011-05-05 18:45:00”]&lt;/p&gt;
&lt;p&gt;Results in more convergence errors, but not enough to explain difference (only one release_constraint model didn’t converge):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;conv(test) [1] “trait bodymass, regime intramandibular, model ouch didn’t converge” [1] “trait bodymass, regime intramandibular, model release_constraint didn’t converge” [1] “trait LP.x, regime intramandibular, model ouch didn’t converge” [1] “trait open, regime intramandibular, model ouch didn’t converge” [1] “trait kt, regime intramandibular, model ouch didn’t converge” [1] “trait LP.y, regime intramandibular, model wright didn’t converge”&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/296b2f11a6ac9ffb2f5e02bc22de7b4116ef30fb&quot;&gt;commit&lt;/a&gt;with this version of code)&lt;/p&gt;
&lt;p&gt;Illustrates need for more robust searching of the likelihood surface!&lt;/p&gt;
&lt;p&gt;Trying now with simulated annealing, shows a release of constraint:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;wright_alphas intramandibular    other gape.y        3.786699 12.59779 prot.y        9.275002 15.27857 release_alphas intramandibular     other gape.y        2.008825  2.262495 prot.y       23.093936 25.768637&lt;/p&gt;
&lt;p&gt;Protrusion strongly favors alpha model:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;lliks $gape.y gen     alpha     sigma 0.0000000 0.7693642 1.0315282&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$prot.y sigma      gen    alpha 0.00000 13.04190 13.44653&lt;/p&gt;
&lt;p&gt;Worrisome that gen doesn’t do best though, it probably needs a slower cooling schedule for so many parameters. (&lt;a href=&quot;https://github.com/cboettig/wrightscape/commit/9edfeabe785a6be8e3ce5db137278695f29ea4cd&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Trying with slower cooling, starting with unfavorable init conditions (higher alpha for intramandibulars):&lt;/p&gt;
&lt;p&gt;release_alphas intramandibular      other gape.y        1.969489  0.6064478 prot.y       25.087304 27.2187761 &amp;gt; wright_alphas intramandibular     other gape.y        2.198133  4.446376 prot.y       20.443740 22.325272 &amp;gt;&lt;/p&gt;
&lt;p&gt;Clearly just need super aggressive parameters.  Robust search for actual inferences coming up.  Need to add automated clever convergence testing.&lt;/p&gt;
&lt;h2 id=&quot;meetings&quot;&gt;Meetings:&lt;/h2&gt;
&lt;h3 id=&quot;duncan&quot;&gt;Duncan&lt;/h3&gt;
&lt;p&gt;Discussing web tools to interface with APIs, with implementations in R.  OAuth, CURL, XML, JSON.  Approaches in REST vs SOAP.  Notes (in prep, will be separate post.)&lt;/p&gt;
&lt;h3 id=&quot;marissa-lab&quot;&gt;Marissa Lab&lt;/h3&gt;</content>
 </entry>
 
 <entry>
   <title>Weds: Parrotfish data set analysis</title>
   <link href="/2011/05/04/weds-parrotfish-data-set-analysis.html"/>
   <updated>2011-05-04T16:16:29-07:00</updated>
   <id>h/2011/05/04/weds-parrotfish-data-set-analysis</id>
   <content type="html">&lt;h2 id=&quot;parrotfish&quot;&gt;Parrotfish&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need better convergence error handling.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need to remedy: “Function cannot be evaluated at initial parameters” errors – Occur when attempting very large values of alpha, resulting in NaN output (trouble with exponentials of alpha in calculations).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Changed summaries to group by painting, so compare models and traits.  Less natural than comparing across painting for a single trait since that allows comparisons both across models and across paintings, but makes sense when comparing only a single partition.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See code, &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/demos/parrotfish.R&quot;&gt;parrotfish.R&lt;/a&gt; &amp;amp; &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/master/demos/parrotfish_data.R&quot;&gt;parrotfish_data.R&lt;/a&gt; for details&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;chatter&quot;&gt;Chatter&lt;/h2&gt;
&lt;p&gt;Replying to various interesting questions from the lab groups today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Chris O’s question on body size evolution:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;compare the correlation of two traits corrected for size and phylogeny using several methods (Blomberg et al. 2003, pic residuals, pgls residuals and Revell’s method).&lt;/p&gt;
&lt;p&gt;We have an evolving trait X. The value of the trait is strongly influenced by the evolution of another evolving trait, Y (size). Assume size Y depends on no other traits and follows Brownian motion: $ dY_t = &lt;em&gt;Y dB&lt;/em&gt;t $ Assume trait X is also undergoing a random walk, but is also tugged around in a linear fashion (with strength ) by the size Y: $ dX_t = Y_t + &lt;em&gt;X dB&lt;/em&gt;t $ Trait X is then not doing a purely Brownian random walk, so we cannot apply any of the methods which assume that it is.&lt;/p&gt;
&lt;p&gt;We could instead consider the general form of a model in which trait X evolves as a stochastic process, dependent on trait Y:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = f(X, Y)dt + \Sigma dB_t&quot; alt=&quot;dX = f(X, Y)dt + \Sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Trait Y also evolves,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dY = f(X,Y) dt + \Sigma dB_t&quot; alt=&quot;dY = f(X,Y) dt + \Sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now dB_t is a vector of two random walks and $ $ is a matrix, with terms $ &lt;em&gt;{x^2}, &lt;/em&gt;{yx}, &lt;em&gt;{xy} &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and\inline&quot;/&gt;&lt;/span&gt; &lt;/em&gt;{y^2}.$ The model above is a special case of this. This in general will not have a multivariate normal distribution of traits. We’ve run into this before: Peter asked effectively the same question earlier this quarter: &lt;a href=&quot;../archives/151&quot;&gt;http://www.carlboettiger.info/archives/151&lt;/a&gt;. Answer: maybe ABC, since we cannot solve the likelihood but can simulate?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lars has a question on power in this study: (Young &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hmm, Article compares “four” models, with interesting choice of attributions: BM (cites&lt;a href=&quot;http://paleobiol.geoscienceworld.org/cgi/content/abstract/13/4/446&quot;&gt;Brookstein 1987&lt;/a&gt; instead of Felsenstein 1985?), BM with drift (Hunt &lt;em&gt;et. al.&lt;/em&gt; 2008), “stasis” Sheets &amp;amp; Mitchell, 2001 (sounds like OU…), OU: Lande (Lande, 1976). (Of course the study does not estimate power).&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1595&quot;&gt;Algorithms group meeting&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Google reader: catching up on journals – done.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;still-to-do&quot;&gt;Still to do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theoretical ecology review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review economic models in warning signals, (Horan &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Outline research &amp;amp; organizational goals.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;common tag library.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;treebase api, socialR updates&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;think about &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503489&quot;&gt;NSF’s SI2&lt;/a&gt; (&lt;a href=&quot;http://www.nsf.gov/pubs/2010/nsf10015/nsf10015.jsp&quot;&gt;dear colleague let&lt;/a&gt;) (&lt;a href=&quot;http://nsf.gov/staff/orglist.jsp&quot;&gt;NSF Org list)&lt;/a&gt; (&lt;a href=&quot;http://www.nsf.gov/pubs/policydocs/pappguide/nsf11001/gpg_index.jsp&quot;&gt;Proposal Guide&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;lab-notebook-configuration&quot;&gt;Lab Notebook configuration&lt;/h2&gt;
&lt;p&gt;Exploring a couple plugins and modifications of lab notebook and workflow.  Currently looking at tighter github integration.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/github-code-viewer-2/&quot;&gt;Github Code Viewer 2&lt;/a&gt;: Could embed rather than link code by url, though a link may be preferable anyway.  Currently seems &lt;a href=&quot;http://wordpress.org/support/topic/implode-error?replies=1#post-2095048&quot;&gt;broken&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/github-bitbucket-project-lister/&quot;&gt;Github and bitbucket project lister&lt;/a&gt;: allows embedding public projects into posts and pages instead of just as a widget.  Lists name of project (with link), summary, and number of watchers.  Formatting configurable but has some trouble in display sizes.  Required tweaking to display in reasonable font sizes for this theme.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Several things just list links to repositories as widgets: Github Grubber, Github Projects, GitPress. Projects doesn’t list all repositories (and doesn’t give an option to search). Haven’t found anything that gives impact or commits as seen on github dashboard. github_activity seems to error, Latest github commits does what it sounds like. Won’t keep any installed for the time being.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Of course I’m already using the popular github gists shortcode.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;github-bitbucket-project-lister-example&quot;&gt;Github &amp;amp; Bitbucket Project Lister Example&lt;/h4&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Young M, Bell M and Brusatte S (2011). “Craniofacial Form And Function in Metriorhynchidae (Crocodylomorpha: Thalattosuchia): Modelling Phenotypic Evolution With Maximum-Likelihood Methods.” &lt;em&gt;Biology Letters&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. ISSN 1744-9561, &lt;a href=&quot;http://dx.doi.org/10.1098/rsbl.2011.0357&quot;&gt;http://dx.doi.org/10.1098/rsbl.2011.0357&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hunt G, Bell M and Travis M (2008). “Evolution Toward A New Adaptive Optimum: Phenotypic Evolution in A Fossil Stickleback Lineage.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;62&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2007.00310.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2007.00310.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lande R (1976). “Natural Selection And Random Genetic Drift in Phenotypic Evolution.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;30&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.2307/2407703&quot;&gt;http://dx.doi.org/10.2307/2407703&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Horan R, Fenichel E, Drury K and Lodge D (2011). “Managing Ecological Thresholds in Coupled Environmental-Human Systems.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1005431108&quot;&gt;http://dx.doi.org/10.1073/pnas.1005431108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unknown, H. David Sheets, Charles E. Mitchell, (2001) &lt;em&gt;Genetica&lt;/em&gt;, &lt;strong&gt;112/113&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1023/A:1013308409951&quot;&gt;10.1023/A:1013308409951&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms Discussion Group: MCMC</title>
   <link href="/2011/05/04/algorithms-discussion-group-mcmc.html"/>
   <updated>2011-05-04T10:32:42-07:00</updated>
   <id>h/2011/05/04/algorithms-discussion-group-mcmc</id>
   <content type="html">&lt;p&gt;Implemented a basic MCMC routine in our little algorithms discussion group today, works quite nicely once you remember to use differences of log probabilities instead of ratios.  Code and results below.&lt;/p&gt;
&lt;p&gt;[gist id=956311]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5103/5688329255_67ba8430ec_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: phylogenetics- wrightscape coding</title>
   <link href="/2011/05/03/tuesday-phylogenetics-wrightscape-coding.html"/>
   <updated>2011-05-03T16:31:25-07:00</updated>
   <id>h/2011/05/03/tuesday-phylogenetics-wrightscape-coding</id>
   <content type="html">&lt;p&gt;Writing methods to loop wrightscape models over lists of different traits, regimes, and model specifications.  Easy to end up with large-dimensional output, challenge for visualization.  Experimenting with different groupings.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-05-03 00:00:00” max_upload_date=“2011-05-03 23:59:59”]&lt;/p&gt;
&lt;p&gt;See code: &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/e8d421733d46adc1f936a19772ca3d9a3f98013c/demos/loop_models_traits_regimes.R&quot;&gt;loop_models_traits_regimes.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Routine attempts hansen fit for initial estimates of alpha and sigma.  Could be greatly improved.  Should extend attempts to guess initial conditions for optimization.  Should add better convergence testing, simulated annealing option.&lt;/p&gt;
&lt;h2 id=&quot;wainwright-lab-presentation&quot;&gt;Wainwright lab presentation&lt;/h2&gt;
&lt;p&gt;Presented recent work in Wainwright lab today, focusing mostly on release of constraint work.  Suggestions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;show graph of parameter scores fixed by clade (instead of painting).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Refer to as generalized model, rather than just “release of constraint.”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrating two transitions greatly complicates the presentation: begin with parrotfish only as a first example, focusing on the intramandibular joint.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Intriguing pattern in gape suggests a change in alpha at both transitions, and change in theta only at the intramandibular joint.  Will have to see if closer analysis bears this out.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can software identify most promising cases, rather than always presenting results for all traits and models?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Finish up &lt;a href=&quot;http://www.carlboettiger.info/archives/1534&quot;&gt;Friday’s entry&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Submitted Warning Signals abstract for CSGF conference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Prepared &lt;a href=&quot;http://ievobio.org/ocs/index.php/ievobio/2011/schedConf/cfp#lightning&quot;&gt;iEvoBio lightning talk&lt;/a&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1549&quot;&gt;proposal&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;added pdf export support for pages (as-pdf and pdf24 don’t seem to format well, using &lt;a href=&quot;http://wordpress.org/extend/plugins/kalins-pdf-creation-station/&quot;&gt;Kalins PDF creation station plugin&lt;/a&gt;, which support running other plugins (kcite) before creating pdf, in addition to other customization options).  Rather than providing a link (still an option), posts or pages can be converted to pdf in the tools menu in dashboard.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>treeBASE R interface: proposal for #iEvoBio</title>
   <link href="/2011/05/03/treebase-an-r-interface-proposal-for-ievobio.html"/>
   <updated>2011-05-03T14:07:36-07:00</updated>
   <id>h/2011/05/03/treebase-an-r-interface-proposal-for-ievobio</id>
   <content type="html">&lt;h2 id=&quot;lightning-talk-proposal&quot;&gt;Lightning Talk Proposal&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://treebase.org&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5070/5685541420_656d5e16ab_o.png&quot; /&gt;&lt;/a&gt; I will present the R package treeBASE, which provides an R implementation of the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;treeBASE phylows API&lt;/a&gt;.   This package makes it possible to search and import data from this database of published phylogenetic trees easily from within an R script.  Recent data archiving requirements at major evolutionary journals such as &lt;em&gt;The American Naturalist&lt;/em&gt; (Whitlock &lt;em&gt;et. al.&lt;/em&gt; 2010) and &lt;em&gt;Evolution&lt;/em&gt; (Fairbairn, 2011) to deposit  data used in the study on the &lt;a href=&quot;http://datadryad.org/jdap&quot;&gt;Dryad digital repository&lt;/a&gt; (and deposit accompanying trees in TreeBASE), along with new requirements for data management from funders&lt;a href=&quot;http://www.nsf.gov/pubs/policydocs/pappguide/nsf11001/gpg_2.jsp#dmp&quot;&gt;such as NSF&lt;/a&gt; are rapidly changing the landscape of data availability.&lt;/p&gt;
&lt;p&gt;To take full advantage of available data, researchers must have simple, familiar and intuitive tools to access and manipulate the datasets.  Such tools could have dramatic effects on verification and validation in reproducible research, education, meta-analyses, and in opening doors to novel research questions.  The R language is widely used in comparative phylogenetics approaches; consequently allowing this package to be readily integrated into existing types of analysis.  In this talk I will suggest the motivation for this package and provide examples use cases before outlining where I would like to see it develop in the future.  The package is in active development; version history, example code and issue tracking can be found on the &lt;a href=&quot;http://github.com/cboettig/treeBASE&quot;&gt;github page&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;License&lt;/strong&gt;: GPL-v2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Source code&lt;/strong&gt;: &lt;a href=&quot;http://github.com/cboettig/treeBASE&quot;&gt;http://github.com/cboettig/treeBASE&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Whitlock M, McPeek M, Rausher M, Rieseberg L and Moore A (2010). “Data Archiving.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;175&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/650340&quot;&gt;http://dx.doi.org/10.1086/650340&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fairbairn D (2011). “The Advent of Mandatory Data Archiving.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;65&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01182.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01182.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/05/03/monday-3.html"/>
   <updated>2011-05-03T04:09:43-07:00</updated>
   <id>h/2011/05/03/monday-3</id>
   <content type="html">&lt;p&gt;Today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Application for CPB travel funds.  DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Faxed receipts from Felsenstein’s visit. DONE&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;seminar-on-species-trees&quot;&gt;Seminar on Species trees&lt;/h3&gt;
&lt;p&gt;Coop/Moore Seminar on *BEAST  (Heled &amp;amp; Drummond, 2009) and  BEST (Liu &lt;em&gt;et. al.&lt;/em&gt; 2008).&lt;/p&gt;
&lt;p&gt;Essential differences: BEST uses Mr. Bayes to compute probabilities over gene trees (over uniform prior).  Then estimates the species tree by importance sampling from this distribution to reflect constraints under a convergence model.  Integrates over effective population sizes rather than estimating (highly uncertain anyway), requires rooting, and a rather fast/loose implementation of ultra-metricizing trees.  In text notes in Mendeley Phylogenetics section.&lt;/p&gt;
&lt;p&gt;*BEAST offers a hierarchical approach (simultaneously estimating gene trees and species trees), estimates effective population sizes (with linear rate variation across phylogeny/through time).  Integrates over possible out groups.  Suffers midpoint rooting problems do to rate heterogeneity (whenever two comparably sized clades split by substantial variation in substitution rates, will root between them). Priors to get species tree prior 1) includes birth-death model for tree -&amp;gt;Prior on waiting times of speciation 2) Prior on coalescence times 3) Prior on topologies (uniform over unlabeled histories) Prior on gene trees, all as in BEAST/etc, also reflects the species trees&lt;/p&gt;
&lt;h2 id=&quot;warning-signals-in-an-economic-context&quot;&gt;Warning Signals in an Economic Context&lt;/h2&gt;
&lt;p&gt;Meeting with Jim and Alan 2:30-4p: (notes to be transcribed)&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Algorithms group:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Solved our little puzzle about Bayes factors, &lt;a href=&quot;http://www.carlboettiger.info/archives/1445&quot;&gt;corrected the notes.&lt;/a&gt; Decided we’ll actually meet sometime Wednesday to do MCMC.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Presentation for Wainwright lab tomorrow&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking at &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/index.html&quot;&gt;DataONE APIs&lt;/a&gt;.  Investigator API looks a bit &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/ITK_APIs.html&quot;&gt;sparse&lt;/a&gt;, but more on &lt;a href=&quot;http://mule1.dataone.org/ArchitectureDocs-current/apis/MN_APIs.html&quot;&gt;member node&lt;/a&gt; API.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm..&lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=503489&quot;&gt;Software Infrastructure for Sustained Innovation&lt;/a&gt; sounds interesting.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;cpb-travel-funding-application&quot;&gt;CPB travel funding application&lt;/h3&gt;
&lt;p&gt;Application requires a list of outreach activities.  Assembling here for my records.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;I attend CPB Tuesday seminars regularly. I participated in Fall Monte Carlo with Bruce Rannala on phylogenetic methods, and then voluntarily joined the Winter Monte Carlo with Sharon Strauss on broader impacts and public outreach, as it is a topic I am both interested and involved in.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I helped design and organize the CPB workshop on Hierarchical modeling this January.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I gave an presentation to the first year pop bio students during their orientation (entitled “What I wish I knew three years earlier…”) on computer based research tools for organizing literature, setting up an academic website, and for networking in sciences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I independently&lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;organized a CPB workshop&lt;/a&gt; on Data Management, to discuss the implications and opportunities created by new data archiving requirements from NSF and many of our journals. I recruited participation from four editors-in-chief of journals in ecology and evolution, and also the director and assistant director of the California &lt;a href=&quot;http://www.carlboettiger.info/archives/1284&quot;&gt;Digital archives&lt;/a&gt; to discuss the issues. I arranged that the event would be video-recorded for those that could not attend, which have been viewed 124 times last month.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Throughout this year I have I co-chaired an interdisciplinary group called the &lt;a href=&quot;http://gtc-blog.blogspot.com/&quot;&gt;Graduate Teaching Community&lt;/a&gt; which has been popular among CPB students and other graduate programs as a space to explore and share experiences, methodology, and read literature on studies in effective education strategies.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I also help organize a s&lt;a href=&quot;http://daviswiki.org/Davis_Open_Science&quot;&gt;tudent group on Open Science&lt;/a&gt;, which tries to promote awareness and potential of open access publishing, public data archiving, reproducible research, and tools and opportunities to make large-scale collaborative science possible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I volunteered as an instructor in the &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous%5FCharacter%5FEvolution%5F%28Boettiger%29%5F2011&quot;&gt;UC Davis Bodega Phylogenetics Workshop&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I served as the student member on the steering committee for the CPB program review.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I served on the student panel interviewing all of the candidates for the Dean of the College of Biological Sciences, and met with the Department of Ecology and Evolution Committee to discuss its recommendation.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Heled J and Drummond A (2009). “Bayesian Inference of Species Trees From Multilocus Data.” &lt;em&gt;Molecular Biology And Evolution&lt;/em&gt;, &lt;strong&gt;27&lt;/strong&gt;. ISSN 0737-4038, &lt;a href=&quot;http://dx.doi.org/10.1093/molbev/msp274&quot;&gt;http://dx.doi.org/10.1093/molbev/msp274&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liu L, Pearl D, Brumfield R and Edwards S (2008). “Estimating Species Trees Using Multiple-Allele Dna Sequence Data.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;62&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2008.00414.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2008.00414.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: Notes on Labrids, notes on Transforms and size-corrections</title>
   <link href="/2011/04/29/friday-notes-on-labrids-notes-on-transforms-and-size-corrections.html"/>
   <updated>2011-04-29T15:19:43-07:00</updated>
   <id>h/2011/04/29/friday-notes-on-labrids-notes-on-transforms-and-size-corrections</id>
   <content type="html">&lt;p&gt;The specific traits were:&lt;/p&gt;
&lt;p&gt;Oral Jaw traits&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;mouth-closing lever ratio (Close),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;mouth-opening lever ratio (Open), kinematic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;transmission coefficient of the oral jaws four-bar linkage (Jaw KT),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;adductor mandibulae (AM) muscle mass,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;premaxillary protrusion distance (Prot),&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;gape width (Gape),&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Exterior to the Oral Jaws, not expected to become unconstrained:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;levator posterior (LP) muscle mass: (Pharyngeal jaw muscle)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sterno-hyoideus (SH) muscle mass, (Primarily buccual cavity)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;adult body mass (Body mass).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See (WAINWRIGHT &lt;em&gt;et. al.&lt;/em&gt; 2004).&lt;/p&gt;
&lt;p&gt;Species: 122 in dataset (34 parrotfish, 88 wrasses)&lt;/p&gt;
&lt;p&gt;Species in phylogeny: 34 parrotfish. 80 wrasses.  Hmm, my phylogeny is missing 8 wrasses.&lt;/p&gt;
&lt;h2 id=&quot;transforms&quot;&gt;Transforms&lt;/h2&gt;
&lt;p&gt;In (Price &lt;em&gt;et. al.&lt;/em&gt; 2010), all linear lengths are log-transformed, masses are log transformed after cube-root transform. Why: An assumption of linear growth with percent, combined with an allometry that makes all linear dimensions increase together (hence mass increases by the cube of any increase in a length). Should evolution really preserve such an allometry? Does the cube root matter, since it’s just a multiplicative scaling constant once we are in log space?&lt;/p&gt;
&lt;p&gt;What about the lever ratios? assume they are untransformed? Also uncorrected for mass?&lt;/p&gt;
&lt;p&gt;These log-transformed traits are then used to compute contrasts. Contrasts are regressed through the origin against body-mass. This regression is then used to get residuals of the log-traits, and these residuals are modeled as BM or OU, etc.&lt;/p&gt;
&lt;p&gt;Size-correction can seem rather challenging.  Of course evolution of different traits (rates of evolution, shifts, etc) are correlated, and as most traits couple strongly to size and size explains a great deal of disparity, lack of size-corrections risk data that appears to be, say, showing shifts in rate of jaw evolution when it instead shows shifts in the rate of body-size evolution.  Hence the need for size correction.&lt;/p&gt;
&lt;p&gt;A common though non-ideal method is a linear regression of log-trait values against log-size.  This regression assumes that you have a bunch of measurements of (tooth size, body size) which are independent of each other. Because of the phylogeny, you don’t (the classic Felsenstein 1985 situation). The standard approach leaves you with independent contrasts, not the traits themselves.  Recall that we just want to do the regression correctly, we weren’t ready to remove the effect of phylogeny, since we’re still gearing up to do a comparative method .&lt;/p&gt;
&lt;p&gt;Revell takes great care to address this issue, (Revell, 2009) demonstrating how we get corrected values of the traits themselves, rather than being left with contrasts.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Types of analyses that might require transformed values for tip species include (but are not limited to): the estimation of phylogenetic signal (Freckleton et al. 2002; Blomberg et al. 2003); ancestral state reconstruction (Schluter et al. 1997); the phylogenetic analysis of variance (ANOVA) or analysis of covariance (ANCOVA) (Garland et al. 1993); and phylogenetic regression in which both slope and intercept (or prediction in the species space) are of concern (Rohlf 2001).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Getting the size-correction using the phylogeny does not mean that we are done with the phylogeny – the size-corrected values trait still have phylogenetic correlations, this just means we did the linear regression correctly in order to size correct in the first place, which as Revell cites, may not be the right way to size correct anyway, see Garcia_Berthou (2001), Freckleton(2002, 2009).&lt;/p&gt;
&lt;p&gt;This attempts to correct for body-mass in a phylogenetic manner – under the assumptions:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: lower-alpha&quot;&gt;
&lt;li&gt;&lt;p&gt;There is a linear relationship between body mass and other traits $ () ()$&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Though the relationship comes from a functional constraint, samples from a phylogeny aren’t independent – giving us a false representation of power.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;At this stage we aren’t trying to create independent samples of the functional process that connects to traits. We just want to identify what quantity we hypothesize follows our evolutionary model of little steps. We can convincingly argue that it isn’t the length – we think of growth by percent increases – a mutation equally likely to increase or decrease the length by 1%, say, rather than by 1cm. Logs do this for us.&lt;/p&gt;
&lt;p&gt;Unfortunately it seems difficult to argue that residuals have this same natural interpretation, particularly when we would like to insist that both the traits and the residuals follow one of the common models (i.e. Brownian motion).&lt;/p&gt;
&lt;p&gt;Assume the focal trait &lt;em&gt;X&lt;/em&gt; and the body size &lt;em&gt;Y&lt;/em&gt; are Brownian, in order to justify the Brownian-based phylogenetic Revell collection.  The residuals  &lt;em&gt;Z&lt;/em&gt; are differences between these:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \sigma_{X} dB_{1}&quot; alt=&quot;dX_t = \sigma_{X} dB_{1}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dY_t = \sigma_{Y} dB_{2}&quot; alt=&quot;dY_t = \sigma_{Y} dB_{2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The solutions to these are Gaussians, unfortunately the regression &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta&quot; alt=&quot;\beta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; doesn’t result in residuals that are also Gaussians,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z_t = X_t - \beta Y_t&quot; alt=&quot;Z_t = X_t - \beta Y_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Z_t = N(\sigma_X) - \beta N(\sigma_Y)&quot; alt=&quot;Z_t = N(\sigma_X) - \beta N(\sigma_Y)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;which is not normally distributed (sums of normals aren’t normals).  (Note that this differs from the standard regression in which there is only one source of noise, $ y ~ x + $).  The same is true for any of the common phylogenetic models, which are all multivariate normal distributions.&lt;/p&gt;
&lt;p&gt;It seems impossible to do the phylogenetic correction of (Revell, 2009) consistently.  One could instead assert that the ratio of some size to body-size is, say, Brownian, without asserting that the individual traits are Brownian, and have a perhaps more consistent size correction.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;WAINWRIGHT P, BELLWOOD D, WESTNEAT M, GRUBICH J and HOEY A (2004). “A Functional Morphospace For The Skull of Labrid Fishes: Patterns of Diversity in A Complex Biomechanical System.” &lt;em&gt;Biological Journal of The Linnean Society&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1095-8312.2004.00313.x&quot;&gt;http://dx.doi.org/10.1111/j.1095-8312.2004.00313.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revell L (2009). “Size-Correction And Principal Components For Interspecific Comparative Studies.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;63&lt;/strong&gt;. ISSN 00143820, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00804.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00804.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Reading Notes, presentation prep treebase error handling</title>
   <link href="/2011/04/28/thursday-reading-notes.html"/>
   <updated>2011-04-28T06:59:43-07:00</updated>
   <id>h/2011/04/28/thursday-reading-notes</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Oikos journal &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/03/01/welcome-to-the-oikos-blog/&quot;&gt;recently started&lt;/a&gt; a rather nice blog. A journal long responsible for some of the best examples of developing and confronting ecological theory with empirical results, with an commendable emphasis on general principles and synthesis, it’s nice to see them enter the Web2.0 ecosystem. Editor Jeremy Fox has a nice &lt;a href=&quot;http://oikosjournal.wordpress.com/2011/03/20/fox-quick-biography-and-some-thoughts-on-the-past-and-future-of-oikos/&quot;&gt;introduction&lt;/a&gt; to the goals of the blog – check out the “&lt;a href=&quot;http://oikosjournal.wordpress.com/category/new-ideas/&quot;&gt;new idea&lt;/a&gt;s” categories for worthwhile reading. Thanks to Ethan White’s &lt;a href=&quot;http://jabberwocky.weecology.org/2011/04/27/oikos-has-a-blog-blogrolling/&quot;&gt;post on Jabberwocky Ecology&lt;/a&gt; for bringing this to my attention. Particularly enjoyed the classic Borges quote linked as a pdf in the discussion of hand waving in ecology, which was so good I had to jot it down here&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;h4&gt;On Exactitude in Science Jorge Luis Borges, Collected Fictions, translated by Andrew Hurley.&lt;/h4&gt;
&lt;p&gt;…In that Empire, the Art of Cartography attained such Perfection that the map of a single Province occupied the entirety of a City, and the map of the Empire, the entirety of a Province. In time, those Unconscionable Maps no longer satisfied, and the Cartographers Guilds struck a Map of the Empire whose size was that of the Empire, and which coincided point for point with it. The following Generations, who were not so fond of the Study of Cartography as their Forebears had been, saw that that vast Map was Useless, and not without some Pitilessness was it, that they delivered it up to the Inclemencies of Sun and Winters. In the Deserts of the West, still today, there are Tattered Ruins of that Map, inhabited by Animals and Beggars; in all the Land there is no other Relic of the Disciplines of Geography.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;—Suarez Miranda, Viajes de varones prudentes, Libro IV,Cap. XLV, Lerida, 1658))&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Excellent/very relevant piece on fluctuations in fish population dynamics, (Shelton &amp;amp; Mangel, 2011).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;New warning signals &lt;a href=&quot;http://www.jstor.org/stable/full/10.1086/659945&quot;&gt;article&lt;/a&gt; by Vasilis in Am Nat.(Dakos &lt;em&gt;et. al.&lt;/em&gt; 2011) ((Hmm.. JSTOR uses DOIs in its URL, but Am Nat doesn’t seem to process the dois for the ahead-of-print articles. Hence no automatic citation)). And of course Carpenter et. al’s empirical study in a lake ecosystem, in &lt;em&gt;Science&lt;/em&gt;(Carpenter &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ecological monographs has a nice article on stability, resilience and phase shifts in the classic otter-urchin system, nice alterantive stable states example despite temporal and site heterogeneity. (Watson &amp;amp; Estes, 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Species and trait diversification rates: Science article in electric fishes. (based on Brownie. Supplement claims AICc avoids type I errors associated with small sample size in chi^2, unfortunately I think the error rate remains high.) Diversification rates follow (Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007), comparing fit by likelihood ratio, estimated mu/lambda by trying 4 values,&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Given our small dataset and the difficulty in estimating extinction rates from comparative data (Rabosky, 2010), we set the relative extinction fraction to ε = μ / λ rather than attempting to estimate it from the data (Alfaro &lt;em&gt;et. al.&lt;/em&gt; 2009). We repeated our analyses using a range of ε values (ε = 0, 0.5, 0.9, and 0.99) (Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hmm… irregular optimization method… Highlights the need for adequate power and estimates there-of to make inferences from phylogenetic data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Also in &lt;em&gt;Science&lt;/em&gt; Sidlauskas and colleagues make the most of Facebook (Sidlauskas &lt;em&gt;et. al.&lt;/em&gt; 2011) for fish ids.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;hastings-lab-presentation&quot;&gt;Hastings lab presentation&lt;/h2&gt;
&lt;p&gt;Presentation in Hastings lab on Warning Signals.  Background. methods. Results.&lt;/p&gt;
&lt;h2 id=&quot;prep-wainwright-lab-presentation&quot;&gt;Prep Wainwright lab presentation&lt;/h2&gt;
&lt;h3 id=&quot;next-tuesday&quot;&gt;(next Tuesday)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Replicate (Price &lt;em&gt;et. al.&lt;/em&gt; 2010) (on full Labrid dataset?)&lt;/li&gt;
&lt;li&gt;Repeat with release of constraint model, unconstrained model&lt;/li&gt;
&lt;li&gt;MCMC implementation?&lt;/li&gt;
&lt;li&gt;Assembling TreeBASE demo and further goals&lt;/li&gt;
&lt;li&gt;Attempt improved optimizer for TreePar package&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;coding&quot;&gt;Coding&lt;/h2&gt;
&lt;p&gt;Exploring better error handling for TreeBASE package. From Duncan:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
ans &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;try&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;read.nexus&lt;/span&gt;(con))
&lt;span class=&quot;co&quot;&gt;# and then check the class of ans to see if it is &amp;quot;try-error&amp;quot;,&lt;/span&gt;
 if(&lt;span class=&quot;kw&quot;&gt;is&lt;/span&gt;(ans, &lt;span class=&quot;st&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;)) {
     &lt;span class=&quot;co&quot;&gt;# do something for the error&lt;/span&gt;
 } else {
      &lt;span class=&quot;co&quot;&gt;# you have your object&lt;/span&gt;
     ....
 }&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;The second approach is to manage the HTTP request for the document so that you can detect when the file is not available. You can use either getURL() or getURLContent() in the RCurl package.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
 txt =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;getURL&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;http://purl.org/phylo/treebase/phylows/tree/TB2:Tr9917?format=nexus&amp;quot;&lt;/span&gt;,
               &lt;span class=&quot;dt&quot;&gt;header =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;followlocation =&lt;/span&gt; &lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
 &lt;span class=&quot;kw&quot;&gt;parseHTTPHeader&lt;/span&gt;(txt)&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
&lt;p&gt;In this case, the HTTP server returns a status code of 302 to indicate that the URL has moved. Following that redirection, we get a 200 status indicating success and the content is the HTML you see in your browser that indicates authorization issues. So to verify an error, you’d have to parse the HTML and look for the tell-tale message.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It would be better if the server returned a 40* error status indicating authorization problems.When getURL() returns regular content, you can pass that to read.nexus() as a text connection, e.g.&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
  o =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;read.nexus&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;textConnection&lt;/span&gt;(txt))&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;play-ubuntu-release&quot;&gt;Play: ubuntu release&lt;/h2&gt;
&lt;p&gt;And wow, the new Ubuntu release (11.04, Natty Nawhal) is no small shift. OpenOffice-&amp;gt;LibreOffice, Rhythmbox replaced with Banshee, and omg, the veritable GNOME interface replaced with something I’ve never heard of (&lt;a href=&quot;http://en.wikipedia.org/wiki/Unity_%28desktop_environment%29&quot;&gt;Unity&lt;/a&gt;, developed by Canonical). Described as a “smart-phone style” interface and “easier than a Mac”, I don’t know – if those things should count as universal praise. Overall pretty &lt;a href=&quot;http://www.zdnet.com/blog/open-source/what-you-need-to-know-about-the-new-ubuntu/8760&quot;&gt;promising&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Shelton A and Mangel M (2011). “Fluctuations of Fish Populations And The Magnifying Effects of Fishing.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1100334108&quot;&gt;http://dx.doi.org/10.1073/pnas.1100334108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Kéfi S, Rietkerk M, van Nes E and Scheffer M (2011). “Slowing Down in Spatially Patterned Ecosystems at The Brink of Collapse.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;177&lt;/strong&gt;. ISSN 00030147, &lt;a href=&quot;http://dx.doi.org/10.1086/659945&quot;&gt;http://dx.doi.org/10.1086/659945&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Carpenter S, Cole J, Pace M, Batt R, Brock W, Cline T, Coloso J, Hodgson J, Kitchell J, Seekell D, Smith L and Weidel B (2011). “Early Warnings of Regime Shifts: A Whole-Ecosystem Experiment.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1203672&quot;&gt;http://dx.doi.org/10.1126/science.1203672&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Watson J and Estes J (2011). “Stability, Resilience, And Phase Shifts in Rocky Subtidal Communities Along The West Coast of Vancouver Island, Canada.” &lt;em&gt;Ecological Monographs&lt;/em&gt;, &lt;strong&gt;81&lt;/strong&gt;. ISSN 0012-9615, &lt;a href=&quot;http://dx.doi.org/10.1890/10-0262.1&quot;&gt;http://dx.doi.org/10.1890/10-0262.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D, Donnellan S, Talaba A and Lovette I (2007). “Exceptional Among-Lineage Variation in Diversification Rates During The Radiation of Australia’S Most Diverse Vertebrate Clade.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;274&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2007.0924&quot;&gt;http://dx.doi.org/10.1098/rspb.2007.0924&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D (2010). “Extinction Rates Should Not be Estimated From Molecular Phylogenies.” &lt;em&gt;Evolution&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2009.00926.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2009.00926.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alfaro M, Santini F, Brock C, Alamillo H, Dornburg A, Rabosky D, Carnevale G and Harmon L (2009). “Nine Exceptional Radiations Plus High Turnover Explain Species Diversity in Jawed Vertebrates.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;106&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0811087106&quot;&gt;http://dx.doi.org/10.1073/pnas.0811087106&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sidlauskas B, Bernard C, Bloom D, Bronaugh W, Clementson M and Vari R (2011). “Ichthyologists Hooked on Facebook.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;332&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.332.6029.537-c&quot;&gt;http://dx.doi.org/10.1126/science.332.6029.537-c&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/04/27/wednesday-4.html"/>
   <updated>2011-04-27T14:58:09-07:00</updated>
   <id>h/2011/04/27/wednesday-4</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;7:30-9:30 Review for Theoretical Ecology&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Profiling wrightscape&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Compile with profiling (-g -pg flags, in make profile). Run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;valgrind --leak-check-full ./wrightscape.exe&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to remove memory links. Run&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;valgrind --tool=callgrind
kcachegrind callgrind.out.&amp;lt;###&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For profiling information&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5063/5661945204_f60bfe6c64_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Troubleshooting implementation of restricted-domain functions.  Cannot be wright_tree since they have to know their likelihood method.  Will need an indicator to their type. Some troubleshooting of the simulation method too: my pmc’s montecarlotest() is set up so that simulate() can return the data set directly that is passed to update() or return a list object with the dataset in $rep.1.  Up and running now.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Troubleshoot ouch-style&lt;/strong&gt; search parameters. DONE – simulation didn’t include a rep command to copy a single alpha and sigma to be same in each regime.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Check convergence&lt;/strong&gt;: sometimes the brownie-style search regime outperforms the wright-style (only 16 reps for testing purposes).  Add convergence score to getParameters. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Should be reported by C&lt;/strong&gt; function version as well)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Convergence checks should be added to plot/summary functions from montecarlotest() output&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running 160 reps of (my) brownie() vs wright() (on left) and also of brownie() vs wrightscape() (on right) at nice 10 on zero.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5063/5662235611_503cb5522e_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5189/5662211039_d8b525eb2a_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;data-processing&quot;&gt;Data processing&lt;/h2&gt;
&lt;p&gt;Need regimes for intramandibular joint: &lt;em&gt;Chlorurus&lt;/em&gt;, &lt;em&gt;Hipposcarus&lt;/em&gt; common ancestor. Easily done with maticce package:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;intramandibular &amp;lt;- paintBranches(mrcaOUCH(c(&amp;quot;Chlorurus_sordidus&amp;quot;, &amp;quot;Hipposcarus_longiceps&amp;quot;), labrid$tree), labrid$tree, c(&amp;quot;other&amp;quot;,&amp;quot;intramandibular&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that we need to look up and match species names exactly, otherwise instead of an error maticce assumes one of the species just isn’t in our tree and simply returns the root node.&lt;/p&gt;
&lt;p&gt;Implemented each as a two regime model and combined as a three-regime model.  combining requires arbitrarily assigning the branch between them so that it doesn’t become a separate node.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5104/5663194868_444e683067_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;convergence-issues&quot;&gt;Convergence Issues&lt;/h2&gt;
&lt;p&gt;Clear examples of convergence issues on Nelder Mead stemming from initial conditions.  For instance: even hansen routine can’t get the best optimum for two shifts (three regimes) when given the same starting points as it was for two regimes:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;   ou2_intra &amp;lt;- hansen(trait, labrid$tree, regime=intramandibular, .01, .01)
&amp;gt;   ou3 &amp;lt;- hansen(trait, labrid$tree, regime=two_shifts, .01, .01 )
&amp;gt;   loglik(ou3) - loglik(ou2_phar)
[1] -2.473179&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Actually does worse than the model nested within it. Changing the starting conditions (using those from the nested model), it manages to find a better optimum.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt;   ou3 &amp;lt;- hansen(trait, labrid$tree, regime=two_shifts, ou2_phar@sqrt.alpha, sigma=ou2_phar@sigma )
&amp;gt;   loglik(ou3) - loglik(ou2_phar)
[1] 1.079799&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Convergence is certainly a larger issue with more parameters. One way to address this is focusing on comparing subcases of the general form. A particularly interesting one is the &lt;strong&gt;Release of Constraint&lt;/strong&gt;: global theta and sigma, regime-specific alpha. IMPLEMENTED&lt;/p&gt;
&lt;p&gt;Overall, best addressed by algorithmic methods for dealing with multiple peaks in the likelihood surface, such as simulated annealing or probably better, an EM algorithm ((Looking for packages to do this well, though may need a specific implementation. Will discuss in our Algorithms group in a few weeks Potentially take a closer look at &lt;a href=&quot;http://en.wikibooks.org/wiki/Data_Mining_Algorithms_In_R/Clustering/Expectation_Maximization_%28EM%29&quot;&gt;this tutorial&lt;/a&gt; and &lt;a href=&quot;http://rss.acs.unt.edu/Rdoc/library/mclust/html/em.html&quot;&gt;em() in mclust&lt;/a&gt; package.)). Given the computational effort of these approaches, probably worth starting on the fully Bayesian implementation too.&lt;/p&gt;
&lt;p&gt;Meanwhile, based on likelihoods alone, results seem promising, though needs some fiddling to test for convergence. For instance:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; loglik(release_twoshifts)
[1] 69.42358
&amp;gt; loglik(release_intra)
[1] 66.88511
&amp;gt; loglik(release_phar)
[1] 31.42613
&amp;gt; loglik(wright_twoshifts)
[1] 67.65605
&amp;gt; loglik(wright_intra)
[1] 70.40246&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/ad3bd09f7d6b958c019f329415f6fcfdbf267367/demos/model_fits.R&quot;&gt;code&lt;/a&gt; for full example.&lt;/p&gt;
&lt;h2 id=&quot;misc-r&quot;&gt;Misc R&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;R with AWS EC2  &amp;amp; Hadroop with &lt;a href=&quot;http://www.stat.purdue.edu/~sguha/rhipe/&quot;&gt;RHIPE&lt;/a&gt; or &lt;a href=&quot;http://code.google.com/p/segue/&quot;&gt;Segue&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R gui interfaces with tcltk: &lt;a href=&quot;http://ideas.repec.org/a/jss/jstsof/17i09.html&quot;&gt;rpanel&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Accessing phylognenies in TreeBASE from R</title>
   <link href="/2011/04/26/accessing-phylognenies-in-treebase-from-r.html"/>
   <updated>2011-04-26T07:10:22-07:00</updated>
   <id>h/2011/04/26/accessing-phylognenies-in-treebase-from-r</id>
   <content type="html">&lt;p&gt;I’ve recently ((&lt;a href=&quot;http://www.carlboettiger.info/archives/1496&quot;&gt;25 April&lt;/a&gt;, &lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;8 April&lt;/a&gt;)) begun a project to see if I can search for and load phylogenies from &lt;a href=&quot;http://www.treebase.org/&quot;&gt;TreeBASE&lt;/a&gt; directly into R. Thanks to the rather brilliant API in place (documented on the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;treeBASE wiki&lt;/a&gt;) for TreeBASE, some advice from &lt;a href=&quot;http://rutgervos.blogspot.com/&quot;&gt;Rutger Vos&lt;/a&gt; (TreeBASE developer), and some &lt;a href=&quot;http://en.wikipedia.org/wiki/XPath&quot;&gt;xpaths&lt;/a&gt; R code from Gabe Becker (stats grad student, UC Davis), I have a (mostly) working demonstration.  As I get a chance, I’ll be adding the rest of the &lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;queries available in the API&lt;/a&gt;, improve the error handling and give some more thought to a user interface.  A long cry from a mature package, but a decent proof-of-principle and a nice test-piece for me to learn a bit of how to make web calls and parse xml from R.&lt;/p&gt;
&lt;p&gt;The package is being developed in my &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/treebase&quot;&gt;Comparative Methods repository&lt;/a&gt;(will probably fork into it’s own repository once its a bit more mature), and a basic version is packaged on the &lt;a href=&quot;https://github.com/downloads/cboettig/Comparative-Phylogenetics/treebase_0.0-1.tar.gz&quot;&gt;downloads&lt;/a&gt; tab.&lt;/p&gt;
&lt;h2 id=&quot;introduction-to-package&quot;&gt;Introduction to package:&lt;/h2&gt;
&lt;p&gt;My goal is to essentially mimic the &lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;search capabilities&lt;/a&gt;provided by the &lt;a href=&quot;http://www.treebase.org/treebase-web/search/studySearch.html&quot;&gt;web front-end&lt;/a&gt; using the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;API&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To grab all the phylogenetic trees by Huelsenbeck:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Huelsenbeck = search_treebase(&amp;quot;Huelsenbeck&amp;quot;, by=&amp;quot;author&amp;quot;, section=&amp;quot;study&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The first term is the search query.  The second term indicates that it is an author.  The third term specifies that we query by studies, essentially what tab we’re on from the search window.  The web search is organized under different tabs, which have somewhat different search options.  The function returns all the trees in phylo format, and prints the url query so that the search can be explored manually.&lt;/p&gt;
&lt;p&gt;We can search by taxa (appearing in tips only – handling inclusive taxonomy is more challenging…):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;whales = search_treebase(&amp;quot;Cetacea&amp;quot;, by=&amp;quot;taxon&amp;quot;, section=&amp;quot;taxon&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;There are quite a few kinds of searches I’d like to be able to do, but don’t seem available through the API.  For instance, It would be nice to search for trees with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;* branch lengths&lt;/em&gt;* (many early trees are topology only), or more particularly, for chronograms (most comparative methods applications need time-calibrated trees);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;by algorithm&lt;/strong&gt; (RaxML, MrBayes, etc).  TreeBASE stores (and runs?) this &lt;a href=&quot;http://treebase.org/treebase-web/search/study/analyses.html?id=2218&quot;&gt;analysis&lt;/a&gt; information.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add remaining queries&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Combining queries with booleans&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;improved user interface and documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Handling errors - most problematic right now I get errors on &lt;a href=&quot;http://treebase.org/treebase-web/search/study/anyObjectAsRDF.rdf?namespacedGUID=TB2:Tr9917&quot;&gt;trees&lt;/a&gt; with access denied while submissions are still in process.  Apparently this is a bug in treebase, hopefully fixable.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;So far this is just the interface to the phylows commands. Still have to figure out what can be done with the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;Open Archives Initiative Protocol for Metadata Harvesting (OAI-PMH)&lt;/a&gt; interface, since some functions like Author search are already in phylows.  Bill points out that this would allow searching by date of publication, and also will interface with Data Dryad.&lt;/p&gt;
&lt;p&gt;Also interested in exploring SQL dumps.&lt;/p&gt;
&lt;h2 id=&quot;why&quot;&gt;Why&lt;/h2&gt;
&lt;p&gt;Rutger Vos gives an &lt;a href=&quot;http://www.slideshare.net/rvosa/phyloinformatics-and-the-semantic-web&quot;&gt;excellent introduction&lt;/a&gt; to the concept of “Phyloinformatics,” embedded below. As R is becoming a standard for applied phylogenetic analyses, I think it would be particularly useful to be able to access this potential from directly within R.&lt;/p&gt;
&lt;p&gt;[iframe http://www.slideshare.net/slideshow/embed_code/7339099 425 355]&lt;/p&gt;
&lt;p&gt;Of course this isn’t what we really want to do.  There’s nothing special about the phylogeny from a particular study–an arbitrary assembly of taxa and methods.  Or as Rod Page so eloquently put it,&lt;/p&gt;
&lt;p&gt;[blackbirdpie id=“53849924894343168”]&lt;/p&gt;
&lt;p&gt;The ideal inference pathway goes back to the raw data each time – draw the loci of interest for the taxa of interest from Genbank and start from scratch with a fully hierarchical inference.  Unfortunately, this is not always practical&lt;/p&gt;
&lt;p&gt;Yet science progresses by extrapolations and generalizations of these arbitrary data sets that stand behind the conclusions brandished from the titles of so many publications.  Re-analyzing the data behind these studies will only happen if it is easy, so I hope this can greatly lower the threshold.  Hopefully we can replace the more common:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scientist A studies dataset B with method C and concludes D&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scientist E studies dataset F with method G and contradicts D&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;with&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Scientist E studies dataset B (&amp;amp; F) with methods C (&amp;amp; G) and concludes…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Of course, re-analysis and reproducible research isn’t as sexy as it should be (arguably it’s impact is much greater, but somehow we mistake novelty for impact sometimes) so it’s fortunate that a good database interface doesn’t just mean better science, but also new science – comparing methods, using methods requiring very large datasets for adequate power or to directly test rather than assume generality. ((i.e. test vs assume key innovations are important for adaptive radiations in bees because they appear important in fish, etc.))&lt;/p&gt;
&lt;p&gt;I think this exercise should not only be practically useful in helping me run more analyses faster, but hope it has some farther-reaching pedagogical value in the possibilities and challenges in interfacing with  real linked data in large repositories.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>TreeBASE interface continued...</title>
   <link href="/2011/04/25/treebase-interface-continued.html"/>
   <updated>2011-04-25T03:11:31-07:00</updated>
   <id>h/2011/04/25/treebase-interface-continued</id>
   <content type="html">&lt;p&gt;Returning to exploration of treeBASE interface and my attempt to implement an R interface the API (&lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;earlier entry&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://rutgervos.blogspot.com/&quot;&gt;Rutger Vos&lt;/a&gt; has gotten me started, pointing out that the handling of the metadata interface is done separately from the handling of the content (phylogenies and matrices).&lt;/p&gt;
&lt;h2 id=&quot;meta-data&quot;&gt;Meta data&lt;/h2&gt;
&lt;p&gt;Meta-data interface uses the &lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;Open Archives Initiative Protocol for Metadata Harvesting (OAI-PMH)&lt;/a&gt; which has a &lt;a href=&quot;http://www.oaforum.org/tutorial/english/page1.htm&quot;&gt;beginners tutorial&lt;/a&gt;.  The tutorial provides broad background about the initiative and the basic xml schema, but I didn’t find it particularly accessible or get a clear idea of how interacting with the protocol works.&lt;/p&gt;
&lt;p&gt;There’s a wiki for the &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;OAI-PMH in TreeBASE&lt;/a&gt; that doesn’t have much information, but suggests that it has support for 6 functions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Identify&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Metadata formats&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Sets&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Records&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get Records (matching certain conditions such as id)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List Identifiers&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;which are look like they are accessed by providing a url which returns an xml form with the information.  Not sure what software is expected/avaliable to read/parse this information.&lt;/p&gt;
&lt;p&gt;First step: see If I can get some example queries working from a desktop inquiry to a human-readable output.&lt;/p&gt;
&lt;h2 id=&quot;tree-data&quot;&gt;Tree Data&lt;/h2&gt;
&lt;p&gt;Access to the tree data is provided by phylows, which has a bit more extensive &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;entry on the treebase wiki&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The interface also specifies a url which begins with purl and returns a page of the treebase website, i.e.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&quot;&gt;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The query can be specified to return rss format instead,&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://purl.org/phylo/treebase/phylows/taxon/find?query=dcterms.title==%22Homo%20sapiens%22&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;http://purl.org/phylo/treebase/phylows/taxon/find?query=dcterms.title==%22Homo%20sapiens%22&amp;amp;format=rss1&amp;amp;recordSchema=tree&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Will have to learn to specify these urls, but so far I gather that the query above searches for terms Homo Sapiens in the title and requests a return fromat of rss and schema of being a tree(?)&lt;/p&gt;
&lt;p&gt;Would have guessed the first url could be returned as a rss object as well by adding: &lt;a href=&quot;http://purl.org/phylo/treebase/phylows/study/find?query=dcterms.contributor=Huelsenbeck+or+dcterms.contributor=Ronquist&amp;amp;format=rss1&amp;amp;recordSchema=tree&quot;&gt;&amp;amp;format=rss1&amp;amp;recordSchema=tree&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;but no such luck.&lt;/p&gt;
&lt;p&gt;I think the goal will be to parse this output using one of the R interfaces to RSS/RDF. Not sure the connection between RSS and RDF here, but looking at &lt;a href=&quot;http://biostar.stackexchange.com/questions/2069/how-do-i-import-rdf-data-into-r&quot;&gt;Rrdf&lt;/a&gt; as an option.&lt;/p&gt;
&lt;p&gt;The output can be a Nexus tree or a NeXML tree, the latter having the advantage of being RDFa compliant (but much less commonly used). Looks like this’ll be a steep learning curve…&lt;/p&gt;
&lt;h2 id=&quot;first-successes&quot;&gt;First successes&lt;/h2&gt;
&lt;p&gt;Gabriel Becker got me started on accessing files from urls and xml parsing with a simple code snippet, so now I am up and running.  For instance, I can grab every tree contributed by Price to TreeBASE and load them into R, s&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/f24c2011b848d83bdfa66aee89ad65e03a502211/treebase/demos/treebase.R&quot;&gt;ee example&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Code is now in development in my &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/treebase&quot;&gt;treebase&lt;/a&gt; directory (in Comparative Phylognetics) on github. Ready to start mapping out what functions should be implemented.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Audience readable notebook entry about the package&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;List of possible queries with examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Function to turn queries into phylows urls.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Function to parse xml and grab the nexus files or import character matrices.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Update or upload metadata information?  Does tree have branch lengths?  Summary statistics about tree (number of taxa, etc).  Generate independent database of this information?&lt;/p&gt;
&lt;h2 id=&quot;background-and-useful-references&quot;&gt;Background and Useful references&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rutger’s &lt;a href=&quot;http://www.slideshare.net/rvosa/phyloinformatics-and-the-semantic-web&quot;&gt;slides&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;Treebase Wiki on the API&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://spreadsheets.google.com/pub?key=rL--O7pyhR8FcnnG5-ofAlw&quot;&gt;Types of possible queries&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>wrightscape profiling</title>
   <link href="/2011/04/24/wrightscape-profiling.html"/>
   <updated>2011-04-24T11:50:11-07:00</updated>
   <id>h/2011/04/24/wrightscape-profiling</id>
   <content type="html">&lt;p&gt;Optimization at the R level is substantially slower than at the C level:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;system.time(wright_test = wright(data,tree,regimes, alpha=ou2@sqrt.alpha^2, sigma=ou2@sigma))
   user  system elapsed
 82.157   0.068  82.346
system.time(ws2 = wrightscape(trait, labrid$tree, regime=labrid$regimes, (ou2@sqrt.alpha)^2, ou2@sigma, theta=ou2@theta[[1]]))
iter:   229, llik = 34.750, size = 0.000,
 par values =  0.000069  2.456353  0.000026  0.225234  0.973002  0.488713
   user  system elapsed
  4.964   0.000   4.971&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is possibly due to repeating the lca matrix calculation. As it’s not done in a separate R function yet, the profiler cannot tell us this.&lt;/p&gt;
&lt;p&gt;Updated code to use a separate function (already had a separate C function in anticipation of this, so just needed a separate wrapper for it. Wrote a bit of type-checking, error handling, and documentation for the new functions, still could be expanded.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;system.time(wright_test2 &amp;lt;- wright(data,tree,regimes, alpha=ou2@sqrt.alpha^2, sigma=ou2@sigma))
   user  system elapsed
  7.329   0.028   7.372&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now it’s still slower, but only by factor of 2, instead of a factor of 20.&lt;/p&gt;
&lt;p&gt;Next, will check comparison of the parameter convergence:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; wright_test2
$par
[1]  2.2659839 -3.2141702  4.5873655  6.0465643  0.6557786 -0.6525537  0.2020016

$value
[1] -42.07038

$counts
function gradient
     502       NA 

$convergence
[1] 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Should clearly add labels to the output. This is Xo, alpha1, alph2, sigma1, sigma2, theta1, theta2. Already a problem that it has estimated a negative alpha – probably as a consequence, the algorithm has terminated but not converged.&lt;/p&gt;
&lt;p&gt;The likelihood calculation does not include checks on parameter values that must be positive – as seen by $value, the likelihood function is still being evaluated ((just to verify this, consider&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; multiOU_lik(data, tree, regimes, alpha=wright_test2$par[2:3], sigma=wright_test2$par[4:5], theta=wright_test2$par[6:7], X=wright_test2$par[1])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;))&lt;/p&gt;
&lt;p&gt;We can add error handling for these values or try a bounded optimizer – it would be nice to have some more rigorous guidelines on choosing the numerical optimizer and handling in this case. Particularly curious how well the simplex and other methods due in facing local peaks.&lt;/p&gt;
&lt;p&gt;Bounded optimizer objects to non-finite values. Adding simple -Inf likelihood condition on negative parameters and increasing maximum iterations beyond 2000, Nelder-Mead still fails to converge, exiting with degenerate simplex, though gets a likelihood of similar values. Values are comparable but not very close matches to the gsl algorithm in the C code. Probably worth exploring with simulated annealing too.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ws2$data     ws2$tree     ws2$regimes  ws2$loglik   ws2$Xo       ws2$alpha    ws2$theta    ws2$sigma    
&amp;gt; c(ws2$Xo, ws2$alpha, ws2$theta, ws2$sigma)
[1] 2.252339e-01 6.919340e-05 2.456353e+00 2.593147e-05 2.252339e-01
[6] 9.730023e-01 4.887133e-01
&amp;gt; wright_test2$par
[1]  1.918392e+00  7.880160e-10  5.834572e+00  5.045619e+00  6.890863e-01
[6] -8.452617e+00  2.207771e-01&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;see git log for details.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Release of constraint in labrids?</title>
   <link href="/2011/04/22/release-of-constraint-in-labrids.html"/>
   <updated>2011-04-22T11:45:05-07:00</updated>
   <id>h/2011/04/22/release-of-constraint-in-labrids</id>
   <content type="html">&lt;p&gt;Started writing outline, assembling references&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewed brownie-lite as an alternative model to compare the release-of-constraint, but looks like it will be easier just to modify wrightscape code to keep parameters fixed or global.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing a wrapper to move the likelihood function for wrightscape to up to the R level.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure out which function to pass up: easiest is to build off of fit_model, but just evaluate, don’t optimize the likelihood.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5304/5643702011_29ceff81b6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;doxygen-documentation&quot;&gt;Doxygen Documentation&lt;/h2&gt;
&lt;p&gt;Completing the doxygen documentation of the wrightscape source code to make it easier to navigate&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;doxygen -g makes the Doxyfile&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;doxygen Doxyfile makes the documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;doxygen -u Doxyfile updates the Doxyfile. Not sure when this is necessary&lt;/p&gt;
&lt;p&gt;EXTRACT_ALL = YES Extract documentation even from those elements you haven’t yet commented. HAVE_DOT = YES Use Graphviz for class and collaboration diagrammes. CALL_GRAPH = YES Generate a dependency graph for functions and methods. OUTPUT_DIRECTORY = ../doc/Doxygen&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.vim.org/scripts/script.php?script_id=987&quot;&gt;Vim Doxygen toolkit&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;:Dox&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;for function documentation,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:DoxLic&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for License,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;:DoxAuthor&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;for file header (author, title, etc).  See link above for details.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;erg! any typo in latex equation that won’t parse will silently break documentation for rest of file in Doxygen&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;p&gt;Moving likelihood up to the R level.  Steps:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Update function call for calc_lik to conform to the R .C interface (double and integer pointers only).  DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write a C wrapper function to call the calculation of the last common ancestor, since we probably don’t want to be repeating this calculation each time. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write wrapper R function for the calc_lik function DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write example functions calling the optimizer routine on a function defined with a subset of parameters from the full version, to mimic ouch, brownie, etc. DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare convergence quality and speed&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/04/20/wednesday-3.html"/>
   <updated>2011-04-20T15:24:25-07:00</updated>
   <id>h/2011/04/20/wednesday-3</id>
   <content type="html">&lt;h3 id=&quot;reading&quot;&gt;Reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;GrrlScientist &lt;a href=&quot;http://www.guardian.co.uk/science/punctuated-equilibrium/2011/apr/19/1&quot;&gt;disagrees&lt;/a&gt; with M. Nielsen (and I add my 2c: Open Science might not give you the credit you need to get a job in today’s science culture, but hey, in all probability, neither will the traditional strategy, so have fun).&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Nature&lt;/em&gt; says: &lt;a href=&quot;http://www.nature.com/news/2011/110419/full/472276a.html&quot;&gt;Too many PhDs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Some &lt;a href=&quot;http://www.computerworld.com/s/article/print/9215504/22_free_tools_for_data_visualization_and_analysis?taxonomyName=Applications&amp;amp;taxonomyId=18&quot;&gt;useful tools&lt;/a&gt; for data visualization: particularly want to try:&lt;a href=&quot;http://www.google.com/fusiontables/public/tour/index.html&quot;&gt;Fusion Tables&lt;/a&gt;, &lt;a href=&quot;http://gephi.org/&quot;&gt;Gephi&lt;/a&gt;, &lt;a href=&quot;http://www.dataviz.org/&quot;&gt;DataViz&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Mendeley groups don’t display (or share) stars. Can only sort A-Z or by most recent. need to make my Mendeley tags more useful. No luck getting the mendeley wp-plugin working.  Notes on Mendeley articles are dropped from the copy when adding it to a group (but remain in the personal collection).&lt;/li&gt;
&lt;li&gt;Discussing tree-base api with Rutger.  Suggested starting by looking into &lt;a href=&quot;http://biostar.stackexchange.com/questions/2069/how-do-i-import-rdf-data-into-r&quot;&gt;RSS/RDF for R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Huh, you can&lt;a href=&quot;http://blog.stackoverflow.com/2009/01/using-your-own-url-as-your-openid/&quot;&gt;use your domain&lt;/a&gt; as an openid&lt;/li&gt;
&lt;li&gt;New article from Scheffer lab out in &lt;em&gt;Oikos&lt;/em&gt; on abrupt regime shifts, though not in trying to forecast them.  Haven’t given a careful read but looks like a very nice model-driven treatment.  (Hilt &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;Overview of bet-hedging in empirical systems from PRSB (Simons, 2011).  And it looks like Jamie’s selected to discuss this one in Baskett lab meeting tomorrow.&lt;/li&gt;
&lt;li&gt;Structural equation modeling and multivariate comparative methods in PNAS, for PDG discussion this week: (Santos &amp;amp; Cannatella, 2011)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Working on restructuring phylogenetics likelihood manuscript.  Almost there, sending updated version to Yaniv.&lt;/li&gt;
&lt;li&gt;Final scheduling for Felsenstein’s visit.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Began testing Rrdf package.&lt;/li&gt;
&lt;li&gt;reviewing my implementation of OpenMP compiling in stochastic population dynamics code.  Was functional at this &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/2473d86dfc8fdc17f9a0ed539d11c44a01928b21&quot;&gt;earlier stage&lt;/a&gt;, since has been disabled in that package (mostly since looping over simulations with snowfall R package instead).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, Joe Felsenstein arrives today, meeting him at the airport around 5pm before dinner with the usual suspects.  Looking forward to the seminar and banquet tomorrow.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Hilt S, Köhler J, Kozerski H, van Nes E and Scheffer M (2011). “Abrupt Regime Shifts in Space And Time Along Rivers And Connected Lake Systems.” &lt;em&gt;Oikos&lt;/em&gt;, &lt;strong&gt;120&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1600-0706.2010.18553.x&quot;&gt;http://dx.doi.org/10.1111/j.1600-0706.2010.18553.x&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Simons A (2011). “Modes of Response to Environmental Change And The Elusive Empirical Evidence For Bet Hedging.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2011.0176&quot;&gt;http://dx.doi.org/10.1098/rspb.2011.0176&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Santos J and Cannatella D (2011). “Phenotypic Integration Emerges From Aposematism And Scale in Poison Frogs.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1010952108&quot;&gt;http://dx.doi.org/10.1073/pnas.1010952108&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Reading and thoughts</title>
   <link href="/2011/04/19/tuesday-reading-and-thoughts.html"/>
   <updated>2011-04-19T05:32:53-07:00</updated>
   <id>h/2011/04/19/tuesday-reading-and-thoughts</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Taking twenty minutes to take down some notes and reactions to this morning’s reading.&lt;/p&gt;
&lt;h3 id=&quot;interdisciplinary-science-meeting&quot;&gt;Interdisciplinary Science Meeting&lt;/h3&gt;
&lt;p&gt;Great post by the AAAS on the&lt;a href=&quot;http://www.aaas.org/news/releases/2011/0418science_on_fire.shtml?sa_campaign=Internal_Ads/AAAS/RSS_News/2011-04-18/&quot;&gt;Science on FIRE&lt;/a&gt; meeting.  Think the focus on young  faculty and undergraduate education is dead on.  However , the lack of emphasis (or even inclusion) of ecology and evolution material in “exemplar programs” such as &lt;a href=&quot;http://cimb.colorado.edu/iq-biology/programs/courses&quot;&gt;CIMB&lt;/a&gt; (not be confused with UC Davis’s &lt;a href=&quot;http://climb.ucdavis.edu/&quot;&gt;CLIMB&lt;/a&gt;, which does this balance very well) is tragic, given that (a) these fields have a richer and longer quantitative history than mol bio, (b) undergraduate ed in these areas shares the same general lack of emphasis in computation and mathematics skills as it’s molecular brethren classes (c) world challenges in these areas are at least on par with challenges in medicine, and deserve attention (despite the differences in funding).&lt;/p&gt;
&lt;h3 id=&quot;science-communication&quot;&gt;Science Communication&lt;/h3&gt;
&lt;p&gt;There’s been a long and rather lively thread on EcoLog discussing communication with the public; which I’ve mostly ignored, but decided to skim a bit of today after hitting on the tension between scientific accuracy and effective communication in our GTC seminar yesterday.  One post that got my attention pointed to  Randy Olson, in an &lt;a href=&quot;http://dotearth.blogs.nytimes.com/2011/04/14/climate-communication-and-the-nerd-loop/&quot;&gt;NY Times interview&lt;/a&gt;(complete with skype/index-card presentation video), arguing that figuring out the right way to communicate climate change is going to require taking risks and making mistakes, not sticking to tried and largely unsuccessful strategies.&lt;/p&gt;
&lt;p&gt;While this message resonated, his &lt;a href=&quot;http://thebenshi.com/2011/04/06/124-the-nerd-loop-why-im-losing-interest-in-communicating-climate-change/&quot;&gt;accompanying essay&lt;/a&gt; emphasizing “stop being a scientist” and learning to appeal to emotion and instinct did not.  The  &lt;a href=&quot;http://climateaudit.org/2011/04/17/the-smug-loop/&quot;&gt;reply from Steve McIntyre&lt;/a&gt; on the need to address niche audiences (politicians, lawyers, economists) rather than the vaunted “general public” seems dead-on.  Of course to some extent I disagree with both – we need a scientific approach based on measuring what works and what doesn’t work in communicating, not a “scientific-sounding” approach that Randy lampoons. Steve’s vision of an “engineering” approach to create a 2000 page document that looks/smells familiar to other professionals is no more convincing than the “science paper” approach.&lt;/p&gt;
&lt;p&gt;Yes we need to pitch to specialists, yes we need innovation, but we can certainly be scientific about it.  Can we go beyond strategies based on antecdotes to strategies based on data measuring their success?  Successful researchers aren’t conservative in experiments.  We should be able to do the same here.&lt;/p&gt;
&lt;h3 id=&quot;social-media-in-science&quot;&gt;Social media in science&lt;/h3&gt;
&lt;p&gt;Along the lines of communication, &lt;a href=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot;&gt;another debate&lt;/a&gt;about talking vs doing science, in reference to the use of social media.  Both are as crucial as they are inseparable.  Science Online had a whole track on tools aimed at doing science, and remains a hub people implementing, learning, and using these methods.  I agree, this is the track I’m most excited about too. Let’s get more of it.&lt;/p&gt;
&lt;p&gt;Another  &lt;a href=&quot;http://leeworden.net/lw/notebook&quot;&gt;Open Notebook,&lt;/a&gt; this one by colleague Lee Worden.&lt;/p&gt;
&lt;h2 id=&quot;plan-for-the-day&quot;&gt;Plan for the day&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Update &lt;a href=&quot;http://www.carlboettiger.info/archives/1445&quot;&gt;ABC notes&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Large data exercise on &lt;a href=&quot;http://www.carlboettiger.info/archives/1382&quot;&gt;TreeBase&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/1457&quot;&gt;Review&lt;/a&gt; Julie’s coral model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revisions to phylogenetics manuscript,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;outline release-of-constraint&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Finalize Felsenstein’s visiting schedule&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Early Warning Signals in Coral Dynamics -- Economic analysis of risk</title>
   <link href="/2011/04/19/early-warning-signals-in-coral-dynamics-economic-analysis-of-risk.html"/>
   <updated>2011-04-19T04:53:23-07:00</updated>
   <id>h/2011/04/19/early-warning-signals-in-coral-dynamics-economic-analysis-of-risk</id>
   <content type="html">&lt;p&gt;Alan and I have been considering analyzing a particular system for early warning signals where we could highlight risk management from an economics stand-point, probably with the help of Jim Sanchirico.  Our current work focuses on quantifying the relative risk of false alarms and missed detections.  While statisticians typically accept a 5% “false alarm” rate, we argue this given limited data this is always a trade-off against the missed detection rate and hence the location of this threshold should properly a decision of management, not of convention.  Including the details of a particular system would be ideal, as it may allow us to assess the appropriateness of the assumptions in the warning signals approach more accurately as well.&lt;/p&gt;
&lt;p&gt;Just starting this off with some background reading, mostly from Alan’s work with our former graduate student Julie Blackwood (Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2010),(Blackwood &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2010). “The Effect of Fishing on Hysteresis in Caribbean Coral Reefs.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-010-0102-0&quot;&gt;http://dx.doi.org/10.1007/s12080-010-0102-0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Blackwood J, Hastings A and Mumby P (2011). “A Model-Based Approach to Determine The Long-Term Effects of Multiple Interacting Stressors on Coral Reefs.” &lt;em&gt;Ecological Applications&lt;/em&gt;, &lt;strong&gt;21&lt;/strong&gt;. ISSN 1051-0761, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2195.1&quot;&gt;http://dx.doi.org/10.1890/10-2195.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: submitting warning signals manuscript</title>
   <link href="/2011/04/18/thursday-submitting-warning-signals-manuscript.html"/>
   <updated>2011-04-18T16:47:56-07:00</updated>
   <id>h/2011/04/18/thursday-submitting-warning-signals-manuscript</id>
   <content type="html">&lt;p&gt;Crazy day today submitting the warning signals manuscript.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github hosting&lt;/li&gt;
&lt;li&gt;Precedings hosting?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Algorithms Discussion Group: algorithms Continued</title>
   <link href="/2011/04/18/algorithms-discussion-group-abc-continued.html"/>
   <updated>2011-04-18T07:11:24-07:00</updated>
   <id>h/2011/04/18/algorithms-discussion-group-abc-continued</id>
   <content type="html">&lt;p&gt;Our little informal ABC group met again today to continue our discussion of ABC methods from &lt;a href=&quot;http://www.carlboettiger.info/archives/1397&quot;&gt;last week&lt;/a&gt;. The updated code is included in the gist below. ((Nick asked about gists – they are code boxes provided by Github that are easy to embed into blogs, etc. They provide automatic syntax highlighting and version management. For instance, I just opened last week’s gist and started editing during today’s session – when I save it I get a new version ID, so last week’s post still points to last week’s code, but it doesn’t create a second copy, so you can tell if you have the right version. Click on the gist id at the bottom and you can see the revisions.))&lt;/p&gt;
&lt;h2 id=&quot;the-posterior-distribution-from-the-regression&quot;&gt;The posterior distribution from the regression&lt;/h2&gt;
&lt;p&gt;The regression is used to determine the posterior distribution of the parameter. We want to move each the observed values down along a line parallel to the regression line until they are at a point at the observed summary statistic. We do this as&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\theta_i^* = \theta_i - b(S(X_i) - S(X_0))&quot; alt=&quot;\theta_i^* = \theta_i - b(S(X_i) - S(X_0))&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;em&gt;b&lt;/em&gt; is the slope of the regression, &lt;em&gt;S(X&lt;/em&gt;i)_ is the summary stat on each of the simulated data in the regression, and $ S(X_0) $ is the summary statistic of the observed data. The distribution of these $ _i^* $ is the posterior distribution of theta. (see Figure 1 of (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)).&lt;/p&gt;
&lt;p&gt;[gist id=914487]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5070/5632508759_0e1c988444_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;comparing-models&quot;&gt;Comparing models&lt;/h2&gt;
&lt;p&gt;We consider the alternative model that the data comes from the gamma distribution, rather than the normal distribution, in the example above. We’d like to compare the models by Bayes factors. ((We are just using the single summary statistic, the mean, in both cases. This should be a sufficient statistic to estimate the mean of the normal, the mean of the gamma model is the product of the rate parameter and the shape parameter.))&lt;/p&gt;
&lt;p&gt;The Bayes Factor is the ratio of the probability of the data under model 1 vs the probability of the data under model 2, which we get by integrating out (marginalizing over) the possible parameter values of the model:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(X|\theta_1) P(\theta_1) d\theta_1 }{ \int P(X|\theta_2) P(\theta_2) d\theta_2}&quot; alt=&quot;\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(X|\theta_1) P(\theta_1) d\theta_1 }{ \int P(X|\theta_2) P(\theta_2) d\theta_2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We don’t know the likelihood, $ P(X | &lt;em&gt;1) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, etc, but argued that by Bayes Theorem we could replace it with the posterior we just calculated, using\inline&quot;/&gt;&lt;/span&gt; P(X | &lt;/em&gt;1) P(&lt;em&gt;1)$ with $ P(&lt;/em&gt;1 | X)P(X)$. Then &lt;em&gt;P(X)&lt;/em&gt; &lt;del&gt;cancels out of top and bottom, &lt;/del&gt;and we’re left with&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)  d\theta_1 }{ \int P(\theta_2 | X) d\theta_2}&quot; alt=&quot;\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)  d\theta_1 }{ \int P(\theta_2 | X) d\theta_2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Is this correct?  What should these integrals be normalized by?  Guess we better check our references.&lt;/p&gt;
&lt;h3 id=&quot;correction-2-may-2011&quot;&gt;CORRECTION: (2 May 2011)&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;P(X)&lt;/em&gt; is model dependent, lost in my sloppy notation.  Rather than showing all models are equal (ratio of integral of posteriors above is unity) we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)P(X|M_1)  d\theta_1 }{ \int P(\theta_2 | X) P(X|M_2) d\theta_2}&quot; alt=&quot;\frac{P(X|M_1)}{P(X|M_2)} = \frac{ \int P(\theta_1 | X)P(X|M_1)  d\theta_1 }{ \int P(\theta_2 | X) P(X|M_2) d\theta_2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which is simply not useful, as it recovers our original expression (Factor out the &lt;em&gt;P(X)&lt;/em&gt; terms and the posteriors just integrate away.   Instead, we are just left with the regular integrals to compute, probably by MCMC. Knowing the posterior distributions doesn’t seem to help in the computation of the Bayes Factors.  Worth seeing other work on computation of Bayes factors, such as why we end up with Harmonic means, stepping stone approach, etc etc.&lt;/p&gt;
&lt;h2 id=&quot;next-time&quot;&gt;Next time&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Verify/finish the model comparison between normal and gamma&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Multi-parameter inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Family-of-models comparisons?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Maybe take a look at efficiency improvements such as in (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Get ready for our next algorithm (MCMC, HMM, EM).  We discussed ABC-MCMC, so might want to consider (Marjoram, 2003) and its criticisms in (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009).  Re HMM, again may be natural to build from the ABC, see C. Robert’s &lt;a href=&quot;http://xianblog.wordpress.com/2011/04/19/abc-convergence-for-hmms/&quot;&gt;post&lt;/a&gt;, and a recent &lt;a href=&quot;http://arxiv.org/abs/1103.5399&quot;&gt;paper&lt;/a&gt; on the arxiv.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Try implementing automatic estimates for summary statistics? see &lt;a href=&quot;http://arxiv.org/abs/1004.1112&quot;&gt;paper&lt;/a&gt;, via &lt;a href=&quot;http://xianblog.wordpress.com/2011/04/18/semi-automatic-abc-revised/&quot;&gt;C. Robert’s blog&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wegmann D, Leuenberger C and Excoffier L (2009). “Efficient Approximate Bayesian Computation Coupled With Markov Chain Monte Carlo Without Likelihood.” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;182&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.109.102509&quot;&gt;http://dx.doi.org/10.1534/genetics.109.102509&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Marjoram P (2003). “Markov Chain Monte Carlo Without Likelihoods.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;100&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0306899100&quot;&gt;http://dx.doi.org/10.1073/pnas.0306899100&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>TreePar: changing rates of evolution</title>
   <link href="/2011/04/17/treepar-changing-rates-of-evolution.html"/>
   <updated>2011-04-17T11:11:46-07:00</updated>
   <id>h/2011/04/17/treepar-changing-rates-of-evolution</id>
   <content type="html">&lt;h2 id=&quot;review-comments-on-article&quot;&gt;Review &amp;amp; Comments on Article&lt;/h2&gt;
&lt;p&gt;T. Stadler’s article &lt;em&gt;Mammalian phylogeny reveals recent diversification rate shifts&lt;/em&gt; (Stadler, 2011) describes her new TreePar package, evaluating shifts in the mammalian phylogeny (from and analyzed by (Bininda-Emonds &lt;em&gt;et. al.&lt;/em&gt; 2007)) as an example.&lt;/p&gt;
&lt;p&gt;The heart of the article is the calculation of the likelihood for a branching process model with rate shifts at specified times. This approach is dramatically more powerful and less susceptible to spurious conclusions than the earlier approach of looking for a shift in slope in the lineage-through-time (LTT) plot.&lt;/p&gt;
&lt;p&gt;Tanja presents a verbal argument for how the slope-shift may be misled, by confusing a ‘pull of the present’ rate shift (at about $ 1/(-)&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?) for a shift in rates.   Consider a birth-death model where extinction rate turns off at time T.  Just before T, we have a slope of\inline&quot;/&gt;&lt;/span&gt;$ due to the “pull of the present.” After T we have a real rate shift, where extinction is zero. She argues that the slopes method would mistake this for two separate shifts, though I’m unconvinced that the soft shift would really be mistaken as a rate shift (if there is even power to detect the shift, it’s not a sharp transition like a true rate change). Despite this qualm, the likelihood method is certainly an improvement over the slope change, so it’s great to see a likelihood method stepping into this place.&lt;/p&gt;
&lt;p&gt;One subtlety of the likelihood maximization is that the numerical algorithm cannot actually handle the simultaneous optimization of &lt;em&gt;n&lt;/em&gt; transitions in rates. To work around this, Tanja uses the following greedy algorithm: estimate the location of a shift under a one-shift model, then fix this time to estimate the location of the next shift.&lt;/p&gt;
&lt;p&gt;To demonstrate that this is not necessarily the maximum likelihood, it is sufficient to demonstrate that the maximum-likelihood estimated location of a single shift is not equal to the maximum-likelihood estimate of either shift estimated in a two-shift model. To prove this as simply as possible, consider a pure birth process: $ &lt;em&gt;1, &lt;/em&gt;2, &lt;em&gt;3&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, where shifts occur at times\inline&quot;/&gt;&lt;/span&gt; t&lt;/em&gt;1, t_2$. The lineage-through-time (log expected species count vs time) is a piecewise linear function with two change points. If the change in each birth rate is monotonic, than the single change-point estimate will always choose a time intermediate to the two change-point estimates, such that the greedy algorithm will not find the maximum likelihood solution. I believe one can also create identifiability issues of the optimum single change-point estimate in a two rate model, have to work this through more carefully though. Less of a concern is that the locations of the shifts are restricted to a coarse grid, such that only a few different time points are actually tried.&lt;/p&gt;
&lt;p&gt;Tanja does an excellent job of testing the method in the supplement. My primary concern here is that all tests of robustness and confidence intervals of the method are done for the rather large mammalian phylogeny, and will not appear nearly so robust when users apply the analysis to smaller trees but do not repeat all of the simulation tests Tanja does in the original paper. These tests are an excellent roadmap for how to do an analysis, but they are data-specific, and I feel the approach should not be used without repeating these tests on the data in question. This also seems like an excellent exercise for the user, I’ll try and write this code out shortly for some simulated examples.&lt;/p&gt;
&lt;p&gt;Tanja’s treatment allows for mass extinctions, which occur at estimated time-points, though Tanja has elsewhere shown that mass extinctions cannot be distinguished from models with constant speciation and extinction punctuated by stasis on the basis of extant taxa alone (Stadler, 2011), so I am unclear about the significance of their inference. No such events are inferred in the example, and her code allows this feature to be turned off.&lt;/p&gt;
&lt;p&gt;Tanja’s implementation also treats partial sampling, an issue she has also addressed elsewhere (Hartmann &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;
&lt;p&gt;I hope I haven’t seemed too critical here. This is the first time I’ve really looked over Tanja’s work and it seems to be of the highest caliber. I do worry about the non-MLE estimates of the time due to the stepwise nature of the algorithm.&lt;/p&gt;
&lt;h2 id=&quot;code-exploring-treepar&quot;&gt;Code: exploring TreePar&lt;/h2&gt;
&lt;h3 id=&quot;first-impressions&quot;&gt;First impressions:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;TreePar code: Pure R (no src, no external dependencies).  Looks clean but uncommented.  No object-oriented design/classes.  Does not appear to follow style guide.  Debugging and error checks by print statements (rather than error() and warning()), but at least performs the checks.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reasonably functionalized (18 functions in separate files support 2 user-called functions (in NAMESPACE): bd.shifts.optim(), bd.densdep.optim().&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Functions look reasonably documented, including examples code.  Examples run fine.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;OOooh very exciting: bd.densdep is a proper density dependent model with logistic birth and constant extinction (formerly Rabosky tested a logistic birth but no extinction model). No mention of this that I saw in the paper though(?)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Mammalian Phylogeny Reveals Recent Diversification Rate Shifts.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1016876108&quot;&gt;http://dx.doi.org/10.1073/pnas.1016876108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bininda-Emonds O, Cardillo M, Jones K, MacPhee R, Beck R, Grenyer R, Price S, Vos R, Gittleman J and Purvis A (2007). “The Delayed Rise of Present-Day Mammals.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;446&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05634&quot;&gt;http://dx.doi.org/10.1038/nature05634&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hartmann K, Wong D and Stadler T (2010). “Sampling Trees From Evolutionary Models.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq026&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/04/16/friday-4.html"/>
   <updated>2011-04-16T13:00:49-07:00</updated>
   <id>h/2011/04/16/friday-4</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Arxiv has several articles on the &lt;a href=&quot;http://en.wikipedia.org/wiki/Expectation-maximization_algorithm&quot;&gt;EM-algorithm&lt;/a&gt; from J. Statistical Science unknown, unknown.  What makes this distinct from applying any traditional optimization routine (Nelder-Mead, simulated annealing, etc) to the likelihood function?  Just in that it determines the probability distribution as well as maximum?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;UPDATE ON EM: brief discussion with Graham, Peter, Yaniv on this, now my impression is: Not necessarily get the distribution, but doesn’t just generically take a function and minimize it, but may not calculate the likelihood at each step.  Handles missing values, simulate the data.  We’ll take a closer look at this in our Algorithms discussion group.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also from the arxiv, nice &lt;a href=&quot;http://arxiv.org/abs/1104.2854&quot;&gt;article&lt;/a&gt; by Nick Barton and colleagues on the role statistical mechanics has played in evolutionary biology.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/1101.2908&quot;&gt;Interesting work&lt;/a&gt; on the arxiv on critical transitions from Christian, a post-doc in &lt;a href=&quot;http://www.biond.org/content/research&quot;&gt;Thilo Gross’s group&lt;/a&gt; at Max Planck Complex Systems, Dresden.  Also meaning to look over there generalized models in food webs paper (Gross &lt;em&gt;et. al.&lt;/em&gt; 2009).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like a fantastic article on estimating diversification (speciation/extinction) rates in PNAS(Stadler, 2011), and an accompanying package, &lt;a href=&quot;http://cran.r-project.org/web/packages/TreePar/index.html&quot;&gt;TreePar&lt;/a&gt; (which actually looks like it’s been on CRAN since last June).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looking over this paper led me to a few others also by Tanja, discussing some of the challenges of simulating(Stadler, 2011) and sampling trees(Hartmann &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See TreePar discussion &lt;a href=&quot;http://www.carlboettiger.info/archives/1423&quot;&gt;in later post.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gross T, Rudolf L, Levin S and Dieckmann U (2009). “Generalized Models Reveal Stabilizing Factors in Food Webs.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;325&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1173536&quot;&gt;http://dx.doi.org/10.1126/science.1173536&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Mammalian Phylogeny Reveals Recent Diversification Rate Shifts.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;108&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1016876108&quot;&gt;http://dx.doi.org/10.1073/pnas.1016876108&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stadler T (2011). “Simulating Trees With A Fixed Number of Extant Species.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;60&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syr029&quot;&gt;http://dx.doi.org/10.1093/sysbio/syr029&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hartmann K, Wong D and Stadler T (2010). “Sampling Trees From Evolutionary Models.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq026&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Unknown, unknown unknown, (unknown) &lt;em&gt;Unknown&lt;/em&gt;, **** &lt;a href=&quot;http://dx.doi.org/&quot;&gt;&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Weds: Final round edits</title>
   <link href="/2011/04/13/weds-final-round-edits.html"/>
   <updated>2011-04-13T09:21:30-07:00</updated>
   <id>h/2011/04/13/weds-final-round-edits</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Low-power (40 data-point) IBM simulation example&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5063/5613789663_d3aec5de4b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5266/5615442069_0473d939c4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5301/5613811639_ea16996e33_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Consider examples of false negative (Deteriorating example), and negative correlations in constant and deteriorating environments (? - nope)&lt;/li&gt;
&lt;li&gt;Implement LTC updated models!&lt;/li&gt;
&lt;li&gt;Working over Alex revisions&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: manuscript and appendix edits</title>
   <link href="/2011/04/12/tuesday-manuscript-and-appendix-edits.html"/>
   <updated>2011-04-12T16:40:28-07:00</updated>
   <id>h/2011/04/12/tuesday-manuscript-and-appendix-edits</id>
   <content type="html">&lt;h2 id=&quot;todays-log&quot;&gt;Today’s log&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Edited cover letter summary for public.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Soliciting feedback on examples in manuscript vs appendix, see &lt;a href=&quot;http://www.carlboettiger.info/archives/1408&quot;&gt;Monday’s entry&lt;/a&gt;.  (Entry posted, images added to flickr database)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jeff fixed the double-post bug in twitteR, &lt;a href=&quot;http://www.carlboettiger.info/archives/1361&quot;&gt;tested update&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Improved initialization estimates for LSN model in fit_models (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/b11f4392519f98a466c37b2cf5e9d4819965a232&quot;&gt;code&lt;/a&gt;), as identified &amp;amp; discussed in &lt;a href=&quot;http://www.carlboettiger.info/archives/1389&quot;&gt;Sunday’s entry.&lt;/a&gt; Needs testing on a unit case, trying on ibm_analysis.R now… &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5614310030/&quot;&gt;seems to work fine&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Running &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/2b85b0e24faa478b284ee261a287ba03759182f7&quot;&gt;this ibm_analysis&lt;/a&gt;on a small dataset at 2000 replicates (zero, nice 19).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model choice sets (&lt;a href=&quot;http://www.flickr.com/photos/cboettig/5613555396/in/photostream&quot;&gt;i.e. see in stream&lt;/a&gt;) finally finished – but some trouble in corresponding data records to the figures??&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reworking model section of appendix, consider Levins-style model in place of traditional logistic as the transcritical bifurcation.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5025/5615505110_4feb0e5269_o.jpg&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5183/5614584928_4d258d1987_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Flushed out appendix discussion of Cox’s delta.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adding data descriptions to appendix.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updates to appendix examples: Skew (pull out kurtosis, never really proposed/applied).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model generality comments&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Text: adjust to reflect a single Figure.  Adjust captions.  adjust to reflect Algae example.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Specify which Glaciation example, specify data treatments Specify which Algae example&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples: Remove kurtosis examples.  Add IBM examples with sufficient and insufficient power.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R package and examples cleanup&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Update parameter estimates without convergence failure runs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Review remaining comments&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>A bit of work on my socialR package for reproducible research</title>
   <link href="/2011/04/12/a-bit-of-work-on-my-socialr-package-for-reproducible-research.html"/>
   <updated>2011-04-12T02:55:42-07:00</updated>
   <id>h/2011/04/12/a-bit-of-work-on-my-socialr-package-for-reproducible-research</id>
   <content type="html">&lt;p&gt;A few small updates on my &lt;a href=&quot;http://www.carlboettiger.info/archives/565&quot;&gt;socialR&lt;/a&gt; package, (continued from my &lt;a href=&quot;http://www.carlboettiger.info/archives/1355&quot;&gt;earlier&lt;/a&gt; entries) which should hopefully help it evolve from a personal tool to a portable package one day. Starting by incorporating support for native R packages to handle the API interface to flickr, twitter, and github, rather than just calling command-line scripts. Jeff Gentry has just released an ROAuth package for authentication, which can be used by his twitteR package. A bit of configuring, but these are now working.&lt;/p&gt;
&lt;p&gt;Successfully installed by setting&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;in the terminal, and added this line to /etc/ld.so.conf.d/*.conf,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;registerTwitterOAuth(exampleOauth)
requestURL = &amp;quot;https://api.twitter.com/oauth/request_token&amp;quot;
accessURL = &amp;quot;http://api.twitter.com/oauth/access_token&amp;quot;
authURL = &amp;quot;http://api.twitter.com/oauth/authorize&amp;quot;
twitCred = OAuthFactory$new(consumerKey=consumerKey,
                                          consumerSecret=consumerSecret,
                                          requestURL=reqURL,
                                          accessURL=accessURL,
                                          authURL=authURL)
twitCred$handshake()
registerTwitterOAuth(twitCred)
save(list=&amp;quot;twitCred&amp;quot;, file=&amp;quot;twitteR_credentials&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note that you must specify consumerKey and consumerSecret from registering as a twitteR app: &lt;a href=&quot;http://twitter.com/apps/new&quot;&gt;http://twitter.com/apps/new&lt;/a&gt; In the future one can then authenticate just by loading the credentials and calling register:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(&amp;quot;twitteR_credentials&amp;quot;)
registerTwitterOAuth(twitCred)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Can now send tweets or direct messages;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tweet(&amp;quot;text&amp;quot;)
dm(&amp;quot;text&amp;quot;, &amp;quot;user&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have been having a problem with this creating double-posts on my ubuntu machine (apparently not a problem on other architectures). Jeff has been very responsive and just sent me an updated version of the package, which works brilliantly. Note that you can “delete” posts, which will let you repost them without an error (but does not actually remove them from the tweet stream, or actually double-post?)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ns &amp;lt;- tweet(&amp;quot;tweet this&amp;quot;)
deleteStatus(ns)
tweet(&amp;quot;tweet this&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[blackbirdpie url=“http://twitter.com/#!/tweeting_cpu/status/57836211762503681”]&lt;/p&gt;
&lt;p&gt;Kudos and thanks to Jeff for his help with this. Nice to have this working. Now for flickR…&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: Warning Signals - Updated graphs</title>
   <link href="/2011/04/11/monday-warning-signals-updated-graphs.html"/>
   <updated>2011-04-11T15:47:04-07:00</updated>
   <id>h/2011/04/11/monday-warning-signals-updated-graphs</id>
   <content type="html">&lt;p&gt;Trying a different set-up for the graphs. Added two additional datasets, trying layout of making all three figures into a panels in a single figure.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5024/5613668812_ddf12551cb_z.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5261/5613089339_6785dfd34f_z.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5303/5613669312_b3a956e248_z.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Concerns:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Better than only one empirical example, but not sure that the three Glaciation data sets add that much since they are all quite similar.&lt;/li&gt;
&lt;li&gt;Five panels wide might be too much.&lt;/li&gt;
&lt;li&gt;Don’t have an example where a transition is about to occur but the data doesn’t have adequate power even for our Likelihood method, third panel.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;compare-to&quot;&gt;Compare to:&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5029/5613977400_1ef7963990_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5029/5613977400_1ef7963990_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5221/5613977750_41305e0676_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5221/5613977750_41305e0676_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5268/5613989552_acf3df546c_z.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5268/5613989552_acf3df546c_z.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Concerns remaining:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What order to put the examples?&lt;/li&gt;
&lt;li&gt;The constant case is different in that it is the only one in which the system did not eventually experience a critical transition.  Does this need to be emphasized more?&lt;/li&gt;
&lt;li&gt;Does the simulated data need better distinguishing from empirical data?&lt;/li&gt;
&lt;li&gt;The Empirical Glaciation data shown has been interpolated and detrended (following the original author’s study); can this just be mentioned in the captions/appendix?&lt;/li&gt;
&lt;li&gt;Font sizes are a bit troubled, but this can wait?&lt;/li&gt;
&lt;li&gt;Do column names need to be more informative somehow?&lt;/li&gt;
&lt;li&gt;Other concerns?&lt;/li&gt;
&lt;li&gt;Noam suggested showing the crash in the initial data, though this is difficult in the case where the data has been transformed (to repeat treatment it is given in the literature).&lt;/li&gt;
&lt;li&gt;Should I also indicate the N sample points on each figure?  text too crowded?&lt;/li&gt;
&lt;li&gt;Should these be presented as panels of a single figure?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: algorithms Meeting</title>
   <link href="/2011/04/11/monday-abc-meeting-2.html"/>
   <updated>2011-04-11T09:21:09-07:00</updated>
   <id>h/2011/04/11/monday-abc-meeting-2</id>
   <content type="html">&lt;p&gt;Yaniv has started an algorithms discussion group. We just met with a few  students to discuss implementing Approximate Bayesian Computing methods from scratch.  Most of us had read (Beaumont, 2010) and (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)  but also followed [cite source=“pubmed”]12524368[/cite] most helpful during the session.&lt;/p&gt;
&lt;p&gt;[gist id=914487]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5222/5610998871_13dd3c8c88_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This gets us as far as the regression step, Figure 1 of (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010).  This in part distinguishes the approach from simple rejection sampling.  We’ll pick up from here next week.&lt;/p&gt;
&lt;h2 id=&quot;existing-tools&quot;&gt;Existing Tools&lt;/h2&gt;
&lt;p&gt;Explored a bit of the existing tools available explicitly for ABC computing.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;ABC-sysBio (Liepe &lt;em&gt;et. al.&lt;/em&gt; 2010) looks interesting: a Python+GPU enabled toolkit. Models are specified as xml, apparently following the Systems Biology Markup Language, for which their is an existing database, &lt;a href=&quot;http://www.ebi.ac.uk/biomodels-main/&quot;&gt;BioModels&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can’t decide if I think having a library of models is ridiculous or brilliant, but the data-base looks well curated and linked to the publications, which is rather nice.  If there are models linked to multiple papers I’d be particularly interested, but not sure if it’s enough of a standard to be useful, or if most modelers want to learn an XML markup when they already have there own familiar syntax for model specification.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cmpg.iee.unibe.ch/content/softwares__services/computer_programs/abctoolbox/index_eng.html&quot;&gt;ABCToolbox&lt;/a&gt; Haven’t explored this one, written in C++.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The &lt;a href=&quot;http://en.wikipedia.org/wiki/Approximate_Bayesian_computation&quot;&gt;Wikipedia entry&lt;/a&gt; seems to have a decent entry with links to literature and existing tools&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Beaumont M (2010). “Approximate Bayesian Computation in Evolution And Ecology.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;41&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev-ecolsys-102209-144621&quot;&gt;http://dx.doi.org/10.1146/annurev-ecolsys-102209-144621&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Liepe J, Barnes C, Cule E, Erguler K, Kirk P, Toni T and Stumpf M (2010). “Abc-Sysbio–Approximate Bayesian Computation in Python With Gpu Support.” &lt;em&gt;Bioinformatics&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 1367-4803, &lt;a href=&quot;http://dx.doi.org/10.1093/bioinformatics/btq278&quot;&gt;http://dx.doi.org/10.1093/bioinformatics/btq278&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday: Warning signals edits continue</title>
   <link href="/2011/04/11/sunday-warning-signals-edits-continue.html"/>
   <updated>2011-04-11T01:13:05-07:00</updated>
   <id>h/2011/04/11/sunday-warning-signals-edits-continue</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Marissa edits – Nearly done&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Single-figure layout – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;equations in appendix – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;convergence / likelihood agreement between constOU and constLSN (Done, see below; consider using for a better initial-condition guessing routine for better convergence)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reformulate transcritical bifurcation?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rewrite cover letter&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5103/5607234118_a4d877b381_o.jpg&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5145/5607230134_0b63303ba8_o.jpg&quot; /&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;load(&amp;quot;5598226674.Rdat&amp;quot;)
require(warningsignals)
OU &amp;lt;- deterior_mc$null 
LSN &amp;lt;- deterior_mc$test
LSN_OU &amp;lt;- updateGauss(const_LSN, OU$pars, OU$X)

c(OU$loglik, LSN$loglik, LSN_OU$loglik)
[1] -1038.510 -1142.539 -1162.826
list(OU$pars, LSN_OU$pars, LSN$pars)

[[1]]
          Ro        theta        sigma 
  0.03372706 605.86310520  21.13186326 

[[2]]
       Ro     theta     sigma 
 83.49120 603.49469  14.00135 

[[3]]
          Ro            m        theta        sigma 
 93.89113902  -0.09374192 631.17624969   9.91779631 


# guess LSN parameters from OU parameterization
guess_Ro &amp;lt;- as.numeric(OU$pars[&amp;#39;Ro&amp;#39;]^2)
guess_theta &amp;lt;- as.numeric( OU$pars[&amp;#39;theta&amp;#39;]+OU$pars[&amp;#39;Ro&amp;#39;] )
guess_sigma&amp;lt;- as.numeric(OU$pars[&amp;#39;sigma&amp;#39;]/sqrt(2*OU$pars[&amp;#39;Ro&amp;#39;]+OU$pars[&amp;#39;theta&amp;#39;]))

## see if the likelihood of the transformed parameters as LSN resembles the OU likelihood 
const_pars&amp;lt;- c(Ro=guess_Ro, theta=guess_theta, sigma=guess_sigma)

## Yay they almost agree:
-lik.gauss(OU$X, const_pars, const_LSN)
[1] -1044.504
OU$loglik
[1] -1038.510

## starting from here, they agree after optimization
new_LSN_OU &amp;lt;- updateGauss(const_LSN, const_pars, OU$X)
c(new_LSN_OU$loglik, OU$loglik)
[1] -1038.779 -1038.510&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals</title>
   <link href="/2011/04/08/warning-signals-3.html"/>
   <updated>2011-04-08T10:08:48-07:00</updated>
   <id>h/2011/04/08/warning-signals-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;ibm simulation fit convergence on constOU vs constLSN – are likelihood scores off from including out-of-bound parameter estimates?&lt;/li&gt;
&lt;li&gt;Consider transcritical in levins model setup&lt;/li&gt;
&lt;li&gt;Consider re-arranging figures: one panel, full-width, variance and autocorrelation only, three empirical examples.&lt;/li&gt;
&lt;li&gt;Trying smaller numbers of replicates in simulated data to get low-power examples.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-04-06 00:00:00” max_upload_date=“2011-04-11 23:59:59”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;move ibm simulation code into warningsignals package&lt;/li&gt;
&lt;li&gt;Working through Marissa’s edits.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>TreeBase: exploratory exercises in database-driven phylogenetics</title>
   <link href="/2011/04/08/treebase-exploratory-exercises-in-database-driven-phylogenetics.html"/>
   <updated>2011-04-08T08:18:02-07:00</updated>
   <id>h/2011/04/08/treebase-exploratory-exercises-in-database-driven-phylogenetics</id>
   <content type="html">&lt;p&gt;Taking a look at the &lt;a href=&quot;http://www.treebase.org/treebase-web/urlAPI.html&quot;&gt;TreeBase&lt;/a&gt; database for potential project with Gabe &amp;amp; Duncan’s Large Data seminar.  It would be interesting to get a working knowledge of the database and the API, making large-scale meta-analyses easy.  Many studies seem to select taxa based on what they have in their own lab rather than re-use existing phylogenies, not because it is better suited to answering the questions but because it is more familiar.  Access to larger data-sets than typically available in any individual lab, and the ability to test hypotheses across multiple phylogenies could be rather useful.&lt;/p&gt;
&lt;p&gt;A nice tutorial on what can be done with the existing data could be quite useful; my cursory search for such a tutorial didn’t turn up much.  The ability to grab and re-analyze any set of phylogenetic trees through a pipeline in R would be very useful.&lt;/p&gt;
&lt;h2 id=&quot;overview-of-capabilities&quot;&gt;Overview of capabilities&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;In addition to the web interface, TreeBASE can be accessed programmatically through a stateless web service interface and URL architecture. This interface can deliver data in several different formats, including NEWICK, NEXUS, JSON, NeXML.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;a &lt;a href=&quot;http://evoinfo.nescent.org/PhyloWS&quot;&gt;PhyloWS&lt;/a&gt; RESTful API. A detailed description of &lt;a href=&quot;https://sourceforge.net/apps/mediawiki/treebase/index.php?title=API&quot;&gt;TreeBASE’s PhyloWS implementation&lt;/a&gt; is on the TreeBASE wiki.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.openarchives.org/pmh/&quot;&gt;OAI-PMH&lt;/a&gt; metadata harvesting interface is available, though under development. A detailed description is on the &lt;a href=&quot;http://sourceforge.net/apps/mediawiki/treebase/index.php?title=OAI-PMH&quot;&gt;TreeBASE wiki&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SQL data dumps – coming soon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Treebase &lt;a href=&quot;http://treebase.org/treebase-web/about.html&quot;&gt;claims&lt;/a&gt; to have character data as well as phylogenies.  No obvious way to query for these.  Also has sequence data.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;potential-exerices&quot;&gt;Potential exerices&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Would be good to begin with a statistical summary of TreeBase: number of data sets, average size, taxa, coverage, frequency with which various methods were used, fraction that are time-calibrated, fraction that are species trees vs gene trees, number of sequences used etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;No idea how hard it would be to establish an R implementation/interface to the API, but could be quite useful, particularly for comparative phylogenetics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Would be useful to have a pipeline that could grab the phylogenies from within R given search terms or the study id, along with appropriate meta-data (publication information, taxa, etc).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;accompanying-literature-database&quot;&gt;Accompanying literature database:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;There’s a rather nice database of all 2604 papers published containing phylogenetic trees with entries in TreeBase, cataloged in the &lt;a href=&quot;http://www.mendeley.com/groups/734351/treebase/papers/&quot;&gt;Mendeley group&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Each has tags to the entries in TreeBase (note that all objects have been given new id’s in the current (version 2) TreeBase, so should search by those.  Make sure to discard current search results (button) before searching again.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can search the Mendeley collection (if I imported all the papers, then could do full-text search of the articles).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Potential to interface with other databases, including Wikipedia (see next section, below).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;some-perspectives-from-rod-page&quot;&gt;Some perspectives from Rod Page&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://taxonomy.zoology.gla.ac.uk/publications/tech-reports/Edinburgh.pdf&quot;&gt;Towards a Taxonomically Intelligent Database&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/rdmpage/why-arent-we-there-yet&quot;&gt;Why aren’t we there yet?&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/rdmpage&quot;&gt;Roderic Page&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And another excellent presentation from Rod for a more general web database perspective:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/rdmpage/going-digital&quot;&gt;Going Digital&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/rdmpage&quot;&gt;Roderic Page&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Some reproducible research practices in journals</title>
   <link href="/2011/04/08/reproducible-research.html"/>
   <updated>2011-04-08T05:48:44-07:00</updated>
   <id>h/2011/04/08/reproducible-research</id>
   <content type="html">&lt;p&gt;Interesting discussion on the Reproducible Research Group about rates at which the various reproducible research standards are used in the Journal of Biostatistics:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5015/5472087649_8093f6b92e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;from unknown, 2010, which provides a great basis for recommendations to authors, publishers, and funders to ensure reproducible research. Victoria Stodden &lt;a href=&quot;http://bit.ly/ikfpxK&quot;&gt;describes&lt;/a&gt; two journals with Open Review and two with Associate Editors of Reproducible Research.&lt;/p&gt;
&lt;p&gt;Some of the articles from Biostatistics discussing this practice: (Baker &lt;em&gt;et. al.&lt;/em&gt; 2010), (Goodman, 2010), (Keiding, 2010),   (Donoho, 2010), (Groves, 2010) (Peng, 2009)&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Baker S, Darke A, Pinsky P, Parnes H and Kramer B (2010). “Transparency And Reproducibility in Data Analysis: The Prostate Cancer Prevention Trial.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq004&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq004&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Goodman S (2010). “Commentary.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq030&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq030&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Keiding N (2010). “Reproducible Research And The Substantive Context.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq033&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq033&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Donoho D (2010). “an Invitation to Reproducible Computational Research.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq028&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq028&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Groves T (2010). “The Wider Concept of Data Sharing: View From The Bmj.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxq031&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxq031&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Peng R (2009). “Reproducible Research And Biostatistics.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp014&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reproducible Research, unknown unknown, (2010) &lt;em&gt;Computing in Science &amp;amp; Engineering&lt;/em&gt;, &lt;strong&gt;12&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1109/MCSE.2010.113&quot;&gt;10.1109/MCSE.2010.113&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Steve Ellner's seminar</title>
   <link href="/2011/04/07/steve-ellners-seminar.html"/>
   <updated>2011-04-07T10:09:29-07:00</updated>
   <id>h/2011/04/07/steve-ellners-seminar</id>
   <content type="html">&lt;p&gt;What started as three men and a chemostat…&lt;/p&gt;
&lt;p&gt;This is Part III of the talk – some of you were in elementary school for the first two, so here’s a reminder:&lt;/p&gt;
&lt;p&gt;Consumer-resource interactions are prone to cycle: due to delayed negative feedbacks. (note prey peaks are 1/4-cycle shifted). Simulations, Larch Budmoth and parasitoids, (Kendall &lt;em&gt;et. al.&lt;/em&gt; 1998)&lt;/p&gt;
&lt;p&gt;Chaos should be common But it isn’t. we observe Stable : cycles : chaos 2 : 1 : $ $ Zimmer 1999 (Zimmer, 1999)&lt;/p&gt;
&lt;p&gt;why? Darwin.&lt;/p&gt;
&lt;p&gt;But theorists show systems can evolve to chaos, ’cause theorists are bright.&lt;/p&gt;
&lt;p&gt;So, we decided we test in real organisms: Rotifer-algal chemostats and cycles.&lt;/p&gt;
&lt;p&gt;Dilution rate is a bifurcation parameter. Fussman 2000. (Fussmann, 2000) Model works – but no! Period is three times too long, cycles exactly out of phase.&lt;/p&gt;
&lt;p&gt;Looks like evolution. blocking evolution confirms it (Yoshida &lt;em&gt;et. al.&lt;/em&gt; 2003)&lt;/p&gt;
&lt;p&gt;These results have been replicated many times… starting in 1972! Short period gets longer and goes out of phase. Some mention their models stopped working, but didn’t recognize Darwin staring them in the face.&lt;/p&gt;
&lt;p&gt;But how important is rapid evolution? (Relative importance is a central theme of ecological work) Monica Geber, Hairston 2005 (Hairston &lt;em&gt;et. al.&lt;/em&gt; 2005)&lt;/p&gt;
&lt;p&gt;$  =   + $&lt;/p&gt;
&lt;p&gt;Big changes in traits involve many changes in genes. Traits can do the same thing,but genes do very different things. open mystery…&lt;/p&gt;
&lt;p&gt;Returning to ecology: Theory predicts dilution rate is a bifurcation parameter, as is amount of heritability.&lt;/p&gt;
&lt;p&gt;So: how well does this work in real food webs? Different system. (wow, evolution happening on experiments within 180 days).&lt;/p&gt;
&lt;p&gt;But wait, trait change isn’t necessarily genetic change. Then in about 2005 theortical ecology said “I can’t believe I forgot about the Price Eqn”&lt;/p&gt;
&lt;p&gt;$  = Cov(m,z) + E(z)$&lt;/p&gt;
&lt;p&gt;Should have been: $  =   + (cov(m,z) + E(z) ) $&lt;/p&gt;
&lt;p&gt;But needs the genotype at time t with environment at time t+1, and vice verca. How can we do that? N. Hairston’s Daphnia from lake Constance preserved each year in sentiment for decades. Hiarston 1999. (Hairston &lt;em&gt;et. al.&lt;/em&gt; 1999) Ellner’s analysis of this is in press at Ecology Letters&lt;/p&gt;
&lt;p&gt;Demonstrates a bit of evolutionary rescue, trait not needing to change as much. Hairston 2005 method gets it wrong (giving evolution a negative estimated effect in the data). Demonstrates evolutionary rescue more then compensating for fitness loss due to ecology in an example in Great Tits.&lt;/p&gt;
&lt;p&gt;With more studies, we might have a meta-analysis of when evolution is important. We think we can formulate a preemptive theory that we could then test.&lt;/p&gt;
&lt;p&gt;Conclusions: Mucrocosms are awesome. match data to model, no excuses about what you didn’t measure.&lt;br /&gt;Rapid evolution occurs with real consequences.&lt;/p&gt;
&lt;p&gt;Field studies shown substantial ecological impact, and we can quantify (can be larger than the ecological impact).&lt;/p&gt;
&lt;p&gt;Evolution seems most important when it is the cause of stasis rather than change. An important buffer.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Kendall u, Prendergast u and Bjornstad u (1998). “The Macroecology of Population Dynamics: Taxonomic And Biogeographic Patterns in Population Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;1&lt;/strong&gt;. ISSN 1461-023X, &lt;a href=&quot;http://dx.doi.org/10.1046/j.1461-0248.1998.00037.x&quot;&gt;http://dx.doi.org/10.1046/j.1461-0248.1998.00037.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Zimmer C (1999). “Complex Systems:Life After Chaos.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;284&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.284.5411.83&quot;&gt;http://dx.doi.org/10.1126/science.284.5411.83&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fussmann G (2000). “Crossing The Hopf Bifurcation in A Live Predator-Prey System.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;290&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.290.5495.1358&quot;&gt;http://dx.doi.org/10.1126/science.290.5495.1358&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Yoshida T, Jones L, Ellner S, Fussmann G and Hairston N (2003). “Rapid Evolution Drives Ecological Dynamics in A Predator–Prey System.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;424&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature01767&quot;&gt;http://dx.doi.org/10.1038/nature01767&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hairston N, Ellner S, Geber M, Yoshida T and Fox J (2005). “Rapid Evolution And The Convergence of Ecological And Evolutionary Time.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2005.00812.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2005.00812.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hairston N, Lampert W, Cáceres C, Holtmeier C, Weider L, Gaedke U, Fischer J, Fox J and Post D (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;401&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/46731&quot;&gt;http://dx.doi.org/10.1038/46731&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals - Manuscript touch-ups</title>
   <link href="/2011/04/06/warning-signals-manuscript-touch-ups.html"/>
   <updated>2011-04-06T10:27:42-07:00</updated>
   <id>h/2011/04/06/warning-signals-manuscript-touch-ups</id>
   <content type="html">&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;refining-examples&quot;&gt;Refining examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updating finished runs to full formats&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Condensing/organizing code examples under the demos to follow the structure of the paper.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Currently plotting code for manuscript loads a menagerie of different run results from different files.  Would be better to consolidate by dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;proposed-figure-changes&quot;&gt;Proposed figure changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Consider multiple empirical examples in main text&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider removing skew/kurtosis examples to the supplement?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider other empirical examples&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Additional examples to the supplementary information, at least of a case where likelihood also has inadequate power&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider a low-sample size version of ibm simulation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider replacing the linearized simulation with the ibm simulation&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;figure-formatting-guidelines-submission-stage&quot;&gt;Figure formatting guidelines (submission stage):&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Preferred format is jpeg, 150 dpi&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;figures rendered in the size they appear in the manuscript (single column is 89mm, double column width is 183 mm)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;follow naming convention Boettiger_fig1.jpg, etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;… Getting images adjusted for small size – that took a while, see&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/e1c77f9f8c7d46626451ec6e94a3ea3eba3f7327&quot;&gt;git commit&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;shrink ticks, move text, set axis intervals.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All figures set to single column width, decide if any should be double-column?  (doesn’t seem typical).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;revisions-and-edits&quot;&gt;Revisions and Edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Incorporated Marcel’s edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Awaiting Marissa’s edits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Just sent to Alex for edits this morning, back this afternoon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Incorporating Alex’s edits now.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reviewed** cover letter **with Alan, adding details about figures, word counts, etc. awaiting comments on my revisions.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-examples&quot;&gt;Further Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;drake reanalyze figure3 failed (nice 16 on zero) due to labeling error in plotting function (after all computations finished but no data save – highlighting the need for checkpointing my code!)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rerunning at nice 19 on zero 16 reps, &lt;a href=&quot;http://www.flickr.com/photos/cboettig/5596172988/&quot;&gt;Completed&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;and at nice 18 the full 2000 replicates on zero.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ibm_likelihood.R terminated(?) Running at 80 replicates at nice 17 on zero&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Comparative methods paper status/to-do</title>
   <link href="/2011/04/06/comparative-methods-paper-statusto-do.html"/>
   <updated>2011-04-06T04:56:20-07:00</updated>
   <id>h/2011/04/06/comparative-methods-paper-statusto-do</id>
   <content type="html">&lt;p&gt;Finished revisions yesterday after rewriting introduction considerably. Following Graham’s comment, taking a closer look at aic error along power curves:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; load(&amp;quot;../../pmc/demos/5594495254.Rdat&amp;quot;)
&amp;gt; require(pmc)
&amp;gt; aic &amp;lt;- 2
&amp;gt; aic_errors_size &amp;lt;- sapply(1:(length(n)), function(i) sum(size[[i]]$null_dist &amp;gt; aic)/size[[i]]$nboot )
&amp;gt; aic_errors_shape &amp;lt;- sapply(1:length(lambda), function(i) sum(shape[[i]]$null_dist &amp;gt; aic)/shape[[i]]$nboot )
&amp;gt; data.frame(n, aic_errors_size)
    n aic_errors_size
1  10          0.1945
2  20          0.2405
3  40          0.1800
4  60          0.1590
5  80          0.0750
6 100          0.1015
7 150          0.0535
8 200          0.1020
&amp;gt; data.frame(lambda, aic_errors_shape)
  lambda aic_errors_shape
1   0.01           0.0000
2   0.05           0.0000
3   0.10           0.1255
4   0.20           0.2390
5   0.40           0.1950
6   0.60           0.1910
7   0.80           0.1170
8   1.00           0.1910&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course the aic type I error rate at lambda = 0 (star phylogeny) is zero (all likelihood differences should be zero for this case since the OU model is non-identifiable (can’t disentangle alpha and sigma) but equivalent to the BM model (traits are independent and normally distributed).&lt;/p&gt;
&lt;h2 id=&quot;power-curves-of-size-and-shape&quot;&gt;Power curves of size and shape&lt;/h2&gt;
&lt;p&gt;Ran power curves with more examples yesterday, results here.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5268/5594495254_e05e71a9f0_o.png&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5594220756_6a7a231962_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;still-to-do-waiting-on&quot;&gt;Still to do / waiting on&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sent revisions to Brian and Yaniv for some final comments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R package needs documentation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider figure revisions: Fig 4: use triangle instead of line, replace legend with title bar? consider common x and y axes for all of Fig 4? Revise figure captions.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Updates to socialR package</title>
   <link href="/2011/04/05/updates-to-socialr-package.html"/>
   <updated>2011-04-05T05:27:16-07:00</updated>
   <id>h/2011/04/05/updates-to-socialr-package</id>
   <content type="html">&lt;p&gt;Talking with Nick a bit about the socialR package, hope to find a chance to streamline the package a bit, move away from all system calls and interface directly with the APIs for Flickr, twitter, etc from R. This should avoid the command-line program dependencies and configurations I need to use currently.&lt;/p&gt;
&lt;p&gt;Building my own API interfaces looks like it will require a good bit of work, meanwhile significant hope the community might develop reasonable packages to pull this off – basic packages already exist for twitter and flickr.  Doesn’t look like they are quite there though.&lt;/p&gt;
&lt;h2 id=&quot;notes-so-far&quot;&gt;Notes so far&lt;/h2&gt;
&lt;h3 id=&quot;twitter-roauth&quot;&gt;twitter &amp;amp; ROAuth&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Jeff Gentry has twitteR &amp;amp; ROAuth. Unable to install ROAuth at the moment&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Needs liboauth on Ubuntu: http://liboauth.sourceforge.net, installs fine through&lt;/p&gt;
&lt;p&gt;./configure make sudo make install&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like the &lt;a href=&quot;http://packages.ubuntu.com/natty/i386/liboauth0&quot;&gt;liboauth files&lt;/a&gt; will be packaged in the next Ubuntu release (natty).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;But ROAuth still errors on install:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;* building package indices …&lt;/em&gt;* testing if installed package can be loadedError in dyn.load(file, DLLpath = DLLpath, …) : unable to load shared object ‘/home/cboettig/R/packages/ROAuth/libs/ROAuth.so’: liboauth.so.0: cannot open shared object file: No such file or directoryERROR: loading failed&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/&quot;&gt;twitteR&lt;/a&gt; now suggests ROAuth, so perhaps works to send messages through twitter’s OAuth authentication now?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;rflickr&quot;&gt;Rflickr&lt;/h3&gt;
&lt;p&gt;Duncan has an RFlickr package on http://www.omegahat.org from 2008, using RCurl and XML.   Install with&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;install.packages(&amp;quot;Rflickr&amp;quot;, repos = &amp;quot;&amp;lt;a href=&amp;quot;http://www.omegahat.org/R&amp;quot; target=&amp;quot;_blank&amp;quot;&amp;gt;http://www.omegahat.org/R&amp;lt;/a&amp;gt;&amp;quot;, type = &amp;quot;source&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Not much documentation beyond&lt;a href=&quot;file:///home/cboettig/R/packages/Rflickr/doc/Rflickr.xml&quot;&gt;this XML doc&lt;/a&gt; to get started&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Set up a new&lt;a href=&quot;http://www.flickr.com/services/apps/72157626435666824/&quot;&gt;flickr app&lt;/a&gt; to get an API key and secret key for the application. successful.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rflickr requests only read privileges (geared towards analyzing existing flickr data rather than uploading content).  Tried editing authenticate permissions, but still seems to request read privileges.  (see flickR modified package in sandbox).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rflickr fails to get fob/token.  First time timeout is expected – successfully still opens browser and requests approval.  Next time function is called it shouldn’t have to request approval but just return a token, unfortunately no such luck.&lt;/p&gt;
&lt;p&gt;tok &amp;lt;- Rflickr::authenticate(api_key, secret)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So once again, I’m a bit stuck.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-notes&quot;&gt;Other notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Added R-2.12 repository to sources.list, (since running Lucid LTS I’ve been using its packaged R-2.10; ROAuth requires 2.12)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Looks like Duncan also has an &lt;a href=&quot;http://www.omegahat.org/RWordPress/&quot;&gt;RWordPress&lt;/a&gt; package; intriguing.  Maybe I can get scripts to write my entire notebook entries automatically…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Well, all the time I have for some exploratory coding at the moment, will have to return to this later; and see if I can enlist some help.  Should follow up with Duncan and Jeff.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>evolution manuscript revisions</title>
   <link href="/2011/04/04/phylogenetics-manuscript-revisions.html"/>
   <updated>2011-04-04T15:48:21-07:00</updated>
   <id>h/2011/04/04/phylogenetics-manuscript-revisions</id>
   <content type="html">&lt;p&gt;Heard back from Graham Friday on manuscript revisions. Notes on reviewing edits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reconsider title?  (Currently: “is your phylogeny informative? estimating power in phylogenetic trees”).  Suggestions from Graham/Brian?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;1000 taxa, 500 taxa seem to break the ouch package inferences.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add table for AIC comparisons etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Does AIC work better/worse on the lambda = 0 trees?&lt;/p&gt;
&lt;p&gt;n[1:3][1] 10 50 100 aic_errors_size &amp;lt;- sapply(1:(length(n)-2), function(i) sum(size[[i]]&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?null_dist &amp;gt; aic)/size[[i]]\inline&quot;/&gt;&lt;/span&gt;nboot ) aic_errors_size [1] 0.1505 0.1285 0.0845 lambda [1] 0.01 0.10 0.40 0.70 1.00 aic_errors_shape &amp;lt;- sapply(1:length(n), function(i) sum(shape[[i]]&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?null_dist &amp;gt; aic)/shape[[i]]\inline&quot;/&gt;&lt;/span&gt;nboot ) aic_errors_shape [1] 0.0000 0.2580 0.0305 0.0415 0.0685&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Improves as tree size increases, impact of lambda somewhat unclear – AIC seems to perform better on heavily transformed trees, except for lambda = 0.1 seems anomalous? Worth a closer look&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rerrunning with a few other examples, now on zero nice 1:&lt;/p&gt;
&lt;p&gt;alpha &amp;lt;- c(seq(.1, 1, length=10), 2:10, seq(20,50, by=10))&lt;/p&gt;
&lt;p&gt;n &amp;lt;- c(10, 20, 40, 60, 80, 100, 150, 200)&lt;/p&gt;
&lt;p&gt;lambda &amp;lt;- c(.01, .05, .1, .2, .4, .6, .8, 1)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recall this results only from the null distribution tightening up, as it is Type I error (area of null right of the AIC threshold, independent of test distribution).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;edit/rewrite introductory paragraphs (less passive voice).  Intro is set up as addressing two key issues, framed as: model problems/model selection/model adequacy, etc, vs data problems.  Perhaps better to phrase more classically in terms of Type I /Type II error explicitly?  emphasize power effectively.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rest of edits have been relatively straight forward changes.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday finishing up appendices(?)</title>
   <link href="/2011/04/01/thursday-finishing-up-appendices.html"/>
   <updated>2011-04-01T08:50:05-07:00</updated>
   <id>h/2011/04/01/thursday-finishing-up-appendices</id>
   <content type="html">&lt;h3 id=&quot;fresh-off-the-cpus&quot;&gt;Fresh off the cpus:&lt;/h3&gt;
&lt;p&gt;single replicate examples on the Drake data&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5067/5577761965_6a2e263f9c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5056/5577677475_8c97df8a57_b.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5056/5577677475_6b5a90b04e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5067/5577761965_50d72ea2c2_b.jpg&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;whats-still-running&quot;&gt;What’s still running:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;likelihood for IBM data with 2000 replicates, nice 19 on zero (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/ibm_likelihood.R&quot;&gt;ibm_likelihood.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood for Glaciation I-III with 2000 replicates, nice 18 on zero (deut_likelihood.R)&lt;/li&gt;
&lt;li&gt;likelihood for Glaciation I-III with 2000 replicates, (nice 19 on one)? (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/deut_likelihood.R&quot;&gt;deut_likelihood.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood on sim data, Glaciation III and CaCO3: 80 replicates on one, nice 1 on one (figure3.R)&lt;/li&gt;
&lt;li&gt;and with 2000 replicates, nice 19 on one (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/figure3.R&quot;&gt;figure3.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;likelihood between LTC and LSN for CaCO3 and Glaciation III with 2000 replicates (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/model_choice.R&quot;&gt;model_choice.R&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Drake data all replicate deteriorating stability examples, figs 1-3 (on zero nice 16?)&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>A few large data problems in Ecology & Evolution</title>
   <link href="/2011/03/31/a-few-large-data-problems-in-ecology-evolution.html"/>
   <updated>2011-03-31T04:18:38-07:00</updated>
   <id>h/2011/03/31/a-few-large-data-problems-in-ecology-evolution</id>
   <content type="html">&lt;p&gt;I’ve joined a student-led seminar with Gabriel Becker in the Statistics department on dealing with large data, primarily in R. Offered to say a few words about large data problems in my field for a few minutes, so making some notes.&lt;/p&gt;
&lt;h2 id=&quot;large-databases&quot;&gt;Large dataBases&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Genebank: $ &amp;gt; 10^8$ sequences.  Phylogenetic inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Morphological databases: Specialized databases with semantic tools (Dahdul &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NEON observatories data Keller &lt;em&gt;et. al.&lt;/em&gt; 2008&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Satellite data (Overpeck &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Micro-tracker data&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;distributed-data&quot;&gt;Distributed Data&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Opportunity: Amount of available data is rapidly increasing under requirements of journals and funders (Whitlock, 2011) (Reichman &lt;em&gt;et. al.&lt;/em&gt; 2011) (MOORE &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Citizen science (Silvertown, 2009)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Challenges: Decentralized, non-standard data formats.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Goal: From meta-analyses to synthetic analyses&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;large-computation&quot;&gt;Large Computation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simulation studies – replicates and large sample-spaces&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model estimation – Bayesian estimation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computing on large datasets – too large to download&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Predictive modeling – real-time forecasting&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dahdul W, Balhoff J, Engeman J, Grande T, Hilton E, Kothari C, Lapp H, Lundberg J, Midford P, Vision T, Westerfield M, Mabee P and Kelso J (2010). “Evolutionary Characters, Phenotypes And Ontologies: Curating Data From The Systematic Biology Literature.” &lt;em&gt;Plos One&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0010708&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0010708&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overpeck J, Meehl G, Bony S and Easterling D (2011). “Climate Data Challenges in The 21st Century.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197869&quot;&gt;http://dx.doi.org/10.1126/science.1197869&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Whitlock M (2011). “Data Archiving in Ecology And Evolution: Best Practices.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;26&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.11.006&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.11.006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reichman O, Jones M and Schildhauer M (2011). “Challenges And Opportunities of Open Data in Ecology.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;331&lt;/strong&gt;. ISSN 0036-8075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.1197962&quot;&gt;http://dx.doi.org/10.1126/science.1197962&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MOORE A, Mcpeek M, RAUSHER M, RIESEBERG L and WHITLOCK M (2010). “The Need For Archiving Data in Evolutionary Biology.” &lt;em&gt;Journal of Evolutionary Biology&lt;/em&gt;, &lt;strong&gt;23&lt;/strong&gt;. ISSN 1010061X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&quot;&gt;http://dx.doi.org/10.1111/j.1420-9101.2010.01937.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Silvertown J (2009). “A New Dawn For Citizen Science.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;24&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2009.03.017&quot;&gt;http://dx.doi.org/10.1016/j.tree.2009.03.017&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A Continental Strategy For The National Ecological Observatory Network, Michael Keller, David S Schimel, William W Hargrove, Forrest M Hoffman, (2008) &lt;em&gt;Frontiers in Ecology And The Environment&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1890/1540-929520086[282:ACSFTN]2.0.CO;2&quot;&gt;10.1890/1540-9295(2008)6[282:ACSFTN]2.0.CO;2&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Brian O'Meara discusses new algorithms approaches on Phylo</title>
   <link href="/2011/03/30/brian-omeara-discusses-new-abc-approaches-on-phyloseminar.html"/>
   <updated>2011-03-30T13:52:04-07:00</updated>
   <id>h/2011/03/30/brian-omeara-discusses-new-abc-approaches-on-phyloseminar</id>
   <content type="html">&lt;p&gt;Brian gave an excellent overview of Approximate Bayesian Computing (ABC) and described the TreEvo software he is developing with post-doc Barb Banbury. My notes from the seminar, with my own comments &lt;em&gt;italics&lt;/em&gt; and  a few added references&lt;/p&gt;
&lt;h3 id=&quot;intro-motivation&quot;&gt;Intro / Motivation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rates of model innovation is rather slow&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can be impossible to specify in closed form (can’t specify median of binomial in closed form)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Perhaps it would be faster if we didn’t have to wait for someone to come up with all the likelihood functions&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reviews-abc-method&quot;&gt;Reviews ABC method:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Simulate&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define a summary statistic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define a “success” – distance metric on summary statistic: Acceptance-Rejection Sampling&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;sufficient-statistics&quot;&gt;Sufficient statistics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;(examples from coin flip: actual string of HT, proportion of heads.  not sufficient: previous toss)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Problems: when there are no sufficient stats?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Haven’t proven sufficiency?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O’Meara’s approach: take 22 summary stats and prune the list (all the kinds of model parameters geiger will give you – lambda, kappa, etc.) – &lt;em&gt;No way that lambda/kappa/etc are decent summary stats, some of these will even have identifiability issues on certain topologies. What about correlation among summary stats?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Following Wegman et al, (Guessing the citation for this is (Wegmann &lt;em&gt;et. al.&lt;/em&gt; 2009)) Box-Cox transformation ahead of time. &lt;em&gt;Not clear to me what the justification for this is.  Transformations are evolutionary hypotheses. What’s is the biology?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Describes &lt;strong&gt;Sequential Monte Carlo&lt;/strong&gt;: Start by sampling from prior with liberal acceptance.  Update a posterior estimate as the new prior, and repeat.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;New Models: Bounded models, discrete models such as autoregressive, character displacement models, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Priors: uses a library of a few common distributions.  Discusses influence of different priors, priors with zero probability ranges.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples: character displacement (non-independent evolution on branches) &amp;amp; bounded side&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Super concerned about identifiability issues, let alone sufficient statistics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Some results look close to prior.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O’Meara on parameter estimation vs model selection:  “Tells you more about your power than your biology.”  Hmm…&lt;/p&gt;
&lt;h3 id=&quot;challenges&quot;&gt;Challenges&lt;/h3&gt;
&lt;p&gt;Mention of Robert et al. (Robert &lt;em&gt;et. al.&lt;/em&gt; 2010), and &lt;a href=&quot;http://arxiv.org/abs/1102.4432&quot;&gt;preprint&lt;/a&gt;. Concerns on sufficient statistics.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Discusses examples of ways to fail: too little data, get the prior back&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Overconfidence: Run different times, each gets tight, mostly non-overlapping distributions of a parameter back.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;features&quot;&gt;Features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Auto-tuning: runs enough generations and then stops.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Plotting results&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model menagerie&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;multiple character models coming soon&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;in-progress&quot;&gt;In progress:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;check-pointing (restart partial runs, needed for large cluster runs to be able to restart killed/crashed runs)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;speed optimization&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;testing testing testing&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;advantagesdisadvantages&quot;&gt;Advantages/Disadvantages&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;No model adequacy assessment yet&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Usual plus/minus of Bayesian (priors, computational time, etc)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;more-resources&quot;&gt;More resources&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Brian recommends the Csillery et al TREE review on ABC (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The project is a Google summer of code option&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Brian mentions &lt;a href=&quot;http://www.brianomeara.info/lab&quot;&gt;post-doc&lt;/a&gt; and other opportunities.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;No release candidate on software yet, but Brian welcomes exploring the actively developed code on R-forge: &lt;a href=&quot;https://r-forge.r-project.org/projects/treevo/&quot;&gt;Treevo&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://evo.caltech.edu/evoBeta/player/EVOPlayer.jnlp?fileToPlay=http://phyloseminar.org/recorded/012_omeara.evx&quot;&gt;Watch the talk&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wegmann D, Leuenberger C and Excoffier L (2009). “Efficient Approximate Bayesian Computation Coupled With Markov Chain Monte Carlo Without Likelihood.” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;182&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.109.102509&quot;&gt;http://dx.doi.org/10.1534/genetics.109.102509&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Robert C, Mengersen K and Chen C (2010). “Model Choice Versus Model Criticism.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0911260107&quot;&gt;http://dx.doi.org/10.1073/pnas.0911260107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday: appendices; parameter distributions</title>
   <link href="/2011/03/30/wednesday-appendices-parameter-distributions.html"/>
   <updated>2011-03-30T10:59:20-07:00</updated>
   <id>h/2011/03/30/wednesday-appendices-parameter-distributions</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Fixed bug causing montecarlotest() calls not to complete: in likelihood_bifurcation_models, LTC error checking uses any() to see if any Vx are negative, returns NA if none are negative but has NAs.  rm.na=TRUE fixed this.&lt;/li&gt;
&lt;li&gt;GetParNames works, probably worth an appendix section to discuss parameter bootstraps as well, particularly in the cases of low power.  Updated codes to turn this flag back on and am re-running.&lt;/li&gt;
&lt;li&gt;Figure3 plot has been using the 160 bootstrap replicates, updated to the 2000 replicates.  (replaces data id=35555677786 with id=35563325713).  Not sure why data write added the “3” to the id code in front of the traditional flickrid.&lt;/li&gt;
&lt;li&gt;Writing AIC section.  Made plots of relative error rates.  Updates to AIC plot controls to include percent error in the legend rather than as extra text.  Curious if I should show both False alarm and missed event rates, maybe confusing how the test and null distributions relate to models estimated from the same dataset.  appendix_modelchoice.R&lt;/li&gt;
&lt;li&gt;Started writing a parameter bootstrap section.  Will see if we choose to keep this.  Will have to wait on runs now running on zero, nice 19 &amp;amp; 18, deut_likelihood.R and ibm_likelihood.R&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;exploring-parameter-distributions&quot;&gt;Exploring parameter distributions&lt;/h2&gt;
&lt;p&gt;Need some more exploration, remove any cases that have failed convergence, etc.  All are for the LSN model fit: (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/109aef83363abf9f7d9e6cc9416c91fa03d62947/warningsignals/demos/parameter_dist.R&quot;&gt;parameter_dist.R&lt;/a&gt;)&lt;/p&gt;
&lt;h4 id=&quot;deteriorating-environment-fit&quot;&gt;Deteriorating environment fit&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5141/5575128891_36c8e510f7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;constant-env-fit&quot;&gt;Constant Env Fit&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5228/5575129287_a0bf9a47e9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;deuterium-glaciation-iii&quot;&gt;Deuterium, Glaciation III&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5188/5575716274_36ffedbd17_o.png&quot; /&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Just added a convergence indicator to parameter list.  not included on above runs.  Rerunning figure3.R code on one, nice 19 to reflect these updates.&lt;/li&gt;
&lt;li&gt;Running 80 replicates on figure3.R at nice 1 on zero for exploration of convergence.  Should consider convergence issues directly in montecarlotest().&lt;/li&gt;
&lt;li&gt;Running model_choice.R in a way that saves the plotting objects, need to then add plots to appendix.R&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ibm-results&quot;&gt;IBM Results&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5104/5572003337_99a84571da_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5263/5572630410_a814cce288_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday, simulations & appendix</title>
   <link href="/2011/03/29/tuesday-simulations-appendix.html"/>
   <updated>2011-03-29T15:45:28-07:00</updated>
   <id>h/2011/03/29/tuesday-simulations-appendix</id>
   <content type="html">&lt;p&gt;Today mostly working over code sets for examples in appendix, and increasing replicates.  Somehow more trouble than it should be, see &lt;a href=&quot;https://github.com/cboettig/structured-populations/commits/&quot;&gt;commit history&lt;/a&gt; for today.&lt;/p&gt;
&lt;p&gt;ibm_sim.R – simulate from individual-based dynamics containing a saddle-node bifurcation (fully hysteresis model).&lt;/p&gt;
&lt;p&gt;ibm_analysis.R – run figure1, 2, 3 analysis (correlation test, bootstrap of test, likelihood test) on each data.&lt;/p&gt;
&lt;p&gt;ibm_likelihood.R – shouldn’t be needed, all code is in deut_examples.R.  Running now due to earlier parallel instance errors during montecarlotest.  Running now at 2000 replicates on zero at nice 19, and with 80 replicates at nice 10.&lt;/p&gt;
&lt;p&gt;deut_likelihood.R – shouldn’t be needed, all code is in deut_examples.R, which I reran today with 2000 replicates. Running this now due to earlier parallel instance errors during montecarlotest. (on one, at nice 19)&lt;/p&gt;
&lt;p&gt;Deuterium from Glaciation I &amp;amp; II with 2000 replicates, along with CaCO3 data in appendix.R, calls saved data from above to regenerate plots.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Organizing for Felsenstein’s visit&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wainwright lab meeting: discussion of launching new website, lab blog&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CPB Seminar: Yaniv presenting meiotic drive work, Peter presenting spatial wave in multiple mutations work (Ralph &amp;amp; Coop, Genetics 2010(Ralph &amp;amp; Coop, 2010)).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Need code updates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;socialR localized save.  Also save code call?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still need to track filenames of code, not just commit numbers.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ralph P and Coop G (2010). “Parallel Adaptation: One or Many Waves of Advance of an Advantageous Allele?” &lt;em&gt;Genetics&lt;/em&gt;, &lt;strong&gt;186&lt;/strong&gt;. ISSN 0016-6731, &lt;a href=&quot;http://dx.doi.org/10.1534/genetics.110.119594&quot;&gt;http://dx.doi.org/10.1534/genetics.110.119594&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday, appendices continue...</title>
   <link href="/2011/03/28/monday-appendices-continue.html"/>
   <updated>2011-03-28T18:09:43-07:00</updated>
   <id>h/2011/03/28/monday-appendices-continue</id>
   <content type="html">&lt;p&gt;Finished writing up section on correlations (time averages vs ensembles) and the following section on error types.  (yay, that writing went much better than yesterday). Appendices nearly done, a few more bits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Must figure out what data examples are going into the supplement.  Most should be reasonably straight-forward to set up, may take a while to run.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Have to figure out what to say about likelihood-based statistical method beyond definition of Cox’s delta,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;whether the methods sections need elaboration beyond the summary paragraph for parametric bootstrap and likelihood test, and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AIC section.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also have to figure out if I need panel for bifurcation types.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Have to write Model Choice section and what to say about model adequacy.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And of course, the extent of data examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alan’s comments on appendices.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Alex’s figure comments.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;caco3-model-fit-stabilizing-data&quot;&gt;CaCO3 model fit – stabilizing data&lt;/h3&gt;
&lt;p&gt;Adjusted code to specify numerical optimization routine in the calls to update.  Note that this must be given explicitly, will not guess the method last used to update the fit, but instead use the default method (Nelder-Mead) if nothing is specified.&lt;/p&gt;
&lt;p&gt;CaCO3 data appeared to fit a stabilizing model under LTC but destablizing under LSN.  LSN fits the data considerably better than LTC.  Should probably include in the additional examples section.&lt;/p&gt;
&lt;p&gt;Working getting L-BFGS-B bounded search to work, a bit troublesome in handling out-of-bounds parameter proposals. Achieves approximately same optimum as Nelder-Mead in testing on CaCO3 data.&lt;/p&gt;
&lt;p&gt;In socialR, figures should save just what is in their local environment, otherwise still chance for error in parameter values stored.&lt;/p&gt;
&lt;h2 id=&quot;data-examples&quot;&gt;Data examples&lt;/h2&gt;
&lt;p&gt;Should include equivalent of Figures 1, 2 &amp;amp; 3 for each.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Simulated destabilizing system with non-significant trends in variance, autocorrelation&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Other climate data examples – CaCO3, Deuterium.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Non-significant warning signal even under figure 3 (from climate data?)  (Estimate CaCO3 with bounded negative-trend only?)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulated saddle-node bifurcation from individual dynamics sim, stable and unstable.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulated other bifurcation types? Hopf bifurcation, oscillating system?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake single replicates, ensemble (?)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday -- edits and appendices</title>
   <link href="/2011/03/27/sunday-edits-and-appendices.html"/>
   <updated>2011-03-27T14:34:39-07:00</updated>
   <id>h/2011/03/27/sunday-edits-and-appendices</id>
   <content type="html">&lt;p&gt;Read over Scheffer’s rather nice introduction(Scheffer, 2010) to the Drake paper(Drake &amp;amp; Griffen, 2010).  Last paragraph is particularly pertinenant:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Clearly, we have just scratched the surface in exploring the possibilities and limitations of this emerging field. However, the prospect of identifying generic indicators is exciting, as the approach may provide an independent way to assess the risk of critical transitions. Expansion of our toolbox for prediction is especially welcome given the almost insurmountable problem of modelling complex systems in a quantitatively accurate way.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;appendices&quot;&gt;Appendices&lt;/h2&gt;
&lt;p&gt;Continuing to write and organize the supplements&lt;/p&gt;
&lt;h3 id=&quot;correlation-tests&quot;&gt;Correlation Tests&lt;/h3&gt;
&lt;p&gt;Still a bit uncomfortable about the replicates discussion.  even with replicates you don’t satisfy the assumptions of Kendall’s tau, because it’s a rank test and needs independence.  Pearson’s test is just as troublesome, as X and Y are assumed to be normal random variables.  Certainly some appropriate temporal test would be best, such as fitting an autoregressive models, which is essentially what we are doing for the null anyway, (with more precisely correct parameterization for the changing-stability model).  Not sure what to say about this.&lt;/p&gt;
&lt;p&gt;p values no better an indicator on pearson than on kendall, though null is sensible in replicate(?) though not on individual. i.e. distribution of Pearson’s test statistics:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5566103730_e3253969e9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5146/5567160410_deaa598ccd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;alan-edits&quot;&gt;Alan Edits&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Got edits back from Alan, clearing up language, etc.   now incorporated.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Worried about intro/punchiness(?)  lost my “double-edged sword” line.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ah, mendeley-plugin, why do you lose your embedded information when converting from odt to doc?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Scheffer M (2010). “Complex Systems: Foreseeing Tipping Points.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/467411a&quot;&gt;http://dx.doi.org/10.1038/467411a&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Saturday-- Appendices</title>
   <link href="/2011/03/26/saturday-appendices.html"/>
   <updated>2011-03-26T16:28:00-07:00</updated>
   <id>h/2011/03/26/saturday-appendices</id>
   <content type="html">&lt;h2 id=&quot;appendices&quot;&gt;Appendices&lt;/h2&gt;
&lt;p&gt;Working on Appendices&lt;/p&gt;
&lt;h4 id=&quot;ergodicity&quot;&gt;Ergodicity&lt;/h4&gt;
&lt;p&gt;Null of Kendall’s tau/rank correlations – independence of X and Y, not satisfied even over replicates. Adjusted codes to use Pearson’s (default option, need to pass option up to higher-level functions). Repeated Figure 2 plots with Pearson’s, results not much different, funny multimodal though:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5133/5562412943_79f3dd3ecf_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Actually verifying independence is rather more challenging, though convenient in this case that a test such as Pearson’s is not designed to do this, see http://en.wikipedia.org/wiki/Brownian_covariance&lt;/p&gt;
&lt;h4 id=&quot;calculating-error&quot;&gt;Calculating Error&lt;/h4&gt;
&lt;p&gt;Still to write. Figures with shading, management angle. References to management of risk?&lt;/p&gt;
&lt;h4 id=&quot;models&quot;&gt;Models&lt;/h4&gt;
&lt;p&gt;Wrote section, still could use panel figure on models.&lt;/p&gt;
&lt;p&gt;For each model: Graph of birth rate and death rate, with several overlays showing parameter change. Graph of net growth rate. Graph of linearized system. bifurcation plot. energy landscape. &lt;a href=&quot;http://www.carlboettiger.info/archives/1185&quot;&gt;Earlier entries&lt;/a&gt; for starting point on this.&lt;/p&gt;
&lt;h4 id=&quot;likelihood-calculations&quot;&gt;Likelihood Calculations&lt;/h4&gt;
&lt;p&gt;Wrote section.&lt;/p&gt;
&lt;h4 id=&quot;model-choice&quot;&gt;Model Choice&lt;/h4&gt;
&lt;p&gt;Model choice between LTC and LSN for examples. &lt;img src=&quot;http://farm6.staticflickr.com/5060/5551674282_e8335023b8_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5051/5552850530_0aea953363_o.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Comments on model adequacy.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;examples&quot;&gt;Examples&lt;/h4&gt;
&lt;p&gt;Still assembling.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Should probably focus on empirical examples.&lt;/li&gt;
&lt;li&gt;Could do simulated data not from LTC/LSN dynamics.&lt;/li&gt;
&lt;li&gt;Should include LTC dynamics on some models.&lt;/li&gt;
&lt;li&gt;Include Drake data?&lt;/li&gt;
&lt;li&gt;Include CaCO3 data?&lt;/li&gt;
&lt;li&gt;Kendall’s tau estimates for Deut I, II, III. (III already done, just for comparison. IV throws error exceptions).&lt;/li&gt;
&lt;li&gt;Other deuterium runs show much the same story, very little power in the correlation statistics and even clearer detection of models:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5181/5562383846_a341504682_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5182/5562961240_9d44037b15_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;A bit surprising given model parameters show very slow rate of change (though over a long interval), and given how poorly even the variance indicator does.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;p&gt;Moved into LaTeX as well to get sense of length, though will be difficult to edit two copies.  Writing appendix in LaTeX for simplicity.&lt;/p&gt;
&lt;p&gt;Stats stack-exchange: http://stats.stackexchange.com/&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/03/25/friday-3.html"/>
   <updated>2011-03-25T10:25:02-07:00</updated>
   <id>h/2011/03/25/friday-3</id>
   <content type="html">&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Some nice theoretical ecology papers out from our group recently, looking over today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Paul’s paper (Williams &amp;amp; Hastings, 2011) deals with some interesting work on persistence in complex models, (stochastic systems of mixture models), curious how it compares to the conclusions of (Schreiber, 2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sebastian’s paper (Schreiber &lt;em&gt;et. al.&lt;/em&gt; 2011) with Dan Bolnick and Burger, another example of the importance of individual heterogeneity, this time in a nice phenotype/genotype specific way by combining quantitative genetics approaches with predator dynamics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Jamie’s paper: (Ashander &lt;em&gt;et. al.&lt;/em&gt; 2011) on sea-lice with Mark Lewis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Also my entry on &lt;a href=&quot;http://www.carlboettiger.info/archives/1221&quot;&gt;ABC&lt;/a&gt; a few days ago suddenly gathered a bunch of traffic and suggested some more reading to me, Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011, thanks to &lt;a href=&quot;http://www.maths.bris.ac.uk/~madjl/&quot;&gt;Dan Lawson&lt;/a&gt; at Bristol for pointing this out.  Sounds like there may be a straight-forward way to derive sufficient statistics for both models to allow comparisons, though not sure whether or not we are using even model-wise sufficient statistics in the new comparative phylogenetics applications.  Perhaps worth a bit more attention, but Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011 is certainly worth a read.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing&quot;&gt;Writing&lt;/h2&gt;
&lt;p&gt;Figures. Yesterday’s to-do list. References. Wishing I could use tex instead of Word (okay, oowriter).  ﻿Methods summary: bootstrap, likelihood approach.  – DONE&lt;/p&gt;
&lt;h2 id=&quot;arithmetic&quot;&gt;Arithmetic&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Run more empirical datasets through machinery for Figures 1-3, (probably for appendix).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Working out the math for the case of replicates.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Williams P and Hastings A (2011). “Paradoxical Persistence Through Mixed-System Dynamics: Towards A Unified Perspective of Reversal Behaviours in Evolutionary Ecology.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;278&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2010.2074&quot;&gt;http://dx.doi.org/10.1098/rspb.2010.2074&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S (2010). “Interactive Effects of Temporal Correlations, Spatial Heterogeneity And Dispersal on Population Persistence.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;277&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2009.2006&quot;&gt;http://dx.doi.org/10.1098/rspb.2009.2006&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S, Bürger R and Bolnick D (2011). “The Community Effects of Phenotypic And Genetic Variation Within A Predator Population.” &lt;em&gt;Ecology&lt;/em&gt;, &lt;strong&gt;92&lt;/strong&gt;. ISSN 0012-9658, &lt;a href=&quot;http://dx.doi.org/10.1890/10-2071.1&quot;&gt;http://dx.doi.org/10.1890/10-2071.1&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ashander J, Krkošek M and Lewis M (2011). “Aquaculture-Induced Changes to Dynamics of A Migratory Host And Specialist Parasite: A Case Study of Pink Salmon And Sea Lice.” &lt;em&gt;Theoretical Ecology&lt;/em&gt;, &lt;strong&gt;5&lt;/strong&gt;. ISSN 1874-1738, &lt;a href=&quot;http://dx.doi.org/10.1007/s12080-011-0122-4&quot;&gt;http://dx.doi.org/10.1007/s12080-011-0122-4&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Likelihood-Free Estimation of Model Evidence, Xavier Didelot, Richard G. Everitt, Adam M. Johansen, Daniel J. Lawson, (2011) &lt;em&gt;Bayesian Analysis&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1214/11-BA602&quot;&gt;10.1214/11-BA602&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/03/24/thursday-3.html"/>
   <updated>2011-03-24T16:19:19-07:00</updated>
   <id>h/2011/03/24/thursday-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Assembled plots for figures 1,2,3 see paper_plots.R.  Considerable adjustment of axes/layout.  Sent figures out for comments.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Considered removing skew/kurtosis from Figure 1 &amp;amp;/or Figure 2, currently leaving in (particularly in Figure 2 to make point clear that no indicator works well?)  Easy to remove using paper_plots.R script.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;to-do-list&quot;&gt;To Do list:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Figure 3 layout should mimic Figure 2 as much as possible (font sizes, margins, etc).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider an arrow along the x-axis rather than dotted line for observed value.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Distribution color legend&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rewrite captions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure 2 y-axis labels shouldn’t appear as “Variance” “Skew” but be clear these are probability densities&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figures to explain Type I and Type II error, like these:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5436170383_0512da6c12_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4143/5436184927_86efc55987_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Data Management Workshop at UC Davis Center for Population Biology: Video archive</title>
   <link href="/2011/03/24/data-management-workshop-at-uc-davis-center-for-population-biology-video-archive.html"/>
   <updated>2011-03-24T09:30:24-07:00</updated>
   <id>h/2011/03/24/data-management-workshop-at-uc-davis-center-for-population-biology-video-archive</id>
   <content type="html">&lt;p&gt;Videos are now up from our workshop, The Future of Data, held at the UC Davis Center for Population Biology March 2nd-4th.&lt;/p&gt;
&lt;h3 id=&quot;panel&quot;&gt;Panel&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://strong.ucdavis.edu/&quot;&gt;Don Strong&lt;/a&gt;, Editor-in-Chief of &lt;strong&gt;Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/faculty/holyoak/&quot;&gt;Marcel Holyoak&lt;/a&gt;, Editor-in-Chief, &lt;strong&gt;Ecology Letters&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phylogenomics.blogspot.com/&quot;&gt;Jonathan Eisen,&lt;/a&gt; Editor-in-Chief, &lt;strong&gt;PLoS Biology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://two.ucdavis.edu/%7Eme/&quot;&gt;Alan Hastings&lt;/a&gt;, founding Editor-in-Chief, &lt;strong&gt;Theoretical Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/FacultyInfo.aspx?ID_Number=83&quot;&gt;Robert Hijmans&lt;/a&gt;, Asst Professor of Environmental Science &amp;amp; Policy&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cdlib.org/cdlinfo/2010/05/19/patricia-cruse-digital-preservation-pioneer/&quot;&gt;Trisha Cruse&lt;/a&gt; (Director), with Associate Directors Stephen Abrams  &amp;amp; John Kunze from &lt;a href=&quot;http://www.cdlib.org/services/uc3/index.html&quot;&gt;UC Curation Center&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;session-i-why-archive&quot;&gt;Session I: Why Archive?&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21351995 400 300]&lt;/p&gt;
&lt;h2 id=&quot;session-ii-leveraging-data-archives&quot;&gt;Session II: Leveraging Data Archives&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21354540 400 300]&lt;/p&gt;
&lt;h2 id=&quot;session-iii-looking-ahead&quot;&gt;Session III: Looking ahead&lt;/h2&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/21354825 400 300]&lt;/p&gt;
&lt;p&gt;More information about the workshop and further references on data management &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/03/23/wednesday-2.html"/>
   <updated>2011-03-23T11:39:08-07:00</updated>
   <id>h/2011/03/23/wednesday-2</id>
   <content type="html">&lt;p&gt;Still to do on figures:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Plots with and without skew/kurtosis – DONE, enabled for Figure 1 &amp;amp; 2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Combine plots into full panels – DONE for Figure 1 &amp;amp; Figure 2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;separate plotting codes from analysis codes (at least whenever takes any computational effort/time to produce).  – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;bootstrap_indicators should have option of which indicators are included – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;all_indicators should have option of which indicators are included – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;make tau_dist_montecarlo generic on type of indicator – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat bootstrap of taus on the CaCO3 and Deut3 with LSN models – RUNNING (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/ecc42333f387c551dbead0c321a25d15108bc45f/warningsignals/demos/figure2.R&quot;&gt;figure2.R&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Run montecarlotest of taus on LSN models for CaCO3 and Deut3 – RUNNING (&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/c23980f2fd3fa8ba38cebf4f62b413e6a79532ac/warningsignals/demos/figure3.R&quot;&gt;figure3.R&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Guess names for columns in list, if given – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Labels for outer-margins on panel plots – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjust bootstrap panel plots to use common y-axis height – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need simulated data of stable system for Figures 1, 2,3 – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Select empirical-data examples – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consider empirical-data without any signal?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Considering possible data-sets:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;simulated dataset with loss of stability/degenerating environment: LTC example: load(“5550863240.Rdat”), using LSN example now with stable and unstable examples.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated dataset without loss of stability, also showing positive signals – DONE&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;simulated dataset with loss of stability, but showing no signal/negative correlation, not done, not sure if this is necessary to illustrate in Fig 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical dataset showing positive correlations which we’ll support in Figure 3, support with considerable uncertainty in Figure 2.  Deut3&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Empirical dataset showing positive correlations which will appear spurious in Figure 3?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Examples that look at least a little more promising in Figure 2?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday: Figures, figures, figures</title>
   <link href="/2011/03/23/tuesday-figures-figures-figures.html"/>
   <updated>2011-03-23T03:37:35-07:00</updated>
   <id>h/2011/03/23/tuesday-figures-figures-figures</id>
   <content type="html">&lt;p&gt;Today working mostly on selecting examples of data sets to include in the figure patterns. Working with the idea of three figures – data, bootstraps of Tau, bootstraps of likelihood – in panels for several examples: some real data sets and some simulated data sets with and without warning. In addition to this, I still have some more work to do with references, and refining the writing of a few of the appendices.&lt;/p&gt;
&lt;h2 id=&quot;empirical-example-data-original-signals&quot;&gt;Empirical example data, original signals&lt;/h2&gt;
&lt;p&gt;Code: Run &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/256941ba96e741fbfec7b12e08f25bc7291c847c/warningsignals/demos/real_data_examples.R&quot;&gt;real_data_examples.R&lt;/a&gt; to reproduce this set.&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-pre-processed&quot;&gt;Deuterium Data, pre-processed&lt;/h4&gt;
&lt;p&gt;Deuterium data during Glaciation III shows the clearest signal, though also possibly Glaciation I. (order below is II, I, III, IV, click to enlarge for labels).&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, processed” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-unprocessed&quot;&gt;Deuterium Data, unprocessed&lt;/h4&gt;
&lt;p&gt;Almost none of the unprocessed data shows a signal. Uneven spacing matters for autocorrelation and skew estimates, but not variance. [flickr-gallery mode=“search” tags=“stochpop, deut, raw” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;caco3-data&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, CaCO3” tag_mode=“all” min_upload_date=“2011-03-22 12:00:00” max_upload_date=“2011-03-22 12:05:00”]&lt;/p&gt;
&lt;h4 id=&quot;simulated-data&quot;&gt;Simulated Data&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5068/5550314677_841e211a3e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;uncertainty&quot;&gt;Uncertainty&lt;/h2&gt;
&lt;p&gt;Using code functions from &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/49be95ffdf17ec67187c27642e2a5ea4612ab332/warningsignals/demos/bootstrap_indicators.R&quot;&gt;bootstrap_indicators.R&lt;/a&gt;, run from script &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/49be95ffdf17ec67187c27642e2a5ea4612ab332/warningsignals/demos/indicator_example.R&quot;&gt;indicator_example.R&lt;/a&gt;.  Note, these use the LTC model estimates.  (easily confirmed – load the data by id, call timedep$setmodel)&lt;/p&gt;
&lt;p&gt;Columns are: CaCO3 Data, Deuterium Data, (Glaciation III) pre-processed, simulated data with crash. Rows are Variance, Autocorrelation, Skew, Kurtosis. Note that the higher moments are meaningless, containing virtually no signal, while variance is the most reliable.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5174/5550768947_1775500510_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5184/5550956133_63ae0a5c28_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5141/5551584198_27d43d2eaa_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;decreasing-the-uncertainty-using-likelihood&quot;&gt;Decreasing the uncertainty using likelihood&lt;/h2&gt;
&lt;h4 id=&quot;caco3-data-1&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;p&gt;using LTC against the null: &lt;img src=&quot;http://farm6.staticflickr.com/5255/5518867116_6773275786_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;deuterium-data-glaciation-iii-pre-processed&quot;&gt;Deuterium Data, (Glaciation III) pre-processed&lt;/h4&gt;
&lt;p&gt;This I believe is fit with LTC &lt;img src=&quot;http://farm6.staticflickr.com/5216/5520221975_5017582330_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;model-choice-for-bifurcation-type&quot;&gt;Model Choice for bifurcation type&lt;/h2&gt;
&lt;p&gt;Can consider choosing between LSN and LTC first on real data. Both the Glaciation III and CaCO3 dataset clearly prefer the saddle-node model, (though note that the CaCO3 data is increasing stability!).  Code in &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/faf10ddc66b139f47ac2550e655a5662b1dec55a/warningsignals/demos/model_choice.R&quot;&gt;model_choice.R&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;caco3-data-2&quot;&gt;CaCO3 Data&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5060/5551674282_e8335023b8_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;deuterium-data-glaciation-iii-pre-processed-1&quot;&gt;Deuterium Data, (Glaciation III) pre-processed&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5051/5552850530_0aea953363_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;On simulated data we know the correct model. We can confirm that this works, using the LTC simulated dataset from above, we find no reason to prefer LSN, as we did with the real data.&lt;/p&gt;
&lt;h4 id=&quot;simulated-data-1&quot;&gt;Simulated data&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5268/5552596535_8182746b73_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Empirical data files are now read and formatted with own scripts, &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/load_deut.R&quot;&gt;load_deut.R&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/master/warningsignals/demos/load_CaCO3.R&quot;&gt;load_CaCO3.R&lt;/a&gt; Settings for &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/5ac3751756d2406d19bb46618ca239d2711cd618/warningsignals/demos/simulate_data.R&quot;&gt;simulated data here&lt;/a&gt;, though best to load data-set directly from .Rdat corresponding to figure.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Monday -- Edits and organization</title>
   <link href="/2011/03/22/monday-edits-and-organization.html"/>
   <updated>2011-03-22T02:07:36-07:00</updated>
   <id>h/2011/03/22/monday-edits-and-organization</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Skype with Alan: 9-9:4&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figures as panels&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Write Appendix&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Finish References&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Move into Word&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;sims&quot;&gt;Sims&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;LSN m = -0.049, N =50, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LSN m = -0.049, N =100, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=50&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;LTC m = -0.049, N =100, T=200&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;Autocorrelation&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, acor” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, var” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, skew” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;kurtosis&quot;&gt;Kurtosis&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, kurtosis” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;likelihood-ratio&quot;&gt;Likelihood ratio&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, MC” tag_mode=“all” min_upload_date=“2011-03-21 10:00:00” max_upload_date=“2011-03-22 10:00:00”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sunday - manuscript and simulations</title>
   <link href="/2011/03/21/sunday-manuscript-and-simulations.html"/>
   <updated>2011-03-21T04:19:59-07:00</updated>
   <id>h/2011/03/21/sunday-manuscript-and-simulations</id>
   <content type="html">&lt;p&gt;Working on manuscript. lot of writing / editing.&lt;/p&gt;
&lt;p&gt;Edited package and example to include skew and kurtosis bootstrap estimates of tau. Currently testing.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;m = -0.04, N = 50, nboot = 160, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.04, N = 50, nboot = 800, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.05, N = 50, nboot = 800, (with all moments)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;m = -0.02, N = 500, nboot = 800 (without skew/kurtosis yet)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;autocorrelation&quot;&gt;Autocorrelation&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, acor” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;variance&quot;&gt;Variance&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, var” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;skew&quot;&gt;Skew&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, skew” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;kurtosis&quot;&gt;Kurtosis&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, kurtosis” tag_mode=“all” min_upload_date=“2011-03-19 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;
&lt;h3 id=&quot;likelihood-ratio&quot;&gt;Likelihood ratio&lt;/h3&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop, MC” tag_mode=“all” min_upload_date=“2011-03-20 00:00:00” max_upload_date=“2011-03-21 10:00:00”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Challenges with Collaboration in Open Science </title>
   <link href="/2011/03/21/challenges-with-collaboration-in-open-science.html"/>
   <updated>2011-03-21T03:43:45-07:00</updated>
   <id>h/2011/03/21/challenges-with-collaboration-in-open-science</id>
   <content type="html">&lt;p&gt;On Thursday &lt;img src=&quot;http://onsclaims.wikispaces.com/file/view/ons-acd2.png/61358142/ons-acd2.png&quot; /&gt; I silently switched my ONS claim from all-content, instant (aci) to all-content, delayed (acd). This wasn’t just an admission that I’m sometimes a day behind in posting my entries. That day’s post was tagged private in wordpress, and didn’t appear in the RSS feed. I updated my socialR package to include a toggle to make uploaded images from public to private, and opened a private github repository. No, nothing tragic has happened and this doesn’t mean that everything I do will now be locked down until publication. Rather this comes as a result of being sent some rather exciting data, _ which I don’t have explicit permission to share_.&lt;/p&gt;
&lt;p&gt;This isn’t a new problem.  Open science has the opportunity to foster new collaborations, and scientists working together in an open context can leverage each others work more efficiently and effectively, while also having extending the potential both to reach and be used by the larger community. That’s not a statement of belief but of experience.  Nevertheless, the far more frequent experience is the challenge of  working with others for whom this is uncomfortable or unexpected.&lt;/p&gt;
&lt;h2 id=&quot;unexpected&quot;&gt;Unexpected&lt;/h2&gt;
&lt;p&gt;The most common challenge comes simply from the need to always ask.  There is often content someone is happy to share but nevertheless I must first get their permission to post.  Seminar speakers, lab talks, or informal discussions or emails that people would not object to appearing in the notebook when asked.  This is the kind of problem Creative Commons licensing is trying to solve, making it easy to clearly give permission to share certain content.  Sometimes it is obvious (email on a public forum, etc), sometimes it’s easy enough to ask, but in general it’s all much easier to record interactions with others in notebook pages that aren’t open.  What’s the best practice here, and how can we make this simpler?&lt;/p&gt;
&lt;h2 id=&quot;uncomfortable&quot;&gt;Uncomfortable&lt;/h2&gt;
&lt;p&gt;It gets harder when collaborators are uncomfortable having a contribution be public  – usually because it is against norms and subject to public scrutiny.  This is certainly understandable; I’m more comfortable giving a quick answer on a method to a colleague (and would be fine with them sharing it by word of mouth), but take much more care when posting that reply to a public forum (such as R-sig-phylo mailing list).  I’ve learned that taking risks and sometimes being wrong on these can be more useful than making private replies, just as I do in making my lab notebook public.  But I appreciate why it would make collaborators uncomfortable particularly when sharing thoughts publicly isn’t the norm and being judged is a risk.  In some ways this is the hardest of the three.&lt;/p&gt;
&lt;p&gt;Unacceptable&lt;/p&gt;
&lt;p&gt;Then sometimes there are just hard barriers to sharing.  Journal requirements discouraging pre-publication disclosure, or post-publication journal copy-rights (it would be great to include published figures and text quotes in the notebook).  Some journals make this easy (see journals that consider a poster online as prepublication), some don’t.  Similarly I may have permission to use but not share data from collaborators.  Here I have hope that intelligent policies from publishers and funders about each of these issues (pre-publication, post-publication, and mandated data sharing) may reduce the frequency with which I face these barriers.&lt;/p&gt;
&lt;h2 id=&quot;just-delayed&quot;&gt;just Delayed?&lt;/h2&gt;
&lt;p&gt;Meanwhile, it’s a lot easier to keep all content in the notebook and mark private anything that runs up against one of these challenges.  With luck, it will just be a delay – after publications are out or the issues are farther in the past, sharing may seem less of a problem for collaborators.  I guess the other question might also be asked: is this really all-content?  It never has been, but I use the claim to indicate nothing is being intentionally withheld, just as with instant claim, nothing is being intentionally delayed.  Not that I have time or a use for writing everything in the posts, but as I’ve e&lt;a href=&quot;http://www.carlboettiger.info/archives/211&quot;&gt;xplained elsewhere&lt;/a&gt; this is why I consider the notebook an integration of wordpress and code, image, and article repositories (github, flickr, mendeley).&lt;/p&gt;
&lt;p&gt;I’m curious to learn how others practicing forms of open science have faced and addressed these challenges in collaborations.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing: Warning Signals Mansucript</title>
   <link href="/2011/03/20/writing-warning-signals-mansucript.html"/>
   <updated>2011-03-20T07:39:13-07:00</updated>
   <id>h/2011/03/20/writing-warning-signals-mansucript</id>
   <content type="html">&lt;p&gt;Summary Paragraph&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Critical transitions exist (Holling, 1973), (May, 1977),(Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2001)&lt;/li&gt;
&lt;li&gt;Warning signals exist (Scheffer &lt;em&gt;et. al.&lt;/em&gt; 2009), (Drake &amp;amp; Griffen, 2010)&lt;/li&gt;
&lt;li&gt;Warning signals are summary statistics, critical slowing down (&lt;span class=&quot;showtooltip&quot; title=&quot;Wissel C (1984). A Universal Law of The Characteristic Return Time
Near Thresholds. _Oecologia_, *65*. ISSN 0029-8549, 
http://dx.doi.org/10.1007/BF00384470.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1007/BF00384470&quot;&gt;Wissel, 1984&lt;/a&gt;&lt;/span&gt;).&lt;/li&gt;
&lt;li&gt;Statement of &lt;strong&gt;general problem:&lt;/strong&gt; double-edged sword – no quantification of the chance detection scheme will fail.&lt;/li&gt;
&lt;li&gt;We provide a way to do this&lt;/li&gt;
&lt;li&gt;We find existing methods lack sufficient power and have high false-alarm potential&lt;/li&gt;
&lt;li&gt;We provide a model-based solution using machinery of modern likelihood statistics&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;background&quot;&gt;Background&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Define CSD, standard detection scheme. Figure 1.&lt;/li&gt;
&lt;li&gt;What’s wrong with this approach: Figure 2&lt;/li&gt;
&lt;li&gt;We do not have a quantification of risk –&amp;gt; related to:&lt;/li&gt;
&lt;li&gt;We do not have a method designed for single replicates.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Being precise: expected value stationary process statistical independence&lt;/p&gt;
&lt;p&gt;Consider an ensemble of data time series data which we represent as a matrix whose columns are replicates and rows are observations at each point in time.  If they are produced by the same stationary process, then computing function &lt;em&gt;f&lt;/em&gt; across the rows that returns a scalar value&lt;/p&gt;
&lt;p&gt;Limits to Detection&lt;/p&gt;
&lt;p&gt;We estimate probability of a missed event and false alarm.  Even negative correlations can correspond to real events, while stable systems are quite likely to have strong signals.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5094/5540149387_6de217dea4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;To do this we need models.&lt;/p&gt;
&lt;h2 id=&quot;models-for-critical-transitions&quot;&gt;Models for Critical Transitions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;General classes: Linearized transcritical, Linearized saddle node&lt;/li&gt;
&lt;li&gt;Models are: general, stochastic (can simulate), analytically tractable (can calc likelihood)&lt;/li&gt;
&lt;li&gt;Apply parametric bootstrap&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Improving Power by Likelihood&lt;/p&gt;
&lt;p&gt;Given that we’re comparing models there’s a full machinery to do this in a way that quantifies uncertainty.  We follow Neyman-Pearson, Cox, McLachlan, Goldman, Huelsenbeck style (Compare Cox’s delta statistic for maximum likelihood estimates of models).  Same basic Monte Carlo framework, but more powerful.&lt;/p&gt;
&lt;p&gt;Avoid other bifurcation types:&lt;/p&gt;
&lt;p&gt;i.e. Hastings &amp;amp; Wysham(Hastings &amp;amp; Wysham, 2010), or supercritical Hopf, see Sebastian’s examples(&lt;span class=&quot;showtooltip&quot; title=&quot;Schreiber S (2003). Allee Effects, Extinctions, And Chaotic Transients
in Simple Population Models. _Theoretical Population Biology_, *64*.
ISSN 00405809,  http://dx.doi.org/10.1016/S0040-5809(03)00072-8.&quot;&gt;&lt;a href=&quot;http://dx.doi.org/10.1016/S0040-5809(03)00072-8&quot;&gt;Schreiber, 2003&lt;/a&gt;&lt;/span&gt;)(Schreiber &amp;amp; Rudolf, 2008)), these would fail model adequacy, while summary-statistics approaches will not.  (May need to outline this better with examples).&lt;/p&gt;
&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Serious application of warning signals must check for power.&lt;/p&gt;
&lt;p&gt;We must quantify uncertainty.&lt;/p&gt;
&lt;p&gt;Future is Bayesian approaches.&lt;/p&gt;
&lt;p&gt;Methods options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;put 200 words in main text under “Methods.” Or:&lt;/li&gt;
&lt;li&gt;put 300 words in “Methods Summary” at end of text (following figure legends).&lt;/li&gt;
&lt;li&gt;put 1000 words in “Additional Methods”.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You still need 300 word version as a “Methods Summary” for print.&lt;/p&gt;
&lt;p&gt;“Additional” appears in online html only. This must repeat any critical info from the Summary (along with references).  It cannot use figures or tables, but should have short bold headings.  Cannot duplicate anything in the Supplement.&lt;/p&gt;
&lt;p&gt;Option (B) is probably best, and just say “see supplement for details”.  (As Drake 2010 does).&lt;/p&gt;
&lt;h1 id=&quot;appendices&quot;&gt;Appendices&lt;/h1&gt;
&lt;h2 id=&quot;models&quot;&gt;Models&lt;/h2&gt;
&lt;h2 id=&quot;parametric-bootstrap&quot;&gt;Parametric Bootstrap&lt;/h2&gt;
&lt;h2 id=&quot;likelihoodaic&quot;&gt;Likelihood, AIC&lt;/h2&gt;
&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;
&lt;h1 id=&quot;misc&quot;&gt;MISC&lt;/h1&gt;
&lt;p&gt;Quantifying risk → realizing we often don’t have power to detect → improving power with likelihood approach.&lt;/p&gt;
&lt;p&gt;But also mention issues like we address the single replicates problem, (also less vulnerable to applying in the case when the bifurcation is the wrong type, because models won’t fit well, but everything has a variance so you don’t realize you’re applying the wrong theory…)&lt;/p&gt;
&lt;p&gt;Replacing prophesy with Science&lt;/p&gt;
&lt;p&gt;risk – probability – chance&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Holling C (1973). “Resilience And Stability of Ecological Systems.” &lt;em&gt;Annual Review of Ecology And Systematics&lt;/em&gt;, &lt;strong&gt;4&lt;/strong&gt;. ISSN 0066-4162, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.es.04.110173.000245&quot;&gt;http://dx.doi.org/10.1146/annurev.es.04.110173.000245&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;May R (1977). “Thresholds And Breakpoints in Ecosystems With A Multiplicity of Stable States.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;269&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/269471a0&quot;&gt;http://dx.doi.org/10.1038/269471a0&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Carpenter S, Foley J, Folke C and Walker B (2001). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;413&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/35098000&quot;&gt;http://dx.doi.org/10.1038/35098000&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scheffer M, Bascompte J, Brock W, Brovkin V, Carpenter S, Dakos V, Held H, van Nes E, Rietkerk M and Sugihara G (2009). “Early-Warning Signals For Critical Transitions.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;461&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature08227&quot;&gt;http://dx.doi.org/10.1038/nature08227&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;467&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hastings A and Wysham D (2010). “Regime Shifts in Ecological Systems Can Occur With no Warning.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;13&lt;/strong&gt;. ISSN 1461023X, &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2010.01439.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2010.01439.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Schreiber S and Rudolf V (2008). “Crossing Habitat Boundaries: Coupling Dynamics of Ecosystems Through Complex Life Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Sebastian J. Schreiber, (2003) Allee Effects, Extinctions, And Chaotic Transients in Simple Population Models. &lt;em&gt;Theoretical Population Biology&lt;/em&gt; &lt;strong&gt;64&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0040-58090300072-8&quot;&gt;10.1016/S0040-5809(03)00072-8&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;C. Wissel, (1984) A Universal Law of The Characteristic Return Time Near Thresholds. &lt;em&gt;Oecologia&lt;/em&gt; &lt;strong&gt;65&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00384470&quot;&gt;10.1007/BF00384470&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals examples and tracking graphs</title>
   <link href="/2011/03/19/warning-signals-examples-and-tracking-graphs.html"/>
   <updated>2011-03-19T13:52:26-07:00</updated>
   <id>h/2011/03/19/warning-signals-examples-and-tracking-graphs</id>
   <content type="html">&lt;p&gt;Working on more examples for the notebook. Currently exploring a collection of simulated examples. In particular, would be useful to have simulated examples that look as realistic in data-density as possible (i.e. fewer sample points, also shorter sampling interval relative to timescale, so doesn’t look like a fuzzy caterpillar. Second, would be good to include examples on data simulated from non-linearized systems made to represent some richer bifurcation examples. Finally it would be good to include as many real-data examples as reasonable.&lt;/p&gt;
&lt;h3 id=&quot;running-at-m-0.03-n500&quot;&gt;Running at m = 0.03, N=500&lt;/h3&gt;
&lt;p&gt;very clear in likelihood and rather clear in summary statistics as well, though summary statistics null remains highly variable. 1600 replicates&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5135/5534015439_d8089c1e21_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5291/5531339094_b9ff913ceb_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5173/5530753225_6a486687f8_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.02-still-with-n-500-nice-19&quot;&gt;Rerunning at m=-0.02 still with N = 500 nice 19&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5093/5540597051_153f31e85c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5094/5540149387_6de217dea4_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5256/5540149185_46de9fb206_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.03-with-n-50-nice-1&quot;&gt;rerunning at m=-0.03 with N = 50 nice 1&lt;/h3&gt;
&lt;p&gt;pretty hopeless:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5016/5541051116_0b98381e1d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5016/5540268369_1d1cede1ea_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5051/5540849966_4ea51e10cc_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;rerunning-at-m-0.05-with-n-50-nice-0&quot;&gt;rerunning at m=-0.05 with N = 50 nice 0&lt;/h3&gt;
&lt;p&gt;(hits collapse at end of time), can clearly tell apart, Though with notable uncertainty in indicator statistics, though variance performs substantially better than autocorrelation.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5253/5540480089_b8e8e12cc5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5057/5540287643_c70bf339b6_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5134/5540869288_2af4d6f227_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;better-tracking-of-computational-objects&quot;&gt;Better tracking of computational objects&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Problem:&lt;/strong&gt; Saving .Rdat files to match the script-name and tracking those files in git does not provide a good map between code and results. Running the same script simultaneously with different parameters would mean that the datafile was overwritten by the first and could have hashtags on figures not correspond to the current version of the data commit.&lt;/p&gt;
&lt;p&gt;This also means tracking binary .Rdat files in git, which both takes up extra space and isn’t readable by diff/display tools.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt; Rather than only running differently-named scripts simultaneously (or avoiding runs on the the same repository code) it makes more sense to track the data to the computational object directly.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The .Rdat files should be saved using a unique hash name corresponding to the result.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;They shouldn’t be revision managed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This should be handled automatically within social_plot in the socialR package.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This identifier needs to be by flickr id, as git hashtag isn’t unique to the result; the graph is the computational object.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now implemented in package. Can store all datafiles in a local repository, no need to keep them on the cloud server as they can always be reproduced by rerunning the code – storing the .Rdat output is really about efficiency and convenience.&lt;/p&gt;
&lt;p&gt;For completeness this might store the git hash too. Could play with ls environment. Getting ls environment right to save the appropriate data requires manipulating R environments, as ls() inside a function returns only what that function sees.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    if(save){
        save(list=ls(globalenv()), file=paste(flickr_id, &amp;quot;.Rdat&amp;quot;, sep=&amp;quot;&amp;quot;))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;computational-notebook-to-do&quot;&gt;Computational Notebook to-do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Considering a git guide for notebook: setting up, jumping back to a hashtag version, running the code to make any figure, etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;flickr guide?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;AWS/EC3 guide&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Approximate Bayesian Computing (algorithms) methods</title>
   <link href="/2011/03/19/approximate-bayesian-computing-abc-methods.html"/>
   <updated>2011-03-19T04:07:50-07:00</updated>
   <id>h/2011/03/19/approximate-bayesian-computing-abc-methods</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://matsen.fhcrc.org/&quot;&gt;Erick Matsen&lt;/a&gt; asked me about the question at the end of Luke Harmon’s phyloseminar critiquing Approximate Bayesian Computing ABC methods.  The question wasn’t any more specific, though Luke recognized the paper.  Searching the literature didn’t turn anything up, asking &lt;a href=&quot;http://www.mendeley.com/profiles/leonardo-de-oliveira-martins/&quot;&gt;Leo&lt;/a&gt; through the &lt;a href=&quot;http://www.mendeley.com/groups/517931/bayesian-mcmc/&quot;&gt;MCMC group&lt;/a&gt; on Mendeley I think this is the paper:&lt;/p&gt;
&lt;p&gt;﻿Robert, C.P. et al. Lack of confidence in ABC model choice. &lt;em&gt;PNAS&lt;/em&gt; &lt;strong&gt;I&lt;/strong&gt;, 8(2011). (&lt;a href=&quot;http://arxiv.org/abs/1102.4432&quot;&gt;arXiv&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Seems a more pointed critique to ABC then Templeton’s discussion (Templeton, 2010) particularly as the lead author is a critic of Templeton (Berger &lt;em&gt;et. al.&lt;/em&gt; 2010).&lt;/p&gt;
&lt;p&gt;At first I thought this would be a relatively intuitive argument that the method is often applied when we lack appropriate sufficient statistics for models.  Of course it comes down to a question of sufficient statistics, but the result is somewhat stronger,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;a straightforward proof that a model-wise sufficient statistic is usually not sufficient across models, i.e. for model comparison.  An immediate corollary is that the ABC-MC approximation does not converge to the exact Bayes factor.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Hence the emphasis on model choice in the title – lacking sufficient statistics for the particular model would obviously impact posterior density estimation even within models.&lt;/p&gt;
&lt;p&gt;There’s some rather excellent discussion of these issues on &lt;a href=&quot;http://xianblog.wordpress.com/2011/03/08/error-in-abc-versus-error-in-model-choice/&quot;&gt;Christian Robert’s blog&lt;/a&gt;, again thanks to Leo for pointing me to this, still some more reading to do on this before we here more about ABC from Brian O’Meara on &lt;a href=&quot;http://phyloseminar.org/&quot;&gt;phyloseminar&lt;/a&gt; next week.&lt;/p&gt;
&lt;h3 id=&quot;update&quot;&gt;Update&lt;/h3&gt;
&lt;p&gt;Dan Lawson (comments below) drew my attention to another paper treating this problem of model-wise sufficient statistics Didelot &lt;em&gt;et. al.&lt;/em&gt; 2011.  The authors propose a potentially straight-forward work-around: define a model M in which both the original models M1 and M2 are embedded.  They then demonstrate for exponential family models that sufficient statistics for M are sufficient statistics for comparing M1 and M2 by Bayes factors, if I’ve followed the argument correctly.  I’ll try to work out an example in a phylogenetics context in the notebook when I get a chance.&lt;/p&gt;
&lt;h3 id=&quot;further-reading&quot;&gt;Further reading&lt;/h3&gt;
&lt;p&gt;Search also led me to stumble across two nice books applying this in R.&lt;/p&gt;
&lt;p&gt;Robert, C.P. &amp;amp; Casella, G. &lt;em&gt;Introducing Monte Carlo Methods with R (Use R)&lt;/em&gt;. 284 (Springer Verlag: 2009), (&lt;a href=&quot;http://www.amazon.com/Introducing-Monte-Carlo-Methods-Use/dp/1441915753&quot;&gt;Amazon link&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;﻿Albert, J. &lt;em&gt;Bayesian Computation with R (Use R)&lt;/em&gt;. 300 (Springer: 2009). (&lt;a href=&quot;http://www.amazon.com/Bayesian-Computation-R-Use/dp/0387922970&quot;&gt;Amazon link&lt;/a&gt;).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Templeton A (2010). “Coherent And Incoherent Inference in Phylogeography And Human Evolution.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0910647107&quot;&gt;http://dx.doi.org/10.1073/pnas.0910647107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Berger J, Fienberg S, Raftery A and Robert C (2010). “Incoherent Phylogeographic Inference.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1008762107&quot;&gt;http://dx.doi.org/10.1073/pnas.1008762107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Likelihood-Free Estimation of Model Evidence, Xavier Didelot, Richard G. Everitt, Adam M. Johansen, Daniel J. Lawson, (2011) &lt;em&gt;Bayesian Analysis&lt;/em&gt;, &lt;strong&gt;6&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1214/11-BA602&quot;&gt;10.1214/11-BA602&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Sam's Practice talk</title>
   <link href="/2011/03/18/friday-2.html"/>
   <updated>2011-03-18T09:37:40-07:00</updated>
   <id>h/2011/03/18/friday-2</id>
   <content type="html">&lt;h2 id=&quot;notes-from&quot;&gt;Notes from:&lt;/h2&gt;
&lt;p&gt;Sam Price’s Practice Job Talk for Hull, UK, next week, in Wainwright lab:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Diversification of mammals predated KT event(Bininda-Emonds &lt;em&gt;et. al.&lt;/em&gt; 2007) (also considerably later, but not right after)&lt;/li&gt;
&lt;li&gt;Ecological shift in wrasses to parrotfishes(Price &lt;em&gt;et. al.&lt;/em&gt; 2010). No evidence of elevate rates of evolution. But, scraping parrotfishes do show difference (starting from base of Hipposcarus-Scarus common ancestor).&lt;/li&gt;
&lt;li&gt;Multiple transitions to/from reef living. 2x faster on coral reefs!  (Price &lt;em&gt;et. al.&lt;/em&gt; 2011)&lt;/li&gt;
&lt;li&gt;In prep: Omnivores trophic strategy (transitions are always via omnivore).  Carnivore-&amp;gt;omnivore-&amp;gt;herbivore stronger pathway. Herbivores diversify fast, Omnivores slowest, a transition group.(Price &amp;amp; Hopkins in prep)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;my Qs * Mass – how do you weight it (by species number)? presumably in log. * Nice stories, all are ecological shifts. Is there a trend/direction? More ambitious/clearer? What’s the general pattern and story&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Approach&lt;/strong&gt;: Database collection. Trait databases. Phylogeny building, time calibration. Comparative methods.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Plan: Continue with approach, apply to conservation (&amp;gt;&amp;gt;how??) &amp;amp; teaching students through applied questions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Future Directions&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Project 1: Increase breath of taxa. Use of fossils. Get real fancy with fossil traits: 3D GIS approach on fossils&lt;/li&gt;
&lt;li&gt;Project 2: Spatial &amp;amp; Climate change. wow. application?&lt;/li&gt;
&lt;li&gt;Project 3: Host shifting on parasites – great data is available. Phylo distance propto shifting rate? breakdown by range overlap, parasite type, transmission, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Other group comments&lt;/p&gt;
&lt;h3 id=&quot;peter-applied-evolution-really-strong-pitch-under-utilized-and-very-powerful.&quot;&gt;Peter: Applied Evolution really strong pitch: under-utilized and very powerful.&lt;/h3&gt;
&lt;p&gt;Peter: Sell interesting bio questions and real expertise Matt on reef paper: also is applied: what enviro has less extinction&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Bininda-Emonds O, Cardillo M, Jones K, MacPhee R, Beck R, Grenyer R, Price S, Vos R, Gittleman J and Purvis A (2007). “The Delayed Rise of Present-Day Mammals.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;446&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature05634&quot;&gt;http://dx.doi.org/10.1038/nature05634&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Wainwright P, Bellwood D, Kazancioglu E, Collar D and Near T (2010). “Functional Innovations And Morphological Diversification in Parrotfish.” &lt;em&gt;Evolution&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&quot;&gt;http://dx.doi.org/10.1111/j.1558-5646.2010.01036.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Price S, Holzman R, Near T and Wainwright P (2011). “Coral Reefs Promote The Evolution of Morphological Diversity And Ecological Novelty in Labrid Fishes.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;14&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2011.01607.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2011.01607.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals in Ecological Systems: Revisions and Drake & Griffen Data</title>
   <link href="/2011/03/17/warning-signals-in-ecological-systems-drake-griffen-data.html"/>
   <updated>2011-03-17T02:59:18-07:00</updated>
   <id>h/2011/03/17/warning-signals-in-ecological-systems-drake-griffen-data</id>
   <content type="html">&lt;h2 id=&quot;manuscript-revisions&quot;&gt;Manuscript revisions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Heard back from Alan this morning on manuscript, need to cut wordcount in half, from 3000 to 1500 words.&lt;/li&gt;
&lt;li&gt;Should emphasize the countless and utterly arbitrary choices made in every one of these analyses.&lt;/li&gt;
&lt;li&gt;Should emphasize our approach can be applied without replicates. (also without interpolating/having evenly sampled data)&lt;/li&gt;
&lt;li&gt;Should do coefficient of variation on non-detrended data(?) should discuss?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;chemostat-data&quot;&gt;Chemostat data&lt;/h2&gt;
&lt;p&gt;This morning Alan sent me the data used by Drake &amp;amp; Griffen (Drake &amp;amp; Griffen, 2010). Step one: reread Drake &amp;amp; Griffen.&lt;/p&gt;
&lt;h3 id=&quot;notes-on-reading&quot;&gt;Notes on reading&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Based on hypothesized transcritical bifurcation.  Data does not show the pattern expected by transcritical bifurcation though – mean should stay constant as the value of r changes in the logistic model, and yet they emphasize finding a change in this as if that is expected (i.e. Figure 1b inset).  And then they decide not to detrend.  Meanwhile Scheffer paper uses saddle-node example in which the mean should change and they assume it should not, and do detrend.   All backwards.&lt;/li&gt;
&lt;li&gt;Main article uses only ensemble data over 30 deteriorating environment and 30 from the control group.&lt;/li&gt;
&lt;li&gt;Note they also use a composite index – despite the fact that everything except CV is wrong more often then it is right (see supplement)&lt;/li&gt;
&lt;li&gt;Detrending subtracts a loess smooth instead of kernel smoothing. They use the raw (non-detrended data) after showing it has a better classification rate.  Ok for a “best case” test, but rather poor statistical form to pick whatever method gets the highest “correct” rate.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;So how do the classify a warning signal?&lt;/em&gt; They start deteriorating the environment after some time interval into the experiment (to remove transients).  They estimate the likely point of the bifurcation (without any treatment of uncertainty).  They calculate the warning signal over this interval of 16 data points, then take “any increase or local maximum” in this window. (sliding window size of 8 points).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;from-the-supplement&quot;&gt;From the supplement&lt;/h4&gt;
&lt;p&gt;Table A1 shows false positive and false negative rates on the individual runs after classification. Almost all individual runs are classified as no-warning. CV has a 2:3 chance of catching the warning signals in the collapsing group, other stats do worse than random.&lt;/p&gt;
&lt;h3 id=&quot;replicating-results&quot;&gt;Replicating Results&lt;/h3&gt;
&lt;p&gt;All results can be rerun, generating the plots again, by executing main.R. Caution, produces too many plot windows and errors.&lt;/p&gt;
&lt;p&gt;Open main.R, run the library loads, source preprocess.R and ensembles.R&lt;/p&gt;
&lt;h3 id=&quot;reanalysis-independently-exploring-data&quot;&gt;Reanalysis: Independently exploring data&lt;/h3&gt;
&lt;p&gt;Applying my methods to a single replicate from a warning signals example: (&lt;a href=&quot;https://github.com/cboettig/private/commit/fc52893e97de7013f0810692c717ffa97e3cc64c&quot;&gt;see code&lt;/a&gt;)&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    id &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;det.set$ID[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]
      w&amp;lt;-&lt;span class=&quot;dv&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;co&quot;&gt;#size of moving window in terms of sampling periods&lt;/span&gt;
      pop&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;populations$day[populations$ID==id],&lt;span class=&quot;dt&quot;&gt;x=&lt;/span&gt;populations$x[populations$ID==id])
      pop&amp;lt;-pop[&lt;span class=&quot;kw&quot;&gt;order&lt;/span&gt;(pop$day),]
    
    interval &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop$day &amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;154&lt;/span&gt; &amp;amp;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop$day &amp;lt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;271&lt;/span&gt;
    X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pop[interval,]&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5176/5535292129_d5bce24322_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5219/5535642555_b095cc981c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.static.flickr.com/5178/5535302309_6bf8e9db4d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;No real hope of detecting a warning signal in this example. Applying my method to the ensemble average data, need to group first by day – will have to figure out how to do this, differs in syntax between methods, i.e.,&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;    cv.det&amp;lt;-&lt;span class=&quot;kw&quot;&gt;aggregate&lt;/span&gt;(timeseries$y[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;],&lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;timeseries$day[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]),cv)
    ## while skew requires a bit more prep
    det.set&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ID=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;unique&lt;/span&gt;(timeseries$ID2[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]),&lt;span class=&quot;dt&quot;&gt;deteriorating=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
    const.set&amp;lt;-&lt;span class=&quot;kw&quot;&gt;data.frame&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;ID=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;unique&lt;/span&gt;(timeseries$ID2[timeseries$Deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]),&lt;span class=&quot;dt&quot;&gt;deteriorating=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;)
    deteriorating&amp;lt;-&lt;span class=&quot;kw&quot;&gt;rbind&lt;/span&gt;(det.set,const.set)
    populations&amp;lt;-&lt;span class=&quot;kw&quot;&gt;merge&lt;/span&gt;(populations,deteriorating)
    skew.const&amp;lt;-&lt;span class=&quot;kw&quot;&gt;aggregate&lt;/span&gt;(populations$x[populations$deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;],&lt;span class=&quot;dt&quot;&gt;by=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;day=&lt;/span&gt;populations$day[populations$deteriorating==&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;]),skewness)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Note uses skewness from the package “moments,” perhaps a better choice than the moments from the psych package.&lt;/p&gt;
&lt;h4 id=&quot;handling-ensembles-properly&quot;&gt;Handling Ensembles properly&lt;/h4&gt;
&lt;p&gt;Having ensemble data, particularly form a test group and control group, provides some unique opportunities.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;I can draw from these directly, rather than from simulated data, to perform the parametric bootstrap of likelihood-based model fits to illustrate how distinct the data really are relative to their MLE estimates.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I can integrate the approach over datasets: treating each replicate as individual and performing fits, simulation, and posterior re-estimation for model comparisons.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Drake J and Griffen B (2010). “Early Warning Signals of Extinction in Deteriorating Environments.”, &lt;em&gt;Nature&lt;/em&gt;. &lt;a href=&quot;http://dx.doi.org/10.1038/nature09389&quot;&gt;http://dx.doi.org/10.1038/nature09389&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2011/03/16/wednesday.html"/>
   <updated>2011-03-16T16:49:35-07:00</updated>
   <id>h/2011/03/16/wednesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Updated dependencies of warningsignals package.  Removed old dependencies, migrated montecarlotest into package, removing the pmc dependency.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated my webpage teaching statement (lunch break)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;montecarlotest wasn’t getting sfLibrary(warningsignals) called in yesterday’s runs, so redoing this.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Writing – conclusion, finalized organization, sent off to Alan.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Panel for models.  Appendix for model derivations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Panel for approach/algorithm.  Appendix for algorithm implementation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Figure review&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added references&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2011/03/15/tuesday-2.html"/>
   <updated>2011-03-15T15:38:08-07:00</updated>
   <id>h/2011/03/15/tuesday-2</id>
   <content type="html">&lt;h2 id=&quot;variance-and-warning-signals&quot;&gt;Variance and warning signals&lt;/h2&gt;
&lt;p&gt;Sebastian has several examples of dynamical systems that decrease in variance as they approach a bifurcation. In some sense this is not surprising, both are through the collapse of periodic attractors. Figure 2d in TPB paperSchreiber, 2003 has an example in a discrete system, and Figure 5a in the Ecology Letters paper (Schreiber &amp;amp; Rudolf, 2008) has a continuous-time example. Consider for instance the supercritical Hopf bifurcation, in which a stable limit cycle vanishes into an unstable node, as in a van der Pol oscillator,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d x}{dt} = -\mu(1-y^2) x-y&quot; alt=&quot;\frac{d x}{dt} = -\mu(1-y^2) x-y&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dy}{dt}= x&quot; alt=&quot;\frac{dy}{dt}= x&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Reading&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some quick background reading on GTR+I+G, &lt;a href=&quot;http://www.carlboettiger.info/archives/1197&quot;&gt;see post here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-simulation-examples&quot;&gt;Further simulation examples&lt;/h2&gt;
&lt;p&gt;Yesterday’s runs often show inadequate power to distinguish even by likelihood. Trying slightly stronger signal of collapse (faster destabilization rate).&lt;/p&gt;
&lt;h3 id=&quot;code-library-updates&quot;&gt;Code library updates&lt;/h3&gt;
&lt;p&gt;Improved tag and comment handling for strings, in flickr upload through socialR, thanks to Gabriel on statscicomp for this one&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## basic syntax is:
paste(c(&amp;quot;a&amp;quot;, &amp;quot;b&amp;quot;, &amp;quot;c&amp;quot;), collapse=&amp;quot; &amp;quot;)  
## lets me grab all model parameters into comment
comment &amp;lt;- paste(c(names(pars), &amp;quot;:&amp;quot;, pars, &amp;quot;\\&amp;quot;, names(sampling), &amp;quot;:&amp;quot;, sampling, &amp;quot;nboot:&amp;quot;, nboot), collapse=&amp;quot; &amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;since flickr_upload protocol wants a single element string for comments and tags. Should use these to check against hashtags to ensure parameters are handled correctly. May want to incorporate into the interface somehow.&lt;/p&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Created profile on &lt;a href=&quot;http://nationallabnetwork.org&quot;&gt;National Lab Network&lt;/a&gt; for education/outreach after reading a rather interesting paper in PLoS (Rumala &lt;em&gt;et. al.&lt;/em&gt; 2011) discussing the program.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Data management videos from Marcel, still need posting and writeup.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Interview with first Dean candidate 4:15-5:30.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Schreiber S and Rudolf V (2008). “Crossing Habitat Boundaries: Coupling Dynamics of Ecosystems Through Complex Life Cycles.” &lt;em&gt;Ecology Letters&lt;/em&gt;, &lt;strong&gt;11&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&quot;&gt;http://dx.doi.org/10.1111/j.1461-0248.2008.01171.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rumala B, Hidary J, Ewool L, Emdin C and Scovell T (2011). “Tailoring Science Outreach Through E-Matching Using A Community-Based Participatory Approach.” &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;9&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1001026&quot;&gt;http://dx.doi.org/10.1371/journal.pbio.1001026&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allee Effects, Extinctions, And Chaotic Transients in Simple Population Models, Sebastian J. Schreiber, (2003) &lt;em&gt;Theoretical Population Biology&lt;/em&gt;, &lt;strong&gt;64&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1016/S0040-58090300072-8&quot;&gt;10.1016/S0040-5809(03)00072-8&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Model identifiability in phylogenetic inference GTR+I+G</title>
   <link href="/2011/03/15/models-in-phylogenetic-inference.html"/>
   <updated>2011-03-15T06:07:13-07:00</updated>
   <id>h/2011/03/15/models-in-phylogenetic-inference</id>
   <content type="html">&lt;p&gt;Another phylogenetics paper (Perelman &lt;em&gt;et. al.&lt;/em&gt; 2011) using GTR+I+G inspired me to look back over the discussion and objections with this model.  This model is the basis of 100s of publications, 40 alone in Sys Bio in 2006(Allman &lt;em&gt;et. al.&lt;/em&gt; 2008). There’s a decent &lt;a href=&quot;http://treethinkers.blogspot.com/2009/04/when-we-fail-mrbayes.html&quot;&gt;discussion on Dechronization&lt;/a&gt; about the issue. There’s some treatment of identifiability on this issue, such as 2001 Sys Bio (Rogers, 2001) which suggests this is possible and a nice paper in Adv. Applied Prob (Allman &lt;em&gt;et. al.&lt;/em&gt; 2008) that critiques this “proof” and provides one of the few proofs of any model being identifable: GTR+G.  Despite their critique of the earlier proof, Elizabeth, Cecile and John take the position that the claim may well be true, but the proof is not as trivial as Rogers suggests.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Furthermore, bridging either of the gaps in [11] is not a trivial matter.  Though we suspect that Rogers’ statement of identifiability is correct, at least for generic parameters, we have not been able to establish it by his method&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The strange thing about having a proportion of invariant sites (I) along with Gamma-distributed among site rate variation (G) mostly seems to come from the potential for poor convergence behavior in MCMC routine, since much the same fit could be provided by increasing the number of invariant sites as tightening the gamma distribution.  From :&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The first gap is in the use of an unjustified claim concerning graphs of the sort exemplified by Figure 3 of that paper. As this claim plays a crucial role in the entire argument, the statement above remains unproven.  The second gap, though less sweeping in its impact, is still significant. As-suming the unjustified graphical claim mentioned above could be proved, the argument of [11] still uses an assumption that the eigenvalues of the GTR rate matrix be distinct. While this is true for generic GTR parameters, there are exceptions, including the well-known Jukes-Cantor and Kimura 2-parameter models [4]. Without substantial additional arguments, the reasoning given in [11] cannot prove identifiability in all cases.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The first claim referred to is between two distributions of I+$ $ with $ $ appearing graphically distinct.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Perelman P, Johnson W, Roos C, Seuánez H, Horvath J, Moreira M, Kessing B, Pontius J, Roelke M, Rumpler Y, Schneider M, Silva A, O’Brien S, Pecon-Slattery J and Brosius J (2011). “A Molecular Phylogeny of Living Primates.” &lt;em&gt;Plos Genetics&lt;/em&gt;, &lt;strong&gt;7&lt;/strong&gt;. &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pgen.1001342&quot;&gt;http://dx.doi.org/10.1371/journal.pgen.1001342&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Allman E, Ané C and Rhodes J (2008). “Identifiability of A Markovian Model of Molecular Evolution With Gamma-Distributed Rates.” &lt;em&gt;Advances in Applied Probability&lt;/em&gt;, &lt;strong&gt;40&lt;/strong&gt;. ISSN 0001-8678, &lt;a href=&quot;http://dx.doi.org/10.1239/aap/1208358894&quot;&gt;http://dx.doi.org/10.1239/aap/1208358894&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rogers J (2001). “Maximum Likelihood Estimation of Phylogenetic Trees is Consistent When Substitution Rates Vary According to The Invariable Sites Plus Gamma Distribution.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;50&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1080/106351501753328839&quot;&gt;http://dx.doi.org/10.1080/106351501753328839&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Peter's talk </title>
   <link href="/2011/03/14/peters-talk.html"/>
   <updated>2011-03-14T15:29:55-07:00</updated>
   <id>h/2011/03/14/peters-talk</id>
   <content type="html">&lt;p&gt;Peter spoke in Sebastian’s lab meeting about a spatially explicit Moran model, for which he derives Fisher’s wave equation and an ancestry process.  Here’s what he says,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;the general plan is to describe a simple spatial model of adaptation (or, could be of invasion…); and use it to derive (Fisher’s) traveling wave; the corrections that arise if you don’t assume the population is infinitely large; and describe how to follow lineages back through the expanding wave.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5296/5528100944_b55256a3e7_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5258/5529674885_1de485dc68_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5136/5529688199_bf7f6a54ef_o.jpg&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals, Monday</title>
   <link href="/2011/03/14/warning-signals-monday.html"/>
   <updated>2011-03-14T04:18:59-07:00</updated>
   <id>h/2011/03/14/warning-signals-monday</id>
   <content type="html">&lt;p&gt;Set up a few long runs of simulated data to better illustrate the effects of sampling time and density, and better resolve the distributions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Longer baseline run, nice 19, indicator_vs_likelihood.R 1600 reps, m=-0.015, N=500, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Longer sampling, same interval: nice 18, stronger_signal.R 160 reps m=-0.015, N = 2500, T=500&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fails to compute, looks like poor estimates of model fits.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Denser sampling, nice 17: indicator_vs_likelihood.R 160 reps, m=-0.015, N=2500, T=100&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Longer less dense sampling, nice 16: indicator_vs_likelihood.R 160 reps, m=-0.015, N=500, T=500. Fails to compute, looks like poor estimates of model fits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Less dense sampling, nice 16: indicator_vs_likelihood.R 160 reps, m=-0.015, N=50, T=100.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Results pulled in below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-03-14 00:00:00” max_upload_date=“2011-03-15 23:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;bifurcations&quot;&gt;Bifurcations&lt;/h2&gt;
&lt;h3 id=&quot;transcritical-bifurcation&quot;&gt;Transcritical bifurcation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Canonical form:&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = -r_t x^2&quot; alt=&quot;\frac{dx}{dt} = -r_t x^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;driven by changing sign on $ r_t $&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;**Example biological model **(with stochasticity):&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = r_t X_t (1-X_t/K)dt + \sigma dB_t&quot; alt=&quot;dX_t = r_t X_t (1-X_t/K)dt + \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Linearized form:&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = r_t  (K-X_t)dt + \sigma dB_t&quot; alt=&quot;dX_t = r_t  (K-X_t)dt + \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;saddle-node&quot;&gt;Saddle-node&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Canonical form&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = r - x^2&quot; alt=&quot;\frac{dx}{dt} = r - x^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Driven by changing sign on $ r_t $&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;* Example biological model:&lt;/em&gt;*&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \left( \frac{e K x^2}{X^2 + h_t^2} - e X_t - a_t\right) dt +   \sigma \sqrt{ \frac{e K x^2}{X^2 + h_t^2} + e X_t + a_t} dB_t&quot; alt=&quot;dX_t = \left( \frac{e K x^2}{X^2 + h_t^2} - e X_t - a_t\right) dt +   \sigma \sqrt{ \frac{e K x^2}{X^2 + h_t^2} + e X_t + a_t} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Either $ a_t$ or $ e$ decreasing through zero can force this through a saddle-node bifurcation, &lt;a href=&quot;http://www.carlboettiger.info/archives/108&quot;&gt;see this entry&lt;/a&gt;.  Either of these can be approximated as a quadratic in the neighborhood of the stable point, which gives the bifurcation the canonical form,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = r_t - (\theta - X_t)^2 dt + \sqrt{\sigma (r_t+ (\theta-X_t)^2) }dB_t&quot; alt=&quot;dX = r_t - (\theta - X_t)^2 dt + \sqrt{\sigma (r_t+ (\theta-X_t)^2) }dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Linearized&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\phi_t = \sqrt{r_t} + \theta&quot; alt=&quot;\phi_t = \sqrt{r_t} + \theta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = 2 \sqrt{ r_t } \left(\phi_t - X_t\right)  + \sigma \sqrt{ \phi_t } dB_t&quot; alt=&quot;dX = 2 \sqrt{ r_t } \left(\phi_t - X_t\right)  + \sigma \sqrt{ \phi_t } dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h4 id=&quot;previous-entries&quot;&gt;Previous entries:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/461&quot;&gt;On estimating quadratic models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/452&quot;&gt;Challenges in quadratic models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/108&quot;&gt;Visualizing Saddle-node types&lt;/a&gt; – should add bifurcation diagram, and transcritical bifurcations to this set&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/468&quot;&gt;Linearized models&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writingfigures&quot;&gt;Writing/figures&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need a panel and figure explaining the models&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need a panel and figure explaining the algorithm&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Parametric bootstrap monte carlo&lt;/p&gt;
&lt;h2 id=&quot;notebook-notes&quot;&gt;Notebook notes&lt;/h2&gt;
&lt;p&gt;Pasting in from word (or the visual editor?) turns LaTeX minus signs into longer dashes, causing the latex interpreter to fail. Rather annoying syntax error to find.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals: summary stats vs likelihood on real and simulated data</title>
   <link href="/2011/03/11/warning-signals-summary-stats-vs-likelihood-on-real-and-simulated-data.html"/>
   <updated>2011-03-11T06:35:05-08:00</updated>
   <id>h/2011/03/11/warning-signals-summary-stats-vs-likelihood-on-real-and-simulated-data</id>
   <content type="html">&lt;p&gt;Added bar of observed tau on real data to the tau distributions. Fixed the tau-distribution method, running new data and real examples now.&lt;/p&gt;
&lt;p&gt;Simulated data: can tell tau apart for instance, for autocorrelation (see photostream for variance, code hash for parameters, etc). &lt;img src=&quot;http://farm6.staticflickr.com/5298/5518459610_b4a79201a7_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;While can’t really tell anything based on the tau on the autocorrelation for the Deuterium data for Glaciation III (which has just about the clearest signal of the deuterium set): &lt;img src=&quot;http://farm6.staticflickr.com/5251/5517841341_5a20b049e4_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Waiting to see how the likelihood statistics compare on these examples.&lt;/p&gt;
&lt;p&gt;Today’s runs: [flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-03-11 00:00:00” max_upload_date=“2011-03-11 23:59:59”]&lt;/p&gt;
&lt;p&gt;With more replicates, simulated data shows the increased power of the likelihood approach relative to the summary statistics:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5132/5518595002_6fd35d8d2d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5140/5518595068_abb5a72cbe_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Likelihood-based approach for the same data: &lt;img src=&quot;http://farm6.staticflickr.com/5258/5519026318_9e0e5dd5d0_o.png&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;caco3-data&quot;&gt;CaCO3 data&lt;/h4&gt;
&lt;p&gt;The model fit to CaCO3 data actually suggests a stabilizing pattern as the best fit, despite the fact that the estimated autocorrelation is positive. This produces null distributions with largely negative Tau trends in variance (seen in the real data as well) and a negative overall pattern in autocorrelation. The models can be identified by likelihood, though in this case it for a trend of increasing rather than decreasing eigenvalue.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5096/5517792569_f634b329a0_o.png&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5096/5517792569_f634b329a0_o.png&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;http://farm6.static.flickr.com/5220/5518384482_55998356c0_o.png&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5220/5518384482_55998356c0_o.png&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;http://farm6.static.flickr.com/5255/5518867116_dd06e88cef.jpg&quot;&gt;&lt;img src=&quot;http://farm6.static.flickr.com/5255/5518867116_dd06e88cef.jpg&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;manuscript-working-notes&quot;&gt;Manuscript working notes&lt;/h3&gt;
&lt;p&gt;Should make plots for a panel showing how the nonlinear S curve model reduces to a quadratic saddle-node bifurcation picture which reduces to a linear OU model (with moving-average, changing noise and stability, both pictorially and by equations).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Numerical challenges in likelihood estimation of time-dep OU models</title>
   <link href="/2011/03/10/numerical-challenges-in-likelihood-estimation-of-time-dep-ou-models.html"/>
   <updated>2011-03-10T15:46:46-08:00</updated>
   <id>h/2011/03/10/numerical-challenges-in-likelihood-estimation-of-time-dep-ou-models</id>
   <content type="html">&lt;p&gt;Worried about accurate maximum likelihood estimates of parameters, as the optimization could still converge on values not far from the starting conditions (not as surprising as the starting parameters are estimated intelligently first from the summary statistics) but could also vary depending on initial conditions.&lt;/p&gt;
&lt;p&gt;Second, while it requires some re-parameterization, the stationary model for both linearized transcritical (LTC) bifurcation model and the linearized saddle-node (LSN) model are identically Ornstein-Uhlenbeck models. As this model is stationary, it’s unnecessary to continue numerically integrating the SDE to get the moments of the probability distribution, I can just use the analytic solution for the moments. I’ve written this in as a model class “constOU” in the likelihood_bifur_models.R library, which is of course much faster:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;constOU &amp;lt;- function(Xo, to, t1, pars){
    Dt &amp;lt;- t1 - to
    Ex &amp;lt;- Xo*(1 - exp(-pars[&amp;quot;Ro&amp;quot;]*Dt)) + pars[&amp;quot;theta&amp;quot;]*exp(-pars[&amp;quot;Ro&amp;quot;]*Dt) 
    Vx &amp;lt;- 0.5*pars[&amp;quot;sigma&amp;quot;]^2 *(1-exp(-2*pars[&amp;quot;Ro&amp;quot;]*Dt))/pars[&amp;quot;Ro&amp;quot;]
    if(pars[&amp;#39;Ro&amp;#39;] &amp;lt; 0 ) Vx = Inf 
    if(pars[&amp;#39;sigma&amp;#39;] &amp;lt; 0 ) Vx = Inf 
    return(list(Ex=Ex, Vx=Vx))
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Turning these parameters into those used by LTC should not require any scaling, while the estimated Ro becomes root Ro in LSN.&lt;/p&gt;
&lt;p&gt;As I explored earlier, with linear change in stability the analytic expression for the moments gives some integrals that can be solved, but still leaves some to be done numerically, so integrating the moment equations directly seems just as well. Note that I’m still using the Gaussian character of the model to integrate the moments, by using the linear noise approximation:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## LSN
    moments &amp;lt;- function(t,y,p){ 
        sqrtR &amp;lt;- sqrt(R(t,pars)) 
        yd1 &amp;lt;- 2*sqrtR*(sqrtR+pars[&amp;#39;theta&amp;#39;] - y[1]) 
        yd2 &amp;lt;- -2*sqrtR*y[2] + p[&amp;quot;sigma&amp;quot;]^2*(sqrtR+pars[&amp;#39;theta&amp;#39;])
        list(c(yd1=yd1, yd2=yd2))
    }
## LTC
    moments &amp;lt;- function(t,y,p){ 
        yd1 &amp;lt;- R(t,pars)*(pars[&amp;#39;theta&amp;#39;] - y[1]) 
        yd2 &amp;lt;- -2*R(t,pars)*y[2] + p[&amp;quot;sigma&amp;quot;]^2 ##check?
        list(c(yd1=yd1, yd2=yd2))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;improving-speed&quot;&gt;Improving speed?&lt;/h3&gt;
&lt;p&gt;Attempting to improve the speed of the time-dependent fits. Most of the time is used by lsoda, not surprisingly. Worried that this time was simply in the initialization/allocation/cleanup of the integrator, which has to be called for each timestep in every calculation of the likelihood. If true, moving this into C I could have only a single allocation of the ode integrator which I could use for all timesteps, and I’d get a substantial speed increase.&lt;/p&gt;
&lt;p&gt;R’s profile of time spent in lsoda:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;$by.total
                          total.time total.pct self.time self.pct
&amp;quot;setmodel&amp;quot;                    322.26      99.7      0.00      0.0
&amp;quot;lapply&amp;quot;                      322.06      99.6      0.62      0.2
&amp;quot;&amp;lt;anonymous&amp;gt;&amp;quot;                 321.96      99.6    122.98     38.0
&amp;quot;setLTC&amp;quot;                      321.60      99.4      0.04      0.0
&amp;quot;FUN&amp;quot;                         321.38      99.4      2.34      0.7
&amp;quot;lik.gauss&amp;quot;                   320.02      99.0      0.02      0.0
&amp;quot;dc.gauss&amp;quot;                    319.78      98.9      0.00      0.0
&amp;quot;fn&amp;quot;                          319.38      98.8      0.00      0.0
&amp;quot;optim&amp;quot;                       319.38      98.8      0.00      0.0
&amp;quot;updateGauss&amp;quot;                 319.38      98.8      0.00      0.0
&amp;quot;lsoda&amp;quot;                       318.88      98.6     15.56      4.8
&amp;quot;.Call&amp;quot;                       286.84      88.7     17.42      5.4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Not so much. Whole day of coding, debugging a few typos, and still bad performance when given long time intervals for the ode. Not clear why this is happening. See &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/57b3ef3b9272bb656006b227ad7809e6d9bcb865&quot;&gt;code here&lt;/a&gt;, may simply pull from future package.&lt;/p&gt;
&lt;p&gt;Estimating Ro and the initial step-size for Nelder-Meade seem to be related to the issue – shrinking the step-size reduces the optimizer stalling, as does removing the dependence on “m” (the time-dependence) in the integration.&lt;/p&gt;
&lt;h4 id=&quot;no-go&quot;&gt;No go&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5258/5517529987_8f209d24a8_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Whether the time is really being lost in the allocation also isn’t clear. We can compare this at least in the context of the C code: 5399 runs code initializing only once per likelihood calc (over 50 pts). Most time is spent applying the ode evolver. 5556 runs the code initializing every interval. So overall doesn’t seem like this approach can save as much time as I had hoped. Pity I couldn’t get profile results from R’s lsoda alloc first. Lot of programming just to perform these profiles.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5091/5518135110_0783b062e0_o.png&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;better-optimized-searching&quot;&gt;Better optimized searching&lt;/h3&gt;
&lt;p&gt;Several decent approximation routines to the likelihood of a generic (i.e. including our time-heterogeneous coefficients) SDE in Iacus’s sde package for R. Should probably pursue these instead, and continue the R based implementation. Need further study on convergence of estimates, but hopefully with faster likelihood optimization first. Will require a bit more exploring. Meanwhile, need more time on writing.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals data examples</title>
   <link href="/2011/03/09/warning-signals-data-examples.html"/>
   <updated>2011-03-09T08:31:56-08:00</updated>
   <id>h/2011/03/09/warning-signals-data-examples</id>
   <content type="html">&lt;p&gt;Working on a little data exploration while writing up manuscript. I have been puzzled why it appears that most estimates of tau on the CaCO3 data infer negative correlation, as in&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5134/5493714284_6dfb9b4e02_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Despite the fact that there seems to be a loss of stability in the model:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(warningsignals)
load(&amp;quot;CaCO3.Rdat&amp;quot;)
timedep$pars  
          Ro            m        theta        sigma 
  8.36841588  -0.03347119  -2.86194248 282.03234042 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So m is negative, so that the system is loosing stability, but only very gradually. Collapse occurs at R = 0, and the timeseries covers units of 0 to 5, so&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;timedep$pars[&amp;quot;Ro&amp;quot;] + max(time(X)) timedep$pars[&amp;quot;m&amp;quot;]
8.2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Is a decrease from 8.36 to 8.2, not much of a loss.&lt;/p&gt;
&lt;p&gt;We see simulating under this model that sometimes we get a positive and sometimes a negative correlation; consider two random examples:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5512862925_3b80fe6b3e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5093/5512860127_2ce1b32982_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;deuterium-data&quot;&gt;Deuterium Data&lt;/h3&gt;
&lt;p&gt;Running the “processed” deuterium data with interpolation and “detrending” to try and match Dakos(Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) results. They don’t report the window average, though I try to guess by rule of thumb: bw.nrd(x) on the timeseries, clearly I do not get the exact detrending, and don’t even recover a positive correlation in two of the datasets:&lt;/p&gt;
&lt;h4 id=&quot;glaciation-i&quot;&gt;Glaciation I&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5292/5513028899_3f89261e16_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;glaciation-ii&quot;&gt;Glaciation II&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5260/5513029045_46ceff3743_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;glaciation-iii&quot;&gt;Glaciation III&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5012/5513029239_5988131e9d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h4 id=&quot;glaciation-iv&quot;&gt;Glaciation IV&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5097/5513640246_c6d9e8f4bc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;In automating the function which interpolates and detrends, it also guesses the number of points to use in the interpolation as equal to the number in the original dataset, (the original paper tends to add points instead).&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega evolution Tutorial: behind the scenes difficulties in R packages</title>
   <link href="/2011/03/07/bodega-phylogenetics-tutorial-behind-the-scenes-difficulties-in-r-packages.html"/>
   <updated>2011-03-07T13:22:42-08:00</updated>
   <id>h/2011/03/07/bodega-phylogenetics-tutorial-behind-the-scenes-difficulties-in-r-packages</id>
   <content type="html">&lt;p&gt;Just finished my tutorial for comparative methods on continuous traits in R, which I’ll be presenting on Wednesday with &lt;a href=&quot;http://www.jbwhittall.com/&quot;&gt;Justen Whittall&lt;/a&gt;.  The &lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous%5FCharacter%5FEvolution%5F%28Boettiger%29%5F2011&quot;&gt;tutorial is up&lt;/a&gt; on the Bodega Phylogenetics Wiki, together with the necessary data files.&lt;/p&gt;
&lt;h3 id=&quot;errors-that-shouldnt-happen-a-few-package-bugs-in-simulation-functions&quot;&gt;Errors that shouldn’t happen: a few package bugs in simulation functions&lt;/h3&gt;
&lt;p&gt;Assembling the tutorial exposed a few more frustrations in the R packages.  Consider simulating OU with rTraitCont:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Load the libraries, simulate a tree
require(geiger)
require(TreeSim)
tree &amp;lt;- sim.bd.taxa(100,1,1,0)[[1]]
## This is OK
&amp;gt;  x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=.3, theta=0, root.value=0)
&amp;gt; mean(x)
[1] 0.3305515
## This is still OK
 x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=3, theta=0, root.value=0)
&amp;gt; mean(x)
[1] 0.01494487
## This is OBVIOUSLY WRONG
x &amp;lt;- rTraitCont(tree, model=&amp;quot;OU&amp;quot;, sigma=1, alpha=10, theta=0, root.value=0)
mean(x)
[1] -24.13565&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;What’s happening? rTraitCont numerically integrates: [latex syntax=“display”] x(t_2) = x(t_1) - (t_2-t_1)( x(t_1) - ) + (t_2-t_1) Where t’s are the times at each node and [latex syntax=“inline”]~ N(0,1) [/latex]&lt;/p&gt;
&lt;p&gt;The exact equation would be: [latex syntax=“display”] x(t_2) = x(t_1) e&lt;sup&gt;{-t}+(1-e&lt;/sup&gt;{-t}) + ( 1 -e^{-2t} ) . [/latex]&lt;/p&gt;
&lt;p&gt;The approximation is fine as long as $ (t_2-t_1) $ is small, which is why we get into trouble with large alpha. While this isn’t implemented, we can meanwhile turn sim.char into a OU simulation by rescaling the tree,&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; x &amp;lt;- sim.char(ouTree(tr,alpha=10), matrix(1), root=0)[,1,1]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;though it doesn’t let us allow the root and the optimum (theta) to differ.&lt;/p&gt;
&lt;p&gt;Another stumbling block I hit came from the way geiger does birth-death simulations:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;tr &amp;lt;- birthdeath.tree(b=1, d=0, taxa.stop=100)
x &amp;lt;- sim.char(tr, matrix(1))[,1,1]
fitContinuous(tr, x)

  Fitting  BM model:
  Error in solve.default(phyvcv) : 
    system is computationally singular: reciprocal condition number = 1.53896e-18&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which doesn’t happen using the birth-death simulated tree instead. The reason is that birthdeath.tree simulation creates a final pair of branches with zero length, while sim.bd.taxa method does not:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; which(tr$edge.length==0)
[1] 163 164
&amp;gt; which(tree$edge.length==0)
integer(0)&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;errors-that-should-happen-simulations-are-not-always-what-you-would-expect&quot;&gt;Errors that should happen: simulations are not always what you would expect&lt;/h3&gt;
&lt;p&gt;One theme I draw out in the tutorial is that expectations – averages – aren’t everything. Felsenstein’s example is &lt;em&gt;expected&lt;/em&gt; to create an artificial correlation between two traits – it’s not guaranteed: I start the students simulating data on this tree and testing for that correlation, though a substantial fraction won’t find it.&lt;/p&gt;
&lt;h4 id=&quot;can-likelihood-inform-the-data-transform&quot;&gt;Can likelihood inform the data transform?&lt;/h4&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; x &amp;lt;- exp(sim.char(tree, matrix(1))[,1,1])
&amp;gt; bm &amp;lt;- fitContinuous(tree, x)
Fitting  BM model:
&amp;gt; bm_log &amp;lt;- fitContinuous(tree, log(x))
Fitting  BM model:
&amp;gt; bm_log[[1]]$aic
[1] 269.2097
&amp;gt; bm[[1]]$aic
[1] 2137.334&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Yup. Why do we continue to look at whether there’s a significant correlation between branch length and contrast? Does not seem a substantial test of model adequacy. We also don’t tend to think of transforms as models.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals: Comparing Methods on Climate Data</title>
   <link href="/2011/03/01/warning-signals-comparing-methods-on-climate-data.html"/>
   <updated>2011-03-01T08:51:54-08:00</updated>
   <id>h/2011/03/01/warning-signals-comparing-methods-on-climate-data</id>
   <content type="html">&lt;p&gt;Continuing my exploration in applying these techniques to real climate data.  Applying the Kendall’s Tau based approach on real data.&lt;/p&gt;
&lt;p&gt;Greenhouse Earth, CaCO3 data:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5295/5489514762_f8c9a6fa42_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Glaciation I-IV (deuterium data)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5257/5489563736_33a34fa14e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5259/5488967119_ae49dc1dfa_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5015/5489564102_61f857cb7d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5056/5489564230_eeeb03e8f2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;These use the unadjusted timeseries, and hence don’t reproduce the values of Kendall’s tau statistic reported in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).  In fact they don’t even agree on the sign – visually many of the datasets are certainly decreasing in variance. I ran the Monte-Carlo distributions for  tau on models estimated from these data-sets with and without warning, for variance (left) and autocorrelation (right), in the CaCO3 data:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5487867329_6f2f9f9b60_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5014/5488464534_d6733a5707_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;and again the models with a trend show an actual decrease in the variance and autocorrelation, (just as the real data does), as well as rather low power to distinguish.  The opposite trend is observed by (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008) after detrending and interpolating the data.&lt;/p&gt;
&lt;h2 id=&quot;detrending-and-interpolating&quot;&gt;Detrending and Interpolating&lt;/h2&gt;
&lt;p&gt;We can try both interpolating and detrending the data to compare more directly (R functions make this easy.  We follow the original work using &lt;em&gt;ksmooth&lt;/em&gt; for kernel smoothing mean which is subtracted out, and &lt;em&gt;approx&lt;/em&gt; for linear interpolation).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5173/5490180354_b16fe6a469_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Top plot shows the raw data (blue), interpolated data (red) and trend subtracted from the data (gray).  Lower curve shows the autocorrelation, AR1 coefficient over the moving window and it’s score in Kendall’s tau test.[ref] Note some effort required to produce these nicer plots.  Particularly, R makes it rather unintuitive how to specify that a greek letter is equal to a variable.  &lt;em&gt;expression&lt;/em&gt; is typically used to display math/greek, but doesn’t work for including values of a variable.  After wasting some time, posted to our statcompsci lsit and got the answer in about 30 seconds from Duncan: the key is the &lt;em&gt;substitute&lt;/em&gt; command.  See the c&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/738265dad8c57abd9bda26234e66c9d510511c51/warningsignals/R/tau_dist_montecarlo.R&quot;&gt;ode in show_stats function in the tau_dist_montecarlo.R file&lt;/a&gt;.[/ref]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5095/5489563269_c027c1deb3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Supplement describes the functions used by (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008), many of which are from R (some, like linear interpolation, is done in matlab).  They use autocorrelation calculated with &lt;em&gt;“ar.ols”&lt;/em&gt;, while I have been using the &lt;em&gt;acf&lt;/em&gt; function. I compare the differences with warning_ar.ols with warning_autocorr (acf) (right; &lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/d7b49ec24bbcc9c02f36e7688c2f1d8bac80d3ff/warningsignals/demos/compare_ar1_examples.R&quot;&gt;code)&lt;/a&gt; The ar.ols is substantially slower to evaluate (seconds per call on this data).  I also migrated to the built in cor.test(method=“kendall”) in “stats” package rather than the “Kendall” function in the extension package “Kendall” for consistency.&lt;/p&gt;
&lt;p&gt;Now set to rerun the above results on the detrended, interpolated data…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals on Real data continued</title>
   <link href="/2011/02/28/warning-signals-on-real-data-continued.html"/>
   <updated>2011-02-28T04:08:03-08:00</updated>
   <id>h/2011/02/28/warning-signals-on-real-data-continued</id>
   <content type="html">&lt;p&gt;Continuing my tweaks to code to apply warning signals to the climate data used in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).  After adjusting my code to deal with variably spaced sampling intervals, I reread the &lt;a href=&quot;http://www.pnas.org/cgi/data/0802430105/DCSupplemental/Supplemental_PDF#nameddest=STXT&quot;&gt;supplement&lt;/a&gt; – I had forgotten that they don’t actually consider data with variable time-scales, but instead interpolate the curves to have equally spaced sampling intervals.&lt;/p&gt;
&lt;p&gt;Obviously this is not ideal.  It is true that the autocorrelation would be impacted by non-equally spaced data, while there is no reason to do so for the variance indicator.  Interpolation will decrease the observed variance (clearly), and increase the autocorrelation.&lt;/p&gt;
&lt;p&gt;They also “detrend” the data, which unfortunately must also be somewhat arbitrary and could bias the results.  Certainly for the simulated data there is no reason to detrend the data, since there are no external trends represented (of course this does provide a consistency with the original arbitrary procedure).&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We chose a bandwidth in such a way that we do not overfit while still removing the long-term trends visible in the records.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For the purposes of comparison I’ll have to add some code to include this detrending option.&lt;/p&gt;
&lt;h2 id=&quot;code-status-variable-timescales&quot;&gt;Code Status: Variable Timescales&lt;/h2&gt;
&lt;p&gt;Basic code checks for the time-series data seem to imply that everything is working (modulo checking the handling of the negative time values, discussed below). Still troubleshooting the handling of non-ts objects:&lt;/p&gt;
&lt;p&gt;This works fine:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const_pars
        Ro      theta      sigma 
  5.000000 100.000000   6.591166 
&amp;gt; Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,10,length=200))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=1000))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;as does this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,40,length=200))
const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=100))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But this creates warnings but still works: NAs:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Y &amp;lt;- simulateGauss(const_LTC, const_pars, times=seq(1,10,length=50))
const &amp;lt;- updateGauss(const_LTC, const_pars, Y, control=list(maxit=1000))
warnings()
Warning Messages: 
1: In rnorm(n, mean = P$Ex, sd = sqrt(P$Vx)) : NAs produced&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And this with the real data, errors:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; caco3 &amp;lt;- read.table(&amp;quot;caco3.txt&amp;quot;)
&amp;gt; caco3 &amp;lt;- data.frame(&amp;quot;MYYrs&amp;quot;=-caco3$V1, &amp;quot;CaCO3&amp;quot;=caco3$V2)
&amp;gt; g_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -32  # Data with collapse (for plot)
&amp;gt; p_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -34  # Data used in warning signal
&amp;gt; 
&amp;gt; X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=caco3$MYYrs[p_ca], &amp;quot;data&amp;quot;=caco3$CaCO3[p_ca])
&amp;gt; 
&amp;gt; # Rather annoying to have time backwards and negative, lets reverse this.
&amp;gt; X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=rev(X[,1] - min(X[,1])), &amp;quot;data&amp;quot;=rev(X[,2]))
&amp;gt; 
&amp;gt; pars &amp;lt;- c(Ro=5.0, m= -.04, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2]))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, const_pars, X, control=list(maxit=1000))
Error in optim(pars, likfn, method = method, ...) : 
  function cannot be evaluated at initial parameters

Enter a frame number, or 0 to exit   

1: updateGauss(const_LTC, const_pars, X, control = list(maxit = 1000))
2: gaussian_process.R#79: optim(pars, likfn, method = method, ...)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ah ah! Real data contains replicate time samples (or unresolved time intervals at least). These produce -Inf in the call to dc.gauss, so log-likelihood sums to NaN.&lt;/p&gt;
&lt;p&gt;Replicate samples should be averaged out or removed from data-set first. As usual there’s already a &lt;a href=&quot;http://stuff.mit.edu/afs/athena.mit.edu/software/r_v2.11.1/lib/R/library/limma/html/avereps.html&quot;&gt;clever little R function&lt;/a&gt; in some&lt;a href=&quot;http://www.bioconductor.org/packages/2.6/bioc/html/limma.html&quot;&gt;obscure package&lt;/a&gt; to do this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(limma)
X &amp;lt;-avereps(X, ID=X[,1])&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So looks like the entire code will run (data proccessing, formatting, etc). Now to check convergence:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;caco3 &amp;lt;- read.table(&amp;quot;caco3.txt&amp;quot;)
caco3 &amp;lt;- data.frame(&amp;quot;MYYrs&amp;quot;=-caco3$V1, &amp;quot;CaCO3&amp;quot;=caco3$V2)
g_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -32  # Data with collapse (for plot)
p_ca &amp;lt;- caco3$MYYrs &amp;gt; -39 &amp;amp; caco3$MYYrs &amp;lt; -34  # Data used in warning signal
X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=caco3$MYYrs[p_ca], &amp;quot;data&amp;quot;=caco3$CaCO3[p_ca])
# Rather annoying to have time backwards and negative, lets reverse this.
X &amp;lt;- data.frame(&amp;quot;time&amp;quot;=rev(X[,1] - min(X[,1])), &amp;quot;data&amp;quot;=rev(X[,2]))
## Also really annoying that there are replicate values, luckily a quick averaging call will remove them. 
require(limma)
X &amp;lt;-avereps(X, ID=X[,1])
pars &amp;lt;- c(Ro=5.0, m= -.04, theta=mean(X[,2]), sigma=sd(X[,2])*5*2)
const_pars &amp;lt;- c(Ro=5.0, theta=mean(X[,2]), sigma=sd(X[,2])*5*2)
const &amp;lt;- updateGauss(const_LTC, const_pars, X, control=list(maxit=1000))
timedep &amp;lt;- updateGauss(timedep_LTC, pars, X, control=list(maxit=1000))
llik_warning &amp;lt;- 2*(loglik(timedep)-loglik(const))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I would also like to add an error-handler for this in setmodel, but as it takes the whole timeseries at once rather than entry by entry the check requires more effort (and seems silly to check the whole series for replicate time entries on each call).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/e3c83d5a3387a7e0b37be75557b220184f0ecd47&quot;&gt;Code&lt;/a&gt; also updated to make intelligent estimates of initial parameters for optim() routine (i.e. theta set to data mean, etc).&lt;/p&gt;
&lt;p&gt;Results should appear when complete in the gallery below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“CaCO3” min_upload_date=“2011-02-28 00:00:00” max_upload_date=“2011-03-02 23:59:59”]&lt;/p&gt;
&lt;h2 id=&quot;data-status&quot;&gt;Data Status&lt;/h2&gt;
&lt;p&gt;I realized the interpolation problem when breaking the data into the four glaciation periods specified in Table S1 and not having the same number of points as specified.&lt;/p&gt;
&lt;p&gt;Times on the data are given as time-before-present, which is actually a bit annoying (would reverse the end and initial conditions, fine for a stationary process, not so much for the warning signal fit!)  Making the quantities negative at least restores the correct ordering of the data.&lt;/p&gt;
&lt;p&gt;Some handling of this can be seen in the code above.&lt;/p&gt;
&lt;p&gt;and back to writing…&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals on Real Data?</title>
   <link href="/2011/02/27/warning-signals-on-real-data.html"/>
   <updated>2011-02-27T08:24:03-08:00</updated>
   <id>h/2011/02/27/warning-signals-on-real-data</id>
   <content type="html">&lt;p&gt;Grabbed the data used in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008), which is includes climate data from the Deuterium levels in the Vostok ice core (Petit &lt;em&gt;et. al.&lt;/em&gt; 1999), showing transitions into the last several ice ages,  and calcium carbonate from Eocene “greenhouse” climate (Tripati &lt;em&gt;et. al.&lt;/em&gt; 2005), and carbon-14 data from the Younger Dryas (Hughen, 2000).  Data is all freely provided through NOAA.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot;&gt;CaCO3  data file&lt;/a&gt;(Tripati &lt;em&gt;et. al.&lt;/em&gt; 2005), NOAA entry.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/vostok/deutnat.txt&quot;&gt;Deuterium data file&lt;/a&gt; (Petit &lt;em&gt;et. al.&lt;/em&gt; 1999), &lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/metadata/noaa-icecore-2453.html&quot;&gt;NOAA entry.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;C-14 &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/hughen2000/cariaco2000_pc56_greyscale.txt&quot;&gt;greyscale data file&lt;/a&gt;,(Hughen, 2000) &lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/pubs/hughen2000/hughen2000.html&quot;&gt;NOAA entry&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Data is also added to the warningsignals package.&lt;/p&gt;
&lt;p&gt;Broke deuterium data into chunks for each ice age, and truncated the CaCO3 data to the time interval used for early warning, as in (Dakos &lt;em&gt;et. al.&lt;/em&gt; 2008).&lt;/p&gt;
&lt;p&gt;(example data figures and analysis coming)&lt;/p&gt;
&lt;h3 id=&quot;real-timeseries-vs-regular-sampling&quot;&gt;Real Timeseries vs regular sampling&lt;/h3&gt;
&lt;p&gt;The data in each of the above intervals are not sampled on a regular time interval, as is assumed by the R timeseries object I’m using for my default data-type (for consistency with the sde R package – I’ve never really enjoyed forcing my data into this format and now its more obvious why).&lt;/p&gt;
&lt;p&gt;To fit this data to the models in which a warning signal is present, this means that the likelihood function will need to be passed a different time-step delta at each interval, which will require a bit of tweaking at a rather low-level in the code, since it changes the logic of the computation a bit.&lt;/p&gt;
&lt;p&gt;Made edits to package functions (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/943adc11d94a89fe37a0c16887734035e6517443&quot;&gt;see git log&lt;/a&gt;) to generalize this to arbitrary time intervals.  Data can now be specified in data frame or matrix with time in first column and data in the second, or as a timeseries as before.  Requires testing.&lt;/p&gt;
&lt;h2 id=&quot;roc-curves&quot;&gt;ROC Curves&lt;/h2&gt;
&lt;p&gt;Alan suggested taking a look at the unfortunately-named receiver-operator characteristics (ROC) to emphasize the trade-off between false alarms and missed detections.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://upload.wikimedia.org/wikipedia/commons/8/8c/Receiver_Operating_Characteristic.png&quot;&gt;&lt;img src=&quot;http://upload.wikimedia.org/wikipedia/commons/8/8c/Receiver_Operating_Characteristic.png&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I don’t actually find the curve more useful than just seeing the two distributions themselves, but possibly useful as it has made appearances in the theoretical ecology literature already (M.A. Lewis).&lt;/p&gt;
&lt;h2 id=&quot;manuscript-still-revisingwriting&quot;&gt;Manuscript: Still Revising/Writing…&lt;/h2&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Dakos V, Scheffer M, van Nes E, Brovkin V, Petoukhov V and Held H (2008). “Slowing Down as an Early Warning Signal For Abrupt Climate Change.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;105&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.0802430105&quot;&gt;http://dx.doi.org/10.1073/pnas.0802430105&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Petit J, Jouzel J, Raynaud D, Barkov N, Barnola J, Basile I, Bender M, Chappellaz J, Davis M, Delaygue G, Delmotte M, Kotlyakov V, Legrand M, Lipenkov V, Lorius C, PÉpin L, Ritz C, Saltzman E and Stievenard M (1999). “Unknown.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;399&lt;/strong&gt;. ISSN 00280836, &lt;a href=&quot;http://dx.doi.org/10.1038/20859&quot;&gt;http://dx.doi.org/10.1038/20859&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tripati A, Backman J, Elderfield H and Ferretti P (2005). “Eocene Bipolar Glaciation Associated With Global Carbon Cycle Changes.” &lt;em&gt;Nature&lt;/em&gt;, &lt;strong&gt;436&lt;/strong&gt;. ISSN 0028-0836, &lt;a href=&quot;http://dx.doi.org/10.1038/nature03874&quot;&gt;http://dx.doi.org/10.1038/nature03874&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hughen K (2000). “Synchronous Radiocarbon And Climate Shifts During The Last Deglaciation.” &lt;em&gt;Science&lt;/em&gt;, &lt;strong&gt;290&lt;/strong&gt;. ISSN 00368075, &lt;a href=&quot;http://dx.doi.org/10.1126/science.290.5498.1951&quot;&gt;http://dx.doi.org/10.1126/science.290.5498.1951&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Is BM nested in OU?  Understanding likelihoods of ouch</title>
   <link href="/2011/02/25/is-bm-nested-in-ou-understanding-likelihoods-of-ouch.html"/>
   <updated>2011-02-25T12:16:37-08:00</updated>
   <id>h/2011/02/25/is-bm-nested-in-ou-understanding-likelihoods-of-ouch</id>
   <content type="html">&lt;p&gt;A quick run of the example ouch code given by&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; ?bimac &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;will produce something of a surprise for most users:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;require(ouch)
data(bimac)
tree &amp;lt;- with(bimac,ouchtree(node,ancestor,time/max(time),species))
h1 &amp;lt;- brown(log(bimac[&amp;#39;size&amp;#39;]),tree)
h2 &amp;lt;- hansen(log(bimac[&amp;#39;size&amp;#39;]),tree,bimac[&amp;#39;OU.1&amp;#39;],sqrt.alpha=1,sigma=1)
c(&amp;quot;BM LogLik&amp;quot;=h1@loglik, &amp;quot;OU LogLik&amp;quot;=h2@loglik)

BM LogLik OU LogLik
 17.33129  15.69682&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These models are supposed to be nested, right? Set OU’s $ $ parameter to zero and you get BM, so how does it manage to do &lt;em&gt;worse&lt;/em&gt; in log likelihood?  This very data gets analyzed in the original (2004) paper(Butler &amp;amp; King, 2004), and the two models get the same log likelihood (Table 1).   I asked Aaron about this at Evolution last summer, and he tells me it comes from assuming the root state comes from the stationary distribution.  To quote the development log (OCHANGELOG file in pkg/inst):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;2008-05-23 11:05 kingaa&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;assume that root state is a random variable drawn from the stationary distribution of the process in the regime that the root node occupies&lt;/p&gt;
&lt;p&gt;the latter involves changes to the weight matrix, to the covariance matrix, and to the regime.spec routine&lt;/p&gt;
&lt;p&gt;Unfortunately I’m not able to grab the version of ouch before this change was made but after the code was moved into C, as that stage wasn’t committed to CRAN (&lt;a href=&quot;http://cran.r-project.org/src/contrib/Archive/ouch/&quot;&gt;archive history&lt;/a&gt;) and wasn’t yet on &lt;a href=&quot;http://ouch.r-forge.r-project.org/&quot;&gt;RForge&lt;/a&gt; svn.&lt;/p&gt;
&lt;p&gt;We can write down the likelihood of the OU model from the multivariate normal:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?-2 \log L = [X(T) - E(X(T))]^{\prime} V^{-1} [X(T) - E(X(T))] + N\log(2\pi) + \log(\det(V))&quot; alt=&quot;-2 \log L = [X(T) - E(X(T))]^{\prime} V^{-1} [X(T) - E(X(T))] + N\log(2\pi) + \log(\det(V))&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the expected trait values &lt;em&gt;E(X)&lt;/em&gt; and covariance matrix &lt;em&gt;V&lt;/em&gt; are defined from $ , $ and $ $ and the root state: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta (1- e^{-\alpha t})&quot; alt=&quot;E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta (1- e^{-\alpha t})&quot; /&gt;&lt;/div&gt;&lt;/span&gt; The &lt;em&gt;i,j&lt;/em&gt; element of the covariance matrix is &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?V_{ij} = \frac{\sigma^2}{2\alpha} (1 - e^{-2 \alpha s_{ij} }) e^{-2\alpha (t-s_{ij} )}&quot; alt=&quot;V_{ij} = \frac{\sigma^2}{2\alpha} (1 - e^{-2 \alpha s_{ij} }) e^{-2\alpha (t-s_{ij} )}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; where the nodes are all measured at time t (present day) and have diverged for a time $ t-s_{ij} $ (thus shared time $ s_{ij} $ since $ X_0 $.)&lt;/p&gt;
&lt;p&gt;Well, we can estimate $ X_0$ and $ $ separately, but there’s really no information to estimate these independently (and we may expect poor numerical behavior). Clearly the best we can do is set $ X_0 = $ and this reduces to $ X_0 = $ as in BM model. As the log likelihood has no absolute scale anyway, we could just say the mean is just a constant proportionality and ignore it all together, taking the likelihood from the second two terms (and saving the cost of a matrix inversion). Clearly this is not the choice made by the current OUCH package.&lt;/p&gt;
&lt;p&gt;Instead, the argument is that X_0 is still a parameter, which we are choosing to set $ X_0 = &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and if we assume that it the root is at the stationary distribution, then we know the probability density of this assertion\inline&quot;/&gt;&lt;/span&gt; X_0 = $ from the stationary normal distribution (note that in the stationary distribution samples are all independent draws with mean $ $ and variance &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2/2\alpha}\inline&quot;/&gt;&lt;/span&gt;) so that the probability density is:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sqrt{\frac{\alpha}{\pi \sigma^2}}&quot; alt=&quot;\sqrt{\frac{\alpha}{\pi \sigma^2}}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I expected that subtracting the log of this quantity from the log-likelihood would give me the corrected value, but it does not:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; h2@loglik + log( h2@sqrt.alpha / sqrt(pi * h2@sigma^2))
[1] 15.81422&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So I’m a bit puzzled exactly where the correction comes from that makes OU score worse. More to the point, the penalty for estimating something we’re not estimating seems strange. Why treat this as part of the likelihood at all?&lt;/p&gt;
&lt;p&gt;Of course the reason for treating the E(X) terms becomes more important in the multiple peaks models, where: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta_1 (1- e^{-\alpha t_1})  + \theta_2 (1- e^{-\alpha t_2})  + \ldots&quot; alt=&quot;E(X_t | X_0 ) = X_0 e^{-\alpha t} + \theta_1 (1- e^{-\alpha t_1})  + \theta_2 (1- e^{-\alpha t_2})  + \ldots&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and so setting $ X_0 = _1 $ doesn’t make the term vanish. Still, it seems unclear why this must be treated as an estimated statistic when it isn’t really, any more than it is in BM.&lt;/p&gt;
&lt;p&gt;For that matter, the BM model in OUCH considers itself as having 2 degrees of freedom, for the root state/phylogenetic mean and the diversification rate $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  This is likewise unclear -- certainly it is possible to compute such a statistic as the phylogenetic mean under BM, but it&amp;#39;s still a one-parameter model as far as likelihood estimation, where we just use the\inline&quot;/&gt;&lt;/span&gt; V $ to compute the likelihood (which for this model we can analytically compute the value of $ $ which maximizes this).&lt;/p&gt;
&lt;p&gt;[ref]Note that the command “sessionInfo()” will return the version number for attached packages.[/ref]&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Butler M and King A (2004). “Phylogenetic Comparative Analysis: A Modeling Approach For Adaptive Evolution.” &lt;em&gt;The American Naturalist&lt;/em&gt;, &lt;strong&gt;164&lt;/strong&gt;. ISSN 0003-0147, &lt;a href=&quot;http://dx.doi.org/10.1086/426002&quot;&gt;http://dx.doi.org/10.1086/426002&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Phylo: Luke Harmon</title>
   <link href="/2011/02/25/phyloseminar-luke-harmon.html"/>
   <updated>2011-02-25T06:36:16-08:00</updated>
   <id>h/2011/02/25/phyloseminar-luke-harmon</id>
   <content type="html">&lt;p&gt;My notes on Luke Harmon’s excellent talk on &lt;a href=&quot;http://phyloseminar.org/&quot;&gt;Phyloseminar&lt;/a&gt; this morning.  See the &lt;a href=&quot;http://phyloseminar.org/recorded.html&quot;&gt;recording&lt;/a&gt; of Luke’s actual talk to know what he said, below are my thoughts and notes to myself having watched the talk.&lt;/p&gt;
&lt;p&gt;Luke summarizes his goal rather nicely as:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Analyzing the data that people actually have to answer the questions they actually want to know&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For him, this focuses on incomplete trees and non-Brownian models.   Two of the three methods he discussed cover incomplete trees, two use BM and one doesn’t care about character evolution to begin with.  All use the birth-death model of speciation, despite the worrying assumption that species are, on average, increasing exponentially.  Despite the tally, I’m pretty excited about the methods proposed (well, the second two), because they move us in that direction with a decent expression of the uncertainty resulting from the data people actually have (by virtue of being Bayesian.  Not that you have to be Bayesian to do this, but somehow bootstrapping and confidence intervals don’t seem standard practice in implementation of comparative methods in Frequentist quantities, while the Bayesian ones always show you the posteriors.)&lt;/p&gt;
&lt;h2 id=&quot;medusa-fossil-medusa&quot;&gt;Medusa &amp;amp; Fossil Medusa&lt;/h2&gt;
&lt;h3 id=&quot;medusa&quot;&gt;Medusa&lt;/h3&gt;
&lt;p&gt;Dealing with incomplete trees: Rabosky et al 2007(Rabosky &lt;em&gt;et. al.&lt;/em&gt; 2007) incomplete trees partition the likelihood:&lt;/p&gt;
&lt;p&gt;$ L = L_p + L_t $&lt;/p&gt;
&lt;p&gt;phylogenetically resolved, taxonomic (unresolved part of the tree).  Calculate the likelihood of the birth-death parameter values on the &lt;em&gt;T&lt;/em&gt; unresolved parts of the tree (where the &lt;em&gt;i&lt;/em&gt;th clade has $ n_i$ taxa) simply as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\log L_t = \sum_{i=1}^T \log(1-\beta_i) + \sum _{i=1}^T(n_i -1)\log \beta_i&quot; alt=&quot;\log L_t = \sum_{i=1}^T \log(1-\beta_i) + \sum _{i=1}^T(n_i -1)\log \beta_i&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta_i = \frac{\exp(rt_i)-1}{exp(rt_i) - a}&quot; alt=&quot;\beta_i = \frac{\exp(rt_i)-1}{exp(rt_i) - a}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;em&gt;a&lt;/em&gt; is the extinction fraction (death rate over birth rate) and &lt;em&gt;r&lt;/em&gt; the diversification rate (birth rate minus death rate).&lt;/p&gt;
&lt;p&gt;Stepping through the tree proposing and accepting/rejecting rate shifts by AIC: uses a rule-of-thumb difference of 4 AIC units.  Luke suggests larger trees should use a larger difference.  Obviously I’d prefer something more concrete given the poor performance AIC &lt;a href=&quot;http://www.carlboettiger.info/archives/635&quot;&gt;tends to have in&lt;/a&gt;other comparative approaches.&lt;/p&gt;
&lt;h3 id=&quot;fossil-medusa&quot;&gt;Fossil Medusa&lt;/h3&gt;
&lt;p&gt;Luke asks us: so what if we know that there were more extinct taxa at one point than are represented by $ n_i$ tip taxa? The expectation under the birth death model is that of exponential growth in total number of species.  (Since we are using the birth-death model, this outcome is still possible, and indeed is included in the probability above.  Because it is very unexpected outcome, it contributes rather little to that probability though.)&lt;/p&gt;
&lt;p&gt;We could make this observation more probable by assuming that at some point the diversification rate shifted around the time of this observation, either slowing down or even resulting in a net extinction rate.  &lt;em&gt;**Fossil Medusa **&lt;/em&gt;does this by estimating different the likelihood of getting up to the $ m_i$ extinct taxa by the observed time, and then letting it assume a new rate to get to the &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?n_i\inline&quot;/&gt;&lt;/span&gt; present-day taxa starting with $ m_i$ taxa[ref]Must require a new equation to have starting condition that isn’t a single species: should be a simple rescaling.[/ref]&lt;/p&gt;
&lt;p&gt;This seems strange to me– The location of this shift is placed by the fossil dates, there is no reason to believe it couldn’t have occurred earlier or later.  This is worrisome as rate estimates depend strongly on branch length.  Second, we have to justify that the fossils of lost species still have a common ancestor at the beginning of this unresolved clade.  Does this require that the $ m_i$ extinct taxa actually all co-occur at the given time, or just existed somewhere in the interval?  Certainly the former seems to be the assumption of the method, but may be hard to establish in the data(?)&lt;/p&gt;
&lt;p&gt;Luke observes that typical birth death estimates result in zero extinction estimates. because it reduces uncertainty and makes the data more probable, and that models lack density dependence sensu Dan Rabosky’s recent work (Rabosky &amp;amp; Glor, 2010)&lt;/p&gt;
&lt;p&gt;Luke also observes the multiple comparisons issue inherent in the Medusa approach.&lt;/p&gt;
&lt;h2 id=&quot;auteur&quot;&gt;Auteur&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.wsu.edu/~storfer/eastman/&quot;&gt;Jon Eastman&lt;/a&gt; has implemented a RJMCMC (see(GREEN, 1995)) of multiple diversification rates on phylogenetic tree.  Assumes Brownian motion and a tree known without error etc etc but seems like a fantastic step forward to me.  As a reversible jump model, it allows proposals of split and merge events where the diversification rate can change on the tree.  This moves us away from the rather problematic requirement to compare “painted” trees, or propose diversification rate relative to an inferred ancestral history of another discrete trait (which is interesting if that’s the hypothesis, and can be integrated over the stochastic character mappings – but it requires such a trait whose history motivates the rate shifts, which is rather restrictive!).&lt;/p&gt;
&lt;p&gt;Note: this seems to be similar to the spirit of Liam’s MCMC method for rate variation; see for the &lt;a href=&quot;http://phytools.blogspot.com/2011/02/mcmc-method-for-rate-variation.html&quot;&gt;description&lt;/a&gt; on his development blog.&lt;/p&gt;
&lt;h2 id=&quot;mecca&quot;&gt;MECCA&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.eeb.ucla.edu/gradstudents/slater/Graham/Graham_J_Slater.html&quot;&gt;Graham Slater’s&lt;/a&gt; ABC approach in which unresolved clades are simulated by birth-death process.  Gives posterior distributions on parameter estimates.  Can be applied to differences in diversification rates.  I think the particularly innovative thing here is in testing the ability of an ABC approach (Csilléry &lt;em&gt;et. al.&lt;/em&gt; 2010) to get us out of the challenge of missing taxa in a meaningful, model-driven way.  I’m actually rather nervous about ABC when it hinges on a set of parameters that are rather far from being sufficient statistics.  The probability of the birth-death rates depends very strongly on the number of taxa, and very weakly on the topology, so it’s a rather weak way to fill in the missing topology.&lt;/p&gt;
&lt;p&gt;Essentially this can be seen as a correction to diversification rate estimates in the following sense.  Treating the clade as an unresolved polytome would underestimate diversification rates, because it gives longer time of independent drift for traits to diversify.  Forcing a birth-death tree structure makes a rather twiggy tree to replace the unresolved section, which results in an estimate of diversification rate $ $ that will be much higher, and probably an overestimate relative to any density-dependent tree structure.&lt;/p&gt;
&lt;h2 id=&quot;closing&quot;&gt;Closing&lt;/h2&gt;
&lt;p&gt;At the end a mention of a couple other new directions that I agree are dead on.  Traits connected to diversification rates, as in recent work from  FitzJohn and Sally Otto’s group at UBC(FitzJohn &lt;em&gt;et. al.&lt;/em&gt; 2009),(FitzJohn, 2010). – very interesting, but as Luke points out, a great way to make your trait estimates really susceptible to the missing taxa problem.  (Luke answers a seminar question on the impact of missing taxa – Brownian diversification rate isn’t very sensitive to this, while things that depend directly on predicting number of species, such as birth and death rates, are hugely effected).&lt;/p&gt;
&lt;p&gt;Also mentions  Dan Rabosky concerns over estimations in rates (Rabosky, 2010).  I couldn’t agree more that realistic diversification models are crucial.&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rabosky D, Donnellan S, Talaba A and Lovette I (2007). “Exceptional Among-Lineage Variation in Diversification Rates During The Radiation of Australia’S Most Diverse Vertebrate Clade.” &lt;em&gt;Proceedings of The Royal Society B: Biological Sciences&lt;/em&gt;, &lt;strong&gt;274&lt;/strong&gt;. ISSN 0962-8452, &lt;a href=&quot;http://dx.doi.org/10.1098/rspb.2007.0924&quot;&gt;http://dx.doi.org/10.1098/rspb.2007.0924&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D and Glor R (2010). “From The Cover: Equilibrium Speciation Dynamics in A Model Adaptive Radiation of Island Lizards.” &lt;em&gt;Proceedings of The National Academy of Sciences&lt;/em&gt;, &lt;strong&gt;107&lt;/strong&gt;. ISSN 0027-8424, &lt;a href=&quot;http://dx.doi.org/10.1073/pnas.1007606107&quot;&gt;http://dx.doi.org/10.1073/pnas.1007606107&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GREEN P (1995). “Reversible Jump Markov Chain Monte Carlo Computation And Bayesian Model Determination.” &lt;em&gt;Biometrika&lt;/em&gt;, &lt;strong&gt;82&lt;/strong&gt;. ISSN 0006-3444, &lt;a href=&quot;http://dx.doi.org/10.1093/biomet/82.4.711&quot;&gt;http://dx.doi.org/10.1093/biomet/82.4.711&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Csilléry K, Blum M, Gaggiotti O and François O (2010). “Approximate Bayesian Computation (Abc) in Practice.” &lt;em&gt;Trends in Ecology &amp;amp; Evolution&lt;/em&gt;, &lt;strong&gt;25&lt;/strong&gt;. ISSN 01695347, &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.04.001&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.04.001&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FitzJohn R, Maddison W and Otto S (2009). “Estimating Trait-Dependent Speciation And Extinction Rates From Incompletely Resolved Phylogenies.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;58&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syp067&quot;&gt;http://dx.doi.org/10.1093/sysbio/syp067&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;FitzJohn R (2010). “Quantitative Traits And Diversification.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq053&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq053&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rabosky D (2010). “Primary Controls on Species Richness in Higher Taxa.” &lt;em&gt;Systematic Biology&lt;/em&gt;, &lt;strong&gt;59&lt;/strong&gt;. ISSN 1063-5157, &lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq060&quot;&gt;http://dx.doi.org/10.1093/sysbio/syq060&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>ESA 2011 Abstract: Limits to Detection of Early Warning Signals</title>
   <link href="/2011/02/23/esa-2011-abstract.html"/>
   <updated>2011-02-23T09:58:45-08:00</updated>
   <id>h/2011/02/23/esa-2011-abstract</id>
   <content type="html">&lt;p&gt;Just submitted my abstract to for an oral presentation at the &lt;a href=&quot;http://www.esa.org/austin/&quot;&gt;Ecological Society of America 2011&lt;/a&gt;meeting in Austin, based on my recent work on early warning signals.  Here it is:&lt;/p&gt;
&lt;h2 id=&quot;limits-to-detection-of-early-warning-signals-of-population-collapse&quot;&gt;Limits to Detection of Early Warning Signals of Population Collapse&lt;/h2&gt;
&lt;h3 id=&quot;backgroundquestionmethods&quot;&gt;Background/Question/Methods&lt;/h3&gt;
&lt;p&gt;The recognition that ecosystems can undergo sudden shifts to alternate, less desirable stable states has led to the desire to identify early warning signs of these impending collapses.  This search has been motivated by the mathematics of bifurcations, in which sudden shifts result not from direct perturbations to the state (i.e. the population abundance, through mechanisms such as over-harvesting)  but to a slowly changing parameter that impacts the system stability.  While these collapses cannot be anticipated by observing only the mean dynamics (as described by a deterministic model), signs of the impending collapse are expressed in the random perturbations, or noise, inherent in real systems.  The mathematical theory of early warning signs exploits this fact by seeking to detect patterns such as “critical slowing down” of these perturbations due to the gradual loss of stability which leads to a bifurcation.&lt;/p&gt;
&lt;p&gt;While much attention has been given to emphasizing the existence both of sudden collapses and of signs of critical slowing down, little attention has been paid to its detection.  Faced with only finite data, any method risks both false alarms and failed detection events.  We believe that weighing these risks must be the burden of management policy, while research must first provide a reliable way to quantify the relative risks of each.  We present a method which quantifies this risk and show how to decrease the uncertainty inherent in common summary-statistic approaches through the use of a likelihood based modeling approach.&lt;/p&gt;
&lt;h3 id=&quot;resultsconclusions&quot;&gt;Results/Conclusions&lt;/h3&gt;
&lt;p&gt;We demonstrate that commonly used correlation tests applied to summary statistics such as autocorrelation and variance are both inappropriate and insufficient tests of early warning signals.&lt;/p&gt;
&lt;p&gt;Our method estimates directly the parameters of a generalized model of the bifurcation postulated by early warning signals theory, with and without the presence of a gradual change leading towards collapse.  Using Monte Carlo simulation we generate the distribution of warning-signal statistics expected under each model.  From this we can quantify the risk of false alarms and missed detection.  We then show how applying this approach to the data directly rather than the summary statistic increases the power of detection.  We illustrate the approach in both simulated and empirical data of sudden ecological shifts.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday: Writing, Mendeley groups, Notebook plugin tweaks</title>
   <link href="/2011/02/21/monday-2.html"/>
   <updated>2011-02-21T15:45:37-08:00</updated>
   <id>h/2011/02/21/monday-2</id>
   <content type="html">&lt;h2 id=&quot;a-day-of-writing&quot;&gt;A day of Writing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reviewed Chris’s manuscript.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Completed my revisions to phylogenetics mansucript, meeting with Peter tomorrow to discuss.  Still need to work through the discussions of model adequacy Goldman, 1993, Cox’s delta (1961/62), and going beyond (simulations by under both null and test distributions).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Meanwhile, a few thoughts:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reproducible-research&quot;&gt;Reproducible Research&lt;/h2&gt;
&lt;p&gt;Mentioned in &lt;a href=&quot;http://www.carlboettiger.info/archives/1044&quot;&gt;Thursday’s entry&lt;/a&gt; coming across Victoria Stodden’s post on Reproducible research standards such as practiced by Journal of Biostatistics.  So I was quite excited to see the &lt;a href=&quot;http://www.stanford.edu/~vcs/AAAS2011/&quot;&gt;slides and audio&lt;/a&gt;from this year’s AAAS meeting Symposium on reproducible research.  I found the presentation of &lt;a href=&quot;http://www-stat.stanford.edu/%7Edonoho&quot;&gt;David Donoho&lt;/a&gt;, Stanford University; &lt;a href=&quot;http://www.stanford.edu/%7Egavish&quot;&gt;Matan Gavish&lt;/a&gt; particularly visionary as a simple yet powerful idea: URIs for all computational objects.  They have a working pilot of &amp;quot;&lt;a href=&quot;http://www.stanford.edu/~gavish/vcr/&quot;&gt;verifiable computational research&amp;quot;&lt;/a&gt; scheme which is worth checking out.  I’m tempted to start subscribing to UC3 EZID’s DOI system and start tagging my computational objects already.  They discuss integration of this system with LaTeX and common computing languages.&lt;/p&gt;
&lt;p&gt;I would love to figure out a simple and potentially platform independent way to integrate this into my notebook workflow, tracking my computational objects with a common identifier.  It’s something I’ve already wanted to do on a basic level, for instance be able to track back the various locations I’ve embedded a flickr image of a computational result, and have that result link directly to the code that created it.  So far I can mimic this with my flickr images including the git commit versions in the description, but it’s not nearly as nice and smooth as a common device identifier that could track the code, the images, the notebook entries in semantic, computer readable manner.&lt;/p&gt;
&lt;h2 id=&quot;thoughts-on-mendeley-groups&quot;&gt;Thoughts on Mendeley Groups&lt;/h2&gt;
&lt;p&gt;Hit the cap on Mendeley group size (20) for my phylogenetics comparative methods group.  Have to decide whether to make it an Open group, where members join without request, group size is not capped, but members cannot access pdfs directly.  While my Future of Science (89 members, 51 followers) is a Public Open group, I’ve made my research-area groups Public Invite only groups.  The permissions associated with the types can be a bit difficult to keep straight, so I took a moment to jot them down here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Public Open group: Members can edit meta-data, followers can only see the meta-data.  Everyone can comment in the group forum.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Public Invite-only group: Members (limited to 20) can view/edit pdfs.  Followers can only see metadata.  Everyone can comment in group forum.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Private group: Members can view/edit pdf.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of these groups have been joined only by those I invite or already know, but I have received numerous requests from various users to join the groups.   It probably would have made the most sense to encourage them to follow these groups, but that works against the goal of an open group fostering community discussion around the topic.&lt;/p&gt;
&lt;p&gt;On top of this are my personal categories.  I try to keep these in one-to-one correspondence with my groups.  Before this year, categories  just had the option of public feeds.  While the new groups are more powerful, and many users may want rather different category structure than group structure, I find it rather inconvenient that notes and updates to metadata I make on my copy don’t appear on the copy in the group, and vice versa.  An option to sync these would be very useful.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5468232335_cbab61d0bc_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;In other news, the I’m entertained to see the live Mendeley Advisors map with visible push-pins on via Google maps, right.&lt;/p&gt;
&lt;h2 id=&quot;new-wordpress-plugins-for-notebook&quot;&gt;New Wordpress Plugins for notebook&lt;/h2&gt;
&lt;p&gt;Martin Fenner has set up a multi-user multi-blog &lt;a href=&quot;http://blogs.xartrials.org&quot;&gt;Wordpress site&lt;/a&gt;for users to explore Wordpress as a scientific publishing platform, and has made included a rather inspiring list of useful plugins as options.  I went through these last week and started to identify those that might be useful in my notebook as well.&lt;/p&gt;
&lt;p&gt;I have just checked out &lt;a href=&quot;http://wordpress.org/extend/plugins/flickpress/&quot;&gt;flickpress&lt;/a&gt; – has a nice built-in embedder to search my library or any library, filtering by license, etc.  Does not have gallery, and GUI embedder is much slower than shortcode.  The self-generating gallery based on entering in search terms and a date window to capture all simulation results of a given set of tags in a certain time window is particularly wonderful.&lt;/p&gt;
&lt;p&gt;Advantages are that image can be imported into media library, and image is visible in the preview (which probably also means the image is captured by things like epub, where the flickr-gallery only grabs the shortcode in the epub).  Suppose one could use both.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://wordpress.org/extend/plugins/wp-rdfa/&quot;&gt;wp-rdfa&lt;/a&gt; allows semantic information in posts through FOAF and Dublin core (gives post author, title and date information in links).&lt;/p&gt;
&lt;p&gt;Started using &lt;a href=&quot;http://wordpress.org/extend/plugins/post-revision-display/&quot;&gt;Wordpress Post Revision Display&lt;/a&gt;. While generally my posts do not change content, (though later revisions add more content) this seemed very much in the spirit of the notebook to provide a user-viewable version of the notebook revisions, which is otherwise sited as a major advantage of a wiki over a blog-structured notebook.&lt;/p&gt;
&lt;p&gt;Google Docs embedder. Though don’t have a need for this at the moment, could be very nice to include collaborative writing and an easy way to add spreadsheets (though wp-tables reloaded provides a nice way to do this already.)&lt;/p&gt;
&lt;p&gt;MathJax plug-in looks great, but I can only get it to render the shortcode, not the svg of the equation itself.&lt;/p&gt;
&lt;p&gt;wp-ToC: A table of contents generator based on the hierarchical headers.  While I generally use multiple posts to separate out different ideas, this could be quite useful in some longer posts that use multiple headings.  There’s a variety of other ToC plugins, at this stage I think the simplest and lightest one would be the most valuable (not sure if this one meets that definition).&lt;/p&gt;
&lt;p&gt;Plugins have been incredibly useful in extending functionality, though I am a little wary of overloading the demands on my server.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega evolution Workshop: Continuous Characters R session planning</title>
   <link href="/2011/02/18/bodega-phylogenetics-workshop-continuous-characters-r-session-planning.html"/>
   <updated>2011-02-18T19:45:09-08:00</updated>
   <id>h/2011/02/18/bodega-phylogenetics-workshop-continuous-characters-r-session-planning</id>
   <content type="html">&lt;p&gt;Preparing for the Bodega Phylogenetics workshop.  I’ll be covering the R tutorial following&lt;a href=&quot;http://www.jbwhittall.com/&quot;&gt;Justen Whittall’s&lt;/a&gt; introduction to continuous characters:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In my intro lecture i will discuss Felsenstein 1985 (including a little phylo signal), then follow with some alternatives (including the OU model). I can also discuss the tree transformations ala Pagel’s kappa, delta, etc. and mention multivariate approaches to detecting correlated characters in a phylogenetic context.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I’m toying with the idea of a brief (~1hr) phylogenetic signal / model inference exercise:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Students simulate a dataset under assigned model (a few different ones varying in tree size, phylogenetic signal, etc)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Students than exchange datasets with neighbors, without disclosing models and parameters, and attempt to guess which model, parameter values, etc the other has used.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I might pool the group data that evening and summarize in a slide or two next morning?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Practice simulating models as a way to understand them,&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrate potential and the limitations of these inferences&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Illustrate the importance of having sufficient data, not just the model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;give this kind of analysis a more empirical rather than black-box feel&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Begun development of tutorial in R package, &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/master/bodega&quot;&gt;see code&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2011/02/18/friday.html"/>
   <updated>2011-02-18T07:21:41-08:00</updated>
   <id>h/2011/02/18/friday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Spoke with Prof. Jim Carey about getting Data Mangement Workshop videocast with Cametasia (and possibly Adobe Connect for live streaming).  Jim has worked with Entomology seminar series, and UCTV on videocasting seminars, see his recent PLoS Biology paper Carey &lt;em&gt;et. al.&lt;/em&gt; 2010.&lt;/li&gt;
&lt;li&gt;Spoke with Marissa about some of the &lt;a href=&quot;http://www.nceas.ucsb.edu/ecoinfo/tools&quot;&gt;resources at NCEAS&lt;/a&gt;. Learned a bit about data standards from &lt;a href=&quot;http://www.nbii.gov/portal/server.pt?open=512&amp;amp;objID=236&amp;amp;mode=2&amp;amp;cached=true&quot;&gt;FGDC&lt;/a&gt; and &lt;a href=&quot;http://www.nbii.gov&quot;&gt;NBII&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Working on manuscript revisions (phylogenetics)&lt;/li&gt;
&lt;li&gt;Writing (warning signals)&lt;/li&gt;
&lt;li&gt;Revised Weds post, reviewing context for Goldman 1993 Goldman, 1993 relative to original simulation-based parametric bootstrap of Cox’s statistic as illustrated in (McLachlan, 1987) in mixture models.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;McLachlan G (1987). “on Bootstrapping The Likelihood Ratio Test Stastistic For The Number of Components in A Normal Mixture.” &lt;em&gt;Applied Statistics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 00359254, &lt;a href=&quot;http://dx.doi.org/10.2307/2347790&quot;&gt;http://dx.doi.org/10.2307/2347790&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;University of California Research Seminar Network: A Prospectus, James R. Carey, John Christian Laursen, Steven D. Glaser, Stephen Raphael, Gregory H. Miller, John Crawford, Timothy F. Lane, Patricia J. LiWang, Kimberly Hammond, Theodore Groves, Jean-Francois Pittet, David Stuart, Phokion G. Kolaitis, Laura Serwer, Mengfei Chen, Kenneth Feer, (2010) &lt;em&gt;Plos Biology&lt;/em&gt;, &lt;strong&gt;8&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pbio.1000289&quot;&gt;10.1371/journal.pbio.1000289&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/02/17/thursday-4.html"/>
   <updated>2011-02-17T15:55:56-08:00</updated>
   <id>h/2011/02/17/thursday-4</id>
   <content type="html">&lt;p&gt;Mostly working on manuscript revisions throughout this week.  Haven’t really learned to integrate this workflow into the notebook.  In some ways it makes more sense not to, as it interrupts the flow of the research description.  But then it looks like I’m not doing anything when I have nothing meaningful in the entry.  Perhaps I should just put a heading saying “Writing.”&lt;/p&gt;
&lt;h2 id=&quot;mornings-reading-reproducible-research&quot;&gt;Morning’s reading:  Reproducible Research&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5052/5458617811_7cc1c32510_o.png&quot; /&gt; Victoria Stodden &lt;a href=&quot;http://blog.stodden.net/2011/02/15/letter-re-software-and-scientific-publications-nature/&quot;&gt;highlights&lt;/a&gt; the Journal of Biostatistics approach to Reproducible Research.  They have an Associate Editor of reproducibility who marks published papers with D, C, and/or R to indicate that they include all the data, all code, or an R if the AER successfully executes the code on the data to reproduce the results.(Peng, 2009).  The system is purely optional, but visible which papers do and do not attempt to comply.  For instance, the image shows an example of a paper making the R stamp(Lee &lt;em&gt;et. al.&lt;/em&gt; 2009)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;other-work&quot;&gt;Other work&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Discussing web platforms for student2student program with Nick &amp;amp; Sarah – a website to help connect K12 teachers and with graduate student outreach efforts.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;writing-and-revisions&quot;&gt;Writing and Revisions&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Received Peter’s revisions for phylogenetics manuscript.  Peter was able to grab the manuscript from git, make his edits and send me a git link to his repository, and I could easily merge the changes into my copy.  Would be better if I used more line-breaks, rather than writing each paragraph without a linebreak, since the diff files display line-by-line changes.  But otherwise, a very smooth process.&lt;/li&gt;
&lt;li&gt;Capturing workflow on the manuscript is better done through the git log then through the notebook, i.e. for this paper:&lt;/li&gt;
&lt;/ul&gt;
&lt;embed src=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commits/master/writeups/likelihoodRatio/likelihoodRatio.tex&quot; width=&quot;100%&quot; height=&quot;400&quot;/&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Peng R (2009). “Reproducible Research And Biostatistics.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp014&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp014&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lee D, Ferguson C and Mitchell R (2009). “Air Pollution And Health in Scotland: A Multicity Study.” &lt;em&gt;Biostatistics&lt;/em&gt;, &lt;strong&gt;10&lt;/strong&gt;. ISSN 1465-4644, &lt;a href=&quot;http://dx.doi.org/10.1093/biostatistics/kxp010&quot;&gt;http://dx.doi.org/10.1093/biostatistics/kxp010&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Weds & Framing warning signals manuscript</title>
   <link href="/2011/02/16/weds-framing-warning-signals-manuscript.html"/>
   <updated>2011-02-16T15:56:41-08:00</updated>
   <id>h/2011/02/16/weds-framing-warning-signals-manuscript</id>
   <content type="html">&lt;h2 id=&quot;alan-meeting-10a&quot;&gt;Alan Meeting, 10a&lt;/h2&gt;
&lt;p&gt;Good meeting discussing warning signals manuscript details and organization.  Particularly on the best way to present  some of the major conceptual and semantic elements: there are many ways to describe the same thing, each of which carries a lot of semantic baggage.&lt;/p&gt;
&lt;p&gt;Do we choose to present this as:&lt;/p&gt;
&lt;h4 id=&quot;as-hypothesis-testing&quot;&gt;As Hypothesis Testing&lt;/h4&gt;
&lt;p&gt;Null = isn’t a loss of stability (distribution produced by the MLE model of no stability loss), hypothesis = there is (distribution produced by, MLE model with stability loss) determine p value for falsely rejecting the null and the power of the statistical test.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Advantages: familiar framework, though heavily misunderstood.  For instance, the existing warning signals literature uses correlation tests on the windowed averages of the warning signal statistics.  Only the&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Problems with this approach:  Seen as old-school.  Often misunderstood.  Used incorrectly in the current approaches – they test a null that points are uncorrelated, having generated each of those points from overlapping windows in the same data set (which is also a time series!)  Somehow those using information-criteria based model choice imagine they are working in a different statistical paradigm by not attempting to quantify error.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;as-model-choice&quot;&gt;As Model Choice&lt;/h4&gt;
&lt;p&gt;Comparison of nested models – stability loss has an extra parameter for the rate of decay.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Can be expressed as information criteria or likelihood ratio tests, (distribution of LR isn’t chi-squared since loss of stability model is restricted to only decreasing values, so null model is at the limit of parameter range).  IC don’t quantify the probability of error we are trying to illustrate.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Might compare Bayesian framework: we would compare posterior odds, or reversible jump across models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;So, some discussion of whether it was going to be necessary to mention information criteria performance at all, and if so, where (intro/body vs methods/supplement?)  Alan suggests emphasizing.  More to juggle in the intro&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;model-adequacy-goodness-of-fit&quot;&gt;Model Adequacy / Goodness of Fit&lt;/h4&gt;
&lt;p&gt;Perhaps “Model Adequacy” is the best way to describe this, if only because it is already used(Sullivan &amp;amp; Joyce, 2005) in describing parametric bootstrap approach.  References Goldman (1993)Goldman, 1993 in which this is done following Cox 1961/62, but as a model adequacy test in the following way:&lt;/p&gt;
&lt;p&gt;The focal model (whose “adequacy” we wish to test) is treated as the null, and the arbitrarily general model is treated as the test model (ironically it is the test model, not the null model, which is being used as the benchmark).  Goldman specifies the most unconstrained model for the phylogenetic inference from alignment data that still has i.i.d. sites.  Then adequacy is assessed then by whether or not the observed ratio falls in the tails of the distribution.&lt;/p&gt;
&lt;p&gt;This test of adequacy does not seem the sense in which Cox  (1962) originally proposed the method, which was more along the lines of our general model test.  Other work(McLachlan, 1987) has also applied the approach in the model selection sense that we use it, rather than Goldman’s test of adequacy.&lt;/p&gt;
&lt;p&gt;Note that none of the proposed methods simulate under the test distribution.&lt;/p&gt;
&lt;h4 id=&quot;as-data-adequacy&quot;&gt;As Data Adequacy&lt;/h4&gt;
&lt;p&gt;Because we simulate under both models, we have the unique ability to emphasize how likely we are to be able to distinguish between the models being compared.&lt;/p&gt;
&lt;p&gt;Each of the statistical paradigms described above set model choice decisions (the null model should only be rejected at certain probability, the better model should trade off complexity of added parameters, etc).  It is the role of management to trade off between the risk of false alarm and the risk of undetected events.  Our approach provides the relative rates of each kind of error given the data and leaves this choice to the decision-maker.  Further, it provides a clear illustration of how these error rates depend on the amount of data available – another key facet absent from the standard emphasis.  For this reason it’s tempting to emphasize this as a different framework, though any might be used (despite the fact that many of the above are used incorrectly).&lt;/p&gt;
&lt;h2 id=&quot;manuscript-notes&quot;&gt;Manuscript Notes&lt;/h2&gt;
&lt;p&gt;Considering best way to phrase the warning signals approach&lt;/p&gt;
&lt;p&gt;Present as a Simulation-study style study vs methodological style (non-parametric bootstrapping)?&lt;/p&gt;
&lt;p&gt;Focus on difference between summary statistic vs a full likelihood approach, or focus on estimating error rates and having sufficient information to tell (regardless of the statistic)?&lt;/p&gt;
&lt;p&gt;Current paper uses the former of both, following the outline&lt;/p&gt;
&lt;p&gt;(detection has risks &amp;amp; limits)&lt;/p&gt;
&lt;p&gt;(exist != detection)&lt;/p&gt;
&lt;p&gt;(Explains detection problem)&lt;/p&gt;
&lt;p&gt;(Simple = General: Introducing the theory)&lt;/p&gt;
&lt;p&gt;(summary statistics no substitute for the full data)&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5055/5411537354_6583bfc4a6_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5172/5406203293_6d756a27d4_o.png&quot; /&gt; &lt;img src=&quot;http://farm6.staticflickr.com/5260/5411625926_2f8fb084b2_o.png&quot; /&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Sullivan J and Joyce P (2005). “Model Selection in Phylogenetics.” &lt;em&gt;Annual Review of Ecology, Evolution, And Systematics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 1543-592X, &lt;a href=&quot;http://dx.doi.org/10.1146/annurev.ecolsys.36.102003.152633&quot;&gt;http://dx.doi.org/10.1146/annurev.ecolsys.36.102003.152633&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;McLachlan G (1987). “on Bootstrapping The Likelihood Ratio Test Stastistic For The Number of Components in A Normal Mixture.” &lt;em&gt;Applied Statistics&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt;. ISSN 00359254, &lt;a href=&quot;http://dx.doi.org/10.2307/2347790&quot;&gt;http://dx.doi.org/10.2307/2347790&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Statistical Tests of Models of Dna Substitution, Nick Goldman, (1993) &lt;em&gt;Journal of Molecular Evolution&lt;/em&gt;, &lt;strong&gt;36&lt;/strong&gt; &lt;a href=&quot;http://dx.doi.org/10.1007/BF00166252&quot;&gt;10.1007/BF00166252&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Citation tools & Future of Publishing</title>
   <link href="/2011/02/16/citation-tools-future-of-publishing.html"/>
   <updated>2011-02-16T15:04:50-08:00</updated>
   <id>h/2011/02/16/citation-tools-future-of-publishing</id>
   <content type="html">&lt;p&gt;There has been a lot of rapid development in scientific tools based on a Wordpress platform recently, perhaps spurred in part by the recent &lt;a href=&quot;https://sites.google.com/site/beyondthepdf/&quot;&gt;Beyond-the-PDF&lt;/a&gt; and &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/01/11/having-fun-with-citations-at-scienceonline2011/&quot;&gt;sessions in Science Online&lt;/a&gt; conferences.  A new &lt;a href=&quot;https://groups.google.com/forum/#!forum/wordpress-for-scientists&quot;&gt;discussion group&lt;/a&gt; has emerged around these tools, &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/02/04/discussing-wordpress-for-scientists/&quot;&gt;as described by Martin Fenner&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I have been exploring better tools for citation management within my lab notebook. Recently I have been using the &lt;a href=&quot;http://wordpress.org/extend/plugins/papercite/&quot;&gt;papercite plugin&lt;/a&gt;to add citations from my BibTeX files, which are generated from Mendeley, as I &lt;a href=&quot;http://www.carlboettiger.info/archives/570&quot;&gt;described earlier&lt;/a&gt;.  This has a few performance issues on server load and memory, and a somewhat limited format/appearance options, but more importantly lacks some of the features of being developed in these other citation packages.&lt;/p&gt;
&lt;p&gt;To begin, see Martin’s very compelling piece on  &lt;a href=&quot;http://blogs.plos.org/mfenner/2010/12/11/citations-are-links-so-where-is-the-problem/&quot;&gt;citations are links&lt;/a&gt;.  Certainly a link (&lt;em&gt;i.e.&lt;/em&gt;, to the pdf article) can be  _part _of a citation, but there’s a lot that can be done once we start thinking of the citation itself as a link.  Wordpress has a nice interface to handle and organize links, which until now has mostly puzzled me as a overdeveloped blogroll.  The &lt;a href=&quot;http://wordpress.org/extend/plugins/bibtex-importer/&quot;&gt;Import BibTeX&lt;/a&gt; plugin can read my bibliography files and transform each citation into a link in the Wordpress interface, attaching categories corresponding to the source type and to tags I add, (such as to which Mendeley collection the article belongs).  Then the &lt;a href=&quot;http://wordpress.org/extend/plugins/link-to-link/&quot;&gt;Link to Link&lt;/a&gt; plugin makes it easy to search and insert these references into my posts.  Currently this can’t be done using the bibtex keys, which is a minor bother.&lt;/p&gt;
&lt;p&gt;Here’s where things start to get more interesting.  The links can embed machine-readable semantic information that adds meta-data to the citation, such as if the citation provides background, methods, supports or disagrees with a claim being made.  This can be made visible to the user, but more interestingly this can also be tracked by a computer, which allows for the generation of much more detailed citation statistics.  A standard Citation Typing Ontology has been developed and described by David Shotton[cite source=‘doi’]10.1186/2041-1480-1-S1-S6[/cite] and &lt;a href=&quot;http://blogs.plos.org/mfenner/2011/02/14/how-to-use-citation-typing-ontology-cito-in-your-blog-posts/&quot;&gt;CiTO is now implemented&lt;/a&gt;in Link to Link code.  While Link to Link seems to have the 10 most common citation types, the ontology provides many more, as listed in the  &lt;a href=&quot;http://imageweb.zoo.ox.ac.uk/pub/2009/citobase/cito-20091124-1.4/cito-content/owldoc/&quot;&gt;CiTO types&lt;/a&gt; documentation.&lt;/p&gt;
&lt;p&gt;Finally, the automatic bibliographic information is displayed by the &lt;a href=&quot;http://wordpress.org/extend/plugins/kcite/&quot;&gt;Kcite&lt;/a&gt; plugin, currently using the DOI or PMID, which integrates with the Link to Link code.  Having installed both plugins and checked the configuration boxes in link to link which allow it to use the kcite shortcode and CiTO syntax, I’m able to highlight some text, select the citation through the search box opened by clicking the Link to Link icon and have it automatically insert the Kcite shortcode using the DOI:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[cite source=&amp;#39;doi&amp;#39; rel=cito:cites]10.1186/2041-1480-1-S1-S6[/cite]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;At the moment this doesn’t quite work as it seems the rel=cito text disrupts the kcite intepretation of the shortcode.  Without this it renders correctly.&lt;/p&gt;
&lt;p&gt;Note that in general Link to Link with CiTO works with anything with a URL, and will still embed the CiTO information in the link if no DOI is available, just not add the kcite bibliography.&lt;/p&gt;
&lt;p&gt;Also not sure why the kcite bibliography includes the link to the json format, seems it shouldn’t display this.  Still active discussion on the mailing list on these topics, and it’s been quite impressive to see how fast development has been moving on these so far.&lt;/p&gt;
&lt;h3 id=&quot;things-id-like-to-see&quot;&gt;THings I’d like to see&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;How to expose/search CiTO meta-data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;kcite option for citing by (Author,year) footnote text, not just by number, like so [1].&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Basic fixes: Kcite currently errors with the rel=cito:cites text.  Should at least ignore that text until support is built in for CiTO.  Apparently link2link should be rendering this with quotes: rel=cito:‘cites’.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;toggle json display.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;why-store-citations-in-a-link-library-in-wordpress&quot;&gt;Why store Citations in a link library in Wordpress?&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Link2Link requires uploading Bibtex file to add the reference to wordpress link library.  Mendeley automatically generates the bibliography – would be great if this could be automatically placed online (i.e. by dropbox) and read in by Wordpress rather than having to manually update.  Having to import bibtex every time I add a new article, and then search for the added article via link2link, is rather inefficient.  Can merely grab the doi from Mendeley and insert with kcite.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The most obvious advantage of having the references in the Wordpress link library is the ability for link2link to search them and grab the DOI, though searching Mendeley for the DOI is just as easy.  So why else would this be useful?  A few thoughts:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The link library allows for adding semantic markup to the link, though currently Wordpress  does this only for &lt;a href=&quot;http://codex.wordpress.org/Defining_Relationships_with_XFN&quot;&gt;XFN&lt;/a&gt; (XHTML Friends Network), designed to describe people.  Having CiTO directly in the link editor beside XFN would be nice, though not particularly more functional.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Potential to use blogroll functions of wordpress to display the library listed in the links, though in general Mendeley groups seem a much more powerful way to do this.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Data Mangement on UC3 Merritt Repository</title>
   <link href="/2011/02/16/data-mangement-on-uc3-merritt-repository.html"/>
   <updated>2011-02-16T11:06:11-08:00</updated>
   <id>h/2011/02/16/data-mangement-on-uc3-merritt-repository</id>
   <content type="html">&lt;p&gt;I’ve been trying to learn a little more about the potential for data management solutions through the &lt;a href=&quot;http://www.cdlib.org/services/uc3/merritt/index.html&quot;&gt;UC3 Merritt repository&lt;/a&gt;, and decide how this compares to commercial alternatives such as Amazon S3, Picasa/Flickr (obviously for images only), and field-specific and publication specific repositories such as Dryad.  Merritt email support have been very helpful in answering my questions and concerns.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Persistence&lt;/strong&gt;:  of the data itself, of the  URLs &amp;amp; object identifiers, of access to the data?  Not surprisingly they have standard redundancy backup procedures for archival standards in place.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Object identifiers&lt;/strong&gt;:  UC3 also provides DOIs for objects which can be purchased independently of archiving in the Merritt repository and are indexed in Web of Science.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Cost and pricing structure&lt;/strong&gt;: $1040/Tb/year, prorated for how much storage you actually use.  No charge for upload/download, unlike S3.  &lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/index.html&quot;&gt;EZID&lt;/a&gt; for DOIs are separate charge:  Annual charge unlimited number of DOIs: $75/user, $375/group, or $1,125 for whole university&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;The Good:&lt;/strong&gt; An institutional repository seems like a safer bet than an Internet business, even if it’s as large as Amazon or Google.  After all, the UC’s have been around a lot longer.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;The Not-So-Good&lt;/strong&gt;: The big concern for me here is that this is guaranteed (both for IDs and for data itself) only as long as you are (or someone else is) paying the annual fee.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Other Concerns:&lt;/strong&gt; Can I automate script to upload, download, and embed data?  The wealth of tools available for Flickr or Github through the user-extensible API makes it very easy to integrate these repositories into my workflow.  I am still unclear how easy this would be with the UC3 archiving services.&lt;/p&gt;
&lt;p&gt;Still promising: The staff recognize these challenges, particularly in their contrast to the standard short-term grant-based funding model of science and in working with the research institutions for support covering these costs.  Further, it seems the details aren’t set in stone yet, but are an evolving part of the system:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It’s a tough question for which we don’t have a comprehensive answer at the moment. Our fee model does not match up well with the funding model of grant projects–our costs are ongoing, our accounting rules prohibit us from carrying funds across fiscal years, yet our customers may have funding for only a limited time period.  We want to partner with organizations committed to the long-term preservation of their digital content. We would work with our partners to find new organizational homes if their commitment changed, due to changes in funding and priorities. This isn’t really an answer, other than to say that we view the relationship as a partnership, and we want to help our partners succeed in their goals for long-term preservation.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;–Merritt helpdesk.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2011/02/15/tuesday.html"/>
   <updated>2011-02-15T15:20:18-08:00</updated>
   <id>h/2011/02/15/tuesday</id>
   <content type="html">&lt;p&gt;In at 8:30.  10a and still getting through Google Reader journals, emails.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finished up yesterday’s entry and posted.&lt;/li&gt;
&lt;li&gt;Exploring some of the new developments in Wordpress for scientists.   Some trouble with the link2link code interfacing with kcite.  No luck yet on mathjax: renders the shortcode instead of the equations, i.e &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dx = \sigma d B_t\inline&quot;/&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;NIMBioS workshop inquiry: Offering a workshop on HPC in R, I was curious about the scope and depth of the workshop.  Sounds like it aims at getting researchers to move R code from desktop level to running on&lt;a href=&quot;http://rdav.nics.tennessee.edu/&quot;&gt;RDAV Kraken&lt;/a&gt; through NSF’s teragrid.  Still not quite clear on what functions or tools this involves teaching (R packages?  basic server access/bash/ssh etc?)&lt;/li&gt;
&lt;li&gt;Working out final plans for &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Data Management Workshop&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Merritt databases inquiries, see my &lt;a href=&quot;http://www.carlboettiger.info/archives/1019&quot;&gt;notes here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;And back to writing on the warning signals paper…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;cpb-seminar&quot;&gt;CPB Seminar&lt;/h2&gt;
&lt;p&gt;Student Dave Harris on ecological niche modeling, including  interactions and phylogenetic information with GLM approach. &lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2011/02/14/monday.html"/>
   <updated>2011-02-14T15:37:00-08:00</updated>
   <id>h/2011/02/14/monday</id>
   <content type="html">&lt;p&gt;Excellent CPB visiting weekend with perspective students Thurs evening - Sunday morning.  Hosting students, etc doesn’t make for much of a research entry Friday.  Catching up with many things today.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.esa.org/austin/call_contributed.php#I&quot;&gt;ESA registration&lt;/a&gt;. Topics, Abstract&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Checking in with Alan&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Data workshop: create &amp;amp; post advertisement, &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;map out subject areas&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://bit.ly/hMuxi1&quot;&gt;Reading: Syst Bio issue&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated pubmed author alerts&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Checking in with Peter &amp;amp; Graham on revisions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/2011_Workshop&quot;&gt;Bodega Phylogenetics Workshop&lt;/a&gt; planning– check in with Rich and Justen&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phytools.blogspot.com/2011/02/reading-trees.html&quot;&gt;Mentioned&lt;/a&gt; in Liam’s Comparative Phylogenetics Methods blog, to address reading in simmap trees.  Liam’s keeping an impressively thorough but readable development log on his blog, worth following the progress on this particular challenge of reading in the full stochastic character mapping information from Newick format trees.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Contact Jeff for GTC, check AV equipment&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;CSGF reimbursements: ESA registration, Evolution, ievobio, SICB registration, hotels, flights.  Bodega&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;deep-lab-meeting&quot;&gt;DEEP lab meeting&lt;/h3&gt;
&lt;p&gt;Nick lured most of the Hastings lab to DEEP group meeting discussing &lt;a href=&quot;http://dx.doi.org/10.1038/nature06252&quot;&gt;Mumby, Hastings &amp;amp; Edwards 2007&lt;/a&gt;, but instead presented on some of the questions he is investigating in quantifying the phylogenetic diversity of zooxanthellae coral symbionts.  First called our attention to a somewhat strange statistic of ‘flexibility’ summing weighted differences in substitutions across a fast and slow gene.  Discussed more natural methods predicated on an ultrametric tree – Peter proposed a common metric of distance which Erik Matsen has a fast algorithm for calculating. Gives distances  between tree distributions but not a baseline (is basically amount of work required to transform one distribution into the other through movements along the tree.  Discussed whether there was a meaningful null baseline (such as equal splits of probability coming up from the root.  Sebastian also proposed cumulative branch length as a possible metric, discussion was still in high swing when I had to leave for 5pm meeting.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2011/02/10/thursday-2.html"/>
   <updated>2011-02-10T09:00:44-08:00</updated>
   <id>h/2011/02/10/thursday-2</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Organizing for &lt;a href=&quot;http://www.carlboettiger.info/archives/905&quot;&gt;Future of Data workshop&lt;/a&gt;.  Confirming time/room booking, etc.  Science makes open access a special issue on &lt;a href=&quot;http://www.sciencemag.org/site/special/data/&quot;&gt;Dealing with Data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Hosting visiting prospective CPB student, scheduling events.&lt;/li&gt;
&lt;li&gt;Going over edits questions with Peter R. on phylogenetics manuscript.&lt;/li&gt;
&lt;li&gt;Editing/pruning plugins – starting to choke my Wordpress hosting.  Folks at DreamHost have been very helpful, hopefully no key plugins are off. Apparently deactivating doesn’t necessarily prevent plugin from contributing to the memory load. papercite is now off, ok since migrating to M. Fenner’s system anyway.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Still To Do&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Revisions on lambda section significance, send manuscript to Brian&lt;/li&gt;
&lt;li&gt;PMC for Laser simulations – what’s going on with “a” estimate and wide uncertainty&lt;/li&gt;
&lt;li&gt;Peter’s question applied to bootstraps over trees (say, dist generated from bd simulation) vs parameter bootstraps of sigma vs stochastic mapping.  (email Peter back too about parameter bootstraps)&lt;/li&gt;
&lt;li&gt;Alan manuscript: both conceptual figures, methods section&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Phylogenetic Monte Carlo for the Laser package</title>
   <link href="/2011/02/09/phylogenetic-monte-carlo-for-the-laser-package.html"/>
   <updated>2011-02-09T10:17:54-08:00</updated>
   <id>h/2011/02/09/phylogenetic-monte-carlo-for-the-laser-package</id>
   <content type="html">&lt;p&gt;Laser simulations: First ensuring example has expected behaviour, can in general get the expected likelihood differences between fits of Yule and birth-death models.&lt;/p&gt;
&lt;p&gt;Estimated models had been appearing identical in the runs (on left), seems to have been a bug.  Distributions appear roughly the same across different tree sizes and values of death rate.  General pattern of likelihood tests is reminiscent of the lambda models: high variability in likelihood ratios under bd simulations relative to the pure-birth simulations.  Needs further exploration&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5252/5431596429_00c6592c62_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5052/5431604457_21d4aa790f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;looking-at-parameter-estimation&quot;&gt;looking at parameter estimation&lt;/h2&gt;
&lt;p&gt;(a la lambda estimation)&lt;/p&gt;
&lt;p&gt;Left: r = b-d, should be easy to estimate.   Surprised by tendancy to overestimate: r should be near 1-0.5=.5.  Right, a = d/b, should be harder to estimate, but uncertainty seems small.  However, note it greatly underestimates the true value of a=0.5 .&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4110/5432286552_21878947e5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5299/5432286138_3e6f76e6c6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Estimates of d tend to be high (left), though estimates of birth seem reasonable? (right)&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]http://www.flickr.com/photos/cboettig/5431673885/[/flickr]&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]http://www.flickr.com/photos/cboettig/5431671921/[/flickr]&lt;/p&gt;
&lt;p&gt;Pure-birth model estimates seem reasonable.&lt;/p&gt;
&lt;p&gt;[flickr size=“small”]http://www.flickr.com/photos/cboettig/5432281984/[/flickr]&lt;/p&gt;
&lt;h2 id=&quot;code-progress&quot;&gt;Code progress&lt;/h2&gt;
&lt;p&gt;Added parameter plotting routine (currently in demo code) and  functions for handling of parameter bootstrap plotting.&lt;/p&gt;
&lt;h2 id=&quot;to-do&quot;&gt;To Do&lt;/h2&gt;
&lt;p&gt;the loglik function should have the option to recalculate likelihood, not just lookup the value attached to the fit object.  The likelihood functions are rather buried in laser though.&lt;/p&gt;
&lt;p&gt;For some reason bd.taxa.sim doesn’t behave properly on wiglaf.&lt;/p&gt;
&lt;p&gt;diversitree, brownie.light, error estimates over trees vs over bootstrapping.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Why ONS? From a discussion with friends</title>
   <link href="/2011/02/08/why-ons-from-a-discussion-with-friends.html"/>
   <updated>2011-02-08T06:36:19-08:00</updated>
   <id>h/2011/02/08/why-ons-from-a-discussion-with-friends</id>
   <content type="html">&lt;p&gt;I agree that the key is open data, and it really only helps if that data is discoverable, and better if it’s in a central repository. The open notebook community is pretty focused on figuring out ways to automate and link the data from the notebook. For instance, many solubilities recorded for chemicals given in wikipedia automatically link to the open notebook entries describing the experiment wherein the data was collected, check out &lt;a href=&quot;http://en.wikipedia.org/wiki/Benzoic_acid&quot;&gt;http://en.wikipedia.org/wiki/Benzoic_acid&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are lots of other reasons though.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Ensuring that key results are reproducible. Papers need to be linked to their data, and the data to the notebook.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Notebook is a great learning tool. I’ve learned how others keep and organize notes, and what software tools they use that facilitate this through their open notebooks. New students in my department read my notebook to learn how to get started &amp;amp; get organized for research, particularly theorists where the work is less structured.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Standardization: Because I learn what tools and conventions others use to keep notes, record and link data, the approaches I use are more standardized than everyone having a secret custom solution.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Null results: People also don’t have time to publish null results, which wouldn’t be such a problem if it were in the notebook.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Publications are slow. I know what groups are working on interesting problems in my field from conferences before I see their papers, but the notebook would make it instantaneous.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avoid needless repetition: Lots of labs waste effort doing the same thing as another group, trying to beat them to the punch. That’s a waste of tax money – why work on a question if someone else will be able to answer it if you just sit back and wait?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Good for collaborators – Has helped me find collaborators, keep them updated on my work, and get feedback.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Good for my advisors – easy for them to see what I’m working on&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Catch and correct mistakes – I make fewer mistakes because I’m more careful knowing it’s public, but others also point out when I make mistakes.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Better motivation – I feel pressured to get things done fast and well because my tardiness or sloppiness would be visible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Increase my impact/name recognition – My notebook is better read and better referenced/linked to/quoted than either of my publications. Why? I don’t know, but their are lots of journals, but not lots of notebooks; because my notebook is a web-native object that is open and easy to discover and access, because open notebooks are controversial and hence interesting to discuss.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;the-social-lab-notebook&quot;&gt;The Social Lab Notebook?&lt;/h1&gt;
&lt;p&gt;I’m a theorist.  A student.  An ecologist.  I work with ideas.  I also conduct experiments – the numerical kind.  Theoretically, these are perfectly replicable, all the way down to the random number generation.  In practice: not so much.  I develop code. I’m fortunate to build my code upon a rich set of general purpose ( = quite well developed and documented) and highly specialized (= buggy) open source tools.  The code implements methods I invent.  That’s my “academic” contribution – the ideas.  That’s what counts.  It requires some math.  It requires big computers.  It requires an understanding of the scientific questions, and how to translate them into the language of math and computers.&lt;/p&gt;
&lt;p&gt;I was never taught to keep a notebook – the cost of not being in a wet lab.  Tracking the different elements of this process is something of a challenge.  Good tools exist to track&lt;/p&gt;
&lt;h3 id=&quot;discussion-ideas&quot;&gt;Discussion ideas&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Use dedicated tools for scientists or general purpose tools?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How do you document the thoughts behind the process?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scalable research model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sharing&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;scale&quot;&gt;Scale&lt;/h3&gt;
&lt;p&gt;Read. Do. Write. Reading about what’s being done and writing up what has been done appear to compete with doing science. Can we integrate these processes through tools such as a social lab notebook? Avoid lag &amp;amp; limited reporting.&lt;/p&gt;
&lt;h3 id=&quot;communication&quot;&gt;Communication&lt;/h3&gt;
&lt;p&gt;The academic journal was a big breakthrough in scientific communication.  Before then, when you discovered something of significant interest, you had to sit down and write a letter to any  colleague who didn’t work down the hall, explaining what you had done.  Then they might read your letter to some of their colleagues.  If you were lucky, this might be at  a meeting of many scientists, such as the Royal Society of London, and you wouldn’t have to write them all separately.  Then in 1665, the Royal Society published those letters so they could be read by those who couldn’t be there in person – significantly advancing the ease and speed at which scientific knowledge was disseminated.  345 years later, little has changed.   We have more journals, and consequently spend more time figuring out which letters go in which journals, but the pulse and scale of the scientific enterprise remains set by the beating of these organs.&lt;/p&gt;
&lt;p&gt;(Several studies have shown most submissions that are rejected are eventually published elsewhere:) Wijnhoven, B. P. L., &amp;amp; Dejong, C. H. C. 2010. Fate of manuscripts declined by the British Journal of Surgery. &lt;em&gt;British Journal of Surgery&lt;/em&gt; 97: 450-454. &lt;a href=&quot;http://dx.doi.org/10.1002/bjs.6880&quot;&gt;http://dx.doi.org/10.1002/bjs.6880&lt;/a&gt; McDonald, R. J., Cloft, H. J., &amp;amp; Kallmes, D. F. 2009. Fate of Manuscripts Previously Rejected by the American Journal of Neuroradiology: A Follow-Up Analysis. &lt;em&gt;American Journal of Neuroradiology&lt;/em&gt; 30: 253-256. &lt;a href=&quot;http://dx.doi.org/10.3174/ajnr.A1366&quot;&gt;http://dx.doi.org/10.3174/ajnr.A1366&lt;/a&gt; Groves, T. 2009. Nine in 10 articles rejected by NEJM appear in another journal. &lt;em&gt;BMJ&lt;/em&gt; 339: b3777. &lt;a href=&quot;http://dx.doi.org/10.1136/bmj.b3777&quot;&gt;http://dx.doi.org/10.1136/bmj.b3777&lt;/a&gt; Hall, S. A., &amp;amp; Wilcox, A. J. 2007. The Fate of Epidemiologic Manuscripts: A Study of Papers Submitted to Epidemiology. &lt;em&gt;Epidemiology&lt;/em&gt; 18: 262-265. &lt;a href=&quot;http://dx.doi.org/10.1097/01.ede.0000254668.63378.32&quot;&gt;http://dx.doi.org/10.1097/01.ede.0000254668.63378.32&lt;/a&gt; Liesegang, T. J., Shaikh, M., &amp;amp; Crook, J. E. 2007. The outcome of manuscripts submitted to the American Journal of Ophthalmology between 2002 and 2003. &lt;em&gt;American Journal of Ophthalmology&lt;/em&gt; 143: 551-560. &lt;a href=&quot;http://dx.doi.org/10.1016/j.ajo.2006.12.004&quot;&gt;http://dx.doi.org/10.1016/j.ajo.2006.12.004&lt;/a&gt; Opthof, T., Furstner, F., van Geer, M., &amp;amp; Coronel, R. 2000. Regrets or no regrets? No regrets! The fate of rejected manuscripts. &lt;em&gt;Cardiovascular Research&lt;/em&gt; 45: 255-258. &lt;a href=&quot;http://dx.doi.org/10.1016/s0008-6363%2899%2900339-9&quot;&gt;http://dx.doi.org/10.1016/s0008-6363(99)00339-9&lt;/a&gt; Cronin, B., &amp;amp; McKenzie, G. 1992. Documentation note: the trajectory of rejection. &lt;em&gt;Journal of Documentation&lt;/em&gt; 48: 310-317.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Notes during revisions on phylogenetics manuscript</title>
   <link href="/2011/02/08/notes-during-revisions-on-phylogenetics-manuscript.html"/>
   <updated>2011-02-08T05:47:10-08:00</updated>
   <id>h/2011/02/08/notes-during-revisions-on-phylogenetics-manuscript</id>
   <content type="html">&lt;p&gt;I have made the revisions to attempt to address Graham’s annotations and Peter’s comments. (revisions are also up on the git repo.)   I have added a brief section introducing the models immediately after the introduction. I also rewrote more of the PMC method to include definitions of p and power in the context of comparing model likelihood ratios. I moved the AIC section up before I talk about the other comparisons. How does this whole section work overall where I use a different comparison of models to discuss a different issue/phenomena anyway? Recall I use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;OU.3 v OU15&lt;/strong&gt;: illustrate AIC problem (though I illustrate this in all four comparisons). clearly prefers the simpler model (why does that seem strange that this has good power? the models are very different)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;BM v OU.3:&lt;/strong&gt; Quantify model choice, p &amp;amp; power. Prefers complex model.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;OU.3 v OU.4&lt;/strong&gt;: how to compare non-Nested models. Prefers simpler model (just).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;BM v OU.1:&lt;/strong&gt; too limited by power to tell&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some issues/questions remaining:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;I’d still appreciate any comments on the organizational structure.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I also think we need to give a bit more attention to the figures – do we have the right number of figures, or is there something we should add? Curves shaded to indicate the definitions of p and power? Should they be presented in the 2x2 panels or separately? How would you revise the conceptual figure?  Parameter distributions?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Last paragraph describing PMC before the Anoles example is a bit of a grab-bag of details, I don’t know what should be included and what shouldn’t, could definitely use more advice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Let me know if there are any parts either of you would prefer to write&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I’d just like to chat briefly about the statistical interpretations&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Do we have adequate references?&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;stats-refining-language&quot;&gt;Stats: Refining language&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;estimator vs statistic?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Define: choosing the wrong model. One selects models based on AIC. Information-criteria based model choice doesn’t “fail to reject the null model” because it doesn’t consider a model as a null.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;MLE is biased estimator of &lt;em&gt;expected&lt;/em&gt; likelihood. MLE likelihood is always higher. AIC is motivated as unbiased estimator of expected likelihood (i.e. if estimated likelihood from replicate simulations of process, vs estimating from a single realization, the single realization likelihood estimate will be higher).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;More on comparison to Bayesian approach in Discussion?  Mention earlier?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Model choice of fixed parameters; when frequentist interpretation doesn’t make as much sense: see “&lt;a href=&quot;http://www.carlboettiger.info/archives/386&quot;&gt;Two Questions&lt;/a&gt;” entry.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;meeting-with-graham&quot;&gt;Meeting with Graham&lt;/h3&gt;
&lt;p&gt;Discussing further with Graham this afternoon.  Good brief meeting, covered most of above.  Next steps:&lt;/p&gt;
&lt;p&gt;Revise lambda discussion as to significance of the particular example, discussion of danger in interpreting parameter values estimated with inadequate data.&lt;/p&gt;
&lt;p&gt;Have Brian look over manuscript.&lt;/p&gt;
&lt;p&gt;Tighten up language, explanations, figures, etc.&lt;/p&gt;
&lt;h2 id=&quot;peters-question-on-variation-in-parameter-estimates&quot;&gt;Peter’s question on variation in parameter estimates&lt;/h2&gt;
&lt;p&gt;Discussed estimating standard error of heterogeneous Brownian motion models (Brownie-style) with Peter by repeating MLE estimates over stochastic character mappings and over an ensemble of trees.  What aspects can contribute most to remarkably high variation in estimates?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals & hpc</title>
   <link href="/2011/02/04/warning-signals-computing.html"/>
   <updated>2011-02-04T10:30:12-08:00</updated>
   <id>h/2011/02/04/warning-signals-computing</id>
   <content type="html">&lt;p&gt;Morning has been rather difficult trying to get simulations up and running.  Parallel library isn’t running on zero or one, variety of errors that seemed to be machine dependent and reminiscent of the ~./sfCluster problem, 3 hrs of debugging revealed this was indeed just a bug in my updated code.  (In changing to my object-oriented simulate.gauss and update.gauss functions rather than calling the specific functions directly I hadn’t updated all the function calls).&lt;/p&gt;
&lt;h3 id=&quot;updated-runs&quot;&gt;Updated Runs&lt;/h3&gt;
&lt;p&gt;The comparison between tau curves compares simulations under the case with no loss in stability with the case of gradual loss (same initial stability but adds a gradual loss rate), while the Monte Carlo test compares simulations between models that have both been estimated from the same data set.  The latter two models are more similar, as estimates of constant rate put that constant near the average, whereas the Tau simulations leave it at the initial value of what it assumes in the changing rate model.  (That is, one has the model for the stability parameter $ R(t) = R_0$ while the other has $ R(t) = R_0 + m t&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and in the Tau comparison the\inline&quot;/&gt;&lt;/span&gt; R_o$ values agree, whereas in the estimation they differ.  )&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-02-04 00:00:00” max_upload_date=“2011-02-06 23:59:59”]&lt;/p&gt;
&lt;h3 id=&quot;writing&quot;&gt;WriTing&lt;/h3&gt;
&lt;p&gt;Have continued quite a bit of writing on the manuscript followed by a very good meeting with Alan.&lt;/p&gt;
&lt;h3 id=&quot;trouble-with-amazon-amis&quot;&gt;Trouble with Amazon AMIs&lt;/h3&gt;
&lt;p&gt;Some trouble with Amazon computing I still haven’t solved.  I go to launch my amazon cloud using my existing AMIs and they don’t exist&lt;/p&gt;
&lt;p&gt;I go to re-add my amazon AMI using&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ec2-register cboettig-private-bucket/image.manifest.xml -n cboettig-ami -C ~/.ec2/cert-H....pem -K ~/.ec2/pk-H...pem --region us-west-1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;and I get error&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;Invalid or unaccessible kernel id in ami manifest:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Will have to post on the developer forum to see if I can learn what is going on, does not seem that AWS support covers technical questions.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Progress on warning signals</title>
   <link href="/2011/02/03/progress-on-warning-signals.html"/>
   <updated>2011-02-03T10:30:15-08:00</updated>
   <id>h/2011/02/03/progress-on-warning-signals</id>
   <content type="html">&lt;p&gt;Going several directions at once in tweaking the warning signals code to make sure I have clear comparisons that are not resulting from any limitations in the numerical algorithms.  Performing a variety of error checks, etc:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Comparing fixed models vs comparing models estimated from the data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ensure that const model doesn’t attempt to estimate m (doesn’t impact likelihood anyway&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ensure only positive values of sigma are returned (trying use trigger in setLTC and setLSN to return infinite variance if sigma is negative)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;tau distributions compare totally separate null and test models, rather than ones both estimated from the same dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Today’s simulations [flickr-gallery mode=“search” tags=“stochpop” min_upload_date=“2011-02-02 00:00:00” max_upload_date=“2011-02-03 23:59:59”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>To podcast or not to podcast university lectures</title>
   <link href="/2011/02/01/to-podcast-or-not-to-podcast-university-lectures.html"/>
   <updated>2011-02-01T05:27:53-08:00</updated>
   <id>h/2011/02/01/to-podcast-or-not-to-podcast-university-lectures</id>
   <content type="html">&lt;p&gt;Today in graduate teaching community we’re discussing the value of podcasts which rapidly becoming the standard expectation of in university lectures.  There weren’t podcasts when I was a student, at least never in the classes I’d taken -though I’ve often wished I had access to complete recordings of my university lectures.  Most wouldn’t be valuable, but some I would still wish to go back to long after the fact, not so much to recall content but to remember the styles and stories my notes fail to capture.&lt;/p&gt;
&lt;p&gt;[bibshow file=Education.bib]&lt;/p&gt;
&lt;p&gt;Caitlin discusses how there is as yet little evidence for or against the value of simply recording lectures on improving student performance, however there is substantial improvement from the use of podcasts as supplemental materials.[bibcite key=Heilesen2010]  Sometimes these are done by the students, sometimes put out by the professor as a weekly introduction or review, sometimes to address the most commonly asked questions in office hours.  The most intriguing example I find is her discussion of math and engineering classes that have used prepared podcast to invert the system of instruction, so that class time is used to solve “homework problems” and home time to listen to the lectures.  Student production also seems particularly valuable.&lt;/p&gt;
&lt;p&gt;Thinking about the value of radio-style story-telling, sharing/reusing  available resources.  (Radiolab and&lt;a href=&quot;http://uctv.tv&quot;&gt;UC TV&lt;/a&gt;.)&lt;/p&gt;
&lt;p&gt;[/bibshow]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>The Future of Data: Plans for a UC Davis workshop</title>
   <link href="/2011/02/01/the-future-of-data-preparing-researchers-to-face-new-funding-and-publishing-policies.html"/>
   <updated>2011-02-01T01:40:59-08:00</updated>
   <id>h/2011/02/01/the-future-of-data-preparing-researchers-to-face-new-funding-and-publishing-policies</id>
   <content type="html">&lt;p&gt;I have been working with several of the faculty of UC Davis to prepare a workshop for our department to (1) help make our researchers &lt;strong&gt;aware&lt;/strong&gt; of the new requirements for NSF proposals and journal submissions with regard to data archiving, (2) To explore what new** ** &lt;strong&gt;opportunities&lt;/strong&gt; this creates and what **tools **exist that will help our researchers take maximum advantage of it, and (3) to engage our research community in the discussion of **future standards **for sharing, standardizing, rewarding and funding the archiving of data.&lt;/p&gt;
&lt;p&gt;I’m very pleased that we have an excellent panel of supportive faculty:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://strong.ucdavis.edu/&quot;&gt;Don Strong&lt;/a&gt;, Editor-in-Chief of &lt;strong&gt;Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/faculty/holyoak/&quot;&gt;Marcel Holyoak&lt;/a&gt;, Editor-in-Chief, &lt;strong&gt;Ecology Letters&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://phylogenomics.blogspot.com&quot;&gt;Jonathan Eisen,&lt;/a&gt; Editor-in-Chief, &lt;strong&gt;PLoS Biology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://two.ucdavis.edu/~me/&quot;&gt;Alan Hastings&lt;/a&gt;, founding Editor-in-Chief, &lt;strong&gt;Theoretical Ecology&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.des.ucdavis.edu/FacultyInfo.aspx?ID_Number=83&quot;&gt;Robert Hijmans&lt;/a&gt;, Asst Professor of Environmental Science &amp;amp; Policy and expert in software infrastructure for reproducible research.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cdlib.org/cdlinfo/2010/05/19/patricia-cruse-digital-preservation-pioneer/&quot;&gt;Trisha Cruse&lt;/a&gt; Director of UC Curation Center at the University of California Digital Library&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We are currently working out the format of the workshop.  The current draft consists of three 1.5hr sessions, progressing through the three main goals above in an interactive format.&lt;/p&gt;
&lt;h3 id=&quot;why-archive&quot;&gt;1) Why Archive?&lt;/h3&gt;
&lt;h5 id=&quot;weds-march-2nd-230-4p-lsa-1022&quot;&gt;(Weds March 2nd 2:30-4p, LSA 1022)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;New &lt;a href=&quot;http://www.cdlib.org/services/uc3/datamanagement/funding.html&quot;&gt;requirements from funders&lt;/a&gt; and publishers.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recommended practice: What’s ideal, what’s acceptable, what isn’t?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Types/levels of archiving.  Why repositories?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Funding data repositories.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Access embargoes.  Citing data/getting credit.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Panel Q&amp;amp;A&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;leveraging-data-archives-logistics&quot;&gt;2) Leveraging data archives: logistics&lt;/h3&gt;
&lt;h5 id=&quot;thurs-march-3nd-230-4p-pes-3001&quot;&gt;(Thurs March 3nd 2:30-4p, PES 3001)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The major repositories.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discovering data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Citing data.  Metadata, DOIs, formats, persistent data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sharing/archiving code?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Linked data, ontologies &amp;amp; Semantic web.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tools for reproducible research.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Panel Q&amp;amp;A&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;looking-ahead-new-scale-new-science&quot;&gt;3) Looking ahead: new scale, new science?&lt;/h3&gt;
&lt;h5 id=&quot;fri-march-4nd-230-4p-pes-3001&quot;&gt;(Fri March 4nd 2:30-4p, PES 3001)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Challenges and Opportunities (&lt;em&gt;i.e.&lt;/em&gt; &lt;a href=&quot;http://www.sciencemag.org/content/331/6018/692.short&quot;&gt;&lt;em&gt;Science&lt;/em&gt; issue&lt;/a&gt;,&lt;a href=&quot;http://www.sciencemag.org/content/331/6018/703.short&quot;&gt;&lt;em&gt;Science&lt;/em&gt; re: Ecology&lt;/a&gt;)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Integrated databases, standards for data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dryad “publication model” vs DataONE model, etc&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Reproducible research&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;UC3’s “data publication” concept?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Future of credit: Will you be scooped or will you be famous?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;What roll we can/should have in shaping future standards, expectations &amp;amp; requirements&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Panel Q&amp;amp;A&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;resources&quot;&gt;Resources&lt;/h2&gt;
&lt;p&gt;See the recent discussion of these issues in &lt;a href=&quot;http://www.sciencemag.org/cgi/doi/10.1126/science.331.6018.692&quot;&gt;Science&lt;/a&gt;, &lt;a href=&quot;http://www.nature.com/doifinder/10.1038/nj7333-295a&quot;&gt;Nature&lt;/a&gt;, &lt;a href=&quot;http://linkinghub.elsevier.com/retrieve/pii/S0169534710002697&quot;&gt;TREE&lt;/a&gt;, &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20073990&quot;&gt;Am Nat&lt;/a&gt;, and elsewhere.   I have started assembling a list of resources in my December notes: _&lt;a href=&quot;http://www.carlboettiger.info/archives/502&quot;&gt;Thoughts on the New Policies for Data Archiving at NSF and in Common Journals&lt;/a&gt;. _In addition, there’s more detail available on the &lt;a href=&quot;https://www.nescent.org/wg_dryad/Main_Page&quot;&gt;Dryad Wiki&lt;/a&gt; and from Dryad here:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/depositing&quot;&gt;Depositing Data&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/using&quot;&gt;Using Data&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/partners&quot;&gt;Dryad Partners (Publishers)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.datadryad.org/jdap&quot;&gt;Archiving Policy&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some great information also available from UC3:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cdlib.org/services/uc3/datamanagement&quot;&gt;UC3 Data Management Guidelines.&lt;/a&gt; In addition to summarizing the requirements, UC3 is also developing a “TurboTax” tool for data management:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;In the next month or so we are going to roll out a rule based tool that will ask the researcher a series of questions based on the funding organization that are applying to and will generate a Data Management Plan.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://merritt.cdlib.org/&quot;&gt;Merritt Repository services&lt;/a&gt;,  launched in late summer 2010.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.cdlib.org/services/uc3/ezid/&quot;&gt;EZID Identifier services&lt;/a&gt;:   obtain and manage long-term identifiers (DOI, ARK) for their digital content.  Can assign identifiers to anything: scientific datasets, technical reports, audio files, digital photographs, and non-digital objects as well.  This spring the objects with DOIs  will appear in Web of Science. (Annual charge unlimited number of DOIs: $75/user, $375/group, or $1,125 for whole university)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Consultation services: Individual consultation, also more workshops  on data citation, data sharing, and data rights this Fall.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;We have been actively thinking about data and building services that support the management, preservation, and publication of data.  We are just about to embark on a project that will create an Excel add-in that will make it easy to archive, share, and publish data embedded in Excel.  We are also actively involved in the DataONE project.  We recently presented &lt;a href=&quot;http://www.cdlib.org/services/uc3/docs/dax.pdf&quot;&gt;a paper&lt;/a&gt; at the Beyond the PDF workshop at UCSD that outlines some of our ideas surrounding data publication.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;your-input&quot;&gt;Your Input?&lt;/h2&gt;
&lt;p&gt;What would you like to see?  Structure, organization, topics?&lt;/p&gt;
&lt;p&gt;[iframe http://friendfeed.com/science-2-0/e68945dc/i-m-planning-workshop-at-ucdavis-on-future-of?embed=1 480 400]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals: Indicators vs Likelihood continued</title>
   <link href="/2011/01/31/warning-signals-indicators-vs-likelihood-continued.html"/>
   <updated>2011-01-31T08:49:22-08:00</updated>
   <id>h/2011/01/31/warning-signals-indicators-vs-likelihood-continued</id>
   <content type="html">&lt;p&gt;Continuing to explore examples&lt;/p&gt;
&lt;p&gt;Some difficulty in the “snowfall” parallel computation engine, removing the ~/.sfCluster directory seems to reset the error “unable to unserialize nodes…”  Also don’t have good handling of variable names for tracking the boostrapping of parameters.  For the moment have just added a toggle to suppress these to avoid dim mismatch in rownames command.  Strange that this happens to the indicator_vs_likelihood code but not to the nearly-identical call to montecarlotest() in lin_bifur_models.R.&lt;/p&gt;
&lt;p&gt;Various simulation/analyses runs from today: [flickr-gallery mode=“search” tags=“warningsignals” min_upload_date=“2011-01-31 00:00:00” max_upload_date=“2011-02-01 8:59:59”]&lt;/p&gt;
&lt;p&gt;trying still-harder-to-detect change (m=-.01) Running right now on zero:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;at nice 15: indicator_vs_likelihood.R&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at nice 19:  indicator_vs_likelihood.R (with more reps?)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at 18: LTC.R&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;at 17: LSN.R&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>more Phylogenetic signal metrics & Brownie comparison</title>
   <link href="/2011/01/31/more-phylogenetic-signal-metrics-brownie-comparison.html"/>
   <updated>2011-01-31T08:31:42-08:00</updated>
   <id>h/2011/01/31/more-phylogenetic-signal-metrics-brownie-comparison</id>
   <content type="html">&lt;p&gt;Blomberg’s K estimates on trees of different sizes. Estimates differ across the distribution of possible data generated by BM model and generated from white noise. In principle, the K statistic should be able to distinguish between data simulated between these two. Of course, the ability to do this depends on the size and structure of the phylogenetic tree – Blomberg’s K is not an estimate of whether the phylogeny is sufficiently structured as to be informative.&lt;/p&gt;
&lt;p&gt;Small trees can be unreliable, but larger trees quickly gain substantial separation between the K estimated under the BM vs white-noise simulations.&lt;/p&gt;
&lt;p&gt;The distribution of K statistic under Brownian and white-noise models for a yule-process phylogeny of 20 taxa. &lt;img src=&quot;http://farm6.staticflickr.com/5015/5406205152_e3a1b1f9b6_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Simulated yule trees of increasing size and the power to distinguish between distributions of kappa expected under BM and WN models. Each point is the power at 95% confidence computed from plots like the first one (see Flickr collection for more). &lt;img src=&quot;http://farm6.staticflickr.com/5298/5405605465_665aa4b88f_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/9d332ded36df6816c2e203179f79e00ce8d39e51/pmc/demos/blombergK.R&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Birth-death trees are very twiggy and pretty informative, early-bursting style trees are not. Estimation is harder when tree is stretched a bit (using lambda-transformation) into a less twiggy shape. &lt;img src=&quot;http://farm6.staticflickr.com/5253/5406251752_7cffe2cc69_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-01-31 00:00:00” max_upload_date=“2011-01-31 23:59:59”]&lt;/p&gt;
&lt;p&gt;Example shows power in a statistic that is not also a model parameter.  Might be interesting to repeat with lambda model either for power between lambda and BM or lambda and OU, but also show how distance between statistic and parameter change.  As ABC methods become more prevalent, such analysis between statistic and likelihood become more important.&lt;/p&gt;
&lt;h2 id=&quot;other-topics&quot;&gt;Other topics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Interesting &lt;a href=&quot;https://mailman.stat.ethz.ch/pipermail/r-sig-phylo/2011-January/000923.html&quot;&gt;discussion on r-sig-phylo&lt;/a&gt; today about model choice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should discuss/demonstrate why release of constraint differs from Brownie (variable diversification rate) model. Started testing Liam’s Brownie.lite code and  &lt;a href=&quot;http://phytools.blogspot.com/2010/12/reading-simmap-trees-into-r.html?showComment=1296508405893#c571277624611079904&quot;&gt;read.simmap function.&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Notes on Bokma 2010: evolution in drifts and jumps</title>
   <link href="/2011/01/31/notes-on-bokma-2010-evolution-in-drifts-and-jumps.html"/>
   <updated>2011-01-31T04:15:45-08:00</updated>
   <id>h/2011/01/31/notes-on-bokma-2010-evolution-in-drifts-and-jumps</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://dx.doi.org/10.1093/sysbio/syq029&quot;&gt;Bokma 2010&lt;/a&gt; asks if there is an analytic expression for the likelihood in the evolutionary model he describes.&lt;/p&gt;
&lt;p&gt;The trait value of the process is determined by two things – a Brownian motion random walk (diffusion) with rate parameter $ s_a^2$ and speciation events. Under a speciation event, the trait jumps to a new value that differs from it’s parent’s by some amount chosen from zero-mean normal distribution with variance $ s_c^2&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Speciation events occur as a Poisson process at rate\inline&quot;/&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Species go extinct at rate\inline&quot;/&gt;&lt;/span&gt; $, terminating the process along that branch.&lt;/p&gt;
&lt;p&gt;First, observe that in the purely speciational case in the limit where $ s_c^2$ is small and $ = 0&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, we have a diffusion limit to a Brownian process.  However, in Bokma&amp;#39;s model, the branches don&amp;#39;t assume the trait value of their ancestor as their starting point\inline&quot;/&gt;&lt;/span&gt; x_a&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, but draw a random step away from there:\inline&quot;/&gt;&lt;/span&gt; x_a + N(0, s_c^2)&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  This is equivalent to lengthening a branch by a factor of\inline&quot;/&gt;&lt;/span&gt; s_c^2$ for every node (branching event) it has since its common ancestor. This creates a pattern that is in principle distinguishable from the purely gradual Brownian model. Of course the inference problem faces the difficulty of extinctions such that the number of nodes cannot be known.&lt;/p&gt;
&lt;p&gt;Bokma asks if it is possible to write down the likelihood function for the birth-death parameters and trait parameters. Under the standard BM+birth/death models, these are independent and we have analytic forms for both. In the pure birth model, we can still estimate the likelihoods independently, as the estimated birth rate $ $ does not influence the number of nodes and thus the number of jumps in the cladogenetic evolution. Bokma’s likelihood (eq 2 in the paper) only becomes a challenge when the number of nodes is unknown because of the extinctions. Bokma proposes the ABC approach, simulating realizations of the birth-death process and trait evolution under different values of the parameters and using some distant metric between observed and simulated values in place of the likelihood.&lt;/p&gt;
&lt;p&gt;It seems an efficient analytical approximation would simply assign the expected number of extinction events to be observed along each branch. As there is the same amount of total time in each data point, I first assumed the number of expected cladogenetic events would be the same for each data point, and thus just be a rescaling of the tree. Of course this ignores the information that some have surviving branch events, while others do not – so rather, this would be conditional on the number of branching events already known: The number of ancestral nodes between the tip and the root given the number/position of those that persisted to present day (and the birth &amp;amp; death parameters) can already be estimated from the birth-death likelihood function. This should be known, will have to look it up (conditional probability those lineages haven’t gone extinct and any others born in that time have – just this time it is maximized/varied over events while birth-death parameters are held fixed). Knowing the number of expected events, the branches can be lengthened appropriately by factors of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma_c\inline&quot;/&gt;&lt;/span&gt; and then the diversification rate $ _a$ estimated.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals of differing stregths by likelihood and by indicator</title>
   <link href="/2011/01/28/warning-signals-of-differing-stregths-by-likelihood-and-by-indicator.html"/>
   <updated>2011-01-28T09:59:25-08:00</updated>
   <id>h/2011/01/28/warning-signals-of-differing-stregths-by-likelihood-and-by-indicator</id>
   <content type="html">&lt;p&gt;Strong indicator example: m=-0.049, T=100, Ro=5 &lt;img src=&quot;http://farm5.staticflickr.com/4128/5396328748_905705671d_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;And likelihood ratio monte carlo model choice (nonparametric bootstrap) has no trouble: &lt;img src=&quot;http://farm6.staticflickr.com/5097/5396319992_5978a8e101_o.png&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5059/5395727335_72ecdd1908_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Less strong stability loss, m=-0.02 &lt;img src=&quot;http://farm6.staticflickr.com/5180/5396518585_75141322be_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;How statistics perform: &lt;img src=&quot;http://farm6.staticflickr.com/5138/5396518355_6ff3beceaa_o.png&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5136/5397114836_59a641380f_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Phylogenetic Signal metrics</title>
   <link href="/2011/01/28/phylogenetic-signal-metrics.html"/>
   <updated>2011-01-28T09:52:39-08:00</updated>
   <id>h/2011/01/28/phylogenetic-signal-metrics</id>
   <content type="html">&lt;p&gt;Blomberg’s K distribution under data simulated from BM on the geospiza tree (red) compared to simulating independent random draws from the Normal distribution.&lt;br /&gt;&lt;img src=&quot;http://farm6.staticflickr.com/5256/5396480381_145d947577_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Would be good to compare with differing size trees.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals vs model choice</title>
   <link href="/2011/01/27/warning-signals-vs-model-choice.html"/>
   <updated>2011-01-27T09:11:14-08:00</updated>
   <id>h/2011/01/27/warning-signals-vs-model-choice</id>
   <content type="html">&lt;p&gt;Continuing writing and experimentation for examples in the warning signals manuscript, figuring out how to explain the need for  the likelihood-based model comparison approach rather than the standard method of summary statistics.&lt;/p&gt;
&lt;p&gt;The traditional approach computes a particular “leading indicator”, such as variance or autocorrelation, in a sliding window along the time series. If the system is loosing stability approaching a bifurcation, it’s leading eigenvalue must go through zero and hence shows critical slowing down, with the associated pattern of increasing autocorrelation an increasing variance.&lt;/p&gt;
&lt;p&gt;Stating this trend isn’t the same as quantifying it statistically.  What corresponds to an actual increase vs a random fluctuation?  Typical approaches of the literature use a correlation test to check this.  Unfortunately, the time series points aren’t independent, so the null expectation isn’t zero correlation.  In fact, statistically significant correlation is observed in almost every simulation in which no warning signal is present: &lt;img src=&quot;http://farm5.staticflickr.com/4084/5393748789_5a1fc0ae7c_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;The tau parameter of Kendall’s correlation test should give some indication of the strength of trend.  By simulating many times from both a null model and a relatively dramatic warning signal model, we see little correspondence between larger tau values and existence of the warning signal:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5140/5394363432_dfb662249a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Despite the weakness of the leading indicators, these two signals should be quite distinguishable by likelihood:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Likelihood Fits  
&amp;gt; timedep &amp;lt;- updateGauss(timedep_LTC, pars=c(Ro=5, m=0, theta=100, sigma=1), warning, control=list(maxit=1000))
&amp;gt; const &amp;lt;- updateGauss(const_LTC, pars, warning, control=list(maxit=1000))
&amp;gt; llik_warning &amp;lt;- 2*(loglik(timedep)-loglik(const))

&amp;gt; timedep_no &amp;lt;- updateGauss(timedep_LTC, pars, no_warning, control=list(maxit=1000))
&amp;gt; const_no &amp;lt;- updateGauss(const_LTC, pars, no_warning, control=list(maxit=1000))
&amp;gt; llik_nowarning &amp;lt;- 2*(loglik(timedep_no)-loglik(const_no))

&amp;gt; llik_warning
[1] 18.95433
&amp;gt; llik_nowarning
[1] 0.882028&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>McElreath: A Bayesian approach to hierarchical modeling, using R to build our own estimator from scratch</title>
   <link href="/2011/01/26/mcelreath-a-bayesian-approach-to-hierarchical-modeling-using-r-to-build-our-own-estimator-from-scratch.html"/>
   <updated>2011-01-26T09:12:18-08:00</updated>
   <id>h/2011/01/26/mcelreath-a-bayesian-approach-to-hierarchical-modeling-using-r-to-build-our-own-estimator-from-scratch</id>
   <content type="html">&lt;p&gt;CPB workshop continues, introduction to Bayesian inference.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5177/5391045675_a98fe0fc33_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://xcelab.net/rm/&quot;&gt;McElreath&lt;/a&gt; discusses (slides):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bayes Theorem&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(\theta | D) = \frac{Pr(D|\theta) Pr(\theta )}{Pr(D)}&quot; alt=&quot;P(\theta | D) = \frac{Pr(D|\theta) Pr(\theta )}{Pr(D)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Philosophy of Priors, Uninformative Priors&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Confidence intervals / credible intervals for free&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computing the posterior: Directly or by MCMC&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nice visual example of updating prior as we add data:&lt;/p&gt;
&lt;p&gt;[gist id=“797795”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;King Markov and the chain islands.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Evaluating: Burn in , autocorrelation.  Thinning (saves memory).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Metropolis2.R bad mixing.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare better and worse proposal mechanisms, motivates Gibbs Sampling: propose from the posterior, always accepted.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Richard’s code:&lt;/p&gt;
&lt;p&gt;[gist id=“797782”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Intro Ecology Lecture at University of the Pacific</title>
   <link href="/2011/01/25/intro-ecology-lecture-at-university-of-the-pacific.html"/>
   <updated>2011-01-25T02:12:06-08:00</updated>
   <id>h/2011/01/25/intro-ecology-lecture-at-university-of-the-pacific</id>
   <content type="html">&lt;p&gt;I was invited to give a guest lecture on introductory ecology for an introductory environmental science course at University of the Pacific in Stockton today.  This provided both a nice outreach opportunity and a chance to speak to a full introductory class for 1:45hr, which I haven’t done before.&lt;/p&gt;
&lt;p&gt;I ran the class something as an experiment for myself as much as an instruction.  Having spent considerable time thinking more-or-less abstractly about effective teaching strategies with carefully planned lectures, activities, objectives, and assessments, I found myself suddenly at the other end of the spectrum: faced with giving a long lecture covering pretty much my entire field with little time to prepare and only the fuzziest objectives.  Where to start?  Like any other academic, I began by snatching up the textbook.&lt;/p&gt;
&lt;p&gt;Flipping first to the chapter questions, then to the outline, I saw Population growth curves, types of species interactions, nutrient cycles,  some adaptation and evolution.  The questions and emphasis seemed uninspired, as did I.  I wanted to communicate some of the excitement of the field as I saw it – though bouncing a few stories off of my housemates quickly convinced me that natural history stories were going over much better than my attempt to explain why bet-hedging in a stochastic environment was so cool and deliciously counterintuitive. I had no idea how to prepare, other than that I didn’t have the time or interest to create enough slides to fill 1:45hr of facts and information.&lt;/p&gt;
&lt;p&gt;I settled on constructing the talk around Netlogo simulations in hopes of providing some interaction and a more tangible feel for population dynamics.  I went into the lecture with no notes, only a cursory outline, a set of netlogo simulations, and a desire to hit basic concepts of population dynamics as I see them: exponential growth, density dependence and regulation from above and below. The challenge of coexistence to motivate the concept of niches.&lt;/p&gt;
&lt;p&gt;I muddled my way through with questions, examples, stories, and very disorganized board work, and continually suppressing the urge to write equations.  The students were very nice to me - warned that some might have their heads down the whole time and they were apt to be shy, I found many willing to share, vote, or even call out answers.  It was only rather late in the class when another question showed the class divided on the outcome that I asked them to talk to their neighbors – apprehensive that they’d never been asked before.  With hardly a pause, they all began talking.  By the time chatter quieted, most seemed to reach the right answer.  Though I didn’t have clickers, wish I had tried more think-pair-share moments in the class.&lt;/p&gt;
&lt;h3 id=&quot;sketch-of-some-of-the-topics-i-covered&quot;&gt;Sketch of some of the Topics I covered&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5255/5393662406_ca23bea68b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Simulation of predation.  Began with example of exponential growth:  immortal grass and no wolves.  Explain each sheep gives birth to a new offspring after a certain time interval of grazing, try to guess what the growth curve will look like.  Students quickly pick up on the need for finite resources, and I turn on the grass to show population stablize.  Trying just wolves and sheep (which aren’t easy to get to coexist with infinite grass!)  to illustrate regulation by predation as a another density-dependent mechanism was somewhat less effective – must practice demos! &lt;img src=&quot;http://farm6.staticflickr.com/5140/5393662380_365a94c6df_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;I used the simple birth-death simulation to show that equal rates don’t guarantee coexistence.  Perhaps the challenges with the wolf-sheep dynamics already helped illustrate this, but still comes as a surprise to the students.  Not sure if the message of common resources got across, and probably shouldn’t have attempted a discussion of temporal niches.&lt;/p&gt;
&lt;p&gt;From there I moved away from netlogo and into examples of interactions largely through natural history.  Fun storytelling, but without slides and very limited board work, I’m not sure how much was conveyed.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5213/5393662420_e0cefb4a78_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;I closed with the evolutionary story of the pepper moths, a simulation I’m much more familiar with but also one in which I cannot resist calling attention to many of the interesting ecological dynamics it exhibits – Neutral theory, temporal niches, sudden crashes, competing timescales – all of which probably deserved more time than I gave it.&lt;/p&gt;
&lt;h2 id=&quot;general-reflections&quot;&gt;General Reflections&lt;/h2&gt;
&lt;p&gt;Certainly not my best moment; perhaps redeemed more by the interest the students showed than by any knowledge I really imparted.  During a five-minute break (which allowed me to collect my thoughts as much as them to stretch there legs), a student remarked to the regular instructor, Alex Geddes, “now this is getting exciting!”&lt;/p&gt;
&lt;p&gt;From the sections I had taught some kind of lesson on before, I realized how much experience/practice discussing the material helped organize my thoughts and clarity of presentation.  I’ll have to learn to summarize better as I go along, and provide the kind of structure to the ideas that I’ve learned to do in my outdoor ed courses after so many years: “so there’s there’s really three main parts to  X…”&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>McElreath Hierarchical Models</title>
   <link href="/2011/01/24/mcelreath-hierarchical-models.html"/>
   <updated>2011-01-24T08:03:31-08:00</updated>
   <id>h/2011/01/24/mcelreath-hierarchical-models</id>
   <content type="html">&lt;p&gt;CPB workshop on hierarchal modeling starts off today with Richard McElreath’s introduction.[ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.  As these notes are taken directly during seminar (on my droid phone – saves me transcribing, later) , please forgive  typos and shorthand.[/ref]  “This is a workshop, not a job talk, meaning I’m going to give away the tricks and you have to learn something.  For job talks you just show off.”&lt;/p&gt;
&lt;p&gt;Begins with a sample dataset: bloodpressure dist of individuals by city.  Non-hierarchical way: ignore city data, look at all variation of pop, or compare city means.  Hierarchical models will look at both within &amp;amp; between.&lt;/p&gt;
&lt;p&gt;Intro to statistical models $ y N(a + B x, ) $.  Becomes hierarchical if the a’s are also distributed - a model with “more than one level of stochastic sampling.”  Individuals are clustered or have repeat sampling.&lt;/p&gt;
&lt;p&gt;Compares to old approach: fixed (constant) effects (instead of random) each neighborhood gets an id, rather than coming from a distribution.  (Cites Gelman 2005 rant on meanings of random effects.)   We’ll call our stoch approach “varying effects.”  Nice when (a) not enough data or (b) don’t care about identity of division.  Fixed effect makes sense sometimes; groups are genders, or groups are ordered, etc.&lt;/p&gt;
&lt;p&gt;Common types: varying intercepts, varying slopes.  (All code on smartsite, “I didn’t really saw her in half legs were tucked up in the box.”  )  gives lme4 lmer() examples, if both vary, can also covary.&lt;/p&gt;
&lt;p&gt;Considers Bryk schools math achievement data.  Mentions centering data.  Examples of regression.  Robustness testing by changing model structure.&lt;/p&gt;
&lt;p&gt;—- end of in-seminar notes —.&lt;/p&gt;
&lt;p&gt;Nice basic introduction; tomorrow will take us into model fitting by maximum likelihood rest of the week will take us through to Bayesian hierarchical models, MCMC and Gibbs sampling.  Schedule here: &lt;a href=&quot;http://cpb.ucdavis.edu/Workshops.html&quot;&gt;http://cpb.ucdavis.edu/Workshops.html&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Felsenstein (web) seminar</title>
   <link href="/2011/01/24/felsenstein-web-seminar.html"/>
   <updated>2011-01-24T03:13:08-08:00</updated>
   <id>h/2011/01/24/felsenstein-web-seminar</id>
   <content type="html">&lt;p&gt;Joe Felsenstein on &lt;a href=&quot;http://phyloseminar.org&quot;&gt;phyloseminar&lt;/a&gt; (&lt;a href=&quot;http://evo.caltech.edu/evoGate/player/EVOPlayer.jnlp?fileToPlay=http://phyloseminar.org/recorded/10_felsenstein.evx&quot;&gt;watch here&lt;/a&gt;). This morning. [ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.[/ref] Discusses bridging population genetics &amp;amp; comparative methods: where does covariation in traits across a phylogeny come from?&lt;/p&gt;
&lt;h3 id=&quot;morphometrics&quot;&gt;Morphometrics&lt;/h3&gt;
&lt;p&gt;Using morphometrics (digitized landmarks [though now we can do spherical harmonics, CT scans, etc])  to evolve on a phylogeny under BM rather than use that data to infer phylogeny.  Can we just stick these coordinate info on the tree?  No, need to correct for the arbitrary reference frame (rotation of fish position etc)  can we superimpose all fish?  Fr&lt;a href=&quot;http://twitpic.com/3t1keu&quot;&gt;&lt;img src=&quot;http://twitpic.com/show/thumb/3t1keu.jpg&quot; alt=&quot;Watching Joe Felsenstein presenting on phyloseminar.org with … on Twitpic&quot; /&gt;&lt;/a&gt;ed was right, no, we cannot!  (Nice example on why we need differences).  Use Helmard transition (differences between running ave), loses no biological info, fixes translation but not rotation.  Rotate to max likelihood.&lt;/p&gt;
&lt;p&gt;Infers covariance of landmark points after having the points move by isotropic BM in all points but two, shows can recover that covariance by fitting the BM models and dealing with rotation.&lt;/p&gt;
&lt;h3 id=&quot;fossils&quot;&gt;Fossils&lt;/h3&gt;
&lt;p&gt;Ronquist and Felsenstein independently look at using fossils.  Consider possible rooting of fossils to different places on tree by likelihood.  Max likelihood minimizes the det of the cov matrix.  Works nicely on simulated example on time collaborated tree.  Proposes stretching/scaling tree to address dealing with trees that are not calibrated in real time.&lt;/p&gt;
&lt;h3 id=&quot;threshold-model&quot;&gt;Threshold model&lt;/h3&gt;
&lt;p&gt;(Sewall Wright)  BM threshold, allows variation within species (just throw a Gaussian around a threshold evolving as a cts trait BM, represents species dist.  Attempt with a covariance matrix of discrete binary traits.&lt;/p&gt;
&lt;p&gt;Future: more MCMC won’t help.  Need bigger trees, but models will break down.  [No, models aren’t more accurate on smaller scales]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Shape as well as size influence power of phylogeny</title>
   <link href="/2011/01/21/shape-as-well-as-size-influence-power-of-phylogeny.html"/>
   <updated>2011-01-21T09:34:57-08:00</updated>
   <id>h/2011/01/21/shape-as-well-as-size-influence-power-of-phylogeny</id>
   <content type="html">&lt;p&gt;Finished the runs comparing the power to detect different strengths of selection using different size phylogenetic trees all generated under pure-birth process simulation, and then under trees of the same size but gradually lengthening the tips, (or rather shortening everything but the tips) using the lambda transformation, which puts the informative differences deep in the past where they are less reflected in the stationary state.  Bure-birth (also the constant rate birth-death) trees on the other hand are particularly twiggy and quite informative.  Though I’ve claimed that tree structure, not just size, matters in determining power, I haven’t shown it yet (other than in the trivial case of a star phylogeny), so here we go:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5121/5376804358_12cd91f9cd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5006/5376203207_741f2818ba_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Graphs show the power to distinguish the strength of selection alpha in an OU model from a purely Brownian model.  I have included the phylogeny from the Anoles dataset of 23 taxa for comparison.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Estimating phylogenetic signal (lambda) on large trees</title>
   <link href="/2011/01/20/estimating-phylogenetic-signal-lambda-on-large-trees.html"/>
   <updated>2011-01-20T11:21:23-08:00</updated>
   <id>h/2011/01/20/estimating-phylogenetic-signal-lambda-on-large-trees</id>
   <content type="html">&lt;p&gt;Used a simulated tree of 600 taxa to show that lambda distribution continues to improve with larger taxa.  Recall the results with 13 taxa and with 23 taxa:&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5370016511 [/flickr]&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“right”]5370635360 [/flickr]&lt;/p&gt;
&lt;p&gt;compare to 281 taxa and then 600 taxa:&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5310150538 [/flickr]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5162/5373621355_de86a334d3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;By 281 taxa the distribution is at least centered on the true value.  The width of that distribution gets somewhat tighter with more taxa, though the increase is marginal.  Note however that for 600 taxa the model choice problem becomes substantially clearer (compare to 23 taxa)&lt;/p&gt;
&lt;p&gt;[flickr size=“small” float=“left”]5370635644 [/flickr]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5203/5373622557_0557779746_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Simulations under the lambda model continue to produce a much larger variance in possible likelihoods, creating this very awkward-looking plots with a distribution that is “all-fat” and one that is “all lean,” but the decreasing region of overlap is very clear. ((Clicking on figures gives the git ids to grab the code.  Compare to&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/&quot;&gt;github repository&lt;/a&gt; or just do “git clone git://github.com/cboettig/Comparative-Phylogenetics.git” “git checkout &lt;commitID&gt;” to grab the code))&lt;/p&gt;
&lt;p&gt;Overall these distributions suggest that for simulations under tree-transform models, some data-sets will manage to look very non-Brownian and be easy to identify, but it will always be hard to be that the ones that look very Brownian weren’t produced by lambda.  I believe the point to be largely mute as lambda isn’t really a biological model to begin with (what on earth could be responsible for transforming only the branch lengths that don’t correspond to tip taxa??) If you want a model in which the data can become statistically independent of the phylogeny, OU makes a lot more biological sense…&lt;/p&gt;
&lt;h2 id=&quot;parameter-comparisons&quot;&gt;Parameter comparisons&lt;/h2&gt;
&lt;p&gt;PMC can return the distributions of the parameters as well, just as is done for the lambda parameter in the example above. Doing this for the OU.3 model confirms that while the OU models seem to fit more reliably than the lambda models, their is still much more uncertainty in the tree scaling parameter (alpha) than the other parameters.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5127/5374777304_ef9d670586_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;It is also interesting to compare to the case where the data is simulated by BM but estimated from OU.3:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;large &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[2,])
med &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[3,])
small &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[4,])
sigma_post &amp;lt;- density(bm_v_ouLP$null_sim_test_pars[1,])
alpha_post &amp;lt;- density((bm_v_ouLP$null_sim_test_pars[5,]))&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5285/5374177515_5176a985ab_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;power-curve-comparisons&quot;&gt;Power curve comparisons&lt;/h2&gt;
&lt;p&gt;Rerunning the power-curve examples to use simulated data instead of my &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/08/27&quot;&gt;original example with arbitrary real trees&lt;/a&gt;. Also running examples to show the impact of tree topology on power to detect alpha. Using lambda as a convenient way to distort tree topology. Examples running now&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/08e2a37cd543e04eb5a1b2643dc9148895f5bfcd/pmc/demos/power_curves.R&quot;&gt;, see code&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;writing-continues&quot;&gt;Writing continues&lt;/h2&gt;
&lt;p&gt;Otherwise I’m continuing to work on the manuscript writing for most of the past few days, hope to have a draft out to Graham and Peter tonight.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Robert Hijmans on Models to predict sp response to climate change</title>
   <link href="/2011/01/19/robert-hijmans-on-models-to-predict-sp-response-to-climate-change.html"/>
   <updated>2011-01-19T04:53:34-08:00</updated>
   <id>h/2011/01/19/robert-hijmans-on-models-to-predict-sp-response-to-climate-change</id>
   <content type="html">&lt;p&gt;Notes from seminar.[ref]These are my own notes as taken during the seminar and may not accurately reflect everything.  I merely confirm with the speaker that my notes are publicly visible.  My own commentary/thoughts indicated in square brackets.  [/ref]  Robert speaks to an utterly packed room.  Predicting future range of species:  4 topics.  1 cross-validation, 2 niches, 3 unit (sp?), 4 mechanism.  Presence-absence predictions from machine learning, maxent.&lt;/p&gt;
&lt;p&gt;Opening: AUC for measure of fit- lousy stat!&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Cross-validation: Training data vs test data.  So can compare models, but doesn’t mean anything in absolute terms.  Prediction by distance to known observations of sp occurance works better than bioclim and about as well as maxent-  seems maxent just captures spatial autocorrelation mostly, and not ecology/niche!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;compare niche predictions based on historical range vs current range-  very different.  [You live where humans let you much more than where climate lets you.  Want to forecast potential niche/climate determinants of niche, but these aren’t often the most informative predictors seized upon by the machine learning].&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;units of analysis.  (Brad’s salamanders?)  little evidence that ranges are climate driven.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mechanistic models-  hot topic, but no guarantee of better predictions. Just fitting a story (time management model) isn’t really different.  Food &amp;amp; cold are limiting-  “Gorillas were driven up these mnts and they don’t like it there.  They want global warming”  How about one-tailed limits: rather than having dist around optimum conditions, just have single-sided limits (min H2O but no max).&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ends with Levins three model types.&lt;/p&gt;
&lt;p&gt;[my question: Is the result-  all about people, not climate- due to focus on big mammals and crops? ]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Reflections from #scio11: Saturday's Open Science Track</title>
   <link href="/2011/01/15/reflections-from-scio11-saturdays-open-science-track.html"/>
   <updated>2011-01-15T15:12:45-08:00</updated>
   <id>h/2011/01/15/reflections-from-scio11-saturdays-open-science-track</id>
   <content type="html">&lt;p&gt;Have just returned from the amazing and energetic science online 2011 conference, where I will now, like the rest of the attendees, turn to catching up on sleep, following new online acquaintances, struggling not to append #scio11 to everything I write, and composing that nearly obligatory post-event blog entry we all use like a glass of water after a party; with the hope in may help me metabolize the experience.&lt;/p&gt;
&lt;p&gt;Never mind that I don’t actually blog. I just have this lab notebook, normally filled with equations, graphs and code. But it is recordings of my research experience, even if it is written only for me most of the time, so let’s just call this part of research and forgive the conversational tone. Meanwhile I will use the excuse to write more at length for myself the notes I wish to remember than would be seemly in writing in a blog with an audience.  In the spirit of this resembling my daily notebook and also in actually finishing this post, here are my notes and thoughts on Saturday’s amazing blur.[ref]Note this was written up on Jan 17 upon returning to reality with enough time to write, but published under the event date for notebook consistency.  [/ref]&lt;/p&gt;
&lt;h3 id=&quot;saturday&quot;&gt;Saturday&lt;/h3&gt;
&lt;p&gt;I began the day in Kay’s (@&lt;a href=&quot;http://twitter.com/#!/kaythaney&quot;&gt;kaythaney&lt;/a&gt;) Digital Toolbox session, room C, where I would return for each of my sessions that day. It was one of the live-streamed rooms, so all the following sessions should have archived recordings (links to come?).  The sessions that followed sequentially in this room fit together like a perfectly flowing conversation, as if each one  responding to the former and anticipating the next.  Just further evidence that Bora (&lt;a href=&quot;http://twitter.com/#!/boraz&quot;&gt;@Boraz&lt;/a&gt;) and Anton (&lt;a href=&quot;http://twitter.com/#!/mistersugar&quot;&gt;@mistersugar&lt;/a&gt;) must come from magic lamps.&lt;/p&gt;
&lt;p&gt;Next up brought one of my existing luminaries, Steve Koch&lt;a href=&quot;[@skoch3]http://twitter.com/#!/skoch3&quot;&gt;ref&lt;/a&gt;, pronounced cook, I learned, and all of a sudden understood the &lt;a href=&quot;http://openwetware.org/wiki/User:Skoch3&quot;&gt;chef’s hat symbol&lt;/a&gt; for their lab that has puzzled me for a year[/ref], with  &lt;a href=&quot;http://libraryadventures.com/&quot;&gt;Kiyomi Deards&lt;/a&gt; and &lt;a href=&quot;http://cloud.lib.wfu.edu/blog/pd/&quot;&gt;Molly Keener&lt;/a&gt; to the panel on data discover-ability and archiving in Open Notebook Science. The session erupted in lively debate on the relative merits of commercial hosting solutions which may offer great discoverability and ease of use until they suddenly go the way of Del.icio.us, or institutional repositories, which are long lived but often unintegrated even amongst themselves. The good-spirited solutions all pointed to doing both and trying to make each better.&lt;/p&gt;
&lt;p&gt;Not that we wouldn’t also question that optimism too, for the next session asked us: “What’s keeping us from open science?” Covering many things, at the heart of this session was the crux of lacking incentives. The promise of altmetrics loomed large, but &lt;a href=&quot;http://friendfeed.com/stevekoch/a0823501/scio11-good-question-from-carl-should-emphasis&quot;&gt;I wondered&lt;/a&gt;if we needed to do focus more on making impact with open science than merely measuring it. For instance, we can surely try to measure the impact of open notebooks and science tweets, but tools for better discovery, standardization, or more semantic open content may go much father to having unmistakable impact.&lt;/p&gt;
&lt;p&gt;The schedule indicates[ref]Also, the schedule lists the full topics and presenters for these sessions, for which reason I should  &lt;a href=&quot;http://scio11.wikispaces.com/Program&quot;&gt;work in a link  to it somewhere.&lt;/a&gt;[/ref] that lunch happened next. though he whirling discussions left me with lots of ideas and names than memories of food or thoughts to my own upcoming panel. But no matter, I would be sitting with the heroes Jean-Claude Bradley (@jcbradley) and Anthony Williams (@ChemConnector), so why worry?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://m.friendfeed-media.com/a9192c4f24f3b1cc96c306e48bad1c498cab0c23&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Our session on Open Notebook Science quickly gave us reason to worry when the projector which had done fine thus far suddenly refused to work. Nevermind, we all work with technology too frequently to be unfamiliar with its failure - we would do without. If you were there and you’re wondering what you missed, here are my slides.  See J&lt;a href=&quot;http://usefulchem.blogspot.com/2011/01/science-online-2011-thoughts.html&quot;&gt;ean-Claude’s post&lt;/a&gt;for more on our session.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/scioslides&quot;&gt;Scioslides&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I described the tools I use to make my notebook more automated and complete and discussed my vision of a social lab notebook.  In face of the observation that many open database efforts face the tragedy of commons effect (many researchers may use the resources but few contribute) I discussed some of the many immediate benefits the practice has had for me.  I must say what an immense treat it is to be able to finish a session and see the immediate feedback and reactions it has generated through the online streams.&lt;/p&gt;
&lt;p&gt;The video recording of our session has now been posted:&lt;/p&gt;
&lt;p&gt;[iframe http://player.vimeo.com/video/20100632 400 225]&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&quot;http://scienceonline2011.com/watch-2/&quot;&gt;recordings of the other sessions&lt;/a&gt; as well.&lt;/p&gt;
&lt;p&gt;Having broached the idea of &lt;a href=&quot;http://altmetrics.org/manifesto/&quot;&gt;altmetrics&lt;/a&gt; on several occasions already, our next session dove into the details of how we might construct these, what they might measure, and how they would be received. Or as it was more concisely and provocatively phrased by Paul Groth (&lt;a href=&quot;http://twitter.com/#!/pgroth&quot;&gt;@pgroth&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Would you list the number of twitter followers you have on your CV?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The last session dived further into tackling and improving the most common metric: citations. From citations that map to specific parts of articles to ones measuring the sentiment (supports/refutes) or even anticipating the social-cultural context of citations, the potential here is amazing. Jason Hoyt’s (&lt;a href=&quot;http://twitter.com/#!/jasonhoyt&quot;&gt;@jasonHoyt&lt;/a&gt;) 160 characters may have captured this session best:&lt;img src=&quot;http://m.friendfeed-media.com/f22753e4ef38225cbad94b61e22a9e5fdb701f23&quot; /&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;if I do my job right, no one will care about publishing in Nature Science Cell…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Indicating that better article discovery and citation tracking through tools such as Mendeley would make the impact factor obsolete.&lt;/p&gt;
&lt;p&gt;The evening banquet featured many highlights, including seeing one of my fellow graduate students in the video competition, the very moving story of Meg Lowman’s (&lt;a href=&quot;http://twitter.com/#!/canopymeg&quot;&gt;@canopymeg&lt;/a&gt;) work researching and inspiring rain-forest conservation, laughing tears at Brian Marlow’s (&lt;a href=&quot;http://twitter.com/#!/sciencecomedian&quot;&gt;@sciencecomedian&lt;/a&gt;) humorist routine, and talks deep into the night about &lt;a href=&quot;http://drexel-coas-elearning.blogspot.com/&quot;&gt;innovated ideas in open education&lt;/a&gt; with JC and then the future of publishing with Jason, Mark and Tony (&lt;a href=&quot;http://twitter.com/#!/jasonpriem&quot;&gt;@jasonPriem&lt;/a&gt;, &lt;a href=&quot;http://twitter.com/#!/science3point0&quot;&gt;@science3point0&lt;/a&gt;, and &lt;a href=&quot;http://twitter.com/#!/ChemConnector&quot;&gt;@ChemConnector&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Many other great discussions throughout the day on and off line that I cannot begin to capture here.  But after all, they are just beginning.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>evolution- wrightscape</title>
   <link href="/2011/01/11/phylogenetics-wrightscape.html"/>
   <updated>2011-01-11T07:38:41-08:00</updated>
   <id>h/2011/01/11/phylogenetics-wrightscape</id>
   <content type="html">&lt;p&gt;Interesting meeting with Peter to discuss a variety of issues in comparative phylogenetics.  Short notes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Transforming data, log data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trends in directions in convergent traits&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;multivariate inference&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Manuscript&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;wrightscape&quot;&gt;Wrightscape&lt;/h3&gt;
&lt;p&gt;First have to test PMC to make sure it works with OUCH classes.  Also adding PMC-required wrappers for wrightscape.  Ended up modifying PMC to handle the case of simulate functions that return replicates, like these packages do.  Both are working now.&lt;/p&gt;
&lt;p&gt;Shows clear differences between models under the release-of-constraint vs simply different optima hypothesis.  Increasing max-iterations of simplex (from 1000 to 10000) to help with poorly convergent cases now. (Recall that object files must be removed to recompile the src code)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5122/5347054109_475e57bd2a_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals, Power and Sufficient Statistics</title>
   <link href="/2011/01/10/warning-signals-power-and-sufficient-statistics.html"/>
   <updated>2011-01-10T07:57:57-08:00</updated>
   <id>h/2011/01/10/warning-signals-power-and-sufficient-statistics</id>
   <content type="html">&lt;p&gt;Working on warning signals manuscript. Looking at overall powercurves as a function of sample size and rate of stability loss in both models.  Planning to repeat that analysis with summary statistics approach to illustrate the relative loss in power of the “leading indicator” approach. (simulations just set up to run now, figures should appear below as they complete.  Click on figures for links to code).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on transcritical bifurcation as a function of rate of stability loss:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LTC, stability” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on transcritical bifurcation as a function of sample points:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LTC, sample, powercurves.R” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on saddle node bifurcation as a function of rate of stability loss:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“warningsignals, LSN, stability, powercurves.R” tag_mode=“all” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Power curve based on saddle node bifurcation as a function of rate of sample points:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[flickr-gallery mode=“search” tag_mode=“all” tags=“warningsignals, LSN, sample, powercurves.R” min_upload_date=“2011-01-10 00:00:00” max_upload_date=“2011-01-12 23:59:59” user_id=“46456847@N08”]&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/867c55d251aad14ca5ed8d91e897c576ddd5d778&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Significant variation in power based on the simulation.  Also not all runs appear to get adequate convergence for the model fits.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Phylo Monte Carlo for diversification rates</title>
   <link href="/2011/01/09/phylo-monte-carlo-for-diversification-rates.html"/>
   <updated>2011-01-09T05:28:55-08:00</updated>
   <id>h/2011/01/09/phylo-monte-carlo-for-diversification-rates</id>
   <content type="html">&lt;p&gt;Writing function wrappers for geiger functions to perform  Phylogenetic Monte Carlo.  Any object that has methods defined for update.objecttype (object, data) and simulate.objecttype(data), and loglik.object(object) should be able to use the montecarlotest() function. OUCH almost does this but not quite, since the datatype returned by ‘simulate’ doesn’t match that needed by ‘update’. OUCH also uses S4 class styles.&lt;/p&gt;
&lt;p&gt;Wrote wrappers for ouch functions such that the ouch models will work with the same montecarlotest() code.  Some care to avoid S3-S4 conflicts.  See gist[ref]Example code above for correct handling.  Basically avoid the S4 setGeneric() for compatibility.[/ref] for notes on this from Duncan.&lt;/p&gt;
&lt;h2 id=&quot;branching-rates&quot;&gt;Branching Rates&lt;/h2&gt;
&lt;p&gt;Having some difficulty running basic models. Notes: birthdeath.tree creates a tree with extinct taxa.  prune.extinct.taxa() seems to fail. Graham Slater suggests TreeSim package, which works except on wiglaf for some reason, the final example in sim.bd.taxa doesn’t run. A couple questions of what it means to be simulating under the right model&amp;quot;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Should the simulation under the model condition on the number of taxa or the time?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should the simulation bother generating trees or just the vector of branching times? (really only a performance question)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Overall phylogenetic monte carlo seems to show that accurately distinguishing between models is very difficult.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“phylogenetics” min_upload_date=“2011-01-09 00:00:00” max_upload_date=“2011-01-09 23:59:59”]&lt;/p&gt;
&lt;p&gt;Creating a table of functions provided by the various phylogenetic methods package in R with notes:&lt;/p&gt;
&lt;p&gt;[table id=1 /]&lt;/p&gt;
&lt;h2 id=&quot;s3-s4-classes-in-r&quot;&gt;S3 &amp;amp; S4 classes in R&lt;/h2&gt;
&lt;p&gt;[gist id=“773234”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Two routes to adaptive branching</title>
   <link href="/2011/01/06/two-routes-to-adaptive-branching.html"/>
   <updated>2011-01-06T02:56:11-08:00</updated>
   <id>h/2011/01/06/two-routes-to-adaptive-branching</id>
   <content type="html">&lt;p&gt;Simulations completed, help accentuate the different paths for branching.  When the most failures occur while waiting for the first mutation to enter first established dimorphism, mutation rate seems limiting (left):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5082/5330189191_a102ab6930_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5003/5330799994_d9d050c587_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(right) With a higher mutation rate, most collapses back to monomorphism occur after a mutation successfully invades in the dimorphic population. Unfortunately these runs result in large fraction of the ensemble never reaching the final branching, those that do, do so fast:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5044/5330262645_409b7f722e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5243/5330873676_00a39384f4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that 1e7 is the max running time.  Running a set of new simulations well outside of the range where some will not complete in the max-time interval of 1e7. (&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commit/bb0dd7111f696a1de2654a21df6d03068ac6fae6&quot;&gt;commit&lt;/a&gt;, &lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/bb0dd7111f696a1de2654a21df6d03068ac6fae6/demos/fewmore.R&quot;&gt;codes&lt;/a&gt; and &lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/593b0ac13b6065aa77c9235edeafdafe4cc0fe8a/demos/step_limited.R&quot;&gt;more&lt;/a&gt; to specify parameters.)  &lt;a href=&quot;http://www.flickr.com/search/?q=adaptivedynamics&amp;amp;m=tags&amp;amp;d=taken-20110106-20110106&amp;amp;ss=0&amp;amp;ct=0&amp;amp;mt=all&amp;amp;w=46456847%40N08&amp;amp;adv=1&quot;&gt;See flickr collection of today in adaptive dynamics for more&lt;/a&gt;, embedded below:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“search” tags=“adaptivedynamics” min_upload_date=“2011-01-06 00:00:00” max_upload_date=“2011-01-07 00:00:00”]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Finishing up my #SICB Presentation</title>
   <link href="/2011/01/02/finishing-up-my-sicb-presentation.html"/>
   <updated>2011-01-02T13:00:03-08:00</updated>
   <id>h/2011/01/02/finishing-up-my-sicb-presentation</id>
   <content type="html">&lt;p&gt;Finished up my SICB presentation tweaks, slides now up on slideshare, flying off to the conference tomorrow.  Created this in OpenOffice, started adding animations and then decided it would be more reliable to just duplicate slides to have parts appear (really just for the explanation of the likelihood ratio distributions under each model).  Next time think I’ll stick with my usual inkscape slides tied together with latex beamer, the lack of vector images in this one is not ideal.  Presenting at 8am Tuesday in: &lt;a href=&quot;http://www.sicb.org/meetings/2011/schedule/results.php3?search=sday+%3D+%272011-01-04%27+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27S%25%27%29+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27P%25%27%29%29&quot;&gt;Macroevolution I – Methods and Character Evolution.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/is-your-phylogeny-informative&quot;&gt;Is your phylogeny informative?&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It’s been another day of multiple projects:  I’m also running a few extra adaptive dynamics simulations to replicate the pattern of differences between phase 2 and phase 3 collapses from the May 5th simulations, and lastly, some work on the intro for the warning signals manuscript.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Comparative evolution: Is the data informative?</title>
   <link href="/2010/12/31/comparative-phylogenetics-is-the-data-informative.html"/>
   <updated>2010-12-31T13:22:07-08:00</updated>
   <id>h/2010/12/31/comparative-phylogenetics-is-the-data-informative</id>
   <content type="html">&lt;p&gt;Working on my SICB talk, going a little further into the example of fitting the lambda model on the Anoles data to illustrate the ways in which we may lack sufficient data for the question.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;The dataset may not contain adequate signal of the parameter / phenomenon in question&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The dataset may not be adequately large&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Anoles data set (23 taxa):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5244/5309932027_a43349ff6a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;This first image shows the distribution of lambda values estimated from many datasets all simulated under a lambda = 0.6.  (Replotted from earlier entry)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5086/5310521188_dc5b23cf56_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;A larger (simulated &amp;gt; 300 taxa) tree has can infer lambda with somewhat greater accuracy, though still rather sizable variance. (reran this simulation from earlier entry code that didn’t store the .Rdat file)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5045/5310150538_6a1b4fa16c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;How informative the data are depends on the question.  Using the original 23 taxa tree we find it is plenty big enough to reliably recover the estimate of sigma, even though many of those estimates come from models that have rather mismatched lambda.  This suggests that sigma is nearly a sufficient statistic, while lambda is not.  That it can fit even when lambda is mismatched further suggests that the tree itself isn’t informing that estimate much – simply matching the variance in the data is most important.  This apparent lack of phylogenetic signal, however, says everything about how small the tree is, not how well or not well Brownian motion fits the data.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Stochastic limits to evolutionary branching</title>
   <link href="/2010/12/30/stochastic-limits-to-evolutionary-branching.html"/>
   <updated>2010-12-30T14:12:47-08:00</updated>
   <id>h/2010/12/30/stochastic-limits-to-evolutionary-branching</id>
   <content type="html">&lt;p&gt;My last post was a bit pessimistic, sometimes I can still miss the forest for the trees.  Hidden in those figures, the main point has been staring me in the face.  So let’s try this again.&lt;/p&gt;
&lt;p&gt;Stochastic limits to evolutionary branching is the story of two dueling timescales.  The first timescale is that of the evolutionary process: the frequency of steps (mutation rate, $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?) and the size of the steps (mutation kernel standard deviation\inline&quot;/&gt;&lt;/span&gt; _{}$), on top of which we add the selection gradient, created by the ecology. The second timescale is that of ecological coexistence, which in low noise situations should be much longer, and hence irrelevant.&lt;/p&gt;
&lt;p&gt;While the approach to the branching point depends on the width of the resource kernel and is independent of the competition kernel.  At the branching point, how much narrower the competition kernel is compared to the resource kernel (in units of the mutational step size) determines how stable the coexistence of the early dimorphism is – the second timescale.  In most adaptive dynamics simulations this second timescale is irrelevant, being much longer than the former timescale, at least by assumption.  However, this need not be the case.&lt;/p&gt;
&lt;p&gt;When this timescale (influenced by most parameters: population size, mutation size relative to competition kernel; resource kernel matters more weakly[ref] should add the equations for approximating the coexistence time to illustrate this[/ref])  becomes on the same order as the evolutionary timescale of waiting until the next mutation (determined by the mutation rate and population size) suddenly it impacts the waiting time until branching.&lt;/p&gt;
&lt;p&gt;This can be characterized by the number of times a dimorphism establishes but then fails.  Similarly, weak coexistence impacts the number of times the dimorphism survives long enough for the mutation to arrive and establish, only to again collapse.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5244/5303963185_198812d83d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5042/5304557466_ffa94d5ce1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Figures illustrate outside the regime where coexistence times matter, where dimorphism never collapses after establishing.  In harsher parameter regime, the dimorphism collapses hundreds of times before enough mutations can accumulate in rapid succession (or a rare large mutation occurs) to create a dimorphism of substantially different traits so as to coexist.&lt;/p&gt;
&lt;p&gt;Respective codes for each figure to show parameter values:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; all[[2]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-3, sigma_c2 = .1, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30)
 all[[3]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.03, mu = 5e-4, sigma_c2 = .3, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commit/e85f36cd1bdafb998468ec7ceb74c72e4c73876d#diff-0&quot;&gt;full code&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;In the first example, a mutation at least two standard deviations out (prob &amp;lt;5%) from the expected value is sufficient to get a standard deviation away from the competition kernel (i.e.  60% competition).  Step-size limited mutations should have very similar failures for the first and second plots, using lots of little steps each with high failure rate.  Mutation-rate limited processes use one big jump, and show a high disparity between the failures in the first case and failures in the second.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5241/5306903526_94d5ee93a5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Figures like the above show that when coexistence is hard (sigma_c  approaches sigma_k = 1) failure rates can be very high.  As the rates are very similar, this case appears to be clearly step-size limited, proceeding through many mutations with low probability of success of coexisting.&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commit/2b25473689f6b4e9ba739a4373a3e457da9589c0&quot;&gt;code &amp;amp; data&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;further-exploration-illustrating-this-second-mode-mutation-limited&quot;&gt;Further Exploration: Illustrating this second mode (mutation-limited)&lt;/h2&gt;
&lt;p&gt;Trying some examples now to see if I can create mutation-rate limited example by running the above at sigma_mu=.5 rather than .3 when varying mutation rate over 1e-4 to 1e-3.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5127/5309279143_425ca848da_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5207/5309867078_17fe14c0db_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The low mutation rates appear to time out instead (time until phase, left figure).  The higher mutations actually show slightly fewer attempts after establishment, but not a strong signal.  Trying now with larger mutation steps.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5041/5310364434_dc2f8b9ecd_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Still shows no indication of rate limited mutation.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Open Notebook Science Abstract</title>
   <link href="/2010/12/30/open-notebook-science-abstract.html"/>
   <updated>2010-12-30T09:54:37-08:00</updated>
   <id>h/2010/12/30/open-notebook-science-abstract</id>
   <content type="html">&lt;p&gt;In addition to my primary research categories, I make some entries in my lab notebook  to document and reflect on my experiment in open notebook science.  This includes my notes on tools I try out for open and collaborative science, including uses of social media, cloud computing, and scientific databases and repositories.&lt;/p&gt;
&lt;p&gt;This serves as a cover-page for the open science entries in my notebook, displaying the most recent entries, articles, figures and code through rss feeds.&lt;/p&gt;
&lt;h2 id=&quot;recent-notebook-entries&quot;&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/category/ons-thoughts&quot;&gt;Recent Notebook Entries&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[rssinpage rssfeed=‘http://www.carlboettiger.info/archives/category/ons-thoughts/feed’ rssformat=‘x: Y’ rssitems=“10” rssdateformat=‘j F Y’ rsstimezone=‘America/Los_Angeles’]&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://openwetware.org/wiki/Category:ONS&quot;&gt;Entries from before 20-Oct-2010&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;recently-added-articles&quot;&gt;&lt;a href=&quot;http://www.mendeley.com/groups/530031/future-of-science/&quot;&gt;Recently Added Articles&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I maintain a collection of literature on articles that discuss the future of science, peer review, open access, open data, web tools and science 2.0 ideas on Mendeley called “Future of Science,” whose rss feed appears below.&lt;/p&gt;
&lt;p&gt;[rssinpage rssfeed=‘http://www.mendeley.com/groups/530031/future-of-science/feed/rss’ rssformat=‘x: Y’ rssitems=“5” rssdateformat=‘j F Y’ rsstimezone=‘America/Los_Angeles’]&lt;/p&gt;
&lt;h2 id=&quot;recent-figures&quot;&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/ons/&quot;&gt;Recent Figures&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“ons” &lt;code&gt;tag_mode=&amp;quot;all&amp;quot;&lt;/code&gt;]&lt;/p&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;&lt;a href=&quot;https://github.com/cboettig/socialR&quot;&gt;Code Updates&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;I’m developing an R package called “socialR”, which I use to interact with my notebook, github code library, flickr image database and twitter  notification system from within R.  These are the updates from the commit log, &lt;a href=&quot;http://www.carlboettiger.info/archives/565&quot;&gt;see this entry&lt;/a&gt;for details.&lt;/p&gt;
&lt;p&gt;[cetsEmbedRSS id=https://github.com/cboettig/socialR/commits/master.atom itemcount=5 itemauthor=0 itemdate=1 itemcontent=0]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parameter exploration in adaptive dynamics branching</title>
   <link href="/2010/12/30/parameter-exploration-in-adaptive-dynamics-branching.html"/>
   <updated>2010-12-30T08:52:09-08:00</updated>
   <id>h/2010/12/30/parameter-exploration-in-adaptive-dynamics-branching</id>
   <content type="html">&lt;p&gt;Ran a series of simulations overnight to explore aspects of time-to-branching at different phases of the branching process.  Still using only 16 replicates per data point, though increased maximum time for a run another order of magnitude to avoid timing out runs influencing the dataset for the slow-rate parameters.  Still seems to suggest a regime beyond which branching becomes completely improbable.  Not clear that the transition is a sharp as the Arrhenius approximation might suggest.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“2010dec30slideshow”]&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commit/20124cd7ce45f26f0cd40ad4896ea5358d655c63#diff-1&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/2b25473689f6b4e9ba739a4373a3e457da9589c0/demos/waiting_times.Rdat&quot;&gt;data&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“adaptivedynamics”]&lt;/p&gt;
&lt;p&gt;I have found the interpretation of the larger scale simulations exploring the impact of the various parameters upon the branching times in different phases somewhat less clear than I had hoped.&lt;/p&gt;
&lt;p&gt;The analytical approximation gives the suggestion of a sharp transition between a regime where branching is “easy”, where the expected coexistence times are longer than the expected waiting time to the next mutation, and “hard”, where they are shorter. The mathematics reduce to an expression similar to the Arrhenius law, where there is a sharp transition between the probability of being in one state to being in the other depending on the noise level.&lt;/p&gt;
&lt;p&gt;I have been trying to get explore this through the simulations and figuring out the best way to visually represent this. I have been using the contour plots you suggested to illustrate the coexistence times on the PIP, which is quite nice. Unfortunately the analytic approximations don’t seem to agree quantitatively outside a somewhat limited parameter range, more limited than I expected.&lt;/p&gt;
&lt;p&gt;I have also been exploring the time required to reach each of our four phases of the branching process as a function of the various parameters. In this I hoped to see the sharp transition predicted by the approximation, but figuring out the best way to both explore and visualize this through the parameter space. Hard to distinguish this from simply getting exponentially longer.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>adaptive-dynamics Simulations</title>
   <link href="/2010/12/29/adaptive-dynamics-simulations.html"/>
   <updated>2010-12-29T08:29:25-08:00</updated>
   <id>h/2010/12/29/adaptive-dynamics-simulations</id>
   <content type="html">&lt;p&gt;Setting up some adaptive dynamics simulations to complete the parameter-space search.  Currently the demo library contains two files, providing the coexistence-only tests and the full evolutionary simulation.  This picks up from Aug 30/Sept 1 on coexistence times and &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/08/12&quot;&gt;Aug 12/13 entries&lt;/a&gt;on waiting times until branching (while still on OWW).&lt;/p&gt;
&lt;h2 id=&quot;coexistence-times&quot;&gt;coexistence times&lt;/h2&gt;
&lt;p&gt;coexist_times.R creates contour plots of the coexistence time under demographic noise expected at a particular position of the pairwise invasibility plot (PIP).  I also attempt to calculate these using an analytic approximation derived through the Arrhenius law trick to the SDE approximation.&lt;/p&gt;
&lt;p&gt;ensemble_coexistence() runs just the coexistence simulation from&lt;/p&gt;
&lt;p&gt;coexist_analytics() attempts to create the same graph analytically.&lt;/p&gt;
&lt;p&gt;Unfortunately the analytic approximation seems insufficient:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode =“tag” tags=“contour_analytics_vs_simulation”]&lt;/p&gt;
&lt;h2 id=&quot;phases-of-the-branching-process&quot;&gt;Phases of the branching Process&lt;/h2&gt;
&lt;p&gt;ensemble_sim() runs the full simulation with mutations.  Returns an ad_ensemble object with three elements: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?data,\inline&quot;/&gt;&lt;/span&gt;pars, and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?reps. \inline&quot;/&gt;&lt;/span&gt;data is a list element for each replicate.  For each replicate, it records 4 time-points:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;First time two coexisting branches are established&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Last (most recent) time two coexisting branches were established&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Time to finish phase 2: (satisfies invade_pair() test: trimorphic, third type can coexist (positive invasion), is above threshold and two coexisting types already stored in pair&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Time to Finish line (a threshold separation): traits separated by more than critical threshold&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;For each of these it returns the trait values of the identified coexisting dimorphism as well (x,y).  This x,y data is plotted for all replicates in four butterfly plots (for each time interval) by plot_butterfly.  Time data is coded in the shading. (just call plot_butterfly on the ad_ensemble object).&lt;/p&gt;
&lt;p&gt;In addition to these four (t, x, y) triplets, each replicate reports two counts:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Number of times the dimporphism is lost in phase 2&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Number of times the dimorphism is lost in phase 1&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;These are histogrammed by plot_failures(object).  Finally, plot_waitingtimes(object) just histograms the distribution of waiting times  across replicates for each of the four phases outlined above.  Figures from today’s version of &lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/blob/6af69eec9e7b8087d0ed5b52d8af8cdbfa008d40/demos/waiting_times.R&quot;&gt;waiting_times.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“waiting_times”]&lt;/p&gt;
&lt;h2 id=&quot;illustrating-key-phenomena&quot;&gt;Illustrating Key Phenomena&lt;/h2&gt;
&lt;p&gt;The motivation for these two lines of investigation go back to simulations from &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/05/04&quot;&gt;May 3-4 entries&lt;/a&gt; which begin to show distinction between different mechanisms of branching.  The hint comes between processes that appear limited by phase 1 an those limited by phase 2.  This can be illustrated by the time required or the number of attempts necessary (failure rate histograms).&lt;/p&gt;
&lt;p&gt;Running simulation sets now varying the range of sigma_mu, sigma_c2, and mu to illustrate the sharpness of the transitions between noise-limited and not limited branching dynamics, and how the difference in times and attempts between phases changes with these parameters.  i.e.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5202/5304975278_6840299016_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;computing-notes&quot;&gt;Computing Notes:&lt;/h3&gt;
&lt;p&gt;Setup AdaptiveDynamics repository on zero.  An outdated rsa_id key in /.ssh was causing me not to be able to commit from&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>DoE renewal and a year in review</title>
   <link href="/2010/12/23/doe-renewal-and-a-year-in-review.html"/>
   <updated>2010-12-23T19:24:40-08:00</updated>
   <id>h/2010/12/23/doe-renewal-and-a-year-in-review</id>
   <content type="html">&lt;p&gt;This time of year I have to file my renewal for my DOE Fellowship, including a statement of accomplishments and a summary of the computational aspects of my work.  Seemed like a good idea to jot these down in my notebook as well:&lt;/p&gt;
&lt;h3 id=&quot;synopsis-of-accomplishments-over-the-year&quot;&gt;synopsis of accomplishments over the year:&lt;/h3&gt;
&lt;p&gt;In January I passed my qualifying exam, advancing to candidacy where my dissertation remains my only requirement.  In March I attended the phylogenetics workshop in Bodega Bay, an internationally known week-long training program.  I also attended the CSGF conference in June, and gave talks at both the Evolution conference and the integrative phylogenetics conference, iEvoBio, in July, both key events in my field.&lt;/p&gt;
&lt;p&gt;From the beginning of June until the start of September, I stepped outside my research in phylogenetic models to focus on stochastic population dynamics.  While the details of this project are described in my practicum evaluation, the mathematical and computational tools I learned in the process have found surprisingly apt applications in my phylogenetics research, where they have helped me solve a key problem in my thesis.  Since this breakthrough, I have been focused on writing up two manuscripts which have been made possible by this step forward.&lt;/p&gt;
&lt;p&gt;As my computational needs surpass what is readily available through my lab servers, I have learned to leverage Amazon’s cloud computing for rapid deployment of large-scale simulations and analyses. Overall, this has been a productive year, translating what I’ve learned in my POS classes into practical research experience and making some important steps in my thesis.  I look forward to the next year of synthesizing and writing up these results and continuing to build on the methods and tools I’ve learned and developed.&lt;/p&gt;
&lt;h4 id=&quot;describe-concisely-what-you-regard-as-the-most-interesting-and-innovative-aspects-of-your-current-research-with-special-emphasis-on-computational-science.&quot;&gt;describe concisely what you regard as the most interesting and innovative aspects of your current research, with special emphasis on computational science.&lt;/h4&gt;
&lt;p&gt;My research combines the recent explosion of data available through gene sequencing and subsequent readily available phylogenetic information with the power of high-performance computational approaches to “replay the tape” of evolution to better understand the origins and maintenance of biodiversity.&lt;/p&gt;
&lt;p&gt;Genetic data paved the way to phylogenetic inference, the mapping of ancestor-descendant relationships between the species living today.  These phylogenies become my periscope into the past.  In the absence of fossils, I can simulate different evolutionary models of selection on various traits retracing the phylogenetic tree to discover which models are most consistent with the patterns in species we observe today. By running the stochastic simulation repeatedly, I can create not only one possible outcome, but the parameter space of all possible outcomes and their associated probabilities.  This planet has run the experiment of evolution only once, but using this computationally intensive approach I can run that process over and over again under different assumptions, allowing me to explore evolutionary questions that can be answered no other way.&lt;/p&gt;
&lt;hr /&gt;
&lt;h3 id=&quot;my-own-reflections-and-list&quot;&gt;My own reflections and list&lt;/h3&gt;
&lt;p&gt;Hmm, the research summary with computational emphasis is kinda vague, but aiming for a non-specialist audience.  Hard to differentiate between the aspects that really leverage HPC and those that can be adequately run at the desktop level.  Is that really the best statement of my accomplishments?  I might try a different format for myself:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Formulated and explored implications of my phylogenetic Monte Carlo approach.  Formulated throughout the Spring quarter, been writing and rewriting the manuscript most of this past Fall.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Derived and implemented the heterogeneous alpha/sigma model (in a few busy days and a long train ride in July, waiting to write up after PMC is done)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Used said model and phylogenetic Monte Carlo to demonstrate clear release-of-constraint in the Labrid data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring better early warning signal models and detection methods.  Settled on linearized models of the canonical form of two bifurcation types, identifying warning signals directly by a similar Monte Carlo test to the phylogenetics example.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Explored stochastic population dynamics in structured populations via the ELPA tribolium model.  Negative feedbacks mean no large-amplification demographic noise, but cycles do break down the linear noise approximation.  (a few weeks in May and June)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rebuilt the Adaptive Dynamics code to illustrate how time to branching and coexistence times vary in parameter space (auto-generation of the butterfly plots, mostly two weeks in April)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Began my open lab notebook (starting in January on OWW, migrated to Wordpress in Sept), public code hosting (initially google code, moved to github in March), Mendeley database (Oct ’09), Flickr only this Oct, and social media for science (Twitter only since July, though have used FF since the beginning of the year).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Started AWS/cloud computing.  Still coding in C but using R more, parallelization in R’s snowfall.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In this spirit, Mendeley provides some easy data on what I’ve been reading:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5286/5287843580_481f529fc1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Interesting if not too surprising that my most popular authors are all advisors of mine, except Losos.  (Also it’s really obvious where I twice deleted my Mendeley database and needed their help support to recover my data… in only a few days).&lt;/p&gt;
&lt;p&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing, Cloud Computing, and #scio11</title>
   <link href="/2010/12/23/writing-cloud-computing-and-scio11.html"/>
   <updated>2010-12-23T11:08:58-08:00</updated>
   <id>h/2010/12/23/writing-cloud-computing-and-scio11</id>
   <content type="html">&lt;p&gt;Working on a few things in today’s lab notebook entry.  Some more notes on exploring cloud computing tools, sketching out some ideas for my #scio11 science online panel discussion on open notebook science, and otherwise working on my phylogenetics mansucript.&lt;/p&gt;
&lt;h3 id=&quot;cloud-computing&quot;&gt;Cloud Computing&lt;/h3&gt;
&lt;p&gt;An interesting package was &lt;a href=&quot;https://stat.ethz.ch/pipermail/r-sig-hpc/2010-December/000877.html&quot;&gt;announced over the r-sig-hpc&lt;/a&gt; list today, creating an arbitrarily large Hadoop cluster out of Amazon EC2 instances directly from the R command line. JD Long has been very responsive to my naive questions on setting it up, so I was able to quickly activate an Elastic Map Reduce account via Amazon Web Services and run the example code. It installs an instance of R on each cluster at the time of launch, so it takes a moment to initialize and I’m not sure if it can handle calls in the parallel code that call other libraries (unless perhaps these are explicitly loaded in the parallel function?) The code essentially provides a parallel (elastic map reduce) version of lapply, running the instances on different machines (EC2 instances) and then sewing the answers back together.&lt;/p&gt;
&lt;p&gt;As the interface is delightfully simple, could possibly be useful even to run single amazon instances. Simply set credentials, initialize a cluster of specified size and instance type, and then call the parallel lapply:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;setCredentials(&amp;quot;yourKey&amp;quot;, &amp;quot;yourSecretKey&amp;quot;, setEnvironmentVariables=TRUE)
myCluster &amp;lt;- createCluster(numInstances=5)
emrlapply(...)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Look forward to learning more about the package, EMR, and testing it out. Code available through &lt;a href=&quot;http://code.google.com/p/segue/&quot;&gt;Google code hosting&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;science-online-2011&quot;&gt;Science Online 2011&lt;/h3&gt;
&lt;p&gt;Getting ready for Science Online Conference. Finalizing room share with Mark Hahnel and touching base with Jean-Claude Bradley and Tony Williams about our panel on Open Notebook Science. Jean-Claude describes that we’ll have a short introduction before launching into the panel discussion. His introduction will focus on how and why they can convert ONS data to web services (like ChemSpider, which Tony represents). Provide a nice parallel to what I’m trying to do integrating this notebook into web services. Using this notebook space to brainstorm a bit what I can contribute/would like to cover in the session.&lt;/p&gt;
&lt;p&gt;Think my intro will try to highlight these three things:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open Notebook Science for Theorists&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As theorists, it should be easier for us to keep electronic lab notebooks than for empiricists. We can blithely ignore all those discussions about having a laptops or ipads to write at the bench or gloves-on or gloves-off keyboards. We have a machine within easy reach. Most of the computational work is done on the computer already, where software solutions can track progress and changes automatically. and yet… it isn’t.&lt;/p&gt;
&lt;p&gt;Perhaps the primary problem is that we’re not taught to keep lab notebooks in the first place. It might help if students in the sciences were taught software development practices like version managing, but we’re not. Capturing the abstract parts of theory is even harder. I don’t really know what the workflow of other theorists in my field looks like, even for people I work with closely. I guess that’s part of my desire to create an open notebook.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Open Notebook Science from the perspective of a student&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I started practicing open notebook science as a third year graduate student without input for or against the idea from my advisor or anyone else at my institution. I suppose there are a variety of stages or positions from which someone might first start an open lab notebook, and a variety of ways to do it. Each face a rather different set of challenges, and perhaps I can offer something of the student perspective.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Integration of web services relevant to theory and computing&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Integrating databases such as flickr/github/mendeley, now also Amazon web services; hopefully the databases like dryad eventually.  I’m interested to learn about the more mature models of integrating with external databases and how to make the most of this.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The social dimension&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’ve described my efforts as a “social lab notebook.” That’s a little ambitious for something that no one else reads, let alone comments. But it’s a design principle of sorts.  I’m interested in how to do this effectively, and what potential it has to make better, faster, and farther reaching science.&lt;/p&gt;
&lt;h3 id=&quot;writing&quot;&gt;Writing&lt;/h3&gt;
&lt;p&gt;Also continuing my phylogenetics writing today, working on explaining the models.  (current version of &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/53df70adad4e5c39e3a6caa7ed5684c6c036d32e#diff-0&quot;&gt;manuscript .tex file&lt;/a&gt; in github Phylogenetics repository).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sun: Visualizing my coding over the past year</title>
   <link href="/2010/12/19/sun-visualizing-my-coding-over-the-past-year.html"/>
   <updated>2010-12-19T16:05:10-08:00</updated>
   <id>h/2010/12/19/sun-visualizing-my-coding-over-the-past-year</id>
   <content type="html">&lt;p&gt;Not really working today, as holidays approach, but came across the Gource toolkit for creating video visualization from git development (inspired by the &lt;a href=&quot;http://vimeo.com/17919684&quot;&gt;Mendeley’s example&lt;/a&gt;). So in the spirit of year-in-review reflections, here’s my development from the past year (just for the phylogenetic statistics work).&lt;/p&gt;
&lt;p&gt;Quality is a little too poor to read file names, more entertaining than practical. Other user icons appear in December corresponding with my move to running the code from Amazon cloud. The lower cluster includes the demos directory, the upper the R code, so gives some indication of extensions to methods vs testing applications. Captures my bursty code development, though perhaps not as well as the &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/graphs/impact&quot;&gt;github graphs&lt;/a&gt;.&lt;/p&gt;
&lt;h5 id=&quot;notes-for-making-the-video&quot;&gt;Notes for making the video&lt;/h5&gt;
&lt;p&gt;A couple steps. First just running gource (in ubuntu universe repositories) on the repository directory launches the video, used gtk-recordMyDesktop to capture the film (no luck with piping to ffmpeg). Then truncated, changed format, uploaded to youtube. Truncation and format conversion are simple bash commands:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;# Shorten film 
 ffmpeg -sameq -ss 0 -t 900 -i testvideo.ogv gource.ogv
# convert to avi
 mencoder gource.ogv -nosound -ovc xvid -xvidencopts pass=1 -o gource.avi&lt;/code&gt;&lt;/pre&gt;</content>
 </entry>
 
 <entry>
   <title>Thurs: writing section on comparing to AIC</title>
   <link href="/2010/12/16/thurs-writing-section-on-comparing-to-aic.html"/>
   <updated>2010-12-16T14:50:53-08:00</updated>
   <id>h/2010/12/16/thurs-writing-section-on-comparing-to-aic</id>
   <content type="html">&lt;p&gt;Phylogenetics writing still continues.&lt;/p&gt;
&lt;p&gt;AIC Error rates&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5285/5268276442_c11b2e35ee_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Choosing by  having &amp;lt; 5% probability of rejecting the simpler model when it is true.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5241/5267683944_357ccec396_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Choosing the equal-likelihood division:&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Weds: Example sets & more EC2</title>
   <link href="/2010/12/15/weds-example-sets-more-ec2.html"/>
   <updated>2010-12-15T08:24:46-08:00</updated>
   <id>h/2010/12/15/weds-example-sets-more-ec2</id>
   <content type="html">&lt;p&gt;A bit delayed from having to rerun analyses on EC2 (still learning…)  More to run today (lambda trials for Anoles – should really recode this in C!).&lt;/p&gt;
&lt;p&gt;Trying to decide if its best to start off with the power curves and work backwards or build up from the basics.  Probably doesn’t matter too much which.  Also figuring out which examples to present first:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5242/5263820373_02efaa1914_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5090/5264430268_9412864b00_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5203/5264430326_20b913b142_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5126/5263820365_928bfd6ab9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5121/5263820413_5b046c77be_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Where the painted trees are the following:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5085/5267465400_1a6680e7a1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;ec2-updates&quot;&gt;EC2 Updates&lt;/h3&gt;
&lt;p&gt;Deleted older ami.  Updating the current ami with personal configurations.  Current ami-c14b1b84 may become the public ami (needs a little extending still, at least libgsl0-dev), but will work from newer ami with secure info already in place to save startup time.  Surprisingly, launching by commandline actually looks more cumbersome than the GUI.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;ec2-run-instances &amp;lt;AMI-#&amp;gt; -t &amp;lt;TYPE&amp;gt;
ec2-describe-instances &amp;lt;Instance ID&amp;gt;
ssh -i &amp;lt;KEY&amp;gt; &amp;lt;Public Address&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Where types indicate the size of the instance.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5289/5264139125_9a973b9d2e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;http://aws.amazon.com/ec2/instance-types/&quot;&gt;more detailed descriptions here&lt;/a&gt;).  You need to use the output of the first line to get the instance id number, whose output includes the the public address.  You’ll also need to open the ports on the (default) security group if you haven’t done so.  See example in &lt;a href=&quot;http://docs.amazonwebservices.com/AWSEC2/2007-08-29/GettingStartedGuide/running-an-instance.html&quot;&gt;EC2 guide.&lt;/a&gt; Suppose a script could be wrapped around this to run and log into the instance…&lt;/p&gt;
&lt;p&gt;What’s with the compute units?  A way of comparing processor power, a faster processor may be worth multiple units.  (basically is comparison to single core 2007 1Ghz xeon processor…)&lt;/p&gt;
&lt;p&gt;Still need a solution to bring instances down when they finish (well, still need more automated cleanup/copying data out too…) so I’m not paying for extra cycles while I’m asleep and my jobs have already finished.  Deepak suggested looking into Amazon’s SNS (notifications) and SQS (queues), but haven’t figured these out.  Twitter works as a pretty good notification system for mobile-accessible simulation updates.  Can’t use the ssh client (at least not without first ssh-ing to a local machine).   &lt;a href=&quot;http://www.9apps.net/decaf-ec2-client/&quot;&gt;Not free, but may need to try EC2 Android app.&lt;/a&gt; Tried accessing the web console in the mobile browser , a bit slow and cumbersome and doesn’t list my current instances… curious.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tues: evolution thoughts while writing...</title>
   <link href="/2010/12/14/tues-phylogenetics-thoughts-while-writing.html"/>
   <updated>2010-12-14T09:06:57-08:00</updated>
   <id>h/2010/12/14/tues-phylogenetics-thoughts-while-writing</id>
   <content type="html">&lt;p&gt;Again spending most of the day writing. (Maybe) processing some ideas in writing by writing in my notebook as I make my edits.&lt;/p&gt;
&lt;h5 id=&quot;ideas-im-trying-to-get-across-in-todays-edits&quot;&gt;Ideas I’m trying to get across in today’s edits&lt;/h5&gt;
&lt;p&gt;Parameter estimation is more demanding of the data than model choice.  Knowing if a value is different from zero is easier than knowing what it is.&lt;/p&gt;
&lt;h3 id=&quot;code-updates-to-do&quot;&gt;Code updates to-do&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need to add S3 wrapper functions for ouch so both can call montecarlotest() in the pmc package. OUCH test currently uses the older power_between_models() test in phyloniche package.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check that plot.pow() can turn off the null distribution and the data line&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Delete old amazon image&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add libgsl0-dev to amazon image&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add pageup recursive history search to amazon image&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Complete and secure a basic setup as the public image&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Setup a private image with security configurations to avoid repeating all the steps below.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;amazon-notes&quot;&gt;Amazon Notes&lt;/h3&gt;
&lt;p&gt;Running on cluster steps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Copy over .flickrrc and hpc-autotweets, move latter  to /usr/local/bin&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;configure git: copy .ssh/id_rsa and id_rsa.pub to ec2 .ssh&lt;/p&gt;
&lt;p&gt;git config –global user.name cboettig git config –global user.email cboettig@gmail.com&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Then initiate and pull repository:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git init .
git pull git@github....
git remote add origin git@github....&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Can push back git push now.  last step means don’t have to add git@github…  after the push command.  Does mean git pull won’t run, need git pull origin master.&lt;/p&gt;
&lt;p&gt;Also update the local dev copy to avoid conflicts&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;git pull origin master&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Install and run package!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Troubleshooting: git add needs a force to add .Rdat over the .gitignore list.  Also, in-script pushes aren’t working since they need the password.  Somehow the gitup() file doesn’t write the actual data – due to function warpper?  Have to save externally.&lt;/p&gt;
&lt;h3 id=&quot;misc-notes&quot;&gt;MISC Notes&lt;/h3&gt;
&lt;p&gt;Fantastic Mendeley group on all &lt;a href=&quot;http://www.mendeley.com/groups/734351/treebase/&quot;&gt;the papers in TreeBASE&lt;/a&gt;, well curated: from Rod Page&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;My initial goal is to clean up this list, add missing DOIs and PubMed identifiers, fix incorrect metadata, etc. Once we have PubMed ids we can retrieve sequences for individual TreeBASE studies, as well as NCBI taxids. Sequences may include geo-coordinates (for sequences or associated specimens), so we can build maps and query TreeBASE geographically. NCBI taxids (which TreeBASE already has for some taxa) enable queries using the taxonomic hierarchy. All obvious stuff, but hard to do unless the bibliographic data is in better shape.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also thinking about how to promote a community discussion on the issues I’m trying to raise in this paper and a smaller unit of publishing.  The r-sig-phylo mailing list has provided some excellent discussions of technical pitfalls before.&lt;/p&gt;
&lt;p&gt;Should paper focus on interesting and clear or on comprehensive and technical? Can other channels accomplish the former?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Back to Writing</title>
   <link href="/2010/12/13/back-to-writing.html"/>
   <updated>2010-12-13T02:56:09-08:00</updated>
   <id>h/2010/12/13/back-to-writing</id>
   <content type="html"></content>
 </entry>
 
 <entry>
   <title>Citations</title>
   <link href="/2010/12/10/citations.html"/>
   <updated>2010-12-10T23:06:22-08:00</updated>
   <id>h/2010/12/10/citations</id>
   <content type="html">&lt;p&gt;This evening I’m testing extensions to find a better way to include citations in my entries. Thus far I’ve use Mendeley’s convenient copy-paste citation tool to paste the whole citation in, which I suppose could work reasonably smoothly with the nice &lt;a href=&quot;http://&quot;&gt;footnotes plugin&lt;/a&gt; I recently adopted. However, this still requires a couple more steps than I need to cite in my LaTeX text editor or in OpenOffice.&lt;/p&gt;
&lt;p&gt;Using the &lt;a href=&quot;http://wordpress.org/extend/plugins/papercite&quot;&gt;papercite plugin&lt;/a&gt;, I can add citations to posts in much the same way that I add them to my latex documents, using the citation key created Mendeley when it makes my bibtex file. The plugin allows footnote style citations as well as directly embedding the full citation, and supports a few common formats. It does have some limitations: it requires manually syncing a copy of bibtex file to my host server; though it can use a url with bibsonomy or citeulike. I can’t hide the “show bibtex” option or the bibtex citation key, and it doesn’t make the footnote symbols into links. Rather nice that it includes the url link, though would prefer it did so by linking the title text rather than creating an icon.&lt;/p&gt;
&lt;h2 id=&quot;going-further&quot;&gt;Going further&lt;/h2&gt;
&lt;p&gt;Started thinking about this after reading a nice &lt;a href=&quot;http://blogs.plos.org/mfenner/2010/12/05/blogging-beyond-the-pdf/&quot;&gt;piece by Martin Fenner&lt;/a&gt; on some advantages of Wordpress over pdfs. I’m interested in more general solutions that would work in any text-edit space, allowing citations in comment boxes, etc. I’m also exploring these ideas in &lt;a href=&quot;http://friendfeed.com/science-2-0/deef8494/how-do-you-manage-citations-when-writing-on-web&quot;&gt;a FF discussion group&lt;/a&gt;. The other key question I think is what the citation should link back to, in a way that the link can be tracked. Thoughts?&lt;/p&gt;
&lt;h2 id=&quot;examples-using-papercite&quot;&gt;Examples using papercite&lt;/h2&gt;
&lt;p&gt;Setup:&lt;/p&gt;
&lt;blockquote&gt;

&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Create a folder in &lt;code&gt;wp-content/papercite-data&lt;/code&gt;, with two subfolders: &lt;code&gt;bib&lt;/code&gt; (this will contain the bibtex files) and &lt;code&gt;pdf&lt;/code&gt; (this will contain the PDF file).&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Copy your bibtex files into the &lt;code&gt;bib&lt;/code&gt; folder, and your pdf files into the &lt;code&gt;pdf&lt;/code&gt; folder. To match a bibtex entry with a PDF file, the PDF file should have be named &lt;strong&gt;KEY&lt;/strong&gt;&lt;code&gt;.pdf&lt;/code&gt; where &lt;strong&gt;KEY&lt;/strong&gt; is the bibtex key in lowercase, where &lt;code&gt;:&lt;/code&gt; and &lt;code&gt;/&lt;/code&gt; have been replaced by &lt;code&gt;-&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;[bibtex file=library.bib key=Clark2007]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Citing an individual file from the full bibliography file: [bibtex file=library.bib key=Clark2007]&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[bibshow file=Publications.bib]
This sentence cites the work in [bibcite key=Boettiger2010]
[/bibshow]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[bibshow file=Publications.bib] This sentence cites the work in [bibcite key=Boettiger2010], and puts the citation information when it encounters the close of bibshow code. [/bibshow]&lt;/p&gt;
&lt;h4 id=&quot;including-a-complete-bibtex-bibliography&quot;&gt;Including a complete bibtex bibliography&lt;/h4&gt;
&lt;p&gt;(Using my publications list. Don’t try this with very large bib files: it will run out of memory!)&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;[bibtex file=Publications.bib]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;[bibtex file=Publications.bib]&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Create a folder in &lt;code&gt;wp-content/papercite-data&lt;/code&gt;, with two subfolders: &lt;code&gt;bib&lt;/code&gt; (this will contain the bibtex files) and &lt;code&gt;pdf&lt;/code&gt; (this will contain the PDF file).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Copy your bibtex files into the &lt;code&gt;bib&lt;/code&gt; folder, and your pdf files into the &lt;code&gt;pdf&lt;/code&gt; folder. To match a bibtex entry with a PDF file, the PDF file should have be named &lt;strong&gt;KEY&lt;/strong&gt;&lt;code&gt;.pdf&lt;/code&gt; where &lt;strong&gt;KEY&lt;/strong&gt; is the bibtex key in lowercase, where &lt;code&gt;:&lt;/code&gt; and &lt;code&gt;/&lt;/code&gt; have been replaced by &lt;code&gt;-&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;</content>
 </entry>
 
 <entry>
   <title>socialR: Reproducible Research & Notebook integration with R</title>
   <link href="/2010/12/10/socialr-an-r-package-to-track-the-status-of-computations-with-social-network-tools.html"/>
   <updated>2010-12-10T19:44:54-08:00</updated>
   <id>h/2010/12/10/socialr-an-r-package-to-track-the-status-of-computations-with-social-network-tools</id>
   <content type="html">&lt;p&gt;I’ve created an R package that uses social media tools for reproducible research.  The goal of the package is this: whenever I run a code, output figures are automatically added to my figure repository (Flickr), linked to the timestamped version of the code that produced them in the code repository.  Figures should be tagged by project and be embedded selectively or automatically into this lab notebook.  The basic workflow of the notebook looks like this:[ref]Diagram of my notebook as presented at Science Online, 2011, see other slides in my &lt;a href=&quot;http://www.carlboettiger.info/archives/792&quot;&gt;entry on this&lt;/a&gt;.[/ref]&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5259/5471680767_34c350314e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;To do this, I use a few simple R functions that I wrap around  the system command-line programs git, flickr_upload, and hpc-autotweets to enable monitoring of my simulations through social media. The package has it’s own &lt;a href=&quot;https://github.com/cboettig/socialR&quot;&gt;git repository here&lt;/a&gt;.  This is a rather custom development to make for rapid deployment on my own machines, and depends largely on Linux tools external to R, so it may not be easily deployed by others.  See my earlier post, &lt;a href=&quot;http://www.carlboettiger.info/archives/375&quot;&gt;Making R Twitter&lt;/a&gt;, for examples and back story.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4112/5196584707_663796eb6e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h2 id=&quot;basic-features&quot;&gt;Basic Features&lt;/h2&gt;
&lt;p&gt;All of these tasks are run by wrapping any plot command with my command “social_plot()”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Push the running code version to Github.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grab the git hashtag to reference this version of the code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Push figures to Flickr as they complete.  Tags images appropriately and provide link to the code (version-stable, on Github) that produces them in the description.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tweet notification of a figure upload, parameter values, links to code, and timestamp.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tweet when an error occurs.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;setup-install&quot;&gt;Setup / Install&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Create a flickr account (need not be unique for the computer).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create a twitter account (preferably separate one for the machine).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Install &lt;a href=&quot;http://search.cpan.org/~cpb/Flickr-Upload/flickr_upload&quot;&gt;flickr_upload&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;; sudo apt-get install libflickr-upload-perl&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Install &lt;a href=&quot;https://github.com/joshthecoder/tweepy/blob/master/INSTALL&quot;&gt;tweepy&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;easy_install tweepy&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(See link for more detailed instructions)&lt;/p&gt;
&lt;ol start=&quot;5&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://search.cpan.org/~cpb/Flickr-Upload/flickr_upload#___top&quot;&gt;Configure flickr_upload credentials&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jeffmiller.github.com/2010/05/31/twitter-from-the-command-line-in-python-using-oauth&quot;&gt;Configure OAuth for tweepy&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;future-modifications&quot;&gt;Future modifications&lt;/h2&gt;
&lt;p&gt;Current program relies entirely on external command-line tools. Probably no easy solution to make this package self-contained and cross platform.  Still, a good bit of functionality can be added:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Add option to include the git log message.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Smart/more informative git commit messages&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Add option/default to use truncated git commit ID numbers&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make Flickr discription actually link directly to code.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make twitter statements include urls/actual links (to code, files)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Identify machine credentials?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Documentation still needed&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should verify if the git version is current&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grab a DOI for the object (i.e. using EZID from UC3?)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals manuscript</title>
   <link href="/2010/12/10/warning-signals-manuscript.html"/>
   <updated>2010-12-10T13:10:38-08:00</updated>
   <id>h/2010/12/10/warning-signals-manuscript</id>
   <content type="html">&lt;p&gt;Meeting with Alan today to discuss outline.  Came up with basic break-down of paragraphs:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Intro/Abstract&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Scope: Previous work, scope simple example existence of warning signal/CSD is clear.  Identifiability/Power not clear. Mention the issue of Replicates&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nonlinearity not observed with infinite data&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;reasons detection fails: Identifiability issue &amp;amp; Power issue.  Example signal that exists but inadequate power to detect?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Eigenvalue story&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Probability of data vs Probability of a statistic&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulation example&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Summarize results&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;More knowledge of system help choose the right nonlinear model corresponding to the system.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Conclusions&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(Linear/nonlinear estimation analogous to parameterized estimation of tails of distribution vs non-par)&lt;/p&gt;
&lt;p&gt;Theoretical mathematics question: Existence Statistical Question: Identifiable, Power&lt;/p&gt;
&lt;h2 id=&quot;continued-progress&quot;&gt;Continued progress&lt;/h2&gt;
&lt;p&gt;Setting up more exploratory simulations and writing.  Simulation speed is quite limiting at the moment.  May need to move likelihood calculations into C.&lt;/p&gt;
&lt;h2 id=&quot;other-notes&quot;&gt;OTher Notes&lt;/h2&gt;
&lt;p&gt;Some discussion of plans for a workshop on NSF data sharing.  Alan raises several good points:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theoretical ecology policy should include a policy on code&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;How about large data-sets separate from publications, i.e. NEON?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dave Schimmel NEON – Open Data&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Exploring Power in Warning Signals</title>
   <link href="/2010/12/09/exploring-power-in-warning-signals.html"/>
   <updated>2010-12-09T15:03:40-08:00</updated>
   <id>h/2010/12/09/exploring-power-in-warning-signals</id>
   <content type="html">&lt;p&gt;Started trying to get the power curves for sample-size and rate of change.  Currently focusing on the transcritical bifurcation model.  This first pass uses just 100 replicates, which appears to be not nearly enough.  Need some troubleshooting on handling to get power curves out.  Scroll through, the set has 65 different images:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“stochpowercurvesslides”]&lt;/p&gt;
&lt;p&gt;(code ids in image discription, compare to structured-popultions git log.  )&lt;/p&gt;
&lt;p&gt;Includes plots of the timeseries, giving a visual clue of how dramatic the warning signal is under each case.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Practice SICB Presentation</title>
   <link href="/2010/12/08/practice-sicb-presentation.html"/>
   <updated>2010-12-08T14:21:34-08:00</updated>
   <id>h/2010/12/08/practice-sicb-presentation</id>
   <content type="html">&lt;p&gt;Gave my practice talk for Society for Integrative and Comparative Biology in Wainwright lab this afternoon, after (not quite) finishing the presentation.  Trying to figure out the best way to introduce these ideas to a broad audience (same challenge as with the manuscript).&lt;/p&gt;
&lt;p&gt;Talk storyboard:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5126/5246517453_acd44df8df_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Looking at &lt;a href=&quot;http://www.sicb.org/meetings/2011/schedule/results.php3?search=sday+%3D+%272011-01-04%27+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27S%25%27%29+AND+%28abstracts2011.sessionnumber+NOT+LIKE+%27P%25%27%29%29&quot;&gt;other talks in my session&lt;/a&gt;: Macroevolution I - Methods and Character Evolution, looks like a reasonably sophisticated group.&lt;/p&gt;
&lt;h3 id=&quot;good-feedback-from-the-wainwright-lab&quot;&gt;Good feedback from the Wainwright Lab:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Emphasize:  Currently we worry that we don’t have the right models.  Should worry that we don’t have the power to know if we have the right models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Avoid the first person plural!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Focus on slow and careful explanation of phylogenetic signal and lambda&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;More time on step by step creation of graphs / phylogenetic Monte Carlo&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Repeat theme more, emphasize importance of qualifying power.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The power curves figure is probably the most exciting concept&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Keep the message positive: the future is in big trees&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Mention software package in passing, PMC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Under-emphasize AIC.  Can say in passing: “We know it doesn’t work for phylogenies, and we can see it in these examples.  It’s not appropriate.”&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Mapping out SICB Presentation: Is your phylogeny informative?</title>
   <link href="/2010/12/07/mapping-out-sicb-presentation-is-your-phylogeny-informative.html"/>
   <updated>2010-12-07T14:42:08-08:00</updated>
   <id>h/2010/12/07/mapping-out-sicb-presentation-is-your-phylogeny-informative</id>
   <content type="html">&lt;p&gt;Assembling material/outline for my SICB presentation in January, will be giving a practice talk in the Wainwright lab on Wednesday. 15 minute presentation with 5 minutes for questions.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Designing presentation in “storyboard” format in Inkscape.  Will figure out if I convert to slides or not.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Simulations under the Anoles dataset to show posterior distributions of lambda.  Exploring the connection between the likelihood of a parameter under each model to that of the distributions of the likelihood ratio.  Clearly more valuable to look at likelihood of the whole data than that of a (not necessarily good) summary statistic (model parameter that isn’t a sufficient statistic).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;To that effect, I’ve added the ability to estimate likelihood of a parameter under the alternative model, rather than just bootstrapping parameters directly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Have also begun developing socialR package to handle the social reporting functions more smoothly.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See github and flickr logs for today for more details.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>follow up from Fri discussions: Revisiting post-predictive evaluation</title>
   <link href="/2010/12/06/follow-up-from-fri-discussions-revisiting-post-predictive-evaluation.html"/>
   <updated>2010-12-06T13:24:00-08:00</updated>
   <id>h/2010/12/06/follow-up-from-fri-discussions-revisiting-post-predictive-evaluation</id>
   <content type="html">&lt;p&gt;A few weeks ago, a seminar prompted me to take a closer look at a particular post-predictive evaluation technique applied reasonably often in our recent literature,&lt;a href=&quot;http://www.carlboettiger.info/archives/299&quot;&gt;see earlier entry&lt;/a&gt;.  I think by phrasing the approach more concisely and precisely it will be clear what the difficulty is.&lt;/p&gt;
&lt;p&gt;As usual, we consider some data $ X$ and a set of $ N$ models specified by parameters, $ &lt;em&gt;1, &lt;/em&gt;2, _N$, then we can express the likelihood of the model as the probability of the data under the given model and parameter values:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?L(\vec \theta_i) = P(\vec X|\vec \theta_i)&quot; alt=&quot;L(\vec \theta_i) = P(\vec X|\vec \theta_i)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From this object we could take a Bayesian approach, but we will simply maximize the likelihood through appropriate choice of $ theta_i$ for each model $ i $.  Now we might compare these models by an information criterion applied to the likelihood estimates, or more completely by the Monte Carlo approach I’ve been working on in these pages.  Instead of these standard approaches though, we look in this entry at this post-predictive evaluation idea.&lt;/p&gt;
&lt;p&gt;Post-predictive evaluation does the following.  Imagine we can compute some statistic on the data[ref] I drop the explicit vector notation for simplicity[/ref], &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu = f(X)&quot; alt=&quot;\mu = f(X)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;.  We may imagine this statistic as a scalar (such as the mean), though this is not strictly necessary.  Having fit our models to maximize &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(X|\theta)&quot; alt=&quot;P(X|\theta)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;, we could compare the probabilities of observing this statistic under the model, &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(f(X) | \theta)&quot; alt=&quot;P(f(X) | \theta)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Now it is patently obvious that maximizing $ P(X|) $ will generally be different than maximizing $ P(f(X) | )&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, so that the most likely model need not be the best performing under the statistic.  Does that give us any reason to suspect that having fit the models by maximum likelihood, the one with the maximum probability of recovering this statistic is the best? [ref] Maximizing goes for the mode of \inline&quot;/&gt;&lt;/span&gt; P(f(X)|)&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, we might also compare the observed\inline&quot;/&gt;&lt;/span&gt; f(X)$ to the expected value, $ E(P(f(X)|) ) $ (mean instead of mode).  [/ref]&lt;/p&gt;
&lt;p&gt;Certainly not.  There is no reason why recovering this particular statistic should be considered more important than recovering the entire data, nor any reason to believe that performance in one is a good proxy for performance in the other.  Trivial counter-examples of models who recover the statistic well but do not match the data are easy.  As are overfit models that do well on both.  [ref] Note that in a likelihood approach, overfitting doesn’t have the same notion as as it does in least-squares or other regression fitting, since it must explicitly specify the probability.  That means that the expectation need not do well even when the model is very overfit.  [/ref]&lt;/p&gt;
&lt;p&gt;Despite this, it is a very interesting question to turn on its head.  I was somewhat disappointed a few weeks ago when in doing the calculation for a simple example I realized that maximizing $ P(f(x) | )$ gave almost the same parameter estimates for $ P(X | )&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  It was only in sitting in Monte Carlo discussion Friday with Bruce Rannala, Brian Moore and a few students that I realized the significance of this calculation.  Where\inline&quot;/&gt;&lt;/span&gt; f(x) =N$ number of species represented, a large disparity between these would indicate that the phylogeny was quite informative.  For the quantities to be very similar indicates that the information comes almost entirely simply from the number of data points.  This is quite worrying in a paradigm where we spend great effort making sure the phylogeny is estimated accurately and less effort making sure it is sampled completely.&lt;/p&gt;
&lt;h2 id=&quot;where-to&quot;&gt;Where to?&lt;/h2&gt;
&lt;p&gt;I think it worth developing both of these lines of thought a little further:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The “Rabosky question:”  $ P(f(X) | ) P(X | )$&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The “Rannala question:” $ P(f(X) | ) P(X | )$&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In the second case, $ f(X) $ is almost a (set of) sufficient statistic(s) for X, in which case it would not matter what we use, but we should treat them the same way (i.e. penalizing model complexity appropriately, in either information criteria, Monte Carlo, Bayesian approach).  To do Bayesian inference on the set of statistics $ f(X) $ is the basis of Approximate Bayesian Computing, ABC.  In the first case, $ f(X)$ is nowhere near a sufficient statistic, and we should not prefer models matching this statistic as a guarantee that those models have higher likelihood.&lt;/p&gt;
&lt;p&gt;Will try and return to these ideas once I’ve wrapped up the manuscript and presentation on “are phylogenies informative” and “are warning signals informative?”&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Identifying Warning Signals</title>
   <link href="/2010/12/04/identifying-warning-signals.html"/>
   <updated>2010-12-04T14:41:08-08:00</updated>
   <id>h/2010/12/04/identifying-warning-signals</id>
   <content type="html">&lt;p&gt;Updated methods for the Monte Carlo estimate of the distributions of likelihood ratios completed on Wednesday this week, modulo some troubleshooting of code.  Now exploring the parameter range in which warning signals can be identified with accurate power.  Individual power tests provide a good start, but remains to generate power curves for each bifurcation type by magnitude of the loss of stability, length/duration of the timeseries and the sampling frequency.&lt;/p&gt;
&lt;p&gt;So far have only applied to the transcritical bifurcation, and without data simulated from the individual-based model.&lt;/p&gt;
&lt;p&gt;While estimating the actual  rate at which stability is being lost seems like it may be rather uncertain exercise, it appears that the method has rather adequate power to detect a loss of stability in cases where it may not be immediately apparent by visual inspection of the data:&lt;/p&gt;
&lt;p&gt;Here the parameter r changes from 50 to 41 over t=(0,10), N=500 and the weakening stability is clearly detected:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5042/5231440891_7317570f4c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5050/5232032422_93a7cbfb34_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/dafe6c29f0343cc67165ac2fa32f9dfec4dc4b8b&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;While very weak warning signals face intrinsic limitations to detection with finite data.  Here r changes from 1 to .9 over t=(0,1), N=500:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5163/5227625894_e2650e302d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/45bb7cd409a6311f173e8e2b94bb55460417ee14/warningsignals/demos/lin_bifur_models.R&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Of course comparison needs a reduction of dimensionality, as r and T=max(t) both reflect timescales.&lt;/p&gt;
&lt;p&gt;Coming up:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Saddle Node Bifurcation example&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Power Curves for N, range of R (mT)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Thoughts on the New Policies for Data Archiving at NSF and in Common Journals</title>
   <link href="/2010/12/03/nsf-and-journal-data-archiving.html"/>
   <updated>2010-12-03T11:08:53-08:00</updated>
   <id>h/2010/12/03/nsf-and-journal-data-archiving</id>
   <content type="html">&lt;p&gt;This post is a work in progress, a scratch pad for me to start assembling what I’ve been learning about and resources pertaining to the new policies emerging from NSF and journals relevant to ecology and evolution.  Hoping to highlight not only the policies, but the issues, opportunities, and concerns around them.&lt;/p&gt;
&lt;p&gt;I am hoping to help organize a workshop to discuss these issues in my department this Winter.  The Davis Open Science group, is planning a series of these workshops, hoping to work with departments, the libraries and the UC Davis Office of Research and its &lt;a href=&quot;http://www.research.ucdavis.edu/home.cfm?id=OVC,10,1622,2065&quot;&gt;Responsible Conduct of Research&lt;/a&gt; program (in compliance with NIH/NSF ethics requirements), as well as resident faculty and editors.  Suggestions on what you would like to see in such a workshop much appreciated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Association of Research Libraries has just released a &lt;a href=&quot;http://www.arl.org/rtl/eresearch/escien/nsf/index.shtml&quot;&gt;nice guide on the new polices&lt;/a&gt; as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;what-are-the-new-nsf-policies&quot;&gt;What are the new NSF policies?&lt;/h2&gt;
&lt;p&gt;Each discipline has (or will have, &lt;a href=&quot;http://researchremix.wordpress.com/2010/11/15/nsf-where&quot;&gt;see notes and refs  by Heather Piwowar&lt;/a&gt; it’s own guidelines, but the basic gist is perhaps best summarized in excerpt from &lt;a href=&quot;http://www.nsf.gov/pubs/policydocs/pappguide/nsf11001/gpg_2.jsp#dmp&quot;&gt;this NSF statement&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;This supplement should describe how the proposal will conform to NSF policy on the dissemination and sharing of research results (see AAG Chapter VI.D.4 ), and may include:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;The types of data, samples, physical collections, software, curriculum materials, and other materials to be produced in the course of the project;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;the standards to be used for data and metadata format and content (where existing standards are absent or deemed inadequate, this should be documented along with any proposed solutions or remedies);&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;policies for access and sharing including provisions for appropriate protection of privacy, confidentiality, security, intellectual property, or other rights or requirements;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;policies and provisions for re-use, re-distribution, and the production of derivatives; and&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;plans for archiving data, samples, and other research products, and for preservation of access to them.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Data management requirements and plans specific to the Directorate, Office, Division, Program, or other NSF unit, relevant to a proposal are available at: &lt;a href=&quot;http://www.nsf.gov/bfa/dias/policy/dmp.jsp&quot;&gt;http://www.nsf.gov/bfa/dias/policy/dmp.jsp&lt;/a&gt;. If guidance specific to the program is not available, then the requirements established in this section apply. [….] The Data Management Plan will be reviewed as an integral part of the proposal, coming under Intellectual Merit or Broader Impacts or both, as appropriate for the scientific community of relevance.&lt;/p&gt;
&lt;h2 id=&quot;what-are-the-new-requirements-being-set-by-journals&quot;&gt;What are the new requirements being set by journals?&lt;/h2&gt;
&lt;p&gt;The American Naturalist&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This journal requires, as a condition for publication, that data supporting the results in the paper should be archived in an appropriate public archive, such as GenBank, TreeBASE, Dryad, or the Knowledge Network for Biocomplexity. Data are important products of the scientific enterprise, and they should be preserved and usable for decades in the future. Authors may elect to have the data publicly available at time of publication, or, if the technology of the archive allows, may opt to embargo access to the data for a period up to a year after publication. Exceptions may be granted at the discretion of the editor, especially for sensitive information such as human subject data or the location of endangered species.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Whitlock, M.C. et al. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20073990&quot;&gt;Data archiving&lt;/a&gt;. The American Naturalist 175, 145-6(2010).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Evolution&lt;/em&gt; has a similar policy, outlined in:&lt;/p&gt;
&lt;p&gt;Fairbairn, D.J. &lt;a href=&quot;http://doi.wiley.com/10.1111/j.1558-5646.2010.01182.x&quot;&gt;the Advent of Mandatory Data Archiving&lt;/a&gt;. Evolution (2010) (preprint)&lt;/p&gt;
&lt;p&gt;Journals with policy in place (links and editions coming)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;The American Naturalist&lt;/strong&gt; (see Whitlock, 2010; above)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Evolution&lt;/strong&gt; (see Fairbarin, 2010; above)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Journal of Evolutionary Biology&lt;/strong&gt; (as mentioned in Whitlock)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Molecular Ecology&lt;/strong&gt; (as mentioned in Whitlock)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Heredity&lt;/strong&gt; (as mentioned in Whitlock)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ESA journals: &lt;strong&gt;Ecology&lt;/strong&gt;, &lt;strong&gt;Ecological&lt;/strong&gt; &lt;strong&gt;Monographs&lt;/strong&gt;, &lt;strong&gt;Ecological&lt;/strong&gt; &lt;strong&gt;Applications&lt;/strong&gt;, and &lt;em&gt;* Frontiers&lt;/em&gt;*.  Currently have a position in Dryad board and a soft data deposition requirement.  Also maintains the Ecological Archive. (pers. comm.)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;what-are-the-available-archives&quot;&gt;What are the available archives?&lt;/h2&gt;
&lt;p&gt;There’s a variety of potential archives.  Identifying the best archive for the type of data involved may be complicated.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://esapubs.org/archive/default.htm&quot;&gt;ESA’s Ecological Archive&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://datadryad.org/&quot;&gt;Dryad&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;TreeBASE&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/genbank/&quot;&gt;GenBank&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://knb.ecoinformatics.org/index.jsp&quot;&gt;Knowledge Network for Biocomplexity&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;funding-models-concerns&quot;&gt;Funding Models &amp;amp; Concerns&lt;/h2&gt;
&lt;p&gt;Cost is a key concern: good archiving takes resources, and does little good if repositories aren’t maintained or persistent.  While the repositories are supported by their own grants (for the moment), it seems the repositories will generally charge the  journals where the publication accompanying the data will be submitted.  The journals may in turn charge the authors, who will have to write these costs into their NSF grants?&lt;/p&gt;
&lt;p&gt;Like the policies themselves, these details are still being actively worked out [ref] Todd Vision, associate director of informatics at NESCENT which oversees the Dryad project currently, discusses this in &lt;a href=&quot;http://ff.im/uGFbn&quot;&gt;this FF forum&lt;/a&gt;.  [/ref].&lt;/p&gt;
&lt;p&gt;Good references on funding models include these papers by Beagerie and others:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://bit.ly/fPX0Nm&quot;&gt;Dryad cost model potential&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.jisc.ac.uk/media/documents/publications/keepingresearchdatasafe0408.pdf&quot;&gt;a cost model for universities in the UK&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;why-archive-whats-the-added-value-of-repositories&quot;&gt;Why Archive?  What’s the added value of Repositories?&lt;/h2&gt;
&lt;p&gt;Dryad has a good explanation of &lt;a href=&quot;http://blog.datadryad.org/2010/12/02/what-happens-after-you-submit-your-data-to-dryad/&quot;&gt;what happens when data is deposited&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The need for data archiving in ecology and evolutionary biology has been persuasively argued in articles in a variety of our journals for some time.    See:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Moore, A.J. et al. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20149022&quot;&gt;The need for archiving data in evolutionary biology.&lt;/a&gt;Journal of evolutionary biology 23, 659-60(2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Piwowar, H. a, Day, R.S. &amp;amp; Fridsma, D.B. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/17375194&quot;&gt;Sharing detailed research data is associated with increased citation rate&lt;/a&gt;. PloS one 2, e308(2007).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;impact-of-sharing-and-citing-data&quot;&gt;Impact of Sharing and Citing Data&lt;/h2&gt;
&lt;p&gt;In addition to funding, primary concerns involve how data will be shared and cited.  Done well, researchers are appropriately accredited and rewarded when there data is re-used, making research faster, supported by larger data sets, more reproducible, and carrying a broader impact.  A set of articles highlights many of these issues:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;﻿﻿﻿Thorisson, G.A. &lt;a href=&quot;http://dx.doi.org/10.1038/nbt1109-984b&quot;&gt;Accreditation and attribution in data sharing&lt;/a&gt;. Nature Biotechnology 27, 984-985(2009).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sieber, J.E. &amp;amp; Trumbo, B.E. &lt;a href=&quot;http://www.springerlink.com/index/10.1007/BF02628694&quot;&gt;(Not) giving credit where credit is due: Citation of data sets&lt;/a&gt;. Science and Engineering Ethics 1, 11-20(1995).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Stodden, V. &lt;a href=&quot;http://ieeexplore.ieee.org/lpdocs/epic03/wrapper.htm?arnumber=4720221&quot;&gt;The Legal Framework for Reproducible Scientific Research: Licensing and Copyright&lt;/a&gt;. Computing in Science &amp;amp; Engineering 11, 35-40(2009).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Gleditsch, N.P. &amp;amp; Strand, H. &lt;a href=&quot;http://www.prio.no/Research-and-Publications/Publication/?oid=55406&quot;&gt;Posting your data: will you be scooped or will you be famous?&lt;/a&gt;International Studies Perspectives 4, 89-97(2003).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;﻿Vision, T.J. &lt;a href=&quot;http://caliber.ucpress.net/doi/abs/10.1525/bio.2010.60.5.2&quot;&gt;Open Data and the Social Contract of Scientific Publishing&lt;/a&gt;. BioScience 60, 330-331(2010).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;﻿Costello, M.J. &lt;a href=&quot;http://caliber.ucpress.net/doi/abs/10.1525/bio.2009.59.5.9&quot;&gt;Motivating Online Publication of Data.&lt;/a&gt; BioScience 59, 418-427(2009).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Data citation is closely tied to the discussion of data licenses, such as CC licenses that allow conditional reuse, vs content in the public domain that can be used unconditionally. It seems data is not generally viewed by the law as a creative work but as fact, and thus not under the jurisdiction of intellectual property and copyright licenses. Acknowledging this, repositories such as Dryad identify data as Creative Commons zero, which is essentially an intentional decision to put data into the public domain. See &lt;a href=&quot;http://friendfeed.com/opensci-info/3dfde7f6/where-do-you-point-to-for-explanation-of-why-data&quot;&gt;more discussion&lt;/a&gt; of when this applies and when data can be cc-by, etc, and &lt;a href=&quot;http://sciencecommons.org/weblog/archives/2009/11/19/remembering-babel-open-data-sharing-integration/&quot;&gt;Wilbanks’ explanation&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;following-the-developments-sources&quot;&gt;Following the Developments; Sources&lt;/h2&gt;
&lt;p&gt;The Data Citation collection on Mendeley provides an actively maintained collection of articles discussing practices for depositing, citing, incentives, and tools for data management and publication.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/544621/data-citation/&quot;&gt;Visit the group list&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/544621/data-citation/feed/rss&quot;&gt;Follow the RSS&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Discussion continues on a few FF forum threads have helped assemble this information:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://friendfeed.com/science-2-0/8b143647/who-pays-for-archiving-costs-to-comply-with-new&quot;&gt;1&lt;/a&gt; &lt;a href=&quot;http://friendfeed.com/science-2-0/98efbfa5/where-best-place-to-start-learn-about-new-nsf&quot;&gt;2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;EDIT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Dryad maintains an &lt;a href=&quot;http://datadryad.org/pages/jdap&quot;&gt;excellent list&lt;/a&gt; of the growing number of Ecology and Evolution partner journals that mandate archiving _ _&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CPB : David Collar</title>
   <link href="/2010/11/30/cpb-seminar-david-collar.html"/>
   <updated>2010-11-30T16:58:28-08:00</updated>
   <id>h/2010/11/30/cpb-seminar-david-collar</id>
   <content type="html">&lt;p&gt;Identifying ecological constraint on morph and function using phylogenies. &lt;/p&gt;
&lt;p&gt;2007 CPB grad, losos post doc, now postdoc w Rita.&lt;/p&gt;
&lt;p&gt;Indep origin of ‘bass’ cranial morph.  Also unique patterns-  stonefish.  Phylo comparative methods to address why and how.  Three types of factors on morphology:  ecological, time!, intrinsic (genetic, behavior) constraints. &lt;/p&gt;
&lt;p&gt;Outline:&lt;/p&gt;
&lt;p&gt;I. determinants of morph diversification.&lt;/p&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: upper-roman&quot;&gt;
&lt;li&gt;&lt;p&gt;Complex traits.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Diversification rate vary by habitat?  (Dragon lizards- diverse morph, diverse habitat).  Reconstruct history of habitat use (4 types), (assign discrete traits) then stoch character maps to reconstruct  (paint) tree.  Looks at PC trait by habitat before correcting.  Now adds trait model:   &lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;  &lt;/p&gt;
&lt;p&gt;Then use painted trees (500) for character evo models: Brownie.  (Explains w example sim).  4 rate, also looks at several 3 and 2 &amp;amp; 1 rate models.  Compare by AIC choose 4 rate for first three PC.&lt;/p&gt;
&lt;p&gt;So which have faster rates? Ground dwelling.  Bc less constrained than climber morphs?&lt;/p&gt;
&lt;p&gt;II.  Complex biomechanics in fish suction feeding.   &lt;/p&gt;
&lt;p&gt;(Videos of suction feeding) “in the first attak the bluegill aims poorly, probably bc there is a sheet of laaser light shining in its face.”  Hehe. &lt;/p&gt;
&lt;p&gt;Looks at force of flow at mouth, but also reach of flow-  a tradeoff!  Smaller gape, stronger lever/muscle, increase protrusion/ram speed.  Gape has tradeoff in reach and force, other traits don’t.  Can compensate?  Centrachids ex. &lt;/p&gt;
&lt;p&gt;Phylo indep contrasts on performance &amp;amp; diet.  @cboettig:  Did you do any model choice (phylo signal) first? &lt;/p&gt;
&lt;p&gt;So does this mitigate a trade-off?  Compare to simple system (simulated where only gape size determines force – strong tradeoff).   Yes, complexity mitigates, may promote morph, funct &amp;amp; eco diversity! &lt;/p&gt;
&lt;p&gt;  Also uses posterior dist of trees.   &lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tues: Fitting the limiting OU models to each bifurcation</title>
   <link href="/2010/11/30/tues-fitting-the-limiting-ou-models-to-each-bifurcation.html"/>
   <updated>2010-11-30T14:56:03-08:00</updated>
   <id>h/2010/11/30/tues-fitting-the-limiting-ou-models-to-each-bifurcation</id>
   <content type="html">&lt;p&gt;Yesterday I derived the linearized SDEs for the saddle node bifurcation :&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = 2\sqrt{r(t)} (\sqrt{r(t)} + \theta -X) dt + \sigma \sqrt{\sqrt{r(t)}+\theta} dB_t&quot; alt=&quot;dX = 2\sqrt{r(t)} (\sqrt{r(t)} + \theta -X) dt + \sigma \sqrt{\sqrt{r(t)}+\theta} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the transcritical bifurcation&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = r(t) (K - X) dt + \sqrt{K} dB_t&quot; alt=&quot;dX = r(t) (K - X) dt + \sqrt{K} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now to implement them for fitting by likelihood using generic $ r(t) $.  I go back to the warning() model implemented in sde_likelihood.R code.  We can just solve the odes directly:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
    moments &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;function(t,y,p){ 
        sqrtR &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;sqrt&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;R&lt;/span&gt;(t,pars)) 
        yd1 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*sqrtR*(sqrtR+pars[&lt;span class=&quot;st&quot;&gt;&amp;#39;theta&amp;#39;&lt;/span&gt;] -&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;y[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;]) 
        yd2 &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;-&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*sqrtR*y[&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;] +&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;p[&lt;span class=&quot;st&quot;&gt;&amp;quot;sigma&amp;quot;&lt;/span&gt;]^&lt;span class=&quot;dv&quot;&gt;2&lt;/span&gt;*(sqrtR+pars[&lt;span class=&quot;st&quot;&gt;&amp;#39;theta&amp;#39;&lt;/span&gt;])
        &lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;yd1=&lt;/span&gt;yd1, &lt;span class=&quot;dt&quot;&gt;yd2=&lt;/span&gt;yd2))
    }&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See full code in likelihood_bifur_models.R, note the somewhat verbose apply calls simply handle a vector of initial conditions so the likelihood of the whole timeseries can be evaluated in a single function call.&lt;/p&gt;
&lt;p&gt;Of course we can numerically integrate first, for the easier LTC mean: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\left( t\right) ={e}^{-\int \alpha\left( t\right) dt}\,\left( {e}^{\int \alpha\left( t\right) dt}\,\theta+c\right)&quot; alt=&quot;x\left( t\right) ={e}^{-\int \alpha\left( t\right) dt}\,\left( {e}^{\int \alpha\left( t\right) dt}\,\theta+c\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and variance: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?x\left( t\right) ={e}^{-\int \alpha\left( t\right) dt}\,\left( {\sigma}^{2}\,\int {e}^{\int \alpha\left( t\right) dt}dt+c\right)&quot; alt=&quot;x\left( t\right) ={e}^{-\int \alpha\left( t\right) dt}\,\left( {\sigma}^{2}\,\int {e}^{\int \alpha\left( t\right) dt}dt+c\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and just finish off the generic integral numerically, though it is unclear whether that will actually be faster than the numerical ode. For now I’ll start with the ode solve approach.&lt;/p&gt;
&lt;h3 id=&quot;writing-up-class-constructs-for-these-linearized-models&quot;&gt;Writing up Class constructs for these Linearized models&lt;/h3&gt;
&lt;p&gt;All right, back from a few hours of coding and now have a nice lil &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/91619e47e1cbdd65d5a1a5ae44bbaa7dcdc4ea0e#diff-0&quot;&gt;library for Gaussian Processes&lt;/a&gt;.  This should be much more efficient then writing out nearly identical functions for probability density, random sampling, likelihood and mle estimation.  Just specify the Gaussian process such as either of the above (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/91619e47e1cbdd65d5a1a5ae44bbaa7dcdc4ea0e#diff-1&quot;&gt;see code&lt;/a&gt;), and voila:&lt;/p&gt;
&lt;h4 id=&quot;linearized-transcritical-bifurcation-example&quot;&gt;Linearized Transcritical Bifurcation example&lt;/h4&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;source&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;../R/likelihood_bifur_models.R&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;source&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;../R/gaussian_process.R&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gaussmodel &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;setLTC
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Ro=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;m=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate.gauss&lt;/span&gt;(gaussmodel, pars, &lt;span class=&quot;dt&quot;&gt;N=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;T=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;start &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Ro=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;m=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update.gauss&lt;/span&gt;(gaussmodel, start, X)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M$par
       Ro         m     theta     sigma 
 &lt;span class=&quot;fl&quot;&gt;2.788049&lt;/span&gt; -&lt;span class=&quot;fl&quot;&gt;0.280440&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;1.296090&lt;/span&gt;  &lt;span class=&quot;fl&quot;&gt;1.002597&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which returns a nice convergence.&lt;/p&gt;
&lt;h4 id=&quot;linearized-saddle-node-bifurcation-example&quot;&gt;Linearized Saddle Node Bifurcation example&lt;/h4&gt;
&lt;p&gt;This model has more trouble with the default maxit, needs more to converge. Also needs to avoid negative R values since it takes the square root (these produce the warnings).&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;source&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;../R/likelihood_bifur_models.R&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;source&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;quot;../R/gaussian_process.R&amp;quot;&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;co&quot;&gt;#gaussmodel &amp;lt;- setLTC&lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;gaussmodel &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;setLSN
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;
&lt;span class=&quot;er&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Ro=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;m=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate.gauss&lt;/span&gt;(gaussmodel, pars, &lt;span class=&quot;dt&quot;&gt;N=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;500&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;T=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;start &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;Ro=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;m=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;sigma=&lt;/span&gt;.&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
&amp;gt;&lt;span class=&quot;st&quot;&gt;  &lt;/span&gt;M &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update.gauss&lt;/span&gt;(gaussmodel, start, X, &lt;span class=&quot;dt&quot;&gt;control=&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;list&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;maxit=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1000&lt;/span&gt;))
&amp;gt;&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;M$optim_output
$par
        Ro          m      theta      sigma 
&lt;span class=&quot;fl&quot;&gt;2.04075853&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.01060771&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;0.57580070&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;1.02352678&lt;/span&gt; 

$value
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] -&lt;span class=&quot;fl&quot;&gt;86.25758&lt;/span&gt;

$counts
function gradient 
     &lt;span class=&quot;dv&quot;&gt;641&lt;/span&gt;       &lt;span class=&quot;ot&quot;&gt;NA&lt;/span&gt; 

$convergence
[&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;] &lt;span class=&quot;dv&quot;&gt;0&lt;/span&gt;

$message
&lt;span class=&quot;ot&quot;&gt;NULL&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/91619e47e1cbdd65d5a1a5ae44bbaa7dcdc4ea0e#diff-2&quot;&gt;Full example code.&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;real-time-series-and-proper-model-choice&quot;&gt;“Real” time-series and proper model-choice&lt;/h3&gt;
&lt;p&gt;With this machinery in place, can now test against some real timeseries (simulated from the ecological birth-death models, not directly from the linearized SDE), and also do model choice on the changing parameter.&lt;/p&gt;
&lt;p&gt;For speed and efficiency the likelihood function will probably need to moved into C, takes a few minutes for a single maximum-likelihood fit.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Further treatment of the limiting models</title>
   <link href="/2010/11/29/further-treatment-of-the-limiting-models.html"/>
   <updated>2010-11-29T11:01:29-08:00</updated>
   <id>h/2010/11/29/further-treatment-of-the-limiting-models</id>
   <content type="html">&lt;p&gt;Have spent the last three days building and testing the infrastructure to fit the canonical form of a saddle-node (fold) bifurcation by likelihood. Actually I don’t use the canonical form straight up: $ dx/dt = x^2 +r$ cannot be fit directly in this manner, since it needs a couple scale transformations on the variables to get the units right (a multiple for the unit scale and an additive factor for the zero point), and more importantly, isn’t a stochastic model so cannot assign probabilities to the outcomes. Allowing for these, the model becomes:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = r - (X-\theta)^2 dt + \sqrt{ \beta (r + (X-\theta)^2)}dB_t&quot; alt=&quot;dX = r - (X-\theta)^2 dt + \sqrt{ \beta (r + (X-\theta)^2)}dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where several other possible formulations of the noise could be possible, and yes, it makes a significant difference. Other than the noise formulation, or even including it, the data really only contains information about this curve around the equilibrium point, so there is little reason why this fit could do better (and good reason why numerically it will be not just slower but harder/less accurate) than the linear fits we began with (the OU models):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \alpha (\theta -X) dt + \sigma dB_t&quot; alt=&quot;dX = \alpha (\theta -X) dt + \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;We can fit this model and then estimate the corresponding quadratic by setting this equal to its linearization (equations in yesterday’s entry.) The only real reason to use the quadratic is once we allow r to vary. Then this model captures the change in $ x$ as r changes, since $ x =  + $, &lt;a href=&quot;http://www.carlboettiger.info/archives/108&quot;&gt;see the earlier discussion on this&lt;/a&gt;.  We could simply fit a linear model in which the fixed point moves in this manner:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = 2\sqrt{r} (\sqrt{r} + \theta -X) dt + \sigma dB_t&quot; alt=&quot;dX = 2\sqrt{r} (\sqrt{r} + \theta -X) dt + \sigma dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where we’ve used the fact that the derivative at the equilibrium is $ $ in the OU model or $ 2$ in the saddle-node (SN) model, where it is assumed that $ r $ is changing linearly. We might also modify the noise term in the linear model to reflect the changing noise level due to this changing equilibrium, $ $.   We then still have a a three-parameter linear model, but explicitly in terms of the bifurcation parameter r (in which we isolate the time dependence):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = 2\sqrt{r(t)} (\sqrt{r(t)} + \theta -X) dt + \sigma \sqrt{\sqrt{r(t)}+\theta} dB_t&quot; alt=&quot;dX = 2\sqrt{r(t)} (\sqrt{r(t)} + \theta -X) dt + \sigma \sqrt{\sqrt{r(t)}+\theta} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now with a parameterization of $ r(t)$ we can at least numerically solve for the probability distribution.  We are still rather limited if we want to say that r is changing without parameterizing this change.&lt;/p&gt;
&lt;h3 id=&quot;analytic-treatment-for-transcritical-bifurcation&quot;&gt;Analytic treatment for transcritical Bifurcation&lt;/h3&gt;
&lt;p&gt;The transcritical bifurcation captures most of the properties of interest of the saddle-node bifurcation with a potentially simpler model set.  Simpler mostly because that the critical points don’t move, the only exchange stability.  Similar in the sense that it also shows critical slowing down (eigenvalue of the stable point going through zero from negative to positive), and it ends poorly for the species it describes.  Taking the simple logistic model&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dx/dt = r x (1-x/K)&quot; alt=&quot;dx/dt = r x (1-x/K)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and taking the linear term as the birth rate and the quadratic term as the death rate (a simple convenience), we have a demographic noise model.  As before, we probably only have information around the critical point, and cannot do better than to fit the linearization around the equilibrium rather than the full non-linear equation (another quadratic, which we could do with the numerical integration for the moments just as we did for the saddle-node).&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = r(t) (K - X) dt + \sqrt{K} dB_t&quot; alt=&quot;dX = r(t) (K - X) dt + \sqrt{K} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which just another form of the an OU model with time dependent coefficients as we had before.  Perhaps a simpler test case to check the ability to detect a non-stationary coefficient.&lt;/p&gt;
&lt;h3 id=&quot;so-what-have-we-learned&quot;&gt;So what have we learned?&lt;/h3&gt;
&lt;p&gt;We can do estimation for these higher-order models without closed form solutions, but it doesn’t often pay.  The warning signal approach is based around the linearization, which is almost but not quite the same for these different bifurcations.  We’ve derived those linearizations for comparison.  It remains to attempt fitting to these simpler models, something we already have implemented from earlier, before we had the particular parameterizations for these rates of change (and thus were allowing them to be estimated independently).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Challenges in estimating phylogenetic signal</title>
   <link href="/2010/11/28/challenges-in-estimating-phylogenetic-signal.html"/>
   <updated>2010-11-28T23:21:00-08:00</updated>
   <id>h/2010/11/28/challenges-in-estimating-phylogenetic-signal</id>
   <content type="html">&lt;p&gt;Uncertainty in estimate of lambda illustrated by simulating 1000 data sets on the Geopsiza tree under a model with lambda = 0.62.  Shows the high uncertainty in estimating lambda at all, despite the power in the estimate at this value.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5284/5219389687_265d4e8b5c_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/6295eb867ca011816972d0260b66db896e7c48a5#diff-0&quot;&gt;Code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Will fill this out further later. Will be interesting to compare at different base values of lambda used for the simulation.&lt;br /&gt;Have updated the codbase to provide bootstraps of parameters as part of the monte carlo output. Requires another generic function introduction: getParameters (in addition to getLikelihood), will probably make optional to keep method simple and general. See the &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/0b3a5f6ea0a8ae955e97fbdfabaf73302c104962#diff-1&quot;&gt;PMC package code&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;inference-in-larger-trees&quot;&gt;Inference in larger trees&lt;/h3&gt;
&lt;p&gt;Two days later… Dec 1st: I run roughly the same strength of phylogenetic signal but with a much larger (simulated) tree, with 354 tips. Here the estimate is at least centered around the true value and contains none of the zero estimates of the geospiza tree.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5203/5225272183_99f25c7fd0_o.png&quot; /&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihoods for quadratic models cont</title>
   <link href="/2010/11/28/likelihoods-for-quadratic-models-cont.html"/>
   <updated>2010-11-28T13:14:09-08:00</updated>
   <id>h/2010/11/28/likelihoods-for-quadratic-models-cont</id>
   <content type="html">&lt;p&gt;Considering the fits of the quadratic models from yesterday.&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“quadraticfitslides” tag_mode=“all”]&lt;/p&gt;
&lt;h3 id=&quot;analysis-of-fits&quot;&gt;Analysis of fits&lt;/h3&gt;
&lt;p&gt;Of course these fits rely entirely on mapping the location of the stable point and the slope through that point, something they still cannot do all that well. In this parameterization the the stable intercept is &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat x = \sqrt{r}+\theta&quot; alt=&quot;\hat x = \sqrt{r}+\theta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; and slope at intercept is &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\partial f(\hat x)}{\partial x} = -2\sqrt{r}&quot; alt=&quot;\frac{\partial f(\hat x)}{\partial x} = -2\sqrt{r}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; This creates a numerical optimization problem, since there is high importance on getting the mean right, and less on the variance, the routine tends to fix the combination of r and theta to get the mean right, and then cannot change r to get the slope correct without getting penalized for the loss of likelihood in changing the mean.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5290/5214829217_0afe62cbd1_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;comparing-to-estimating-linearization-provokes-a-tweak-of-the-model&quot;&gt;Comparing to estimating linearization provokes a tweak of the model&lt;/h3&gt;
&lt;p&gt;For this reason would be easier to estimate the OU model directly, and apply the transformation into the equivalent quadratic model.&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\theta_{ou} = \sqrt{r}+\theta_{sn}&quot; alt=&quot;\theta_{ou} = \sqrt{r}+\theta_{sn}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha_{ou}  = 2\sqrt{r}&quot; alt=&quot;\alpha_{ou}  = 2\sqrt{r}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\theta_{sn} = \theta_{ou}- \alpha_{ou}/2&quot; alt=&quot;\theta_{sn} = \theta_{ou}- \alpha_{ou}/2&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?r = \alpha_{ou}^2/4&quot; alt=&quot;r = \alpha_{ou}^2/4&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the variance is slightly more complicated: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{ \beta \left(r - (\hat{x}-\theta_{sn})^2 \right)}{2 (\hat x - \theta_{sn} )}  = \frac{\sigma^2_{ou}}{2\alpha}&quot; alt=&quot;\frac{ \beta \left(r - (\hat{x}-\theta_{sn})^2 \right)}{2 (\hat x - \theta_{sn} )}  = \frac{\sigma^2_{ou}}{2\alpha}&quot; /&gt;&lt;/div&gt;
\]&lt;/span&gt; =  &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\[ \beta = \frac{\sigma^2_{ou}\sqrt{r} }{\alpha \left(r - (\hat{x}-\theta_{sn})^2 \right)}&quot; alt=&quot;\[ \beta = \frac{\sigma^2_{ou}\sqrt{r} }{\alpha \left(r - (\hat{x}-\theta_{sn})^2 \right)}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that the denominator goes to zero – the SN model as framed above as pure birth has no noise at the equilibrium. Let’s alter this in the simulation, phrased as a birth-death model, perhaps just reversing the sign on the quadratic term, we get a more meaningful:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta = \frac{\sigma^2_{ou}\sqrt{r} }{\alpha \left(r + (\hat{x}-\theta_{sn})^2 \right)}&quot; alt=&quot;\beta = \frac{\sigma^2_{ou}\sqrt{r} }{\alpha \left(r + (\hat{x}-\theta_{sn})^2 \right)}&quot; /&gt;&lt;/div&gt;
&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\beta = \frac{\sigma^2_{ou} }{2 \alpha\sqrt{r} }&quot; alt=&quot;\beta = \frac{\sigma^2_{ou} }{2 \alpha\sqrt{r} }&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;This implies much larger noise of course, and does seem to provide better estimates. On the right repeated with smaller noise values (see beta parameter estimates).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5282/5215141381_5b4897c13e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5241/5215195079_5ea8c1f2d2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that less noise also means less accurate estimate farther out. The Nelder-Meade algorithm is now happy with the convergence:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; out$optim_output$convergence
[1] 0&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;so-how-does-this-compare-to-estimating-by-ou&quot;&gt;So how does this compare to estimating by OU?&lt;/h4&gt;
&lt;p&gt;We estimate the OU model and then infer the quadratic model using the equations derived above:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5170/5215272745_50f3492dca_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/61439ad03cf7d623c8bf94b74d950a81dc56602f&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;So despite the numerical challenges in estimating the quadratic directly, when it can converge it can do quite well; better than the linear fit. This new noise model does much better at handling the case of starting at the far side of the equilibrium, as theta surface is now monotonic since noise doesn’t vanish at the unstable equilibrium:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4112/5215303415_f785c52d8d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5163/5216262847_640f1be758_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;On the right we see that the transformed linear model can still well outperform the quadratic due to the degeneracy we discussed earlier in choosing r and theta (right). In general it may be best to use the linear fitting routine as an initial condition if not as a replacement for the quadratic model.&lt;/p&gt;
&lt;h3 id=&quot;model-generality&quot;&gt;Model generality&lt;/h3&gt;
&lt;p&gt;The nice thing about the quadratic formulation (despite having to numerically integrate an ode system instead of use an analytical solution for the conditional probability) is the natural representation of the changing r version in this model.&lt;/p&gt;
&lt;p&gt;This doesn’t allow different rates of the bifurcation with change in &lt;em&gt;r&lt;/em&gt;. This would require a coefficient to the quadratic, &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?f(x) = r - a(x-\theta)^2&quot; alt=&quot;f(x) = r - a(x-\theta)^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat x = \sqrt{r/a}+\theta&quot; alt=&quot;\hat x = \sqrt{r/a}+\theta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\partial f(\hat x) = -2\sqrt{a r}&quot; alt=&quot;\partial f(\hat x) = -2\sqrt{a r}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and would be an identifiability issue.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Implementing Likelihoods for quadratic models</title>
   <link href="/2010/11/27/implementing-likelihoods-for-quadratic-models.html"/>
   <updated>2010-11-27T03:09:06-08:00</updated>
   <id>h/2010/11/27/implementing-likelihoods-for-quadratic-models</id>
   <content type="html">&lt;p&gt;Working from the quadratic model for the saddle node bifurcation rather than the linear (OU) model. Recall that the dynamics are:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \left( r - (x-\theta)^2\right)dt + \beta \sqrt{X} dB_t&quot; alt=&quot;dX = \left( r - (x-\theta)^2\right)dt + \beta \sqrt{X} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the linear noise approximation gives a linear Fokker Planck equation such that the probability distribution is Gaussian with moments ((corrected from yesterday to scale noise, basically as pure-birth Poisson process))&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d \hat{x}}{dt} &amp;amp;= r - (\hat{x}-\theta)^2&quot; alt=&quot;\frac{d \hat{x}}{dt} &amp;amp;= r - (\hat{x}-\theta)^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d \sigma^2}{dt} &amp;amp;= -2 (\hat x - \theta )\sigma^2 + \beta \left(r - (\hat{x}-\theta)^2 \right)&quot; alt=&quot;\frac{d \sigma^2}{dt} &amp;amp;= -2 (\hat x - \theta )\sigma^2 + \beta \left(r - (\hat{x}-\theta)^2 \right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So we can evaluate the probability density of being at $ x_t$ at time &lt;em&gt;t&lt;/em&gt; given that we started at &lt;em&gt;x&lt;/em&gt;0_ at time 0 by integrating the above equations (numerically, in this case, as we lack a closed form solution for the above).&lt;/p&gt;
&lt;p&gt;Being able to calculate this probability we can easily calculate likelihood of the timeseries under the model. We code this in R (&lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/59a712f2ca7527ccd33ecd272729d29df7cac3d7#diff-0&quot;&gt;likelihood_bifur_models.R&lt;/a&gt;) and write a quick example script (also in repo as &lt;a href=&quot;https://github.com/cboettig/structured-populations/commit/59a712f2ca7527ccd33ecd272729d29df7cac3d7#diff-1&quot;&gt;bifur_likelihood_ex.R&lt;/a&gt;):&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
pars =&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;r=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;beta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
m &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;init_sdemodel&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;pars =&lt;/span&gt;pars, &lt;span class=&quot;dt&quot;&gt;Xo =&lt;/span&gt; &lt;span class=&quot;fl&quot;&gt;6.2&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;model=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SN&amp;quot;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;N=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;200&lt;/span&gt;)
X &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;simulate.SN&lt;/span&gt;(m)
&lt;span class=&quot;co&quot;&gt;# Set initial guess&lt;/span&gt;
m$pars &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;c&lt;/span&gt;(&lt;span class=&quot;dt&quot;&gt;r=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;11&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;theta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;4&lt;/span&gt;,&lt;span class=&quot;dt&quot;&gt;beta=&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;1&lt;/span&gt;)
out &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;update.SN&lt;/span&gt;(m, X, &lt;span class=&quot;dt&quot;&gt;method=&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&amp;quot;SANN&amp;quot;&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Exploring different fitting, seems to be a challenge. For instance, finds wrong optimum sometimes – perhaps due to a bug somewhere (see more examples in flickr stream): &lt;img src=&quot;http://farm5.staticflickr.com/4083/5213027405_7927655f38_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;As likelihood surface (shown here for theta) appears challenging:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5161/5213358725_a5071f4571_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;and numerical errors make it worse:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4087/5213376911_7ba94180e2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5081/5215261656_f8c9f04b2e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Never the less, the fit does okay when the initial condition for theta starts nearer the better well (right). See flickr library for more examples and git for code. Still not obvious why the unstable equilibrium is quite such a likelihood peak, but anyway…&lt;/p&gt;
&lt;p&gt;Success of fits varies quite a bit, depending on data, initial guesses for parameters, etc. Note that for many of these the optimization fails to converge (more reasons discussed below).&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“quadraticfitslides” tag_mode=“all”]&lt;/p&gt;
&lt;h3 id=&quot;improving-automated-recording-in-figures&quot;&gt;Improving automated recording in figures&lt;/h3&gt;
&lt;p&gt;Have added a git commit message to the reporting, so that flickr images are automatically tagged with a commit stamp referring to the script which produced them:&lt;/p&gt;
&lt;pre class=&quot;sourceCode r&quot;&gt;&lt;code class=&quot;sourceCode r&quot;&gt;
gitcom &amp;lt;-&lt;span class=&quot;st&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;git commit -a -m &amp;quot;autocommit&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;dt&quot;&gt;intern=&lt;/span&gt;&lt;span class=&quot;ot&quot;&gt;TRUE&lt;/span&gt;)
&lt;span class=&quot;co&quot;&gt;# only first line of git commit commandline return will be printed in flickr discription&lt;/span&gt;
&lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;flickr_upload --tag=&amp;quot;stochpop bifurcation&amp;quot;&amp;#39;&lt;/span&gt;, &lt;span class=&quot;st&quot;&gt;&amp;#39;--description=&amp;quot;&amp;#39;&lt;/span&gt;, gitcom, &lt;span class=&quot;st&quot;&gt;&amp;#39;&amp;quot;&amp;#39;&lt;/span&gt;,  &lt;span class=&quot;st&quot;&gt;&amp;#39; saddle_node_fit.png&amp;#39;&lt;/span&gt;))
&lt;span class=&quot;kw&quot;&gt;system&lt;/span&gt;(&lt;span class=&quot;kw&quot;&gt;paste&lt;/span&gt;(&lt;span class=&quot;st&quot;&gt;&amp;#39;hpc-autotweets &amp;quot;&amp;#39;&lt;/span&gt;, gitcom, &lt;span class=&quot;st&quot;&gt;&amp;#39; done&amp;quot;&amp;#39;&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Would be nice to eventually make this a link. Also still good to print the most interesting parameters directly on the figure (or in the description if that isn’t appropriate) so that one doesn’t have to reference the code. Wonder if I can dump a larger text output into a single continuous string for the description.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tweets from an Ecology Field class </title>
   <link href="/2010/11/24/tweets-from-an-ecology-field-class.html"/>
   <updated>2010-11-24T18:06:15-08:00</updated>
   <id>h/2010/11/24/tweets-from-an-ecology-field-class</id>
   <content type="html">&lt;p&gt;I just spoke with Professor Mau Stanton, a leading researcher in our field and an &lt;a href=&quot;http://www.ucdavis.edu/spotlight/0305/natural.html&quot;&gt;award-winning teacher&lt;/a&gt;, about the potential for using twitter in her field ecology course.  Though never having used any social media before, Mau has both clear and clever idea of how she wants to apply it in this 15-student field class.&lt;/p&gt;
&lt;p&gt;The challenge:  Students don’t seem to read email as much any more, and are often not at a computer.  Most have cell phones with txt messaging but not smart phones.  Students are often away from computers, traveling between classes or actually in the field collecting data.   Faced with such an environment, Mau has several goals:&lt;/p&gt;
&lt;h3 id=&quot;instant-notification-system&quot;&gt;Instant notification system&lt;/h3&gt;
&lt;p&gt;The first goal is to have a system in place that could send urgent updates to all students which they could receive anywhere.  Announcements like last-minute trip cancellation, or “incoming storm warning – bring rain gear!”  that students could receive on their cell phone as they run between classes.&lt;/p&gt;
&lt;p&gt;(If these are the only messages students want to receive as txts, then they will need to be sent from a dedicated eve180 announce account. Otherwise other messages such as answers to questions or article links will be sent as well. Of course to get answers via cell from Mau or others while in the field they’ll want the whole dialog available anyway.)&lt;/p&gt;
&lt;h3 id=&quot;sharing-resources&quot;&gt;Sharing resources&lt;/h3&gt;
&lt;p&gt;Mau’s next goal is to be able to share journal articles and stories in the media that may be relevant but not required reading for the class. Students may also start to share resources they find with the list, perhaps under a hashtag like #eve180read.&lt;/p&gt;
&lt;h3 id=&quot;ask-and-answer-questions&quot;&gt;Ask and answer questions&lt;/h3&gt;
&lt;p&gt;Students will be able to ask questions of the instructors, particularly while in the field using their mobile phone. Instructors and possibly other students could answer these questions. “Should I count this seedling if its &amp;lt; 1cm?” “Can someone identify this leaf from this photo?”&lt;/p&gt;
&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;
&lt;p&gt;Each student creates a twitter account, chooses to follow @MauStanton. Students activate mobile phone connection to their account and enable SMS messages from selected followers, and add @MauStanton to this.&lt;/p&gt;
&lt;p&gt;Students will now receive updates via text message on their phone. Students can ask questions to the instructor using @MauStanton in their tweet. Other students will be able to see the reply. May help if questions and answers are tagged, i.e. #eve180qa.&lt;/p&gt;
&lt;p&gt;If all students and instructors use a dedicated account for eve180 and follow everyone in the class, the volume of dialogue may be low enough that mentions@ and hashtags # aren’t necessary.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning signals: Likelihoods Straight-up</title>
   <link href="/2010/11/24/warning-signals-likelihoods-straight-up.html"/>
   <updated>2010-11-24T13:44:57-08:00</updated>
   <id>h/2010/11/24/warning-signals-likelihoods-straight-up</id>
   <content type="html">&lt;p&gt;Meeting with Alan this morning.  I haven’t solved likelihood of power spectra (previous couple entries in Stoch. Pop / warning signals), though after meeting with Sebastian (11/9) probably the best method works from the correlation function.  Define a new stochastic process Y &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_1 = X_1 X_2 + X_2 X_3 + X_3 X_4 + \ldots&quot; alt=&quot;Y_1 = X_1 X_2 + X_2 X_3 + X_3 X_4 + \ldots&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_2 = X_1 X_3 + X_2 X_4 + \ldots&quot; alt=&quot;Y_2 = X_1 X_3 + X_2 X_4 + \ldots&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y_3 = \ldots&quot; alt=&quot;Y_3 = \ldots&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Argue that $ Y$ is stationary when $ X $ is stationary.  Then apply a central-limit theorem to error estimate in Y given error estimate in X, noting higher Y have much greater error due to be computed from fewer points (uncertainty near the peak of the Lorentzian (low frequency, long wavelength) or tail of the correlation function. A lot of work for a rainy day.&lt;/p&gt;
&lt;h2 id=&quot;back-to-the-previous-tack&quot;&gt;Back to the Previous tack&lt;/h2&gt;
&lt;p&gt;Meanwhile, focus on estimating the likelihood of the set of models directly.  Rather than rely on the OU model with linear moving mean, etc, will write down the probability for the quadratic model.&lt;/p&gt;
&lt;p&gt;Canonical form of the &lt;a href=&quot;http://en.wikipedia.org/wiki/Saddle-node_bifurcation&quot;&gt;saddle-node bifurcation&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = x^2+r&quot; alt=&quot;\frac{dx}{dt} = x^2+r&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Modifying this slightly for our purposes: I’ve introduced an extra parameter to allow for the bifurcation to occur at $ x = $ instead of at zero, and swapped the sign  so that the stable point is to the right of the unstable:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = -(x-\theta)^2+r&quot; alt=&quot;\frac{dx}{dt} = -(x-\theta)^2+r&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Such that bifurcation occurs when $ r$ becomes negative.  Phrasing this as the appropriate SDE for demographic noise:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = \left( r - (x-\theta)^2\right)dt + \beta \sqrt{X} dB_t&quot; alt=&quot;dX = \left( r - (x-\theta)^2\right)dt + \beta \sqrt{X} dB_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which is a nonlinear model without an analytic solution with which we can calculate the probability density to evaluate the likelihood of the timeseries.  However, we can back up a few steps and go back through the linear noise approximation to the birth death model, where we have &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d \hat{x}}{dt} = r - (\hat{x}-\theta)^2&quot; alt=&quot;\frac{d \hat{x}}{dt} = r - (\hat{x}-\theta)^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{d \sigma^2}{dt} = -2 (\hat x - \theta )\sigma^2 + \beta&quot; alt=&quot;\frac{d \sigma^2}{dt} = -2 (\hat x - \theta )\sigma^2 + \beta&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;From which we need to construct the conditional probability of observing the system at state $ x_t$ given in started at state $ x_0$ at time t. &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(x_t | x_0) = N(\mu(x_t | x_0), \sigma(x_t | x_0)&quot; alt=&quot;P(x_t | x_0) = N(\mu(x_t | x_0), \sigma(x_t | x_0)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;For the OU process, &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\mu(x_0) = (x_0 - \theta) e^{-\alpha t} + \theta&quot; alt=&quot;\mu(x_0) = (x_0 - \theta) e^{-\alpha t} + \theta&quot; /&gt;&lt;/div&gt;&lt;/span&gt; [ (x_t, x_0) =  ( 1-e^{-t} ) $$&lt;/p&gt;
&lt;p&gt;Meanwhile the above ODEs for our quadratic model don’t have good closed form solutions, but the ODE system can simply be solved numerically.&lt;/p&gt;
&lt;p&gt;(using a simplified notation to query wxmaxima) &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?-\frac{log\left( -\frac{-x\left( t\right) +\sqrt{r}+a}{x\left( t\right) +\sqrt{r}-a}\right) }{2\,\sqrt{r}}=t+c&quot; alt=&quot;-\frac{log\left( -\frac{-x\left( t\right) +\sqrt{r}+a}{x\left( t\right) +\sqrt{r}-a}\right) }{2\,\sqrt{r}}=t+c&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2\left( t\right) =e^{2\int x\left( t\right) dt-2at}\left( b\int e^{2 a t - 2\int x \left( t \right) dt} dt+c\right)&quot; alt=&quot;\sigma^2\left( t\right) =e^{2\int x\left( t\right) dt-2at}\left( b\int e^{2 a t - 2\int x \left( t \right) dt} dt+c\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Comment on bifurcation classes.  &lt;a href=&quot;http://en.wikipedia.org/wiki/Transcritical_bifurcation&quot;&gt;Transcritical bifurcations&lt;/a&gt;, which involve an exchange of stability: still driven by the $ r$ parameter changing sign: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = x^2 + rx&quot; alt=&quot;\frac{dx}{dt} = x^2 + rx&quot; /&gt;&lt;/div&gt;&lt;/span&gt; for which the logistic equation is a good example:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = r x \left(1-\frac{x}{K}\right)&quot; alt=&quot;\frac{dx}{dt} = r x \left(1-\frac{x}{K}\right)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Perhaps this provides a nice simpler example worth focusing on, can probably give complete analytic treatment. The explicit demographic model requires a parameterization of this in terms of birth and death rates. The Levins model provides one reasonable interpretation (actually has a few biological interpretations, including the dispersal model it was introduced as, and as the SIR model of epidemiology):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{dx}{dt} = c x \left(1-\frac{x}{K}\right) - e x&quot; alt=&quot;\frac{dx}{dt} = c x \left(1-\frac{x}{K}\right) - e x&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where the bifurcation occurs at $ c &amp;lt; e$ rather than &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?r &amp;lt; 0\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Power in simple tests</title>
   <link href="/2010/11/22/power-in-simple-tests.html"/>
   <updated>2010-11-22T00:00:33-08:00</updated>
   <id>h/2010/11/22/power-in-simple-tests</id>
   <content type="html">&lt;p&gt;Exploring power in simple tree models. With the smaller tree from the _geospiza _dataset, (14 tips, left) is less than yesterday’s in the &lt;em&gt;bimaculus Anoles&lt;/em&gt; (with 23 tips, right)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4086/5196757723_3c7540af8e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4151/5197061110_d98d0e4ebe_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/2e5c5d2b5c412550c75689d426bcdeb9a3274445#diff-1&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Also wrote the &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/2e5c5d2b5c412550c75689d426bcdeb9a3274445#diff-0&quot;&gt;OUCH-based wrapper function&lt;/a&gt;to fit tree transformation parameters.  Unfortunately it currently transforms from ape to ouch format repeatedly (in order to use ape’s tree transforms, need to write native ouch-format transforms), so it may not be any faster.&lt;/p&gt;
&lt;p&gt;Ok, all for tonight, continue from here tomorrow.&lt;/p&gt;
&lt;h3 id=&quot;large-simulated-trees&quot;&gt;Large, Simulated Trees&lt;/h3&gt;
&lt;p&gt;Interested in comparing these power curves to much larger trees.  Note already above that the 14 taxa &lt;em&gt;geospiza&lt;/em&gt; tree never gets above a power of 0.80, meaning that even in the most dramatic example of no phylogenetic signal will not be detected 20% of the time.  This asymmetric comparison isn’t strictly necessary, we could ask about the power in the reverse test.&lt;/p&gt;
&lt;p&gt;The larger simulated trees are much slower, machine chugging away at them now. Really needs a more thorough optimization or ouch port for tree transforms.&lt;em&gt;** ****Two**&lt;em&gt;* days later..&lt;/em&gt;*&lt;/em&gt; The power curve on the much larger trees completed (on zero).  Has basically perfect power (at 95% confidence) any lambda up to 0.95:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4127/5205838636_73b41eba30_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Complete distributions for each of the data points shown here:&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“largetreepowerlambda” tag_mode=“all”]&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/e1e48e7bcb197ce0faed287a6835be9808805f93/pmc/demos/simtree_example.R&quot;&gt;Code in simtree_example.R&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Two questions</title>
   <link href="/2010/11/21/two-questions.html"/>
   <updated>2010-11-21T13:53:44-08:00</updated>
   <id>h/2010/11/21/two-questions</id>
   <content type="html">&lt;p&gt;I’ve been thinking about a few elements of the Monte Carlo approach that seem to be particularly subtle in interpretation. Thought I’d write them out here as a separate examples to help think through them.  Thoughts?&lt;/p&gt;
&lt;h3 id=&quot;question-1&quot;&gt;Question 1&lt;/h3&gt;
&lt;p&gt;Should the Monte Carlo simulations use the maximum likelihood  test and null model estimated from the data (as in  McLachlan 1987, Goldman 1993, Huelsenbeck 1996) or draw from the distribution of model parameters for each simulation?&lt;/p&gt;
&lt;p&gt;Sometimes this estimate is very uncertain, which is only subtly displayed in the Monte Carlo comparison.  While the summary statistics don’t catch it, the graph shows a huge range of likelihood ratios produced when simulating under the test model.  Consider the figure below comparing the pure BM model to one with reduced phylogenetic signal (lambda model).  Some of the simulations correspond to cases where the MLE estimates a very distinctly different value of lambda (near zero, say), and the model is easy to tell from BM (equivalent to lambda=1).  This gives the high likelihood ratios seen on the far right.  However, other simulations are very hard to tell apart because they are estimating values of lambda that are very close to unity already.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5281/5191048330_4dcb0f36c5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/cb1161cd2c091aa0e037434ec03df14fc91e3360#diff-2&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;The danger is this: that the MLE returns a value of lambda near unity, and the lack of power is attributed to the fact that the data appears nearly Brownian, when in fact considerable lack of power may remain on this data set even if the estimate were near zero.  It is in this kind of example that the  complete power curves are particularly crucial.  As an example, here’s the power curve on lambda for the anoles data:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4151/5197061110_d98d0e4ebe_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/d0ec8f66fdeaa93b97590215d14825dc448396fd#diff-0&quot;&gt;c0de&lt;/a&gt;) The individual distribution at each point can be seen&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/powercurve4/&quot;&gt;in this series:&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“powercurve4”]&lt;/p&gt;
&lt;h3 id=&quot;question-2&quot;&gt;question 2&lt;/h3&gt;
&lt;p&gt;Is the better model the one with the smallest type I error in rejecting the other (integrating under the tail away from the observed likelihood ratio) or the model under which the observed likelihood ratio is most probable?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4112/5195799728_97244df623_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/6d76ce8a000ededec08f6bf7459d48da02e1f545#diff-1&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;The above example (OU.3 v OU.11, see near end of code file) doesn’t quite capture this, since the better p value rejects the null and the higher probability at the observed ratio corresponds to the test distribution, so the methods agree, just.  It’s not obvious which one makes the better argument.  It is easy to imagine in a borderline case such as this that it could have gone either way though, with the probability being slightly higher or the tail slightly longer.&lt;/p&gt;
&lt;p&gt;A related curiosity: would it be useful to estimate a metric of distance between the distributions (maybe Kulback-Leibler divergence, restoring a modern information theoretic feel to it) then the power estimate (although that has a tighter interpretation as Type II error probability)?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Making R twitter?</title>
   <link href="/2010/11/21/following-my-computer-simulations-on-twitter.html"/>
   <updated>2010-11-21T13:28:20-08:00</updated>
   <id>h/2010/11/21/following-my-computer-simulations-on-twitter</id>
   <content type="html">&lt;p&gt;I’m running quite a few of my analyses on my remote server, a 16 core, 32 GB ram, Ubuntu server with Tesla GPU, named “zero” (we’re creative folks).  It’s easy to start lots of simulations (from ssh), harder to track when they are finished and verify results.  No longer – “zero” now uses social media to share what she’s up to.  Find her on twitter: @tweeting_cpu&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4089/5195954426_a378881339_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4125/5197185652_e11112045a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;social-computation&quot;&gt;Social Computation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Provides automated updating of simulation status and error messages&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Integrates into my workflow, can follow the computer from my own twitter account&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sends figures to flickr with tags and descriptions&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sends figures to my social network software so I can see them in real-time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uses mentions (@cboettig) to trigger on-screen notification&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uses hashtags to track progress of different simulations running at the same time.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Creates a search-able log of simulations with timestamps&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Can embed the log using RSS or other features standard to twitter.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;All communication can be completely private, shared with a chosen network, or shared with the world (open science).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4112/5196584707_663796eb6e_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;the-setup&quot;&gt;The Setup&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;A Twitter account: &lt;a href=&quot;http://twitter.com/#%21/tweeting_cpu&quot;&gt;@tweeting_cpu&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://jeffmiller.github.com/2010/05/31/twitter-from-the-command-line-in-python-using-oauth&quot;&gt;Command-line twitter client&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Flickr account (can be shared with the user)&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://search.cpan.org/~cpb/Flickr-Upload/flickr_upload&quot;&gt;Command-line flickr uploader&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;While I have given the computer it’s own twitter account, I have it post to my own flickr account since I’ve already been using that as my results repository and it is a pro account.  Having a separate flickr account for tweeting_cpu does give me a social object I can follow via flickr however.&lt;/p&gt;
&lt;p&gt;Note that there are many other command-line twitter programs which no longer work since twitter adopted OAuth, including the &lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/index.html&quot;&gt;twitteR&lt;/a&gt; R package on CRAN, but this python script is perfect. Both commandline apps require a little configuration file with authentication details, but are well documented and easy to set up.&lt;/p&gt;
&lt;p&gt;With this setup, I can add social instructions inside my R code using the system() call:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;system(&amp;#39; flickr_upload --tag=&amp;quot;phylogenetics&amp;quot; ou3_v_ou11.png &amp;#39;)
system(&amp;#39;hpc-autotweets &amp;quot;Simulation complete, results here: http://bit.ly/aacEr1&amp;quot; &amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The image is filed with appropriate metadata in the flickr collection which manages all my simulation results.  Now I can follow my computer.  I can also embed my computer’s latest tweets into my notebook using the rss feed:&lt;/p&gt;
&lt;p&gt;Next: exploring how this can help me keep a tighter link between the code that produced the images and the images themselves. Currently rely mostly on timestamps and context, would be great if it could make sure the code was committed to git before running, and grabbing the commit id to add to the metadata.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Sat: evolution -- porting tree transformations to OUCH?</title>
   <link href="/2010/11/20/sat-phylogenetics-porting-tree-transformations-to-ouch.html"/>
   <updated>2010-11-20T15:36:09-08:00</updated>
   <id>h/2010/11/20/sat-phylogenetics-porting-tree-transformations-to-ouch</id>
   <content type="html">&lt;p&gt;The overnight runs yesterday &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/cb1161cd2c091aa0e037434ec03df14fc91e3360#diff-0&quot;&gt;using the geiger models bm and lambda on the (transformed) Anoles dataset&lt;/a&gt; don’t seem to converge, spooling jobs that continue running even when R exits – probably that same problem in ape somewhere that was fixed by writing the tree out to Nexus and re-reading it, a very strange and subtle bug. &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/f5c8f113acefc59ef9844bdabdaf328cd33e335f#diff-0&quot;&gt;Will try this and restart the runs.&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ordered as: bm_v_lambda_origdata.png, delta_v_lambda.png, bm_v_lambda.png (data simulated under OU), each with 100 replicates.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4083/5193446182_f5aa56cb94_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4084/5193446238_81ca844831_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4152/5192848581_cc8905b6e2_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Clearly difficult to distinguish in the first two cases, as expected given the parameter values under this transformation.  The third case is under simulated data with an alpha of 2, but the data estimates a lambda very near unity (0.98), so again this isn’t surprising.  Re-estimating by simulating new data under the same model, we fit a lambda of 0.55, now AIC at least favors the lambda model and we repeat the Monte Carlo and get more conclusive difference between models, as expected:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5241/5193472578_7221ac3ed3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Thus while we can distinguish between models of different lambda reasonably well under the Monte Carlo framework, we cannot initially estimate reasonably parameterized models of lambda.  Even the power curve seems not to give an indication that the initial estimate of lambda by maximum likelihood is not to be trusted.  Will have to think about this relatively obvious source of uncertainty, maybe better to just draw from the distribution of lambda values appropriately in the monte carlo, rather than generating all simulations from the MLE estimate.&lt;/p&gt;
&lt;h3 id=&quot;geospiza-data-examples&quot;&gt;Geospiza data examples&lt;/h3&gt;
&lt;p&gt;Going back to Geiger geospiza dataset on wing length, just ran 2000 replicates on Monte Carlo of lambda vs delta model:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4154/5193328928_f5f14e8fb7_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;slow-code-new-tact&quot;&gt;Slow code, New tact&lt;/h3&gt;
&lt;p&gt;Meanwhile still frustrated with the speed of Geiger for these applications.  In particular, solving the Brownian rate parameter problem is the solution to a linear equation, and shouldn’t need nonlinear optimization.  OUCH implements a linear solver for brown() function.  Would be possible to wrap a search for a tree transformation around this, optimizing the sigma for each trial version of the optimization, rather than treating this as a non-linear optimization of two parameters simultaneously.&lt;/p&gt;
&lt;p&gt;Note that this is already done for the mean of the Brownian model even in Geiger, where it is taken as the Phylogenetic mean from the tree, so only sigma (which geiger sometimes calls beta, or is beta equal sigma sqaured??) is fitted.&lt;/p&gt;
&lt;p&gt;Using the gsl library I’ve written my own likelihood calculations for BM and OU models, &lt;a href=&quot;https://github.com/cboettig/wrightscape/blob/a3cebb06b8e0e28fe43fbb22e6bd9f0c499271e3/src/linearsoln.c&quot;&gt;linearsoln.c&lt;/a&gt;, should probably re-implement into wrightscape(?)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Fri: extending Geiger to Monte Carlo method</title>
   <link href="/2010/11/19/fri-extending-geiger-to-monte-carlo-method.html"/>
   <updated>2010-11-19T11:51:34-08:00</updated>
   <id>h/2010/11/19/fri-extending-geiger-to-monte-carlo-method</id>
   <content type="html">&lt;p&gt;Completing my extension of geiger into object oriented design whereby I can easily apply the Monte Carlo approach to test fits using function calls to model fits such as update() and simulate(). A quick convenient example: AIC would prefer (though not by munch) the delta transform model over the Brownian motion model; a conclusion not supported by the Monte Carlo test, which suggests there is not enough power to choose between these models:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4132/5190435896_03fa7c4229_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The density kernel estimation does make it appear that some values are smaller than zero though. Recall all estimates are from the replicates directly, so this doesn’t introduce any errors in the numbers reported, only the visualization; still it is annoying. Also note this is just with 100 replicates, not 2000, since I wanted a quick example and geiger is much slower than ouch.&lt;/p&gt;
&lt;p&gt;Will see if I can generate enough interesting examples out of the Anoles data or if it would be good to include some simulated data (and maybe some simulated trees with different structures). Simulating under OU, fitting lambda and bm models. Alpha = 1 and Alpha = 2&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1030/5190485606_3d3aa1e779_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4149/5190522064_ee22fa88fe_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/tree/1222147f8abe83a54c698bb2178d3fc6e35ca744&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Ah, the strange likelihood ratios under the test simulation are possibly the result of a bug in the simulation script, need to rescale tree to estimate the phylogenetic mean. Confirmed this works with ape’s rTraitCont simulation which can simulate BM (and transformed tree versions of course) and OU) &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/cb1161cd2c091aa0e037434ec03df14fc91e3360#diff-1&quot;&gt;See code changes&lt;/a&gt;. Still, surprisingly wide distribution of likelihoods under simulations of the lambda model.&lt;/p&gt;
&lt;p&gt;Consider the Geiger geospiza data for example, which shows the same wide uncertainty in simulating (n=2000 now) under the test model:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm6.staticflickr.com/5281/5191048330_4dcb0f36c5_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/cb1161cd2c091aa0e037434ec03df14fc91e3360#diff-2&quot;&gt;(code)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Beginning to wonder if it’s worth bothering to explain how this works in the context of type I and type II error, vs just measuring the divergence between the two distributions. The important thing is realizing that its the likelihood ratio that it’s key to look at, and to look at under both distributions. a rather subtle thing.&lt;/p&gt;
&lt;p&gt;Also looks like it may be worth porting tree transforms into OUCH just for the purposes of doing this analysis at higher speed for the fits. Should profile the code first though to make sure.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thurs: evolution likelihood</title>
   <link href="/2010/11/18/thurs-phylogenetics-likelihood.html"/>
   <updated>2010-11-18T12:05:16-08:00</updated>
   <id>h/2010/11/18/thurs-phylogenetics-likelihood</id>
   <content type="html">&lt;p&gt;Back to writing for today.  Working on discussion of non-nested models. Looking at the reverse comparison, can get the reverse p value.  The case of OU.3 vs the OU.4 model doesn’t show either test to be significant at the 95%  confidence level,but the case of OU.3 vs OU.15 (lets every species in the top two clades be unique) does:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4125/5187988176_dbfbc0db0a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The reverse p value easily rejects this silly OU.15 model, though AIC vastly prefers it. Perhaps this would be a better example to start with then the OU.4 case?  Doesn’t have the same convergence issues as the all-diff (OU.23) model, and has a clearer conclusion than the OU.4 choice…&lt;/p&gt;
&lt;p&gt;This raises an interesting question though: should a model be preferred because it is rejected in one test and not rejected in the reverse test (at some chosen confidence level), or should it be chosen as the one having the higher likelihood?  For instance, these two choices can theoretically disagree:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1301/5187916996_3709f31a34_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The curve to the left has a higher probability for the observed LR, but a lower p-value when treated as the null.&lt;/p&gt;
&lt;p&gt;Looking into a clearer opening example such as the OU.15 tree.  Wrote a palette function for the tree (in&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/e257293ae40e2deb91d7ca0eef4ccc203ff16427&quot;&gt;likelihoodratio_mansucript_examples.R&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4087/5188312038_1fa1fe0c98_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Gives decent example of AIC making the wrong choice, Monte Carlo making a clear different choice, accepting the simpler model with strong degree of information (power).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1035/5187693695_ec3a4f229d_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Unfortunately in this example OU.3 is not nested within this particular painting, even though the ratio is always positive.  Making a nested model tends in most examples of over-parameterized models fit neither very well, i.e. this OU.10 model:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4148/5188275222_8fdfd1d49b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;see code commit github: ef36d62.  Hmm, maybe start with some simpler nested-model comparisons.&lt;/p&gt;
&lt;p&gt;A clear nested case: OU.1 vs OU.3:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1283/5188364198_66f1d7f0e0_o.png&quot; /&gt;
&lt;/div&gt;
&lt;h3 id=&quot;some-simpler-geiger-examples&quot;&gt;Some Simpler Geiger Examples&lt;/h3&gt;
&lt;p&gt;Currently cannot run on Gieger fits aren’t fit objects.  A little wrapper function can get around most of this.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;fitContinuous_object &amp;lt;- function(tree, data, model=&amp;quot;BM&amp;quot;, ...){
    fit &amp;lt;- fitContinuous(tree, data, model=model, ...)
    class(fit) &amp;lt;- &amp;quot;fitContinuous&amp;quot;
    fit$model &amp;lt;- model
    fit$tree &amp;lt;- tree
    fit$data &amp;lt;- data
    fit$root &amp;lt;- phylogMean(fit[[1]]$beta*vcv.phylo(tree), data)
    fit
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The next problem is the lack of available methods for simulation in Gieger.&lt;/p&gt;
&lt;p&gt;I’m afraid that it is ridiculous that sim.char in Geiger ignores the root state under the Brownian motion simulation.  Of course it can just be added to the data of the simulation, but no one will do that, or worse, not even realize that the function is ignoring the specification of the root state.&lt;/p&gt;
&lt;p&gt;Equally ridiculous is that geiger doesn’t return this estimate of the root state found by fitContinuous, even though it’s estimated from the data and contributes to the fit. It isn’t estimated by the optim function, however, because it can be found independently by estimating from the data directly, as I do in the function above.&lt;/p&gt;
&lt;p&gt;Probably faster to extend ouch to optimize over tree transformations.  Also avoid the computational drag of Gieger coding. Anyway, just about done, a reasonably object-oriented geiger now. Simulation needs to be extended to perform the tree transformations when required still. See github code.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Weds</title>
   <link href="/2010/11/18/weds.html"/>
   <updated>2010-11-18T00:06:45-08:00</updated>
   <id>h/2010/11/18/weds</id>
   <content type="html">&lt;p&gt;Great discussion in Monte Carlo Seminar with Rannala on the two rate estimation papers.  See in-text notes, but focus on  mechanisms of speciation and extinction as intrinsic (lineage specific) or extrinsic (perhaps spatially specific or global).&lt;/p&gt;
&lt;p&gt;Calculation of the likelihood function for the rates seems straight forward.  Start by imaging the pure-birth model, simply allow branch lengths as draws from the exponential distribution of parameter lambda.  Allowing extinction: probability a lineage speciates (as before) and then survives to present day.  In a density dependent model perhaps this second probability can be easily modified by the expected number of species (really needs to be the distribution, but that’s straight forward).  Bruce suggests this calculation hasn’t been done.  It certainly doesn’t seem to appear in  use in the literature.  Believe the structure of the data needed is the same as the birth-death.  For pure-birth, the data is just the branch lengths.  Now the data is the branch length plus the time until present:&lt;/p&gt;
&lt;p&gt;Looking at a given branch, the probability that it has descendants in the pure birth-death process is given by the classic branching process results, i.e. Galton-Watson process from Feller (wish I had epub versions of all my textbooks right now…)  Note we want the time-dependent solution, not just the escape probability at $ T = $,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?P(t, T) = \frac{\lambda-\mu}{\lambda - \mu e^{-(\lambda-\mu)(T-t)}}&quot; alt=&quot;P(t, T) = \frac{\lambda-\mu}{\lambda - \mu e^{-(\lambda-\mu)(T-t)}}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The probability of zero lineages at time $ t$ is then the complement of this.  The probability of $ i &amp;gt; 0 $ lineages at time $ t$ is:&lt;/p&gt;
&lt;p&gt;[latex] P(0,t) (1-u_t)u_t^{i-1} \&lt;/p&gt;
&lt;p&gt;u =  [/latex]&lt;/p&gt;
&lt;p&gt;Why is this true? Going through Kendall 1948 papers which just reference a footnote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;*(Added in proof.) Dr Bartlett has pointed out to me that the result (27) is stated by N. Arley in Acta Math (1945) 76 298-9&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;hmm… calculations for another day.&lt;/p&gt;
&lt;p&gt;﻿﻿&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tues seminar</title>
   <link href="/2010/11/16/tues-seminar.html"/>
   <updated>2010-11-16T09:47:39-08:00</updated>
   <id>h/2010/11/16/tues-seminar</id>
   <content type="html">&lt;p&gt;Sarah Dalrymple seminar.  Rick Karban’s excellent intro: “unlike the rest of these seminars, Sarah will tell us something new.”   “Sarah’s really out there.”  Also mentions TAC and art teaching.&lt;/p&gt;
&lt;p&gt;Ants, Jeff pine &amp;amp; fire Fire suppression dramatic impacts.  Prescribed under story burns work!   ie Angora fire in Tahoe, 2007.  Discover rings of unburned  soil around base of tree, reducing damage…  undescribed!&lt;/p&gt;
&lt;p&gt;More common in recently burned ( 30 yrs.  What makes the rings?  Many possible: stem melt, wind, litter fall?  Evidence for less fall, but not absence of needles…&lt;/p&gt;
&lt;p&gt;Ants!  60% have an ant nest in the clearing (&lt;em&gt;formica sybilla&lt;/em&gt;).  Association of ants &amp;amp; clearings only in burned areas.&lt;/p&gt;
&lt;p&gt;Needle addition experiments.  Needles move farthest when nest in clearing.  Clearings w ants excluded similar motion to no nest but no exclosure.&lt;/p&gt;
&lt;p&gt;Why should ants make clearings?  (Other ant sp. do this in fields-  &lt;em&gt;pogonomyrmex sp&lt;/em&gt;).  Better foraging rate?  Detect, recruit, transport?  Time to detect bait; and recruit workers 2-3x faster (given nest).  No evidence of better transport time (caterpillar bate).&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>evolution today:  Discussion groups, writing, etc</title>
   <link href="/2010/11/15/phylogenetics-today-discussion-groups-writing-etc.html"/>
   <updated>2010-11-15T14:37:52-08:00</updated>
   <id>h/2010/11/15/phylogenetics-today-discussion-groups-writing-etc</id>
   <content type="html">&lt;p&gt;Interesting discussion of &lt;a href=&quot;http://www.mendeley.com/research/genome-evolution-and-adaptation-in-a-longterm-experiment-with-escherichia-coli?utm_source=desktop&amp;amp;utm_medium=0.9.8.1&amp;amp;utm_campaign=open_catalog&amp;amp;userDocumentId={98edad94-30b4-4e6e-a905-243c3391c835}&quot;&gt;a Lenski paper&lt;/a&gt; in Wainwright’s 270.&lt;/p&gt;
&lt;p&gt;Barrick, J.E. et al. Genome evolution and adaptation in a long-term experiment with Escherichia coli. Nature 461, 1243-7(2009).&lt;/p&gt;
&lt;p&gt;Seems to focus on surprise of continuing linear rate of increase in beneficial mutations, though statistics don’t seem to confirm.  Curious about uncertainty in assay of fitness estimates (seem to go down at times, but surely not fixing deleterious mutations).  General difficulties in setup of exponential growth with applications of classic constant population size, but maybe we’re all missing something.  Curious if the evolution isn’t driven entirely by jettisoning unnecessary protein production, genes, etc to speed up replication time.&lt;/p&gt;
&lt;h3 id=&quot;articles-reading&quot;&gt;Articles &amp;amp; Reading&lt;/h3&gt;
&lt;p&gt;Surprised this morning to come across an article about parthenogenesis in a &lt;a href=&quot;http://www.charlotteobserver.com/2010/11/15/1839395/these-super-snakes-dont-need-a.html&quot;&gt;newspaper&lt;/a&gt; (from the twitter network).&lt;/p&gt;
&lt;p&gt;Didn’t know that was possible, had to dig around in the literature a bit more for &lt;a href=&quot;http://rsbl.royalsocietypublishing.org/content/early/2010/10/21/rsbl.2010.0793.abstract&quot;&gt;the article&lt;/a&gt;.  Apparently this has been shown not only in almost every vertebrate lineage (as this paper on &lt;a href=&quot;http://rsbl.royalsocietypublishing.org/content/3/4/425.full&quot;&gt;parthenogenesis in sharks mentions&lt;/a&gt;) except mammals.  Yes, a colleague pointed out it has been found in chickens, turkeys, pigeons, and zebra finch.  Wow.&lt;/p&gt;
&lt;h3 id=&quot;likelihood-ratio-paper&quot;&gt;Likelihood ratio paper:&lt;/h3&gt;
&lt;p&gt;Figuring out if it’s worth discussing the connection between the concepts of power and information in this paper.  For instance, could include Kulback-Liebler mutual information between the distributions of likelihood ratios generated under each model, rather than frame the discussion in terms of the null and test hypotheses and 95% confidence level, etc.  May at least add the computation into the software package.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://upload.wikimedia.org/math/b/9/4/b9494fe37085e28fb04643bce8600f90.png&quot; alt=&quot;D_{}(P|Q) = _{-}^p(x)  ; dx, !&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;D_{}(P|Q) = _{-}^p(x)  ; dx, !&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Adding the two remaining examples (rejecting the null, BM v OU.3) and inadequate power (BM v OU.1),&lt;/p&gt;
&lt;p&gt;Figures:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4091/5180123414_d18351bdd9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1044/5180123460_d7c672f08b_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Hope to finish through the discussion of power curves today.&lt;/p&gt;
&lt;h4 id=&quot;ons-thoughts&quot;&gt;ONS Thoughts&lt;/h4&gt;
&lt;p&gt;Interesting discussion continues about data sharing and NSF’s impending policies, particularly see references on &lt;a href=&quot;http://blog.datadryad.org/2010/11/15/nsf-policy-on-dissemination-and-sharing-of-research-results/&quot;&gt;DataDryad blog&lt;/a&gt;.  Applied for and added my (Thompson-Reuters) Researcher ID to my contact info in the footer.&lt;/p&gt;
&lt;p&gt;Noam asks me today –  why is it that we reward only publications, as if the data was the easy step; and then refuse to share data, as if publication was the easy step? Neither are true but we believe both?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday: Post-predictive verification exploration; writing and figures</title>
   <link href="/2010/11/11/thursday-post-predictive-verification-exploration-writing-and-figures.html"/>
   <updated>2010-11-11T12:47:51-08:00</updated>
   <id>h/2010/11/11/thursday-post-predictive-verification-exploration-writing-and-figures</id>
   <content type="html">&lt;h3 id=&quot;on-post-predictive-verification&quot;&gt;On Post-predictive Verification&lt;/h3&gt;
&lt;p&gt;Considering the kind of post-predictive verification I was discussing with Dan on Tuesday.  Let’s start with the simple birth-death branching process.  Starting from the master equation, the linearity gives us an accurate model as a Gaussian process where the systematic van Kampen expansion gives us the Fokker Planck equation whose solution is completely specified by its first two moments:&lt;/p&gt;
&lt;p&gt;[latex]  = (- ) N \&lt;/p&gt;
&lt;p&gt; = (- ) ^2 ++ &lt;/p&gt;
&lt;p&gt;Excellent.  So the probability of N species after time t is given by a Gaussian with mean $ N_0 e^{(-)t} $ and variance&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\lambda+\mu}{\lambda-\mu} \left(e^{\alpha t} - 1\right) + N_0 e^{\alpha t}/\alpha - \gamma&quot; alt=&quot;\frac{\lambda+\mu}{\lambda-\mu} \left(e^{\alpha t} - 1\right) + N_0 e^{\alpha t}/\alpha - \gamma&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So we’re interested in the likelihood, i.e. the probability of $ P(| N) &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, for simplicity let\inline&quot;/&gt;&lt;/span&gt; = 0$ for the moment.  The expected value is just $ N = N_0 e^{t} $ so that $ = (N/N_0)/t &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Meanwhile, the maximum likelihood estimator for\inline&quot;/&gt;&lt;/span&gt;$ is the maximum of the above expression.  We can calculate this analytically in closed form,(help from wxmaxima).&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat \lambda = \log\left( \frac{\sqrt{4 N_o^4-8 N_0^3N+ 4N_0^2N^2+1}}{2N_0^2}-\frac{1}{2N_0^2} +1\right)/t&quot; alt=&quot;\hat \lambda = \log\left( \frac{\sqrt{4 N_o^4-8 N_0^3N+ 4N_0^2N^2+1}}{2N_0^2}-\frac{1}{2N_0^2} +1\right)/t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which can be rewritten in terms of $ N/N_0$.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1209/5167729654_d29bb5ff64_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.static.flickr.com/1209/5167729654_a08dc430e0_m.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Observe that this maximum likelihood value is strictly less than the expected value, i.e. solving in case $ N_0 = 1$  (need to clean chalkboard!)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{\log\left( \frac{\sqrt{4\,{N}^{2}-8\,N+5}}{2}+\frac{1}{2}\right) }{t}&quot; alt=&quot;\frac{\log\left( \frac{\sqrt{4\,{N}^{2}-8\,N+5}}{2}+\frac{1}{2}\right) }{t}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Also note though that the expected and maximum likelihood estimates agree in the reasonable limit $ N N_0&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  The analytics are presumably closed form but far less tractable with\inline&quot;/&gt;&lt;/span&gt; $ 0$. Will need to explore the extent of this possible disagreement further later…  Also have some exploratory code on this in rabosky_test.R in github.&lt;/p&gt;
&lt;h3 id=&quot;generalizing-the-codebase&quot;&gt;Generalizing the Codebase&lt;/h3&gt;
&lt;p&gt;Currently have focused on models fitted through the OUCH software.  The format of the power_between_models function in &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/ca68cfe595cc947eecd5c46beeabb2df190123ed/R/powertest.R&quot;&gt;powertest.R&lt;/a&gt; fails to generalize immediately only because ouch fits are proper fit objects that have methods like simulate and update already associated with them, and store their likelihood value in the S4 class format under object@loglik.  If the fits from geiger, etc, were modified to recognize the standard general methods, they’d work just as well in this routine.  Should certainly look into generalizing them, as it would be interesting to start applying the Monte Carlo approach to more methods.&lt;/p&gt;
&lt;h3 id=&quot;back-to-likelihood-paper&quot;&gt;Back to Likelihood paper…&lt;/h3&gt;
&lt;p&gt;Wondering if it is worth including the all-unique example.  Also should include BM vs OU.1 (has OUCH’s funny habit of the extra penalty on OU.1,  as it doesn’t estimate the root state), BM vs OU.3 (formerly OU.LP).  Adding to the manuscript simulation collection.&lt;/p&gt;
&lt;p&gt;Quick look at AIC fraction of wrong answers in the simulations under each of the following model comparisons:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4064/5168082538_060238f873_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4131/5167481715_39f6e2dc03_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4068/5167481729_d2da8faf51_o.png&quot; /&gt;
&lt;/div&gt;
&lt;pre&gt;&lt;code&gt;&amp;gt; png(&amp;quot;bm_v_ou1.png&amp;quot;)
&amp;gt; plot(bm_v_ou1, test_dist=F, shade_p=F, shade_power=F, show_aic=T, shade_aic=T, main=&amp;quot;BM v OU.1&amp;quot;)
[1] &amp;quot;AIC prefers null model&amp;quot;
[1] &amp;quot;p =  0.981 , power =  0.077&amp;quot;
&amp;gt; dev.off()
&amp;gt; png(&amp;quot;bm_v_ou3.png&amp;quot;)
&amp;gt; plot(bm_v_ouLP, test_dist=F, shade_p=F, shade_power=F, show_aic=T, shade_aic=T, main=&amp;quot;BM v OU.3&amp;quot;)
[1] &amp;quot;AIC prefers test model&amp;quot;
[1] &amp;quot;p =  0.031 , power =  0.928&amp;quot;
&amp;gt; dev.off()
&amp;gt; png(&amp;quot;ou3_v_ou4.png&amp;quot;)
&amp;gt; plot(ouLP_v_ouLP4, test_dist=F, shade_p=F, shade_power=F, show_aic=T, shade_aic=T, main=&amp;quot;OU.3 v OU.4&amp;quot;)
[1] &amp;quot;AIC prefers test model&amp;quot;
[1] &amp;quot;p =  0.257 , power =  0.427&amp;quot;
&amp;gt; dev.off()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And a look at the power in each of these cases&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1343/5167508873_26b333477a_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1316/5167508825_3ea5e92fa9_o.png&quot; /&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1330/5167508851_c21aaf354f_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The vastly over-parameterized all-diff model has convergence issues, not surprisingly…  Will probably focus on these three comparisons, moving into the power curve discussion.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>evolution statistics </title>
   <link href="/2010/11/11/phylogenetics-statistics.html"/>
   <updated>2010-11-11T00:13:49-08:00</updated>
   <id>h/2010/11/11/phylogenetics-statistics</id>
   <content type="html">&lt;p&gt;Exploring the best way for representing the Monte Carlo Likelihood approach visually, including comparison power and comparison to AIC.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4008/5165037082_109b409aa4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Blue line is AIC, dotted red line is real data.  Red line to the right of blue line indicates test model is rejecting the null model by AIC score.  Solid distribution are likelihood ratios simulated under null, dotted are simulated under test.&lt;/p&gt;
&lt;p&gt;The p-value is the integral of the null distribution lying right of the observed likelihood ratio in the real data:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;plot(pow, main=&amp;quot;&amp;quot;, legend=FALSE, type=&amp;quot;density&amp;quot;, test_dist=F, shade_power=F, shade_p=T, show_aic=FALSE, show_data=T)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4106/5166322930_27f6448297_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;As the dotted red line (real data) falls to the right of the solid blue line of difference in AIC penalties, the AIC score prefers the test model.  The fraction of the null distribution falling to the right of the AIC line indicates how often the AIC score will be wrong when comparing these two models.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;plot(pow, main=&amp;quot;&amp;quot;, legend=FALSE, type=&amp;quot;density&amp;quot;, test_dist=F, shade_power=F, shade_p=F, show_aic=T, show_data=T, shade=F, shade_aic=T)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4065/5165720991_cbc3a64df6_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The power to distinguish between models is represented as the area under the test curve that falls to the right of a point that is in the (say) 5%  tail of the null distribution, indicated by the shading:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; plot(pow, main=&amp;quot;&amp;quot;, legend=FALSE, type=&amp;quot;density&amp;quot;, test_dist=T, shade_power=T, shade_p=F, show_aic=FALSE, show_data=F)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1326/5165721021_f410c57b24_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(Reproduce figures by setting &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/commit/7f1cdf9db9e2a8980ae55f06213e9b31c74bcc45&quot;&gt;code to match this commit&lt;/a&gt;.)&lt;/p&gt;
&lt;h3 id=&quot;reading-seminar&quot;&gt;Reading Seminar&lt;/h3&gt;
&lt;p&gt;Rannala Monte Carlo today, discussing: Ané, C. et al. Bayesian estimation of concordance among gene trees. Molecular biology and evolution 24, 412-26(2007). http://www.ncbi.nlm.nih.gov/pubmed/17095535&lt;/p&gt;
&lt;p&gt;Estimate concordance in gene trees by organizing under Dirchlet process.   Interesting more flexible but less mechanistic interpretation than the species tree coalescent approaches we’ve been reading.  Started off with a great tangential discussion on yesterday’s seminar.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday - SDEs then back to phylogenetics</title>
   <link href="/2010/11/10/tuesday-sdes-then-back-to-phylogenetics.html"/>
   <updated>2010-11-10T11:17:00-08:00</updated>
   <id>h/2010/11/10/tuesday-sdes-then-back-to-phylogenetics</id>
   <content type="html">&lt;p&gt;Nice meeting with Sebastian this morning, reviewed my spectral approach problem (see anything in Stochastic Population Dynamics / warning signals in the past week) and the multivariate &lt;a href=&quot;http://www.carlboettiger.info/archives/151&quot;&gt;SDE problem Peter posed&lt;/a&gt;Oct 30th. No solutions yet but some ideas to get started.&lt;/p&gt;
&lt;p&gt;With regards the SDE problem, note that it reduces to:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_1 = B_2 d B_1&quot; alt=&quot;dX_1 = B_2 d B_1&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and note also that if this were &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_1 = B_1 d B_1&quot; alt=&quot;dX_1 = B_1 d B_1&quot; /&gt;&lt;/div&gt;&lt;/span&gt;  this would be a classic exercise in intro SDEs we can look up in Oksendal,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\int_0^t B_s dB_s = \frac{1}{2}B_t^2 - \frac{1}{2}t&quot; alt=&quot;\int_0^t B_s dB_s = \frac{1}{2}B_t^2 - \frac{1}{2}t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Which can be shown either from the definition or from the Ito formula applied to the map $ g(x) = x^2 $, see beginning of Ch. 4 in my Oksendal.  Will have to try this out on my problem later.&lt;/p&gt;
&lt;p&gt;A couple notes on the spectral analysis.  First should be some interesting-to-a-mathematician claims about convergence of these integrals on $  &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and some central-limit like result on finite time domain. Second, make sure I simulate sample paths vs simulating just the distribution accurately.  Third, take an approach from the correlation function, clear that variance is largest at the low frequencies where there&amp;#39;s less data, and this at least can be treated analytically by considering the new stochastic process\inline&quot;/&gt;&lt;/span&gt; X_t X_s $ and arguing for stationarity and solving the correlation function.  Anyway, exercises to return to after I get more writing done.&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics-figures-power-examples&quot;&gt;Phylogenetics Figures, Power examples&lt;/h3&gt;
&lt;p&gt;Working on revising this stuff today.&lt;/p&gt;
&lt;h3 id=&quot;rabosky-seminar&quot;&gt;Rabosky Seminar&lt;/h3&gt;
&lt;p&gt;(Live notes) Rabosky evolutionary radiation define as any descendant process. Spectrum: species diversity, phenotypic diversity. Why radiations differ. Focus on species richness.&lt;/p&gt;
&lt;p&gt;Part I: anoles differences Species richness vs island area (losos&amp;amp; schluter, nature 2000). Note radiations occurred within islands. Is clade age or rate diff responsible? (Assumes diversity is still increasing! ) or 3: ecological limits to richness (equib model!) Looks like a linear decrease in rate through time.&lt;/p&gt;
&lt;p&gt;First step - ancestral assignment of island. Also see maddison evolution 2006 bsse model. Rates of transition linked to state.  4 b rates, 4 d rates, 12 island transition rates. Times 2 for diff on big isl vs small isl.&lt;/p&gt;
&lt;p&gt;Fitted model prediction of richness. Exp growth predict much smaller.&lt;/p&gt;
&lt;p&gt;@me thats obv ahead of time. Uncertainty is greater w higher rate, so underestimates it. Would happen even if you simulate from the exp models.&lt;/p&gt;
&lt;p&gt;@me: we need different speciation rate models.&lt;/p&gt;
&lt;p&gt;Part II: tree of life Stim Age v diversity. Often no trend I.e. ferns, angiosperms, act. Fishes, mammals, squamates … wow! Only holds for beetles. Resolution only to families Peter points out.  @me battery dying.&lt;/p&gt;
&lt;p&gt;@me Added after seminar:&lt;/p&gt;
&lt;p&gt;Continues to compare the three models (const rate, variable rate, niche filling) in manner as before and favors niche filling.&lt;/p&gt;
&lt;p&gt;Stimulating discussion with Dan afterwards on statistical inferences based on posterior comparison of model prediction to parameters.  I believe this looks very convincing but can be deeply misleading.  Will try and write up some example of this tomorrow/soon.&lt;/p&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;p&gt;Switched photofeed to operate based on tags instead of sets (since these can be set by flickr_upload command line).&lt;/p&gt;
&lt;p&gt;Scheduling Mendeley visit for next week&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday and some phylogenetics</title>
   <link href="/2010/11/08/monday-and-some-phylogenetics.html"/>
   <updated>2010-11-08T14:33:42-08:00</updated>
   <id>h/2010/11/08/monday-and-some-phylogenetics</id>
   <content type="html">&lt;p&gt;Working on paper revisions.  Added a separate demo file just for generating the figures and analysis used in the manuscript, called &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/f9a315db7fde5f1b7d355c3efeec394c8bb053be/demos/likelihoodratio_manuscript_examples.R&quot;&gt;likelihood_manuscript.R&lt;/a&gt; Need to clean and reorganize the package files and demos.&lt;/p&gt;
&lt;p&gt;Added full species names and islands to the tip labels of the tree.  Adjusting which example paintings/regimes to include, currently focusing on the original OU.LP model (now calling it OU.3 following Brian’s recommendation for simplicity), OU.4, (originally OU.LP4) and OU.23 (originally all_diff or OU.AD).  Paintings below.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1045/5161357905_862592bae3_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;See &lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics/blob/f9a315db7fde5f1b7d355c3efeec394c8bb053be/demos/likelihoodratio_manuscript_examples.R&quot;&gt;first plot for the code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Also queued some more runs of the pairwise comparisons.  Modifying the distribution plots to show comparison to AIC and be clearer and more intuitive; more tomorrow.&lt;/p&gt;
&lt;h3 id=&quot;diversification-rates&quot;&gt;Diversification Rates&lt;/h3&gt;
&lt;p&gt;Looking into the extensions of the Monte Carlo likelihood into speciation/extinction rate calculations.  Need to first refresh myself on the likelihood calculations for the branching models.  Revisiting the literature:&lt;/p&gt;
&lt;p&gt;﻿1. Nee, S., May, R.M. &amp;amp; Harvey, P.H. The reconstructed evolutionary process. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences 344, 305-311(1994). 2. Nee, S. et al. Extinction rates can be estimated from molecular phylogenies. Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences 344, 77-82(1994). 3. Kendall, D.G. On the Generalized “Birth-and-Death” Process. Annals of Mathematical Statistics 19, 1-15(1948).&lt;/p&gt;
&lt;p&gt;and some of the gieger/laser packages.&lt;/p&gt;
&lt;h3 id=&quot;sundry-logistics&quot;&gt;Sundry Logistics&lt;/h3&gt;
&lt;p&gt;Wainwright discussion group – see &lt;a href=&quot;http://bit.ly/csyU5j&quot;&gt;paper&lt;/a&gt; and Friday’s entry.&lt;/p&gt;
&lt;p&gt;GTC Guest speaker Scott Dawson on his own research path and “teaching biologists to teach.”&lt;/p&gt;
&lt;p&gt;Note to self: I should really hit all my commits to github; flickr etc and hit the publish post on the day I do the work and not the morning after; so as not to confuse myself with the timestamps!&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Welcome to my Lab Notebook</title>
   <link href="/2010/11/07/welcome-to-my-lab-notebook.html"/>
   <updated>2010-11-07T18:50:02-08:00</updated>
   <id>h/2010/11/07/welcome-to-my-lab-notebook</id>
   <content type="html">&lt;h2 id=&quot;disclaimer-not-a-blog&quot;&gt;Disclaimer: Not a Blog&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/twid/3013680713/in/faves-cboettig/&quot;&gt;&lt;img src=&quot;http://farm4.staticflickr.com/3053/3013680713_cfcebbd403_t.jpg&quot; alt=&quot;floatright&quot; /&gt;&lt;/a&gt;Welcome to my open lab notebook. This is the active, permanent record of all my scientific research, standing in place of the traditional bound lab notebook. It is a record of ideas, and intuitions; results and mistakes. Please bear in mind that the notebook is primarily a tool for me to do science, not communicate it. I write my entries with the hope that they are intelligible to my future self; and maybe intelligible to my collaborators and experts in my field. This is not a research blog, where each entry can be read alone and understood by a general audience in an edited and polished form. ((Okay, with the exception of those items posted in my Open Notebook Science category, which is more like a blog.  These entries still include me experimenting with  methods, tools and ideas, but are written with more of an audience in mind.))&lt;/p&gt;
&lt;h2 id=&quot;philosophy-why-an-open-notebook&quot;&gt;Philosophy: Why an open notebook?&lt;/h2&gt;
&lt;p&gt;So you’ve probably noticed this lab notebook is openly accessible, you can read it online without passwords or permissions. And if you’ve read the disclaimer at the top you’ve gathered that it isn’t written for you, it’s written for me. So why is it open?  What does that mean anyway?&lt;/p&gt;
&lt;p&gt;This icon, also on the bottom of my &lt;a href=&quot;http://onsclaims.wikispaces.com&quot;&gt;&lt;img src=&quot;http://onsclaims.wikispaces.com/file/view/ons-aci2.png/61358668/ons-aci2.png&quot; alt=&quot;floatright&quot; /&gt;&lt;/a&gt; webpage indicates that I make my best effort to make all content (AC) available as I go.  Other models involve some private results or information released only after some delay.  &lt;a href=&quot;http://onsclaims.wikispaces.com&quot;&gt;These different icons&lt;/a&gt; are used across the scientific community to identify Open Notebook Science (ONS).  The other icon at the bottom of each page is the Creative Commons license.  In addition to being openly visible, anything in this notebook can be reused and reproduced under the terms of this license.&lt;/p&gt;
&lt;p&gt;Researchers have found many reasons for making their notebook open: better collaborations, greater visibility and broader impact for funding requirements, sharing detailed methods, solving the dilemma of  null results publishing, helping other scientists advance, demonstrating the viability of the idea or participation in a community of open science.   For myself, I decided to try ONS as an experiment.  As I go along, I record reflections about the experience in my notebook, so it has gotten a category alongside my scientific research topics.  Follow along and see how the experiment works out.&lt;/p&gt;
&lt;h2 id=&quot;an-integrated-notebook&quot;&gt;An Integrated Notebook&lt;/h2&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://www.carlboettiger.info/assets/files/mynotebook-300x123.png&quot; alt=&quot;floatright&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;floatright&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;In these pages you will find not only thoughts and ideas, but references to the literature I read, the codes or manuscripts I write, derivations I scribble and graphs I create.  I see my notebook as consisting not only of the entries here (in Wordpress), but the databases for articles, code and images that are embedded or linked from the notebook to external repositories. (Mendeley, Github, Flickr).&lt;/p&gt;
&lt;h4 id=&quot;lab-notebook-wordpress&quot;&gt;&lt;a href=&quot;http://www.carlboettiger.info/research/lab-notebook&quot;&gt;Lab Notebook: Wordpress&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;I make daily entries in the lab notebook using Wordpress blog support.  I describe my objectives, progress and results   The notebook documents everything I would need to repeat my analysis.  I also record my notes from seminars, feedback from meetings, and outlines for talks and manuscripts.  My codes, my figures and the literature with my notes are all stored in external repositories and linked into my daily entries, keeping entries complete but compact.  The notebook supports links, reader comments, tags, timestamps, and full text search.&lt;/p&gt;
&lt;h4 id=&quot;literature-database-mendeley&quot;&gt;&lt;a href=&quot;http://www.mendeley.com/profiles/carl-boettiger/&quot;&gt;Literature Database: Mendeley&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Whenever I read an article, I add the pdf to my Mendeley collection, a reference database.  Within the database I can add comments and notation to the article, and use it to insert citations to articles into my daily notebook entries.   I can also share the annotations with collaborators, who can add their own comments and also add articles I should be aware of to the collection.&lt;/p&gt;
&lt;h4 id=&quot;code-database-github&quot;&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;Code database: Github&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;My actual work more often involves writing software, exploring simulations, performing data analysis or writing manuscripts or presentations – i.e. writing and revising text/code.  These changes are committed to Github with a comment in the log summarizing the update.  Despite continual revisions, the snapshot of any code or revision from any day can be recovered by the link directly from the lab notebook.&lt;/p&gt;
&lt;h4 id=&quot;image-database-flickr&quot;&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/collections/&quot;&gt;Image Database: Flickr&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Some kind of graphs or figures are the most common output of any code or exploration I do.  For calculations which I’ve worked out on a chalkboard or scratch paper it’s much faster to photograph than to type.  Any  simulation or analysis I run automatically adds the resulting figures with appropriate tags and description to my Flickr database.  The description points to the version of the code (on Github) that can reproduce it.  I can then embed particular results individually into a daily entry or add complete sets of images using a scrolling gallery.&lt;/p&gt;
&lt;h2 id=&quot;organization-navigation&quot;&gt;Organization &amp;amp; Navigation&lt;/h2&gt;
&lt;p&gt;Clicking on Lab Notebook on the top menu bar displays of my most recent notebook entries.  Each entry is given assigned a category corresponding to the research project (currently Comparative Phylogenetics, Stochastic Population Dynamics, and Adaptive Dynamics), or  entry type (my Teaching journal, Open Notebook Science thoughts and tools, notes from Seminars.)&lt;/p&gt;
&lt;p&gt;The footer of my webpage provides the navigation controls.  The calendar links to all entries on a selected date.  There’s also a category tree and full search. Entries also have tags.&lt;/p&gt;
&lt;p&gt;All of the other databases reflect the project categories: My Flickr tags (“&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/phylogenetics/&quot;&gt;phylogenetics&lt;/a&gt;”, “&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/stochpop/&quot;&gt;stochpop&lt;/a&gt;” and “&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/adaptivedynamics/&quot;&gt;adaptivedynamics&lt;/a&gt;”), Mendeley Public groups (“&lt;a href=&quot;http://www.mendeley.com/groups/529971/phylogenetic-methods/&quot;&gt;Phylogenetic Methods&lt;/a&gt;”, “&lt;a href=&quot;http://www.mendeley.com/groups/634301/theoretical-ecology/&quot;&gt;Theoretical Ecology&lt;/a&gt;”, and “&lt;a href=&quot;http://www.mendeley.com/groups/529981/adaptive-dynamics/&quot;&gt;Adaptive Dynamics&lt;/a&gt;”), and Github repositories (&lt;a href=&quot;https://github.com/cboettig/Comparative-Phylogenetics&quot;&gt;&amp;quot;Comparative-Phylogenetic&lt;/a&gt;s&amp;quot; and &lt;a href=&quot;https://github.com/cboettig/structured-populations&quot;&gt;&amp;quot;structured-populations&lt;/a&gt;“,”&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics&quot;&gt;AdapitveDynamics&lt;/a&gt;&amp;quot;).  The articles, images, or code in each database have stable urls to link to, and each database provides additional tags/groups/repositories for finer categorization, as well as search capability.&lt;/p&gt;
&lt;h2 id=&quot;the-social-lab-notebook&quot;&gt;The Social Lab Notebook&lt;/h2&gt;
&lt;p&gt;The services I integrate into &lt;img src=&quot;http://www.carlboettiger.info/assets/files/social.png&quot; alt=&quot;floatright&quot; /&gt; my notebook aren’t just relational databases.  They are also all social networking platforms built around a particular type of data (blog entries, publications, images, code). All have RSS feeds that let them live-update each other.  All (except Wordpress) have a notion of contacts and social graph.&lt;/p&gt;
&lt;p&gt;All have mobile applications,  a developer API so anyone can extend them, a large user base, and provide a cost-free service.  In addition to integrating with the notebook, they provide their own sophisticated interface to their content.&lt;/p&gt;
&lt;p&gt;At the hazard of coining a new acronym, I consider this makes it a “Social Lab Notebook.”  An Electronic Lab Notebook brings many advantages over its paper predecessors.  I feel that making it an Open Lab Notebook adds to this the potential benefits of Open Science, while a Social Lab Notebook leverages these  content-driven social networks to help achieve them.&lt;/p&gt;
&lt;p&gt;Without additional effort, I simultaneously contribute to the rapidly growing database of curated literature, reusable scientific images and a repository of open-source scientific code.  These objects rub shoulders with similar content in these broad-use databases, where they are more discoverable and reusable.  &lt;a href=&quot;http://blog.jonudell.net/2007/07/02/data-finds-data-then-people-find-people/&quot;&gt;Data finds data, then people find people&lt;/a&gt;.  As more scientists use these tools, the more powerful they become.&lt;/p&gt;
&lt;h2 id=&quot;a-bit-of-history&quot;&gt;A bit of history&lt;/h2&gt;
&lt;p&gt;I originally became interested in the concept of Open Notebook Science through reading about the open notebook of &lt;a href=&quot;http://cameronneylon.net/&quot;&gt;Cameron Neylon&lt;/a&gt;, and later also the groups of J&lt;a href=&quot;http://usefulchem.blogspot.com/&quot;&gt;ean-Claude Bradley&lt;/a&gt; and&lt;a href=&quot;http://openwetware.org/wiki/User:Skoch3&quot;&gt;Steve Koch&lt;/a&gt;. I was later &lt;a href=&quot;http://sciencecareers.sciencemag.org/career_magazine/previous_issues/articles/2010_04_09/caredit.a1000036&quot;&gt;featured in Science Careers&lt;/a&gt; for a piece on open notebook science.&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://www.carlboettiger.info/assets/files/OWWEmblem.png&quot; alt=&quot;floatright&quot; /&gt; I began my experiment in ONS on the wiki-based platform &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger&quot;&gt;OpenWetWare&lt;/a&gt;.   With a tool to create a notebook template and an established community of researchers with such notebooks (also sharing course content, experimental protocols, lab webpages, etc) it provided an excellent introduction.  I was swiftly contacted by established PIs offering encouragement, advice and even collaboration.  My original notebooks remain there, with future entries connected from this site automatically through the Category feed.  Limitations in my ability to customize, control and extend OWW mediawiki platform have led me to migrate to my own independently hosted site and domain here.&lt;/p&gt;
&lt;h2 id=&quot;other-resources&quot;&gt;Other resources&lt;/h2&gt;
&lt;p&gt;Many others have assembled excellent collections, advice and resources on ONS.  I only point in the way of several that most influence me.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://friendfeed.com/science-2-0&quot;&gt;FriendFeed’s (FF) Science2.0&lt;/a&gt;:  I believe this is still the best place to ask a question about ONS, and its popular threads cover the major questions and latest news in the practice.  Most of the visionaries and experts in Open Science and online tools for science can be found here.  Thanks to so many of you there (and on FF Life Sciences) who have helped me along!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hmm, I don’t seem to be able to think of anything that wasn’t also discussed on FF.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Friday: Evolution reading, writing</title>
   <link href="/2010/11/05/friday-evolution-reading-writing.html"/>
   <updated>2010-11-05T11:21:35-07:00</updated>
   <id>h/2010/11/05/friday-evolution-reading-writing</id>
   <content type="html">&lt;p&gt;Read through the article for Monday’s PBG270, &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20090752&quot;&gt;a 2009 Nature paper&lt;/a&gt;from the Plotkin lab on mutational robustness and the rate of evolution.  They consider an interesting little setup.  Start with a Moran model (individual born, may mutate, choses who to replace at random), but allow the following mutational structure (landscape).  Of P possible genotypes, each can only move to one of K neighbors by a single mutation.  Call the genotype(s) of optimal fitness C.  Call all those genotypes that have C as a neighbor (can reach in one mutation) B.  All other genotypes that have the same phenotype as B but different K neighbors genotype A.  q is the probability that the mutation changes the genotype but not the phenotype; a measure of robustness.&lt;/p&gt;
&lt;p&gt;I sketch out the possible outcomes described in the paper, to get a sense of why intermediate values of K/P are optimal.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.static.flickr.com/4011/5149250606_fbda9c83be_b.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Some things just need a white board.  Group discussion on paper Monday.&lt;/p&gt;
&lt;h3 id=&quot;phylogenetics-reading&quot;&gt;Phylogenetics Reading&lt;/h3&gt;
&lt;p&gt;Our Friday Phylogenetics discussion group is converging more and more with Wednesday Monte Carlo with Bruce Rannala. Last week Weds we discussed with Rannala we focused on species tree with the example from BEST: ﻿Liu, L. et al. &lt;em&gt;Coalescent methods for estimating phylogenetic trees. Molecular phylogenetics and evolution&lt;/em&gt; 53, 320-8(2009).&lt;/p&gt;
&lt;p&gt;And that Friday in PDG discussed their eariler paper, where BEST relied on running Mr Bayes separately first, ﻿Edwards, S.V., Liu, L. &amp;amp; Pearl, D.K. &lt;em&gt;High-resolution species trees without concatenation.&lt;/em&gt; Proceedings of the National Academy of Sciences of the United States of America 104, 5936-41(2007).&lt;/p&gt;
&lt;p&gt;This week we moved in Rannala Monte Carlo we ventured into horizontal gene transfer with ﻿Linz, S., Radtke, A. &amp;amp; Haeseler, A. von &lt;em&gt;A likelihood framework to measure horizontal gene transfer.&lt;/em&gt; Molecular biology and evolution 24, 1312-9(2007).&lt;/p&gt;
&lt;p&gt;and continued in PDG along the species-tree literature with the improved performance of star-beast: ﻿Heled, J. &amp;amp; Drummond, A.J. B_ayesian inference of species trees from multilocus data. _Molecular biology and evolution 27, 570-80(2010).&lt;/p&gt;
&lt;p&gt;Monte Carlo will continue with the BUCKy paper&lt;/p&gt;
&lt;p&gt;﻿1. Ané, C. et al. Bayesian estimation of concordance among gene trees. Molecular biology and evolution 24, 412-26(2007).&lt;/p&gt;
&lt;p&gt;Seems the software announcement has paper has only just come out in PLoS Comp. Bio this week? :&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Larget, B.R. et al. BUCKy: Gene tree/species tree reconciliation with Bayesian concordance analysis. PLoS computational biology 26, 2910-2911(2010).﻿&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;In the Wainwright lunch today we also touched upon the recent Sys Biol papers, primarily in reference to diversification rates﻿﻿, ﻿1. Rabosky, D.L. Primary Controls on Species Richness in Higher Taxa. Systematic biology 59, 634-645(2010). 2. Rabosky, D.L. &amp;amp; Alfaro, M.E. Evolutionary Bangs and Whimpers: Methodological Advances and Conceptual Frameworks for Studying Exceptional Diversification. Systematic biology 59, 615-618(2010). 3. Fitzjohn, R.G. Quantitative Traits and Diversification. Systematic biology 59, 619-633(2010).&lt;/p&gt;
&lt;p&gt;Most of my notes on the articles are filed with the actual pdfs through Mendeley.  Writing here gives me a freedom to interweave how the narrative behind how the papers find my way into my library though.  Still figuring out documenting workflow around literature and talks.&lt;/p&gt;
&lt;p&gt;Too many meetings, not enough writing…&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2010/11/05/thursday.html"/>
   <updated>2010-11-05T11:08:32-07:00</updated>
   <id>h/2010/11/05/thursday</id>
   <content type="html">&lt;p&gt;Wrote yesterday’s entry on power spectral analysis difficulties from yesterday.  Why don’t I remember my physics training better?  Bialek’s Phy562 notes still very helpful.  No one else seems to write about this stuff clearly enough for me.  Including me. 8a-11a&lt;/p&gt;
&lt;p&gt;Catching up on reading.  Good news and discussion items in Nature on publishing code and review materials, excellent piece on climate change scientists engaging media, climate high performance computing in Brazil; etc see headlines and links in my &lt;a href=&quot;http://twapperkeeper.com/person/cboettig&quot;&gt;twitter feed archive&lt;/a&gt; for today. 11-12:30.  A few good articles, see the Mendeley collections.&lt;/p&gt;
&lt;p&gt;Phylogenetics likelihood manuscript revisions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Reorganize methods section&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adjust the models presented, include correct tree diagrams.  Rename models.  Present: BM, OU1, All Diff, Four Clades, OU.LP?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Power analysis rewrite, connection to non-nested models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Revisit phylogenetics signal part, play to larger audience than the island.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bayesian methods nod&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Continuing, 5-7. Model comparison section: write background on painting and broader relevance.&lt;/p&gt;
&lt;p&gt;Meeting with Alan, 2.&lt;/p&gt;
&lt;p&gt;Examples: Ground fish fisheries.  Epidemiology with vaccine forcing.  Drake data.  Scheffer data sets.&lt;/p&gt;
&lt;p&gt;EVE seminar, 4. Interesting talk og going into intervention instead of simply conservation. Some key points and links in twitter archive.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Getting the details right on the Fourier Transform approach to likelihood</title>
   <link href="/2010/11/03/getting-the-details-right-on-the-fourier-transform-approach-to-likelihood.html"/>
   <updated>2010-11-03T09:28:39-07:00</updated>
   <id>h/2010/11/03/getting-the-details-right-on-the-fourier-transform-approach-to-likelihood</id>
   <content type="html">&lt;p&gt;Recall that we consider the power spectrum of some measurable fluctuating quantity x(t), defined as&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?y(\omega) = \int_0^T dt e^{i\omega t} x(t)&quot; alt=&quot;y(\omega) = \int_0^T dt e^{i\omega t} x(t)&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S(\omega) = \lim_{T \to \infty} \frac{1}{2\pi T} \left| y(\omega)\right|^2&quot; alt=&quot;S(\omega) = \lim_{T \to \infty} \frac{1}{2\pi T} \left| y(\omega)\right|^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A little work can show is equal to the Fourier transform of the autocorrelation function, $ x(t) x(t’) = C(t-t’) $.&lt;/p&gt;
&lt;p&gt;We evaluate the correlation function of their Fourier transform (note $ x () $ is really $ x()$, the new transformed variable, I’ve dropped the tilde only out of laziness):&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle x(\omega) x(\omega&amp;#39;) \rangle = \langle \int dt e^{i\omega t} x(t) \int dt&amp;#39; e^{i\omega&amp;#39; t&amp;#39;} x(t&amp;#39;) \rangle&quot; alt=&quot;\langle x(\omega) x(\omega&amp;#39;) \rangle = \langle \int dt e^{i\omega t} x(t) \int dt&amp;#39; e^{i\omega&amp;#39; t&amp;#39;} x(t&amp;#39;) \rangle&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Bringing the expectation inside (by linearity) &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\int dt \int dt&amp;#39; e^{i(\omega t+\omega&amp;#39; t&amp;#39;)}  \langle x(t)  x(t&amp;#39;) \rangle&quot; alt=&quot;\int dt \int dt&amp;#39; e^{i(\omega t+\omega&amp;#39; t&amp;#39;)}  \langle x(t)  x(t&amp;#39;) \rangle&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Defining $ = t-t’&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, using the definition of the correlation function we have\inline&quot;/&gt;&lt;/span&gt;$ dt e^{i (+‘) t’} d e^{-i ’ } C() $$&lt;/p&gt;
&lt;p&gt;And we see that the $ t $ integral is the (two pi times the) delta function, hence&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle x(\omega) x(\omega&amp;#39;) \rangle = 2 \pi  \delta (\omega + \omega&amp;#39;) \int d \tau e^{i \omega \tau}  C(\tau)&quot; alt=&quot;\langle x(\omega) x(\omega&amp;#39;) \rangle = 2 \pi  \delta (\omega + \omega&amp;#39;) \int d \tau e^{i \omega \tau}  C(\tau)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that in the last step we use the fact that delta fn is zero except where $ = -’&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, and we _define_ this last integral as the Power spectrum,\inline&quot;/&gt;&lt;/span&gt; S()&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.   Noting that as it is complex,\inline&quot;/&gt;&lt;/span&gt; x(-) = x(^*) $, so&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle x(\omega) x^*(\omega&amp;#39; ) \rangle = 2\pi  \delta(\omega -\omega&amp;#39;) S(\omega)&quot; alt=&quot;\langle x(\omega) x^*(\omega&amp;#39; ) \rangle = 2\pi  \delta(\omega -\omega&amp;#39;) S(\omega)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;or at $ = -$, we have as claimed:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle x(\omega) x^*(\omega) \rangle = 2\pi S(\omega)&quot; alt=&quot;\langle x(\omega) x^*(\omega) \rangle = 2\pi S(\omega)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Which is known as the Weiner Khinchine theorem.  Time averaging over the stationary distribution instead of averaging across replicates gets us the above version.  Getting this to work in the code has been less than successful.&lt;/p&gt;
&lt;h3 id=&quot;a-canonical-example-our-ou-process-case&quot;&gt;A canonical example: our OU process case&lt;/h3&gt;
&lt;p&gt;For the OU process, we can write down the correlation function of the stationary distribution (or even the time-dependent solution if we wanted) directly from an application of the the Ito calculus, (see &lt;a href=&quot;http://en.wikipedia.org/wiki/Ornstein%E2%80%93Uhlenbeck_process&quot;&gt;OU solution&lt;/a&gt;),&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C(\tau) = \frac{\sigma^2}{2\alpha} e^{-\alpha |\tau|}&quot; alt=&quot;C(\tau) = \frac{\sigma^2}{2\alpha} e^{-\alpha |\tau|}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;,&lt;/p&gt;
&lt;p&gt;We can compute the Fourier transform of this analytic solution by hand, and recover the Lorentzian curve,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?S(\omega) = \frac{\sigma^2}{\alpha^2 +\omega^2}&quot; alt=&quot;S(\omega) = \frac{\sigma^2}{\alpha^2 +\omega^2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;troubles&quot;&gt;Troubles&lt;/h3&gt;
&lt;p&gt;I seem to be having difficulty demonstrating this in the simulation.:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1217/5147048292_e0ae6277f8_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Several practical concerns and options:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Accurate simulation of the OU process.  As we know the solution, this can be simulated exactly.  I’ve explored simulating it through simple Euler, the exact simulation, the analagous discrete time AR(1) process, and the general Milstein regime from the SDE R package.  Some differences, particularly visible in Euler vs exact, in the power spectrum, but neither lining up perfectly with the theoretical curve above.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discussion of normalization.  The above Lorentzian is not normalized to integrate to unity, actually equals $ ^2/ $.  However this should reflect the actual power calculated from the system above.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Discretization concerns.  Long enough T, small enough dt, N, normalizing, rescaling, averaging, Nyquist frequency.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fourier definition concerns.   The definition can differ by a factor of 2 pi between physics and engineers.  Further, getting the units of the x-axis correct to line up frequencies with the correct components of the transform is crucial.  As a quick check I confirm that the fft of a sine function gives me the peak at the angular frequency I expect:&lt;/p&gt;
&lt;p&gt;n&amp;lt;- 2^10 dt&amp;lt;-1/8 t &amp;lt;- seq(0,dt&lt;em&gt;(n-1), by=dt) X &amp;lt;- sin(5&lt;/em&gt;t) + rnorm(n, .01) pwr &amp;lt;- abs(fft(dt&lt;em&gt;X))^2/(2&lt;/em&gt;pi&lt;em&gt;dt&lt;/em&gt;n) nyquist&amp;lt;-1/(2&lt;em&gt;dt) # half the sampling frequency w &amp;lt;- nyquist&lt;/em&gt;seq(0, 2*pi, length=n/2) plot(w, pwr[1:(n/2)], type=“l”) abline(v=5, col=“red”, lty=3)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1087/5145846483_e6f06c73f4_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Anyway, still in the troubleshooting process, trying to keep exploration documented in the version commits of power_spec.R, so s&lt;a href=&quot;https://github.com/cboettig/structured-populations/blob/6d8ce276363419a06b824ad984c6f78f5c4cfc2d/demos/power_spec.R&quot;&gt;ee code and commit log.&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;some-other-notes&quot;&gt;Some other notes&lt;/h3&gt;
&lt;p&gt;If we define the Power spectrum as the transform of $ C()$, then the inverse transform gives us (in Physics convention for Fourier)&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?C(\tau) := \langle x(t) x(t&amp;#39;) \rangle = \int_{-\inf}^{\inf}  \frac{d \omega}{2 \pi} e^{-i \omega (t-t&amp;#39;)} S(\omega)&quot; alt=&quot;C(\tau) := \langle x(t) x(t&amp;#39;) \rangle = \int_{-\inf}^{\inf}  \frac{d \omega}{2 \pi} e^{-i \omega (t-t&amp;#39;)} S(\omega)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and setting $ t = t’$ we have&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle [x(t) ]^2 \rangle = \int_{-\infty}^{\infty}  \frac{d \omega}{2 \pi} S(\omega)&quot; alt=&quot;\langle [x(t) ]^2 \rangle = \int_{-\infty}^{\infty}  \frac{d \omega}{2 \pi} S(\omega)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Now if x(t) is Gaussian process, we can look at the transform of the errors. We note the transform of the Gaussian is Gaussian, taking the function that is normally distributed in x with variance $ ^2$ to one normally distributed in $ $ with variance $  /^3 $.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Reviews, organization, rewrites</title>
   <link href="/2010/11/02/reviews-organization-rewrites.html"/>
   <updated>2010-11-02T22:20:18-07:00</updated>
   <id>h/2010/11/02/reviews-organization-rewrites</id>
   <content type="html">&lt;p&gt;Today’s a mixed bag of activities. Finished a journal review, comments confidential, recorded in my reviewed papers archive.  I then organized documents library (more below) and then back to paper revisions.&lt;/p&gt;
&lt;p&gt;The reference manager software Mendeley recently upgraded the way it handles groups and sharing, and I’ve been waiting to revise how it impacts my workflow around articles.  Articles can be organized into folders (collections) or kept unsorted within the library,  and can be part of as multiple collections.  Completely independent of this organization, articles can also be added to groups.  Articles added only to a group are still considered unsorted in terms of collections.  Groups can be public or private.  Public groups can have members and followers, and can be moderated or open.   I sort papers by the broad topics I am interested in. The challenge here is to find topics narrow enough to be useful but broad enough that articles can be easily classified, neither falling between the gaps or  falling into too many categories.  In this way, my organizational scheme reflects the use of categories in my lab notebook.  Unfortunately, while I have the option of tags, I do not have the option of sub-categories.  Further, it is harder to browse one’s list of tags in Mendeley than here in Wordpress.  Also, the categories I read extend somewhat beyond the categories I normally work in.  How many categories are useful?&lt;/p&gt;
&lt;p&gt;Here’s how I’ve chosen to break it down so far:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;**&lt;a href=&quot;http://www.mendeley.com/groups/529971/phylogenetic-methods/&quot;&gt;Phylogenetic Methods&lt;/a&gt; **– anything I’m reading pertaining to phylogenetic methods development and application.  This focuses primarily on comparative methods, primarily in continuous traits.  But this also includes comparative methods in discrete traits, rates of diversification (branching), inferring phylogenies from DNA data, and inferring divergence times from phylogenies.    I’ve pulled some highlights from this focus into a separate group (below).  A separate but related alternative might be an adaptive radiations list, which would stretch beyond phylogenetic literature as well.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A special focus subset of my phylogenetics collection focuses on those examples that show &lt;a href=&quot;http://www.mendeley.com/groups/541741/evolutionary-regime-shifts/&quot;&gt;&lt;strong&gt;evolutionary regime shifts&lt;/strong&gt;&lt;/a&gt; – again, primarily in continuous traits (methods like Brownie or OUCH), but also in diversification/branching.  Represents most of my personal focus out of the broader above category.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/634301/theoretical-ecology/&quot;&gt;&lt;strong&gt;Theoretical Ecology&lt;/strong&gt;&lt;/a&gt;.  Articles on theoretical ecology and modeling. The public list is a kind of best-of subset drawn from all of the theoretical ecology literature in my collection. Dominant themes include persistence and coexistence results, stochasticity, and population-level dynamics. The list is significantly biased to my own focus and interest rather than a more broad view.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/530001/early-warning-signs/&quot;&gt;&lt;strong&gt;Early Warning Signs&lt;/strong&gt;&lt;/a&gt; is another collection and public group.  Properly a subset of theoretical ecology, just as regime shifts are a subset of Phylogenetics.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/530051/math-methods-and-model-inference/&quot;&gt;&lt;strong&gt;Math Methods and Model Inference&lt;/strong&gt;&lt;/a&gt; is a collection of papers on some of the methods central to my research.  Currently the collection has two major themes – stochastic processes theory and approximations following Thomas Kurtz, van Kampen and others, and likelihood and Bayesian inference of models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/530011/education/&quot;&gt;&lt;strong&gt;Education&lt;/strong&gt;&lt;/a&gt; Research papers on effective teaching methods, with focus on science education and active learning.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/530031/future-of-science/&quot;&gt;&lt;strong&gt;Future of Science&lt;/strong&gt;&lt;/a&gt; Articles on the process of science, with emphasis on Open Science, Open Access, Open Source, Science2.0, collaborative research, large databases, reproducible results, and high-performance computing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Before the update, I simply curated my collection and it generated a feed.  Some of the articles fell outside the original definitions I’d set for the collections, phylogenetic comparative methods becoming all phylogenetic methods, and stochastic population dynamics becoming pretty much anything in theoretical ecology, though both reflecting primarily their original titles.  Now I find myself curating both the public groups and the list.  In some ways this is good, since I can have a lower threshold to add something to my own list then to a public collection.&lt;/p&gt;
&lt;p&gt;There are some challenges to keeping both lists updated.  When I select an article, I can immediately see which collections it’s in due to the highlighting of the labels, but not which groups it has been included in.  It seems a group is an independent copy of the article with its own timestamp, etc, and edits to the metadata of one do not impact the other.  In some ways this is good – allows private copy and a public copy of notes on the article.  But in tracking it is annoying that the objects are not the same and I cannot easily check if an article in a collection is in a group or vice versa.  Another challenge is that duplicates aren’t removed automatically, either in groups or collections.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Short note: Trait diversification rates controlled by other traits</title>
   <link href="/2010/10/30/short-note-trait-diversification-rates-controlled-by-other-traits.html"/>
   <updated>2010-10-30T00:00:00-07:00</updated>
   <id>h/2010/10/30/short-note-trait-diversification-rates-controlled-by-other-traits</id>
   <content type="html">&lt;p&gt;Peter posed an interesting question to me this afternoon: can we infer a model in which the rate of evolution in one trait (say, its Brownian diversification rate parameter) depends on the value of another trait (say, linearly and assume the other trait depends on Brownian motion). Without all those assumptions we write this generally as:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = f_x(X_t, Y_t) dt + \sigma_x(X_t, Y_t) d W_t&quot; alt=&quot;dX_t = f_x(X_t, Y_t) dt + \sigma_x(X_t, Y_t) d W_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dY_t = f_y(Y_t) dt + \sigma_y(Y_t) d W_t&quot; alt=&quot;dY_t = f_y(Y_t) dt + \sigma_y(Y_t) d W_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; (subscripts do not imply derivatives in my notation)&lt;/p&gt;
&lt;p&gt;Adding the assumptions: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t =  \sigma_x \sigma_y Y_t d W_t&quot; alt=&quot;dX_t =  \sigma_x \sigma_y Y_t d W_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt; &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dY_t = \sigma_y d W_t&quot; alt=&quot;dY_t = \sigma_y d W_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;I believe this is non-linear, hence the distribution of trait values is not Gaussian. Perhaps this should be obvious,  but late on a Friday let’s simulate &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/a27d60618f116fa167e15a077abaf54fb88fd258/demos/peters_Q.R&quot;&gt;(see code&lt;/a&gt;), and just look at the QQ-plot: &lt;img src=&quot;http://farm2.staticflickr.com/1406/5127610208_edb73d6483_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;This means the distribution of trait values on the tree under the model will not be multivariate normal, unlike the case for all other nicer models we’ve considered. I thought a transformation might save this, but I’m unfamiliar with multidimensional Lamperti transform and haven’t come across any good coverage of it, either on the web or in Oksendal or Iacus. Anyone?&lt;/p&gt;
&lt;p&gt;–Added note:  Yes, this is obvious.  as this is the product of two Gaussian processes, it is not Gaussian.  Still, looks simple enough to have a closed form solution…&lt;/p&gt;
&lt;h3 id=&quot;a-related-one-dimensional-model&quot;&gt;A related one-dimensional model&lt;/h3&gt;
&lt;p&gt;In one dimension we can have a trait value which influences its own rate of diversification:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = f(X_t) dt + \sigma(X_t) dW&quot; alt=&quot;dX_t = f(X_t) dt + \sigma(X_t) dW&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;And by applying a rarely discussed method known as the Lamperti transform, turn this into a linear function in a new variable:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?Y = \int_z^X \frac{1}{\sigma(u)} du&quot; alt=&quot;Y = \int_z^X \frac{1}{\sigma(u)} du&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then by Ito formula we find the Lamperti transform: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dY = \left( \frac{f(X_t)}{\sigma(X_t)} - \frac{1}{2} \partial_x \sigma(X_t) \right) dt + dW_t&quot; alt=&quot;dY = \left( \frac{f(X_t)}{\sigma(X_t)} - \frac{1}{2} \partial_x \sigma(X_t) \right) dt + dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>A new twist on the approach</title>
   <link href="/2010/10/28/a-new-twist-on-the-approach.html"/>
   <updated>2010-10-28T09:08:25-07:00</updated>
   <id>h/2010/10/28/a-new-twist-on-the-approach</id>
   <content type="html">&lt;p&gt;Matching the warning signal to different SDE models couldn’t retain the simplicity and generality needed, so I intend to work on the transformed data instead. Taking the power spectrum of the data, we have a new curve fitting problem:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.static.flickr.com/4020/5123075213_8d9dc10e28_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/e5794f83ad48e91297fc02584bd27272ced7ed62/demos/power_spec.R&quot;&gt;Code&lt;/a&gt;).  This can be turned into a linear curve fitting problem by taking the log of the inverse Fourrier transform, then the slope is our stability parameter.  Can we do this estimation by likelihood instead of least-squares?  What is the error model of scatter around the Lorentzian anyway?  Does this loose the temporal information of a changing rate for that parameter?&lt;/p&gt;
&lt;p&gt;Today’s goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Get the inverse fft matching the theory&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compute likelihoods on the transformed data?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare between stationary and non-stationary models&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The big challenge: how do I define a likelihood function on the transformed data?  Is this even possible??&lt;/p&gt;
&lt;h3 id=&quot;victory-or-maybe-half-victory&quot;&gt;Victory!  (or maybe half victory)&lt;/h3&gt;
&lt;p&gt;So after some discussion with my brother, Alistair Boettiger: yes – it is possible to fit by likelihood: Imagine transforming the entire distribution of outcomes (ensemble) into a power spectrum. This creates a “fuzzy” power spectrum, with deviations from that expected by the model. A couple useful observations let us determine that distribution:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The mean of that distribution (fuzzy Lorentzian) is the expected power spectrum of the model; so given a candidate model we can easily subtract this out.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The errors are normally distributed.  This follows because &lt;strong&gt;(a)&lt;/strong&gt; the distribution of the original model was normal (exactly true for our linear SDEs / Fokker-Planck models, otherwise by linear noise approximation they are close to Gaussian); &lt;strong&gt;(b)&lt;/strong&gt; the Fourier transform is linear; and &lt;strong&gt;(c)&lt;/strong&gt; the Fourier transform of the Gaussian is Gaussian.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This is otherwise known as &lt;em&gt;great news!&lt;/em&gt; The exact form I probably cannot write from parameters of the model, but will allow that error to be an extra parameter – giving us the two Lorentzian shape parameters (height and width, will fix position around zero as we’re not interested in regular oscillations) and the error term.  From this the likelihood is then easy to estimate from data as seen above.&lt;/p&gt;
&lt;h5 id=&quot;err-almost.&quot;&gt;Err… Almost.&lt;/h5&gt;
&lt;p&gt;  The above graph clearly doesn’t seem to show normal scatter about the curve.  Also, the power spectrum takes the (norm of the) square of the  FFT, so we have:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\left| (f(w) + N(w))^2 \right| = \left| f(w)^2 + 2f(w)N(w) +N(w)^2 \right|&quot; alt=&quot;\left| (f(w) + N(w))^2 \right| = \left| f(w)^2 + 2f(w)N(w) +N(w)^2 \right|&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?| latex f(w)^2 |\inline&quot;/&gt;&lt;/span&gt; is the Lornetzian and $ N(w)$ the normal random variate.  That is, an error that looks like&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\left| 2 f(w)\right| \left| N(w)\right| +N(w)^2&quot; alt=&quot;\left| 2 f(w)\right| \left| N(w)\right| +N(w)^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;So the error does depend on the mean, just as it appears. Note that for the complex-valued function &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?| f(x) ^2 | = |f(x)|^2&quot; alt=&quot;| f(x) ^2 | = |f(x)|^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt; so $ |f(x)| $ is the square root of the Lorentzian signal, $ |f(x)|^2 $&lt;/p&gt;
&lt;p&gt;Calling the power in the data $ P(x) $ and the variance of the normal be $ ^2$ and the unit normal $ Z$, we have:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?(P(w) - |f(x)|^2 - \sigma^2)/(2\sigma) =  f(w) \left| Z \right| +Z^2&quot; alt=&quot;(P(w) - |f(x)|^2 - \sigma^2)/(2\sigma) =  f(w) \left| Z \right| +Z^2&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;hmm.. perhaps better to simply estimate the probability density directly from the first equation specifying the PDF(w). In any event, reduces to a nice likelihood calculation I should be able to implement in the code soon.&lt;/p&gt;
&lt;h3 id=&quot;next-up-the-rate-changing-model&quot;&gt;Next up: the rate-changing model&lt;/h3&gt;
&lt;p&gt;The remaining challenge is to understand how deviations in the model, particularly various loss of stability processes, impact this fitting, and how to frame the alternative model.  Presumably it is not also Lorentzian.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Red Noise (aside exercise)</title>
   <link href="/2010/10/28/red-noise-aside-exercise.html"/>
   <updated>2010-10-28T00:00:00-07:00</updated>
   <id>h/2010/10/28/red-noise-aside-exercise</id>
   <content type="html">&lt;p&gt;Consider the first-order autoregressive process: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?X_{t+1} = \rho X_t + \sqrt{1-\rho^2}Z_t&quot; alt=&quot;X_{t+1} = \rho X_t + \sqrt{1-\rho^2}Z_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Why the funny term at the end? This comes from normalizing the variance,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \begin{multline} E( (\rho X_t + \sqrt{1-\rho^2} Z_t)^2 )  =  \\
E (\rho^2 X_t^2)  + E(2 \rho X_t  \sqrt{1-\rho^2})  Z_t )  + \\
E( X_t^2 Z_t^2 (1-\rho^2) ) \end{multline}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;by independence:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?= \rho^2  E(X_t^2)  + 2 \rho \sqrt{1-\rho^2}  E( X_t ) E( Z_t )  + E( X_t^2)  E(Z_t^2) (1-\rho^2)&quot; alt=&quot;= \rho^2  E(X_t^2)  + 2 \rho \sqrt{1-\rho^2}  E( X_t ) E( Z_t )  + E( X_t^2)  E(Z_t^2) (1-\rho^2)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and as &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(Z_t) = 0\inline&quot;/&gt;&lt;/span&gt; and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(Z_t^2) = 1\inline&quot;/&gt;&lt;/span&gt; then&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?= \rho^2  E(X_t^2)  +   E( X_t^2)  \sigma^2 (1-\rho^2) = E(X_t^2)&quot; alt=&quot;= \rho^2  E(X_t^2)  +   E( X_t^2)  \sigma^2 (1-\rho^2) = E(X_t^2)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and the variance is stationary, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E((X_{t+1})^2) = E((X_{t})^2)\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A nice exercise connects this to the continuous time result,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX = -\gamma X dt + dW&quot; alt=&quot;dX = -\gamma X dt + dW&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where the variance is again reduced by the correlation coefficient, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?E(X^2) = 1/(2\gamma)\inline&quot;/&gt;&lt;/span&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals -- Where are we now?</title>
   <link href="/2010/10/27/warning-signals-where-are-we-now.html"/>
   <updated>2010-10-27T09:00:48-07:00</updated>
   <id>h/2010/10/27/warning-signals-where-are-we-now</id>
   <content type="html">&lt;p&gt;The last few days have involved an investigation into the ability to capture the essential features of the dynamics leading up to a saddle node bifurcation as a linear stochastic differential equation. The warning signals question then becomes a model-choice problem between constant and time-dependent coefficients:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \alpha \left(\theta_t - X_t\right) dt + \sigma_t dW_t&quot; alt=&quot;dX_t = \alpha \left(\theta_t - X_t\right) dt + \sigma_t dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \alpha_t (\theta_t - X_t) dt + \sigma_t dW_t&quot; alt=&quot;dX_t = \alpha_t (\theta_t - X_t) dt + \sigma_t dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Where changing stability is characterized by critical slowing down seen in decreasing $ &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?.  Unfortunately, a general parameterization for the other parameters which will change in both models is challenging, (see the end of yesterday&amp;#39;s notes) and without a good fit to these it may be difficult to attribute the model choice to sensitivity in\inline&quot;/&gt;&lt;/span&gt; $. Without the ability to frame reliable models to capture the process, we must be careful to compare them. Different mechanisms driving the bifurcation can create substantially different pictures that may not be well caught by the same parameterization of the above model.&lt;/p&gt;
&lt;h3 id=&quot;so-where-next&quot;&gt;So where next?&lt;/h3&gt;
&lt;p&gt;Ultimately, it is still necessary to quantify the probability of detection of a warning signal in the simplest, best-case scenario of the data observed from a system known to exhibit a saddle-node bifurcation. That is, we still want to compare a model involving the change with one not involving the change, and quantify the information necessary (sensitivity to rate of change, amount of data, etc – all issues of power) to distinguish between them. Instead of building this around the SDE above, we can build this around a transformation of the data that does not exhibit this sensitivity to the model details. Solving for the time-dependent spectral density seems a promising way to go, avoiding many of the issues highlighted in yesterday’s notes.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Correcting for the mean dynamics</title>
   <link href="/2010/10/26/correcting-for-the-mean-dynamics.html"/>
   <updated>2010-10-26T09:46:24-07:00</updated>
   <id>h/2010/10/26/correcting-for-the-mean-dynamics</id>
   <content type="html">&lt;p&gt;Yesterday I began to address concerns of different models that have different mean dynamics, and how this influences the warning signals. This poses several kinds of issues.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;First, if the mean is changing, the model fitting must be appropriate to this – either by fitting this rate of change or correcting for it.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Second, the variance is expected to scale with the mean, and scale differently under different noise models (particularly environmental vs. demographic).  Hence information about the mean cannot simply be discarded (i.e. by subtracting out a regression fit).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Third, certain dynamics need not give much warning, even though they consist of saddle-node bifurcations.  By changing the curvature of the rate model we can examples with more and less advanced warning.  In some cases the change can happen fast enough that noise forces the system over the edge without warning.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;With changing mean:&lt;/p&gt;
&lt;embed src=&quot;http://www.carlboettiger.info/assets/files/bifur.swf&quot; width=300 height=300&gt;

&lt;p&gt;With “constant” mean:&lt;/p&gt;
&lt;embed src=&quot;http://www.carlboettiger.info/assets/files/bifur_mean_const.swf&quot; width=300 height=300&gt;

&lt;p&gt;Note that the mean changes quite suddenly at the end, though the loss of stability is more pronounced much earlier on.  (Images are is now sfw-flash objects instead of gif loops so can be paused, etc by right click. Hosted locally in this site’s media library as flickr stream doesn’t support flash.)&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/39a295ae0e3bde82af6800f8cf87f61f74726979/demos/saddle_analytics.R&quot;&gt;Code archive for these figures;&lt;/a&gt; uses the animation package and SWF tools to create the flash images.  Multiple root finding (a problem in the numerical examples earlier which used nlm) supported now by rootSolve package.&lt;/p&gt;
&lt;h3 id=&quot;so-what-does-this-mean&quot;&gt;So what does this mean?&lt;/h3&gt;
&lt;p&gt;Ignoring mean rate of change will be misleading, but a linear approximation to the rate of change doesn’t capture the second model well right near the switch point. Over most of the parameter range this can be ignored, with the rate estimated as essentially flat for this model. It is the corrections to the variance due to changes in the expected value that are more challenging. It is in this example that estimating the return rate, critical slowing down, will be more promising. The explicit analytics might help us further here:&lt;/p&gt;
&lt;p&gt;Starting from the expansion of the master equation and taking the linear noise approximation, we can express the dynamics in Ito form:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \left[ b(X_t)-d(X_t) \right] dt + \sqrt{\frac{b(X_t) + d(X_t)}{N}}dW_t&quot; alt=&quot;dX_t = \left[ b(X_t)-d(X_t) \right] dt + \sqrt{\frac{b(X_t) + d(X_t)}{N}}dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Around the equilibrium $ x $ we have variance&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{b(\hat x) + d(\hat x)}{2 N  \left[\ partial_x b(x) - d(x)\right]_{x = \hat x}}&quot; alt=&quot;\frac{b(\hat x) + d(\hat x)}{2 N  \left[\ partial_x b(x) - d(x)\right]_{x = \hat x}}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Defining: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha(\hat x) =  \partial_x  \left[b(x) - d(x)\right]_{x = \hat x}&quot; alt=&quot;\alpha(\hat x) =  \partial_x  \left[b(x) - d(x)\right]_{x = \hat x}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\sigma^2(\hat x) = \frac{b(\hat x) + d(\hat x)}{N}&quot; alt=&quot;\sigma^2(\hat x) = \frac{b(\hat x) + d(\hat x)}{N}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and can write the correlation function: &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle\langle X_0 X_t \rangle \rangle = \sigma^2(\hat x) e^{-\alpha(\hat x) t}&quot; alt=&quot;\langle\langle X_0 X_t \rangle \rangle = \sigma^2(\hat x) e^{-\alpha(\hat x) t}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;It is precisely this $ (x) $ that we wish to estimate. Now it changes due to changes in $ x $ as well as changes in the bifurcation parameter, $ a&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, which of course also influences\inline&quot;/&gt;&lt;/span&gt; x $ directly. So we want to rewrite this as a function of the bifurcation parameter alone:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\partial_x  \left[b(x,a) - d(x,a)\right]_{x = \hat x(a)} =: f(a)&quot; alt=&quot;\partial_x  \left[b(x,a) - d(x,a)\right]_{x = \hat x(a)} =: f(a)&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;A little tired of LaTeX writing, I  approximate $ (a)|_{x} &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?,  the slope at equilibrium as a function of the bifurcation parameter. Going astray: [calculation here](http://www.flickr.com/photos/cboettig/5118738314), [results graphed here](http://farm2.static.flickr.com/1419/5118172479_aaf1a2d5a1_m.jpg), upshot is assuming saturation doesn&amp;#39;t capture the bifurcation.  Applying that approximation earlier to the derivative expression gives a slope of\inline&quot;/&gt;&lt;/span&gt; -e &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, no\inline&quot;/&gt;&lt;/span&gt; a$ dependence at saturation anyway.&lt;/p&gt;
&lt;h4 id=&quot;numerical-solution&quot;&gt;Numerical Solution&lt;/h4&gt;
&lt;p&gt;Foregoing a complete analytic treatment, we can solve for function numerically to get the picture. For the first model with the steady changing mean, we see the mean, the eigenvalue $ alpha&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?, demographic noise term\inline&quot;/&gt;&lt;/span&gt; ^2$, and total variance: &lt;img src=&quot;http://farm2.staticflickr.com/1178/5119205688_e05388859a_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;And for the second model (note smaller values of a now lead to the bifurcation): &lt;img src=&quot;http://farm2.staticflickr.com/1220/5118603695_df7a11b494_o.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;(&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/a3ba76f81e72e972e2c5fa6e0cf87da5e15de80c/demos/saddle_analytics.R&quot;&gt;see code for these graphs&lt;/a&gt;, also has the updated code for flash animated bifurcations). Hard to justify good fits to a model form of &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \alpha(a, X_t) (\theta(a, X_t) - X_t)dt + \sigma(a, X_t) dW_t&quot; alt=&quot;dX_t = \alpha(a, X_t) (\theta(a, X_t) - X_t)dt + \sigma(a, X_t) dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;where the parameters are linear functions in time or in a (changing linearly with time). So, what’s the power spectrum of the time-dependent function &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\langle\langle X_0 X_t \rangle \rangle = \sigma^2(\hat x) e^{-\alpha(\hat x, t) t}&quot; alt=&quot;\langle\langle X_0 X_t \rangle \rangle = \sigma^2(\hat x) e^{-\alpha(\hat x, t) t}&quot; /&gt;&lt;/div&gt;&lt;/span&gt; where &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\alpha(\hat x, t)\inline&quot;/&gt;&lt;/span&gt; is a function of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a\inline&quot;/&gt;&lt;/span&gt; as given by the graphs above and &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a\inline&quot;/&gt;&lt;/span&gt; changes linearly at some rate? Is it to this that we must compare fits under models of changing and non-changing &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a\inline&quot;/&gt;&lt;/span&gt;?&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wrong picture, wrong model: why warning signals don't look like rare events</title>
   <link href="/2010/10/25/wrong-picture-wrong-model-why-warning-signals-dont-look-like-rare-events.html"/>
   <updated>2010-10-25T16:24:45-07:00</updated>
   <id>h/2010/10/25/wrong-picture-wrong-model-why-warning-signals-dont-look-like-rare-events</id>
   <content type="html">&lt;p&gt;Detecting a warning signal of collapse isn’t about detecting that a system is non-stationary, but more specifically, that the system is about to do something sudden.  The classic saddle-node bifurcation example results in a picture like this:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1184/5103819890_b5a04908ae_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;A visible steady decrease interrupted by a sudden jump.  The goal is to distinguish this from the case of a steady decrease that involves no loss of stability – such as would be created by continually lowering the carrying capacity of logistic-model system at a linear rate.  As one involves a loss of stability and the other does not, the warning signal that attempts to measure the eigenvalue (equivalent to r in the standard logistic formulation) may enable one to distinguish between these two possibilities.  The picture that seems so often described is one of no change in mean, followed by a sudden jump.  Such a pattern can be produced in a bistable system simply by waiting long enough – as addressed through the theory of large deviations.  Such a case may instead result from loss of stability, even without the mean changing.  To explore this, I’ve constructed an example explicitly to avoid the mean changing but still show a change in stability before the bifurcation:&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d(x) = a \left( \hat x - K \right) + e K&quot; alt=&quot;d(x) = a \left( \hat x - K \right) + e K&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;and&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?b(x) = \frac{e K x^p}{x^p+h^p}&quot; alt=&quot;b(x) = \frac{e K x^p}{x^p+h^p}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;with $ a $ as the bifurcation parameter:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.static.flickr.com/1432/5115931711_c9c1142a7e_o.gif&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;The red line is the death rate, blue the birth rate, and black the difference.  (Code is the first figure in this &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/54dbdb578f5a91e2796ce2c097f4abeca8719d30/demos/saddle_analytics.R&quot;&gt;version of saddle_analytics .R&lt;/a&gt;).  Such cases may have a rather simpler analysis, since changes in the equilibrium size can be ignored, but are less general and hence less common than the cases that may include changes in expected value of the state.&lt;/p&gt;
&lt;p&gt;Of course one can also imagine examples where most of the change will occur pretty much without warning, i.e. if the growth rate function looks like:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1327/5116083962_6c1334dd21_o.jpg&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Then the unstable point moves a great deal closer but no stability is lost until right before the bifurcation, hence there is very little warning.  In either case, there is a tendency to attempt to correct for any trend.  The general idea of this is quite valid – the loss of stability should appear in the variance, while the trend could have other causes (so could an increase in variance, but leaving that aside), so we do need to handle this correctly.  However, this overlooks the crucial second observation:&lt;/p&gt;
&lt;h3 id=&quot;noise-dependence-on-mean&quot;&gt;Noise dependence on mean&lt;/h3&gt;
&lt;p&gt;In general, the noise magnitude scales with the system state, as either $  d W_t$ (in our demographic examples) or linearly. (environmental noise)   The decreasing state can obscure the increasing variance due to loss of stability.  Methods which simply subtract out a trend will fail to reflect this phenomenon.  At least for ecological systems where the state is a population abundance driven by a birth-death process, the assumption of no dependence,&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?dX_t = \alpha (\theta - X_t) dt + \sigma dW_t&quot; alt=&quot;dX_t = \alpha (\theta - X_t) dt + \sigma dW_t&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;is unjustified.  This should not impact the actual estimate of the correlation time (autocorrelation rate or width of the Lorentzian from the power transform), but does impact the variance.&lt;/p&gt;
&lt;h3 id=&quot;reflections-in-an-example&quot;&gt;Reflections in an example&lt;/h3&gt;
&lt;p&gt;Example coming: consider the isotope data in the climate change shifts, showing several jumps and among the examples considered in Dakos et al.  2008:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/e/ec/DeuteriumCore.png&quot; alt=&quot;http://openwetware.org/images/e/ec/DeuteriumCore.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;http://openwetware.org/images/e/ec/DeuteriumCore.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;See other data sets, listed in&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Stochastic_Population_Dynamics/2010/04/02&quot;&gt;earlier lab notebook entry (still on OWW&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;http://www.flickr.com/photos/cboettig/5115516967/in/photostream/&lt;/p&gt;
&lt;h3 id=&quot;comments-on-ons&quot;&gt;Comments on ONS&lt;/h3&gt;
&lt;p&gt;Images today are all included from flickr stream, embedded with Flickr Gallery plugin with the exception of the gif. As viewing animated gifs requires access to the original image, this prompted me to upgrade to Flickr Pro. Will be interesting to explore what can be done without limits, meanwhile the animated gif is a bit annoying. Today’s live feed reflects some of explorations on R animations in gifs and otherwise, see &lt;a href=&quot;http://www.delicious.com/cboettig/animation&quot;&gt;my bookmarks in delicious&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Recent posts have adopted the WP LaTeX plugin for equations.  Seems to work better than a few other plug-ins I tried (strange positioning etc), but open to suggestions on quick load times, machine readable equations, proper appearance.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals 2</title>
   <link href="/2010/10/21/warning-signals-2.html"/>
   <updated>2010-10-21T00:00:00-07:00</updated>
   <id>h/2010/10/21/warning-signals-2</id>
   <content type="html">&lt;p&gt;Trying to select clear examples of sufficient and sufficient power in detecting warning signals. Addressing a couple side issues today as well:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Proper handling of trends&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Best model for eigenvalue change&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Computed an example with steeper nonlinearity to compare rate of change in lambda.  Here’s an example with Hill coefficient of 5 (&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/1122cbe8f0eed7670df1514c5572cf5c1f540e84/demos/saddle_analytics.R&quot;&gt;see code&lt;/a&gt;for details).  Note that the plot simply shows whichever root the numerical algorithm converges to at the time, should modify to express all roots.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1164/5103391608_0f219f6ff0_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(I’ve also updated the C code saddle node simulation to adjust Hill coefficient, but still have to add the wrappers to let this be set from the R level, details in the github repository).&lt;/p&gt;
&lt;p&gt;In the canonical form of the saddle-node bifurcation, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tfrac{dx}{dt} = x^2+a =: f(x)\inline&quot;/&gt;&lt;/span&gt; the equilibrium moves as the square root of the parameter, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?r = \pm \sqrt{x}\inline&quot;/&gt;&lt;/span&gt; and the eigenvalue is directly proportional to the equilibrium, &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\tfrac{df}{dx} = x\inline&quot;/&gt;&lt;/span&gt;.  The larger the nonlinearity, the larger the skew. As the canonical form can be viewed as a Taylor series on any saddle node bifurcation, to leading order we should be using the sqrt approach of lambda to zero wrt our bifurcation parameter: &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?d\lambda/dt = -\sqrt{a}\inline&quot;/&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Also working on trends - in this case, change in theta over time that must also be accounted for.  So both are quadratic rates of change in the canonical model.  If the bifurcation parameter is moving over a large range, the nonlinearity can be quite visible, but with the goal of detecting only small changes, the linear change is defensible. Seems the signal from the eigenvalue cannot be more sensitive than the change in the mean (in the saddle node bifurcation)?  Recall the goal is to detect a system that appears to be linearly decreasing, but is about to fall off an edge, vs a system that is linearly decreasing without decreasing stability. Showing the birth rate and death rate functions at the point of the bifurcation: (&lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/1413206233559970c86d4161ceb1ff60ae9c0987&quot;&gt;code&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1195/5103188523_57db900672_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;So these are essentially the models we want to compare.  Why warning signals are so often discussed as if the mean is not expected to change does not match the basic model or the original question – it’s detecting catastrophes, not detecting changes that we’re interested in.  Hence the corresponding crash to such a figure (actually with Hill coef p = 2)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm2.staticflickr.com/1184/5103819890_b5a04908ae_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;(&lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/6f2c00fe48278ac7dde98ce60ea18e409cfc02ed&quot;&gt;corresponding code&lt;/a&gt;)&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Spatial Warning Signals, power, etc</title>
   <link href="/2010/10/21/spatial-warning-signals-power-etc.html"/>
   <updated>2010-10-21T00:00:00-07:00</updated>
   <id>h/2010/10/21/spatial-warning-signals-power-etc</id>
   <content type="html">&lt;p&gt;Noam gave an interesting presentation in our lab today, prompted me to do a little experimentation.  Weakening stability across a set of coupled patches should result in increased autocorrelation.  Decided to test this with a little visualization with help of &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/6f2393b74b60ddc090c18c617a1134ee313cd667/demos/noam.R&quot;&gt;a quick R script&lt;/a&gt;.  &lt;img src=&quot;http://farm2.static.flickr.com/1069/5101483914_5ee14d6b3e_b.jpg&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Time progresses across the x-axis, 1-D space (on S1) across the y-axis.  Each patch suffers a slow loss of stability, resulting in a clearly visible increase in autocorrelation.&lt;/p&gt;
&lt;h3 id=&quot;power-in-warning-signals&quot;&gt;Power in Warning Signals&lt;/h3&gt;
&lt;p&gt;Meanwhile, returning to my work with power in warning signals. Working on a more complete analytical description of the underlying saddle node bifurcation in the example to justify having the “true” underlying model. First, a quick script for the (larger) analytic equilibrium as a function of the bifurcation parameter. From this we can calculate the change in the eigenvalue at the equilibrium as we approach the bifurcation: (&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/e1f910f752f8edcdb0220703b972a107e169fb87/demos/saddle_analytics.R&quot;&gt;code here: saddle_analytics.R&lt;/a&gt;)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://farm5.staticflickr.com/4089/5101650050_2cc9530a89_o.png&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Note that the eigenvalue lambda is evaluated at the fixed point in each case, and over sufficient range in the bifurcation parameter, the change is non-linear. The bifurcation seems to happen at about &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a=174\inline&quot;/&gt;&lt;/span&gt;, corresponding to an equilibrium population of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat x = 525\inline&quot;/&gt;&lt;/span&gt;. lambda doesn’t depend on the bifurcation parameter &lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?a&quot; alt=&quot;a&quot; /&gt;&lt;/div&gt;&lt;/span&gt; except through the value of &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat x\inline&quot;/&gt;&lt;/span&gt;; Unfortunately closed form expressions for &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\frac{e K x^2}{h^2+x^2}-e x - a = 0\inline&quot;/&gt;&lt;/span&gt; aren’t particularly manageable. The jump in &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat x\inline&quot;/&gt;&lt;/span&gt; which results in a jump in lambda is the result of the numerical minimizer starting to grab the other root – of course lambda should in fact pass smoothly through zero, triggering the bifurcation.&lt;/p&gt;
&lt;h3 id=&quot;and-in-the-literature&quot;&gt;and in the literature…&lt;/h3&gt;
&lt;p&gt;Just noticed an&lt;a href=&quot;http://ff.im/-soIrK&quot;&gt;intriguing paper by R. M. Bailey&lt;/a&gt; on warning signals applied to a spatial simulation (cellular automata model). Appears to focus on classical indicators methods, without discussion of statistical inference or spatially based warning signals. Also, the bifurcation model is unclear to me, seems that some effects are rather related to changing the timescale (effectively the birth rate in this case?) of the model, not necessarily the stability. The need for non-dimensionalization strikes again. Finally, the question of perturbations into alternative stable states continues to be blended into discussions about critical slowing down and bifurcations. While the latter makes the former more likely, the rather different mechanisms by which each drives change seem conflated.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>ecology Abstract</title>
   <link href="/2010/10/20/stochastic-population-dynamics-abstract.html"/>
   <updated>2010-10-20T00:00:00-07:00</updated>
   <id>h/2010/10/20/stochastic-population-dynamics-abstract</id>
   <content type="html">&lt;p&gt;Ecological population sizes fluctuate not only in response to environmental fluctuations but because of the stochastic nature of natural births and deaths. While in very large populations these fluctuations have negligible impact, ecology rarely obliges us by satisfying this limit. Age and stage structure in populations serve to amplify the effect, where the fate of the population is determined by a smaller subset of, say, the fecund adults alone. Demographic noise is probably responsible for the ultimate extinction of many populations once reduced to a small size. Yet the news isn’t all bad. Encoded in the very fluctuations we observe are clues about the biology that we could not see by looking only at averages. I am developing a theory of such fluctuations that uses this noise to inform our decisions about appropriate models and the underlying biological processes.&lt;/p&gt;
&lt;p&gt;This is the cover page to my stochastic population dynamics research.  Below are live feeds for the current entries in the notebook, most recent articles, figures and commits to the code.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/category/stochastic-population-dynamics/&quot;&gt;Notebook Entries&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Stochastic_Population_Dynamics&quot;&gt;Entries from before 20-Oct-2010&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/634301/theoretical-ecology/overview/&quot;&gt;Recently Added Articles&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/634301/theoretical-ecology/feed/rss&quot;&gt;reading feed&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/stochpop/&quot;&gt;Recent Figures&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/structured-populations&quot;&gt;Code Updates&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/structured-populations/commits/master.atom&quot;&gt;code feed&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics Abstract</title>
   <link href="/2010/10/20/adaptive-dynamics-abstract.html"/>
   <updated>2010-10-20T00:00:00-07:00</updated>
   <id>h/2010/10/20/adaptive-dynamics-abstract</id>
   <content type="html">&lt;p&gt;Adaptive dynamics is a set of recently developed techniques for understanding phenotypic evolution, using a dynamical systems approach to concepts from evolutionary game theory. In contrast to population genetics, this approach tends to explore richer ecological interactions and simpler genetic assumptions, with significant controversy. My own work has focused on a particular element of the theory known as the canonical equation, a macroscopic equation describing the deterministic rate of evolution.&lt;/p&gt;
&lt;p&gt;This is the cover page to my adaptive dynamics research.  Below are live feeds for the current entries in the notebook, most recent articles, figures and commits to the code.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/category/adaptive-dynamics&quot;&gt;Notebook Entries&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://openwetware.org/wiki/Category:Adaptive_Dynamics&quot;&gt;Entries from before 20-Oct-2010&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/529981/adaptive-dynamics/&quot;&gt;Recently Added Articles&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com/groups/529981/adaptive-dynamics/feed/rss&quot;&gt;Adaptive Dynamics reading&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/sets/72157624718737779/&quot;&gt;Recent Figures&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“adaptivedynamics” tag_mode=“all”]&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics&quot;&gt;Code Updates&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/cboettig/AdaptiveDynamics/commits/master.atom&quot;&gt;Adaptive dyanmics Code feed&lt;/a&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/10/19/warning-signals.html"/>
   <updated>2010-10-19T00:00:00-07:00</updated>
   <id>h/2010/10/19/warning-signals</id>
   <content type="html">&lt;h3 id=&quot;working-examples&quot;&gt;Working examples&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/demos/kendall.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/demos/kendall.R&quot;&gt;kendall.R&lt;/a&gt; example of kendall’s correlation test on standard warning signal indicator being misleading.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/10/18/Teaching.html"/>
   <updated>2010-10-18T00:00:00-07:00</updated>
   <id>h/2010/10/18/Teaching</id>
   <content type="html">&lt;h2 id=&quot;graduate-teaching-community-reflections-on-teaching&quot;&gt;Graduate Teaching Community – reflections on teaching&lt;/h2&gt;
&lt;p&gt;Haven’t made a lot of entries in this notebook as I’m not teaching regularly at the moment, though am still attending meetings of the Graduate Teaching Community, a record of which can be found on our &lt;a href=&quot;http://gtc-blog.blogspot.com&quot; title=&quot;http://gtc-blog.blogspot.com&quot;&gt;GTC blog&lt;/a&gt;. But today in GTC we are thinking about reflections on teaching, and starting with a little bit of journaling, so this seemed like a good place to do it.&lt;/p&gt;
&lt;p&gt;Cass and Karolyn have started us off writing on a few pre-reflection questions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What are my learning goals for this lesson/course/class?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Often I emphasize problem solving, while I feel my students tend to emphasize factual content as the goal, and de-value problem solving ability. It is this latter perception that I’m most challenged by, and how to change it. The other challenge I think on most is student ownership of content. Not sure I can really define that, I guess it’s a feeling of mastery, or perhaps just familiarity with the content that’s the goal.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;What do I want to improve about my own teaching today?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - What assumptions do I have about my students when they enter my classroom? How do these assumptions affect my interactions with them, and what and how I teach?&lt;/p&gt;
&lt;h2 id=&quot;notes-from-the-rest-of-the-session&quot;&gt;Notes from the rest of the session&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cycle: &lt;strong&gt;Prepare, Enact, Reflect.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Terminology: Procedural Reflection (what happened?) vs Task Analysis (what worked?) vs Critical Reflection (so what impact?). (see &lt;a href=&quot;http://www.uri.edu/hss/education/faculty/adamy.html&quot; title=&quot;http://www.uri.edu/hss/education/faculty/adamy.html&quot;&gt;Peter Ademie&lt;/a&gt;, &lt;a href=&quot;http://muse.jhu.edu/journals/theory_into_practice/v042/42.3howard.html#top&quot; title=&quot;http://muse.jhu.edu/journals/theory_into_practice/v042/42.3howard.html#top&quot;&gt;Tyrone Howard&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Reflection usually starts with teacher, then curriculum, then student. (i.e. early evaluation focuses on my handwriting on the blackboard, much more experienced teachers reflect on assumptions about student).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;different-kinds-of-reflection&quot;&gt;Different Kinds of Reflection&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Discussion of &lt;strong&gt;&lt;a href=&quot;http://www.lessonstudygroup.net/&quot; title=&quot;http://www.lessonstudygroup.net/&quot;&gt;Lesson Study&lt;/a&gt;&lt;/strong&gt; process. &lt;a href=&quot;http://www.lessonstudygroup.net/05r4informational_videos.html&quot; title=&quot;http://www.lessonstudygroup.net/05r4informational_videos.html&quot;&gt;Informational video&lt;/a&gt;. Basically, large numbers of teachers watch students learn. Began in Japan. Evaluates the lesson itself, not the teacher.&lt;/li&gt;
&lt;li&gt;Sharing practices:
&lt;ul&gt;
&lt;li&gt;Karolyn: Asks for questions / comments on index cards from students.&lt;/li&gt;
&lt;li&gt;Cass: &lt;a href=&quot;http://cassandrapaul.net/wordpress/&quot; title=&quot;http://cassandrapaul.net/wordpress/&quot;&gt;Online teaching journal&lt;/a&gt;. Reflect soon after works best!&lt;/li&gt;
&lt;li&gt;Robert (in abstentia) blue book responses – students write comments about what is working, he writes back in their notebooks.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;resources-at-the-uc-davis-center-for-excellence-in-teaching-and-learning&quot;&gt;Resources at the UC Davis &lt;a href=&quot;http://trc.ucdavis.edu/&quot; title=&quot;http://trc.ucdavis.edu/&quot;&gt;Center for Excellence in Teaching and Learning&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://trc.ucdavis.edu/?page_id=121&quot; title=&quot;http://trc.ucdavis.edu/?page_id=121&quot;&gt;Video tape your class&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://trc.ucdavis.edu/?page_id=120&quot; title=&quot;http://trc.ucdavis.edu/?page_id=120&quot;&gt;Interviews with students&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://trc.ucdavis.edu/?page_id=65&quot; title=&quot;http://trc.ucdavis.edu/?page_id=65&quot;&gt;Confidential Discussion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Status update</title>
   <link href="/2010/10/15/Status-update.html"/>
   <updated>2010-10-15T00:00:00-07:00</updated>
   <id>h/2010/10/15/Status-update</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Actually out of town this day, but draft off to co-authors, will review Friday. meanwhile time to get back to some warning signals work, will be in other notebook for rest of the week.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing continues</title>
   <link href="/2010/10/14/Writing-continues.html"/>
   <updated>2010-10-14T00:00:00-07:00</updated>
   <id>h/2010/10/14/Writing-continues</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Deleting large sections is a great way to spur better writing. Revised organization substantially, discussion somewhat loose still. But basic framework all in place.&lt;/li&gt;
&lt;li&gt;draft off to Peter and Graham!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2010/10/13/Wednesday.html"/>
   <updated>2010-10-13T00:00:00-07:00</updated>
   <id>h/2010/10/13/Wednesday</id>
   <content type="html">&lt;h3 id=&quot;monte-carlo&quot;&gt;Monte Carlo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Reading Sanderson’s nonparametric rate smoothing and semi-parametric r8s papers in Monte Carlo with Rannala. Comments on articles in text, but great discussion today, particularly Bruce’s take on this style of approach.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Sanderson, M.J. Estimating absolute rates of molecular evolution and divergence times: a penalized likelihood approach. Molecular biology and evolution 19, 101-9(2002).&lt;/li&gt;
&lt;li&gt;Sanderson, M.J. A Nonparametric Approach of Rate Constancy to Estimating Divergence Times in the Absence. Molecular Biology and Evolution 14, 1218-1231(1997).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt; ### Hastings lab presentation&lt;/p&gt;
&lt;p&gt;Presented chalk talk on the Warning Signals project (see stochastic population dynamics notebook).&lt;/p&gt;
&lt;h3 id=&quot;misc&quot;&gt;Misc&lt;/h3&gt;
&lt;p&gt;Mendeley upgrade for Ubuntu up, still need to explore groups and reconsider organization of my lists…&lt;/p&gt;
&lt;h3 id=&quot;writing-lr-continues&quot;&gt;Writing LR continues&lt;/h3&gt;
&lt;p&gt;see version history.&lt;/p&gt;
&lt;h3 id=&quot;r-list-discussion-continued&quot;&gt;R list discussion continued&lt;/h3&gt;
&lt;p&gt;Good question about the applicability of lambda transforms to discrete models (though included in Geiger examples). Interpretation isn’t trivial, but neither can it be dismissed as simply incorrect to do. Here’s my take:&lt;/p&gt;
&lt;p&gt;Good question. Lambda is often taken as a measure of phylogenetic signal. It’s just a tree transform, so it’s just a matter of trying to explain what it means to say a discrete model would fit better if you rescaled the tree like so. In the BM case, you would argue that lambda &amp;lt;&amp;lt; 1 might mean something rather non-brownian is going on, making things forget their ancestry faster. In this case, it seems Lara is assuming an equal rates model, which means that an unbalanced fraction of taxa in a particular trait value can only be explained by phylogeny; not by the stationary solution of some model. A good fit with small lambda would indicate that the phylogeny was not being helpful in explaining this imbalance (imagine an 80/20 split in a binary trait arranged in the least parsimonious manner possible – this would prefer a small lambda and a hint that ecological forces are playing a more important role than phylogenetic inertia).&lt;/p&gt;
&lt;p&gt;If the rates can call differ, small lambda (an unimportant influence of phylogeny) may be confounding with higher transition rates, such that the system can forget its ancestry quickly and reach the stationary distribution. In such cases estimating the tree transforms such as lambda will have identifiability issues – perhaps that plays a role in Lara’s convergence error messages.&lt;/p&gt;
&lt;p&gt;In general if the model is fitting better with the tree transform then without it, this can be taken as an indication that the model itself isn’t a good description of the data. I think that’s as true in the land of continuous traits and BM as it is in discrete traits, regardless of how that particular transform is defined or motivated. Perhaps others would comment on this perspective.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>a day of writing</title>
   <link href="/2010/10/12/a-day-of-writing.html"/>
   <updated>2010-10-12T00:00:00-07:00</updated>
   <id>h/2010/10/12/a-day-of-writing</id>
   <content type="html">&lt;p&gt;Figuring out the best way to present the critique of AIC, introduction to the method, introduction to the power test. Seeking inspiration from Huelsenbeck 1996 and digging farther back into the literature:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; 1. Cox, D.R. Further results on tests of separate families of hypotheses. Journal of the Royal Stastical Society 24, 406-424(1962). 2. Cox, D.R. Tests of Seperate Families of Hypotheses. Proceedings of the 4th Berkeley Symposium, University of California Press 105 - 123(1961). 3. Hall, P., Wilson, S. Two guidelines for bootstrap hypothesis testing. Biometrics 47, 757-762(1991).&lt;/p&gt;
&lt;h2 id=&quot;interesting-question-on-r-sig-phylo&quot;&gt;Interesting question on R-sig-phylo&lt;/h2&gt;
&lt;p&gt;My reply:&lt;/p&gt;
&lt;p&gt;A few responses in-line below, hope they’re helpful. In general averaging over trees to estimate parameters sounds great, a couple hurdles.&lt;/p&gt;
&lt;p&gt;On Tue, Oct 12, 2010 at 5:08 PM, Lara Poplarski &lt;larapoplarski@gmail.com\&gt; wrote:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   Dear List,

   I am new to R, and hope someone can kindly help with the following
   task. I have a Bayesian sample of trees in nexus format and discrete
   data; example trees and data are at the bottom of the email. I would
   like to use fitDiscrete in geiger to estimate parameter lambda for all
   variables. The idea is to then compare the distributions across trees
   of lambda values for the different variables.

   I have been using the following:

   for(i in 1:5) {
   cat(&amp;quot;t&amp;quot;,i,&amp;quot;\n&amp;quot;);
   fd&amp;lt;-fitDiscrete(treesi,data,treeTransform=&amp;quot;lambda&amp;quot;)
   print(fd)
   }

   A few specific questions:

   1. Since trees in my sample are non-ultrametric, I get the following warning:
   Warning: some tree transformations in GEIGER might not be sensible for
   nonultrametric trees.

   Is the lambda transformation sensible for non-ultrametric trees? I
   could not find further information on this in the manual or in the
   Pagel references.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; No, the transformation is only meaningful it the trees are ultrametric. The models describe rates of change through time, and thus assume branch lengths are proportional to time, not to number of substitutions. This is true for most models in comparative methods.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; 2. In some cases, I get the following warning: [1] “Warning: may not have converged to a proper solution.”&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   Does it make sense to get fitDiscrete to repeat the ML estimation for
   these cases, until convergence? Can someone suggest how to modify the
   loop above to do this?&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; There are several reasons why the maximum likelihood optimization routine can fail to converge, and you’re quite right that an insufficient number of iterations is one of them. I don’t believe Geiger supports passing additional arguments to the optim routine. The error message you see is produced by Geiger and includes both the case when the iteration number is insufficient or when the algorithm fails to converge for some other reason (such as a ridge of optima, for instance a nearly star like phylogeny will always give this error). See the help page on optim function for more information, but modifying the iterations and error handling will I believe require you to look into the geiger code.&lt;/p&gt;
&lt;p&gt;In leiu of this, you’ll want to note and exclude estimates that do not achieve convergence.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; 3. Finally, I would be grateful for pointers on how to tackle the output. For example, can someone suggest how to go about calculating the mean lambda value, across trees, for each of the 4 variables?&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; There seems to be a bug in the Geiger code whereby it doesn’t actually report the value of lambda (treeParam) if the data argument is a matrix, so this requires an extra step (otherwise you’d pass the whole data matrix and could skip my second apply fn).&lt;/p&gt;
&lt;p&gt;You want to create a matrix where each row represents a different tree, and each column a different trait value.&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;lambda &amp;lt;- sapply(1:n_trees,                        # Apply what follows to all trees
  function( i ){
    sapply(1:n_traits,                                    # Apply what follows for each trait
      function( j ){
        fd &amp;lt;- fitDiscrete(tree[[i]], data[, j ], treeT=&amp;quot;lambda&amp;quot; )     # fitDiscrete for tree i, trait j
        fd[[1]]$treeParam
     })
  }
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then just calculate the average / variance / histogram / etc over the column.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; I also have a more general question. Both the tree sample and dataset are relative large (1000 trees * 80 variables), so based on preliminary runs I expect the analysis to take rather long. Any suggestions on how to speed things up and/or on a different approach to the tree sample/multiple variable set-up would be most welcome!&lt;/p&gt;
&lt;p&gt;Good point. Since the order you do the trees in doesn’t matter, an sapply function can be used instead of a for loop, it is generally much faster. If you have a multicore machine, take a look at the snowfall package in R, which will let you run your sapply loop in parallel automatically. Sounds like it will take a few days to run them all.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Many thanks in advance,&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Err, hope that made sense, feel free to ask for clarification etc. Carl&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Still writing</title>
   <link href="/2010/10/11/Still-writing.html"/>
   <updated>2010-10-11T00:00:00-07:00</updated>
   <id>h/2010/10/11/Still-writing</id>
   <content type="html">&lt;p&gt;Ah, back after being in bed almost a week with flu. Back to writing manuscript, reworking the presentation of the actual method. Much of the day caught up in Watson’s practice orals (applying computational mechanics to inhibitory neuron circuits), checking in with Yun on his orals and then GTC. too many delays, hope I feel fully better soon.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>LR Manuscript</title>
   <link href="/2010/10/05/LR-Manuscript.html"/>
   <updated>2010-10-05T00:00:00-07:00</updated>
   <id>h/2010/10/05/LR-Manuscript</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Still writing. Working on the comparisons to AIC section. Things to think about adding:&lt;/li&gt;
&lt;li&gt;Explicitly show p values on bootstrap&lt;/li&gt;
&lt;li&gt;What are we calling this thing anyway? After Hulsenbeck &amp;amp; Bull, 1996: ``likelihood heterogeneity test&lt;/li&gt;
&lt;li&gt;All-different seems to have some stability/convergence problems, perhaps a less aggressive example would be better? –Carl Boettiger 19:46, 5 October 2010 (EDT) Stability issues resulted from different fitting methods in initial fit vs. bootstraps. Using nelder-mead (with increased error tolerance) gives consistent, convergent results (that also result in better fits than the box-limited method of before).&lt;/li&gt;
&lt;li&gt;revisit intro to add map section&lt;/li&gt;
&lt;li&gt;Avoid confusion between simulating from a model and assuming that a model is “correct”&lt;/li&gt;
&lt;li&gt;What to do about OU.1? use the improved fit info…&lt;/li&gt;
&lt;li&gt;How about power examples for multiple peaks?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;provide power test between models (return the power directly). So far only do the full power curve on the tree over alpha for OU1 vs BM.&lt;/p&gt;
&lt;h3 id=&quot;more-power-tests&quot;&gt;More power tests&lt;/h3&gt;
&lt;p&gt;Power between OU.2 and OU.LP – a close call? The observed ratio (dark red) seems on the border between the ratio’s expected under one case and under the other. 1000 replicates. &lt;strong&gt;Flickr Error ( Photo not found ): PhotoID 5055243147&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2010/10/04/Monday.html"/>
   <updated>2010-10-04T00:00:00-07:00</updated>
   <id>h/2010/10/04/Monday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;7:30 – 8:30 Read ﻿article for Wainwright’s 270:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Streisfeld, M.a. &amp;amp; Rausher, M.D. Population Genetics, Pleiotropy, and the Preferential Fixation of Mutations During Adaptive Evolution. Evolution no-no(2010).doi:10.1111/j.1558-5646.2010.01128.x&lt;/p&gt;
&lt;p&gt;Interesting approach, methods description a little light and both prediction and interpretation of pattern of mutations in coding, cis-reg, and transcription factor sites seems a little loose. Detailed notes on article in Mendeley. More comments after the discussion section at 1pm today.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;8:30 – 9:30 accepted and started reviewing article for Theoretical Ecol, review due Nov 1st. Return to later! (confidential notes in Mendeley)&lt;/li&gt;
&lt;li&gt;9:30 – 1:00pm working on LR manuscript.&lt;/li&gt;
&lt;li&gt;1pm Wainwright’s 270 on predicting evolution (Streisfeld article)&lt;/li&gt;
&lt;li&gt;2pm meet visiting student Ty at house&lt;/li&gt;
&lt;li&gt;4:30pm set up and facilitate Grad Teaching Community meeting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(&lt;a href=&quot;http://www.carlboettiger.info/calendar&quot; title=&quot;http://www.carlboettiger.info/calendar&quot;&gt;calendar&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;manuscript-scribble&quot;&gt;Manuscript scribble&lt;/h2&gt;
&lt;h3 id=&quot;code-updates&quot;&gt;Code updates&lt;/h3&gt;
&lt;p&gt;Added a “half different” painting of taxa to show problems with AIC persist even when parameters don’t exceed taxa (but still vastly overparameterized). see &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/commit/5e3eb6115e1d2e30f12a52713aba76b10ba470f0#diff-1&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/commit/5e3eb6115e1d2e30f12a52713aba76b10ba470f0#diff-1&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood Ratio Paper</title>
   <link href="/2010/10/03/Likelihood-Ratio-Paper.html"/>
   <updated>2010-10-03T00:00:00-07:00</updated>
   <id>h/2010/10/03/Likelihood-Ratio-Paper</id>
   <content type="html">&lt;h3 id=&quot;higher-resolution-power-plot-for-anoles-tree&quot;&gt;Higher resolution power plot for Anoles tree&lt;/h3&gt;
&lt;p&gt;Figure (below right) shows power for increasing alpha in the Anoles tree. The vertical line shows the estimated value of alpha for the body-size data – unlikely that a tree of this size can detect selection that is this weak even if it were present. Consequently, this fit should not be taken as evidence that BM is a better fit than the OU, but rather that the data is insufficient to inform this analysis.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/5049237297/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4144/5049237297_86c89766ab.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### The Geiger model fits&lt;/p&gt;
&lt;p&gt;Thinking of extending bootstrap methods to work for geiger tests, i.e. can one justify the lambda transform?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Wrote &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/8bcb043dd72d45566fa82de4af80672a42443673/demos/anoles_ape.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/8bcb043dd72d45566fa82de4af80672a42443673/demos/anoles_ape.R&quot;&gt;anoles_ape.R&lt;/a&gt; in Comparative-Phylogenetics code demos, showing converting the anoles dataset for use with geiger functions. Will write a general bootstrapping that can handle the geiger models. Unfortunately the geiger model fits are not general model fit objects that can be passed to generic functions such as update and simulate. fitContinuous should return the transformed tree, the data, a class object of the fit, the call etc, and be assigned a class. Will have to get around to this later.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note: for Anoles data, almost none of the tree transformations can improve the likelihood. Delta (exp scaling of branch length) does, just:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; #### Model likelihoods for Anoles under various tree transformations&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; bm$Trait1$lnl
[1] -53.66927
&amp;gt; ou$Trait1$lnl
[1] -53.66268
&amp;gt; lambda$Trait1$lnl
[1] -53.66927
&amp;gt; kappa$Trait1$lnl
[1] -53.66927
&amp;gt; delta$Trait1$lnl
[1] -53.49763
&amp;gt; eb$Trait1$lnl
[1] -53.64517&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; ### Back to Writing&lt;/p&gt;
&lt;p&gt;Reorganizing the manuscript structure … again. (draft not shown). Mapping out the outline here:&lt;/p&gt;
&lt;h4 id=&quot;are-phylogenies-informative&quot;&gt;Are phylogenies Informative?&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Concerns about the model&lt;/li&gt;
&lt;li&gt;Concerns about the data&lt;/li&gt;
&lt;li&gt;phylogenetic signal&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;examples-from-anoles&quot;&gt;Examples from Anoles&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Why model choice BM vs OU&lt;/li&gt;
&lt;li&gt;Why not AIC – the overparameterized example&lt;/li&gt;
&lt;li&gt;Why a power test: BM vs OU&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;… hmm, how is it dark already? better find my bike lights and continue this later.&lt;/p&gt;
&lt;h2 id=&quot;adaptive-dynamics-comparing-contour-plots&quot;&gt;Adaptive Dynamics: Comparing contour plots&lt;/h2&gt;
&lt;p&gt;Meanwhile, some adaptive dynamics simulations have completed at least. Should remember to save png as higher resolution, but the bottom line seems to show substantial differences between analytic approximation and numerical simulation:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_demo.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_demo.R&quot;&gt;code for figures below&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Comparing results, simulation on the left, Analytic on the right.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2010/09/30/Thursday.html"/>
   <updated>2010-09-30T00:00:00-07:00</updated>
   <id>h/2010/09/30/Thursday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Alan will write introduction to manuscript. Schedule meeting for next week.&lt;/li&gt;
&lt;li&gt;Scheduling the Hastings lab meeting &lt;a href=&quot;http://www.doodle.com/r7ahgfgz4aw6h4ca&quot; title=&quot;http://www.doodle.com/r7ahgfgz4aw6h4ca&quot;&gt;doodle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Coordinate with Baskett lab&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;resources-for-abc-bayesian-inference-in-ecological-and-spatial-context-workshop&quot;&gt;Resources for ABC / Bayesian inference in ecological and spatial context workshop&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Sisson Sa, Fan Y, Tanaka MM. Sequential Monte Carlo without likelihoods. Proceedings of the National Academy of Sciences of the United States of America. 2007;104(6):1760-5. Available at: &lt;a href=&quot;http://www.pubmedcentral.nih.gov/articlerender.fcgi?artid=1794282&amp;amp;tool=pmcentrez&amp;amp;rendertype=abstract&quot; title=&quot;http://www.pubmedcentral.nih.gov/articlerender.fcgi?artid=1794282&amp;amp;tool=pmcentrez&amp;amp;rendertype=abstract&quot;&gt;http://www.pubmedcentral.nih.gov/articlerender.fcgi?artid=1794282&amp;amp;tool=pmcentrez&amp;amp;rendertype=abstract&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;de Valpine P, Hastings A. Fitting Population Models Incorporating Process Noise and Observation Error. Ecological Monographs. 2002;72(1):57-76. Available at: &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/0012-9615%282002%29072%5B0057%3AFPMIPN%5D2.0.CO%3B2&quot; title=&quot;http://www.esajournals.org/doi/abs/10.1890/0012-9615%282002%29072%5B0057%3AFPMIPN%5D2.0.CO%3B2&quot;&gt;http://www.esajournals.org/doi/abs/10.1890/0012-9615%282002%29072%5B0057%3AFPMIPN%5D2.0.CO%3B2&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Bolker B. Ecological Models and Data in R. Princeton and Oxford: Princeton University Press; 2007.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics Updates</title>
   <link href="/2010/09/30/Adaptive-Dynamics-Updates.html"/>
   <updated>2010-09-30T00:00:00-07:00</updated>
   <id>h/2010/09/30/Adaptive-Dynamics-Updates</id>
   <content type="html">&lt;p&gt;The numerical coexistence time simulations are still running, (Server rest brought down these runs two weeks ago, and they take a few weeks to do all the replicates) meanwhile here are the rest of the analytic set (and one simulation that finished). &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot;&gt;See code&lt;/a&gt; for parameters etc. (Below in frame)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; EVE Seminar: Brad Shaffer ————————-&lt;/p&gt;
&lt;p&gt;A rather good talk on the California Tiger salamander, emphasizing intersection of ecological and evolutionary investigation in a conservation, management-oriented context.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Land near vernal pool 10x more valuable than 1km away, though salamander habitat extends up to 2km, order of magnitude farther than expected. Estimated from reproductive value of individuals times individual density as a function of distance from the pond.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hybrid study with over 60 markers for the invasive, and three superinvasive genes that must all be present to give the much more competitive large-phenotype metamorph.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;See Brad’s recent Tiger Salamander publications for details.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/09/15/Writing.html"/>
   <updated>2010-09-15T00:00:00-07:00</updated>
   <id>h/2010/09/15/Writing</id>
   <content type="html">&lt;p&gt;Working on likelihood ratio/phylogenetic signal manuscript.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### scrap notes from more literature combing&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cheverud 1985 autocorellational model, extended by Gittlman &amp;amp; Kot 1990&lt;/li&gt;
&lt;li&gt;Grafen 89, Pagen &amp;amp; Harvey 89 extending PIC to polytomies&lt;/li&gt;
&lt;li&gt;Harvey &amp;amp; Mace 82, Harvey &amp;amp; Clutton Brock 85 taxonomic rather than phylogenetic&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;From Blomberg et al: “The three best-justified phylogenetically based statistical methods can all be applied with a star phylogeny, in which case they yield results that are exactly the same as a conventional analysis (phylogenetically independent contrasts: Felsenstein 1985; generalized least squares: Grafen 1989; Martins and Hansen 1997; Garland and Ives 2000; Rohlf 2001; Monte Carlo simulations: Martins and Garland 1991; Garland et al. 1993; Reynolds and Lee 1996)”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;papers claiming: apply only if significant&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(e.g., Gittleman and Kot 1990; Gittleman et al. 1996a; Abouheif 1999). Gittleman and Luh 1992&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/09/14/Writing.html"/>
   <updated>2010-09-14T00:00:00-07:00</updated>
   <id>h/2010/09/14/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on likelihood ratio/phylogenetic signal manuscript&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Power plots</title>
   <link href="/2010/09/14/Power-plots.html"/>
   <updated>2010-09-14T00:00:00-07:00</updated>
   <id>h/2010/09/14/Power-plots</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4990607836/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4125/4990607836_ed7ab13d3d.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Testing power code. currently null and test distributions of likelihood scores are distinguishable even for small beta on the long time scale. See &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/e47014434e8924ee586be6d5c141c914970a9bd4/demos/warning_example2.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/e47014434e8924ee586be6d5c141c914970a9bd4/demos/warning_example2.R&quot;&gt;code for run&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;running on shorter timescale. Note that parameters match but small code differences in repository code on the last commit since I committed the version on the local machine (my laptop, for development) but ran a slightly tweaked code (typo in reps vs nboot, .o1), on the production server.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;a href=&quot;http://www.flickr.com/photos/cboettig/4991026870/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4130/4991026870_19829f95b9.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Same string of values, shorter timescale. First four values of beta are .001, .01, .5, 1, for a length of time T=50. Will have to quantify detection of the rate of change vs magnitude of change, and also evaluate power analyses of change point.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Peter meeting</title>
   <link href="/2010/09/13/Peter-meeting.html"/>
   <updated>2010-09-13T00:00:00-07:00</updated>
   <id>h/2010/09/13/Peter-meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sicb.org/meetings/2011/abstracts/index.php3&quot; title=&quot;http://www.sicb.org/meetings/2011/abstracts/index.php3&quot;&gt;SICB&lt;/a&gt; conference
&lt;ul&gt;
&lt;li&gt;Abstract – sent&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Phylogenetic comparative methods have become all but ubiquitous in only a few decades, forcing us to reconsider if information from a phylogenetic tree can justify the results. Existing approaches to this question have been inadequate and do not scale with tree size or the ability to resolve branches. For instance, selection between phylogenetic models typically based on information criteria fails to adequately reflect this uncertainty, and can lead to preference for arbitrarily complicated models. Common measures of phylogenetic signal tend to characterize the goodness-of-fit of a Brownian motion model to the data, rather than indicate whether the data is sufficient to confidently distinguish between different hypotheses. We present a Monte Carlo based approach that allows us to reliably select models of the appropriate complexity and identify when a given phylogenetic tree contains insufficient information to test the hypothesis. We conclude that researchers should not assume a model such as Brownian motion a priori but test alternate hypotheses; not test for correlations between traits and branch lengths before applying a phylogenetic model but rather analyze the power of the tree to identify the chosen model from the alternative hypotheses.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Application&lt;/li&gt;
&lt;li&gt;Membership?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting with Alan</title>
   <link href="/2010/09/10/Meeting-with-Alan.html"/>
   <updated>2010-09-10T00:00:00-07:00</updated>
   <id>h/2010/09/10/Meeting-with-Alan</id>
   <content type="html">&lt;h3 id=&quot;some-discussion-of-references&quot;&gt;Some discussion of references&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;﻿ Ovaskainen O, Meerson B. Stochastic models of population extinction. Trends in Ecology &amp;amp; Evolution. 2010;(Box 3):1-10. Available at: &lt;a href=&quot;http://dx.doi.org/10.1016/j.tree.2010.07.009&quot; title=&quot;http://dx.doi.org/10.1016/j.tree.2010.07.009&quot;&gt;http://dx.doi.org/10.1016/j.tree.2010.07.009&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;﻿* Goel NS, Richter-Dyn N. Stochastic Models in Biology. The Blackburn Press; 2004:269. Available at: &lt;a href=&quot;http://www.amazon.com/Stochastic-Models-Biology-Narendra-Goel/dp/193066592X&quot; title=&quot;http://www.amazon.com/Stochastic-Models-Biology-Narendra-Goel/dp/193066592X&quot;&gt;http://www.amazon.com/Stochastic-Models-Biology-Narendra-Goel/dp/193066592X&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bjørnstad O, Finkenstädt B, BT. Dynamics of measles epidemics: estimating scaling of transmission rates using a time series SIR model. Ecological Monographs. 2002;72(2):169-184. Available at: &lt;a href=&quot;http://www.esajournals.org/doi/pdf/10.1890/0012-96152002072%5B0169%3ADOMEES%5D2.0.CO%3B2&quot; title=&quot;http://www.esajournals.org/doi/pdf/10.1890/0012-9615(2002)072%5B0169%3ADOMEES%5D2.0.CO%3B2&quot;&gt;http://www.esajournals.org/doi/pdf/10.1890/0012-9615(2002)072%5B0169%3ADOMEES%5D2.0.CO%3B2&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Grenfell BT, Bjørnstad ON, Finkenstädt BF. Dynamics of measles epidemics: scaling noise, determinism, and predictability with the TSIR model. Ecological Monographs. 2002;72(2):185-202. Available at: &lt;a href=&quot;http://www.esajournals.org/doi/pdf/10.1890/0012-96152002072%5B0185%3ADOMESN%5D2.0.CO%3B2&quot; title=&quot;http://www.esajournals.org/doi/pdf/10.1890/0012-9615(2002)072%5B0185%3ADOMESN%5D2.0.CO%3B2&quot;&gt;http://www.esajournals.org/doi/pdf/10.1890/0012-9615(2002)072%5B0185%3ADOMESN%5D2.0.CO%3B2&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;update-on-manuscripts&quot;&gt;Update on Manuscripts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Revisited the summary report I’d sent Alan with updates on each project. Discussed beetles project two-step process (see Grenfell references above addressing similar concerns but in discrete time).&lt;/li&gt;
&lt;li&gt;Focus on the warning signals paper. Aim to have the power analysis result finished by meeting next Thursday, 3pm.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Lab Notebooks</title>
   <link href="/2010/09/07/lab-notebooks.html"/>
   <updated>2010-09-07T01:23:45-07:00</updated>
   <id>h/2010/09/07/lab-notebooks</id>
   <content type="html">&lt;p&gt;I strive for a transparent and reproducible research process.  My lab notebooks are kept on an open wiki (via &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger&quot;&gt;OpenWetWare&lt;/a&gt;).  I curate the literature I read into several public lists (&lt;a href=&quot;http://www.mendeley.com/profiles/carl-boettiger&quot;&gt;Mendeley&lt;/a&gt;), maintain my research source code and simulations on a collective database for open source development (&lt;a href=&quot;http://github.com/cboettig&quot;&gt;Github&lt;/a&gt;), and am active on academic forums and mailing lists. These web-based tools make a largely automated, interlinked archive of my work I can search, update and share easily.  They have native social media functionality which helps me connect to related research and extend my impact.&lt;/p&gt;
&lt;p&gt;My lab notebooks haven’t yet been migrated to this site. Currently they can still be found on OpenWetWare.  I may consider migrating them here in the future.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics&quot;&gt;Comparative Phylogenetics&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Stochastic_Population_Dynamics&quot;&gt;Stochastic Population Dynamics&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A more at-a-glance view of my research comes from my&lt;a href=&quot;http://www.carlboettiger.info/research/open-science&quot;&gt;activity feeds&lt;/a&gt;.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting with Sam</title>
   <link href="/2010/09/07/Meeting-with-Sam.html"/>
   <updated>2010-09-07T00:00:00-07:00</updated>
   <id>h/2010/09/07/Meeting-with-Sam</id>
   <content type="html">&lt;p&gt;Discussing elements of likelihood ratio manuscript and review results from release of constraint data. Figure out what to include in one manuscript, what order to present elements in, and what examples are necessary.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Phylogenetic Signal introduction. Need for examples? A good example where phylogenetically independent contrasts is misleading, but lambda/K definition of phylogenetic signal is also misleading.&lt;/li&gt;
&lt;li&gt;Power in phylogenetic tree:&lt;/li&gt;
&lt;li&gt;&lt;img src=&quot;http://openwetware.org/images/8/8c/Full_power_examples.png&quot; title=&quot;Power in Trees&quot; alt=&quot;image&quot; /&gt;&lt;/li&gt;
&lt;li&gt;Likelihood ratio and model choice: Monte Carlo LR approach, support in the literature http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/08/25.
&lt;ul&gt;
&lt;li&gt;Release of Constraint. &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/07/28&quot;&gt;Cetartiodactyle body size&lt;/a&gt;, &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/07/26&quot;&gt;Parrotfish&lt;/a&gt;, &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/08/05&quot;&gt;others&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;run-analyses-directly-in-lab-notebook&quot;&gt;Run analyses directly in lab notebook&lt;/h2&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>evolution Research Abstract</title>
   <link href="/2010/09/04/hello-world-2.html"/>
   <updated>2010-09-04T09:51:53-07:00</updated>
   <id>h/2010/09/04/hello-world-2</id>
   <content type="html">&lt;p&gt;Comparative methods in evolutionary biology use phylogenetic trees to explore the origins and maintenance of biodiversity. I develop methods to extend the kinds of questions we can ask and also to test the statistical limits of our ability to make evolutionary inferences through such a periscope into the past.  I am particularly interested in detecting evolutionary regime shifts – locations in evolutionary history where the governing rules or parameters shift suddenly – as well as more general questions of model choice, informativeness &amp;amp; identifiability in phylogenetic inference.&lt;/p&gt;
&lt;p&gt;This is the cover page to my phylogenetics research.  Below are displayed the live rss feeds for the current entries in the notebook, most recent articles, figures and commits to the code.  This serves to give a brief overview of the project’s current status through these different aspects.&lt;/p&gt;
&lt;h2 id=&quot;recent-notebook-entries&quot;&gt;&lt;a href=&quot;http://www.carlboettiger.info/archives/category/phylogenetics&quot;&gt;Recent Notebook Entries&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[rssinpage rssfeed=‘http://www.carlboettiger.info/archives/category/phylogenetics/feed’ rssformat=‘x: Y’ rssitems=“5” rssdateformat=‘j F Y’ rsstimezone=‘America/Los_Angeles’]&lt;/p&gt;
&lt;h2 id=&quot;recently-added-articles&quot;&gt;&lt;a href=&quot;http://www.mendeley.com/groups/529971/phylogenetic-methods/overview/&quot;&gt;Recently Added Articles&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[rssinpage rssfeed=‘http://www.mendeley.com/groups/529971/phylogenetic-methods/feed’ rssformat=‘x: Y’ rssitems=“5” rssdateformat=‘j F Y’ rsstimezone=‘America/Los_Angeles’]&lt;/p&gt;
&lt;h2 id=&quot;recent-figures&quot;&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/tags/phylogenetics/&quot;&gt;Recent Figures&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[flickr-gallery mode=“tag” tags=“phylogenetics” &lt;code&gt;tag_mode=&amp;quot;all&amp;quot;&lt;/code&gt;]&lt;/p&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics&quot;&gt;Code Updates&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;[cetsEmbedRSS id=http://github.com/cboettig/Comparative-Phylogenetics/commits/master.atom itemcount=5 itemauthor=0 itemdate=1 itemcontent=0]&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Updating examples of stochastic structured population dynamics</title>
   <link href="/2010/09/02/Updating-examples-of-stochastic-structured-population-dynamics.html"/>
   <updated>2010-09-02T00:00:00-07:00</updated>
   <id>h/2010/09/02/Updating-examples-of-stochastic-structured-population-dynamics</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4951239235/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4125/4951239235_6c3c8f7c9a.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Demonstrating the differences in accounting for the two-step transitions explicitly.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dotted lines show the one_step process, solid show the two_step process. &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/1e5c89c02c0e34665ffafeb13894ab8c7787a05c/demos/beetles_example.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/1e5c89c02c0e34665ffafeb13894ab8c7787a05c/demos/beetles_example.R&quot;&gt;code&lt;/a&gt;. Code embedded below (experimental, wonder if this is easier than following the link).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; Summer Research Summary ———————–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finished and sent off the summer research summary for my afternoon meeting with Adam and Micha.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Entry title</title>
   <link href="/2010/09/01/Entry-title.html"/>
   <updated>2010-09-01T00:00:00-07:00</updated>
   <id>h/2010/09/01/Entry-title</id>
   <content type="html">&lt;p&gt;Automated scripts for image uploads. Tag-based generation of a slideshow:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; Running the script:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; ./flickr_slideshow *.png&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Creates the html code that can be embedded into the notebook for a slideshow those images. Images only get the date-time tag as a unique id.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; This one uses the mediawiki plugin. More formatting options could be incorporated of course. (Creates the thumbnail images down the right-hand side).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4948495209/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4123/4948495209_c4ed1eae65_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4948495397/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4083/4948495397_572743d7f2_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4948495377/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4133/4948495377_3e2e5d7cdd_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4949084108/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4089/4949084108_951a7f0ffd_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4948495319/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4088/4948495319_a0faf77aea_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4949084050/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4103/4949084050_5cdd93caa6_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4949084018/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4131/4949084018_5a8a09cbdc_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4949084074/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4145/4949084074_cca4f29743_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4948495433/&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4085/4948495433_905a01901f_t.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Good practice/brush up on my regular expressions and bash scripting anyway. Scripts re-upload images each time, even if the image hasn’t changed. Makes the photostream confusing but that’s only temporary. Could simply add the figures to the version management, might be easier, though doesn’t enable things like the slideshow or the social options on a particular figure. Maybe just as well that it’s a free account, duplicates whose urls I don’t track will be lost to the ether.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Adaptive Dynamics Runs ———————-&lt;/p&gt;
&lt;p&gt;Above figures correspond to these &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_demo.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_demo.R&quot;&gt;analytic approximations&lt;/a&gt; and &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/R/coexist_time.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/R/coexist_time.R&quot;&gt;coexistence simulations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now Re-running coexistence simulations on the (-0.2, 0.2) grid and plotting side-by-side with analytics on same parameters; &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/0f9a7975a8dd47c9a7683484a38a4f3bd3f9ad00/demos/coexist_demo.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/0f9a7975a8dd47c9a7683484a38a4f3bd3f9ad00/demos/coexist_demo.R&quot;&gt;code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2010/08/31/Tuesday.html"/>
   <updated>2010-08-31T00:00:00-07:00</updated>
   <id>h/2010/08/31/Tuesday</id>
   <content type="html">&lt;p&gt;Much of today’s activity included in yesterday’s.&lt;/p&gt;
&lt;h2 id=&quot;recording-reading&quot;&gt;Recording Reading&lt;/h2&gt;
&lt;p&gt;Still looking for a good way to capture time snapshots of what I’ve read. Perhaps the Mendeley API will have a good solution. Here I try twapper-keeper to create an rss of my tweets on a given day, and the google api, but not very ideal solutions. Checked a variety of ways to &lt;a href=&quot;http://www.readwriteweb.com/archives/6_ways_to_filter_your_rss_feeds.php&quot; title=&quot;http://www.readwriteweb.com/archives/6_ways_to_filter_your_rss_feeds.php&quot;&gt;filter rss feeds&lt;/a&gt; by date so that it would just show the current ones, none seem to manage this though.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; Loading…&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Summer Review</title>
   <link href="/2010/08/30/Summer-Review.html"/>
   <updated>2010-08-30T00:00:00-07:00</updated>
   <id>h/2010/08/30/Summer-Review</id>
   <content type="html">&lt;h3 id=&quot;stochastic-population-dynamics-in-beetles&quot;&gt;Stochastic Population Dynamics in Beetles&lt;/h3&gt;
&lt;p&gt;-&lt;/p&gt;
&lt;h3 id=&quot;early-warning-from-fluctuations-in-populations&quot;&gt;Early Warning from Fluctuations in Populations&lt;/h3&gt;
&lt;p&gt;-&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/08/30/Adaptive-Dynamics.html"/>
   <updated>2010-08-30T00:00:00-07:00</updated>
   <id>h/2010/08/30/Adaptive-Dynamics</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/46456847@N08/4942856122/&quot; title=&quot;analytic_contours1 by cboettig, on Flickr&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4142/4942856122_41461002c9.jpg&quot; alt=&quot;analytic_contours1&quot; /&gt;&lt;/a&gt; Simulation Results (&lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/R/coexist_time.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/R/coexist_time.R&quot;&gt;code&lt;/a&gt;) &lt;a href=&quot;http://www.flickr.com/photos/46456847@N08/4942856132/&quot; title=&quot;coexist_sim1 by cboettig, on Flickr&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4074/4942856132_6b916510c2.jpg&quot; alt=&quot;coexist_sim1&quot; /&gt;&lt;/a&gt; Analytics (&lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot;&gt;Analytics code&lt;/a&gt;)&lt;/p&gt;
&lt;h2 id=&quot;notebooks-and-files&quot;&gt;Notebooks and files&lt;/h2&gt;
&lt;p&gt;Looking at a better way to get figures into my online notebook. I often run simulations that generate figures which I look at, make some adjustments to the code based on the figure, and then delete or overwrite the figure without uploading it to my notebook, because it isn’t “right” or “finished” and uploading takes a lot of clicks, particularly when the code generates 36 figures in a run. Then I discover on some later date that I really want to take another look at the figure. While I usually have the version of the code that generated it saved in github, the codes sometimes take many hours to run, so this isn’t very efficient – it would make much more sense to have everything saved in the notebook. I’m looking into photo hosting sites for figures, as I think these could offer many other benefits as well. Seeing what friendfeed can suggest on this:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Exploring Flickr for scientific figures in my notebook&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4942856122/&quot; title=&quot;analytic_contours1&quot;&gt;&lt;img src=&quot;http://farm5.static.flickr.com/4142/4942856122_41461002c9_m.jpg&quot; alt=&quot;analytic_contours1&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.flickr.com/photos/cboettig/4942856122/&quot; title=&quot;Enlarge&quot;&gt;&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Image embedded using the mediawiki flickr plugin&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;So I’ve set up a &lt;a href=&quot;http://www.flickr.com/photos/46456847@N08/&quot; title=&quot;http://www.flickr.com/photos/46456847@N08/&quot;&gt;flickr account&lt;/a&gt;. First things first: edit settings so default permissions are cc-by. Now time to explore.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;First concern was for permanent stable links, which it seems are guaranteed even in the free account. Will wait and see if I need the capacity of the pro account, but 100MB/month should be a good start.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;offlinedesktop-tools-for-flickr&quot;&gt;Offline/Desktop tools for Flickr&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One of the most promising things about flickr seems to be the extensive development around it. Several linux native programs support Flickr, including the social netwoking manager, gwibber. Particularly interested in tools that will let me have the automated, command-line upload ability to connect to my notebook. Even if I can automatically get figures into Flickr, I guess there’s still the step of getting them into the notebook. I’m beginning to understand more and more why Cameron talks about aggregators so much. Meanwhile, looking at two ubuntu-native tools:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://code.google.com/p/dfo/&quot; title=&quot;http://code.google.com/p/dfo/&quot;&gt;DFO&lt;/a&gt;, the Desktop flickr organizer for gnome. Looks nice, easy GUI, very polished. However, no longer under active development and not sure if it has command line support. Can be installed with apt-get.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;–Carl Boettiger 18:21, 30 August 2010 (EDT) Doesn’t seem reliable for uploading, sometimes images don’t appear&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://sites.google.com/site/manishrjain/flickrfs#usage&quot; title=&quot;http://sites.google.com/site/manishrjain/flickrfs#usage&quot;&gt;flickrfs&lt;/a&gt; – remote mount your flickr account like a directory. No interface but then acting like a directory means immediate interoperability with command line and other desktop applications. Should make adding/uploading very easy. Uses filename.meta for metadata. Can be installed directly with apt-get.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;–Carl Boettiger 18:21, 30 August 2010 (EDT) Unable to actually get the directory to mount with user permissions. Mounts but unable to add with root permissions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://kflickr.sourceforge.net/wikka.php?wakka=Kflickr&quot; title=&quot;http://kflickr.sourceforge.net/wikka.php?wakka=Kflickr&quot;&gt;kflickr&lt;/a&gt;: native KDE flickr uploader. Works great, simple and intuitive. Just for uploading though. No obvious command line interface.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.webupd8.org/2010/03/nautilus-flickr-uploader-linux.html&quot; title=&quot;http://www.webupd8.org/2010/03/nautilus-flickr-uploader-linux.html&quot;&gt;Nautilus integration&lt;/a&gt; works. simple, easy. We’ll see about scripting. apt-get able: nautilus-flickr-uploader&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://search.cpan.org/~cpb/Flickr-Upload/flickr_upload&quot; title=&quot;http://search.cpan.org/~cpb/Flickr-Upload/flickr_upload&quot;&gt;flickr_upload&lt;/a&gt;&lt;/strong&gt; Yay, an easy to use command-line tool that just works. This looks very promising, able to upload photos and add tags with ease.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; flickr_upload --tag=&amp;quot;my_tag&amp;quot; image.jpg&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;from-flickr-to-notebook&quot;&gt;From Flickr to Notebook&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Can embed flickr using the &lt;a href=&quot;http://wiki.edsimpson.co.uk/index.php/Extended_Flickr_Extension_Syntax#Size&quot; title=&quot;http://wiki.edsimpson.co.uk/index.php/Extended_Flickr_Extension_Syntax#Size&quot;&gt;mediawiki plugin&lt;/a&gt;. Note that syntax is a bit picky, no spaces, a few set sizes. Can always embed as above with html, which, unlike photobucket embed, lets you set the image size in the html.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Looking for embedding options for a whole collection. Flickr supports “sets” and other kinds of groups (including tags). Site will make a slideshow of a set but prevents iframe embedding:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;  &amp;lt;html&amp;gt;&amp;lt;iframe height=&amp;quot;500px&amp;quot; width=&amp;quot;1000px&amp;quot; src=&amp;quot;http://www.flickr.com/photos/46456847@N08/sets/72157624718737779/show/&amp;quot;&amp;gt;
&amp;lt;/iframe&amp;gt;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ah, seems to have it’s own embedding option linked from its slideshow.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Slideshows can also be created using tags. Replacing every instance of the tag in the embed script with the new tag works to create a slideshow of that tag, making it easy to automate this. So, with a single commandline call I can embed the full 30 likelihood ratio comparisons from a few days ago:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;flickr_upload --tag=&amp;quot;LR_anoles&amp;quot; *vs*.png&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;adaptive-dynamics-analytics-results&quot;&gt;Adaptive Dynamics Analytics Results&lt;/h2&gt;
&lt;p&gt;The numerical coexistence time simulations are still running, meanwhile here are the rest of the analytic set (and one simulation that finished). &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/a4374f840ca0ff81bc2775eff6309a904640bf99/demos/coexist_analytics.R&quot;&gt;See code&lt;/a&gt; for parameters etc.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt; More Open Notebook Science discussion ————————————-&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood ratio ToDo</title>
   <link href="/2010/08/27/Likelihood-ratio-ToDo.html"/>
   <updated>2010-08-27T00:00:00-07:00</updated>
   <id>h/2010/08/27/Likelihood-ratio-ToDo</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Inclusion of power figure, discussion of power. (include comparison to smaller trees?)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-todo&quot;&gt;Code ToDo&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Fix parallelization – lower-level parallelization in LR_boot function seems to have high memory and processing overhead. Parallelize over alpha only. Funny that sfSapply at lower level conflicts when inside an upper-level sfSapply call? Can the lower level be put into sequential mode? Requires more experimenting, probably with simple test functions.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Create package around power analysis, including ability to test bootstraps&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Testing of optimizer convergence / error handling in the traitmodels method&lt;/li&gt;
&lt;li&gt;remove traitmodels dependence from power analysis library?&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Incorporate faster linear method from traitmodels (at least for bm and ou1) into the wrightscape package…&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Power test results ——————&lt;/p&gt;
&lt;p&gt;An estimate of how informative a phylogeny is for applications in comparative methods. The independent of trait data, depending only on the structure and size of the tree. (i.e. more taxa help, but unresolved polytomes help less – a large star tree has zero power). All trees are normalized to unit length for comparison of the weakest strength of selection detectable on the tree. For instance, in the 5-taxa primate tree, even if the strength of selection were strong enough to decrease the correlation between ancestors (by e^-2) along a branch only 1/50th of the whole tree length, one would still have only about a 20% chance of detecting that force (at the 95% confidence level). Meanwhile on the carnivora tree one would have about 70% chance of detecting a force of selection 50 times weaker than that, a force that would take the entire time in the tree to decrease the correlation between ancestors by e^-2.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/8/8c/Full_power_examples.png&quot; alt=&quot;Image:Full_power_examples.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Full_power_examples.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/416b1535c4d201a6733667fb38fa744dda1eb510/demos/power_examples.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/416b1535c4d201a6733667fb38fa744dda1eb510/demos/power_examples.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood Ratio Paper- Power in Trees</title>
   <link href="/2010/08/26/Likelihood-Ratio-Paper--Power-in-Trees.html"/>
   <updated>2010-08-26T00:00:00-07:00</updated>
   <id>h/2010/08/26/Likelihood-Ratio-Paper--Power-in-Trees</id>
   <content type="html">&lt;p&gt;&lt;br /&gt; ### Power in Trees tests (Results from single OU simulation per alpha, run yesterday)&lt;/p&gt;
&lt;p&gt;2000 replicates gives a cleaner picture of the critical alpha, though with low alpha values the estimates of p are quite variable. Also more variable on the smaller trees. Even arbitrarily large alpha aren’t significant on the 5-taxa primate tree. On the small geospiza tree (13 taxa) from the geiger package we find:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;0.5735   0.29  0.704 0.6465  0.993  0.838 0.8605 0.9355  0.782  0.845   0.93 
 &amp;quot;0.1&amp;quot;  &amp;quot;0.2&amp;quot;  &amp;quot;0.3&amp;quot;  &amp;quot;0.4&amp;quot;  &amp;quot;0.5&amp;quot;  &amp;quot;0.6&amp;quot;  &amp;quot;0.7&amp;quot;  &amp;quot;0.8&amp;quot;  &amp;quot;0.9&amp;quot;    &amp;quot;1&amp;quot;    &amp;quot;2&amp;quot; 
 0.945 0.9985  0.958 0.7725 0.9995  0.982  0.949  0.992      1   0.99  0.999 
   &amp;quot;3&amp;quot;    &amp;quot;4&amp;quot;    &amp;quot;5&amp;quot;    &amp;quot;6&amp;quot;    &amp;quot;7&amp;quot;    &amp;quot;8&amp;quot;    &amp;quot;9&amp;quot;   &amp;quot;10&amp;quot;   &amp;quot;20&amp;quot;   &amp;quot;30&amp;quot;   &amp;quot;40&amp;quot; 
0.9895 
  &amp;quot;50&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;P values on top row, alpha values in quotes below the p value. Notice 9 fails to be significant at 0.95% confidence level, though might as easily be somewhere around 6. For the Labrid tree with 114 taxa the pattern is clearer though not perfect:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; 0.621  0.502 0.9735   0.66 0.5185 0.8075 0.9975 0.9665  0.907  0.997 0.9945 
 &amp;quot;0.1&amp;quot;  &amp;quot;0.2&amp;quot;  &amp;quot;0.3&amp;quot;  &amp;quot;0.4&amp;quot;  &amp;quot;0.5&amp;quot;  &amp;quot;0.6&amp;quot;  &amp;quot;0.7&amp;quot;  &amp;quot;0.8&amp;quot;  &amp;quot;0.9&amp;quot;    &amp;quot;1&amp;quot;    &amp;quot;2&amp;quot; 
     1      1      1      1      1      1      1      1      1      1      1 
   &amp;quot;3&amp;quot;    &amp;quot;4&amp;quot;    &amp;quot;5&amp;quot;    &amp;quot;6&amp;quot;    &amp;quot;7&amp;quot;    &amp;quot;8&amp;quot;    &amp;quot;9&amp;quot;   &amp;quot;10&amp;quot;   &amp;quot;20&amp;quot;   &amp;quot;30&amp;quot;   &amp;quot;40&amp;quot; 
     1 
  &amp;quot;50&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Significance clearly sets in between alpha of 0.9 and 1.&lt;/p&gt;
&lt;p&gt;Summary:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; birds$min_alpha
[1] 10
13 taxa
&amp;gt; primates$min_alpha
[1] 1000
(5 taxa)
&amp;gt; carnivora$min_alpha
[1] 1
260 taxa
&amp;gt; labrids$min_alpha
[1] 1
114 taxa
&amp;gt; carex$min_alpha
[1] 2
53 taxa
&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h4 id=&quot;reducing-the-noise-in-the-power-estimation&quot;&gt;reducing the noise in the power estimation&lt;/h4&gt;
&lt;p&gt;I’ve just implemented the power test for the smallest alpha that can be detected at the 95% level using the (whatarewecallingitnow) likelihood ratio monte carlo approach on a given tree. I try simulating under successively higher alpha values and then see if the resulting dataset can be distinguished. In my first implementation, this involves only one simulation from the OU model at a given alpha, and then the N bootstrap simulations from the null brownian model per alpha.&lt;/p&gt;
&lt;p&gt;Obviously I want more than one simulation from the OU process. It seems I could (1) simulate under the OU model of a given alpha, (2) fit the BM model to the resulting data, (3) simulate under that BM model to get the “bootstrap” data, for which (4) I refit the BM and OU models and compare the likelihood ratio of these refit models. That sounds pretty convoluted when I describe it that way, but I think this is the “natural” thing to do? i.e. steps 2-4 are the bootstrap process which I normally repeat N times for a single dataset, now instead of using a single dataset I draw a dataset from the distribution….&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; New approach: multiple simulations from alpha ———————————————&lt;/p&gt;
&lt;h4 id=&quot;plots-show-decreasing-power-with-decreasing-alpha&quot;&gt;Plots show decreasing power with decreasing alpha&lt;/h4&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/ec/Power_alpha5.png/180px-Power_alpha5.png&quot; alt=&quot;Anoles data at alpha=25. Red curve is the LR distribution when simulations come from OU with alpha=25, blue line is LR distribution when simulations come from BM models fit to those OU-generated data&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles data at alpha=25. Red curve is the LR distribution when simulations come from OU with alpha=25, blue line is LR distribution when simulations come from BM models fit to those OU-generated data&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles data at alpha=25. Red curve is the LR distribution when simulations come from OU with alpha=25, blue line is LR distribution when simulations come from BM models fit to those OU-generated data&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/9/9a/Power_alpha1.png/180px-Power_alpha1.png&quot; alt=&quot;Anoles data at alpha=1.&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles data at alpha=1.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles data at alpha=1.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/7/79/Power_alpha.png/180px-Power_alpha.png&quot; alt=&quot;Anoles data at alpha=0.25.&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles data at alpha=0.25.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles data at alpha=0.25.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; New procedure:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;   ## Draw a data sample from the distribution produced by test
    data &amp;lt;- simulate(test, n=nboot)
 
    ## fit the null models to these data -- so we simulate from the appropriate null
    nulls &amp;lt;- lapply(1:nboot, function(i){
            update(null, data[[i]])
    })
    tests &amp;lt;- lapply(1:nboot, function(i){
            update(test, data[[i]])
    })
    t0_dist &amp;lt;- sapply(1:nboot, function(i){
        if(is(tests[[i]], &amp;quot;hansentree&amp;quot;)){ t0 &amp;lt;- -2*(nulls[[i]]@loglik - tests[[i]]@loglik) }
        else { t0 &amp;lt;- -2*(nulls[[i]]@loglik - tests[[i]]$loglik) }
    })
 
 
    ## Data come from a distribution of nulls, 
    X &amp;lt;- sapply(1:nboot, function(i){
        simulate(nulls[[i]])
    })
 
    t &amp;lt;- sapply(1:nboot, function(i){
        refit_null &amp;lt;- update(null, X[[i]])
        refit_test &amp;lt;- update(test, X[[i]])
        if(is(refit_test, &amp;quot;hansentree&amp;quot;)){ out &amp;lt;- -2*(refit_null@loglik - refit_test@loglik) }
        else { out &amp;lt;- -2*(refit_null@loglik - refit_test$loglik) }
        out
    })
 
 plot(density(out$t), col=&amp;#39;blue&amp;#39;, lwd=3,xlim=range(c(out$t0_dist,out$t)) )
 lines(density(out$t0_dist), col=&amp;#39;red&amp;#39;, lwd=3)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/4/4b/Null_LR.png/180px-Null_LR.png&quot; alt=&quot;Null distributions of the LR all lie on top of eachother regardless of sigma&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Null distributions of the LR all lie on top of eachother regardless of sigma&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Null distributions of the LR all lie on top of eachother regardless of sigma&lt;/p&gt;
&lt;p&gt;From these it is possible to estimate the power (see &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/6f6c8d70d342761e508e949f710aced716ddf472/R/powertest.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/6f6c8d70d342761e508e949f710aced716ddf472/R/powertest.R&quot;&gt;powertest.R code&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Note that the null distribution (the blue curve) doesn’t actually differ and so doesn’t need to be re-simulated with different values.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/c/c1/Anoles_power.png/180px-Anoles_power.png&quot; alt=&quot;anoles power&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;anoles power&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Meanwhile ———&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Finishing the story on model choice in the Anoles dataset. Resimulating with extra replicates and including all 5 original models.&lt;/li&gt;
&lt;li&gt;Good news is that 2000 bootstraps on all 6 models against each other is quite fast on the 16-processor &lt;em&gt;zero&lt;/em&gt;, an hour or so. Bad news is the ou2 funny painted model isn’t bootstrapping the LR correctly, though all the other pairs are.&lt;/li&gt;
&lt;li&gt;Other sorta bad news is that OU_LP does a handy job at beating all other models under Monte Carlo Likelihood Ratio test, so the final conclusion doesn’t have the punchiness a contradiction would. At least the contrived OU2 contradicts this. Should also add the “all different” painting to the mix to demonstrate. –Carl Boettiger 01:24, 27 August 2010 (EDT) Fixed, order of nodes conflicted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;slideshow-of-results&quot;&gt;Slideshow of results&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;http://photobucket.com/redirect/album?showShareLB=1&quot;&gt;&lt;img src=&quot;http://pic.pbsrc.com/share/icons/embed/btn_geturs.gif&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;a href=&quot;http://s1212.photobucket.com/albums/cc458/cboettig/&quot;&gt;&lt;img src=&quot;http://pic.pbsrc.com/share/icons/embed/btn_viewall.gif&quot; alt=&quot;image&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;p&gt;–Carl Boettiger 03:26, 27 August 2010 (EDT)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Just implemented the fast version of the power test, which avoids re-simulating from the Brownian motion null, and handles the parallelization with more finesse, and as a single function. Set to run examples overnight.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Removed the traitmodels support from the power test for the moment, until the convergence issues are dealt with. The s3/s4 class differences to access elements make this annoying as method dependency must be handled explicitly by if statements not automatically by class generics. (guess could access by index? – Nope, S4 classes aren’t subsettable)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;updated-power-curves-for-trees&quot;&gt;Updated power curves for trees&lt;/h4&gt;
&lt;p&gt;Using the faster approach avoiding re-sampling the null distribution for each alpha, I generate power curves for trees of different sizes and complexity. The larger, richer trees show more power.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/916ec3622b5b51578c2fe871584f1846b1bddf1f/R/powertest.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/916ec3622b5b51578c2fe871584f1846b1bddf1f/R/powertest.R&quot;&gt;Code for method&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/83e0ecf41603d4f6280f9e497be89c152e661107/demos/power_examples.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/83e0ecf41603d4f6280f9e497be89c152e661107/demos/power_examples.R&quot;&gt;Code for example&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/d/d8/Fast_power_examples.png&quot; alt=&quot;Image:Fast_power_examples.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Fast_power_examples.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood Ratio Manuscript</title>
   <link href="/2010/08/25/Likelihood-Ratio-Manuscript.html"/>
   <updated>2010-08-25T00:00:00-07:00</updated>
   <id>h/2010/08/25/Likelihood-Ratio-Manuscript</id>
   <content type="html">&lt;h3 id=&quot;graham-peter-meeting&quot;&gt;Graham &amp;amp; Peter Meeting&lt;/h3&gt;
&lt;h4 id=&quot;some-comments-on-neyman-pearson-and-approaches&quot;&gt;Some comments on Neyman Pearson and approaches&lt;/h4&gt;
&lt;p&gt;&amp;gt; In the phylogenetics world, Huelsenbeck has a paper doing this: &amp;quot; A Likelihood Ratio Test to Detect Conflicting Phylogenetic Signal&amp;quot; and there’s a good introduction to the paper.&lt;/p&gt;
&lt;p&gt;This is great, nice to know there’s a basis for it.&lt;/p&gt;
&lt;p&gt;&amp;gt; I see that in the paper John references, &amp;quot; Statistical tests of models of DNA substitution “, they call what you’re doing”Monte Carlo&amp;quot;, and refers to some sort of resampling-the-data equivalent as the bootstrap. The references in that paper are useful: Riplay ’87 and Cox ’61 and ’62. (the first Cox paper is the one I referred to before)&lt;/p&gt;
&lt;p&gt;Yes, it seems a lot of the literature assumes bootstrap means non-parametric bootstrap, and there also seems some bias against the word, so Monte Carlo might be more useful, if less precise, than calling it parametric bootstrap.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &amp;gt; There’s also some literature on mixture models, for instance, in “On Bootstrapping the Likelihood Ratio Test Stastistic for the Number of Components in a Normal Mixture”:&lt;/p&gt;
&lt;p&gt;&amp;gt; &amp;quot; In many situations in practice, for example in cluster analysis where g is the number of components correspond the number of non-overlapping clusters to be produced for the to data, there is no a priori knowledge of g. An obvious way of approaching this problem is to use the likelihood ratio test statistic to test for the smallest value of g compatible with the data. Unfortunately with mixture models, it is well known that regularity conditions do not hold for -2 log A to have its usual asymptotic null distribution of chi-squared with degrees of freedom equal to the difference between the number of parameters under the null and alternative hypotheses. In the context of latent class models, Aitkin, Anderson and Hinde (1981) assessed the null distribution -2 log A using a resampling of method which can be viewed as a particular application of the general bootstrap approach of Efron (1979, 1982). The assessment made is on the basis of a number, say K, of bootstrap replications of -2 log A obtained by appropriate of resampling. More recently, Aitkin and Rubin (1985) adopted an approach which places a prior distribution on the vector of mixing proportions over which the likelihood is integrated before the evaluation of -2 log A. &amp;quot;&lt;/p&gt;
&lt;p&gt;&amp;gt; However, they do things somewhat differently: they re-estimate their parameters for each bootstrapped replicate, and take the likelihood ratio with the resulting parameters.&lt;/p&gt;
&lt;p&gt;This is in fact what I am doing. This makes more sense to me since it treats the simulated data. I should make sure to be more explicit in the paper.&lt;/p&gt;
&lt;p&gt;&amp;gt; Hm, and crucially, here’s a section from Goldman “…DNA substitution” “It is crucially important that these likelihoods be maximized independently for each i (i.e., \alpha and \beta must be estimated separately for each x_i) when performing the Monte Carlo simulation, and not simply calculated under the assumption that \hat \alpha and \hat \beta as estimated from the original data; equation (9b)] are correct.”&lt;/p&gt;
&lt;p&gt;&amp;gt; They refer to Hall and Wilson as saying that not doing this: e.g. not re-estimating the parameters each time, dramatically reduces the power. That paper looks like a good one. Although it says it’s about “nonparametric” bootstrapping; I would have thought this was parametric bootstrapping.&lt;/p&gt;
&lt;p&gt;Right, I have tried both and have found the same thing. Great to have the references to justify it. I’m with you on parametric/non-parametric, though all the non-parametric Bayesians use “non-parametric” in the same sense, as the number of parameters varies with the richness of the data, rather than being predefined.&lt;/p&gt;
&lt;p&gt;&amp;gt; &lt;a href=&quot;http://www.bibsonomy.org/user/peter.ralph/bootstrapAll&quot; title=&quot;http://www.bibsonomy.org/user/peter.ralph/bootstrapAll&quot;&gt;these papers&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### some more comments&lt;/p&gt;
&lt;p&gt;-So, Butler and King choose your OU.3 out of their five models? And where do you end up? There is a bit of resolution lacking, here.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; -Do you check to see if the empirical likelihood distributions are relatively stable? (e.g. simulating more isn’t changing them much)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; -We really ought to find this talked about in the statistical literature. The test of the sort we are talking about is proposed in Cox, “Tests of Separate Families of Hypotheses”, &lt;a href=&quot;http://projecteuclid.org/euclid.bsmsp/1200512162&quot; title=&quot;http://projecteuclid.org/euclid.bsmsp/1200512162&quot;&gt;http://projecteuclid.org/euclid.bsmsp/1200512162&lt;/a&gt; equation (48). Except this does not involve bootstrapping; this has probably been dealt with in the literature. They seem to do this in high-energy physics: &lt;a href=&quot;http://www.springerlink.com/content/q02303062221314n/&quot; title=&quot;http://www.springerlink.com/content/q02303062221314n/&quot;&gt;http://www.springerlink.com/content/q02303062221314n/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; . 2: “correlation typically strongest under a BM model” — really?&lt;/p&gt;
&lt;p&gt;. 4: Not clear why if “The sample points are then statistically independent and the method of phylogenetically independent contrasts will be positively misleading.”&lt;/p&gt;
&lt;p&gt;in general: the processes generally only “reach” the stationary distribution colloquially – to be correct, they “approach” it.&lt;/p&gt;
&lt;p&gt;. 4: For example 1(c), it seems like the two models (correlation due to phylogeny or due to selection towards different optima) may not actually be separable, at least if the branches are long as you imply. (oh, you talk about this on p. 5 ?)&lt;/p&gt;
&lt;p&gt;top of p. 5: For an OU model one can do independent contrasts also, is this not done?&lt;/p&gt;
&lt;p&gt;top of p. 6: The reasoning for “Insufficient data” isn’t so good.&lt;/p&gt;
&lt;p&gt;. 6: “Because the BM model does not have a stationary distribution, correlations established during shared history along a phylogeny are never erased…” – Actually, the correlation still approaches zero as the length of the terminal nodes grows: this approaches the star-tree, for which the tips are independent.&lt;/p&gt;
&lt;p&gt;. 7: “dividing the size data into two groups by maximum likelihood” – dividing by ML how?&lt;/p&gt;
&lt;p&gt;. 8, Figure 3: It seems that in Figure 3, each model’s distribution of AIC score is computed under itself? That is, the red curve were the AIC scores of observations got by simulating under the red model? If so, then the figure does not say that OU.2 outperforms the others. It says that AIC isn’t correctly penalizing, because if it was, all of those curves would be centered in the same place. (right? that’s the point of the penalization?) It would be better, if indeed you aren’t already, to simulate under one model and draw those curves.&lt;/p&gt;
&lt;p&gt;. 9: “most powerful test” means something specific; it shouldn’t be followed by “of the probability of falsely accepting the null hypothesis”.&lt;/p&gt;
&lt;p&gt;. 9: Do you have a citation for the likelihood ratio failing in the case of a boundary value?&lt;/p&gt;
&lt;p&gt;. 10: did you actually implement the bootstrap corrections of Efron et al?&lt;/p&gt;
&lt;p&gt;. 10: I think a better word than “confirm” could be used. Or at least some discussion.&lt;/p&gt;
&lt;p&gt;. 11: Discussion about OU.2 vs OU.3 – P=.06 isn’t all that small, considering the multiple testing going on? Some more discussion is called for.&lt;/p&gt;
&lt;p&gt;. 12 and elsewhere: Probably should avoid “robust” without specifying robust to what, since it means something specific.&lt;/p&gt;
&lt;p&gt;Fig 7: Why don’t you show the corresponding plot for OU.3 vs OU.*?&lt;/p&gt;
&lt;h4 id=&quot;more-comments-by-hand-on-manuscript-printout&quot;&gt;More comments by hand on manuscript printout&lt;/h4&gt;
&lt;h2 id=&quot;power-in-trees-direct-test&quot;&gt;Power in Trees direct test&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Implementing a direct test of power in trees, see &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/dab536f6c70a0bd47847bb088c4277c4b439c5e7/R/powertest.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/dab536f6c70a0bd47847bb088c4277c4b439c5e7/R/powertest.R&quot;&gt;powertest.R&lt;/a&gt; in Comparative-Phylogenetics. Approach simulates data on the tree at progressively higher values of alpha, and uses the Monte Carlo likelihood ratio test to decide the minimum alpha that can be detected relative to the length of the tree. Requires a single likelihood ratio bootstrap on each value of alpha to be tested.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added support for my older traitmodels function, which I’ve resurrected as a branch from the wrightscape library. located in ~/Documents/experimental/wrightscape-clone/wrightscape/R and is on a branch called single_peak_ou&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - Fits of OU are a subset of BM, so in principle should always outperform the likelihood of BM. Numerics struggle to converge in some cases giving wildly poor likelihoods though.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;parallelization is giving strange errors&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; Error in checkForRemoteErrors(val) : 
 one node produced an error: Starting of snow cluster failed! Error in socketConnection(port = port, server = TRUE, blocking = TRUE,   
 cannot open the connection&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;–Carl Boettiger 02:45, 26 August 2010 (EDT) Fixed by removing the snowfall parallelization in the LR_boot function.&lt;/p&gt;
&lt;h4 id=&quot;primates-example&quot;&gt;primates Example&lt;/h4&gt;
&lt;p&gt;using the trivial 5-taxa primate tree often used in ape package examples, minimum alpha exceeds all values tested (&amp;gt;2000). As expected.&lt;/p&gt;
&lt;h4 id=&quot;anoles-example&quot;&gt;Anoles Example&lt;/h4&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; out2 &amp;lt;- treepower(tree, nboot=100, cpu=1, alpha=alpha )
 
$min_alpha
[1] 6
 
$p
 [1] 0.27 0.86 0.65 0.21 0.17 0.98 0.16 0.69 0.39 0.93 0.97 0.97 1.00 1.00 0.94
[16] 1.00 0.99 1.00 0.99 1.00 1.00 1.00 1.00&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; #### Labrids Example&lt;/p&gt;
&lt;p&gt;appears to be somewhere around 1.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### Geospiza Example&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; birds2 &amp;lt;- treepower(ape2ouch(geospiza$geospiza.tree), nboot=100, cpu=1, alpha=alpha)
&amp;gt; birds2$p
 [1] 0.80 0.61 0.17 0.71 0.33 0.72 0.61 0.69 0.80 0.35 0.99 0.78 0.94 1.00 0.94
[16] 0.93 0.72 0.88 0.98 1.00 1.00 0.96 0.97
&amp;gt; alpha
 [1]  0.1  0.2  0.3  0.4  0.5  0.6  0.7  0.8  0.9  1.0  2.0  3.0  4.0  5.0  6.0
[16]  7.0  8.0  9.0 10.0 20.0 30.0 40.0 50.0
minimum detectable alpha is 9
 
&amp;gt; #fewer replicates, varied outcome
&amp;gt; out &amp;lt;- treepower(tree, nboot=40, cpu=1, alpha=alpha )
&amp;gt; out$p
 [1] 0.375 0.775 0.675 0.525 0.500 0.725 0.950 0.950 1.000 0.575 0.775 1.000
[13] 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000 1.000
minimum detectable alpha is 2&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; #### Running additional examples overnight =&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/08/19/Writing.html"/>
   <updated>2010-08-19T00:00:00-07:00</updated>
   <id>h/2010/08/19/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;revising likelihood ratio manuscript – added a section of conceptual examples to link the model choice and phylogenetic signal sections.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Entry title</title>
   <link href="/2010/08/19/Entry-title.html"/>
   <updated>2010-08-19T00:00:00-07:00</updated>
   <id>h/2010/08/19/Entry-title</id>
   <content type="html">&lt;p&gt;OWW was down, notebook embedded from springnote:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals -- still in code development</title>
   <link href="/2010/08/18/Warning-Signals----still-in-code-development.html"/>
   <updated>2010-08-18T00:00:00-07:00</updated>
   <id>h/2010/08/18/Warning-Signals----still-in-code-development</id>
   <content type="html">&lt;p&gt;OWW was down, notebook embedded from springnote:&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/17/Warning-Signals.html"/>
   <updated>2010-08-17T00:00:00-07:00</updated>
   <id>h/2010/08/17/Warning-Signals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Bootstrapping for likelihood ratios!&lt;/li&gt;
&lt;li&gt;Updated class behavior – all simulation and fitting routines now return timeseries objects as data with correct range and timestep.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;updated plotting routines. Likelihood ratio plotting function. Bootstraps of parameters can be plotted using the output from the likelihood ratio fit simulation, avoiding redundancy, just specify which model is desired. Bootstrap likelihood ratio plots includes the original ratio and calculates plot range using this information.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Warning signal model implementation needs to also receive the absolute time, and update alpha_0 as alpha_0 + beta*t&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/16/Warning-Signals.html"/>
   <updated>2010-08-16T00:00:00-07:00</updated>
   <id>h/2010/08/16/Warning-Signals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;bootstrapping models implemented&lt;/li&gt;
&lt;li&gt;improved handling of model classes – included T, t0, N, and X0 in object def&lt;/li&gt;
&lt;li&gt;implemented plotting for model bootstrap&lt;/li&gt;
&lt;li&gt;difficulties with changePt model fit remain. fixed one source of trouble – no longer passes zero-length data to OU.lik() when t_shift is outside the time interval.
&lt;ul&gt;
&lt;li&gt;Still giving errors on coercing lists into doubles for the saddle_node bifurcation simulated data set. –&lt;strong&gt;fixed&lt;/strong&gt;, was getting t_shift as a vector from time(X).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-tricks&quot;&gt;Code Tricks&lt;/h2&gt;
&lt;p&gt;Duncan pts out: the S3 mechanism is&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; custom =
 function(x, y, ...)
 UseMethod(&amp;quot;custom&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then that will find and use custom.foo, etc. based on the class of the value of x. You can have it dispatch on a different parameter, but that is not very common. And to dispatch on the types/classes of multiple parameters, e.g. x is a numeric vector, y is a matrix, you would need to use S4.&lt;/p&gt;
&lt;p&gt;See the &lt;a href=&quot;http://sekhon.berkeley.edu/library/methods/html/setGeneric.html&quot; title=&quot;http://sekhon.berkeley.edu/library/methods/html/setGeneric.html&quot;&gt;setGeneric()&lt;/a&gt; function in R for S4 method (also compatible with S3 classes).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/15/Warning-Signals.html"/>
   <updated>2010-08-15T00:00:00-07:00</updated>
   <id>h/2010/08/15/Warning-Signals</id>
   <content type="html">&lt;p&gt;Exploring convergence in maximum likelihood model fits each on data produced by their own simulation method:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;fit1, basic OU method, converges just fine. (using L-BFGS-B method with appropriate bounding box to avoid negatives).&lt;/li&gt;
&lt;li&gt;fit2 , the linear change rate model, converges fine using Nelder-Meade (using 1e12 ~ inf likelihood return when attempting negative alpha or sigma), but throws hard errors for L-BFGS-B:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; Error in optim(pars, warning.likfn, method = method, lower = lower) : 
 non-finite finite-difference value [3]&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;fit3 runs on “L-BFGS-B” and returns reasonable values, though not meeting convergence standards. Converges successfully on Nelder-Mead.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;using &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/48c204f7cff5c29c7c7a80b24f760cd051df8a21/demos/warning_example.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/48c204f7cff5c29c7c7a80b24f760cd051df8a21/demos/warning_example.R&quot;&gt;this version&lt;/a&gt; of warning_example.R for the example exploration and&lt;/li&gt;
&lt;li&gt;&lt;p&gt;using &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/48c204f7cff5c29c7c7a80b24f760cd051df8a21/R/sde_likelihood.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/48c204f7cff5c29c7c7a80b24f760cd051df8a21/R/sde_likelihood.R&quot;&gt;this version&lt;/a&gt; of methods from sde_likelihood.R&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-notes&quot;&gt;Code notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Because optim call takes just parameters and not data, writing data directly to the environment as X so it can be found, following the example of sde package. However this means in functions that want to pass the data to optim calls, they must write the data to the appropriate level, right&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/08/13/Adaptive-Dynamics.html"/>
   <updated>2010-08-13T00:00:00-07:00</updated>
   <id>h/2010/08/13/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote the code for a better interface to simulate coexistence times and creating contour plots from the results.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/6/62/Coexist_simulated_times.png&quot; alt=&quot;Image:Coexist_simulated_times.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Coexist_simulated_times.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;see &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/4d45eb416aac48221574b6eb782c80bbec885c12/demos/coexist_demo.R&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics/blob/4d45eb416aac48221574b6eb782c80bbec885c12/demos/coexist_demo.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/12/Warning-Signals.html"/>
   <updated>2010-08-12T00:00:00-07:00</updated>
   <id>h/2010/08/12/Warning-Signals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Reworking code to allow standard format for:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;evaluating likelihood, – &lt;strong&gt;Done&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;fitting by maximum-likelihood, – &lt;strong&gt;Done&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;simulating, – &lt;strong&gt;Done&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;bootstrapping&lt;/li&gt;
&lt;li&gt;plotting models and bootstrap results.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;changePt.sim, changePt.lik implemented.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### Function Behavior notes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;R’s mle function wants a named list.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated parameter handling of OU.lik to allow parameters in alpha,theta,sigma format or theta1, theta2, theta3 format, as either lists or numerics, named or unnamed. Type handling in each function isn’t helping the speed, but optimization will have to wait.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - &lt;em&gt;Note:&lt;/em&gt; Considered allowing for a generalized change-point function, taking two separate models and splitting them over a changepoint. No obvious way to handle which parameters are global and which are local when the models can differ in their parameter structure though, so not simply generalizable and abstract.&lt;/p&gt;
&lt;h3 id=&quot;logic-for-model-analysis&quot;&gt;Logic for model analysis&lt;/h3&gt;
&lt;p&gt;Collection of different models, each with a suite of associated methods. Current models are:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;OU&lt;/li&gt;
&lt;li&gt;Warning, a linear change in alpha&lt;/li&gt;
&lt;li&gt;ChangePt, a discrete jump in alpha&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Methods&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;simulate&lt;/li&gt;
&lt;li&gt;evaluate likelihood&lt;/li&gt;
&lt;li&gt;fit by likelihood&lt;/li&gt;
&lt;li&gt;bootstrap parameter estimates&lt;/li&gt;
&lt;li&gt;bootstrap model choice (Neyman-Pearson)&lt;/li&gt;
&lt;li&gt;plotting functions for: simulation, parameter bootstrap, model choice, model value fit expected value over time-series&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;challenges&quot;&gt;Challenges&lt;/h4&gt;
&lt;p&gt;Trouble getting convergence for maximum likelihood fits to simulation results. By throwing inf log likelihood with out-of-bounds parameters (should really set a limit epsilon rather than zero on alpha/sigma values using “L-BFGS-B” method) can avoid hard errors in optim, but mle throws hard errors and optim complains about convergence: “ERROR: ABNORMAL_TERMINATION_IN_LNSRCH”, a convergence error of 52 in “L-BFGS-B” method.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/08/12/Adaptive-Dynamics.html"/>
   <updated>2010-08-12T00:00:00-07:00</updated>
   <id>h/2010/08/12/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Created plotting functions for:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;waiting time distribution by phase, (cumulative and difference),&lt;/li&gt;
&lt;li&gt;distribution of number of failures before invasion of dimophism can occur and after it has occurred (indicating if mutational rate is more limiting or mutational step size (selection gradient).&lt;/li&gt;
&lt;li&gt;Adding to the pairwise invasibility plot the locations where dimorphism collapses, color coded by the time of collapse.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Exploring branching time distributions in different regimes by phase. Trying to figure out which parameter regimes which actually branch successfully in under 5e5 time units. Note that these aren’t timesteps, since this is Gillespie simulation; I think about birth R*Ko events occur every time unit, so an R=1, ko=500 simulations this is about 5e8, with about 2.5e4 - 2.5e5 mutations occurring in the simulation. with 100 ensembles and 4 parameter regimes this is 1e11 events. As the algorithm scales tightly on how many populations it must handle (much faster when essentially monomorphic) this isn’t directly proportional to speed, but on the 16 processor machines takes about a couple hours to run…&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Branching success by regimes tried&lt;/p&gt;
&lt;h4 id=&quot;first-set&quot;&gt;First set&lt;/h4&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; rep &amp;lt;- 100
 cpu &amp;lt;- 16
 all[[1]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-3, sigma_c2 = .8, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
 all[[2]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-3, sigma_c2 = .1, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
 all[[3]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 5e-4, sigma_c2 = .8, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
 all[[4]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-4, sigma_c2 = .3, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
 
for(i in 1:4){
    png(file=paste(&amp;quot;run2_waitingtimes_ens_&amp;quot;, i, &amp;quot;.png&amp;quot;, sep=&amp;quot;&amp;quot;))
    plot_waitingtimes(all[[i]])
    dev.off()
 
    png(file=paste(&amp;quot;run2_butterfly_ens_&amp;quot;, i, &amp;quot;.png&amp;quot;, sep=&amp;quot;&amp;quot;))
    plot_butterfly(all[[i]])
    dev.off()
 
    png(file=paste(&amp;quot;run2_failures_ens_&amp;quot;, i, &amp;quot;.png&amp;quot;, sep=&amp;quot;&amp;quot;))
    plot_failures(all[[i]])
    dev.off()
}
 
&amp;gt; proc.time()
    user   system  elapsed 
   2.700    0.440 4685.922&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;corresponds to a runtime of about 78 minutes, with most simulations running to maximum time. Results in run order shown&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/c/c9/Failures_ens_1.png/400px-Failures_ens_1.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/6/63/Failures_ens_2.png/400px-Failures_ens_2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/7/71/Failures_ens_3.png/400px-Failures_ens_3.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/7/7f/Failures_ens_4.png/400px-Failures_ens_4.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/b/bc/Butterfly_ens_1.png/400px-Butterfly_ens_1.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/7/75/Butterfly_ens_2.png/400px-Butterfly_ens_2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/8/87/Butterfly_ens_3.png/400px-Butterfly_ens_3.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/1/1e/Butterfly_ens_4.png/400px-Butterfly_ens_4.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Spikes at the end of waiting times indicate simulation termination before event occurs, from runs that never branched&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/8/8b/Waitingtimes_ens_1.png/400px-Waitingtimes_ens_1.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/e/e4/Waitingtimes_ens_2.png/400px-Waitingtimes_ens_2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/3/35/Waitingtimes_ens_3.png/400px-Waitingtimes_ens_3.png&quot; alt=&quot;image&quot; /&gt; ::::: &lt;img src=&quot;http://openwetware.org/images/thumb/6/69/Waitingtimes_ens_4.png/400px-Waitingtimes_ens_4.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Trying to find parameters where more runs will finish in 5e5 max time.&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;all[[1]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 5e-3, sigma_c2 = .8, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
all[[2]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-3, sigma_c2 = .1, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
all[[3]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.03, mu = 5e-4, sigma_c2 = .3, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
all[[4]] &amp;lt;- ensemble_sim(rep=rep, sigma_mu = 0.05, mu = 1e-4, sigma_c2 = .3, sigma_k2 = 1, ko = 500, xo = 0.1, threshold = 30, cpu=cpu)
 
==== Second Set ====&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;1 and 2 complete fine (2 is the easiest branching situation of the set clearly). 3 and 4 struggle to complete. Should try more exploratory sets before the large simulations.&lt;/p&gt;
&lt;p&gt;(probably not worth loading second set of figures), first and second sets are reliably finishing most of time in these parameters. Quite surprising for the first since the branching point becomes very weak, but the high mutation rate makes this possible.&lt;/p&gt;
&lt;h2 id=&quot;updates-needed-for-code&quot;&gt;Updates needed for code&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Simulation should have option to record full path&lt;/li&gt;
&lt;li&gt;Recording times of coexistence&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;updates-needed-for-notebook&quot;&gt;Updates needed for Notebook?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Somewhat tedious way to record results, even using the multiple uploads feature. Still, need to be able to preserve the figures and the code that creates them for each day. Wondering how the &lt;a href=&quot;http://github.com/blog/699-making-github-more-open-git-backed-wikis&quot; title=&quot;http://github.com/blog/699-making-github-more-open-git-backed-wikis&quot;&gt;revised github wiki&lt;/a&gt; would fare for this…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/08/11/Adaptive-Dynamics.html"/>
   <updated>2010-08-11T00:00:00-07:00</updated>
   <id>h/2010/08/11/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Adding demos directory for the simulations to create the figures in User:Carl Boettiger/Notebook/Comparative Phylogenetics/2010/05/03 and User:Carl Boettiger/Notebook/Comparative Phylogenetics/2010/05/04&lt;/li&gt;
&lt;li&gt;Updating the contour plot figure as per suggestions by Rupert and Ulf:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/10/Butterfly.png/500px-Butterfly.png&quot; alt=&quot;Branching times, original figure&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Branching times, original figure&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Branching times, original figure&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;use more points for the simulation, and don’t put them on a regular grid, but maybe draw them from a uniform distribution, so as not to create spurious impressions of symmetry. You could then maybe also use the tripack package to draw colored &lt;a href=&quot;http://en.wikipedia.org/wiki/Voronoi_diagram&quot; title=&quot;http://en.wikipedia.org/wiki/Voronoi_diagram&quot;&gt;Voronoi cells&lt;/a&gt; instead of same-sized symbols.&lt;/li&gt;
&lt;li&gt;color cells as grayscales from white (short) to dark (long survival) because the colors probably falsely suggest discrete jumps where there are probably none. Also, a legend that relates the colors to the numbers on the contour lines would be helpful for the viewer.&lt;/li&gt;
&lt;li&gt;make the contour lines (from analytics) more smooth, presumably by choosing more supporting points.&lt;/li&gt;
&lt;li&gt;choose axes to cover the same range and make plot quadratic, so that symmetries are easily revealed.&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;more-questions&quot;&gt;&amp;amp; more questions:&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Calculate the expected survival time, if we just assume that the dimorphic population moves away from the branching point on a trajectory given by the canonical equation, given a (demographically equilibrated) starting point at (or near) the branching point?&lt;/li&gt;
&lt;li&gt;How does this picture now change (if it does?) when the total number of individuals is in- or decreased and the relative magnitude of demographic fluctuations thus changed?&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;some-notebook-commentary&quot;&gt;Some notebook commentary&lt;/h3&gt;
&lt;p&gt;Unfortunately I once again regret that I did not have a lab notebook last summer while doing most of this research. At least I have the version history, though in svn, and the biweekly reports.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/10/Warning-Signals.html"/>
   <updated>2010-08-10T00:00:00-07:00</updated>
   <id>h/2010/08/10/Warning-Signals</id>
   <content type="html">&lt;h3 id=&quot;alternate-models&quot;&gt;Alternate models&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Writing down the change-point model correctly now, starting with the simulation. &lt;strong&gt;Done.&lt;/strong&gt; Implemented in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/959b426292915ebc90222b971f8298870df5c912/R/sde_likelihood.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/959b426292915ebc90222b971f8298870df5c912/R/sde_likelihood.R&quot;&gt;sde_likelihood.R&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implementing Neyman-Pearson comparisons for all three models.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;linearizing-directly-from-the-saddle-node-model&quot;&gt;Linearizing directly from the saddle node model&lt;/h4&gt;
&lt;p&gt;Dynamics:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/8/3/1/8313f708bcb8cef91bf83746d04c8941.png&quot; alt=&quot;\frac{K e n^2}{n^2 + h^2} - e n - a&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{K e n^2}{n^2 + h^2} - e n - a&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Slope (alpha) at equilibrium comes from the derivative:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/f/9/9/f99debdc2a427e17fe5e2c5054996df2.png&quot; alt=&quot;\frac{1}{n} \left( \frac{K e n^2}{n^2 + h^2} - e n - a \right) -\frac{2 K e n^3}{\left( n^2 + h^2 \right)^2}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{1}{n} \left( \frac{K e n^2}{n^2 + h^2} - e n - a \right) -\frac{2 K e n^3}{\left( n^2 + h^2 \right)^2}&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/0/4/d/04dd614e5354123085866d3a9dd01000.png&quot; alt=&quot;\implies -\frac{2 K e n^3}{\left( n^2 + h^2 \right)^2}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\implies -\frac{2 K e n^3}{\left( n^2 + h^2 \right)^2}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;is the slope evaluated at n equal to equilbrium (which is the root of some messy cubic).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood ratio update</title>
   <link href="/2010/08/10/Likelihood-ratio-update.html"/>
   <updated>2010-08-10T00:00:00-07:00</updated>
   <id>h/2010/08/10/Likelihood-ratio-update</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Sent drafts of Likelihood ratio paper to Peter Wainwright (Sunday 08/08) and Graham Coop (Monday 08/09)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wrightscape&quot;&gt;Wrightscape&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sent Peter more information on the release of constraint results in the Labrid system.&lt;/li&gt;
&lt;li&gt;Starting wrightscape manuscript.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;changes-to-wrightscape.r&quot;&gt;Changes to &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/4556a517a96467d5efe993ec585adcc66b925c46/R/wrightscape.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/4556a517a96467d5efe993ec585adcc66b925c46/R/wrightscape.R&quot;&gt;wrightscape.R&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;added a tree plotting function to the wrighttree class.&lt;/li&gt;
&lt;li&gt;labels on parameter bootstrap distributions for labrids in last week’s entry reversed wrasses and parrotfish. I’ve updated the software so that the plotting function takes care of the labeling automatically (when these were made it had to be added manually, while the automation of the data conversions and the painting by clade reversed the label assignments).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals by model choice</title>
   <link href="/2010/08/09/Warning-Signals-by-model-choice.html"/>
   <updated>2010-08-09T00:00:00-07:00</updated>
   <id>h/2010/08/09/Warning-Signals-by-model-choice</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Finished implementation of simulation from saddle-node example&lt;/li&gt;
&lt;li&gt;Implemented simulation from transition density for all three models&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;whoops&quot;&gt;Whoops&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The change point model can’t be summarized by the transition density, as this depends only on the time interval and not the absolute time. The nice description of being able to solve for the transition density when the transition occurs during the time interval specified is neither necessary nor applicable in this context!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/08/08/Warning-Signals.html"/>
   <updated>2010-08-08T00:00:00-07:00</updated>
   <id>h/2010/08/08/Warning-Signals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on implementation of the the TwoRates model looking for changepoint:&lt;/li&gt;
&lt;li&gt;See for most of code implementation &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/R/sde_likelihood.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/R/sde_likelihood.R&quot;&gt;sde_likelihood.R&lt;/a&gt; and for the model choice example see &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/demos/warning_example.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/demos/warning_example.R&quot;&gt;warning_example.R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;general-code-cleanup&quot;&gt;General Code cleanup&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Added a &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/src/saddle_node_direct.c&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/src/saddle_node_direct.c&quot;&gt;saddle-node bifurcation&lt;/a&gt; simulation in the format of the metapop/hastings/crowley/beetles models already in the stochastic population dynamics library. Allows for C-based parallelized ensemble simulation using my Gillespie library. R call to all of these models can be found in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/R/ind_based_models.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c12b986d2804c261b2126edd4c53e421446f020a/R/ind_based_models.R&quot;&gt;ind_based_models.R&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Reading</title>
   <link href="/2010/08/07/Reading.html"/>
   <updated>2010-08-07T00:00:00-07:00</updated>
   <id>h/2010/08/07/Reading</id>
   <content type="html">&lt;p&gt;Trying to make this show reading of the day, the script below shows only current reading:&lt;/p&gt;
&lt;p&gt;Friendfeed discussion on solving this:&lt;/p&gt;
&lt;h2 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Implementing likelihood-based methods for early warning signals. Trying three models:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/3/f/8/3f8dd657158475757eb6bd177e3c3ad1.png&quot; alt=&quot;\begin{align} dX =&amp;amp; (\theta_1 + \theta_2 X) dt + \theta_3 dW_t \\ dX =&amp;amp;(\alpha_0+\beta t) (\theta + X) dt + \sigma dW_t \\ dX =&amp;amp; \alpha(t) (\theta + X) dt + \sigma dW_t \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} dX =&amp;amp; (\theta_1 + \theta_2 X) dt + \theta_3 dW_t \\ dX =&amp;amp;(\alpha_0+\beta t) (\theta + X) dt + \sigma dW_t \\ dX =&amp;amp; \alpha(t) (\theta + X) dt + \sigma dW_t \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; - Model 3 is intended to be a changepoint analysis, where α(&lt;em&gt;t&lt;/em&gt;) is piecewise constant. - I solved analytically the transition probability density in Model 2 on User:Carl Boettiger/Notebook/Stochastic Population Dynamics/2010/05/06, see this and the following entry. - Code implementations are in &lt;a href=&quot;http://github.com/cboettig/structured-populations&quot; title=&quot;http://github.com/cboettig/structured-populations&quot;&gt;Structured Populations&lt;/a&gt; repository&lt;/p&gt;
&lt;h4 id=&quot;to-do&quot;&gt;To Do&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Simulation routine for custom equations (2, 3)&lt;/li&gt;
&lt;li&gt;Neyman-Pearson Likelihood ratio test method between models&lt;/li&gt;
&lt;li&gt;Simulation from actual population dynamics – update warning signals method to return individual runs&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Batch Data</title>
   <link href="/2010/08/05/Batch-Data.html"/>
   <updated>2010-08-05T00:00:00-07:00</updated>
   <id>h/2010/08/05/Batch-Data</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Some of the nexus files don’t seem to read into R. Opening and saving the file in figtree solves this.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;data-sets&quot;&gt;Data Sets&lt;/h2&gt;
&lt;h3 id=&quot;labrid-traits&quot;&gt;Labrid traits&lt;/h3&gt;
&lt;p&gt;–Carl Boettiger 00:52, 11 August 2010 (EDT) Note: labels on parameter bootstrap distributions have reversed wrasses and parrotfish. I’ve updated the software so that the plotting function takes care of the labeling automatically (when these were made it had to be added manually, while the automation of the data conversions and the painting by clade reversed the label assignments). See User:Carl Boettiger/Notebook/Comparative Phylogenetics/2010/08/10.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/f/f4/Gapedistance_mm_model.png/500px-Gapedistance_mm_model.png&quot; alt=&quot;Gape distance (weighted by body mass)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Gape distance (weighted by body mass)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Gape distance (weighted by body mass)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/c/c3/Gapedistance_mm_pars.png/500px-Gapedistance_mm_pars.png&quot; alt=&quot;Gape distance (weighted by body mass)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Gape distance (weighted by body mass)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Gape distance (weighted by body mass)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/b/b4/Protrusiondistance_mm_model.png/500px-Protrusiondistance_mm_model.png&quot; alt=&quot;Protrusion distance weighted by body mass&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Protrusion distance weighted by body mass&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Protrusion distance weighted by body mass&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/b/be/Protrusiondistance_mm_pars.png/500px-Protrusiondistance_mm_pars.png&quot; alt=&quot;Protrusion distance weighted by body mass&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Protrusion distance weighted by body mass&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Protrusion distance weighted by body mass&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/1f/Bodymass_g_model.png/500px-Bodymass_g_model.png&quot; alt=&quot;Body Mass&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Body Mass&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Body Mass&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/2b/Bodymass_g_pars.png/500px-Bodymass_g_pars.png&quot; alt=&quot;Body Mass&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Body Mass&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Body Mass&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/60/Jawclosingleverratio_model.png/500px-Jawclosingleverratio_model.png&quot; alt=&quot;Jaw closing lever ratio&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw closing lever ratio&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw closing lever ratio&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/9/91/Jawclosingleverratio_pars.png/500px-Jawclosingleverratio_pars.png&quot; alt=&quot;Jaw closing lever ratio&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw closing lever ratio&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw closing lever ratio&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/36/Jawopeningleverratio_model.png/500px-Jawopeningleverratio_model.png&quot; alt=&quot;Jaw opening lever ratio&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw opening lever ratio&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw opening lever ratio&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/26/Jawopeningleverratio_pars.png/500px-Jawopeningleverratio_pars.png&quot; alt=&quot;Jaw opening lever ratio&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw opening lever ratio&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw opening lever ratio&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/4/4e/Jawkt_model.png/500px-Jawkt_model.png&quot; alt=&quot;Jaw kinematic transmission&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw kinematic transmission&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw kinematic transmission&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/0/00/Jawkt_pars.png/500px-Jawkt_pars.png&quot; alt=&quot;Jaw kinematic transmission&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Jaw kinematic transmission&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Jaw kinematic transmission&lt;/p&gt;
&lt;p&gt;Based on nboot = 100&lt;/p&gt;
&lt;p&gt;Various muscle mass traits do not seem to converge.&lt;/p&gt;
&lt;h3 id=&quot;carnivora-traits&quot;&gt;Carnivora Traits&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/1d/Carnivora_models.png/500px-Carnivora_models.png&quot; alt=&quot;Carnivore size by habitat: aquatic vs terrestrial&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Carnivore size by habitat: aquatic vs terrestrial&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Carnivore size by habitat: aquatic vs terrestrial&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/5/56/Carnivora_pars.png/500px-Carnivora_pars.png&quot; alt=&quot;Carnivore size by habitat: aquatic vs terrestrial&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Carnivore size by habitat: aquatic vs terrestrial&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Carnivore size by habitat: aquatic vs terrestrial&lt;/p&gt;
&lt;p&gt;No preference for any model. OU.1 fit has non-zero, though small alpha, which cannot be distinguished significantly from the Brownian motion model. No evidence for either of the regimes models. (Might compare ws2 to ou1 though)&lt;/p&gt;
&lt;p&gt;Brownian motion:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;sigma squared:
         [,1]
[1,] 3.922782
 
theta:
NULL
   loglik  deviance       aic     aic.c       sic       dof 
-317.3379  634.6758  638.6758  638.7225  645.7971    2.0000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OU.1:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;alpha:
          [,1]
[1,] 0.2056982
 
sigma squared:
         [,1]
[1,] 4.099564
 
theta:
$size
 
9.39714 
 
   loglik  deviance       aic     aic.c       sic       dof 
-318.9566  637.9133  643.9133  644.0070  654.5953    3.0000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; The coding of marine and freshwater separate, as well as a terrestrial regime does not converge under the wrightscape simplex method using the hansen initial conditions, but does just fine using the standard 1,1 initial conditions. Running now.&lt;/p&gt;
&lt;h3 id=&quot;mammalia&quot;&gt;Mammalia&lt;/h3&gt;
&lt;p&gt;The huge mammalia data set takes a while even fitting the hansen model on the painting. bm loglik returns INF, ou1 returns loglik of -3727. the multiple regime model simplex routine fails to converge using the seed from ou2. Note the dramatic differences in the log body size optima found by the regime model. Certainly these differences must accomplish most of the difference in likelihood of this model.&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;alpha:
           [,1]
[1,] 0.01144819
 
sigma squared:
         [,1]
[1,] 6.277772
 
theta:
$size
       1062     aquatic terrestrial      volant 
   8.961080  254.067332    8.059478 -217.152860 
 
   loglik  deviance       aic     aic.c       sic       dof 
-3721.305  7442.610  7454.610  7454.634  7491.439     6.000&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Data Format functions</title>
   <link href="/2010/08/04/Data-Format-functions.html"/>
   <updated>2010-08-04T00:00:00-07:00</updated>
   <id>h/2010/08/04/Data-Format-functions</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Spent much of the day trying to code an intelligent data-preprocessing function. Seems to mostly be working now, see github for details. Testing on a variety of datasets.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Currently the function assumes paintings can be specified by common ancestors of a set of tips, assumes non-overlapping clades. Doesn’t error-check for this either.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;should also have more output processing functions, particularly to return a “phylo” object together with paintings (see earlier existing code in my Comparative-Phylogenetics repository).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;exploration-on-new-data-sets&quot;&gt;Exploration on new data sets&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Carnivora&lt;/strong&gt; – running with aquatic/terrestrial encoding and marine/freshwater/terrestrial encoding. Both set to run overnight. Wrightscape’s simplex method has some trouble with certain initial conditions on the three-regime model.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mammalia&lt;/strong&gt; – body size, with regime by biome (aquatic, terrestrial, volant (bats). Huge data set, also running over night.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cetacea&lt;/strong&gt; – body size by diet. my preprocessing function seems to have some trouble with the painting&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/08/03/Writing.html"/>
   <updated>2010-08-03T00:00:00-07:00</updated>
   <id>h/2010/08/03/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Finished a draft of manuscript on Likelihood ratio, sent to Sam and Peter Ralph.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Open Science Summit Day 3</title>
   <link href="/2010/07/31/Open-Science-Summit-Day-3.html"/>
   <updated>2010-07-31T00:00:00-07:00</updated>
   <id>h/2010/07/31/Open-Science-Summit-Day-3</id>
   <content type="html">&lt;p&gt;see previous day for links to more details on summit.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Open Science Summit day 2</title>
   <link href="/2010/07/30/Open-Science-Summit-day-2.html"/>
   <updated>2010-07-30T00:00:00-07:00</updated>
   <id>h/2010/07/30/Open-Science-Summit-day-2</id>
   <content type="html">&lt;p&gt;Full day (really – no breaks, lunch served during talks) of talks at the open science summit…&lt;/p&gt;
&lt;p&gt;Amazingly well web-captured conference, in addition to streaming on fora.tv, &lt;a href=&quot;http://gnusha.org/transcripts/open-science-summit-2010/&quot; title=&quot;http://gnusha.org/transcripts/open-science-summit-2010/&quot;&gt;complete transcripts&lt;/a&gt; of talks are available thanks to someone with fast fingers.&lt;/p&gt;
&lt;p&gt;Also through the back-channel, particularly the links it shares:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Open Science Summit</title>
   <link href="/2010/07/29/Open-Science-Summit.html"/>
   <updated>2010-07-29T00:00:00-07:00</updated>
   <id>h/2010/07/29/Open-Science-Summit</id>
   <content type="html">&lt;p&gt;First day of the Open Science Summit, began with excellent panel discussion including Cameron Neylon, Victoria Stodden, Peter Murray-Rust and Jason Hoyt. Followed by great lineup of short talks, but behind schedule and no breaks.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://opensciencesummit.com/schedule/schedule&quot; title=&quot;http://opensciencesummit.com/schedule/schedule&quot;&gt;Conference Schedule&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Backchannel &lt;a href=&quot;http://opensciencefoundation.com/oss2010/&quot; title=&quot;http://opensciencefoundation.com/oss2010/&quot;&gt;twitter archive&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;A neat &lt;a href=&quot;http://oss2010.backchan.nl/conferences/view/30&quot; title=&quot;http://oss2010.backchan.nl/conferences/view/30&quot;&gt;backchannel question proposing&lt;/a&gt; site used for the conference.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Cetartiodactyle data</title>
   <link href="/2010/07/28/Cetartiodactyle-data.html"/>
   <updated>2010-07-28T00:00:00-07:00</updated>
   <id>h/2010/07/28/Cetartiodactyle-data</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Exploring the cetartiodactyle data (unreleased)&lt;/li&gt;
&lt;li&gt;Nelder-Mead fails to converge or improve upon the hansen model. Likelihood scores differ little:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; bm@loglik
[1] -362.6228
&amp;gt; ou1@loglik
[1] -364.9039
&amp;gt; ws1$loglik
[1] -362.7616
&amp;gt; ou2@loglik
[1] -361.6976
&amp;gt; ws2$loglik
[1] -361.2542&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/8989487c30adbafb6e43ce8b6231722e278f58a5/demos/cetaceans.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/8989487c30adbafb6e43ce8b6231722e278f58a5/demos/cetaceans.R&quot;&gt;Cetaceans code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/4/4e/CetaceanModels.png/600px-CetaceanModels.png&quot; alt=&quot;Fig. 1 The Brownian Motion model is preferred to the OU.1 model (left). Two separate optima are supported over a single optima (right).&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig. 1&lt;/strong&gt; The Brownian Motion model is preferred to the OU.1 model (left). Two separate optima are supported over a single optima (right).&lt;/p&gt;
&lt;p&gt;This shows the complementary conclusion to the Labrid data-set – While there is support for separate regimes between the cetaceans and artiodactyles, the differences in likelihood are adequately explained by differences in the selective optimum location for each regime, and do not support different strengths of selection (alpha) or different rates of evolution (sigma). This comparison isn’t directly shown through bootstrap likelihood ratio as it is already clear since the likelihood score of the two-peak model matches the nested, simpler ou2 model from ouch/hansen method that only lets optima positions differ.&lt;/p&gt;
&lt;p&gt;It is possible this is due to a likelihood ridge frustrating the algorithm, as the full wrightscape model is seeded using the values from ou2 for alpha and sigma, though some further exploration with initial conditions does not seem to bear this out.&lt;/p&gt;
&lt;h2 id=&quot;code-algorithm&quot;&gt;Code &amp;amp; algorithm&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Nelder-Mead set to 20000 iterations is a bit ambitious, usually converges in under 500 or never converges.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parameter Estimates for Labrid-Parrotfish model</title>
   <link href="/2010/07/27/Parameter-Estimates-for-Labrid-Parrotfish-model.html"/>
   <updated>2010-07-27T00:00:00-07:00</updated>
   <id>h/2010/07/27/Parameter-Estimates-for-Labrid-Parrotfish-model</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/4/41/Gape_pars.png&quot; alt=&quot;See fast_boot and plot.wrightscape functions in code. Gape size&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;See fast_boot and plot.wrightscape functions in code. Gape size&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;See fast_boot and plot.wrightscape functions in &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/534fe67518edcb8b2488bf9d6ae7a4efe30f39cc/R/wrightscape.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/534fe67518edcb8b2488bf9d6ae7a4efe30f39cc/R/wrightscape.R&quot;&gt;code&lt;/a&gt;. &lt;strong&gt;Gape size&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/1/19/Protrusion_pars.png&quot; alt=&quot;See fast_boot and plot.wrightscape functions in code Jaw Protrusion&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;See fast_boot and plot.wrightscape functions in &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/534fe67518edcb8b2488bf9d6ae7a4efe30f39cc/R/wrightscape.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/534fe67518edcb8b2488bf9d6ae7a4efe30f39cc/R/wrightscape.R&quot;&gt;code&lt;/a&gt; &lt;strong&gt;Jaw Protrusion&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Figures show strong evidence for the relax of constraint hypothesis, as the strength of selection (alpha parameters) appears to have substantially weakened in both morphological traits in the parrotfish clade relative to the wrasses clade. The wrasses show strong preference for OU model with substantial stabilizing selection, while the Parrotfish estimate almost zero stabilizing selection (Brownian model, clear phylogenetic signal).&lt;/p&gt;
&lt;p&gt;Note that while the theta and sigma parameters can be accurately estimated in the wrasses, the model places little confidence on the reconstructed values of these parameters in the smaller Parrotfish clade, even though alpha seems well-defined in both clades.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parrotfish Model choice</title>
   <link href="/2010/07/26/Parrotfish-Model-choice.html"/>
   <updated>2010-07-26T00:00:00-07:00</updated>
   <id>h/2010/07/26/Parrotfish-Model-choice</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/66/Labrid_gape.png/800px-Labrid_gape.png&quot; alt=&quot;code, Gape data&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code, Gape data&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/5e2f978e955bb5de58dc4be5c48ca6c6a35c5f5b/demos/labrids.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/5e2f978e955bb5de58dc4be5c48ca6c6a35c5f5b/demos/labrids.R&quot;&gt;code&lt;/a&gt;, Gape data&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/38/Labrid_protrusion.png/800px-Labrid_protrusion.png&quot; alt=&quot;code, Protrusion data&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code, Protrusion data&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/fc6ee6e944d6852106cdb9ef74e1207f9db2da3e/demos/labrids.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/fc6ee6e944d6852106cdb9ef74e1207f9db2da3e/demos/labrids.R&quot;&gt;code&lt;/a&gt;, Protrusion data&lt;/p&gt;
&lt;p&gt;For both the gape data and the jaw protrusion data, the model treating parrotfish clade as a separate regime using ouch (differing optima) is not supported (even though it does have better AIC score for the protrusion data). The model using my new method allowing alpha and sigma to differ is strongly supported, providing support for the “release of constraint” hypothesis.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/07/23/Writing.html"/>
   <updated>2010-07-23T00:00:00-07:00</updated>
   <id>h/2010/07/23/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on likelihood ratio manuscript.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;labrid-herbivory-data&quot;&gt;Labrid Herbivory data&lt;/h2&gt;
&lt;p&gt;Parrotfish gape shows significant differences for independent OU models (alpha, theta, sigma different) than wrasses. While the two-peak ouch model gets no support, allowing alpha and sigma to very results in a strongly significant model improvement.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/66/Labrid_gape.png/800px-Labrid_gape.png&quot; alt=&quot;code&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/5e2f978e955bb5de58dc4be5c48ca6c6a35c5f5b/demos/labrids.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/5e2f978e955bb5de58dc4be5c48ca6c6a35c5f5b/demos/labrids.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; &amp;gt; ws2$
 ws2$alpha    ws2$data     ws2$loglik   ws2$regimes  ws2$sigma    ws2$theta    ws2$tree     ws2$Xo
 &amp;gt; ws2$theta
 [1] 0.2245493 0.9569619
 &amp;gt; ws2$alpha
 [1] 2.943846e+00 4.995744e-06
 &amp;gt; ws2$sigma
 [1] 0.5160019 1.2435074&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; (bootstraps/uncertainty of alpha, theta, sigma coming)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/07/22/Writing.html"/>
   <updated>2010-07-22T00:00:00-07:00</updated>
   <id>h/2010/07/22/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on likelihood ratio manuscript.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/07/21/Writing.html"/>
   <updated>2010-07-21T00:00:00-07:00</updated>
   <id>h/2010/07/21/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;working on likelihood ratio manuscript.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Writing</title>
   <link href="/2010/07/20/Writing.html"/>
   <updated>2010-07-20T00:00:00-07:00</updated>
   <id>h/2010/07/20/Writing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;working on Likelihood ratio manuscript. Some more literature review and outlining.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wainwright Meeting</title>
   <link href="/2010/07/19/Wainwright-Meeting.html"/>
   <updated>2010-07-19T00:00:00-07:00</updated>
   <id>h/2010/07/19/Wainwright-Meeting</id>
   <content type="html">&lt;p&gt;Discussed goals and appropriate approach. Settled on linear order rather than trying to directly implement the full MCMC over paintings solution directly. Breaks into four steps/manuscripts:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Phylogenetic signal and model choice in Comparative Methods: Likelihood ratio approach&lt;/li&gt;
&lt;li&gt;Detecting changing constraints in evolution: varying alpha and sigma across the tree&lt;/li&gt;
&lt;li&gt;Bayesian approach for all existing continuous trait comparative methods&lt;/li&gt;
&lt;li&gt;MCMC over possible histories to infer number of niches&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parrotfish-Wrasse example</title>
   <link href="/2010/07/15/Parrotfish-Wrasse-example.html"/>
   <updated>2010-07-15T00:00:00-07:00</updated>
   <id>h/2010/07/15/Parrotfish-Wrasse-example</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Painting the tree with parrotfish as a separate regime from wrasses, I find significant support for a model with separate optima with differential strengths of selection and diversification as well with respect to fin angle.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/10/Wrightscape_labrid.png/800px-Wrightscape_labrid.png&quot; alt=&quot;code&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/08c98a9a0f4a5a67caedc9dbe8c6d0172c49d5c3/demos/labrids.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/08c98a9a0f4a5a67caedc9dbe8c6d0172c49d5c3/demos/labrids.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The painting for this tree (click for larger and zoom in):&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/8/85/Parrotfish_paint.png/800px-Parrotfish_paint.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Organizing analyses, data, codes</title>
   <link href="/2010/07/14/Organizing-analyses-data-codes.html"/>
   <updated>2010-07-14T00:00:00-07:00</updated>
   <id>h/2010/07/14/Organizing-analyses-data-codes</id>
   <content type="html">&lt;h3 id=&quot;codes&quot;&gt;Codes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Should have a suite of likelihood tools as a package&lt;/li&gt;
&lt;li&gt;Suite of data manipulation functions, mostly to and from ape/ouch&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; idealized workflow:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Read in nexus file and csv data.&lt;/li&gt;
&lt;li&gt;Call model fit for each model to be tested (BM, one peak, multiple peaks, multiple peaks with independent selective forces)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - A function checks tree and data for matches, discards those without match. This could be done automatically by the model fit. Could use a flag to disable the check when being called by the bootstrap function. - Convert data to the correct format. This could be done by the model fit, again with a flag to disable checking if not needed. - Model fit should take tree in either format and return it in the format given. Tools should allow conversions between formats later as well.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; More Examples ————-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Labrid data set with parrot fish as separate regime.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Example illustrates data starting with nexus file and csv, dropping unmatched tips, converting formats and identifying clade by the common ancestor of its two most distant members:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;# labrid example
 
# This data has not been released
require(wrightscape)
require(geiger)
source(&amp;quot;/home/cboettig/Documents/ucdavis/research/phylotrees/code/Comparative-Phylogenetics/R/data_formats.R&amp;quot;)
 
#path = &amp;quot;/home/cboettig/Documents/research/phylotrees/data/labrids/&amp;quot;
path = &amp;quot;../../data/labrids/&amp;quot;
labrid_tree &amp;lt;- read.nexus(paste(path, &amp;quot;labrid_tree.nex&amp;quot;, sep=&amp;quot;&amp;quot;))
labrid_data &amp;lt;-read.csv(paste(path,&amp;quot;labrid.csv&amp;quot;, sep=&amp;quot;&amp;quot;))
rownames(labrid_data) &amp;lt;- labrid_data[,1]
 
# We&amp;#39;ll just use the fin angle data
fin_angle &amp;lt;- labrid_data$FinAngle
names(fin_angle) &amp;lt;- labrid_data[,1]
 
  # Convert the data, dropping unmatched tips
  labrid &amp;lt;- treedata(labrid_tree, fin_angle)
  names(labrid$data) &amp;lt;- rownames(labrid$data)
  labrid &amp;lt;- ape2ouch_all(labrid$phy, labrid$data)
 
  # We&amp;#39;ll paint the parrotfish a different regime
  parrotfish &amp;lt;- labrid$tree@nodelabels[c(pmatch(&amp;quot;Scarus_spinus&amp;quot;, labrid$tree@nodelabels), pmatch(&amp;quot;Crypto&amp;quot;, labrid$tree@nodelabels) )]
  parrotfish_clade &amp;lt;- as.integer(mrcaOUCH(parrotfish, labrid$tree))
 
  parrotfish_regime &amp;lt;- paintBranches(parrotfish_clade, labrid$tree)
 
  single_regime &amp;lt;- as.factor(character(labrid$tree@nnodes))
  names(single_regime) &amp;lt;- labrid$tree@nodes
 
  bm &amp;lt;- brown(labrid$data, labrid$tree)
  ou1 &amp;lt;- hansen(labrid$data, labrid$tree, regime=single_regime, 1, 1)
  ws1 &amp;lt;- wrightscape(labrid$data, labrid$tree, regime=single_regime, 1, 1)
  ou2 &amp;lt;- hansen(labrid$data, labrid$tree, regime=parrotfish_regime, 1, 1)
  ws2 &amp;lt;- wrightscape(labrid$data, labrid$tree, regime=parrotfish_regime, (ou2@sqrt.alpha)^2, ou2@sigma)
 
  labrid_models &amp;lt;- list(bm = bm, ws1=ws1, ou2=ou2, ws2=ws2)
 
    LR &amp;lt;- choose_model(labrid_models, 100)
    png(&amp;quot;wrightscape_labrid.png&amp;quot;,width=2000, height=600) 
    par(mfrow=c(1,3))
    pretty_plot(LR[[1]], main=&amp;quot;support for OU over BM&amp;quot;)
    pretty_plot(LR[[2]], main=&amp;quot;support for 2 peaks over 1&amp;quot;)
    pretty_plot(LR[[3]], main=&amp;quot;support for differential selective strength&amp;quot;)
    dev.off()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;bootstrap is still running…&lt;/p&gt;
&lt;h2 id=&quot;optimization-thoughts&quot;&gt;Optimization thoughts&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;While seeding the alpha and sigma values with the global estimates increases the convergence speed of the simplex method, it is possible that this biases the method to estimate that the regimes are more similar than they actually are, since getting off the ridge might be difficult. (Could consider ways to not treat alpha and sigma independently?) Testing this idea with the simulated annealing approach, which has a better chance of getting off the ridge.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R code can now toggle algorithm to use simulated annealing or simplex method.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Using the labrid data set with fin morphology, simulated annealing does seem to get off the ridge. However, estimated optimum is outside the observed range, suggests uncertainty dominates the parameter estimates of the smaller parrotfish clade rather than representing significant differences.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ~~~~ {.de1} &amp;gt; # Nelder Mead, conditioning on hansen initial guess &amp;gt; ws2&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?alpha; ws2\inline&quot;/&gt;&lt;/span&gt;theta; ws2&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?sigma; ws2\inline&quot;/&gt;&lt;/span&gt;loglik [1] 1.079384 1.114845 [1] 51.43308 46.82123 [1] 14.44427 15.41473 [1] -381.3925 &amp;gt; &amp;gt; # simulated annealing improvement: &amp;gt; ws2_&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?alpha; ws2_\inline&quot;/&gt;&lt;/span&gt;theta; ws2_&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?sigma; ws2_\inline&quot;/&gt;&lt;/span&gt;loglik [1] 1.354885 2.187390 [1] 50.87688 29.35945 [1] 15.26238 10.99948 [1] -379.96 &amp;gt; &amp;gt; # subsequent Nelder Mead pushes values more extreme &amp;gt; ws2_fast&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?alpha; ws2_fast\inline&quot;/&gt;&lt;/span&gt;theta; ws2_fast&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?sigma; ws2_fast\inline&quot;/&gt;&lt;/span&gt;loglik [1] 0.6420187 4.2991044 [1] 52.17393 7.42868 [1] 13.05538 3.05305 [1] -377.3622 &amp;gt; ~~~~&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bootstrapping the independent alpha-sigma models</title>
   <link href="/2010/07/13/Bootstrapping-the-independent-alpha-sigma-models.html"/>
   <updated>2010-07-13T00:00:00-07:00</updated>
   <id>h/2010/07/13/Bootstrapping-the-independent-alpha-sigma-models</id>
   <content type="html">&lt;p&gt;I compare in a robust framework the likelihood that species mean trait values are generated by Brownian motion, a single peak OU model, or a model with different regimes (postulated in the literature) in which the selective strength (alpha) and diversification rate (sigma) are fixed across the entire tree or allowed to vary by selective regime. (Regimes are defined as branches with different values for the selective optimum).&lt;/p&gt;
&lt;p&gt;The parametric bootstrap of the likelihood ratio statistic provides a rigorous way to quantify the probability that the model choice is correct: the probability that the data was produced by the test model vs the null model is assured by the Neyman-Pearson lemma. Because the models are nested in a natural hierarchy, pairwise tests of successively more complicated models provide an efficient and robust way to select between models, whereas other methods may be misleading.&lt;/p&gt;
&lt;h3 id=&quot;anoles-data&quot;&gt;Anoles Data&lt;/h3&gt;
&lt;p&gt;OU cannot reject BM, OU.LP (three peaks) can reject OU single peak model (and hence BM). Allowing alpha and sigma to vary by regime shows an improvement better then expected by chance under the global alpha/sigma model 93% of the time, which we may take as insufficient justification of the separate strengths of selection and diversification between regimes.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/ec/Wrightscape_anoles.png/800px-Wrightscape_anoles.png&quot; alt=&quot;code&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/b3eabf29caa6fcf5e9f5e0b54d7c0fdf5bf6a79a/R/wrightscape.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/b3eabf29caa6fcf5e9f5e0b54d7c0fdf5bf6a79a/R/wrightscape.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;   require(wrightscape)
    data(bimac)
    tree &amp;lt;- with(bimac,ouchtree(nodes=node,ancestors=ancestor,times=time/max(time),labels=species))
    bm &amp;lt;- brown(log(bimac[&amp;#39;size&amp;#39;]), tree)
    ou1 &amp;lt;- hansen(log(bimac[&amp;#39;size&amp;#39;]), tree, bimac[&amp;#39;OU.1&amp;#39;], 1, 1)
    ws1 &amp;lt;- wrightscape(log(bimac[&amp;#39;size&amp;#39;]), tree, bimac[&amp;#39;OU.1&amp;#39;], 1, 1)
    ou2 &amp;lt;- hansen(log(bimac[&amp;#39;size&amp;#39;]), tree, bimac[&amp;#39;OU.LP&amp;#39;], 1, 1)
    ws2 &amp;lt;- wrightscape(log(bimac[&amp;#39;size&amp;#39;]), tree, bimac[&amp;#39;OU.LP&amp;#39;], (ou2@sqrt.alpha)^2, ou2@sigma)
 
    model_list &amp;lt;- list(bm = bm, ws1 = ws1, ou2 = ou2, ws2 = ws2)
    LR &amp;lt;- choose_model(model_list, 100)
 
    png(&amp;quot;wrightscape_anoles.png&amp;quot;, width = 2000, height=600)
    par(mfrow=c(1,3))
    pretty_plot(LR[[1]], main=&amp;quot;support for OU over BM&amp;quot;)
    pretty_plot(LR[[2]], main=&amp;quot;support for multiple peaks over 1&amp;quot;)
    pretty_plot(LR[[3]], main=&amp;quot;support for differential selective strength&amp;quot;)
    dev.off()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; ### Sedges Data&lt;/p&gt;
&lt;p&gt;OU model clearly rejects BM, two regimes clearly rejects the single OU peak, and separate selective regimes appears supported at the p = 0.02 level.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/2f/Sedges.png/800px-Sedges.png&quot; alt=&quot;code&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/b3eabf29caa6fcf5e9f5e0b54d7c0fdf5bf6a79a/R/wrightscape.R&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/b3eabf29caa6fcf5e9f5e0b54d7c0fdf5bf6a79a/R/wrightscape.R&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;   require(wrightscape)
    require(maticce)
    data(carex)
    attach(carex)
 
    treedata &amp;lt;- ape2ouch_all(ovales.tree, ovales.data)
    ou2_regimes &amp;lt;- paintBranches(list(ovales.nodes[[2]]), treedata$tree)
    ou1_regimes &amp;lt;- as.factor(rep(1, length(ou2_regimes) ))
    names(ou1_regimes) &amp;lt;- names(ou2_regimes)
 
# Fit the models
    bm &amp;lt;- brown(treedata$data, treedata$tree)
    ws1 &amp;lt;- wrightscape(treedata$data, treedata$tree, ou1_regimes, 1, 1)
    ou2 &amp;lt;- hansen(treedata$data, treedata$tree, ou2_regimes, 1, 1)
    ws2 &amp;lt;- wrightscape(treedata$data, treedata$tree, ou2_regimes, (ou2@sqrt.alpha)^2, ou2@sigma)
 
    model_list &amp;lt;- list(bm = bm, ws1 = ws1, ou2 = ou2, ws2 = ws2)
    LR &amp;lt;- choose_model(model_list, 100)
    pretty_plot(LR[[1]], main=&amp;quot;support for OU over BM&amp;quot;)
    pretty_plot(LR[[2]], main=&amp;quot;support for 2 peaks over 1&amp;quot;)
    pretty_plot(LR[[3]], main=&amp;quot;support for differential selective strength&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;significant-code-changes&quot;&gt;Significant code changes&lt;/h2&gt;
&lt;p&gt;Fixed handling of out-of-bounds parameters. Used to just write in the boundary size whenever the algorithm tried to go outside the boundary, which essentially breaks the algorithm. Now it returns a minus log likelihood of infinity (GSL_POSINF) instead, which seems to greatly improve the observed performance of the algorithm.&lt;/p&gt;
&lt;p&gt;Should have a way to indicate whether negative values are appropriate or not for theta parameters!&lt;/p&gt;
&lt;p&gt;Simplex method convergence – still struggles with parameter rich models. During bootstrapping a substantial number of runs will hit the maximum number of iterations. Increased to 20,000 iterations and relaxed error tolerance to 1e-6, which seems to mostly fix this. Method should probably throw a warning when it hits the maximum iterations though.&lt;/p&gt;
&lt;h2 id=&quot;optimization&quot;&gt;Optimization&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Appropriate treatment for root parameter?&lt;/li&gt;
&lt;li&gt;appropriate handling for parameter boundaries?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; simulated annealing vs simplex method&lt;/p&gt;
&lt;p&gt;Add back the fast method for single regime&lt;/p&gt;
&lt;p&gt;parameter global/local controls&lt;/p&gt;
&lt;p&gt;R level control of search algorithm parameters&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multivariate normal random variables</title>
   <link href="/2010/07/12/Multivariate-normal-random-variables.html"/>
   <updated>2010-07-12T00:00:00-07:00</updated>
   <id>h/2010/07/12/Multivariate-normal-random-variables</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;GSL lacks a multivariate normal random variable option, so have implemented one using the eigenvalue decomposition (default method in the R function rmvnorm). Function should consider doing error handling (i.e. warning if covariance matrix isn’t positive definite or if the vectors given don’t match dimensions), though these may be mostly unnecessary cost. Also uses a general blas matrix multiplication when one of the matrices is just sqrt(eigenvalues) on the diagonal, so this could possibly be sped up considerably using the correct blas matrix multiply.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;As the solutions to the regimes model are still multivariate normal, simulating data sets just means drawing random numbers from this distribution, as opposed to actually evolving the SDE along the tree.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Status - Thoughts</title>
   <link href="/2010/07/09/Status---Thoughts.html"/>
   <updated>2010-07-09T00:00:00-07:00</updated>
   <id>h/2010/07/09/Status---Thoughts</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Goal:&lt;/strong&gt; BM vs OU vs proposed multipeak OU model with and without global alpha/sigma. Anoles dataset, carex dataset, labrids?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Added ape2ouch_all function based on maticce to convert file formats. Might be worth checking against my current implementation. Meanwhile it’s really the converting trees back from ouch to ape that gives the ace function trouble. something about ordering of the nodes, even though that shouldn’t matter in the phylo format.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;For the moment, probably worth always running hansen first and using output to seed the run of wrightscape.&lt;/li&gt;
&lt;li&gt;Later, should modify so that wrightscape and declare any parameters global or local&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Wrightscape’s simulated annealing should do something clever to choose which parameters to optimize first.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - Write bootstrap version for wrightscape. Use the object class and call categories to choose appropriate method automatically.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;MCMC version! Does this need to be reversible jump or can I just run this on the richest model and look at overlap?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;negative values can somehow sneak in to simulated annealing approach.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;need to figure out distributing R packages with C code depending on GSL&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Make sense of max-likelihood inferred painting approach. Write a full R implementation for stochastic mapping (simmap).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Need a simulation method for wrightscape!&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code Updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Rewriting likelihood bootstrap method. Should guess the correct method (for the moment will ignore the auto-partitioning approach?) Should make pretty plots.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolutionary Regime Shift examples</title>
   <link href="/2010/07/08/Evolutionary-Regime-Shift-examples.html"/>
   <updated>2010-07-08T00:00:00-07:00</updated>
   <id>h/2010/07/08/Evolutionary-Regime-Shift-examples</id>
   <content type="html">&lt;p&gt;Time to get more data and examples to start testing methods, particularly for cases in where regime shifts are hypothesized by painting a tree. Starting a Mendeley public collection for the literature in Web of Science that actually applies either the OUCH or Brownie framework to identify shifts in rates of continuous trait evolution.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com&quot;&gt;Research&lt;/a&gt; collected using Mendeley&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; now I’ll have to see how hard it is to obtain both the trees and trait data…&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Web of Science has 77 papers citing Butler and King 2004, of 21 promising-looking ones 13 actually applied (or came close enough) to applying a regime-based method (some of these actually used Brownie but make mention of the ouch approach. Smith Sa, Beaulieu JM. 2009 actually comments about no method existing to vary alpha across trees. 47 cite O’Meara et al. 2006, with considerable overlap.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Edwards &amp;amp; Smith evaluate a fantastically large data set painted with C3 and C4 plants looking at temperature analysis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Andrew Hipp’s datasets on chromosome evolution in sedges might be a good place to start. Data is included in his &lt;em&gt;maticce&lt;/em&gt; R package (built on ouch).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multitype OU process interfaces</title>
   <link href="/2010/07/07/Multitype-OU-process-interfaces.html"/>
   <updated>2010-07-07T00:00:00-07:00</updated>
   <id>h/2010/07/07/Multitype-OU-process-interfaces</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Removing old implementations from the R package, so will need to grab them from the &lt;a href=&quot;http://github.com/cboettig/wrightscape/commit/a3cebb06b8e0e28fe43fbb22e6bd9f0c499271e3&quot; title=&quot;http://github.com/cboettig/wrightscape/commit/a3cebb06b8e0e28fe43fbb22e6bd9f0c499271e3&quot;&gt;version history&lt;/a&gt; from now on to access the original linear implementations.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Nelder-Mead simplex algorithm seems quite sensitive to starting conditions. Seeding it with values fit from the hansen algorithm (global alpha and sigma), it rapidly improves the log likelihood score (going up from 25 to 30, which is just barely significant according to AIC). With more arbitrary starting conditions it significantly under-performs even Brownian motion models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Implemented a simulated annealing likelihood maximization routine, which proves much more robust to starting conditions, though taking significantly longer to converge. Also this performance requires appropriately high starting temperature and number of regimes. Hopefully is easy to convert to an MCMC routine. Should add lockable parameters and should use the faster linear solvers for BM and OU1 to make a general MCMC suite for comparative methods.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Ensemble simulations of beetle dynamics</title>
   <link href="/2010/07/07/Ensemble-simulations-of-beetle-dynamics.html"/>
   <updated>2010-07-07T00:00:00-07:00</updated>
   <id>h/2010/07/07/Ensemble-simulations-of-beetle-dynamics</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/15/Gamma_beetle_ensemble_ibm.png/300px-Gamma_beetle_ensemble_ibm.png&quot; alt=&quot;code Fig 1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code Fig 1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/efdfa0a033b7597824797af8659397a7bf7b4f3b&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/efdfa0a033b7597824797af8659397a7bf7b4f3b&quot;&gt;code&lt;/a&gt; &lt;strong&gt;Fig 1&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/d/da/Ibm_compare.png/300px-Ibm_compare.png&quot; alt=&quot;code Fig 2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code Fig 2&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/efdfa0a033b7597824797af8659397a7bf7b4f3b&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/efdfa0a033b7597824797af8659397a7bf7b4f3b&quot;&gt;code&lt;/a&gt; &lt;strong&gt;Fig 2&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/30/Stable_nodes.png/300px-Stable_nodes.png&quot; alt=&quot;code Fig 3&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;code Fig 3&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/4f2d9ec4a0adf5170436f5ade875da92f39593c1&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/4f2d9ec4a0adf5170436f5ade875da92f39593c1&quot;&gt;code&lt;/a&gt; &lt;strong&gt;Fig 3&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Exploring full ensemble simulations of beetle dynamics. Linear noise approximations (&lt;strong&gt;Fig 2&lt;/strong&gt;) show divergent noise under oscillating conditions (&lt;strong&gt;Fig 2&lt;/strong&gt; lower panel), though this may be an artifact of the approximation, which applies only for finite time calculations.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Note that mean dynamics agree, and oscillations damp out, &lt;strong&gt;Fig 1&lt;/strong&gt; simulation means (circles) fall exactly on predicted lines. Variance dynamics do not agree. &lt;strong&gt;Fig 1:&lt;/strong&gt; plot shows variances from individual based simulation (invisible in fig 1), which seem to reach stable values.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;strong&gt;Fig 3&lt;/strong&gt; Unfortunately the variance dynamics do not seem to match between individual simulation and analytic approx for the stable node solution either, even though the mean dynamics agree. (yellow circles hard to see, click on image for larger) but fall directly on mean line but well above variance prediction…) Reason for the disagreement is unclear, bears further investigation before the Fig 1 conclusion can be certain.&lt;/p&gt;
&lt;h3 id=&quot;computing-implementation&quot;&gt;Computing implementation&lt;/h3&gt;
&lt;p&gt;Disabled compiled support of openMP in the simulation. For some reason when called from R, the code runs the code on each processor with the same replicate index, in addition to performing all the replicates. Because I need += to add up all the members in a given class, the second time through using the same index it continues to increment the value, getting the wrong number in the process. Disabling openMP from R for the moment by removing the flags from the Makevars file as a work-around.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Generalizing the multi-type OU process- continued</title>
   <link href="/2010/07/02/Generalizing-the-multi-type-OU-process--continued.html"/>
   <updated>2010-07-02T00:00:00-07:00</updated>
   <id>h/2010/07/02/Generalizing-the-multi-type-OU-process--continued</id>
   <content type="html">&lt;p&gt;Efficiency updates:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;As expected, calculating the last common ancestor on the fly was responsible for a significant (&amp;gt;50%) fraction of the computational effort, so it’s worth calculating this once for the tree and storing the information.&lt;/li&gt;
&lt;li&gt;Current profiling table:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; %   cumulative   self              self     total           
time   seconds   seconds    calls  us/call  us/call  name    
57.14      0.08     0.08  1604986     0.05     0.05  calc_gamma
35.71      0.13     0.05   802493     0.06     0.16  calc_var
 7.14      0.14     0.01     1517     6.59     6.59  alloc_tips
 0.00      0.14     0.00   837384     0.00     0.00  node_age
 0.00      0.14     0.00    34891     0.00     0.00  calc_mean
 0.00      0.14     0.00     2025     0.00     0.00  get_lca
 0.00      0.14     0.00     1517     0.00    92.29  calc_lik
 0.00      0.14     0.00     1517     0.00     0.00  log_normal_lik
 0.00      0.14     0.00        1     0.00     0.00  fit_model
 0.00      0.14     0.00        1     0.00     0.00  multimin&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;calc_gamma doesn’t need to be called the &lt;em&gt;n&lt;/em&gt;&lt;sup&gt;2&lt;/sup&gt; times in calc_var, but could be stored from the calc_mean computation, so it would be called no more than calc_mean is. This would probably speed up calc_var, since it’s a significant fraction of that time, and leave alloc_tips as the most intensive function. Like get_lca, alloc_tips could be performed once for the entire tree and stored in the tree structure. Several other optimizations are quite natural but should wait until these primary inefficiencies are dealt with. Likewise any parallelization will be best applied at higher level (bootstrapping, maybe MCMC steps).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Note that we’re getting 1517 calls to the likelihood function in 0.14 seconds; better than 10,000 likelihood calculations a second.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Multitype OU Processes with varying alpha and sigma</title>
   <link href="/2010/07/01/Multitype-OU-Processes-with-varying-alpha-and-sigma.html"/>
   <updated>2010-07-01T00:00:00-07:00</updated>
   <id>h/2010/07/01/Multitype-OU-Processes-with-varying-alpha-and-sigma</id>
   <content type="html">&lt;p&gt;Been meaning to sit down and work this one out for a while; somehow travel and conferences helped out with that – now I only have to transcribe some dozen messy hotel notepad sheets to get the calculations into this lab notebook. Meanwhile, 15 hours on a train from Portland was just the right amount of time to code up the approach, which is now implemented at the C level for the Anoles dataset; code in the &lt;a href=&quot;http://github.com/cboettig/wrightscape&quot; title=&quot;http://github.com/cboettig/wrightscape&quot;&gt;wrightscape project&lt;/a&gt; on github.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - current algorithm will replace the existing codebase for the wrightscape project. Currently the &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/007476cec25babd95f1829b8c14ddfadfb53e1a9/src/makefile&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/007476cec25babd95f1829b8c14ddfadfb53e1a9/src/makefile&quot;&gt;makefile&lt;/a&gt;, &lt;a href=&quot;http://github.com/cboettig/wrightscape/commit/02a8611bc2008cbcbcc567d41552b569683d40e9#diff-0&quot; title=&quot;http://github.com/cboettig/wrightscape/commit/02a8611bc2008cbcbcc567d41552b569683d40e9#diff-0&quot;&gt;p_multimin.c&lt;/a&gt;, and &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/007476cec25babd95f1829b8c14ddfadfb53e1a9/src/piecewise_regimes.c&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/007476cec25babd95f1829b8c14ddfadfb53e1a9/src/piecewise_regimes.c&quot;&gt;piecewise_regimes.c&lt;/a&gt; (the main file) contain the standalone version of the new method. Will soon remove older scripts from the active version and break up piecewise_regimes.c into multiple files as appropriate.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>iEvoBio day two</title>
   <link href="/2010/06/30/iEvoBio-day-two.html"/>
   <updated>2010-06-30T00:00:00-07:00</updated>
   <id>h/2010/06/30/iEvoBio-day-two</id>
   <content type="html">&lt;p&gt;Program:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; My Lightning talk on Open Science:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/ievobio&quot; title=&quot;Ievobio&quot;&gt;Ievobio&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;cboettig&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Also in &lt;a href=&quot;http://precedings.nature.com/documents/4602/version/1&quot; title=&quot;http://precedings.nature.com/documents/4602/version/1&quot;&gt;Nature Proceedings&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>iEvoBio day one</title>
   <link href="/2010/06/29/iEvoBio-day-one.html"/>
   <updated>2010-06-29T00:00:00-07:00</updated>
   <id>h/2010/06/29/iEvoBio-day-one</id>
   <content type="html">&lt;p&gt;Program:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://twitter.com/#search?q=%23ievobio&quot; title=&quot;http://twitter.com/#search?q=%23ievobio&quot;&gt;conference twitter&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Lunch with O’Meara &amp;amp; Price, discussing working group potential&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dinner with Nescent folks on Dryad project and others&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution 2010 Day 3</title>
   <link href="/2010/06/28/Evolution-2010-Day-3.html"/>
   <updated>2010-06-28T00:00:00-07:00</updated>
   <id>h/2010/06/28/Evolution-2010-Day-3</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Chris Martin&lt;/strong&gt;: Trophic innovation drives exceptional rates of morphological diversification in two adaptive radiations of Cyprinodon pupfishes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fantastic story of exceptional rates of evolution and trophic novelty in two tropical lakes. (8:45, Adaptation 9, talk 097002)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;David Plachetzki&lt;/strong&gt;: Deep homology and the evolution of animal senses: insights from Cnidaria&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cnidarians have homologous proteins to opsins and taste receptors!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Jeremy Yoder&lt;/strong&gt;: Coevolution and gene flow in obligate pollination mutualism&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Two species of joshua tree each with its own pollinator yucca moth. Moth larva laid in and eat some of Joshua tree fruit, obligate for pollination but if too many eggs are laid tree aborts that fruit. Nice gene flow story reflecting the ability/inability of each moth to cross-pollinate the other tree. Trees overlap in distribution only at one location (top of a horseshoe shape in Nevada).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Pat MacIntyre&lt;/strong&gt;: Adaptation and niche breath among polyploid cytotypes of Claytonia perfoliata&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Peter Ralph&lt;/strong&gt;: Spatial parallel evolution: one wave or many?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nice spatial spread genetic structure model&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Tracy Heath&lt;/strong&gt; (Huelsenbeck group) A Dirchlet process model for estimating lineage-specific substitution rates and dating divergences&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[github source code?]&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Charles Marshall&lt;/strong&gt;: Looking under the hood: the meaning of Bayesian priors on divergence times in light of the nature of the fossil record&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Excellent talk discussing limitations and challenges in dating fossils, particularly limitations in rock record itself. A couple nice papers for much better ways on selecting which fossils to use, etc.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Michael Turelli&lt;/strong&gt;: Spatial spread of CI-causing Wolbachia&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Cubic growth function for spread of wolbachia with an allee effect, and how this modifies Fisher’s wave equation for spatial spread. Going to applied in 7 million dollar project in releasing wolbachia-infected mosquitoes in Australia to control Dange fever.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Tom Near&lt;/strong&gt;: Informed calibration priors and calibration sampling strategies in molecular divergence time of ray-finned fishes&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;NESCent information session&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Dinner with some NESCent folks&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution 2010 Day 2</title>
   <link href="/2010/06/27/Evolution-2010-Day-2.html"/>
   <updated>2010-06-27T00:00:00-07:00</updated>
   <id>h/2010/06/27/Evolution-2010-Day-2</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Clay Cressler&lt;/strong&gt; : Can you trust evolutionary parameters estimated by complex phylogenetic comparative methods? A simulation study with OUCH&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Jeet Sukumaran&lt;/strong&gt; (Mark Holder lab) Performance and robustness of phylogeographic analytical studies&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tests common macroscopic models of inferring population structure (i.e. via coalescent) an individual based simulation model.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Graham Slater&lt;/strong&gt;, Luke Harmon, Liam Revell, Marc Suchard, Mike Alfaro. Estimating rates of phenotypic evolution and speciation from incomplete trees.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fascinating talk on estimating rates when the tree is not resolved to the species level. Approximate Bayesian Computing based approach which simulates the tree to the species level as a pure birth process with trait evolution by Brownian motion, estimating parameter posteriors by ABC. Seemed to me this calculation could be done analytically, since the Brownian rate inference depends only on the distribution of branch lengths, which is simply exponential under the pure-birth (or constant birth-death) model. For instance:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/9/4/294d88d35ebd9a564f9f93f531fdfa03.png&quot; alt=&quot;\begin{align} L(\beta | u ) &amp;amp;= \frac{1}{\beta^N} \exp \left( \frac{- Q(\vec u)}{2 \beta} \right)\\ Q(\vec u) &amp;amp;= \sum_i \frac{(u_i - u_{i’})^2 }{v_{ii’} } \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} L(\beta | u ) &amp;amp;= \frac{1}{\beta^N} \exp \left( \frac{- Q(\vec u)}{2 \beta} \right)\\ Q(\vec u) &amp;amp;= \sum_i \frac{(u_i - u_{i’})^2 }{v_{ii’} } \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Well, if the branch length &lt;em&gt;v&lt;/em&gt;&lt;sub&gt;&lt;em&gt;ii&lt;/em&gt;’&lt;/sub&gt; is exponentially distributed with parameter λ&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/e/2/e/e2ec1a2a59f94c87a70a64983656c668.png&quot; alt=&quot;\begin{align} L(\beta | u) &amp;amp;= \int \exp\left(- \sum_i \frac{(u_i - u_{i’})^2 }{v }/2\beta \right) \lambda e^{-\lambda v} / \beta^N dv \\ L(\beta | u) &amp;amp;= \int \exp\left(- \frac{\sum_i (u_i - u_{i’})^2 }{2\beta v} - \lambda v \right) \lambda / \beta^N dv \\\end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} L(\beta | u) &amp;amp;= \int \exp\left(- \sum_i \frac{(u_i - u_{i’})^2 }{v }/2\beta \right) \lambda e^{-\lambda v} / \beta^N dv \\ L(\beta | u) &amp;amp;= \int \exp\left(- \frac{\sum_i (u_i - u_{i’})^2 }{2\beta v} - \lambda v \right) \lambda / \beta^N dv \\\end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;If we simply estimated the branch length as the mean always, we’d have &lt;img src=&quot;http://openwetware.org/images/math/0/e/6/0e699e1dc4680e00fc6e8b5fb962a35e.png&quot; alt=&quot;\beta = \sum_i \frac{(u_i - u_{i’})^2 }{2 N \lambda T }&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - &lt;strong&gt;Andrew Hipp&lt;/strong&gt; Chromosome and genome size evolution in sedges&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;John Huelsenbeck&lt;/strong&gt; The growth of Bayesian phylogenetics&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Evolution 2010</title>
   <link href="/2010/06/26/Evolution-2010.html"/>
   <updated>2010-06-26T00:00:00-07:00</updated>
   <id>h/2010/06/26/Evolution-2010</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Carl Boettiger&lt;/strong&gt; A new phylogenetic comparative method: detecting niches and transitions with continuous characters&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My slides:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.slideshare.net/cboettig/a-new-phylogenetic-comparative-method-detecting-niches-and-transitions-with-continuous-characters&quot; title=&quot;A new phylogenetic comparative method: detecting niches and transitions with continuous characters&quot;&gt;A new phylogenetic comparative method: detecting niches and transitions with continuous characters&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/cboettig&quot;&gt;cboettig&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Joe Felsenstein&lt;/strong&gt; A comparative method for discrete and continuous characters using the threshold model&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Lynsey McInnes&lt;/strong&gt;: Deep-time changes to equilibrium diversity – a simulation study of th power to detect rule changes from reconstructed phylogenies&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Johnathan Davies&lt;/strong&gt; Neutral Biodiversity theory can explain imbalance of phylogenetic trees&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Ezra Miller&lt;/strong&gt; Consensus by averaging phylogenetic trees.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Conference Thursday</title>
   <link href="/2010/06/24/CSGF-Conference-Thursday.html"/>
   <updated>2010-06-24T00:00:00-07:00</updated>
   <id>h/2010/06/24/CSGF-Conference-Thursday</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot; title=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot;&gt;Conference Agenda&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Conference Day 2</title>
   <link href="/2010/06/23/DoE-CSGF-Conference-Day-2.html"/>
   <updated>2010-06-23T00:00:00-07:00</updated>
   <id>h/2010/06/23/DoE-CSGF-Conference-Day-2</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http---www.krellinst.org-conf-csgf-&quot; title=&quot;http---www.krellinst.org-conf-csgf-&quot;&gt;DoE CSGF Conference&lt;/a&gt;, Day 2&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot; title=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot;&gt;Conference Agenda&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Fellows Poster Session&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/38/CarlPresentsPoster.jpg/300px-CarlPresentsPoster.jpg&quot; alt=&quot;Photo credit Michelle King, Krell Institute. Others in the photo are: Devin Matthews, University of Texas at Austin, DOE CSGF fellow (dark blue CSGF shirt) and Jeff Lewandowski, Computational Science and Discovery Magazine.&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Photo credit Michelle King, Krell Institute. Others in the photo are: Devin Matthews, University of Texas at Austin, DOE CSGF fellow (dark blue CSGF shirt) and Jeff Lewandowski, Computational Science and Discovery Magazine.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Photo credit Michelle King, Krell Institute. Others in the photo are: Devin Matthews, University of Texas at Austin, DOE CSGF fellow (dark blue CSGF shirt) and Jeff Lewandowski, Computational Science and Discovery Magazine.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; Presented my poster which qualified as a finalist in the competition.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Conference- Tuesday</title>
   <link href="/2010/06/22/CSGF-Conference-Tuesday.html"/>
   <updated>2010-06-22T00:00:00-07:00</updated>
   <id>h/2010/06/22/CSGF-Conference-Tuesday</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot; title=&quot;http://www.krellinst.org/conf/csgf/2010-conference/conference-agenda&quot;&gt;Conference Agenda&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### HPC Survey Results&lt;/p&gt;
&lt;p&gt;Presented the results of my survey of the computational habits and tools of CSGF fellows and alumni. See my &lt;a href=&quot;http://openwetware.org/wiki/Image:CSGF_survey_summary.pdf&quot; title=&quot;http://openwetware.org/wiki/Image:CSGF_survey_summary.pdf&quot;&gt;Survey summary&lt;/a&gt;. Slides, data, etc available on my github &lt;a href=&quot;http://github.com/cboettig/sandbox/tree/master/csgf_survey/&quot; title=&quot;http://github.com/cboettig/sandbox/tree/master/csgf_survey/&quot;&gt;repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Conference- HPC Workshop</title>
   <link href="/2010/06/21/CSGF-Conference-HPC-Workshop.html"/>
   <updated>2010-06-21T00:00:00-07:00</updated>
   <id>h/2010/06/21/CSGF-Conference-HPC-Workshop</id>
   <content type="html">&lt;p&gt;I found the breakout sessions in the afternoon particularly fascinating for their paradigm-breaking look into the future of high performance computing. While FLOPS become free, huge scale and ultra-low-power devices (little voltage difference to identify bits) make error handling a topic of major concern, and the idea of “wasting” processors to perform redundant calculations to avoid errors becomes quite serious. Other ideas, like moving computation around the memory instead of the reverse, the rise of large data and questioning the role of GPU and other novel architecture was also an important theme. Breaking out of the cycle of simply scaling up the MPI paradigm will open new questions but require new hardware, new algorithms, and new kinds of thinking.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wainwright Lab Meeting</title>
   <link href="/2010/06/16/Wainwright-Lab-Meeting.html"/>
   <updated>2010-06-16T00:00:00-07:00</updated>
   <id>h/2010/06/16/Wainwright-Lab-Meeting</id>
   <content type="html">&lt;p&gt;Presented a revised version of my talk for Evolution 2010, focusing on the inadequacy of information-criteria heuristics for model choice in phylogenetic comparative methods and presenting the likelihood-ratio based approach I’ve been working on. Much better received this time. (The last two weeks have been pretty dedicated to preparing for the upcoming conferences, mostly for this presentation, so not much in the way of new research. Will be able to return to new stuff in July, following iEvoBio).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Questions</title>
   <link href="/2010/06/10/Questions.html"/>
   <updated>2010-06-10T00:00:00-07:00</updated>
   <id>h/2010/06/10/Questions</id>
   <content type="html">&lt;p&gt;Current population dynamics model macroscopic equations:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/c/2/1c26a2c6740e377965fa6e85d41e3f33.png&quot; alt=&quot;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Interpreting μ terms as death events, b as birth, and the &lt;em&gt;a&lt;/em&gt; terms as transitions between age classes gives a natural form for the master equation.&lt;/p&gt;
&lt;h3 id=&quot;divergent-solutions-to-the-linear-noise-approximation&quot;&gt;Divergent Solutions to the linear noise approximation?&lt;/h3&gt;
&lt;p&gt;Breaking the age classes into &lt;em&gt;k&lt;/em&gt; subclasses makes waiting time within an age class gamma instead of exponential, which better matches observation. Also allows sustained oscillations. The numerical solution to the linear noise approximation shows divergent variance dynamics. Is this a numerical artifact?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/eb/Oscillate_noise2.png/500px-Oscillate_noise2.png&quot; alt=&quot;Numerical solution to linear noise b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Numerical solution to linear noise b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Numerical solution to linear noise&lt;/strong&gt; b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot;&gt;version-stable code&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/a/a9/Ibm_gamma.png&quot; alt=&quot;individual base simulation with same parameters&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;individual base simulation with same parameters&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c361d07025b038c3d435018b751a6858c71f89c7/R/ind_based_models.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c361d07025b038c3d435018b751a6858c71f89c7/R/ind_based_models.R&quot;&gt;Version-stable code&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;differences-between-two-step-correlated-events-and-two-single-steps&quot;&gt;Differences between two-step (correlated events) and two single steps&lt;/h3&gt;
&lt;p&gt;Can we distinguish between a process where an element leaves one population and enters another (i.e. a transitions from one age class to the next) and a model where death rate in one class is equal to the birth rate in another? The linear noise approximation for a two-step process obeys a different equation than the one-step:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/5/e/b/5eb413fd88e12c41c39cf48c811fc71a.png&quot; alt=&quot;\begin{align} &amp;amp; \frac{d}{dt} E(p) = b(p)-d(p) + \sum_{j \neq i} \tau_{ji}(p) - \tau_{ij}(p) =: f(p)\\ &amp;amp; \frac{d}{dt} M = \textrm{diag}( b(p) + d(p) ) - T + Df(p) M + M Df(p)^T \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} &amp;amp; \frac{d}{dt} E(p) = b(p)-d(p) + \sum_{j \neq i} \tau_{ji}(p) - \tau_{ij}(p) =: f(p)\\ &amp;amp; \frac{d}{dt} M = \textrm{diag}( b(p) + d(p) ) - T + Df(p) M + M Df(p)^T \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;where &lt;em&gt;T&lt;/em&gt; is a symmetric matrix with off-diagonal elements &lt;em&gt;i,j&lt;/em&gt; τ~&lt;em&gt;i&lt;strong&gt;j&lt;em&gt;~(&lt;/em&gt;p&lt;em&gt;) + τ&lt;/em&gt;j&lt;/strong&gt;i&lt;/em&gt;(&lt;em&gt;p&lt;/em&gt;) and diagonal elements chosen so that rows sum to zero. This approximation is implemented in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot;&gt;noise_approx.R&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;How different can this be from simply implementing all transitions as single-steps?&lt;/p&gt;
&lt;p&gt;So far the difference seems small in my examples:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/e8/Crowley_covariance.png/400px-Crowley_covariance.png&quot; alt=&quot;hastings covarainces, b1 = 0, b2 = .6, d1 = d2 = .1, c1 = c2 =.5, K =1e4&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;hastings covarainces, b1 = 0, b2 = .6, d1 = d2 = .1, c1 = c2 =.5, K =1e4&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/26/Fixed_2.png/400px-Fixed_2.png&quot; alt=&quot;Comparison. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Comparison. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Comparison. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Graham & Peter Meeting</title>
   <link href="/2010/06/09/Graham-and-Peter-Meeting.html"/>
   <updated>2010-06-09T00:00:00-07:00</updated>
   <id>h/2010/06/09/Graham-and-Peter-Meeting</id>
   <content type="html">&lt;p&gt;Fantastic meeting with Graham and Peter today, covered a lot of ground.&lt;/p&gt;
&lt;h4 id=&quot;mnv&quot;&gt;MNV&lt;/h4&gt;
&lt;p&gt;I briefly sketched the multivariate normal solution for joint probability across the tree under the regimes model. The original regimes approach did not take advantage of the fact that the solution to the joint probability across the tree is multivariate normal given the painting. This allows the calculation to be partitioned as outlined in Saturday’s entry:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/b/7/d/b7d74172c4b6e8084dc7907ec3dd6300.png&quot; alt=&quot;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} )&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} )&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; #### Importance Sampling&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The method I had outlined by reusing the tree library and weighting by the probability that the Q matrix generated that tree goes by the name &lt;em&gt;Importance Sampling&lt;/em&gt;, though it ought to have been re-weighted by the probability it was produced from the original Q matrix used to generate it (Q’), and then averaged. (In my examples (github) I generate from the same distribution as a weight from and these agree). A brief summary excerpted from Wikipedia:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/math/3/7/3/373dde81b17f8f8f1d2b77732bbd9ada.png&quot; alt=&quot;\begin{align} p_t &amp;amp; {} = {E} [1(X \ge t)] \\ &amp;amp; {} = \int 1(x \ge t) \frac{f(x)}{f_*(x)} f_*(x) \,dx \\ &amp;amp; {} = {E_*} [1(X \ge t) W(X)] \end{align}&quot; /&gt;&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/4/0/2406dfcf6682ef40f4c5142f0fceb5b6.png&quot; alt=&quot;W(\cdot) \equiv \frac{f(\cdot)}{f_*(\cdot)}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;W(\cdot) \equiv \frac{f(\cdot)}{f_*(\cdot)}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;is a likelihood ratio and is referred to as the weighting function. The last equality in the above equation motivates the estimator&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/a/9/d/a9d937b80a14419bcbcd9e73159727ea.png&quot; alt=&quot;\hat p_t = \frac{1}{K}\,\sum_{i=1}^K 1(X_i \ge t) W(X_i),\,\quad \quad X_i \sim f_*&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\hat p_t = \frac{1}{K}\,\sum_{i=1}^K 1(X_i \ge t) W(X_i),\,\quad \quad X_i \sim f_*&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This is the importance sampling estimator of &lt;img src=&quot;http://openwetware.org/images/math/1/e/4/1e48d42b7f9d92edeb2212f749b47b4a.png&quot; alt=&quot;p_t\,&quot; /&gt; and is unbiased. That is, the estimation procedure is to generate i.i.d. samples from &lt;img src=&quot;http://openwetware.org/images/math/4/e/9/4e91b5d2c89ec590d25607953484706c.png&quot; alt=&quot;f_*\,&quot; /&gt; and for each sample which exceeds &lt;img src=&quot;http://openwetware.org/images/math/0/c/6/0c68620ee2ea4f1286fcd672a47ea080.png&quot; alt=&quot;t\,&quot; /&gt;, the estimate is incremented by the weight &lt;img src=&quot;http://openwetware.org/images/math/2/f/1/2f1e8d5af98f2c9643b0334c73ccc25b.png&quot; alt=&quot;W\,&quot; /&gt; evaluated at the sample value. The results are averaged over &lt;img src=&quot;http://openwetware.org/images/math/d/0/e/d0e1b8571128845c03a4cfac00d43b66.png&quot; alt=&quot;K\,&quot; /&gt; trials.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Unfortunately having to know the &lt;img src=&quot;http://openwetware.org/images/math/d/5/d/d5dd2924b7a98d52bb15c85b966071e6.png&quot; alt=&quot;f_*(\cdot)&quot; /&gt; term means that I cannot produce the painting library arbitrarily, but will be stuck finding the right painting only with the probability that I can simulate it from the prior.&lt;/p&gt;
&lt;h4 id=&quot;mcmc&quot;&gt;MCMC&lt;/h4&gt;
&lt;p&gt;Partitioning the problem&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/f/d/6/fd6dcd9d7346f612450994c84b39a7f5.png&quot; alt=&quot;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} ) P( \mathbb{Q} ) P( \vec \theta)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} ) P( \mathbb{Q} ) P( \vec \theta)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;and proposing paintings directly, we can MCMC over the space of possible paintings &lt;em&gt;C&lt;/em&gt;, OU parameters &lt;img src=&quot;http://openwetware.org/images/math/1/c/8/1c876a2b07f33c4f32b5f73a9d790a18.png&quot; alt=&quot;\vec \theta&quot; /&gt; and transition matrices &lt;img src=&quot;http://openwetware.org/images/math/d/4/5/d45a4aa156a8ac07ab80e7d9cf5fa79f.png&quot; alt=&quot;\mathbb{Q}&quot; /&gt;. Still, as this problem is hard in the discrete case over &lt;img src=&quot;http://openwetware.org/images/math/d/4/5/d45a4aa156a8ac07ab80e7d9cf5fa79f.png&quot; alt=&quot;\mathbb{Q}&quot; /&gt; (BayesTraits), optimizing the MCMC will still be interesting…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Discussion of Hastings ratio&lt;/li&gt;
&lt;li&gt;Discussion of reversible jump&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;wainwright-lab-meeting-4-6pm&quot;&gt;Wainwright Lab Meeting, 4-6pm&lt;/h2&gt;
&lt;p&gt;Presented three potential questions to focus on for the Evolution talk:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Defining clusters from raw data, with example in Labrids&lt;/li&gt;
&lt;li&gt;Inferring paintings and transition rates directly from data via MCMC&lt;/li&gt;
&lt;li&gt;Risks in AIC-based model choice&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The group clearly indicated that I should focus on the third, AIC topic, as it is the furthest along and the most immediate impact to the audience. Surprising to me as it is also the least biologically driven. Back to the drawing board now to figure out how to tell this story clearly and succinctly.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Making slides for Evolution meeting</title>
   <link href="/2010/06/08/Making-slides-for-Evolution-meeting.html"/>
   <updated>2010-06-08T00:00:00-07:00</updated>
   <id>h/2010/06/08/Making-slides-for-Evolution-meeting</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/4/42/VsBM.png/180px-VsBM.png&quot; alt=&quot;Anoles LP model vs BM&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles LP model vs BM&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles LP model vs BM&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/c/c5/VsOU1.png/180px-VsOU1.png&quot; alt=&quot;Anoles LP fits vs OU1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles LP fits vs OU1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles LP fits vs OU1&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/4/44/NP.png/180px-NP.png&quot; alt=&quot;Anoles Neyman-Pearson model selection&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Anoles Neyman-Pearson model selection&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Anoles Neyman-Pearson model selection&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/d/d3/Q.png/180px-Q.png&quot; alt=&quot;Visualization of transition matrix&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Visualization of transition matrix&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Visualization of transition matrix&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Implementing the new approach</title>
   <link href="/2010/06/06/Implementing-the-new-approach.html"/>
   <updated>2010-06-06T00:00:00-07:00</updated>
   <id>h/2010/06/06/Implementing-the-new-approach</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Spent just about the entire day off and on implementing the approach described in yesterday’s entry. Code includes the more direct implementation of the likelihood by generating trees from the process and averaging, as well as by weighting trees by their probability. Methods appear to agree reasonably well. The second approach should generate a wider variety of trees instead of using those produced by the first method. This could be done by varying the parameters of the transition rates to populate the collection. This needs significantly more exploring.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - Note that the major time savings in the new approach stem from the fact that when the transition matrix is changed, it may not be necessary generate new trees, only to change the weights &lt;img src=&quot;http://openwetware.org/images/math/5/a/0/5a0d9e1f1ef3c42a0ec1e51e7535d4e1.png&quot; alt=&quot;P(C|\mathbb{Q})&quot; /&gt;, and therefore it is not necessary to recalculate the likelihood of the OU model, since the painting hasn’t changed. Indeed, even the optimization / posteriors can be saved for each tree, offering substantial computational savings. In this way, every time the algorithm generates and fits a new tree, it can use that information for the rest of time, while it uses the MCMC approach to generate more likely trees, rather than trying an exhaustive approach. Note that this is MCMC approach can be used for an entirely frequentist style if desired, not all MCMCs are used to integrate posteriors. The makov chain construction part just speeds up the integration by monte carlo approach by focusing on the meaningful area of parameter space.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Still actually need to implement the MCMC portion, so far just calculates the likelihood.&lt;/li&gt;
&lt;li&gt;Also should implement the multi-tree initialization and tree-augmentation steps.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Implementation of the approach (&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/75b7bfdc7b1d5ccd3ce986db9cd5f7dd034cd5d1/R/method3.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/75b7bfdc7b1d5ccd3ce986db9cd5f7dd034cd5d1/R/method3.R&quot;&gt;version stable copy&lt;/a&gt;) (&lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/master/R/method3.R&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/blob/master/R/method3.R&quot;&gt;most current version&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Computational note: All in pure R, may move all or slowest parts to C after profiling and optimization. Requires the &lt;a href=&quot;http://cran.r-project.org/web/packages/msm/&quot; title=&quot;http://cran.r-project.org/web/packages/msm/&quot;&gt;msm&lt;/a&gt; package (multistate/hidden markov) for &lt;a href=&quot;http://pbil.univ-lyon1.fr/library/msm/html/MatrixExp.html&quot; title=&quot;http://pbil.univ-lyon1.fr/library/msm/html/MatrixExp.html&quot;&gt;its matrix exponentials&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood Calculation</title>
   <link href="/2010/06/05/Likelihood-Calculation.html"/>
   <updated>2010-06-05T00:00:00-07:00</updated>
   <id>h/2010/06/05/Likelihood-Calculation</id>
   <content type="html">&lt;h3 id=&quot;direct-calculation-of-the-joint-probability&quot;&gt;Direct Calculation of the Joint Probability&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/d/d9/Sampletree.png/180px-Sampletree.png&quot; alt=&quot;Fig 1 Sample tree&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 1 Sample tree&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig 1&lt;/strong&gt; Sample tree&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This is the approach implemented in the wrightscape project &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/master/src/matrix_method.c&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/master/src/matrix_method.c&quot;&gt;matrix_method.c&lt;/a&gt;. Consider an example phylogenetic tree (Fig 1) over which a stochastic process describes the evolution of trait &lt;em&gt;x,&lt;/em&gt; defined by the transition probability rate &lt;em&gt;w&lt;/em&gt;. Then the joint probability for a set of observed traits under this process can be written:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/0/a/c/0ac79d1c40c55d61a5acf6e240f06438.png&quot; alt=&quot;\begin{align} P(x_1, x_2, x_3, x_4) =&amp;amp; \int d x_7 \Biggl[ \left[ \int d x_5 w(x_7, x_5, t_5) w(x_5, x_1, t_1) w(x_5, x_2, t_1) \right] \\ &amp;amp; \times \left[ \int d x_6 w(x_7, x_6, t_6) w(x_6, x_3, t_3) w(x_6, x_4, t_3) \right] P(x_7) \Biggr] \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} P(x_1, x_2, x_3, x_4) =&amp;amp; \int d x_7 \Biggl[ \left[ \int d x_5 w(x_7, x_5, t_5) w(x_5, x_1, t_1) w(x_5, x_2, t_1) \right] \\ &amp;amp; \times \left[ \int d x_6 w(x_7, x_6, t_6) w(x_6, x_3, t_3) w(x_6, x_4, t_3) \right] P(x_7) \Biggr] \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The transition density from any state to any state can be represented as a matrix over the domain of the integral. So at each node, we have a transition probability of entering any state that node can assume from any state from which its ancestor could assume. Though we have an analytical expression for this probability, we must evaluate it &lt;em&gt;n&lt;/em&gt;&lt;sup&gt;2&lt;/sup&gt; times for each matrix, then perform the matrix multiplications that are the equivalent discretization of the integral formulation above. If the tips are known they are represented instead by a single column of that matrix – i.e. transitions from any state to the known tip state. So:&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Taking the element-wise product (denoted *) of the tip vectors times the matrix (chalkboard boldface) of the internal node prunes that node down to a single vector, and this can be recursed:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/8/1/6/8169d9da7630c0db3078b7f473f701e3.png&quot; alt=&quot;\int d x_5 w(x_7, x_5, t_5) w(x_5, x_1, t_1) w(x_5, x_2, t_1) \approx \mathbb{W}_5 (\vec W_1 * \vec W_2) \to \vec W_5&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\int d x_5 w(x_7, x_5, t_5) w(x_5, x_1, t_1) w(x_5, x_2, t_1) \approx \mathbb{W}_5 (\vec W_1 * \vec W_2) \to \vec W_5&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;See implementation in the code, &lt;a href=&quot;http://github.com/cboettig/wrightscape/blob/master/src/matrix_method.c&quot; title=&quot;http://github.com/cboettig/wrightscape/blob/master/src/matrix_method.c&quot;&gt;matrix_method.c&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;While the discretization is substantially faster than the numerical integration, since it reduces the problem to a series of matrix products (note that given the root note and all tip nodes, then this produces a joint probability as a single scalar. Unknown tips results in a tensor, indicating the dimensionality of the full data space).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Most of the time is spent computing the elements of the matrices at each node, see Yesterday’s entry, which reduces performance to substantially below that of the linear likelihood schemes compared in that model. The advantage of this approach is that the W matrices can be computed in principle for any process, and once computed the actual calculation of the joint probability (the recursive integrals) occurs very fast, even for reasonably large grids. (No matrix inversion, just products!) It is rather the calculation of each element of the matrix separately that is both the rate limiting step and leads to poor (quadratic) scaling of compute time with increasing grid resolution. This leads us to consider some other approaches:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Given a painting&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Given a painting we can determine the likelihood of this regimes model (mixtures of OUs) with given parameter values (i.e. using the OUCH framework). For instance, if we assume as OUCH does, that for OU processes, &lt;em&gt;dX&lt;/em&gt; = α(θ − &lt;em&gt;X&lt;/em&gt;)&lt;em&gt;dt&lt;/em&gt; + σ&lt;em&gt;dB&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;sigma and alpha are global parameters but there can be different values of theta under regimes, then the joint probability is &lt;em&gt;still&lt;/em&gt; multivariate normal, so its likelihood is given by&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/a/0/a/a0ad9db46854c4a616ce6959095cf21d.png&quot; alt=&quot;f_X(x) = \frac{1}{ (2\pi)^{k/2}|\Sigma|^{1/2} } \exp\!\Big( {-\tfrac{1}{2}}(x-\mu)’\Sigma^{-1}(x-\mu) \Big),&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;f_X(x) = \frac{1}{ (2\pi)^{k/2}|\Sigma|^{1/2} } \exp\!\Big( {-\tfrac{1}{2}}(x-\mu)’\Sigma^{-1}(x-\mu) \Big),&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;The addition of regimes with different thetas alters the calculation of the means, which can still be done using the solution to the expectation of the OU process. For instance, a tip that has spent time &lt;em&gt;t&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt; in regime 1 followed by time &lt;em&gt;t&lt;/em&gt;&lt;sub&gt;2&lt;/sub&gt; in regime 2 has expectation:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/f/b/2fb3833cbe74fff7dccf6210efd5a427.png&quot; alt=&quot;E(X) = (X_0 e^{-\alpha_1 t_1} + \theta_1) e^{\alpha_2 t_2} + \theta_2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;E(X) = (X_0 e^{-\alpha_1 t_1} + \theta_1) e^{\alpha_2 t_2} + \theta_2&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;and so forth. If we assume alpha and sigma are the same for all processes than the variance calculation is unaltered. We could also generalize this to allow regimes to change at points other than nodes, though in practice this may be unimportant. For varying alpha and sigma, we would need to modify the variance calculation (will hopefully write down soon). So all this is well implemented given the tree, but our desire is to avoid having to specify a painting.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Speed in this method depends largely on the ability to calculate distances between nodes on a tree. While many common implementations of this exist, including my own, it appears that most of the phylogenetics codes do not use the computationally optimum algorithms, which are surprisingly recent in the CS literature. See the &lt;a href=&quot;http://www.topcoder.com/tc?module=Static&amp;amp;d1=tutorials&amp;amp;d2=lowestCommonAncestor&quot; title=&quot;http://www.topcoder.com/tc?module=Static&amp;amp;d1=tutorials&amp;amp;d2=lowestCommonAncestor&quot;&gt;algorithms described here&lt;/a&gt;. It appears that this distance goes by the name patristic in the phylogenetics literature. (Sample algorithms in practice – see &lt;a href=&quot;http://www.mathworks.com/access/helpdesk/help/toolbox/bioinfo/ug/a1075738685b2.html&quot; title=&quot;http://www.mathworks.com/access/helpdesk/help/toolbox/bioinfo/ug/a1075738685b2.html&quot;&gt;Matlab&lt;/a&gt;, &lt;a href=&quot;http://github.com/jeetsukumaran/DendroPy/blob/master/dendropy/treecalc.py&quot; title=&quot;http://github.com/jeetsukumaran/DendroPy/blob/master/dendropy/treecalc.py&quot;&gt;dendropy&lt;/a&gt;, &lt;a href=&quot;https://www.nescent.org/wg_phyloinformatics/R_Hackathon_1/DataTreeManipulation&quot; title=&quot;https://www.nescent.org/wg_phyloinformatics/R_Hackathon_1/DataTreeManipulation&quot;&gt;R&lt;/a&gt;, etc. Sample papers see &lt;a href=&quot;http://en.wikipedia.org/wiki/Lowest_common_ancestor&quot; title=&quot;http://en.wikipedia.org/wiki/Lowest_common_ancestor&quot;&gt;on lowest common ancestor&lt;/a&gt; problem on wikipedia.)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;original-appraoach&quot;&gt;Original appraoach&lt;/h4&gt;
&lt;p&gt;The Labrid example tackles this problem by attempting to generate a reasonable distribution of paintings from the data by clustering.&lt;/p&gt;
&lt;h3 id=&quot;distributions-of-paintings&quot;&gt;Distributions of Paintings&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;We’d like not to actually integrate over paintings, but over stochastic mappings (continuous time finite state Markov chains) that generate the paintings. This reduces the parameter set (i.e. two additional parameters for the two regimes case, or six for the three regime case, without assuming equal forward-back rates or an ordering of the peaks).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The most straight-forward implementation of this approach is to generate paintings from a particular parameterization of a transition matrix and calculate the probability of the data of each. Averaging these probabilities effectively integrates over the distribution of paintings generated from the transition density. Unfortunately, this may not be much faster. However, we can do better than this by realizing that &lt;em&gt;given a painting, we can compute the probability that it is generated from any particular transition matrix!&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - In this way we can construct the probability of the parameter set of the regimes &lt;img src=&quot;http://openwetware.org/images/math/1/c/8/1c876a2b07f33c4f32b5f73a9d790a18.png&quot; alt=&quot;\vec \theta&quot; /&gt;, and the transition probabilities &lt;img src=&quot;http://openwetware.org/images/math/d/4/5/d45a4aa156a8ac07ab80e7d9cf5fa79f.png&quot; alt=&quot;\mathbb{Q}&quot; /&gt; through a particular painting &lt;em&gt;C&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/b/7/d/b7d74172c4b6e8084dc7907ec3dd6300.png&quot; alt=&quot;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} )&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;P(X | \vec \theta, \mathbb{Q} ) = P(X | C) P(C | \mathbb{Q} )&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Comparative Phylogenetics Talk</title>
   <link href="/2010/06/04/Comparative-Phylogenetics-Talk.html"/>
   <updated>2010-06-04T00:00:00-07:00</updated>
   <id>h/2010/06/04/Comparative-Phylogenetics-Talk</id>
   <content type="html">&lt;p&gt;Practice talk in Wainwright lab meeting next Weds. 12 minutes.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Introduce question: Inferring the number of regimes&lt;/li&gt;
&lt;li&gt;Context relative to existing methods&lt;/li&gt;
&lt;li&gt;Statistical challenges – model-dependent phylogenetic signal problem&lt;/li&gt;
&lt;li&gt;Labrid example&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;frameworks-for-approaching-regimes-question&quot;&gt;Frameworks for approaching regimes question&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;wrightscape&lt;/li&gt;
&lt;li&gt;&lt;p&gt;phylogenetically corrected clustering&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;speed/feasibility concerns, rate limiting steps.&lt;/li&gt;
&lt;li&gt;model realism / representation concerns&lt;/li&gt;
&lt;li&gt;&lt;p&gt;statistical concerns&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;returning-to-wrightscape-approach&quot;&gt;Returning to Wrightscape approach&lt;/h2&gt;
&lt;p&gt;Haven’t worked on the full problem of inferring multiple peaks directly from comparative data using the joint probability calculation since the beginning of this notebook, so about time to return to the direct problem and compare with the more heuristic approach of “phylogenetically corrected clustering” and also synthesize the work on uncertainty which has been a dominate theme thus far (add category label for this group!)&lt;/p&gt;
&lt;p&gt;The direct calculation is still going by the name wrightscape, and the project (without its svn history unforunately) has been migrated to git and pushed to github. So thus far the current code for this project is independent of that in Comparative-Phylogenetics project repository. This is the home of the &lt;a href=&quot;http://github.com/cboettig/wrightscape&quot; title=&quot;http://github.com/cboettig/wrightscape&quot;&gt;Wrightscape repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Since it’s been a while since I’ve worked on this project, I begin by refreshing myself as to the organizational structure of the code. The callgraph provides a good summary:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/b/b6/Callgraph.png/700px-Callgraph.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Generated with valgrind and visualized in kcachegrind by:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; make debug
 valgrind --tool=callgrind ./jointprob
 kcachegrind callgrind.out.*&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;kcachegrind then displays the call graph, (and other information), which can save as png.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; We see the code compare a likelihood calculation using the linear solutions compared with that of the matrix approach for the sample data (which includes both trivially small tree example and the bimac dataset from the Butler &amp;amp; King (2004) paper) for BM fit, OU fit, and the matrix approach OU fit. The matrix approach clearly takes the dominate amount of time, though results agree closely with the exact linear solutions in both examples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; analytic bm llik = -8.648713
 analytic ou llik = -8.570838
 matrix llik = -8.582334
 analytic bm llik = -65.106558
 analytic ou llik = -61.906121
 matrix llik = -61.927070&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So what is the matrix approach implement exactly? Desending the call graph further, we see it is mostly computing the transition matrix that sits at each node (which it can do directly using the analytic OU solution). Then the matrix solution to the joint probability is specified by:&lt;/p&gt;
&lt;p&gt;So what generality is gained by this approach? While the matrix formulation is general, this requires the direct calculation applied to each node. Should be able to simultaneously solve everything in a particular regime directly, if there is a meaningful way to MCMC over larger regime partitions rather than over node assignments.&lt;/p&gt;
&lt;h2 id=&quot;evolution-meeting&quot;&gt;Evolution meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Aaron King’s student, &lt;a href=&quot;http://www-personal.umich.edu/~cressler/&quot; title=&quot;http://www-personal.umich.edu/~cressler/&quot;&gt;Clayton Cressler&lt;/a&gt; &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=501&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=501&quot;&gt;talk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Liam Revell &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=459&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=459&quot;&gt;talk&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Luke Harmon &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=133&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=133&quot;&gt;talks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Michael Alfaro &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=1379&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=1379&quot;&gt;talk&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - Hilmar Lapp, Rod Page - My &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=18&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=detail&amp;amp;aid=18&quot;&gt;talk&lt;/a&gt; - Search &lt;a href=&quot;http://2010.evolutionmeeting.org/search/index.php?func=SelectAuth&amp;amp;ltr=All&quot; title=&quot;http://2010.evolutionmeeting.org/search/index.php?func=SelectAuth&amp;amp;ltr=All&quot;&gt;all talks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Doesn’t look like Andrew Hipp is listed. See my mattice entry from April.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Entry title</title>
   <link href="/2010/06/03/Entry-title.html"/>
   <updated>2010-06-03T00:00:00-07:00</updated>
   <id>h/2010/06/03/Entry-title</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Insert content here…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Actually starting at Arkin Lab</title>
   <link href="/2010/06/02/Actually-starting-at-Arkin-Lab.html"/>
   <updated>2010-06-02T00:00:00-07:00</updated>
   <id>h/2010/06/02/Actually-starting-at-Arkin-Lab</id>
   <content type="html">&lt;h3 id=&quot;meeting-with-m.-samoilov&quot;&gt;Meeting with M. Samoilov&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Kurtz Theorems: two limits, timescale and system size, often taken in the wrong order in practice.&lt;/li&gt;
&lt;li&gt;Einstein-Smoluchowski debate regarding Langevin correspondence to Ito vs Statonvich representations resolved: [theorem]. (Statonvich is the more natural interpretation of the way in which we measure data to compare to Langevin. Of course Ito and Stratonvich can be mapped back and forth anyway).&lt;/li&gt;
&lt;li&gt;Of course this difference doesn’t exist, and nothing goes wrong / no stochastic surprises if dynamics are linear.&lt;/li&gt;
&lt;li&gt;Necessary limits of applicability not often checked in SDE famework.&lt;/li&gt;
&lt;li&gt;Deterministic limit often works better than these limits would imply, as the same deterministic equation arises from multiple cases&lt;/li&gt;
&lt;li&gt;Hamiltonian-Jacobi derivation sheds some light on why deterministic result is more general (requires fewer assumptions/weaker limits than SDE approach)&lt;/li&gt;
&lt;li&gt;Intrinsic + extrinsic noise is hard. Environmental noise poorly defined, hard to make physical. Can be incorporated into the master equation directly in a more meaningful way, still very hard problem. Still, environmental noise often not needed to capture the behavior once we go back to original master equation.&lt;/li&gt;
&lt;li&gt;References and examples to come.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Gamma Waiting times on individual level</title>
   <link href="/2010/06/01/Gamma-Waiting-times-on-individual-level.html"/>
   <updated>2010-06-01T00:00:00-07:00</updated>
   <id>h/2010/06/01/Gamma-Waiting-times-on-individual-level</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote the proper record structure into C code to handle reporting to R, including ensemble data.&lt;/li&gt;
&lt;li&gt;Wrote the R interface to the dynamics.&lt;/li&gt;
&lt;li&gt;Needs exploration.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/a/a9/Ibm_gamma.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/c361d07025b038c3d435018b751a6858c71f89c7/R/ind_based_models.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/c361d07025b038c3d435018b751a6858c71f89c7/R/ind_based_models.R&quot;&gt;Version-stable code&lt;/a&gt; for parameters. Run using defaults, graph as:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;  png(&amp;quot;ibm_gamma.png&amp;quot;)
  o &amp;lt;- gamma_beetles_ibm()
  plot(o$times, o$mv[[1,1]], type=&amp;#39;l&amp;#39;, col=&amp;quot;yellow&amp;quot;)
  lines(o$times, o$mv[[1,2]], col=&amp;quot;yellowgreen&amp;quot;)
  lines(o$times, o$mv[[1,3]], col=&amp;quot;lightgreen&amp;quot;)
  lines(o$times, o$mv[[1,4]], col=&amp;quot;darkgreen&amp;quot;)
  dev.off()
  o$parameters
      b      ue      ul      up      ua      ae      al      ap     cle     cap 
  5.000   0.000   0.001   0.000   0.010   1.300   0.100   1.500   0.200   0.100 
    cae       V 
  5.000 100.000&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Simulation reports actual parameters above, chosen to match the theory results from last week (linear noise approximation).&lt;/li&gt;
&lt;li&gt;Comparisons using ensemble data against theory coming soon.&lt;/li&gt;
&lt;li&gt;Single replicate .c based IBM is currently faster than the ode system (with variance dynamics).&lt;/li&gt;
&lt;li&gt;Note: Entry and graph above actually added on June 3rd, parameters weren’t named correctly on June 1st, so simulation wasn’t oscillating.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CSGF Survey</title>
   <link href="/2010/05/31/CSGF-Survey.html"/>
   <updated>2010-05-31T00:00:00-07:00</updated>
   <id>h/2010/05/31/CSGF-Survey</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrote survey. Getting feedback and will send out this week.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;previous comments&lt;/p&gt;
&lt;h2 id=&quot;wiki-tricks&quot;&gt;Wiki Tricks&lt;/h2&gt;
&lt;p&gt;Exploring use of &lt;a href=&quot;http://wiki.freegeek.org/index.php/Www-mediawiki-client&quot; title=&quot;http://wiki.freegeek.org/index.php/Www-mediawiki-client&quot;&gt;mvs&lt;/a&gt; to download and upload entries from openwetware. The mediawiki client is easy to install as described in the link. Doesn’t seem to have a tool to grab everything in my Notebook namespace, but with a little bash script I can grab all the entries in a particular notebook:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ~~~~ {.de1} #! /bin/bash mvs login -d openwetware.org -u Carl_Boettiger -w index.php   for j in &lt;code&gt;seq 3 5&lt;/code&gt;; { for i in &lt;code&gt;seq 1 9&lt;/code&gt;; do mvs update User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/0&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?j/0\inline&quot;/&gt;&lt;/span&gt;i.wiki done   for i in &lt;code&gt;seq 10 31&lt;/code&gt;; do mvs update User:Carl_Boettiger/Notebook/Comparative_Phylogenetics/2010/0&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?j/\inline&quot;/&gt;&lt;/span&gt;i.wiki done } ~~~~&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;login should specify -p password (omitted here for obvious reasons)&lt;/li&gt;
&lt;li&gt;For some reason can’t get commit to push changes back up. (See the link above for examples on how to commit data).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Error:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Doing commit User:Carl_Boettiger.wiki with host: openwetware.org and lang: en
 Can&amp;#39;t call method &amp;quot;isa&amp;quot; without a package or object reference at /usr/bin/mvs line 96.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; - Also looking into a personal copy of OWW: OpenWetWare:Software/Subwikis, which would similarly allow offline work.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Individual based simulation with gamma waiting times</title>
   <link href="/2010/05/29/Individual-based-simulation-with-gamma-waiting-times.html"/>
   <updated>2010-05-29T00:00:00-07:00</updated>
   <id>h/2010/05/29/Individual-based-simulation-with-gamma-waiting-times</id>
   <content type="html">&lt;p&gt;Began implementing the individual-based simulation of gamma waiting times by subdividing the first three age classes into K subclasses. Required rewriting gillespie function so as to intelligently calculate rates rather than writing 3K+1 functions. This leads to an alternative gillespie simulation interface that takes a function to calculate rates, producing cumulative sum (though perhaps that step should be moved into the raw gillespie code) of rates for each event, and an outcome function that will execute the outcome of each of those events. Additionally there is still the fixed interval tasks function and a custom record class for the output.&lt;/p&gt;
&lt;p&gt;See the github page for code, commit details, etc.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Conference call w- Bob and Brett</title>
   <link href="/2010/05/28/Conference-call-w--Bob-and-Brett.html"/>
   <updated>2010-05-28T00:00:00-07:00</updated>
   <id>h/2010/05/28/Conference-call-w--Bob-and-Brett</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;So far no large noise in larval class alone, several potential mechanisms we may have missed so far:&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;getting-large-noise-in-larva&quot;&gt;Getting large noise in larva&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Noise from egg class (due to nonlinear dynamics)&lt;/li&gt;
&lt;li&gt;Nonlinearity in larval class due to large larva eating smaller ones&lt;/li&gt;
&lt;li&gt;Unknown effect of more realistic aging/stage transitions.&lt;/li&gt;
&lt;li&gt;Long transients? – Experiments start with larva, pupa, adults to speed up transient period.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Summary of Structured Population noise so far</title>
   <link href="/2010/05/27/Summary-of-Structured-Population-noise-so-far.html"/>
   <updated>2010-05-27T00:00:00-07:00</updated>
   <id>h/2010/05/27/Summary-of-Structured-Population-noise-so-far</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/eb/Oscillate_noise2.png/180px-Oscillate_noise2.png&quot; alt=&quot;Fig 1 Code b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 1 Code b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig 1&lt;/strong&gt; &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot;&gt;Code&lt;/a&gt; b=5, ue= 0, ul = 0.001, up = 0, ua = 0.01, ae = .13*k, al = .01*k, ap = .15*k, cle = .2, cap = .1, cae = 5, V=volume&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/62/Poisson_noise.png/180px-Poisson_noise.png&quot; alt=&quot;Fig 2 b=5, ue= 0, ul = 0.001, up = 0, ua = .001, ae = .1*k, al = .01*k, ap = .1*k, cle = 1, cap = .4, cae = 1, V=volume&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 2 b=5, ue= 0, ul = 0.001, up = 0, ua = .001, ae = .1*k, al = .01*k, ap = .1*k, cle = 1, cap = .4, cae = 1, V=volume&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig 2&lt;/strong&gt; b=5, ue= 0, ul = 0.001, up = 0, ua = .001, ae = .1*k, al = .01*k, ap = .1*k, cle = 1, cap = .4, cae = 1, V=volume&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### System Size Expansion&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Analytic calculation captures the noise propagation through the age structure correctly. This can lead to much larger estimates of the impact of demographic stochastically than previously believed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;This covariance mechanism requires coupling through the nonlinear terms, otherwise it can simply cancel out. The asymmetric, nonlinear term such as in the generalized crowley model seems to be the simplest way to produce a large demographic noise effect:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/e/5/c/e5cdffa3fd231edfaed2a137abdc4797.png&quot; alt=&quot;\partial_i f_i \ll \partial_i f_j&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\partial_i f_i \ll \partial_i f_j&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Earlier descriptions have failed to include the connections in the noise structure, i.e. from &lt;a href=&quot;http://www.jstor.org/stable/2657219&quot; title=&quot;http://www.jstor.org/stable/2657219&quot;&gt;Dennis et al 2001&lt;/a&gt; “that the noise variables are uncorrelated with each other within a time unit (off-diagonal elements of the matrix are zero).”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Two interesting side-questions have emerged – the influence of the two-step vs one-step transitions and the connections of multiple stages.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Status of Noise in LPA Model&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Macroscopic dynamics&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/c/2/1c26a2c6740e377965fa6e85d41e3f33.png&quot; alt=&quot;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; - A noisy larval population with stable adult population could be driven in the LPA model by weak damping in the larval class &lt;img src=&quot;http://openwetware.org/images/math/f/8/5/f85e13222f810483cb55eebefa911dc4.png&quot; alt=&quot;\partial_L f_L \approx 0&quot; /&gt; relative to a strong covariance term amplifying fluctuations from another class, &lt;img src=&quot;http://openwetware.org/images/math/a/6/3/a6381f2e34a7d68d6de0c6c63fcd9de9.png&quot; alt=&quot;\partial_j f_L \gg \partial_j f_j&quot; /&gt;. As larval dynamics are connected only to egg dynamics and only through a_e, this makes the oscillations relatively small.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - The stable adult noise can be driven by strong damping or weak coupling &lt;img src=&quot;http://openwetware.org/images/math/9/1/2/9124e1d69db343ffcfdfab9aaac349ae.png&quot; alt=&quot;\partial_A f_A(\hat X) \ll 0&quot; /&gt;&lt;/p&gt;
&lt;h3 id=&quot;comparison-to-dennis-et-al-model&quot;&gt;Comparison to Dennis et al model&lt;/h3&gt;
&lt;p&gt;which assumes&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/e/0/b/e0b78e071f7a2db61e77e3721e3dabab.png&quot; alt=&quot;d \vec X = f(\vec X) d\vec X + \sqrt{f(\vec X)} d\mathbb{B}_t&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;d \vec X = f(\vec X) d\vec X + \sqrt{f(\vec X)} d\mathbb{B}_t&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Which underestimates the noise twice over, with no covariance and a noise based on a pure birth process (difference instead of sum of rates).&lt;/p&gt;
&lt;h2 id=&quot;continuing-beetles-research&quot;&gt;Continuing Beetles Research&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sustained oscillations seem to be yielding divergent noise dynamics. Fig 1.&lt;/li&gt;
&lt;li&gt;Identical model in a different parameter regime, noise is essentially Poisson, with variances matching means within each stage, and no suggestion of the instability seen in the oscillating case. Fig 2.&lt;/li&gt;
&lt;li&gt;Extensions (two-step, phases) and break-downs of the approximation (see/discuss with Michael Samoilov and Adam Arkin)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc —-&lt;/p&gt;
&lt;p&gt;embed any webpage in an oww page:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;lt;html&amp;gt;&amp;lt;iframe height=&amp;quot;500px&amp;quot; width=&amp;quot;1000px&amp;quot; src=&amp;quot;http://two.ucdavis.edu/~cboettig&amp;quot;&amp;gt;&amp;lt;/iframe&amp;gt;&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Rethinking Beetles Noise</title>
   <link href="/2010/05/26/Rethinking-Beetles-Noise.html"/>
   <updated>2010-05-26T00:00:00-07:00</updated>
   <id>h/2010/05/26/Rethinking-Beetles-Noise</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Noise in the larval class is damped by &lt;img src=&quot;http://openwetware.org/images/math/d/0/8/d084393ee59f54a76685ec96a58d5713.png&quot; alt=&quot;\partial_L f_L&quot; /&gt; and grows proportional to its intrinsic variation and the contribution of other classes through their derivatives of &lt;em&gt;f&lt;/em&gt;&lt;sub&gt;&lt;em&gt;L&lt;/em&gt;&lt;/sub&gt;, that is, &lt;img src=&quot;http://openwetware.org/images/math/0/8/c/08c6845f4c466dddff7c0cf1d0c9bdd9.png&quot; alt=&quot;\partial_E f_l&quot; /&gt; as well as the sum of its intrinsic rates (essentially whichever is larger). Taking &lt;em&gt;E&lt;/em&gt; dynamics to be fast we might reduce to a continous time LPA model:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/8/8/6/8868897b28c0269a662476f8cdaba956.png&quot; alt=&quot;\begin{align} &amp;amp; \dot L = a_e \frac{bA - c_{ea} A - c_{el} L}{a_e + \mu_e} - a_l - \mu_l \\ &amp;amp; \dot P = a_l L - \mu_p P - a_p P \\ &amp;amp; \dot A = a_p P - \mu_a A \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} &amp;amp; \dot L = a_e \frac{bA - c_{ea} A - c_{el} L}{a_e + \mu_e} - a_l - \mu_l \\ &amp;amp; \dot P = a_l L - \mu_p P - a_p P \\ &amp;amp; \dot A = a_p P - \mu_a A \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;and the larval fluctuations are essentially:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/0/b/2/0b28c653e98e1add40660bcfa8397dfa.png&quot; alt=&quot;\begin{align} \sigma^2_L &amp;amp;= \frac{\nu + \beta_L}{2 \partial_L f_L} \\ \nu &amp;amp;= \frac{ 2(\partial_A f_L)^2 \sigma_A^2 }{\partial_L f_L + \partial_A f_A} \\ \partial_A L &amp;amp;= \frac{a_e (b - c_{ea} ) }{a_e + \mu_e} \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \sigma^2_L &amp;amp;= \frac{\nu + \beta_L}{2 \partial_L f_L} \\ \nu &amp;amp;= \frac{ 2(\partial_A f_L)^2 \sigma_A^2 }{\partial_L f_L + \partial_A f_A} \\ \partial_A L &amp;amp;= \frac{a_e (b - c_{ea} ) }{a_e + \mu_e} \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;where β&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt; is the intrinsic noise of the age class. Hence a class &lt;em&gt;i&lt;/em&gt; which propagates large noise to another class &lt;em&gt;j&lt;/em&gt; has a large &lt;img src=&quot;http://openwetware.org/images/math/7/b/e/7be2b5af5d2cc89a7191b64172d0111a.png&quot; alt=&quot;\partial_i f_j&quot; /&gt;. If this term is a linear transition λ&lt;em&gt;X&lt;/em&gt;&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt;, then the same term appears in &lt;em&gt;f&lt;/em&gt;&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt; and hence damps the noise &lt;img src=&quot;http://openwetware.org/images/math/8/5/8/858533c45c5df12a7e743e031638f296.png&quot; alt=&quot;\sigma_i^2&quot; /&gt; and cancels out. Hence noise must propagate into a class through nonlinear transition rates OR through an asymmetry in the transition (i.e. the c_1, c_2 large noise example in the generalized crowley).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Compare to noise in Eggs:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/c/b/4/cb43757c3eeb52669b9771261087ddd2.png&quot; alt=&quot;\sigma^2_E = \frac{ \frac{ (\sigma_L^2 c_{el} +\sigma_A^2 c_{ea} )E^2 }{\mu_A + \mu_L + a_L}+ \beta_E/2}{\mu_E + c_{ea} A + c_{el} L + a_e}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\sigma^2_E = \frac{ \frac{ (\sigma_L^2 c_{el} +\sigma_A^2 c_{ea} )E^2 }{\mu_A + \mu_L + a_L}+ \beta_E/2}{\mu_E + c_{ea} A + c_{el} L + a_e}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; Adding age delay to beetle dynamics ———————————–&lt;/p&gt;
&lt;p&gt;Current formulation has used exponential waiting times between stages. By subdividing the classes (increasing the system dimension size) and creating single jump within-state transitions, these become gamma-distributed waiting times. Adding ten steps to each phase and a little parameter fiddling introduces sustained oscillations. (&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/a03864e0e22ae210f784f51988e9eb1812005177/R/gamma_beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/a03864e0e22ae210f784f51988e9eb1812005177/R/gamma_beetles.R&quot;&gt;Version-stable code&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/e/e1/Age_delay.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; beetle_pars &amp;lt;- c(b=5, ue= 0, ul = 0.001, up = 0.00001, ua = 0.01, ae = 1.3, al = .1, ap = 1.5, cle = .2, cap = .1, cae = 5, V=100)&lt;/p&gt;
&lt;p&gt;Xo[1] = 100&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implementation still needs trouble-shooting, variance dynamics don’t seem to be being computed correctly. &lt;strong&gt;done&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Adult class doesn’t need multiple stages. &lt;strong&gt;done&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Code should allow for a general k classes rather than a fixed 10 classes. &lt;strong&gt;done&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and now we have noise in oscillatory, gamma-waiting model:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/d/d2/Oscillate_noise.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;parameters as before, see &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/0af18d6f4b63ef63ced376f0c73cec16b83c66b5/R/gamma_beetles.R&quot;&gt;version-stable code&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc / Code notes —————–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;R-evolution parallelizes the variance dynamics calculation (perhaps the matrix multiplication step?) and is probably responsible for the openmp parallelization working.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://arxiv.org/abs/1005.2718#&quot; title=&quot;http://arxiv.org/abs/1005.2718#&quot;&gt;article&lt;/a&gt; on cloud computing vs grid. reminds me to include questions on cloud computing in the CSGF survey.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Should also take a closer read of the recent: Kendall BE, Wittmann ME. A stochastic model for annual reproductive success. The American naturalist. 2010;175(4):461-8. Available at: &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20163244&quot; title=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20163244&quot;&gt;http://www.ncbi.nlm.nih.gov/pubmed/20163244&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bug fixed!</title>
   <link href="/2010/05/25/Bug-fixed.html"/>
   <updated>2010-05-25T00:00:00-07:00</updated>
   <id>h/2010/05/25/Bug-fixed</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wasn’t taking the Jacobian of the transition terms. Fixes the unstable behavior and disagreement between simulations and theory.&lt;/li&gt;
&lt;li&gt;Other note: the “hastings.c” model can trivially be obtained from the standard crowley-form metapopulation model by taking b_1 = 0.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For the crowley class of models at least, seems that while the two-step vs one-step involved different dynamics, this difference exists only in transients while equilbrium covariances agree.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/e/e8/Crowley_covariance.png/400px-Crowley_covariance.png&quot; alt=&quot;hastings covarainces, b1 = 0, b2 = .6, d1 = d2 = .1, c1 = c2 =.5, K =1e4&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Corrected figures from Friday:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/2/26/Fixed_2.png/360px-Fixed_2.png&quot; alt=&quot;Fig 1. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig 1. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/63/Fixed_bug.png/360px-Fixed_bug.png&quot; alt=&quot;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### Beetle dynamics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Variances aren’t exactly in agreement, though much closer. Simulations with 30 replicates a piece for speed, will rerun for finer resolution on variances comparisons.&lt;/li&gt;
&lt;li&gt;Wondering what parameter regimes will make most pronounced difference.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/9/98/Beetles.png&quot; alt=&quot;Image:Beetles.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Status on Structured Populations</title>
   <link href="/2010/05/24/Status-on-Structured-Populations.html"/>
   <updated>2010-05-24T00:00:00-07:00</updated>
   <id>h/2010/05/24/Status-on-Structured-Populations</id>
   <content type="html">&lt;h3 id=&quot;model-roundup&quot;&gt;Model roundup&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;strong&gt;metapop&lt;/strong&gt; Two populations with one-step transitions. IBM in C code, R interface to IBM and linear noise approximation.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;crowley&lt;/strong&gt; One-step transitions version of metapop. R interface to IBM and linear noise.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;beetles&lt;/strong&gt; Two-step transitions with exponential waiting times in age classes. R interface completed in ind_based_models.R&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;hastings&lt;/strong&gt; Simple two-step model. no R interfaces yet.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tribolium&lt;/strong&gt; Non-markov aging process. R interface completed in simulate.R. includes likelihood inference as well.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Individual-based models, implemented in C using my gillespie library, interfaced in R in ind_based_models.R. Could probably benefit from C++ class structure, as the codes involve more written repetition than necessary, and renaming similar functions to avoid name conflicts in the object files for the R package. All individual simulations now include parallelization of replicates the C level via the gillespie library, which seems to be working correctly even when called from R.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;R files with model names include individual based simulation and the approximation, plotted in comparison.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Beetles simple noise simulation likewise does not agree with the approximation, still troubleshooting the approximation.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/8/82/Beetles_bugs.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;h2 id=&quot;other-exploration&quot;&gt;Other exploration&lt;/h2&gt;
&lt;p&gt;Revisit Phil Holmes notes on free-response protocol / information theory and Neyman-Pearson theorem.&lt;/p&gt;
&lt;h2 id=&quot;meetings&quot;&gt;Meetings&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Schreiber Lab meeting, discussed articles 4 and 5 below.&lt;/li&gt;
&lt;li&gt;Discussion with Graham, see phylogenetics notebook.&lt;/li&gt;
&lt;li&gt;GTC meeting, more on toolbox, interesting stats discussion afterwards, neg binomial as number of failures before n successes, claim that this almost always outperforms poisson models (in information criteria sense) on ecological datasets – nothing is ever uncorrelated…&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;A couple good articles today, see Mendeley for details.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;p&gt;Goel AK, Vattam SS, Rugaber S, et al. Learning Functional and Causal Abstractions of Classroom Aquaria The SBF Theory of Understanding of Complex Systems ACT : Interactive Construction of SBF Models. In Review. 2010.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Crutchfield JP, Whalen S. Structural Drift : The Population Dynamics of Sequential Learning. In review. 2010:1-14.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Raghib M, Hill Na, Dieckmann U. A multiscale maximum entropy moment closure for locally regulated space-time point process models of population dynamics. Journal of mathematical biology. 2010. Available at: &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20446087&quot; title=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20446087&quot;&gt;http://www.ncbi.nlm.nih.gov/pubmed/20446087&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lindegren M, Möllmann C, Nielsen A, et al. Ecological forecasting under climate change: the case of Baltic cod. Proceedings. Biological sciences / The Royal Society. 2010. Available at: &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20236982&quot; title=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20236982&quot;&gt;http://www.ncbi.nlm.nih.gov/pubmed/20236982&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Berkley Ha, Kendall BE, Mitarai S, Siegel Da. Turbulent dispersal promotes species coexistence. Ecology Letters. 2010;13(3):360-371. Available at: &lt;a href=&quot;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01427.x&quot; title=&quot;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01427.x&quot;&gt;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01427.x&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;misc-code&quot;&gt;Misc Code&lt;/h2&gt;
&lt;p&gt;Apparently R doesn’t have a convenient generalized eigenvalue solver (for case of a matrix on either side). Wrote quick interface to the gsl lapack routines. Github’s gists seem an ideal way to store and share such code snippets, so here it is embedded.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Puzzled over the two-step jump process results</title>
   <link href="/2010/05/21/Puzzled-over-the-two-step-jump-process-results.html"/>
   <updated>2010-05-21T00:00:00-07:00</updated>
   <id>h/2010/05/21/Puzzled-over-the-two-step-jump-process-results</id>
   <content type="html">&lt;p&gt;The variance dynamics are slightly different if the continuous time Markov process allows events to contain two steps (such as a transition of an individual from one age class to another, or one patch to another, etc) as well as one step birth/death) transitions. &lt;em&gt;V&lt;/em&gt;τ&lt;sub&gt;&lt;em&gt;ij&lt;/em&gt;&lt;/sub&gt;(&lt;em&gt;X&lt;/em&gt; / &lt;em&gt;V&lt;/em&gt;) to represent the rate of transitions from state &lt;em&gt;i&lt;/em&gt; to state &lt;em&gt;j&lt;/em&gt;. We change variables for our state space from the discrete count state variable &lt;em&gt;X&lt;/em&gt; by dividing by the system size (volume) V, to obtain the continuous, mean-field approximation of the density &lt;em&gt;p = X/V.&lt;/em&gt; Then:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/math/5/e/b/5eb413fd88e12c41c39cf48c811fc71a.png&quot; alt=&quot;\begin{align} &amp;amp; \frac{d}{dt} E(p) = b(p)-d(p) + \sum_{j \neq i} \tau_{ji}(p) - \tau_{ij}(p) =: f(p)\\ &amp;amp; \frac{d}{dt} M = \textrm{diag}( b(p) + d(p) ) - T + Df(p) M + M Df(p)^T \end{align}&quot; /&gt;&lt;/p&gt;
&lt;p&gt;where &lt;em&gt;T&lt;/em&gt; is a symmetric matrix with off-diagonal elements &lt;em&gt;i,j&lt;/em&gt; τ~&lt;em&gt;i&lt;strong&gt;j&lt;em&gt;~(&lt;/em&gt;p&lt;em&gt;) + τ&lt;/em&gt;j&lt;/strong&gt;i&lt;/em&gt;(&lt;em&gt;p&lt;/em&gt;) and diagonal elements chosen so that rows sum to zero. This approximation is implemented in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot;&gt;noise_approx.R&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;example-crowley-model&quot;&gt;Example: Crowley model&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Carl Boettiger 15:05, 25 May 2010 (EDT)&lt;/strong&gt;: (some corrections to eqns)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(Note this is the original Crowley model where the &lt;em&gt;c&lt;/em&gt; coefficients are equal. In the original model this represented competition for space by overgrowth and hence would more naturally be expressed as a two step process).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/7/c/4/7c49b2c47e74e60537d6345e8b7a9c6a.png&quot; alt=&quot;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y)/K - d_1 x + c x y/K \\ \dot y &amp;amp;= b_2 y (K - x - y)/K - d_1 y - c x y/K \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y)/K - d_1 x + c x y/K \\ \dot y &amp;amp;= b_2 y (K - x - y)/K - d_1 y - c x y/K \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Interpreting the &lt;em&gt;cxy&lt;/em&gt; terms as transitions rather than independent birth and death events results in the same mean-field dynamics but differing fluctuations. For instance, the covariance dynamics are:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/4/c/24c57b2b520fa2223fc7f059ade57d81.png&quot; alt=&quot;\frac{d}{dt} \textrm{Cov}(x,y) = \left(b_1 (1-2x-y)-d_1 +c y + b_2(1-x-2y)-d_2 -c x \right)\textrm{Cov}(x,y) - (b_1 x +c x )\sigma_y^2 -(b_2 y -c y)\sigma_x^2 - cxy&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{d}{dt} \textrm{Cov}(x,y) = \left(b_1 (1-2x-y)-d_1 +c y + b_2(1-x-2y)-d_2 -c x \right)\textrm{Cov}(x,y) - (b_1 x +c x )\sigma_y^2 -(b_2 y -c y)\sigma_x^2 - cxy&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Whereas interpreted as single-step birth and death the &lt;em&gt;cxy&lt;/em&gt; term at the end is absent.&lt;/p&gt;
&lt;p&gt;The variance dynamics are similarly altered.&lt;/p&gt;
&lt;h4 id=&quot;numerical-implementation&quot;&gt;Numerical implementation&lt;/h4&gt;
&lt;p&gt;This individual-based simulation is implemented in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/src/metapop.c&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/src/metapop.c&quot;&gt;metapop.c&lt;/a&gt; and callable from R interface from &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/ind_based_models.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/ind_based_models.R&quot;&gt;ind_based_models.R&lt;/a&gt; as metapop_ibm(). The file &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/metapop.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/metapop.R&quot;&gt;metapop.R&lt;/a&gt; specifies the dynamics of birth, death, transition matrix and the Jacobian so that linear_noise_approx() function from above can be used to calculate the moments. This file also runs the crolwey_ibm model (from crowley.c, interface in the ind_based.models.R) and the linear noise approximation to it from &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/crowley.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/crowley.R&quot;&gt;crowley.R&lt;/a&gt; to compare how the two-step process changes the noise dynamics.&lt;/p&gt;
&lt;p&gt;This comparison can be run simply by loading the package and running metapop_example() function.&lt;/p&gt;
&lt;p&gt;For some reason the individual based-simulation of the two-step process seems to resemble that of the one-step process more, while the two-step linear noise approximation alternately underestimates (Fig 1) or overestimates (Fig 2) the variance. Looking for bugs in the implementation at the moment.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Carl Boettiger 21:43, 26 May 2010 (EDT)&lt;/strong&gt;: Bug found, see corrected graphs on Tuesday’s (5/25) entry.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/8/84/Compare_noise.png/360px-Compare_noise.png&quot; alt=&quot;Fig 1. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 1. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig 1. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = c = .1&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/f/f3/Compare_noise2.png/360px-Compare_noise2.png&quot; alt=&quot;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig. 2. Parameters: b_1 = .2, b_2 = .1, d_1 = d_2 = .1, c = .15&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Beetle dynamics exploration & adjustments</title>
   <link href="/2010/05/20/Beetle-dynamics-exploration-and-adjustments.html"/>
   <updated>2010-05-20T00:00:00-07:00</updated>
   <id>h/2010/05/20/Beetle-dynamics-exploration-and-adjustments</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Adjusted individual based Crowley model to follow same parameterization as the macroscopic model. IBM rules had divided b and c by K in the dynamics while the macroscopic was just using rescaled dynamical rates. Now both use the rescaled rates as parameter values while the equations match.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Variation in the Crowley model agrees between individual-based simulation and the equations.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;code-troubleshooting&quot;&gt;Code troubleshooting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;openmp private declarations perform allocs without frees! parallel code has memory leaks not present in the serial code. Will need to learn&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Noisy Beetles</title>
   <link href="/2010/05/19/Noisy-Beetles.html"/>
   <updated>2010-05-19T00:00:00-07:00</updated>
   <id>h/2010/05/19/Noisy-Beetles</id>
   <content type="html">&lt;h3 id=&quot;goals&quot;&gt;Goals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;individual-based simulation via my gillespie C library with 2-step transitions.
&lt;ul&gt;
&lt;li&gt;Integrate the function definitions from R? Use of R formula language?&lt;/li&gt;
&lt;li&gt;Conversely, have the R code use the C functions?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Handle population-size scaling correctly&lt;/li&gt;
&lt;li&gt;Methods write-up, read/compare to other examples.&lt;/li&gt;
&lt;li&gt;Exploration/demonstration of the significance of two-step process vs two one-step processes. Highlight which examples will show largest differences, and in which terms (means vs variances/covariances, etc).&lt;/li&gt;
&lt;li&gt;Noise response to parameter changes (a la habitat fragmentation, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code Updates&lt;/h2&gt;
&lt;h3 id=&quot;merged-warning-signals-into-structured-populations&quot;&gt;Merged Warning-Signals into Structured populations&lt;/h3&gt;
&lt;p&gt;The future development of the structured populations package will depend directly on the gillespie library source code in warningSignals repository. Though these two projects will have different higher level functions as they will share much of the same base C machinery it made sense at this point to merge the projects. This preserves their &lt;a href=&quot;http://github.com/cboettig/structured-populations/network&quot; title=&quot;http://github.com/cboettig/structured-populations/network&quot;&gt;independent histories&lt;/a&gt; while avoiding the duplication of code. Will have to figure out whether or not to close down/remove the warning signals github and local repositories all together to avoid confusion (would break links to remove the github version).&lt;/p&gt;
&lt;p&gt;Fortunately, this merger is remarkably easy on using git:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;git fetch ../regime_shifts master:regime_shifts   # imports the entire regime shifts project history as a branch, names it regime_shifts
git merge regime_shifts # Merges that branch onto the current (master) branch&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;structural-modifications&quot;&gt;Structural modifications&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;gillespie command must now be passed functional handles to the the reset function (needed to reset loop in ensemble ) and the fixed_interval_tasks function. This makes the dependencies more explicit and also allows clean handling of having different models with different versions of these functions in the same library. R package cannot compile with the redundant namespace otherwise.&lt;/li&gt;
&lt;li&gt;Still need to figure out what to do about main() function to allow modular, independent compiles and still allow R package compile…&lt;/li&gt;
&lt;li&gt;UPDATE: the R package now compiles and loads. makefile is depricated currently and all main functions replaced inside a single main fn call. General updates across code (including NAMESPACE).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Other Code Changes and notes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implemented R interface for crowley individual-based model and simplified beetle individual-based model with exponential waiting times between stages (with two step process though, corresponding to the lin noise approx in this system).&lt;/li&gt;
&lt;li&gt;Recall the extern “C” command when using C++ code to avoid the name mangling trouble.&lt;/li&gt;
&lt;li&gt;seems openmp compiling from within R is working, at least turns both processors on full, will need more exploration. Will also have to consider storing the full ensemble of runs in C vs calculating moments on the fly (and avoiding packet collisions in parallel).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;p&gt;Set up Google Reader last night for ToCs via rss rather than my former system of eToCs. Convient tag/like/share options, nice to separate from the email process.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Came across the &lt;a href=&quot;http://hdl.handle.net/10.1093/bioinformatics/btq110&quot; title=&quot;doi:10.1093/bioinformatics/btq110&quot;&gt;DensiTree&lt;/a&gt; paper in bioinformatics to visualize posterior tree densities that had been demonstrated in beta @ Phylogenetics workshop.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rather well done if classical treatment of SIS birth death model &lt;a href=&quot;http://hdl.handle.net/10.1007/s00285-010-0336-x&quot; title=&quot;doi:10.1007/s00285-010-0336-x&quot;&gt;in JMB&lt;/a&gt; with diffusion approximation, OU approximation and extinction times. Seems clearly explained a makes a nice reference.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Interesting &lt;a href=&quot;http://www.youtube.com/watch?v=u6XAPnuFjJc&amp;amp;feature=player_embedded&quot; title=&quot;http://www.youtube.com/watch?v=u6XAPnuFjJc&amp;amp;feature=player_embedded&quot;&gt;talk&lt;/a&gt; and presentation style, take this approach to the classroom? Motivating students? (Talk adapted from &lt;a href=&quot;http://www.youtube.com/watch?v=_mG-hhWL_ug&amp;amp;feature=channel&quot; title=&quot;http://www.youtube.com/watch?v=_mG-hhWL_ug&amp;amp;feature=channel&quot;&gt;Dan Pink&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Another &lt;a href=&quot;http://www.youtube.com/watch?v=iLstkIZ5t8g&amp;amp;feature=related&quot; title=&quot;http://www.youtube.com/watch?v=iLstkIZ5t8g&amp;amp;feature=related&quot;&gt;Richard Florida&lt;/a&gt; talk.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Noisy beetles</title>
   <link href="/2010/05/18/Noisy-beetles.html"/>
   <updated>2010-05-18T00:00:00-07:00</updated>
   <id>h/2010/05/18/Noisy-beetles</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/30/Beetles_noise.png/400px-Beetles_noise.png&quot; alt=&quot;Fig 1: Noise in lavae dominate&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 1: Noise in lavae dominate&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig 1:&lt;/strong&gt; Noise in lavae dominate&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/3f/Beetles_noise2.png/180px-Beetles_noise2.png&quot; alt=&quot;Fig: 2 lower mortality, higher noise&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig: 2 lower mortality, higher noise&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Fig: 2&lt;/strong&gt; lower mortality, higher noise&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Success! My first full implementation of the four stage (EPLA) beetle model, so far without any adaptation, and the noise of the larval class dominates (Fig 1). Without the time delays the stationary dynamics are stable nodes, at least in this part of parameter space, with a large adult class clamping tightly down on the other classes. Despite adults being the most numerous, the larval class is the most variable, just as observed.&lt;/li&gt;
&lt;li&gt;Standard parameter set, figure produced by &lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/0b6ce3ea1210284b71f3ab270b1ad6532ee0f31b/R/beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/0b6ce3ea1210284b71f3ab270b1ad6532ee0f31b/R/beetles.R&quot;&gt;this version&lt;/a&gt; of the beetles.R code.&lt;/li&gt;
&lt;li&gt;The level of noise depends closely on mortality estimate for this larva class. For instance, cutting the mortality rate of larva from 0.001 to 0.0001 results in much larger noise, Fig 2.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Modifications to implementation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Updated code to accurately take account of the two-step process. (Will add notes on the mathematics later, meanwhile is implemented in the &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/22c42eb726ddc6216932906953eea18dc165185f/R/noise_approx.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/22c42eb726ddc6216932906953eea18dc165185f/R/noise_approx.R&quot;&gt;noise_approx.R&lt;/a&gt; (version stable link) code.&lt;/li&gt;
&lt;li&gt;User now specifies the birth and death rates separately, rather than the first and second jump moments (b and f). User also specifies the two-step jumps and (as before) the Jacobian of b(x)-d(x).&lt;/li&gt;
&lt;li&gt;Added cannibalism of adults on pupae, who previously had no mortality terms. Without this their noise level will rise indefinitely.&lt;/li&gt;
&lt;li&gt;Separated the code for the linear noise approximation from the code for the &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/crowley.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/crowley.R&quot;&gt;crowley&lt;/a&gt; and &lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/0b6ce3ea1210284b71f3ab270b1ad6532ee0f31b/R/beetles.R&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/0b6ce3ea1210284b71f3ab270b1ad6532ee0f31b/R/beetles.R&quot;&gt;beetles&lt;/a&gt; models.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;git-log&quot;&gt;Git log&lt;/h3&gt;
&lt;p&gt;commit 0b6ce3ea1210284b71f3ab270b1ad6532ee0f31b Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Tue May 18 23:54:45 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   added adult cannibalism on pupa&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 22c42eb726ddc6216932906953eea18dc165185f Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Tue May 18 15:59:51 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   getting second-order transitions implmented&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 2cb4215b1028619e96ec809875c693fb84fdc185 Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Tue May 18 15:22:24 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   replaced f and g with birth and death&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit c9bc00fbf7dcd3eabd1935d1df96adb7dd54480d Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Tue May 18 14:13:25 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   seperated examples from noise approx code&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; Misc / Reading ————–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nsf.gov/news/news_summ.jsp?cntn_id=116928&quot; title=&quot;http://www.nsf.gov/news/news_summ.jsp?cntn_id=116928&quot;&gt;NSF&lt;/a&gt; to require data management in all proposals:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;“Researchers from numerous disciplines need to work together to attack complex problems; openly sharing data will pave the way for researchers to communicate and collaborate more effectively.”&lt;/p&gt;
&lt;p&gt;“This is the first step in what will be a more comprehensive approach to data policy,” added Cora Marrett, NSF acting deputy director. “It will address the need for data from publicly-funded research to be made public.”&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Annual Progress Report</title>
   <link href="/2010/05/17/Annual-Progress-Report.html"/>
   <updated>2010-05-17T00:00:00-07:00</updated>
   <id>h/2010/05/17/Annual-Progress-Report</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;p&gt;Tomorrow will be meeting with my dissertation committee: Alan Hastings, Peter Wainwright, and Brian Moore. This provides a good opportunity to summarize the status of my current projects and my principle accomplishments for the year. Will try a tex’d document as I’ve done in previous years but here’s for some preliminary brainstorming.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Summary: In the past year, I’ve published one paper, given 4 talks (CPB, NIMBioS, Berkeley, IIASA), read 144+ articles and wrote 9000+ lines of code. I spent last summer at IIASA, passed my qualifying exam in January, and attended the Bodega Phylogenetics workshop in March. I’m working primarily on four projects. If my thesis had a unifying title, it would be something like: &lt;strong&gt;&lt;em&gt;Inference in a noisy world&lt;/em&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;evolution&quot;&gt;Evolution&lt;/h3&gt;
&lt;h4 id=&quot;adaptive-dynamics&quot;&gt;Adaptive Dynamics&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Publication: &lt;a href=&quot;http://hdl.handle.net/10.1016/j.tpb.2009.10.003&quot; title=&quot;doi:10.1016/j.tpb.2009.10.003&quot;&gt;&lt;em&gt;Fluctuation Domains in Adaptive Evolution&lt;/em&gt;&lt;/a&gt; appeared in TPB Feburary.&lt;/li&gt;
&lt;li&gt;Finishing research from last summer at IIASA on predicting &lt;em&gt;The Waiting Time Until Evolution Branching&lt;/em&gt; occurs. Manuscript by end of summer?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics&quot;&gt;Adaptive Dynamics code&lt;/a&gt; project.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;comparative-phylogenetics&quot;&gt;Comparative Phylogenetics&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Labrid fin morphology paper&lt;/li&gt;
&lt;li&gt;Quantifying the information in phylogenetic trees: robust model choice in comparative phylogenetics&lt;/li&gt;
&lt;li&gt;logarithms and Brownian motion&lt;/li&gt;
&lt;li&gt;Joint-probability solution?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://phylogenetics.uservoice.com/forums/43843-general?lang=en&amp;amp;utm_campaign=Widgets&amp;amp;utm_content=tab-widget&amp;amp;utm_medium=widget&amp;amp;utm_source=phylogenetics.uservoice.com&quot; title=&quot;http://phylogenetics.uservoice.com/forums/43843-general?lang=en&amp;amp;utm_campaign=Widgets&amp;amp;utm_content=tab-widget&amp;amp;utm_medium=widget&amp;amp;utm_source=phylogenetics.uservoice.com&quot;&gt;Collection&lt;/a&gt; of smaller extensions to phylogenetic methods&lt;/li&gt;
&lt;li&gt;Apply comparative methods in Primate brain morphology (with Daniel Mietchen)&lt;/li&gt;
&lt;li&gt;Density dependence/equilibrium models in speciation rates. Model uncertainty in rates.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;ecology&quot;&gt;Ecology&lt;/h3&gt;
&lt;h4 id=&quot;early-warning-signals&quot;&gt;Early Warning Signals&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Misleading signals and more robust approaches.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;structured-population-dynamics-aka-beetles&quot;&gt;Structured Population Dynamics (aka beetles)&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Large effects of demographic noise through nonlinear dynamics in structured populations&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Talks &amp;amp; Conferences&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Talks to: CPB (Davis), NIMBioS (Tennessee), Comp Bio students (Berkeley)&lt;/li&gt;
&lt;li&gt;in-house talks to EDG (Fall &amp;amp; Spring), Hastings lab,&lt;/li&gt;
&lt;li&gt;Courses: Anoles. Begun Monte Carlo. Phylogenetics Discussion Group (winter/spring).&lt;/li&gt;
&lt;li&gt;Bodega Phylogenetics Workshop.&lt;/li&gt;
&lt;li&gt;Lab group meetings: Hastings, Schreiber. occasionally Wainwright, Crutchfield,&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;upcoming&quot;&gt;Upcoming&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Conferences this summer: Evolution &amp;amp; iEvoBio. CSGF. Open Science.&lt;/li&gt;
&lt;li&gt;Arkin group at LBL&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;methods-and-misc&quot;&gt;Methods and Misc&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Technology/Science2.0 : Learned git for version management, github project hosting. Mendeley database for papers. OpenWetWare for lab notebooks. Forums.&lt;/li&gt;
&lt;li&gt;Interviewed in &lt;a href=&quot;http://sciencecareers.sciencemag.org/career_magazine/previous_issues/articles/2010_04_09/caredit.a1000036&quot; title=&quot;http://sciencecareers.sciencemag.org/career_magazine/previous_issues/articles/2010_04_09/caredit.a1000036&quot;&gt;Science Careers&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Help start UC_Davis_Open_Science group.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gtc-blog.blogspot.com/&quot; title=&quot;http://gtc-blog.blogspot.com/&quot;&gt;Grad Teaching Community&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; #### Footnote on some stats&lt;/p&gt;
&lt;p&gt;Thanks to the various Science 2.0 spirit technology I’ve employed in my research, it’s remarkably easy to get statistics on what I’ve done over the year. For instance, as I read articles I add them to my Mendeley database, making it easy to recover my article statistics, and also plot these trends over time. Similarly, version management software such as git makes it easy to track the progress of my codes. Will be interesting to revisit these stats next year. Meanwhile:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Articles&lt;/strong&gt;: I’ve read 144 articles since November (when I started using Mendeley). Most read journal has been Evolution (25 articles), most read authors are Peter Wainwright and Johnathan Losos. 81 articles were in comparative methods. 6 have been reviews I’ve done for different journal submissions.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Code:&lt;/strong&gt; I’ve written over 9000 lines of code in five projects: regime_shifts (1417), structured_pops (684), Comparative-Phylogenetics (2265), Adaptive-Dynamics (1326), wrightscape (3380).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; Code Tricks ———–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Was curious how to quickly find the number of lines of code in my projects. While Github has several useful graphs, they &lt;a href=&quot;http://support.github.com/discussions/feature-requests/186-lines-of-code-graph&quot; title=&quot;http://support.github.com/discussions/feature-requests/186-lines-of-code-graph&quot;&gt;haven’t yet&lt;/a&gt; added this feature. Fortunately this question was already &lt;a href=&quot;http://stackoverflow.com/questions/23907/how-can-i-graph-the-lines-of-code-history-for-git-repo/2854506#2854506&quot; title=&quot;http://stackoverflow.com/questions/23907/how-can-i-graph-the-lines-of-code-history-for-git-repo/2854506#2854506&quot;&gt;answered on stackoverflow&lt;/a&gt; with a very nice little python script, which I’ve named gitlines and have added to my path. Running gitlines from anywhere in the project directories gives a list of total lines in each commit for the project.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Monday ——&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;10a - 11:30a Steering committee meeting&lt;/li&gt;
&lt;li&gt;Chat Sebastian re: linear noise approximation in patch dynamics, see earlier manuscript&lt;/li&gt;
&lt;li&gt;1p Sebastian lab meeting/pizza social, Discussed F1000, Kyle mentioned niche modeling &lt;a href=&quot;http://hdl.handle.net/10.1126/science.1187468&quot; title=&quot;doi:10.1126/science.1187468&quot;&gt;paper&lt;/a&gt; in Science. Discussed which ToC’s people read, also compare to which they use or cite.&lt;/li&gt;
&lt;li&gt;5p Richard McElreath speaking to GTC on teaching mathematical modeling to biologists&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;p&gt;From discussion with Sebastian: Structured population dynamics need to consider stage transitions as simultaneous two-step events rather than two one-step events. results in slightly different form for evolution of the covariance matrix. Excepting this yesterday’s form is accurate.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>General matrix form and correcting equations</title>
   <link href="/2010/05/16/General-matrix-form-and-correcting-equations.html"/>
   <updated>2010-05-16T00:00:00-07:00</updated>
   <id>h/2010/05/16/General-matrix-form-and-correcting-equations</id>
   <content type="html">&lt;p&gt;Pursuing a matrix form, seems I had missed some terms in the covariance equations Friday, which are suggested by the nice symmetry of this representation: &lt;img src=&quot;http://openwetware.org/images/thumb/5/55/Eqns.jpg/800px-Eqns.jpg&quot; alt=&quot;image&quot; /&gt; (sometimes chalk and a camera are faster than tex).&lt;/p&gt;
&lt;p&gt;This suggests the general form looks like&lt;/p&gt;
&lt;p&gt;&lt;em&gt;dM&lt;/em&gt; = &lt;em&gt;JM&lt;/em&gt; + (&lt;em&gt;JM&lt;/em&gt;)&lt;sup&gt;&lt;em&gt;T&lt;/em&gt;&lt;/sup&gt; + &lt;em&gt;g&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;em&gt;M&lt;/em&gt; is the covariance matrix and &lt;em&gt;J&lt;/em&gt; the Jacobian of &lt;em&gt;f&lt;/em&gt; as before. &lt;em&gt;dM&lt;/em&gt; is the matrix of derivative terms, though clearly not a rigorous notation.&lt;/p&gt;
&lt;h2 id=&quot;fixing-crowley-results&quot;&gt;Fixing Crowley results&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;A couple numerical errors in the implementation of the Crowley model yesterday led to the divergence. The updated numerical results can produce large but stable noise. Also applies system size scaling to match the individual-based simulation.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/d/d5/Crowley_noise.png&quot; alt=&quot;Image:Crowley_noise.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Crowley_noise.png&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Working on graphing the direct comparison between the approximation and the individual simulation next.&lt;/li&gt;
&lt;li&gt;Also working on updating gillespie simulation in &lt;a href=&quot;http://github.com/cboettig/warningSignals&quot; title=&quot;http://github.com/cboettig/warningSignals&quot;&gt;warningSignals&lt;/a&gt; in order to remerge the crowley branch with the master branch.&lt;/li&gt;
&lt;li&gt;warningSignals crowley branch successfully merged back onto master.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Next steps&lt;/em&gt;:
&lt;ul&gt;
&lt;li&gt;Add individual simulations to R interface for warningSignals (currently C code just computes window-averaging and ensemble on the fly instead of saving the full sample history).&lt;/li&gt;
&lt;li&gt;add R function interface to Crowley model&lt;/li&gt;
&lt;li&gt;Compare Crowley simulation to analytics.&lt;/li&gt;
&lt;li&gt;Increase density-dependence and decrease size of key class in Crowley for larger noise effects.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Large Intrinsic Noise</title>
   <link href="/2010/05/15/Large-Intrinsic-Noise.html"/>
   <updated>2010-05-15T00:00:00-07:00</updated>
   <id>h/2010/05/15/Large-Intrinsic-Noise</id>
   <content type="html">&lt;h3 id=&quot;modified-crowley-model&quot;&gt;Modified Crowley model&lt;/h3&gt;
&lt;p&gt;Realizing &lt;em&gt;Arbitrarily large demographic noise&lt;/em&gt; systems??&lt;/p&gt;
&lt;p&gt;Consider the Crowley model from last week which I’d implemented as an individual birth-death model: (&lt;em&gt;x&lt;/em&gt; is the better competitor, &lt;em&gt;y&lt;/em&gt; the better colonist)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/7/5/b/75bbcc817dc349b3e49eee488c36554e.png&quot; alt=&quot;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y) - d_1 x + c_1 x y = \alpha_1(x,y) \\ \dot y &amp;amp;= b_2 y (K - x - y) - d_1 y - c_2 x y = \beta_1(x,y) \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y) - d_1 x + c_1 x y = \alpha_1(x,y) \\ \dot y &amp;amp;= b_2 y (K - x - y) - d_1 y - c_2 x y = \beta_1(x,y) \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I’ve implemented the linear noise approximation for this model as a system of coupled ODEs:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/b/a/1/ba156d602601209f3d2db74507362626.png&quot; alt=&quot;\begin{align} \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \alpha_{1,0}}{\partial \phi} \langle \xi^2 \rangle + 2 \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \xi \eta \rangle + \alpha_{2,0} \\ \frac{d \langle \xi \eta \rangle}{d t} &amp;amp;= \left( \frac{\partial \alpha_{1,0}}{\partial \phi} + \frac{\partial \beta_{1,0} }{\partial \psi} \right)\langle \xi \eta \rangle+ \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \eta^2 \rangle \\ \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \beta_{1,0}}{\partial \psi} \langle \eta^2 \rangle + \beta_{2,0} \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \alpha_{1,0}}{\partial \phi} \langle \xi^2 \rangle + 2 \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \xi \eta \rangle + \alpha_{2,0} \\ \frac{d \langle \xi \eta \rangle}{d t} &amp;amp;= \left( \frac{\partial \alpha_{1,0}}{\partial \phi} + \frac{\partial \beta_{1,0} }{\partial \psi} \right)\langle \xi \eta \rangle+ \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \eta^2 \rangle \\ \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \beta_{1,0}}{\partial \psi} \langle \eta^2 \rangle + \beta_{2,0} \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;And solved numerically (&lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/bd1769fef7af9eecf32a5ec40f886bc2b74dd1b9/R/noise_approx.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/bd1769fef7af9eecf32a5ec40f886bc2b74dd1b9/R/noise_approx.R&quot;&gt;R code&lt;/a&gt;, links directly to this version and can run stand-alone from the package) using parameter values matching the individual based simulation (&lt;a href=&quot;http://github.com/cboettig/warningSignals/commit/ddb5d73d011a2eaa7b894e925ffddec74250e043&quot; title=&quot;http://github.com/cboettig/warningSignals/commit/ddb5d73d011a2eaa7b894e925ffddec74250e043&quot;&gt;C code&lt;/a&gt; from warning_signals package).&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/7b/Diverge.png&quot; alt=&quot;Image:Diverge.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Diverge.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As this simulation clearly shows, even though I’ve started the population at the expected abundances and the average dynamics are stable, the variance term for the colonist diverges. With weaker c_2 it is easy to have equilibrium variances and have the expected variance of the competitor be larger than that of the colonist (despite smaller abundance).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Structured Population Dynamics</title>
   <link href="/2010/05/14/Structured-Population-Dynamics.html"/>
   <updated>2010-05-14T00:00:00-07:00</updated>
   <id>h/2010/05/14/Structured-Population-Dynamics</id>
   <content type="html">&lt;h3 id=&quot;beetle-model&quot;&gt;Beetle Model&lt;/h3&gt;
&lt;p&gt;Macroscopic equations:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/c/2/1c26a2c6740e377965fa6e85d41e3f33.png&quot; alt=&quot;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot E &amp;amp;= f_E(E,L,A) = -\mu_e E - c_{le} E L - c_{ae} E A - a_e E + b A \\ \dot L &amp;amp;= f_L(E, L) = -\mu_L L + a_e E - a_L L \\ \dot P &amp;amp;= f_P(L,P) = -\mu_P P - a_p P + a_L L\\ \dot A &amp;amp;= f_A(P,A) = -\mu_A A + a_p P \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Has the corresponding variance-covariance dynamics&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/2/4/1249afdfb5963c156af5b5709ac8a669.png&quot; alt=&quot;\begin{align} &amp;amp;\frac{d}{dt} \sigma_E^2 = 2\partial_E f_E \sigma_E^2 + g_E + 2\textrm{Cov}(E,L) \partial_L f_E + 2\textrm{Cov}(E,A) \partial_A f_E \\ &amp;amp;\frac{d}{dt} \sigma_L^2 = 2\partial_L f_L \sigma_L^2 + g_L + 2\textrm{Cov}(E,L) \partial_E f_L \\ &amp;amp;\frac{d}{dt} \sigma_P^2 = 2\partial_P f_P \sigma_P^2 + g_P + 2\textrm{Cov}(L,P) \partial_L f_P \\ &amp;amp;\frac{d}{dt} \sigma_A^2 = 2\partial_A f_A \sigma_A^2 + g_A + 2\textrm{Cov}(P,A) \partial_P f_A \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(E,L) = \left( \partial_E f_E + \partial_L f_L \right) \textrm{Cov}(E,L) + \partial_L f_E \sigma_L^2 + \partial_E f_L \sigma_E^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(E,A) = \left( \partial_E f_E + \partial_A f_A \right) \textrm{Cov}(E,A) + \partial_A f_E \sigma_A^2 + \partial_E f_A \sigma_E^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(L,P) = \left( \partial_P f_P + \partial_L f_L \right) \textrm{Cov}(L,P) + \partial_L f_P \sigma_L^2 + \partial_P f_L \sigma_P^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(A,P) = \left( \partial_P f_P + \partial_A f_A \right) \textrm{Cov}(A,P) + \partial_A f_P \sigma_A^2 + \partial_P f_A \sigma_P^2 \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} &amp;amp;\frac{d}{dt} \sigma_E^2 = 2\partial_E f_E \sigma_E^2 + g_E + 2\textrm{Cov}(E,L) \partial_L f_E + 2\textrm{Cov}(E,A) \partial_A f_E \\ &amp;amp;\frac{d}{dt} \sigma_L^2 = 2\partial_L f_L \sigma_L^2 + g_L + 2\textrm{Cov}(E,L) \partial_E f_L \\ &amp;amp;\frac{d}{dt} \sigma_P^2 = 2\partial_P f_P \sigma_P^2 + g_P + 2\textrm{Cov}(L,P) \partial_L f_P \\ &amp;amp;\frac{d}{dt} \sigma_A^2 = 2\partial_A f_A \sigma_A^2 + g_A + 2\textrm{Cov}(P,A) \partial_P f_A \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(E,L) = \left( \partial_E f_E + \partial_L f_L \right) \textrm{Cov}(E,L) + \partial_L f_E \sigma_L^2 + \partial_E f_L \sigma_E^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(E,A) = \left( \partial_E f_E + \partial_A f_A \right) \textrm{Cov}(E,A) + \partial_A f_E \sigma_A^2 + \partial_E f_A \sigma_E^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(L,P) = \left( \partial_P f_P + \partial_L f_L \right) \textrm{Cov}(L,P) + \partial_L f_P \sigma_L^2 + \partial_P f_L \sigma_P^2 \\ &amp;amp;\frac{d}{dt} \textrm{Cov}(A,P) = \left( \partial_P f_P + \partial_A f_A \right) \textrm{Cov}(A,P) + \partial_A f_P \sigma_A^2 + \partial_P f_A \sigma_P^2 \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Where &lt;em&gt;g_i&lt;/em&gt; is the second jump moment, which is a function of the state (&lt;em&gt;E&lt;/em&gt;, &lt;em&gt;L&lt;/em&gt;, &lt;em&gt;P&lt;/em&gt;, &lt;em&gt;A&lt;/em&gt;) just as &lt;em&gt;f_i&lt;/em&gt; is. (In this case it will correspond to the sum of all birth and death terms).&lt;/p&gt;
&lt;h3 id=&quot;general-form-algorithm&quot;&gt;General Form &amp;amp; Algorithm&lt;/h3&gt;
&lt;p&gt;Consider the dynamics are given by&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/0/1/5/0155c412fb0a830912daef0b2e65b0dd.png&quot; alt=&quot;\dot X_i = f_i(\vec X)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\dot X_i = f_i(\vec X)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;and define variance-covariance matrix &lt;em&gt;M&lt;/em&gt; and the Jacobian matrix of &lt;em&gt;f&lt;/em&gt; as &lt;em&gt;J&lt;/em&gt;. Then the dynamics of the diagonal elements (variance terms) are written as&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/a/0/9/a0963cc09f8b045656952fc47a21587f.png&quot; alt=&quot;\dot \sigma_i^2 = 2 g_i + 2\sum_k J_{ik} M_{ik} \partial_k f_i&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\dot \sigma_i^2 = 2 g_i + 2\sum_k J_{ik} M_{ik} \partial_k f_i&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;While the dynamics of the off-diagonal elements (covariance terms) are given by&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/b/b/d/bbd80770f9365cec3c61b2ce68e34a0a.png&quot; alt=&quot;\frac{d}{dt} \textrm{Cov(i,j)} = \dot M_{ij} = \partial_i f_i M_{ji} + \partial_j f_j M_{ij} + \partial_i f_j M_{ii} + \partial_j f_i M_{jj}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{d}{dt} \textrm{Cov(i,j)} = \dot M_{ij} = \partial_i f_i M_{ji} + \partial_j f_j M_{ij} + \partial_i f_j M_{ii} + \partial_j f_i M_{jj}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Track current implementation of the algorithm &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/noise_approx.R&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Beetles workshop Day 2</title>
   <link href="/2010/05/13/Beetles-workshop-Day-2.html"/>
   <updated>2010-05-13T00:00:00-07:00</updated>
   <id>h/2010/05/13/Beetles-workshop-Day-2</id>
   <content type="html">&lt;h3 id=&quot;goals&quot;&gt;Goals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;van Kampen expansion of LPA model, maximize noise in L while keeping A robust?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/b/a/1/ba156d602601209f3d2db74507362626.png&quot; alt=&quot;\begin{align} \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \alpha_{1,0}}{\partial \phi} \langle \xi^2 \rangle + 2 \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \xi \eta \rangle + \alpha_{2,0} \\ \frac{d \langle \xi \eta \rangle}{d t} &amp;amp;= \left( \frac{\partial \alpha_{1,0}}{\partial \phi} + \frac{\partial \beta_{1,0} }{\partial \psi} \right)\langle \xi \eta \rangle+ \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \eta^2 \rangle \\ \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \beta_{1,0}}{\partial \psi} \langle \eta^2 \rangle + \beta_{2,0} \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \alpha_{1,0}}{\partial \phi} \langle \xi^2 \rangle + 2 \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \xi \eta \rangle + \alpha_{2,0} \\ \frac{d \langle \xi \eta \rangle}{d t} &amp;amp;= \left( \frac{\partial \alpha_{1,0}}{\partial \phi} + \frac{\partial \beta_{1,0} }{\partial \psi} \right)\langle \xi \eta \rangle+ \frac{\partial \alpha_{1,0} }{\partial \psi} \langle \eta^2 \rangle \\ \frac{d \langle \xi^2 \rangle}{d t} &amp;amp;= 2 \frac{\partial \beta_{1,0}}{\partial \psi} \langle \eta^2 \rangle + \beta_{2,0} \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Indiv. heterogeneity issue: dividing larval class into a smaller, highly-cannibal and remainder of more weakly cannibalistic.&lt;/li&gt;
&lt;li&gt;Pulse dynamics – interspike interval, magnitude?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;potential-data&quot;&gt;Potential Data&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;1995 Dennis et al. – 5 replicate populations (2-cycle dataset), 5 age-cycles.&lt;/li&gt;
&lt;li&gt;eight-year chaotic time series&lt;/li&gt;
&lt;li&gt;Strawbridge daily samples (single replicate), occasional disease in lines though.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;literature&quot;&gt;Literature&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1080/10236190802282669&quot; title=&quot;doi:10.1080/10236190802282669&quot;&gt;Caswell 2009&lt;/a&gt; Sensitivity of density dependent dynamics&lt;/li&gt;
&lt;li&gt;Kendall (yet unpublished)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1086/528965&quot; title=&quot;doi:10.1086/528965&quot;&gt;Vindenes 2008&lt;/a&gt; Individual heterogeneity &amp;amp; demographic stochasticity.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1086/285863&quot; title=&quot;doi:10.1086/285863&quot;&gt;Ludwig 1996&lt;/a&gt; Failure of diffusion approximation in small populations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Analytic description of large demographic noise systems&lt;/li&gt;
&lt;li&gt;Comparisons to beetle datasets&lt;/li&gt;
&lt;li&gt;Paper Outline. Skype meeting May 28th.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/05/13/Adaptive-Dynamics.html"/>
   <updated>2010-05-13T00:00:00-07:00</updated>
   <id>h/2010/05/13/Adaptive-Dynamics</id>
   <content type="html">&lt;h3 id=&quot;public-code-hosting&quot;&gt;Public code hosting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Project code now &lt;a href=&quot;http://github.com/cboettig/AdaptiveDynamics&quot; title=&quot;http://github.com/cboettig/AdaptiveDynamics&quot;&gt;available through Github&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Advantages to public hosting:&lt;/strong&gt; Replication of adaptive dynamics simulations can be difficult, particularly in matching various nuisance parameters. While there is certainly much pedagogical value in individual researchers implementing their own simulations, verification and reproducibility of scientific results would be greatly facilitated by adapting an accepted open source code base and adding branches, etc. Researchers could much more immediately benefit from the work of their colleagues and spend more time implementing novel research and less reproducing it. Many eyes would ensure more robust, efficient and bug-free code.&lt;/li&gt;
&lt;li&gt;Current code has a long way to come, particularly in terms of documentation.&lt;/li&gt;
&lt;li&gt;The C-Matrix approach lacks the desired level of generality, though it does accelerate the calculations significantly compared to the straight forward implementation that would recalculate competition coefficients after each birth or death event instead of only after each mutation.&lt;/li&gt;
&lt;li&gt;Motivation for public hosting partly comes partly from email request for the code from my fluctuation domains paper, in which a researcher pointed out the difficulty in replicating certain branching results.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc —-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Most work today in Stochastic Population Dynamics (second day of beetle workshop).&lt;/li&gt;
&lt;li&gt;Migrated Firefox bookmarks to &lt;a href=&quot;http://delicious.com/cboettig&quot; title=&quot;http://delicious.com/cboettig&quot;&gt;delicious&lt;/a&gt;. Should encourage me to bookmark more frequently, slowly entering the modern world here.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://launchpad.e2conf.com/vote-now/&quot; title=&quot;http://launchpad.e2conf.com/vote-now/&quot;&gt;Enterprise 2.0&lt;/a&gt; competition for enterprise solutions, have much in common with challenges in science. Wonder what we’re already doing well vs what could be transfered from here.&lt;/li&gt;
&lt;li&gt;Search history is an interesting source of statistics – apparently I view 100-300 pages a day? Many are gmail/wiki/notebook pages, still.&lt;/li&gt;
&lt;li&gt;Looked into website polling / voting schemes that can be added to websites, i.e. Facebook’s &lt;a href=&quot;http://developers.facebook.com/docs/reference/plugins/like&quot; title=&quot;http://developers.facebook.com/docs/reference/plugins/like&quot;&gt;like&lt;/a&gt; button and the &lt;a href=&quot;http://about.digg.com/button&quot; title=&quot;http://about.digg.com/button&quot;&gt;digg button&lt;/a&gt;. A colleague was looking into ways to get students to rank the usefulness of various course content. Probably many other, possibly better solutions but an intriguing idea.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Roi and Sam Comparative Phylogenetics R Workshop</title>
   <link href="/2010/05/12/Roi-and-Sam-Comparative-Phylogenetics-R-Workshop.html"/>
   <updated>2010-05-12T00:00:00-07:00</updated>
   <id>h/2010/05/12/Roi-and-Sam-Comparative-Phylogenetics-R-Workshop</id>
   <content type="html">&lt;h4 id=&quot;day-2-4p---630p&quot;&gt;Day 2: 4p - 6:30p&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Attending the R workshop by Roi Holzmann and Sam Price from the Wainwright lab. Missed the introductory session on Monday.&lt;/li&gt;
&lt;li&gt;Course data currently &lt;a href=&quot;http://www.eve.ucdavis.edu/~wainwrightlab/links.html&quot; title=&quot;http://www.eve.ucdavis.edu/~wainwrightlab/links.html&quot;&gt;available here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Resources:&lt;/strong&gt; &lt;a href=&quot;http://www.springerlink.com/content/t83625/?p=4c6cda22762140f6a15f6cac9fbfe592&amp;amp;pi=0&quot; title=&quot;http://www.springerlink.com/content/t83625/?p=4c6cda22762140f6a15f6cac9fbfe592&amp;amp;pi=0&quot;&gt;Springer R books&lt;/a&gt; pdfs available through UC Davis.&lt;/li&gt;
&lt;li&gt;In particular: &lt;a href=&quot;http://www.springerlink.com/content/x20480/?p=82707f7c898f49c6a0fdf4f42a2fb48e&amp;amp;pi=1&quot; title=&quot;http://www.springerlink.com/content/x20480/?p=82707f7c898f49c6a0fdf4f42a2fb48e&amp;amp;pi=1&quot;&gt;R book w/ ape&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;speciation-diversification&quot;&gt;Speciation &amp;amp; Diversification&lt;/h3&gt;
&lt;p&gt;3rd session (4:10 - 5:10 pm): Packages: Laser, Geiger, Ape, apTreeshape &amp;amp; Diversitree&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lineage through time plots ape and laser:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; ltt.plot() or plotLtt()&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Simulating trees (Yule and Birth/Death)&lt;/li&gt;
&lt;li&gt;Tree statistics (gamma statistic – Pybus &amp;amp; Harvey etc.)&lt;/li&gt;
&lt;li&gt;Laser&lt;/li&gt;
&lt;li&gt;MEDUSA – shifts in diversification rates (in Gieger)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Discrete data&lt;/p&gt;
&lt;p&gt;4th session (5:30 - 6:30 pm): Packages: Ape &amp;amp; Geiger&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ancestral state reconstruction&lt;/li&gt;
&lt;li&gt;Fitting models of evolution (fitDiscrete in Geiger)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Hastings Beetle Workshop</title>
   <link href="/2010/05/12/Hastings-Beetle-Workshop.html"/>
   <updated>2010-05-12T00:00:00-07:00</updated>
   <id>h/2010/05/12/Hastings-Beetle-Workshop</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://bill.srnr.arizona.edu/Bob_Costantino/cos1.html&quot; title=&quot;http://bill.srnr.arizona.edu/Bob_Costantino/cos1.html&quot;&gt;Bob Costantino&lt;/a&gt; and &lt;a href=&quot;http://www.colorado.edu/eeb/facultysites/melbourne/&quot; title=&quot;http://www.colorado.edu/eeb/facultysites/melbourne/&quot;&gt;Brett Melbourne&lt;/a&gt; are joining us for the next two days to talk about stochastic population dynamics in &lt;em&gt;Tribolium.&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Morning Session, 9a - 11a
&lt;ul&gt;
&lt;li&gt;Outline the individual based model, toolbox&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Group lunch, noon-1:30&lt;/li&gt;
&lt;li&gt;My lab Presentation, 2p-3p
&lt;ul&gt;
&lt;li&gt;Present multidimensional linear noise approximation approach to characterizing the demographically stochastic &lt;em&gt;key class.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Afternoon session, 3p-4p
&lt;ul&gt;
&lt;li&gt;Follow-up on understanding noise propagation in age structure dynamics.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;( Phylogenetics Workshop, 4-6:30)&lt;/li&gt;
&lt;li&gt;Group dinner 7:00-9:00&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;(Details to be transcribed still)&lt;/p&gt;
&lt;h3 id=&quot;presentation&quot;&gt;Presentation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Motivation: qualitative differences from noise – geometric mean fitness&lt;/li&gt;
&lt;li&gt;Why demographic noise is often negligible&lt;/li&gt;
&lt;li&gt;Why it isn’t
&lt;ul&gt;
&lt;li&gt;Enhancement&lt;/li&gt;
&lt;li&gt;Inflation&lt;/li&gt;
&lt;li&gt;transient bimodality&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Notion of key class in age structured model
&lt;ul&gt;
&lt;li&gt;Crowley-based model simulation&lt;/li&gt;
&lt;li&gt;Analytic approximation&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Insights from linear noise approximation&lt;/li&gt;
&lt;li&gt;Challenges: inference based and computationally based difficulties.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Peter Meeting</title>
   <link href="/2010/05/11/Peter-Meeting.html"/>
   <updated>2010-05-11T00:00:00-07:00</updated>
   <id>h/2010/05/11/Peter-Meeting</id>
   <content type="html">&lt;p&gt;Discussed potential solution to the model choice scenario:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Consider an ordered list of models, A, B, C, D&lt;/li&gt;
&lt;li&gt;Then the Neyman-Pearson Lemma (see earlier entry on this) lets us walk through the list in the following fashion: We generate the simulated data sets under model A and compare likelihood ratios in each case. If the likelihood ratio of the observed data falls outside the 95% confidence interval, than it with this confidence that we are saying the data justify the alternate model (model B). Then repeat, generating under model B and comparing to model C, and so forth until we cannot reject the simpler model.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;More subtle concerns:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The model generating the data used in the bootstrap in an estimate, and shouldn’t be treated as the true model with no uncertainty, but rather be bootstrapped itself.&lt;/li&gt;
&lt;li&gt;Of course the method should consider probabilistic partitions of the data. The MLE partition alone will be misleading.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;My lightning talk proposal to iEvoBio was accepted!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still mostly working in the Stochastic Population Dynamics notebook this week.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Demographic Noise</title>
   <link href="/2010/05/11/Demographic-Noise.html"/>
   <updated>2010-05-11T00:00:00-07:00</updated>
   <id>h/2010/05/11/Demographic-Noise</id>
   <content type="html">&lt;h3 id=&quot;crowley-model&quot;&gt;Crowley Model&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Exploring the extent to which demographic stochasticity in a key class can reverberate through the entire population dynamics.&lt;/li&gt;
&lt;li&gt;Starting with a simple test case of a modified Crowley model:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/7/5/f/75f2b0cfed3d87a63da03d093581eefd.png&quot; alt=&quot;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y) - d_1 x + c_1 x y \\ \dot y &amp;amp;= b_2 y (K - x - y) - d_1 y - c_2 x y \end{align}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\begin{align} \dot x &amp;amp;= b_1 x (K - x - y) - d_1 x + c_1 x y \\ \dot y &amp;amp;= b_2 y (K - x - y) - d_1 y - c_2 x y \end{align}&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Model is implemented on a &lt;a href=&quot;http://github.com/cboettig/warningSignals/tree/crowley#&quot; title=&quot;http://github.com/cboettig/warningSignals/tree/crowley#&quot;&gt;branch&lt;/a&gt; of the warningSignals package. Model in &lt;a href=&quot;http://github.com/cboettig/warningSignals/blob/crowley/src/crowley.c&quot; title=&quot;http://github.com/cboettig/warningSignals/blob/crowley/src/crowley.c&quot;&gt;crowley.c&lt;/a&gt;, Depends on modified gillespie.c library in this package.&lt;/li&gt;
&lt;li&gt;Branching necessary as implementation simplifies the gillespie function dependencies, but these changes would break compatibility with warning_signals.c and its R functions. Once warning_signals.c is updated to the new interface format I can remerge the branches.&lt;/li&gt;
&lt;li&gt;compile with &lt;em&gt;make crowley&lt;/em&gt; for the moment, will add R interface soon.&lt;/li&gt;
&lt;li&gt;Branches need to be pushed to the github server separately, see the &lt;a href=&quot;http://github.com/guides/push-a-branch-to-github&quot; title=&quot;http://github.com/guides/push-a-branch-to-github&quot;&gt;github directions&lt;/a&gt;, but essentially&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git push origin branchname&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;will do the trick.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### Parameters for small class&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Values: b_1 = 0.11, b_2 = 0.6, d_1 = d_2 = c_1 = 0.1, c_2 = 4, K = 10000.&lt;/li&gt;
&lt;li&gt;Expected sizes: E(x) = 500, E(y) = 4500, (analytic)&lt;/li&gt;
&lt;li&gt;Variation (from simulation) SD(x) ≈ 120, SD(y) ≈ 1000&lt;/li&gt;
&lt;li&gt;For K = 1000, means are 1/10th and extinction very common within 500 time units, and possible in either group. Extinctions of smaller population not uncommon for K = 10000 in 5000 time units.&lt;/li&gt;
&lt;li&gt;Freezing dynamics of x (&lt;em&gt;i.e.&lt;/em&gt; b_1 = .00, d_1 = .00, c_1 = .00) greatly decreases fluctuations in Y (more than an order of magnitude, SD(y) ≈ 70).&lt;/li&gt;
&lt;li&gt;Analytic description should be straight-forward linear noise approximation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Alan Meeting</title>
   <link href="/2010/05/10/Alan-Meeting.html"/>
   <updated>2010-05-10T00:00:00-07:00</updated>
   <id>h/2010/05/10/Alan-Meeting</id>
   <content type="html">&lt;h3 id=&quot;updates&quot;&gt;Updates&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Likelihood calculation for beetle model.&lt;/li&gt;
&lt;li&gt;Proposed model and calculations Linear parameter change for warning signal model. Results in a few test cases.&lt;/li&gt;
&lt;li&gt;Likelihood methods within SDE framework, an outline of methods. Subtle problems, good approximations, powerful approaches.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt; ### Questions&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;LPA vs ELLPA model&lt;/li&gt;
&lt;li&gt;Defining state space in individual-based model vs stage based model, setting initial conditions? &lt;strong&gt;&lt;em&gt;Conclusion:&lt;/em&gt;&lt;/strong&gt; Means non-Markovian system, so likelihood isn’t determined in one step approach. More lit review, see: Ellner [&lt;a href=&quot;#bibkey_Ellner&quot;&gt;1&lt;/a&gt;], Perry, [&lt;a href=&quot;#bibkey_Perry&quot;&gt;2&lt;/a&gt;, &lt;a href=&quot;#bibkey_Perry2&quot;&gt;3&lt;/a&gt;, &lt;a href=&quot;#bibkey_Perry3&quot;&gt;4&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;Calculating likelihood while accounting for non-independence of the occupancy of each stage? Focus on one class? &lt;strong&gt;&lt;em&gt;Conclusions:&lt;/em&gt;&lt;/strong&gt; Choose Larvae.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;parameter-fitting&quot;&gt;Parameter fitting&lt;/h3&gt;
&lt;p&gt;On likelihood based model selection vs model based estimates of process:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Some cases maximum likelihood estimate agrees with statistical definition – variance definition is mle of sigma parameter for indep gaussian random numbers, the arithmetic mean is the mle for lambda in the poisson, etc. Doesn’t necessarily hold true in these time-series analyses, at least for numerical fitting. Would be better to estimate theta from the mean and search for other parameters.&lt;/li&gt;
&lt;li&gt;requires more precise parameterization&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=16673349&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Ellner SP and Rees M. .&lt;/a&gt; pmid:16673349. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=16673349&quot; title=&quot;PMID 16673349&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=16673349&quot; title=&quot;PMID 16673349&quot;&gt;HubMed&lt;/a&gt; [Ellner]&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19886497&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;De Valpine P. .&lt;/a&gt; pmid:19886497. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19886497&quot; title=&quot;PMID 19886497&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19886497&quot; title=&quot;PMID 19886497&quot;&gt;HubMed&lt;/a&gt; [Perry]&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19739392&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Polansky L, de Valpine P, Lloyd-Smith JO, and Getz WM. .&lt;/a&gt; pmid:19739392. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19739392&quot; title=&quot;PMID 19739392&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19739392&quot; title=&quot;PMID 19739392&quot;&gt;HubMed&lt;/a&gt; [Perry2]&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19425421&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;de Valpine P. .&lt;/a&gt; pmid:19425421. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19425421&quot; title=&quot;PMID 19425421&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19425421&quot; title=&quot;PMID 19425421&quot;&gt;HubMed&lt;/a&gt; [Perry3]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;All Medline abstracts: &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=16673349,19886497,19739392,19425421&quot; title=&quot;All abstracts at PubMed&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=16673349,19886497,19739392,19425421&quot; title=&quot;All abstracts at HubMed&quot;&gt;HubMed&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Research: Themes for Weds/Thurs workshop with Bob and Brett ———————————————————–&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Why is this all important?&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Importance of space&lt;/li&gt;
&lt;li&gt;Importance of environmental variation&lt;/li&gt;
&lt;li&gt;Importance of intrinsic variation &amp;lt;- us&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;A recipe for trouble&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Age or stage structure&lt;/li&gt;
&lt;li&gt;Density dependence&lt;/li&gt;
&lt;li&gt;demographic stochasticity&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading-misc&quot;&gt;Reading / Misc&lt;/h2&gt;
&lt;h3 id=&quot;open-access&quot;&gt;Open Access&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Answering a question for a colleague about whether posting on arxiv was consistent with &lt;a href=&quot;http://www.elsevier.com/wps/find/authorsview.authors/copyright&quot; title=&quot;http://www.elsevier.com/wps/find/authorsview.authors/copyright&quot;&gt;Elsevier’s policies&lt;/a&gt;. (&lt;a href=&quot;http://www.elsevier.com/wps/find/authorshome.authors/preprints&quot; title=&quot;http://www.elsevier.com/wps/find/authorshome.authors/preprints&quot;&gt;It is&lt;/a&gt;). Many Eslevier journals including TPB provide a watermarked authors copy of post-publication pdf explicitly for posting on the author’s website and sharing with colleagues.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; - Fun stats: &lt;a href=&quot;http://romeo.eprints.org/stats.php&quot; title=&quot;http://romeo.eprints.org/stats.php&quot;&gt;90% of journals&lt;/a&gt; allow archiving preprints, many major funders (NIH, Wellcome) and require open archives, and the &lt;a href=&quot;http://www.arl.org/sparc/advocacy/frpaa/index.shtml&quot; title=&quot;http://www.arl.org/sparc/advocacy/frpaa/index.shtml&quot;&gt;FRPAA&lt;/a&gt; bill now before congress would require it for almost all public funding. &lt;a href=&quot;http://www.eprints.org/openaccess/self-faq/#self-archiving-legal&quot; title=&quot;http://www.eprints.org/openaccess/self-faq/#self-archiving-legal&quot;&gt;Very few publishers maintain&lt;/a&gt; the Ingelfinger rule of refusing to publish things that are archived before publication. Open archives are now the norm.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;arXiv’s &lt;a href=&quot;http://arxiv.org/help/endorsement&quot; title=&quot;http://arxiv.org/help/endorsement&quot;&gt;endorsement&lt;/a&gt; system seems to be a source of confusion sometimes. &lt;a href=&quot;http://arxiv.org/abs/1004.4233&quot; title=&quot;http://arxiv.org/abs/1004.4233&quot;&gt;Our TPB paper&lt;/a&gt; on arXiv.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;open-education&quot;&gt;Open Education&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.youtube.com/watch?v=PHvoBPjhsBA&quot; title=&quot;http://www.youtube.com/watch?v=PHvoBPjhsBA&quot;&gt;This is how we dream&lt;/a&gt; a fantastic piece on the changing media of writing. &lt;a href=&quot;http://www.youtube.com/watch?v=6KsEQnOkTZ0&amp;amp;feature=related&quot; title=&quot;http://www.youtube.com/watch?v=6KsEQnOkTZ0&amp;amp;feature=related&quot;&gt;part 2&lt;/a&gt;. From Richard Miller, at Rutgers.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://edseminars.apple.com/event/2610&quot; title=&quot;http://edseminars.apple.com/event/2610&quot;&gt;AcademiX&lt;/a&gt; an exciting conference on the open future of learning.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals with SDEs</title>
   <link href="/2010/05/09/Warning-Signals-with-SDEs.html"/>
   <updated>2010-05-09T00:00:00-07:00</updated>
   <id>h/2010/05/09/Warning-Signals-with-SDEs</id>
   <content type="html">&lt;h3 id=&quot;summary&quot;&gt;Summary&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Have a functional likelihood calculation from the full individual-based simulation, see Friday. Accuracy needs more testing, and the computation is probably too slow for optimization routines.&lt;/li&gt;
&lt;li&gt;Have an implementation of the linear decrease in stability model with analytic conditional probability density. Needed a couple adjustments today.&lt;/li&gt;
&lt;li&gt;Need to add direct simulation to the warning signals package, currently retunrs only time-averaged/ensemble averaged stats. Can be approximated by setting the window equal to the timestep and ensembles equal to one.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;revising-testing-the-math&quot;&gt;Revising &amp;amp; Testing the math&lt;/h3&gt;
&lt;p&gt;Revisions to the equations from Thursday’s entry:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Added an alpha_0 parameter – the alpha dynamics shouldn’t start at zero.&lt;/li&gt;
&lt;li&gt;The variance integral had a factor of two that wasn’t carried through. Also this calculation changes as a result of the alpha_0&lt;/li&gt;
&lt;li&gt;The resulting analytical solution for the variance depends on a difference of error functions, which has poor numerical behavior for small beta. Implemented a flag in the R code which drops down to the analytic solution of beta=0 when it begins to run into this numerical round-off, otherwise numerics return variance of zero. Compared to analytic simulations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;effective-model-choice-absence-of-a-warning-signal&quot;&gt;Effective model choice: absence of a warning signal&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Generate a data set that does not contain a warning signal, using the OU model.&lt;/li&gt;
&lt;li&gt;Fit both model with changing stability and the simple OU model.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;theta &amp;lt;- 3
alpha &amp;lt;- 1
sigma &amp;lt;- 2
X &amp;lt;- sde.sim(model=&amp;quot;OU&amp;quot;, theta= c(theta*alpha,alpha,sigma), X0=Xo, N=1000, T=1000)  # (SDE package parameterizes OU differently)
 
 
# These starting conditions converge to the wrong set of parameters but achieve the same likelihood
 
Call:
mle(minuslogl = warning.lik, start = list(alpha_0 = 2, theta = 1, 
    sigma = 2, beta = 2), method = &amp;quot;L-BFGS-B&amp;quot;, lower = c(0, 0, 
    0, 1e-09), control = list(maxit = 1000))
 
Coefficients:
         Estimate   Std. Error
alpha_0 0.5812878 139.62180181
theta   3.0881681   0.06202446
sigma   1.9305852  43.26824107
beta    1.0907615 279.24384653
-2 log L: 3401.722 
 
 
## These parameters converge closer to the true parameter set, and achieve much smaller Std Error
Call:
mle(minuslogl = warning.lik, start = list(alpha_0 = 2, theta = 1, 
    sigma = 2, beta = 0.2), method = &amp;quot;L-BFGS-B&amp;quot;, lower = c(0, 
    0, 0, 1e-09), control = list(maxit = 1000))
 
Coefficients:
          Estimate Std. Error
alpha_0 1.10203570        NaN
theta   3.08817901 0.06202212
sigma   2.09564217 0.02879976
beta    0.04950086        NaN
-2 log L: 3401.722 
 
 
 
## Matches the parameter values from the simple OU model (beta = 0), and same likelihood
 
mle(minuslogl = OU.lik, start = list(theta1 = 1, theta2 = 0.5, 
    theta3 = 0.5), method = &amp;quot;L-BFGS-B&amp;quot;, lower = c(-Inf, 0, 0))
 
Coefficients:
       Estimate Std. Error
theta1 3.479407 0.29304030
theta2 1.126721 0.09219684
theta3 2.103550 0.07886453
-2 log L: 3401.722 
 
## And matches (even outperforms) the likelihood of the true parameters:
&amp;gt; 2*warning.lik(alpha_0, theta, sigma, beta)
[1] 3405.286
&amp;gt; 2*OU.lik(alpha*theta, alpha, sigma) 
[1] 3405.837&lt;/code&gt;&lt;/pre&gt;
&lt;h3 id=&quot;analysis-of-results&quot;&gt;Analysis of Results&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;So bad news is fit of the richer model can depend on initial conditions, and maximizing likelihood alone doesn’t guarantee finding the right parameters.
&lt;ul&gt;
&lt;li&gt;Luckily this alternate peak seems to have broader uncertainty&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Good news is that both approaches achieve the likelihood of the true parameter values. Any information criterion would successfully reject the change of stability model in this case.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Code Updates&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Warning Signals project has also &lt;a href=&quot;http://github.com/cboettig/warningSignals&quot; title=&quot;http://github.com/cboettig/warningSignals&quot;&gt;migrated to Github&lt;/a&gt;. Nicer interface, git is much faster, handles branching &amp;amp; merging very elegantly and this centralizes my projects.&lt;/li&gt;
&lt;li&gt;the optimization function in R takes control argument for maximum number of iterations as demonstrated above, though we don’t hit the default max (100) yet, which is promising for being able to optimize the individual-based model over at least a subset of parameters.&lt;/li&gt;
&lt;li&gt;Ironically the sde_likelihood library for this analysis has been developed in the Structured-Populations package, though it has now been integrated into the warningSignals package.&lt;/li&gt;
&lt;li&gt;Handy: function &lt;em&gt;formals()&lt;/em&gt; gives the arguments/defaults of an R function.&lt;/li&gt;
&lt;li&gt;Should look into how mle() is calculating the standard error estimate on parameters.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc&quot;&gt;Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Joined Nature’s &lt;a href=&quot;http://www.nature.com/scitable&quot; title=&quot;http://www.nature.com/scitable&quot;&gt;SciTable&lt;/a&gt;, aimed at undergraduates and professors teaching mostly. We’ll see if it’s any use.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.youtube.com/watch?v=lFZ0z5Fm-Ng&quot; title=&quot;http://www.youtube.com/watch?v=lFZ0z5Fm-Ng&quot;&gt;Statistics&lt;/a&gt; on Social media, youtube-style.&lt;/li&gt;
&lt;li&gt;Persuasive &lt;a href=&quot;http://www.wired.com/techbiz/media/magazine/15-07/st_thompson&quot; title=&quot;http://www.wired.com/techbiz/media/magazine/15-07/st_thompson&quot;&gt;case for twitter&lt;/a&gt;, a social sixth sense?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.bestcollegesonline.com/blog/2009/07/21/100-serious-twitter-tips-for-academics/&quot; title=&quot;http://www.bestcollegesonline.com/blog/2009/07/21/100-serious-twitter-tips-for-academics/&quot;&gt;100 twitter tips&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;added category tags to notebooks yesterday. Should help organize the subprojects in each notebook.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Likelihood calculation</title>
   <link href="/2010/05/07/Likelihood-calculation.html"/>
   <updated>2010-05-07T00:00:00-07:00</updated>
   <id>h/2010/05/07/Likelihood-calculation</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Implemented the likelihood calculation in &lt;a href=&quot;http://github.com/cboettig/structured-populations/blob/master/R/simulate.R&quot; title=&quot;http://github.com/cboettig/structured-populations/blob/master/R/simulate.R&quot;&gt;simulate.R code&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;See &lt;a href=&quot;http://github.com/cboettig/structured-populations/commit/786d5bc1fe419c036428e4502cdbe1ea33010e9b&quot; title=&quot;http://github.com/cboettig/structured-populations/commit/786d5bc1fe419c036428e4502cdbe1ea33010e9b&quot;&gt;today’s revision changes&lt;/a&gt; via github&lt;/li&gt;
&lt;li&gt;beetle_sim() updated to return the full simulation to R.&lt;/li&gt;
&lt;li&gt;likelihood calculation by simulation done in parallel&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;library(beetles)
sim &amp;lt;- beetle_sim()
L &amp;lt;- likelihood(par=sim$par, X=sim$state[,2:6], Dt = sim$state[2,1]-sim$state[1,1] )
-sum(log(L))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Decent estimates of likelihood may be challenging: Modifying default settings for longer tome series:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; sim &amp;lt;- beetle_sim(dt = 7, T = 500)
&amp;gt; L &amp;lt;- likelihood(par=sim$par, X=sim$state[,2:6], dt = sim$state[2,1]-sim$state[1,1], reps=100 )
&amp;gt; L2 &amp;lt;- likelihood(par=sim$par, X=sim$state[,2:6], dt = sim$state[2,1]-sim$state[1,1], reps=100 )
&amp;gt; -sum(log(L2))
[1] 2132.963
&amp;gt; -sum(log(L))
[1] 2033.309&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;… Likelihood estimates differ significantly on same data. Compute times for the above runs on dual core are ~ minute, on our 8 core server ~ 10 seconds.&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; system.time(L &amp;lt;- likelihood(par=sim$par, X=sim$state[,2:6], dt = sim$state[2,1]-sim$state[1,1], reps=100, cpu=8 ))
Explicit sfStop() is missing: stop now.
 
Stopping cluster
 
snowfall 1.83 initialized (using snow 0.3-3): parallel execution on 8 CPUs.
 
Library beetles loaded.
Library beetles loaded in cluster.
 
   user  system elapsed 
  0.020   0.040  10.463&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; ### Challenges&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Initializing simulation:&lt;/strong&gt; State-space of the individual based model doesn’t really reduce to the five-dimensional stages. State is actually specified by the continuously valued age of every individual, so state space varies as population size fluctuates and is quite much larger. Though the age class groupings are intended as an approximation to this, there are several possible ways to initialize the simulation during each time interval for the likelihood calculation. Currently starting all individuals of a given age class at the &lt;em&gt;beginning&lt;/em&gt; of the age class, but might make a significant difference if the ages are or aren’t synchronized.&lt;/li&gt;
&lt;li&gt;Still haven’t added heterogeneity in age maturity or in cannibalism rates.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Non-independence of states&lt;/strong&gt;: State-space for the likelihood calculation is essentially five-dimensional: at each point in time have the population abundance in each of the five age classes (egg, immature larva, asymptotic-sized larva, pupae, adults). Of course probability of occupancy in each class isn’t independent of the other classes, so likelihood of the entire distribution of states can’t be computed directly.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Comparison to LPA model&lt;/strong&gt; will have to collapse larval class and ignore egg class?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;code-notes&quot;&gt;Code Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Consider returning log likelihoods directly from kernel density estimator for greater speed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Answered a question on &lt;a href=&quot;http://www.mail-archive.com/help-gsl@gnu.org/msg03168.html&quot; title=&quot;http://www.mail-archive.com/help-gsl@gnu.org/msg03168.html&quot;&gt;gsl-help&lt;/a&gt; regarding kernel density estimation. Should expand these functions to allow for other bandwidth methods, etc.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code needs doxygen documentation.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;kde library needs .cpp extension, seems that R gets confused mixing C and C++ code? Compiles fine by makefile but not by R when extensions don’t match.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Goals</title>
   <link href="/2010/05/06/Goals.html"/>
   <updated>2010-05-06T00:00:00-07:00</updated>
   <id>h/2010/05/06/Goals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Model choice exercise with sdes&lt;/li&gt;
&lt;li&gt;general likelihood calculation from simulation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;test-case&quot;&gt;Test Case&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;dX&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt; = α&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;(θ − &lt;em&gt;X&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;)&lt;em&gt;dt&lt;/em&gt; + σ&lt;em&gt;dt&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;d&lt;/em&gt;α&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt; = − β&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Approach ——–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The linear approximation to the warning signals dynamics can be captured by the OU process, look for changing α&lt;/li&gt;
&lt;li&gt;SDE models will also provide some of the coarser approximations for the structured population dynamics. Formulations of these still to do.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;conditional-probability&quot;&gt;Conditional probability&lt;/h2&gt;
&lt;p&gt;Solution to the time dependent OU process, see Gardiner 4th ed. pg 111, eq. (4.5.109).&lt;/p&gt;
&lt;p&gt;Solve using &lt;img src=&quot;http://openwetware.org/images/math/2/6/1/261158506a921c58c07cce2014f09198.png&quot; alt=&quot;f(X_t) = X_t \exp\left( - \int_0^t \alpha(s) ds \right)&quot; /&gt; and apply &lt;a href=&quot;http://en.wikipedia.org/wiki/It%C5%8D%E2%80%93Doeblin%27s_formula&quot; title=&quot;http://en.wikipedia.org/wiki/It%C5%8D%E2%80%93Doeblin%27s_formula&quot;&gt;Ito formula&lt;/a&gt;, giving&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/8/b/2/8b2d9515dd6a89360e9c97a122103193.png&quot; alt=&quot;X_t = X_0 \exp\left( - \int_0^t \alpha(s) ds \right) +\theta\left( 1- \exp\left( - \int_0^t \alpha(s) ds \right) \right) + \int_0^t \sigma \exp\left( - \int_0^t \alpha(s) ds \right) dW_t&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;X_t = X_0 \exp\left( - \int_0^t \alpha(s) ds \right) +\theta\left( 1- \exp\left( - \int_0^t \alpha(s) ds \right) \right) + \int_0^t \sigma \exp\left( - \int_0^t \alpha(s) ds \right) dW_t&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;And the moments are:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/math/e/5/a/e5ab85ca602fb12998c2eb985474c7e6.png&quot; alt=&quot;\begin{align} E(X_T) &amp;amp;= X_0 \exp\left( - \int_0^T \alpha(s) ds \right) +\theta\left( 1- \exp\left( - \int_0^T \alpha(s) ds \right) \right) \\ \operatorname{Var}(X_T) &amp;amp;= \sigma^2 \int_0^T \exp\left( -2 \int_0^t \alpha(s) ds \right) d t \end{align}&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Using the exact solution I can write down the conditional density function. We can evaluate both integrals for this linear increase model:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/e/8/f/e8f494fb0fc3fffba3ebbf121a70100a.png&quot; alt=&quot;\int_0^t (\beta t +\alpha_0 ) dt = \beta t^2/2 + \alpha_0 t&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\int_0^t (\beta t +\alpha_0 ) dt = \beta t^2/2 + \alpha_0 t&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/7/a/2/7a2b755c9174107368e4480c60e685b4.png&quot; alt=&quot;\int_0^t e^{ - \beta s^2 - 2\alpha_0 s} ds = \frac{\sqrt{\pi}e^{\alpha_0^2/\beta} }{2\sqrt{\beta}} \left( \operatorname{erf} \left( \frac{ \alpha_0+\beta t }{ \sqrt{\beta} } \right) - \operatorname{erf} \left( \frac{ \alpha_0 }{ \sqrt{\beta} } \right) \right)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\int_0^t e^{ - \beta s^2 - 2\alpha_0 s} ds = \frac{\sqrt{\pi}e^{\alpha_0^2/\beta} }{2\sqrt{\beta}} \left( \operatorname{erf} \left( \frac{ \alpha_0+\beta t }{ \sqrt{\beta} } \right) - \operatorname{erf} \left( \frac{ \alpha_0 }{ \sqrt{\beta} } \right) \right)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; - Next, implement the conditional probability density in R:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;numeric_V &amp;lt;- function(Dt, pars){
    vint &amp;lt;- function(x){
        exp(-pars$beta*x^2 -2* pars$alpha_0*x)
    }
    int &amp;lt;- integrate(vint, 0, Dt)
    int$value*pars$sigma^2
}
 
analytic_V &amp;lt;- function(Dt, pars){
    if( erf(pars$alpha/sqrt(pars$beta) ) != 1){
 
        Log_Vx &amp;lt;- log(pars$sigma^2 *  sqrt(pi) ) + pars$alpha_0^2/(pars$beta)  + log( ( erf( (pars$alpha_0+pars$beta*Dt)/(sqrt(pars$beta) ) ) - erf(pars$alpha_0/(sqrt(pars$beta) ) ))/(2*sqrt(pars$beta) ))
        class(Log_Vx) = &amp;quot;numeric&amp;quot;
        Vx &amp;lt;- exp(Log_Vx)
    } else {
        warning(&amp;quot;beta near zero, using approximation&amp;quot;)
        Vx &amp;lt;- pars$sigma^2*(1-exp(-2*pars$alpha*Dt))/(2*pars$alpha)
 
    }
        Vx
}
 
# Parametrization dXt = alpha(theta - Xt)dt + sigma*dWt, alpha(t) = beta*t+alpha_0
warning_model &amp;lt;- function(Dt, Xo, pars){
    int &amp;lt;- pars$beta*Dt^2/2 + pars$alpha_0*Dt
    Ex &amp;lt;- Xo * exp(-int) + pars$theta * (1 - exp(-int) )
    Vx &amp;lt;- analytic_V(Dt, pars)
 
    return(list(Ex=Ex,Vx=Vx))
}
 
dcWarning &amp;lt;- function(x, Dt, x0, pars, log = FALSE){
  P &amp;lt;- warning_model(Dt, x0, pars)
  dnorm(x, mean=P$Ex, sd=sqrt(P$Vx), log=log)
}
 
 
warning.lik &amp;lt;- function(alpha_0, theta, sigma, beta){
  n &amp;lt;- length(X)
  dt &amp;lt;- deltat(X)
  pars = list(alpha_0=alpha_0, theta=theta, sigma=sigma, beta=beta)
  -sum( dcWarning(X[2:n], dt, X[1:(n-1)], pars, log=TRUE) )
}
 
 
require(stats4)
require(sde)
require(NORMT3)
 
set.seed(123)
theta &amp;lt;- 3
alpha &amp;lt;- 1
sigma &amp;lt;- 2
alpha_0 &amp;lt;- 1
beta &amp;lt;- .01
pars = list(alpha_0=alpha, theta=theta, sigma=sigma, beta=beta)
 
warning_model(1, 1, pars)
setOU(1, 1, theta=c(theta*alpha, alpha, sigma) )
 
numeric_V(Dt, pars)
analytic_V(Dt, pars)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; #### Note on Numerics&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Unfortunately the analytic solution does not have nice numerical properties for small β, which is the interesting limiting case (no/very slow change in stability). The error functions both approach unity, making the difference tiny, while the exponential term diverges. The result is that variances for too small beta suddenly become zero, instead of the appropriate limit. The numerical integration is more robust to this. Analytic implementation is modified to just provide the limit case when erf functions both evaluate at exactly 1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;This linear test case model is quite restrictive. If the eigenvalue is decreasing, doing so in a linear way need not out perform a model in which it is not decreasing at all. It would be interesting to test if this is more sensitive than change point estimation. Iacus
&lt;ol start=&quot;2008&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;implements a least-squares based change point estimation in the R sde package.&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc Notes ———-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Upgraded to Ubuntu 10.04. Went fine on the experimental partition with a reformat to extension 4 and a fresh install. Fast boot times, spiffy system. Full upgrade on main (ext3) partition failed miserably though, can’t even boot up successfully following the upgrade.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Adding additional packages when fine, mostly copied configuration files over. A couple extra steps to get dual monitors working again, as the resolution wasn’t properly detected. &lt;a href=&quot;http://ubuntuforums.org/showthread.php?t=1112186&quot; title=&quot;http://ubuntuforums.org/showthread.php?t=1112186&quot;&gt;Solution here&lt;/a&gt;, essentially:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; #!/bin/bash         
 xrandr --newmode &amp;quot;1920x1200_60.00&amp;quot; 193.16 1920 2048 2256 2592 1200 1201 1204 1242 -HSync +Vsync
 xrandr --newmode &amp;quot;1280x1040_60.00&amp;quot;  110.63  1280 1360 1496 1712  1040 1041 1044 1077  -HSync +Vsync
 xrandr --addmode VGA1 1920x1200_60.00
 xrandr --addmode VGA1 1280x1040_60.00&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; - vim-full is deprecated, vim-latexsuite needs additional installation, read: /usr/share/doc/vim-latexsuite/README.Debian after installing. Also vim’s &amp;quot;+y copy to clipboard doesn’t work with pure vim, so installing xclip vim-common and vim-gnome to fixed this.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2010/05/05/Wednesday.html"/>
   <updated>2010-05-05T00:00:00-07:00</updated>
   <id>h/2010/05/05/Wednesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Structured populations part of project migrated to &lt;a href=&quot;http://github.com/cboettig/structured-populations&quot; title=&quot;http://github.com/cboettig/structured-populations&quot;&gt;github&lt;/a&gt; from the google code page.&lt;/li&gt;
&lt;li&gt;Finally switched to using STL for linked list in simulation.&lt;/li&gt;
&lt;li&gt;Have working simulation function&lt;/li&gt;
&lt;li&gt;ensemble run function also calculates the probability based on kernel-density estimation from the replicates.&lt;/li&gt;
&lt;li&gt;Working on likelihood calculation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;code-progress&quot;&gt;Code progress&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Lots of fun trying to get full structured population simulator working accurately. See &lt;a href=&quot;http://github.com/cboettig/structured-populations/commits/master&quot; title=&quot;http://github.com/cboettig/structured-populations/commits/master&quot;&gt;git log&lt;/a&gt; for details, but ended up abandoning two separate versions of custom-written C linked lists and just switched entire code over to C++ to use the STL’s linked list, which finally worked like a charm.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;exploring-github&quot;&gt;Exploring Github&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Github pages: gh-pages lets you create webpage associated with the project. The page isn’t automatically linked from the actual project page though, and though is easy to set up initially requires editing with a mix of ruby/html and fancy processing. Doesn’t seem particularly promising as I hoped, since all subsequent editing has to be done in raw mode. Can also create user pages this way. See &lt;a href=&quot;http://cboettig.github.com/structured-populations/&quot; title=&quot;http://cboettig.github.com/structured-populations/&quot;&gt;sample page&lt;/a&gt; for this project.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Much more promising: project page displays the readme, which can have &lt;a href=&quot;http://github.com/guides/readme-formatting&quot; title=&quot;http://github.com/guides/readme-formatting&quot;&gt;advanced markup&lt;/a&gt;, i.e. will try formatting readme files in &lt;a href=&quot;http://daringfireball.net/projects/markdown/syntax&quot; title=&quot;http://daringfireball.net/projects/markdown/syntax&quot;&gt;markdown&lt;/a&gt;, should be easy to learn, similar but not matching mediawiki. See the &lt;a href=&quot;http://github.github.com/github-flavored-markdown/&quot; title=&quot;http://github.github.com/github-flavored-markdown/&quot;&gt;github guide on markdown&lt;/a&gt;, does some extra github related functions, &lt;a href=&quot;http://github.github.com/github-flavored-markdown/preview.html&quot; title=&quot;http://github.github.com/github-flavored-markdown/preview.html&quot;&gt;see live demo&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;RSS feed anything – commit logs, etc. Follow other users or projects, rss feed automatically to git dashboard.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Lots more on &lt;a href=&quot;http://github.com/guides/home&quot; title=&quot;http://github.com/guides/home&quot;&gt;Git guides&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Primates</title>
   <link href="/2010/05/05/Primates.html"/>
   <updated>2010-05-05T00:00:00-07:00</updated>
   <id>h/2010/05/05/Primates</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Primates project now has a &lt;a href=&quot;http://github.com/cboettig/sandbox&quot; title=&quot;http://github.com/cboettig/sandbox&quot;&gt;Github repository&lt;/a&gt;. Updates are embedded from here.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Experimenting with distributing code and data effectively. Pluses and minuses of three options:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;zipped file with R code and data. Requires setting working directory, harder to update. Subsequent uploads must include all the data, rather than incremental.&lt;/li&gt;
&lt;li&gt;Directly grab repository over github. Simple to update and access, stores only incremental changes. Requires knowledge of git&lt;/li&gt;
&lt;li&gt;R package: Nicely integrates data, code, and documentation. Requires installing R packages.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Learning the R packaging system for data. You can have .R files in the data/ directory of a package. The call to the data() function runs those files from that directory, making it unnecessary to specify the path to the data and allowing the use of complicated functions, see the example from the ape package:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;require(ape, quietly = TRUE, save = FALSE)
bird.orders &amp;lt;- read.tree(&amp;quot;bird.orders.tre&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt; Primate Phylogeny —————–&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Boettiger 00:37, 30 April 2010 (EDT)&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simon sent me the tree data from their paper:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19860891&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Chatterjee HJ, Ho SY, Barnes I, and Groves C. .&lt;/a&gt; pmid:19860891. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19860891&quot; title=&quot;PMID 19860891&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19860891&quot; title=&quot;PMID 19860891&quot;&gt;HubMed&lt;/a&gt; [primates]&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;This is the first calibrated ultrametric tree I’ve been able to couple to the primate data Daniel provided. I’ve preformed a quick ancestral state reconstruction on log brain weight (warmer colors are more massive).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/9/96/Primates.png&quot; alt=&quot;Image:Primates.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### R code to create figure&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;library(ape)
library(geiger)
genera_set &amp;lt;- read.nexus(&amp;quot;mt.genera.ucld.trees&amp;quot;)
nuc_set &amp;lt;- read.nexus(&amp;quot;nuc.ucld.trees&amp;quot;)
genera &amp;lt;- genera_set[[1]]
nuc &amp;lt;- nuc_set[[1]]
nuc_names &amp;lt;- nuc$tip.label
genera_names &amp;lt;- genera$tip.label
traits &amp;lt;- read.csv(&amp;quot;Primate_brain_comparisons.csv&amp;quot;)
 
dups &amp;lt;- duplicated(traits[[&amp;#39;Genus&amp;#39;]])
trait_names &amp;lt;- as.character(traits$Genus[!dups])
x &amp;lt;- traits$log_brain.weight[!dups]
names(x) &amp;lt;- trait_names
 
 
compare &amp;lt;- treedata(nuc, x)
plot(compare$phy)
out &amp;lt;- ace(compare$data, compare$phy)
 
# a similar function but for the continuous ancestral state 
plot_cts_ancestor &amp;lt;- function(phy, data, ancestral){  
    plot(phy) # just to get treelength 
    treelen &amp;lt;- max(axisPhylo() )
    plot(compare$phy, cex=1, x.lim=1.3*treelen, edge.width=2)
    mycol &amp;lt;- function(x){
    tmp = (x - min(data)) /max(x-min(data)) 
    rgb(blue = 1-tmp, green=0, red = tmp )
    }
    nodelabels(pch=19, col=mycol(ancestral$ace), cex=1.5  )
    tiplabels(pch=19, col=mycol(data), cex=1.5, adj=0.5) # add tip color code
    }
plot_cts_ancestor(compare$phy, compare$data, out)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;This is essentially just at the proof of concept level. A couple obvious steps:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;This uses a single tree from the posterior distribution of trees, which we’ll eventually want to average over in the parameter estimation. Meanwhile should use a consensus MLE tree instead.&lt;/li&gt;
&lt;li&gt;Trees are resolved to genus level, so traits should be genus averages (instead of subsamples).&lt;/li&gt;
&lt;li&gt;Ancestral state reconstruction under the Brownian Motion model is the most preliminary treatment, will certainly be interesting to consider the various multi-peak OU models and identify potential transitions between peaks, as well as power analysis for the model fits.&lt;/li&gt;
&lt;li&gt;Multidimensional trait inference should also be interesting&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Possible bug? The Homo/Pan and Gorilla/Pan nodes would be expected to be in the Gorilla/Pan colour rather than the Homo colour.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;code-and-data-on-github&quot;&gt;Code and data on Github&lt;/h3&gt;
&lt;p&gt;New github repository for sharing code and data: &lt;strong&gt;&lt;a href=&quot;http://github.com/cboettig/sandbox&quot; title=&quot;http://github.com/cboettig/sandbox&quot;&gt;sandbox&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Grab this repository using git:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git clone git://github.com/cboettig/sandbox.git&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Revert to this edit’s version of code and data using git:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git checkout 77af6613db294ca068cf&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://github.com/downloads/cboettig/sandbox/sandbox_0.0-1.tar.gz&quot; title=&quot;http://github.com/downloads/cboettig/sandbox/sandbox_0.0-1.tar.gz&quot;&gt;Download&lt;/a&gt; the snapshot as an R package. More information on the &lt;a href=&quot;http://github.com/cboettig/sandbox/downloads&quot; title=&quot;http://github.com/cboettig/sandbox/downloads&quot;&gt;downloads page&lt;/a&gt; of repository.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Carl Boettiger 16:17, 5 May 2010 (EDT)&lt;/strong&gt;:&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated git version using R package is:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git checkout b1a90ad97b90d9cbeaa7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Alan Meeting</title>
   <link href="/2010/05/04/Alan-Meeting.html"/>
   <updated>2010-05-04T00:00:00-07:00</updated>
   <id>h/2010/05/04/Alan-Meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Goals next week: Bob &amp;amp; Brian beetle data: what an analysis would be with complete stochastic description.&lt;/li&gt;
&lt;li&gt;Compare models with different&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Full model: Parameter list from current code:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; /* Biological Parameters.  eggs and pupa can get canibalized */
    double b = 5;                                                   /* Birth rate (per day) */
    double u_egg = 0, u_larva = 0.001, u_pupa = 0, u_adult = 0.003; /* Mortality rate (per day) */
    double a_egg = 3.8, a_larva = 3.8+16.4, a_pupa = 3.8+16.4+5.0;    /* age at which each stage matures, in days */
    double cannibal_larva_eggs = 0.01, cannibal_adults_pupa = 0.004, cannibal_adults_eggs = 0.01; /* cannibalism of x on y, per day */
    double a_larva_asym = 3.8+8.0;                                  /* age after which larval size asymptotes */&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Add &lt;strong&gt;individual heterogeneity&lt;/strong&gt; in egg and larva maturation age and in cannibalism of larva on eggs.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;outline-manuscript-draft&quot;&gt;Outline / manuscript draft&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.google.com/Doc?docid=0AR6sK_1tc7DZZGdmYnQyZzVfOTI5ams5NnRjMw&amp;amp;hl=en&quot; title=&quot;http://docs.google.com/Doc?docid=0AR6sK_1tc7DZZGdmYnQyZzVfOTI5ams5NnRjMw&amp;amp;hl=en&quot;&gt;Working copy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3 id=&quot;likelihood-inference-for-time-series&quot;&gt;Likelihood inference for time series&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;All based on step-ahead predictions, from Markov property. Compare to deterministic skeleton’s minimization of sum of squares on step-ahead predictions (i.e. assumes normal deviates).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; See the monographs:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Iacus, S. M. (2008). Simulation and Inference for Stochastic Differential Equations With R Examples. New York: Springer.&lt;/li&gt;
&lt;li&gt;Prakasa Rao, B.L.S. (1999) Statistical Inferences for Diffusion Type Processes, Oxford University Press, New York.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Exploring existing implementations of likelihood methods on SDEs through the R sde package accompanying the Iacus text.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Many nice methods for SDEs, general case is harder.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;conditions&quot;&gt;Conditions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Large sample scheme&lt;/em&gt; Time interval gets longer with &lt;em&gt;n&lt;/em&gt;, while Δ is fixed time-step. Requires the additional assumptions of stationarity and/or ergodicity&lt;/li&gt;
&lt;li&gt;&lt;em&gt;High-frequency scheme&lt;/em&gt;: Δ shrinks as n increases, fixed window, need not assume ergodic.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Rapidly increasing design&lt;/em&gt;: hybrid combination with prescribed rate of mesh increase &lt;em&gt;k&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;underlying-model&quot;&gt;Underlying model&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;dX&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt; = &lt;em&gt;b&lt;/em&gt;(&lt;em&gt;X&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;,θ)&lt;em&gt;dt&lt;/em&gt; + σ(&lt;em&gt;X&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;,θ)&lt;em&gt;dW&lt;/em&gt;&lt;sub&gt;&lt;em&gt;t&lt;/em&gt;&lt;/sub&gt;&lt;/p&gt;
&lt;h4 id=&quot;exact-likelihood-conditions&quot;&gt;Exact Likelihood conditions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Linear growth assumption:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/f/0/f/f0fa18eefeb2fe80bd3f95ed6c6074a4.png&quot; alt=&quot;\exists \quad K \quad :: \quad \forall \quad x&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\exists \quad K \quad :: \quad \forall \quad x&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/2/8/228467066aa1ebca79a987e2b36fecb4.png&quot; alt=&quot;|b(x,\theta)| + |\sigma(x,\theta)| \leq K(1+|x|)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;|b(x,\theta)| + |\sigma(x,\theta)| \leq K(1+|x|)&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Global Lipshitz assumption:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;b&lt;/em&gt;(&lt;em&gt;x&lt;/em&gt;,θ) − &lt;em&gt;b&lt;/em&gt;(&lt;em&gt;y&lt;/em&gt;,θ) | + σ(&lt;em&gt;x&lt;/em&gt;,θ) − σ(&lt;em&gt;y&lt;/em&gt;,θ) &amp;lt; &lt;em&gt;K&lt;/em&gt; | &lt;em&gt;x&lt;/em&gt; − &lt;em&gt;y&lt;/em&gt; |&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Positive diffusion coefficient&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Bounded moments&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Smooth coefficients (will use up to 3 times differentiable)&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Convergence of diffusion part estimator usually &lt;img src=&quot;http://openwetware.org/images/math/3/3/f/33f89d8758a725273b6b80612bb65276.png&quot; alt=&quot;\sqrt n&quot; /&gt;, with &lt;img src=&quot;http://openwetware.org/images/math/4/3/2/432462b0b23ad64c9a1b29f761adb36f.png&quot; alt=&quot;n \Delta_n^3 \to 0&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;numerical-methods&quot;&gt;Numerical methods&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Exact likelihood inference (conditional density of process must be known)&lt;/li&gt;
&lt;li&gt;Euler approximation: discretization can assume linearity over small Δt&lt;/li&gt;
&lt;li&gt;Elerian method (Milstein scheme)&lt;/li&gt;
&lt;li&gt;Kessler (higher order Ito/Taylor expansion)&lt;/li&gt;
&lt;li&gt;Simulated likelihood (approximate cdf with subdivisions in timestep over which Euler is accurate).&lt;/li&gt;
&lt;li&gt;Hermite polynomial expansion of likelihood.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; #### Steps&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Evaluate the conditional density function&lt;/li&gt;
&lt;li&gt;Evaluate the likelihood function (will be used as single step predictor)&lt;/li&gt;
&lt;li&gt;maximum likelihood estimation&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code updates&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Swapped out my original linked list library for a more intelligent one. Not sure why pointer pointers are so useful but valgrind is happy.&lt;/li&gt;
&lt;li&gt;beetle simulator now creates step-ahead realizations.&lt;/li&gt;
&lt;li&gt;Considerations: replicates in C or R? would be better if R preserved the openmp code, but can always use parallel R to loop over timesteps and benefit from compiled speed on replicates.&lt;/li&gt;
&lt;li&gt;Kernel density estimation for assigning probabilities? Probably reserve at R level at the moment.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc Reading &amp;amp; Notes ——————–&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/05/04/Adaptive-Dynamics.html"/>
   <updated>2010-05-04T00:00:00-07:00</updated>
   <id>h/2010/05/04/Adaptive-Dynamics</id>
   <content type="html">&lt;h3 id=&quot;wide-gap-flat-landscape&quot;&gt;Wide gap, flat landscape&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Waiting times on a flatter landscape: sigma_c ~ sigma_k. Waiting times are dominated by the number of times phase 3 collapses: the established invader in a dimorphic population (right panels). Collapse of phase 2: collapse of the dimorphism before third population can establish is much rarer (about an order of magnitude).&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/0/06/Distribution3.png/400px-Distribution3.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;from the run3 dataset, with parameters.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;narrower-gap-steeper-landscape&quot;&gt;Narrower gap, steeper landscape&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;with sigma_c &amp;lt;&amp;lt; sigma_k, branching is easy, neither phase is particularly limiting, though single collapses from both phases are very common.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/4/48/Distribution4.png/400px-Distribution4.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;from the run4 dataset.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;slower-mutation-bigger-steps&quot;&gt;Slower mutation, bigger steps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Trying flat landscape with smaller mu, larger sigma_mu, see if phase 2 becomes limiting. (run5 dataset). Pars: mu = 5e-4, sigma_mu = .05, sigma_c2 = .8,&lt;/li&gt;
&lt;li&gt;Just finished running, very few achieved branching! Should repeat with narrower competition kernel.&lt;/li&gt;
&lt;li&gt;Mean number of failures from phase 2: 240, from phase 3: 330, so not order of magnitude different anymore but phase 3 still limiting.&lt;/li&gt;
&lt;li&gt;Very interesting, seems the stdev of failures is much smaller for both! (24, 30 respectively)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/8/8e/Distribution5.png&quot; alt=&quot;Image:Distribution5.png&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Run6: as before, but mu=.0001, sigma_c2 = .3. Phase 2 is truly more limiting. A different mechanism to branching – rare large jump vs series of rapid small steps.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/6/65/Distribution6.png&quot; alt=&quot;Image:Distribution6.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Distribution6.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/05/03/Adaptive-Dynamics.html"/>
   <updated>2010-05-03T00:00:00-07:00</updated>
   <id>h/2010/05/03/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on simulation based approach to summarize distribution of waiting times across different phases.&lt;/li&gt;
&lt;li&gt;What to do about zeros in phase two (when first dimorphism survives long enough to be invaded…)&lt;/li&gt;
&lt;li&gt;Quantify number/distribution of failed attempts at each phase? How to represent these distributions across a parameter space in sigma_c, sigma_k, sigma_mu, and mu?&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/1e/Distribution.png/180px-Distribution.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;library(BranchingTime)
sim &amp;lt;- branching_time(rep=1000, cpu=8)
save(file = &amp;quot;run1.Rdat&amp;quot;)
pdf(&amp;quot;distribution.pdf&amp;quot;)
m &amp;lt;- max(sim$data)
plot(density(sim$data[1,]), xlim = c(0,m), col=&amp;quot;black&amp;quot; )
lines(density(sim$data[2,] ), col = &amp;quot;blue&amp;quot;)
lines(density(sim$data[3,] ), col = &amp;quot;green&amp;quot;)
lines(density(sim$data[4,] ), col = &amp;quot;red&amp;quot;)
legend(&amp;#39;topright&amp;#39;, c(&amp;quot;1&amp;quot;, &amp;quot;2&amp;quot;, &amp;quot;3&amp;quot;, &amp;quot;4&amp;quot;), col=c(&amp;quot;black&amp;quot;, &amp;quot;blue&amp;quot;, &amp;quot;green&amp;quot;, &amp;quot;red&amp;quot;), pch = 15)
dev.off()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;http://dl.dropbox.com/u/3982238/run1.Rdat&quot; title=&quot;http://dl.dropbox.com/u/3982238/run1.Rdat&quot;&gt;data output&lt;/a&gt; for plot, parameters, etc in dropbox.&lt;/p&gt;
&lt;h2 id=&quot;michael-eisen-visit&quot;&gt;Michael Eisen Visit&lt;/h2&gt;
&lt;p&gt;11pm-noon&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Excellent &lt;a href=&quot;http://twitpic.com/1kpdfm&quot; title=&quot;http://twitpic.com/1kpdfm&quot;&gt;talk&lt;/a&gt; &amp;amp; discussion with Michael Eisen and the Davis Open Science group today. Video of the discussion to be posted shortly. We’ll be discussing the talk and potential for activism among the open science group at the social on Wednesday.&lt;/li&gt;
&lt;li&gt;Talk got me thinking about lots of things. Strong examples of the how broken the current system is: not only in the frequency of errors but the difficulty in correcting them – a paper in high impact journal that has been contradicted repeatedly in other literature remains the most cited. Also the credibility assigned to the accuracy of peer review out of proportion with the rigor of the process – most papers are published sooner or later. Better if another standard assured credibility than publication in a peer reviewed journal alone. Goal of review process is to reject papers, makes novel papers harder to publish than more traditional ones. Much of the advice you hear about making successful publications has little to do with the science. (And how about everything is miscellaneous approach to science?)&lt;/li&gt;
&lt;li&gt;simply pointing out how flawed the system is wasn’t solving anything, even though most tended to agree. So started PLoS. Next year PLoS ONE will be the biggest journal and is financially self-supporting, Other evidence of successful open access models: biomed central sold for (some large amount) to Elsevier.&lt;/li&gt;
&lt;li&gt;Commenting system on papers does not seem to be working. Interesting discussion of anonymous/signed versions, and filtering/validating comments, and provocative view of being able to know what everyone in your field thought of each thing they read – custom view/lens of a paper, choose your own reviewers style reading.&lt;/li&gt;
&lt;li&gt;Best place for Open Science Group to take a role: Challenging Intellectual Property policy at UC. Berkeley example: IP department costs more to maintain than IP generates in revenue, and resources are not available to the public – at a time when UC is most in need of public support. Meanwhile private universities such as Harvard are doing much better in open policies. More stats on this would be great.&lt;/li&gt;
&lt;li&gt;Situation isn’t as bad as you think – data does not support the myth that you need Science/Nature papers to get a job. Getting high profile papers isn’t necessarily the reason for getting the job, correlation doesn’t imply causation. More data on this would be great as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Reading ——-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1016/j.cell.2010.04.019&quot; title=&quot;doi:10.1016/j.cell.2010.04.019&quot;&gt;Cell article&lt;/a&gt; on Social Networks in science&lt;/li&gt;
&lt;li&gt;Alex has me thinking about &lt;a href=&quot;http://www.office-ergo.com/setting.htm&quot; title=&quot;http://www.office-ergo.com/setting.htm&quot;&gt;ergonomics / light levels&lt;/a&gt; for office&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/30/Adaptive-Dynamics.html"/>
   <updated>2010-04-30T00:00:00-07:00</updated>
   <id>h/2010/04/30/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Modified code phase definitions: phasetime[0] is the first time dimorphism is established. Dimorphism may be lost and restablished, last (most recent) time it establishes is phasetime[1] (used to be phasetime[0]). Other times are still the most recent time at which the phase was accomplished.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fiddling with analytic approximations. These shouldn’t integrate to evaluate at each value, but should be done in a fully discretized system. Prototyping in R, the discrete version is probably fast enough to handle in scripted code alone.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/29/Adaptive-Dynamics.html"/>
   <updated>2010-04-29T00:00:00-07:00</updated>
   <id>h/2010/04/29/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Manuscript writing.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;phylogenetics&quot;&gt;Phylogenetics&lt;/h2&gt;
&lt;p&gt;Submitted Lightning talk to iEvoBio&lt;/p&gt;
&lt;p&gt;PDG group will be discussing&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=18611849&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Rabosky DL and Lovette IJ. .&lt;/a&gt; pmid:18611849. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=18611849&quot; title=&quot;PMID 18611849&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=18611849&quot; title=&quot;PMID 18611849&quot;&gt;HubMed&lt;/a&gt; [1]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;tomorrow, along with &lt;a href=&quot;http://hdl.handle.net/10.1098/rspb.2008.1249&quot; title=&quot;doi:10.1098/rspb.2008.1249&quot;&gt;critique&lt;/a&gt; and &lt;a href=&quot;http://hdl.handle.net/10.1098/rspb.2008.1584&quot; title=&quot;doi:10.1098/rspb.2008.1584&quot;&gt;response&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Waiting to hear back from Peter on manuscript.&lt;/li&gt;
&lt;li&gt;Should follow up with Ralph on likelihood ratio discussion with Ethan.&lt;/li&gt;
&lt;li&gt;Transcluding exploratory work on primate phylogeny data:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Embedded:&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Primate Phylogeny —————–&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Carl Boettiger 00:37, 30 April 2010 (EDT)&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simon sent me the tree data from their paper:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19860891&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Chatterjee HJ, Ho SY, Barnes I, and Groves C. .&lt;/a&gt; pmid:19860891. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19860891&quot; title=&quot;PMID 19860891&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19860891&quot; title=&quot;PMID 19860891&quot;&gt;HubMed&lt;/a&gt; [primates]&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;This is the first calibrated ultrametric tree I’ve been able to couple to the primate data Daniel provided. I’ve preformed a quick ancestral state reconstruction on log brain weight (warmer colors are more massive).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;img src=&quot;http://openwetware.org/images/9/96/Primates.png&quot; alt=&quot;Image:Primates.png&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### R code to create figure&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;library(ape)
library(geiger)
genera_set &amp;lt;- read.nexus(&amp;quot;mt.genera.ucld.trees&amp;quot;)
nuc_set &amp;lt;- read.nexus(&amp;quot;nuc.ucld.trees&amp;quot;)
genera &amp;lt;- genera_set[[1]]
nuc &amp;lt;- nuc_set[[1]]
nuc_names &amp;lt;- nuc$tip.label
genera_names &amp;lt;- genera$tip.label
traits &amp;lt;- read.csv(&amp;quot;Primate_brain_comparisons.csv&amp;quot;)
 
dups &amp;lt;- duplicated(traits[[&amp;#39;Genus&amp;#39;]])
trait_names &amp;lt;- as.character(traits$Genus[!dups])
x &amp;lt;- traits$log_brain.weight[!dups]
names(x) &amp;lt;- trait_names
 
 
compare &amp;lt;- treedata(nuc, x)
plot(compare$phy)
out &amp;lt;- ace(compare$data, compare$phy)
 
# a similar function but for the continuous ancestral state 
plot_cts_ancestor &amp;lt;- function(phy, data, ancestral){  
    plot(phy) # just to get treelength 
    treelen &amp;lt;- max(axisPhylo() )
    plot(compare$phy, cex=1, x.lim=1.3*treelen, edge.width=2)
    mycol &amp;lt;- function(x){
    tmp = (x - min(data)) /max(x-min(data)) 
    rgb(blue = 1-tmp, green=0, red = tmp )
    }
    nodelabels(pch=19, col=mycol(ancestral$ace), cex=1.5  )
    tiplabels(pch=19, col=mycol(data), cex=1.5, adj=0.5) # add tip color code
    }
plot_cts_ancestor(compare$phy, compare$data, out)&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;This is essentially just at the proof of concept level. A couple obvious steps:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;This uses a single tree from the posterior distribution of trees, which we’ll eventually want to average over in the parameter estimation. Meanwhile should use a consensus MLE tree instead.&lt;/li&gt;
&lt;li&gt;Trees are resolved to genus level, so traits should be genus averages (instead of subsamples).&lt;/li&gt;
&lt;li&gt;Ancestral state reconstruction under the Brownian Motion model is the most preliminary treatment, will certainly be interesting to consider the various multi-peak OU models and identify potential transitions between peaks, as well as power analysis for the model fits.&lt;/li&gt;
&lt;li&gt;Multidimensional trait inference should also be interesting&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Possible bug? The Homo/Pan and Gorilla/Pan nodes would be expected to be in the Gorilla/Pan colour rather than the Homo colour.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;code-and-data-on-github&quot;&gt;Code and data on Github&lt;/h3&gt;
&lt;p&gt;New github repository for sharing code and data: &lt;strong&gt;&lt;a href=&quot;http://github.com/cboettig/sandbox&quot; title=&quot;http://github.com/cboettig/sandbox&quot;&gt;sandbox&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Grab this repository using git:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git clone git://github.com/cboettig/sandbox.git&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Revert to this edit’s version of code and data using git:&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git checkout 77af6613db294ca068cf&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://github.com/downloads/cboettig/sandbox/sandbox_0.0-1.tar.gz&quot; title=&quot;http://github.com/downloads/cboettig/sandbox/sandbox_0.0-1.tar.gz&quot;&gt;Download&lt;/a&gt; the snapshot as an R package. More information on the &lt;a href=&quot;http://github.com/cboettig/sandbox/downloads&quot; title=&quot;http://github.com/cboettig/sandbox/downloads&quot;&gt;downloads page&lt;/a&gt; of repository.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Carl Boettiger 16:17, 5 May 2010 (EDT)&lt;/strong&gt;:&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Updated git version using R package is:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- --&gt;

&lt;pre&gt;&lt;code&gt; git checkout b1a90ad97b90d9cbeaa7 &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; Meetings ——–&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.math.ualberta.ca/~mlewis/&quot; title=&quot;http://www.math.ualberta.ca/~mlewis/&quot;&gt;Mark Lewis&lt;/a&gt; visiting UC Davis:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lunch w/ Graduate students, 12-1:30p&lt;/li&gt;
&lt;li&gt;Mark speaking in the Ecology and Evolution Seminar series today at 4pm.&lt;/li&gt;
&lt;li&gt;Dinner w/ Hastings lab, 6:30p&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;readingmisc&quot;&gt;Reading/Misc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.tiddlywiki.com/&quot; title=&quot;http://www.tiddlywiki.com/&quot;&gt;TiddlyWiki&lt;/a&gt; option for a lab notebook. &lt;a href=&quot;http://deferentialgeometry.org/&quot; title=&quot;http://deferentialgeometry.org/&quot;&gt;Differential Geometry example&lt;/a&gt;. Might be a good option for an electronic notebook not intended to be completely open.&lt;/li&gt;
&lt;li&gt;Also Mario has &lt;a href=&quot;http://pineda-krch.com/2008/08/12/distributed-open-notebook-science/&quot; title=&quot;http://pineda-krch.com/2008/08/12/distributed-open-notebook-science/&quot;&gt;interesting thoughts&lt;/a&gt; about a distributed approach combining TiddlyWiki with git.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meetings</title>
   <link href="/2010/04/28/Meetings.html"/>
   <updated>2010-04-28T00:00:00-07:00</updated>
   <id>h/2010/04/28/Meetings</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Theory Coffee 10-11a: Varied discussion, including NEON project and future of large data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Hastings Lab Meeting 2-3p: David Kling presents bioeconomic model on assisted migration. Model focuses on dynamic and spatial aspects, reflects pattern of dispersal common in ideal free distribution with dynamic carrying capacity, adds linear and quadratic costs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;(Fire alarms in Wickson Hall don’t make for a productive day).&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>iEvoBio lightning talk</title>
   <link href="/2010/04/27/iEvoBio-lightning-talk.html"/>
   <updated>2010-04-27T00:00:00-07:00</updated>
   <id>h/2010/04/27/iEvoBio-lightning-talk</id>
   <content type="html">&lt;p&gt;Submitting a five minute lighting talk on open science. &lt;a href=&quot;/images/8/89/Lightning.pdf&quot; title=&quot;Lightning.pdf&quot;&gt;Submitted version here&lt;/a&gt;, final text below. See the page revision history for earlier drafts and the original &lt;a href=&quot;#Call_For_Lightning_Talks&quot;&gt;call&lt;/a&gt; below. Special thanks to Sam, Alistair, Betta, Shaun, and Alex for feedback.&lt;/p&gt;
&lt;h3 id=&quot;my-experiment-with-open-science-why-the-benefits-of-sharing-go-beyond-source-code&quot;&gt;My experiment with open science: Why the benefits of sharing go beyond source code&lt;/h3&gt;
&lt;p&gt;The practice and philosophy of open source run deep within the iEvoBio community. Sharing source code has made software development faster and more reliable. Reuse helps catch errors, develop standards, provide more extensible platforms and ensure scientific reproducibility. It has helped foster a community that can tackle problems that would be impossible for single labs. Can an “open-source” approach benefit other elements of research? I discuss how I am fostering open science throughout my research process from my reading, through code development, my lab notebook to feedback and conversation. I highlight three themes that I have found most valuable: (1) Facilitating access and reuse. Content that is legally and practically accessible makes for more reproducible science, better error checking, and farther impact as more people may see or build upon it. (2) Linking data. In a web-native environment, everything can be archived, linked, tagged with keywords and searched. In this way, my content can connect to that of other researchers working on similar questions, data, articles or algorthms. (3) Networking people. The most successful tools not only link data but link people. This provides a network of expertise, a filter of exponentially growing amounts of information, and a source of inspiration and collaboration. I will briefly describe four tools that embrace this approach in different elements of my own research.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Literature&lt;/strong&gt; (using &lt;a href=&quot;http://www.mendeley.com/profiles/carl-boettiger&quot; title=&quot;http://www.mendeley.com/profiles/carl-boettiger&quot;&gt;Mendeley&lt;/a&gt;): My bibliographies for each topic become publicly visible collections. When other researchers do the same, the content is automatically linked to see how many people in my field are reading what articles, authors, journals and also generates recommendations. This tool also provides a network of contacts, following other public collections or collaboratively adding to one.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Code Development&lt;/strong&gt; (using &lt;a href=&quot;http://www.github.com/cboettig&quot; title=&quot;http://www.github.com/cboettig&quot;&gt;Github&lt;/a&gt;): My code development is regularly committed to a public version management repository. One can follow line by line changes, view my commit log and visualize branches and merges in the project. The code can be downloaded in the state it was at any point in its history to replicate my work and be reused in other projects. Github’s social coding tools connects me to similar researchers whose work I can follow, pose questions or begin a direct collaboration.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Lab Notebook&lt;/strong&gt; (using &lt;a href=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics&quot; title=&quot;http://openwetware.org/wiki/User:Carl_Boettiger/Notebook/Comparative_Phylogenetics&quot;&gt;OpenWetWare&lt;/a&gt;): I keep a daily online lab notebook on a community wiki. This binds and shares all elements of my work, from readings and meetings to mathematical derivations and simulations. Graphs, code snippets, spreadsheets, references, and even conversations can be embedded directly into the notebook. I can search the complete text, and organize by tags, links, and the automatic versioning archive. This facilitate sharing my work with collaborators, and has helped me discover new datasets and collaborations from other users on the site.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Feedback&lt;/strong&gt; (using &lt;a href=&quot;http://phylogenetics.uservoice.com/forums/43843-general?lang=en&amp;amp;utm_campaign=Widgets&amp;amp;utm_content=tab-widget&amp;amp;utm_medium=widget&amp;amp;utm_source=phylogenetics.uservoice.com&quot; title=&quot;http://phylogenetics.uservoice.com/forums/43843-general?lang=en&amp;amp;utm_campaign=Widgets&amp;amp;utm_content=tab-widget&amp;amp;utm_medium=widget&amp;amp;utm_source=phylogenetics.uservoice.com&quot;&gt;uservoice&lt;/a&gt; and &lt;a href=&quot;http://stackoverflow.com/questions/2134583/looking-for-fast-algorithm-to-find-distance-between-two-nodes-in-binary-tree&quot; title=&quot;http://stackoverflow.com/questions/2134583/looking-for-fast-algorithm-to-find-distance-between-two-nodes-in-binary-tree&quot;&gt;stackoverflow&lt;/a&gt;): Before forums, asking a question meant knowing someone who knows the answer. Online tools make it possible to ask questions to particular expertise groups. Questions and replies can be tagged, linked, and searched; cites automatically search for existing similar questions. They can also be rated, drawing more focus to those with more value to the community, and contributions can be tracked and rewarded, while profiles help identify contributors and provide elements of a human network. This is also well adapted to feedback between users and developers.&lt;/p&gt;
&lt;p&gt;I find this approach saves time as it integrates naturally into my workflow. It reduces errors through greater transparency and review. It increases quality through better access to expert advice and building on established work. It increases impact by connecting to other data and being amplified by other researchers in the network. The more researchers adopt these approaches, the more effective they’ll become.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Call For Lightning Talks&lt;/p&gt;
&lt;p&gt;&amp;quot;Lightning talks are short presentations of 5 minutes. They are ideal for drawing the attention of the audience to new developments, tools, and resources, or to subsequent events where more in-depth information can be obtained. Please also see our FAQ for more information (&lt;a href=&quot;http://ievobio.org/faq.html#lightning&quot; title=&quot;http://ievobio.org/faq.html#lightning&quot;&gt;http://ievobio.org/faq.html#lightning&lt;/a&gt;). Lightning talks will be part of the more interactive afternoon program on both conference days.&lt;/p&gt;
&lt;p&gt;Submitted talks should be in the area of informatics aimed at advancing research in phylogenetics, evolution, and biodiversity, including new tools, cyberinfrastructure development, large-scale data analysis, and visualization.&lt;/p&gt;
&lt;p&gt;Submissions consist of a title and an abstract at most 1 page long. The abstract should provide an overview of the talk’s subject. Reviewers will judge whether a submission is within scope of the conference (see above). If applicable, the abstract must also state the license and give the URL where the source code is available so reviewers can verify that the open-source requirement(*) is met.&amp;quot;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://ievobio.org/ocs/index.php/ievobio/2010/schedConf/cfp&quot; title=&quot;http://ievobio.org/ocs/index.php/ievobio/2010/schedConf/cfp&quot;&gt;From iEvoBio Conference&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;reading-notes&quot;&gt;Reading / Notes&lt;/h2&gt;
&lt;p&gt;Excellent article on organizing computational projects:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19649301&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Noble WS. .&lt;/a&gt; pmid:19649301. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19649301&quot; title=&quot;PMID 19649301&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19649301&quot; title=&quot;PMID 19649301&quot;&gt;HubMed&lt;/a&gt; [Noble]&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Referenced in &lt;a href=&quot;http://biostar.stackexchange.com/&quot; title=&quot;http://biostar.stackexchange.com/&quot;&gt;Biostar&lt;/a&gt; Bioinformatics forum.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.americanscientist.org/issues/id.3473,y.0,no.,content.true,page.2,css.print/issue.aspx&quot; title=&quot;http://www.americanscientist.org/issues/id.3473,y.0,no.,content.true,page.2,css.print/issue.aspx&quot;&gt;article&lt;/a&gt; on software carpentry idea&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot; title=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot;&gt;Talking about Science vs Doing Science&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/04/26/Teaching.html"/>
   <updated>2010-04-26T00:00:00-07:00</updated>
   <id>h/2010/04/26/Teaching</id>
   <content type="html">&lt;h2 id=&quot;gtc-assessment&quot;&gt;GTC: Assessment&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Today I’m facilitating the GTC session discussing Assessment. Here’s our VUE map of the activity.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/7f/Assessment-copy.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; What better way to begin a discussion about assessment than with an assessment? We began with a somewhat tongue-in-cheek quiz about the “right” way to conduct an assessment, modelling some common faults in poor assessments while also serving as a brainstorm to get some ideas out there. We presented some background theory on assessment, drawing from the excellent text: Handelsman, J., Miller, S., &amp;amp; Pfund, C. &lt;a href=&quot;http://www.amazon.com/Scientific-Teaching-Jo-Handelsman/dp/1429201886&quot; title=&quot;http://www.amazon.com/Scientific-Teaching-Jo-Handelsman/dp/1429201886&quot;&gt;&lt;em&gt;Scientific Teaching&lt;/em&gt;&lt;/a&gt;, highlighting three reasons for assessment:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Quantifying student performance, measure students as learners&lt;/li&gt;
&lt;li&gt;Measuring our own effectiveness as instructors&lt;/li&gt;
&lt;li&gt;Motivate students&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Handelsman offers a particular focus on the third with their concept enGauge, tools that both measure performance and motivate engagement with the material, often in real-time setting rather than waiting to the final exam. From here we moved into general discussion that visited various challenges in assessment, particularly in teaching and assessing &lt;em&gt;process&lt;/em&gt; rather than factual knowledge. &lt;a href=&quot;http://hdl.handle.net/10.1080/09500690010016030&quot; title=&quot;doi:10.1080/09500690010016030&quot;&gt;Moss (2001)&lt;/a&gt; also has an excellent discussion of this challenge.&lt;/p&gt;
&lt;h3 id=&quot;supplemental-materials&quot;&gt;Supplemental materials&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://dl.dropbox.com/u/3982238/Assessment.vue&quot; title=&quot;http://dl.dropbox.com/u/3982238/Assessment.vue&quot;&gt;VUE map&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dl.dropbox.com/u/3982238/Assessment-copy.pdf&quot; title=&quot;http://dl.dropbox.com/u/3982238/Assessment-copy.pdf&quot;&gt;VUE map as pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Introductory activity: &lt;a href=&quot;http://dl.dropbox.com/u/3982238/assessment_exam.doc&quot; title=&quot;http://dl.dropbox.com/u/3982238/assessment_exam.doc&quot;&gt;assessment quiz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/26/Adaptive-Dynamics.html"/>
   <updated>2010-04-26T00:00:00-07:00</updated>
   <id>h/2010/04/26/Adaptive-Dynamics</id>
   <content type="html">&lt;p&gt;Matching theoretical approximations to simulation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implemented the first analytic approximation, calculating the waiting time to complete phase 1.&lt;/li&gt;
&lt;li&gt;Established dimophisms are often still lost, hence the first successful completion of phase 1 (dimorphic population in coexistence region with each above threshold size) doesn’t match the time of the last completion of phase 1. Phase 2, an established third population seems to happen soon after the last successful phase 1, giving the illusion this step is easy rather than the reality that this process requires fast traversal to persist past the coexistence time.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;computing-notes&quot;&gt;Computing notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Making sure to export the library using useDynLib(file) in the NAMESPACE and using sfLibrary eliminates the need to load the dynamic library onto each node using the method from earlier .&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### News&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;My previous AD paper (preprint) now openly accessible on &lt;a href=&quot;http://www.arxiv.org/abs/1004.4233&quot; title=&quot;arxiv:1004.4233&quot;&gt;arXiv:1004.4233&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evolution-ievobio&quot;&gt;Evolution: iEvoBio&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Resubmitting proposal for lightning talk focusing on the open science aspects of the proposal.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://biostar.stackexchange.com/questions/857/any-open-notebook-science-in-bioinformatics/874&quot; title=&quot;http://biostar.stackexchange.com/questions/857/any-open-notebook-science-in-bioinformatics/874&quot;&gt;Discussion&lt;/a&gt; on stackoverflow-style site for examples of open notebook science in bioinformatics.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-notes&quot;&gt;Misc Notes&lt;/h2&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/23/Adaptive-Dynamics.html"/>
   <updated>2010-04-23T00:00:00-07:00</updated>
   <id>h/2010/04/23/Adaptive-Dynamics</id>
   <content type="html">&lt;h3 id=&quot;computing-challenges&quot;&gt;Computing Challenges&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;10 - 1p Adding solutions to yesterday’s puzzles, see Yesterday’s Entry&lt;/li&gt;
&lt;li&gt;The random number generator solution is imperfect, as it limits the total number of seeds to 1e9 since coercing to an integer will create NAs with larger numbers.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; seeds &amp;lt;- 1e9*runif(reps) out &amp;lt;- sfSapply(1:reps, function(i){ branch_simulation(seed=seeds[i]) })&lt;/p&gt;
&lt;h3 id=&quot;analytic-solutions&quot;&gt;Analytic Solutions&lt;/h3&gt;
&lt;h2 id=&quot;git-log&quot;&gt;Git Log&lt;/h2&gt;
&lt;p&gt;&lt;syntax\&gt; Created commit da58a6e: random number seeds now set to avoid parallel cores running with same seed&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;2 files changed, 19 insertions(+), 9 deletions(-)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;cboettig@wiglaf:~/Documents/ucdavis/research/adaptiveDynamics/code/branchingtime$ git log commit da58a6eb079a8ff9c2c28a2e5e1c27fe484f43fc Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Fri Apr 23 13:05:30 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   random number seeds now set to avoid parallel cores running with same seed&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 6e5363559f602d1dd2e2f8addec0716e8a5c842a Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Fri Apr 23 11:46:42 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   solution for exporting .C call to parallel cores&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; &lt;/syntax\&gt;&lt;/p&gt;
&lt;h2 id=&quot;other-work&quot;&gt;Other Work&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Completed review for Theoretical Ecology.&lt;/li&gt;
&lt;li&gt;Still finishing review for JTB&lt;/li&gt;
&lt;li&gt;PDG group reading &lt;a href=&quot;http://hdl.handle.net/10.1146/annurev.ecolsys.37.091305.110035&quot; title=&quot;doi:10.1146/annurev.ecolsys.37.091305.110035&quot;&gt;Nee et. al. (2006)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/22/Adaptive-Dynamics.html"/>
   <updated>2010-04-22T00:00:00-07:00</updated>
   <id>h/2010/04/22/Adaptive-Dynamics</id>
   <content type="html">&lt;h3 id=&quot;compiling-with-r-and-c-and-parallel-computing&quot;&gt;compiling with R and C and parallel computing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Problem:&lt;/strong&gt; cannot get the R code to take advantage of parallelization via openMP.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;C++ file mangles names in .so, changing the .C call. to get the object name:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;objdump -x file.so&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;Carl Boettiger 03:01, 25 May 2010 (EDT)&lt;/strong&gt;: More standard solution: enclose cpp code in&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; extern C {&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; - &lt;strong&gt;Problem:&lt;/strong&gt; Trouble getting R to export the C library to all nodes. (Sol’n thanks to Vinh on R-sig-hpc!) - Also, locating the .so file in a way that is independent of package installation, needs to find the package install. (Sol’n thanks to Vince on statcompsci). (Updated on 2010-04-23). - &lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;    loc &amp;lt;- system.file(package=&amp;quot;BranchingTime&amp;quot;)
    lib &amp;lt;- paste(loc, &amp;quot;/libs/BranchingTime.so&amp;quot;, sep=&amp;quot;&amp;quot;)
    sfExport(&amp;quot;lib&amp;quot;)
    sfClusterEval(dyn.load(lib) )&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Problem&lt;/strong&gt; Random number generator needs to be specified above the parallel computation loop. Easy to do in C, but won’t work for R where the random number generator is from GSL but the parallelization is at the R level. Will need to figure out how to generate different random seeds on each thread and pass that down to the C code…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now R generates and passes a random seed to the C function. (2010-04-23).&lt;/p&gt;
&lt;h2 id=&quot;git-log&quot;&gt;Git Log&lt;/h2&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;commit 9c4167b1943d8713ce179f48432fcb750fbda26d
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 19:03:09 2010 -0700
 
    removing unused C files integrate.c png
 
commit 73f389abbe53eb923f1aea49bc9f110cfa5531a7
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 19:01:52 2010 -0700
 
    minor mods
 
commit a8ca40ef883b1dd33e1b7ab27f8a215e7c2746f9
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 18:55:32 2010 -0700
 
    Working R calls
 
commit 7c565bef0a378a68ce2c0a2a1ad73c6039871431
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 15:31:10 2010 -0700
 
    rng initialized in outer loop
 
commit 60192d74b45c64423994b451aad6a7627e2a56b8
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 14:37:36 2010 -0700
 
    streamlining parallelization
 
commit a4de1d11a2a9ce0179636770246707b18c8d8c06
Author: Carl Boettiger &amp;lt;cboettig@gmail.com&amp;gt;
Date:   Thu Apr 22 13:03:03 2010 -0700
 
    reorganizing files by functions&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Adaptive Dynamics</title>
   <link href="/2010/04/21/Adaptive-Dynamics.html"/>
   <updated>2010-04-21T00:00:00-07:00</updated>
   <id>h/2010/04/21/Adaptive-Dynamics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Wrapping up paper on waiting time to branching in adaptive dynamics.&lt;/li&gt;
&lt;li&gt;Cleaning up code from summer. Now in a local git repository in adaptiveDynamics/code&lt;/li&gt;
&lt;li&gt;Moved ensemble parallelization to higher level, so parallelization can be performed in R or C.&lt;/li&gt;
&lt;li&gt;Adding documentation&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;current-status&quot;&gt;Current status&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Calculates the waiting time to complete phase 1, phase 2, and phase 3 successfully from individual-based simulation.&lt;/li&gt;
&lt;/ul&gt;
&lt;dl&gt;
&lt;dt&gt;Phase 1&lt;/dt&gt;
&lt;dd&gt;Completed when 2 branches exist over threshold
&lt;/dd&gt;
&lt;dt&gt;Phase 2&lt;/dt&gt;
&lt;dd&gt;Completed when a third population has established over threshold exterior to a stable pair
&lt;/dd&gt;
&lt;dt&gt;Phase 3&lt;/dt&gt;
&lt;dd&gt;Completed when two populations over threshold are separated in traitspace by more than finishline units
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;&lt;br /&gt; Notes —–&lt;/p&gt;
&lt;h3 id=&quot;thoughts-on-notebook-separation&quot;&gt;Thoughts On Notebook separation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Wrapping up the adaptive dynamics project from this summer at IIASA. Not really a comparative phylogenetics topic but it’s evolution and I’ve got to write it down somewhere, there are advantages and disadvantages of maintaining separate notebooks for separate projects. Since this is something I’ve been thinking about lately will take a moment to write it down.
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Advantages&lt;/strong&gt;: Provides a clearer progression of a single body of work. Particularly when two projects are entirely unrelated, interleaving them would be very frustrating. A very good search/tag/aggregation system would alleviate this. I should start using categories&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Disadvantages&lt;/strong&gt;: Selecting the division level for notebook. At what level does a project become an independent idea? i.e. is the stochastic population dynamics in structured populations independent of the warning signals work? There’s also content that isn’t directly relevant to one notebook or another. I think if I didn’t work in two separate labs (Hastings and Wainwright) everything would be one notebook.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;backup-and-local-editing&quot;&gt;backup and local editing&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Experimenting with &lt;a href=&quot;http://search.cpan.org/~markj/WWW-Mediawiki-Client/bin/mvs&quot; title=&quot;http://search.cpan.org/~markj/WWW-Mediawiki-Client/bin/mvs&quot;&gt;mvs&lt;/a&gt; commandline client to download and upload pages to the wiki, as &lt;a href=&quot;http://wiki.freegeek.org/index.php/Www-mediawiki-client&quot; title=&quot;http://wiki.freegeek.org/index.php/Www-mediawiki-client&quot;&gt;described here&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>R-sig-phylo</title>
   <link href="/2010/04/20/R-sig-phylo.html"/>
   <updated>2010-04-20T00:00:00-07:00</updated>
   <id>h/2010/04/20/R-sig-phylo</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;A couple &lt;a href=&quot;https://mailman.stat.ethz.ch/pipermail/r-sig-phylo/2010-April/&quot; title=&quot;https://mailman.stat.ethz.ch/pipermail/r-sig-phylo/2010-April/&quot;&gt;interesting discussions&lt;/a&gt; on R-sig-phylo&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;estimating alpha and sigma reliably, knowing when you hit a likelihood ridge. See discussion.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stat.ethz.ch/pipermail/r-sig-phylo/2009-June/000393.html&quot; title=&quot;https://stat.ethz.ch/pipermail/r-sig-phylo/2009-June/000393.html&quot;&gt;strange&lt;/a&gt; behavior in ace. Tried &lt;a href=&quot;http://ape.mpl.ird.fr/ace/ace.R&quot; title=&quot;http://ape.mpl.ird.fr/ace/ace.R&quot;&gt;new ace function&lt;/a&gt;, same problem.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt; Research ——–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Working on logs paper&lt;/li&gt;
&lt;li&gt;Waiting on Primate data&lt;/li&gt;
&lt;li&gt;Waiting on feedback on Labrids paper&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; DoE Conference Registration —————————&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Submitted Poster title and abstract corresponding to my iEvoBio proposal.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading&quot;&gt;Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.c2cbio.com/2010/04/18/episode-31-genes-patents-and-open-science/&quot; title=&quot;http://www.c2cbio.com/2010/04/18/episode-31-genes-patents-and-open-science/&quot;&gt;podcast&lt;/a&gt; on the Science Careers story.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nytimes.com/2010/04/18/education/edlife/18open-t.html?pagewanted=4&amp;amp;sq=Education&amp;amp;st=cse&amp;amp;scp=6&quot; title=&quot;http://www.nytimes.com/2010/04/18/education/edlife/18open-t.html?pagewanted=4&amp;amp;sq=Education&amp;amp;st=cse&amp;amp;scp=6&quot;&gt;NY Times on Open Education&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jopm.org/index.php/jpm/article/view/11/21&quot; title=&quot;http://jopm.org/index.php/jpm/article/view/11/21&quot;&gt;reputation systems&lt;/a&gt; in &lt;a href=&quot;http://jopm.org/index.php/jpm/article/viewArticle/12/25&quot; title=&quot;http://jopm.org/index.php/jpm/article/viewArticle/12/25&quot;&gt;peer review&lt;/a&gt;, two articles in &lt;a href=&quot;http://participatorymedicine.org/journal/&quot; title=&quot;http://participatorymedicine.org/journal/&quot;&gt;Journal of Participatory Medicine&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://weblog.jamisbuck.org/2010/1/26/there-is-no-magic-there-is-only-awesome-part-4&quot; title=&quot;http://weblog.jamisbuck.org/2010/1/26/there-is-no-magic-there-is-only-awesome-part-4&quot;&gt;piece&lt;/a&gt; on good programming&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;education&quot;&gt;Education&lt;/h3&gt;
&lt;p&gt;Fantastic collections on education&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cc.gatech.edu/aimosaic/faculty/nersessian/&quot; title=&quot;http://www.cc.gatech.edu/aimosaic/faculty/nersessian/&quot;&gt;Nancy Nersessian&lt;/a&gt;’s publications&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.citeulike.org/user/jsvoboda&quot; title=&quot;http://www.citeulike.org/user/jsvoboda&quot;&gt;Julia’s cite-u-like&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Also learned about &lt;a href=&quot;http://home.cc.gatech.edu/dil/18&quot; title=&quot;http://home.cc.gatech.edu/dil/18&quot;&gt;Ashok Goel&lt;/a&gt;’s group at intersection of cognitive science, computer science and education at GA Tech.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Alan Meeting</title>
   <link href="/2010/04/20/Alan-Meeting.html"/>
   <updated>2010-04-20T00:00:00-07:00</updated>
   <id>h/2010/04/20/Alan-Meeting</id>
   <content type="html">&lt;p&gt;&lt;em&gt;From 03/31, see &lt;a href=&quot;#Updated_Outline&quot;&gt;below&lt;/a&gt; for more!&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;outline&quot;&gt;Outline&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Title&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;On the ability to detect leading indicators of catastrophe in unreplicated time series&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Introduction&lt;/strong&gt; Background on Warning Signals&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mendeley.com/research-papers/collections/1374711/EarlyWarningSigns/&quot; title=&quot;http://www.mendeley.com/research-papers/collections/1374711/EarlyWarningSigns/&quot;&gt;literature&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Saddle Node bifurcation&lt;/li&gt;
&lt;li&gt;Detecting decreasing stabilization – gradual vs changepoint estimation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reasons detection can fail:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Ergodicity: ensembles vs single instances&lt;/li&gt;
&lt;li&gt;Sufficient statistical power&lt;/li&gt;
&lt;li&gt;Appropriate dynamics&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Methods&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Defining an indicator – significant Kendall rank correlation coefficient τ as in &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0802430105&quot; title=&quot;doi:10.1073/pnas.0802430105&quot;&gt;doi:10.1073/pnas.0802430105&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Simulation approach&lt;/li&gt;
&lt;li&gt;Analytic limits&lt;/li&gt;
&lt;li&gt;accounting for delay?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Figures&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Saddle node bifurcation example – should discuss difference between stochastic and deterministic edge?&lt;/li&gt;
&lt;li&gt;Single replicates using standard detection statistics&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Results/Discussion&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Misleading indicators&lt;/li&gt;
&lt;li&gt;Need for further exploration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Towards a better approach&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Estimating the linear system directly:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;estimating the exponential coefficient λ of the autocorrelation function directly. Contrast to the autocorrelation. Estimating spectral width.&lt;/li&gt;
&lt;li&gt;estimating variance directly: &lt;img src=&quot;http://openwetware.org/images/math/2/f/e/2fed1c2e179a9874a35108bdcbfdbd48.png&quot; alt=&quot;\frac{\sigma^2}{2\lambda }&quot; /&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Compare to ARMA approach of&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=19849710&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Ziebarth NL, Abbott KC, and Ives AR. .&lt;/a&gt; pmid:19849710. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=19849710&quot; title=&quot;PMID 19849710&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=19849710&quot; title=&quot;PMID 19849710&quot;&gt;HubMed&lt;/a&gt; [Ives2010]&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Changepoint analysis vs gradual trends.
&lt;ul&gt;
&lt;li&gt;i.e. &lt;a href=&quot;http://www.variation.com/cpa/tech/changepoint.html&quot; title=&quot;http://www.variation.com/cpa/tech/changepoint.html&quot;&gt;web example&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.gbv.de/dms/goettingen/230144551.pdf&quot; title=&quot;http://www.gbv.de/dms/goettingen/230144551.pdf&quot;&gt;book&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;Bayesian / Dirchelet Process Prior analysis,&lt;/li&gt;
&lt;li&gt;model selection.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Examples from software:
&lt;ul&gt;
&lt;li&gt;correlation C executable&lt;/li&gt;
&lt;li&gt;R: source(“warning_signals.R”) example.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;other-topics&quot;&gt;Other topics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;F1000&lt;/li&gt;
&lt;li&gt;Workstation order&lt;/li&gt;
&lt;li&gt;Adaptive Dynamics manuscript&lt;/li&gt;
&lt;li&gt;Labrids Manuscript&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;updated-outline&quot;&gt;Updated Outline&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Warning Signals intro (Alan)&lt;/li&gt;
&lt;li&gt;Scope &amp;amp; previous work -&amp;gt; 1D (Alan)&lt;/li&gt;
&lt;li&gt;Reasons Detection can fail (Carl)&lt;/li&gt;
&lt;li&gt;Methods -&amp;gt; defining an indicator (Carl)&lt;/li&gt;
&lt;li&gt;Simulation approach (Carl)&lt;/li&gt;
&lt;li&gt;Analytic limits (Carl – still to do)&lt;/li&gt;
&lt;li&gt;Accounting for delay (Carl – still to do)&lt;/li&gt;
&lt;li&gt;Results – saddle node (Carl – still to do)&lt;/li&gt;
&lt;li&gt;Results – single replicate (Carl – still to do)&lt;/li&gt;
&lt;li&gt;Conclusions (Alan / both)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;http://www.sciencemag.org/about/authors/prep/prep_init.dtl&quot; title=&quot;http://www.sciencemag.org/about/authors/prep/prep_init.dtl&quot;&gt;style guidelines&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/19/Research.html"/>
   <updated>2010-04-19T00:00:00-07:00</updated>
   <id>h/2010/04/19/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Sent Peter updated draft of Labrids manuscript&lt;/li&gt;
&lt;li&gt;Writing up logarithms manuscript finally…&lt;/li&gt;
&lt;li&gt;Contacting Helen re. primates data&lt;/li&gt;
&lt;li&gt;Created Labrid Functional Morphology literature collection:&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com&quot;&gt;Research&lt;/a&gt; collected using Mendeley&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Started stochastic methods and model inference collection:&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com&quot;&gt;Research&lt;/a&gt; collected using Mendeley&lt;/p&gt;
&lt;h2 id=&quot;various-to-do&quot;&gt;Various To Do&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Add Peter’s bootstrap references and books to stochastic methods and model inference library.&lt;/li&gt;
&lt;li&gt;Add Science of Science papers to Future of Science collection.&lt;/li&gt;
&lt;li&gt;Adding tags, abstracts, etc to Mendeley public Library&lt;/li&gt;
&lt;li&gt;Personal/extended task view (and opinion?) on R comparative methods?&lt;/li&gt;
&lt;li&gt;Summarize existing methods on notebook coverpage.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Reviewing ways to collaborate on LaTeX – hmm, converting into open office format may make the most sense for manuscripts, as layout isn’t important anyway. Mendeley plugin for references in openoffice is quite nice.&lt;/li&gt;
&lt;li&gt;Converting my LaTeX files to document format:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;latex2rtf simple, reliable for text, ok for figures, seems to fail on equations/symbols and formating.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.cse.ohio-state.edu/~gurari/TeX4ht/&quot; title=&quot;http://www.cse.ohio-state.edu/~gurari/TeX4ht/&quot;&gt;tex4ht&lt;/a&gt; seems the best way if the tex document is configured to produce dvi. Still need a pdflatex solution. i.e.&lt;/li&gt;
&lt;/ol&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;htlatex filename &amp;quot;xhtml,ooffice&amp;quot; &amp;quot;ooffice/! -cmozhtf&amp;quot; &amp;quot;-coo -cvalidate&amp;quot;&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;An &lt;a href=&quot;http://en.wikibooks.org/wiki/LaTeX/Collaborative_Writing_of_LaTeX_Documents&quot; title=&quot;http://en.wikibooks.org/wiki/LaTeX/Collaborative_Writing_of_LaTeX_Documents&quot;&gt;excellent guide&lt;/a&gt; here on collaborating on latex, basically through version management methods though.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.scribtex.com/&quot; title=&quot;http://www.scribtex.com/&quot;&gt;Scribtex&lt;/a&gt;, an online tex editor looks particularly promising.&lt;/li&gt;
&lt;li&gt;The openwetware page on LaTeX is also quite useful, and the OWW LaTeX extension makes OWW another LaTeX collaborative solution.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>MATICCE</title>
   <link href="/2010/04/18/MATICCE.html"/>
   <updated>2010-04-18T00:00:00-07:00</updated>
   <id>h/2010/04/18/MATICCE</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Testing out &lt;a href=&quot;http://redwood.mortonarb.org/lab_pages/hipp/&quot; title=&quot;http://redwood.mortonarb.org/lab_pages/hipp/&quot;&gt;Andrew Hipp’s&lt;/a&gt; &lt;a href=&quot;http://cran.r-project.org/web/packages/maticce/index.html&quot; title=&quot;http://cran.r-project.org/web/packages/maticce/index.html&quot;&gt;maticce&lt;/a&gt; package, &lt;a href=&quot;http://hdl.handle.net/10.1093/bioinformatics/btp625&quot; title=&quot;doi:10.1093/bioinformatics/btp625&quot;&gt;doi:10.1093/bioinformatics/btp625&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Goal of package is to model-average over trees and regimes. Takes a brownie approach to regimes, identifying nodes at which a transition may have occurred.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### The Approach&lt;/p&gt;
&lt;p&gt;Takes a brute force approach to avoid user-defined paintings in the ouch framework. Users identify nodes of interest, software tries combinations of possible shifts.&lt;/p&gt;
&lt;h4 id=&quot;runbatchhansen&quot;&gt;runBatchHansen()&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;User identifies a set of nodes of interest, and optionally a maximum number of transitions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;What models/regimes are tested?&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;You choose a set of candidate nodes and a maximum number of transitions that can occur (defaults to all nodes). For instance, you may specify four candidate nodes but set a max at 2 changes (three peaks). Then the batch will evaluate 12 models: the 4 choose 2 = 6 three-peak models, the 4 choose 1 = 4 two peak models, a single peak, and a brownian motion model. If you didn’t specify a max, it would allow the 1 five-peak (4 choose 4), and the 4 four-peak (4 choose 3) models, for a total of 17 models.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Has summary function. Model averaging is a weighted average by BIC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;characterStates – the trait data, currently must be one-dimensional, seems like it can be in ape or ouch format.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;nodes of interest have to be specified by listing all the species descendants. somewhat cumbersome.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Takes an ouchtree or list of ouchtrees.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Output&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;See loglik, sigma and alpha values of the models tested (doesn’t include brownian motion by default)&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;trialBayesConsensus &amp;lt;- runBatchHansen(ape2ouch(carex$ovales.tree), carex$ovales.data, carex$ovales.nodes[1:4], maxNodes = 2)
&amp;gt; trialBayesConsensus$hansen
[[1]]
     loglik dof sigma.squared theta / alpha
1  52.72744   5    5.31005363    331.626872
2  50.54000   5    5.86424413    337.252821
3  50.21561   5    6.04474990    343.369492
4  49.95720   4    5.14354118    289.387746
5  51.75330   5    5.12434568    308.473054
6  51.81077   5    4.84664447    292.440242
7  51.75142   4    5.16258108    310.762680
8  44.31518   5    6.55448190    297.993592
9  44.17736   4    8.49647580    384.329498
10 42.89766   4    6.87292796    296.238909
11 39.57676   3    0.09810907      3.341806
 
 
## See which nodes involved a shift:
 
&amp;gt; trialBayesConsensus$regMatrix
[[1]]
   1 2 3 4
1  1 1 0 0
2  1 0 1 0
3  1 0 0 1
4  1 0 0 0
5  0 1 1 0
6  0 1 0 1
7  0 1 0 0
8  0 0 1 1
9  0 0 1 0
10 0 0 0 1
11 0 0 0 0&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Where the four nodes are shown as separate columns, and there numbers correspond to their indices specified in ovales.nodes.&lt;/p&gt;
&lt;h4 id=&quot;multimodel&quot;&gt;multiModel()&lt;/h4&gt;
&lt;p&gt;For a focal node, there are 5 hypotheses we want to distinguish:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;BM&lt;/li&gt;
&lt;li&gt;OU&lt;/li&gt;
&lt;li&gt;Two OU&lt;/li&gt;
&lt;li&gt;Two BM, censored as separate sub trees (data of non-descendants is not considered)&lt;/li&gt;
&lt;li&gt;Two OU, censored.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Note that the first three of these cases are among the cases covered in a runBatchHansen() over the node.&lt;/p&gt;
&lt;h4 id=&quot;other-functions&quot;&gt;Other functions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;paintBranches() turns a maticce specification of a focal node into an OUCH regimes list, identifying the regime of each branch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Other Notes&lt;/p&gt;
&lt;h3 id=&quot;evaluation&quot;&gt;Evaluation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;A useful package for batch runs of hansen hypotheses, reasonably polished. Two chief drawbacks:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Method of specifying which nodes are of interest seems very annoying. Should require only two tips, and hence specify their common ancestor as the node. Should have an option to identify the node merely by id number.&lt;/li&gt;
&lt;li&gt;Having to specify nodes doesn’t really get around the painting problem.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;The parameter space of paintings is too big!!&lt;/em&gt; A new approach is needed to thinking about this; one that does not consider all possible outcomes as different models. (but of course I’d say that).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes-reading&quot;&gt;Notes / Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.slideshare.net/juansequeda/introduction-to-linked-data-2341398&quot; title=&quot;http://www.slideshare.net/juansequeda/introduction-to-linked-data-2341398&quot;&gt;Linked Data&lt;/a&gt; a new approach to semantic web ideas.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.newsweek.com/id/235084&quot; title=&quot;http://www.newsweek.com/id/235084&quot;&gt;Newsweek&lt;/a&gt; on why scientists are losing PR battle.&lt;/li&gt;
&lt;li&gt;Recently started wikipedia page on &lt;a href=&quot;http://en.wikipedia.org/wiki/Science_2.0&quot; title=&quot;http://en.wikipedia.org/wiki/Science_2.0&quot;&gt;Science 2.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://stackexchange.com/directory/list?sort=4&quot; title=&quot;http://stackexchange.com/directory/list?sort=4&quot;&gt;lots&lt;/a&gt; of Stack Overflow models. Came across: &lt;a href=&quot;http://www.semanticoverflow.com/questions/744/what-is-a-good-elevator-pitch-for-linked-data/767#767&quot; title=&quot;http://www.semanticoverflow.com/questions/744/what-is-a-good-elevator-pitch-for-linked-data/767#767&quot;&gt;Semantic Overflow&lt;/a&gt; (thanks Rod Page).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Headline text ————-&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>iEvoBio Submission</title>
   <link href="/2010/04/16/iEvoBio-Submission.html"/>
   <updated>2010-04-16T00:00:00-07:00</updated>
   <id>h/2010/04/16/iEvoBio-Submission</id>
   <content type="html">&lt;h3 id=&quot;quantifying-information-in-a-phylogenetic-tree-the-robustness-of-phylogenetic-signal&quot;&gt;Quantifying Information in a Phylogenetic Tree: The Robustness of Phylogenetic Signal&lt;/h3&gt;
&lt;p&gt;Since Felsenstein (1985)’s influential paper on phylogenetic contrasts, phylogenetically-based inferences of evolutionary patterns have gotten increasingly more complex (Hansen, 1997; Butler and King, 2004; Freckleton and Harvey, 2006; O’Meara et al., 2006; Pagel and Meade, 2006). More and more sophisticated models are applied to datasets of species mean traits on a phylogenetic tree in an attempt to answer such questions as reconstructing ancestral states, identify changes in rates of character evolution across time and across clades, identify the number and location of evolutionary optima or the strength of stabilizing selection. In each of these analyses, an ultrametric phylogenetic tree is the only source of temporal information to quantify these intrinsically temporally-based questions.&lt;/p&gt;
&lt;p&gt;The extent to which a phylogenetic tree can reliably shed light into the evolution of traits in the past depends not only on its size but on its structure. For instance, an unresolved or star phylogeny contains no information and renders phylogenetic techniques uninformative, regardless of the number of taxa. While the question of phylogenetic signal is not new (Price, 1997; Losos, 1996), there has been insufficient analysis of when a phylogenetic signal is substantial enough to inform the kinds of inferences we now routinely perform.&lt;/p&gt;
&lt;p&gt;I will present examples of how typical phylogenetic analyses are applied to trees that are insufficiently informative to choose between models. I will discuss ways to detect and quantify the power of a phylogenetic tree relative to common methods. I will introduce an actively developing open source software package for addressing these issues. In the spirit of the conference, this research and code are being developed and released in the open under GPL-v3.0 and Creative Commons by-sa licenses.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;NESCent proposal style topics:&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;possible-topics&quot;&gt;Possible topics&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Comparative Methods Workflow hackathon&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Interfaces between programs&lt;/li&gt;
&lt;li&gt;Extensibility of existing software&lt;/li&gt;
&lt;li&gt;Redundancy of approaches&lt;/li&gt;
&lt;li&gt;User / developer dialog and interface&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;2&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Reliability: evaluating the robustness of current methods&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Model choice criteria&lt;/li&gt;
&lt;li&gt;Robustness to assumptions in tree, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&quot;3&quot; style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Future of methods&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Bayesian implementations&lt;/li&gt;
&lt;li&gt;High-dimensional data&lt;/li&gt;
&lt;li&gt;databases, standards&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;h2 id=&quot;seminars&quot;&gt;Seminars&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Discussing &lt;a href=&quot;http://hdl.handle.net/10.1126/science.1084786_Harmon_et_al._%282003%29&quot; title=&quot;doi:10.1126/science.1084786_Harmon_et_al._(2003)&quot;&gt;doi:10.1126/science.1084786 Harmon et al. (2003)&lt;/a&gt; in PDG today.&lt;/li&gt;
&lt;li&gt;Considering how best to set up a Mendeley or Cite-U-Like collection for PDG. Ideally find a system where we might share individual comments or a collective rating of the paper.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Mendeley Public Collection&lt;/li&gt;
&lt;li&gt;Mendeley Shared Collection&lt;/li&gt;
&lt;li&gt;Cite-U-Like group&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;inclusion embedding (of Nescent ideas) done using curly brace transclusion, and&lt;/li&gt;
&lt;/ul&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;onlyinclude&amp;gt; &amp;lt;/onlyinclude&amp;gt;
&amp;lt;noinclude&amp;gt; &amp;lt;/noinclude&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Wikipedia:Transclusion&quot; title=&quot;http://en.wikipedia.org/wiki/Wikipedia:Transclusion&quot;&gt;wikimedia information&lt;/a&gt; for more details.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Wednesday</title>
   <link href="/2010/04/14/Wednesday.html"/>
   <updated>2010-04-14T00:00:00-07:00</updated>
   <id>h/2010/04/14/Wednesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;10-2p Finish preparing for EDG talk.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;2-3p. Talk went pretty well. Could still polish slides up for them to be useful, likewise for outline.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;3-4 OA meeting&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;4-9p awesome talk in &lt;a href=&quot;http://daviswiki.org/Education_For_Sustainable_Living_Program&quot; title=&quot;http://daviswiki.org/Education_For_Sustainable_Living_Program&quot;&gt;ESLP&lt;/a&gt; with &lt;a href=&quot;http://sustainability.ucsb.edu/academics/staff.php&quot; title=&quot;http://sustainability.ucsb.edu/academics/staff.php&quot;&gt;Katie Maynard&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Tuesday</title>
   <link href="/2010/04/13/Tuesday.html"/>
   <updated>2010-04-13T00:00:00-07:00</updated>
   <id>h/2010/04/13/Tuesday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Preparing for EDG talk&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/04/13/Teaching.html"/>
   <updated>2010-04-13T00:00:00-07:00</updated>
   <id>h/2010/04/13/Teaching</id>
   <content type="html">&lt;h2 id=&quot;misc-notes&quot;&gt;Misc / Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Starting to prepare for GTC sections&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;technology-and-education&quot;&gt;Technology and Education&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Open courses backed by learning research: &lt;a href=&quot;http://oli.web.cmu.edu/openlearning/&quot; title=&quot;http://oli.web.cmu.edu/openlearning/&quot;&gt;Carnegie Mellon&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.wallwisher.com/&quot; title=&quot;http://www.wallwisher.com/&quot;&gt;Wallwisher&lt;/a&gt; online notice board &lt;a href=&quot;http://www.wallwisher.com/wall/states-of-matter&quot; title=&quot;http://www.wallwisher.com/wall/states-of-matter&quot;&gt;example&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Open education featured in &lt;a href=&quot;http://www.nytimes.com/2010/04/18/education/edlife/18open-t.html?ref=edlife&quot; title=&quot;http://www.nytimes.com/2010/04/18/education/edlife/18open-t.html?ref=edlife&quot;&gt;NY Times&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;assessment&quot;&gt;Assessment&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;XP instead of grades? &lt;a href=&quot;http://terranova.blogs.com/terra_nova/2010/03/build-your-own-sheldon-syllabus.html&quot; title=&quot;http://terranova.blogs.com/terra_nova/2010/03/build-your-own-sheldon-syllabus.html&quot;&gt;Lee Sheldon system&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;another &lt;a href=&quot;http://www.switched.com/2010/03/26/prof-subs-grades-for-experience-points-presentations-with-quest/&quot; title=&quot;http://www.switched.com/2010/03/26/prof-subs-grades-for-experience-points-presentations-with-quest/&quot;&gt;Sheldon method post&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/04/12/Teaching.html"/>
   <updated>2010-04-12T00:00:00-07:00</updated>
   <id>h/2010/04/12/Teaching</id>
   <content type="html">&lt;p&gt;Notes potentially for my EDG talk.&lt;/p&gt;
&lt;h2 id=&quot;keeping-up-a-talk-to-edg&quot;&gt;“Keeping Up” – a talk to EDG?&lt;/h2&gt;
&lt;p&gt;Science is growing. Fast. Number of papers published. Genomes on Genbank. Software on CRAN. Everyone’s felt the pressure. So what do we do? Keeping with tradition, I’ll present my own work in developing comparative phylogenetic methods to identify niche differentiation in Labrid fish. I will try and use this context to pose the question – what do we do about this information explosion?? I’ll review some data to frame the rate of this change and highlight three particular challenges: (1) Big Science - Big Collaborations, (2) Evaluating Science: Quality, Reproducibility, Impact, (3) Rising Demand for Broader Impacts. I’ll review literature evaluating what is and isn’t effective, present a few examples and tools with which some hope to face these challenges and opportunities.&lt;/p&gt;
&lt;p&gt;I’m not really qualified to give an opinion on all this, but I’m interested to give it a try. Bring questions and opinions or maybe we’ll hear a lot more about multitype OU processes.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Exponential growth of science&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Publications&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1371/journal.pcbi.1000204&quot; title=&quot;doi:10.1371/journal.pcbi.1000204&quot;&gt;digital archive sizes&lt;/a&gt; 19 million articles in PubMed, search 60 million times/month.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://poeticeconomics.blogspot.com/2009/07/dramatic-growth-of-plos-one-soon-to-be.html&quot; title=&quot;http://poeticeconomics.blogspot.com/2009/07/dramatic-growth-of-plos-one-soon-to-be.html&quot;&gt;Open access growth&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;How many table of contents do you receive? Read?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Databases&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ncbi.nlm.nih.gov/genbank/genbankstats.html&quot; title=&quot;http://www.ncbi.nlm.nih.gov/genbank/genbankstats.html&quot;&gt;Genbank&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://datadryad.org/repo/factSheet&quot; title=&quot;http://datadryad.org/repo/factSheet&quot;&gt;Dryad&lt;/a&gt;, &lt;a href=&quot;http://www.sp2000.org/&quot; title=&quot;http://www.sp2000.org/&quot;&gt;species2000&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hdl.handle.net/10.1371/journal.pbio.1000309&quot; title=&quot;doi:10.1371/journal.pbio.1000309&quot;&gt;VertNet&lt;/a&gt;, &lt;a href=&quot;http://www.itis.gov/&quot; title=&quot;http://www.itis.gov/&quot;&gt;itis&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.nbii.gov/portal/server.pt?cached=false&amp;amp;space=Login&amp;amp;redirect=http%3A%2F%2Fwww.nbii.gov%2Fportal%2Fserver.pt%3F&quot; title=&quot;https://www.nbii.gov/portal/server.pt?cached=false&amp;amp;space=Login&amp;amp;redirect=http%3A%2F%2Fwww.nbii.gov%2Fportal%2Fserver.pt%3F&quot;&gt;NBII&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www3.imperial.ac.uk/cpb/research/patternsandprocesses/gpdd&quot; title=&quot;http://www3.imperial.ac.uk/cpb/research/patternsandprocesses/gpdd&quot;&gt;GPDD&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nature.com/authors/editorial_policies/availability.html&quot; title=&quot;http://www.nature.com/authors/editorial_policies/availability.html&quot;&gt;&lt;em&gt;Nature&lt;/em&gt; list&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Software&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;Felsenstein’s 379 and &lt;a href=&quot;http://evolution.genetics.washington.edu/phylip/software.html&quot; title=&quot;http://evolution.genetics.washington.edu/phylip/software.html&quot;&gt;given up&lt;/a&gt;?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/&quot; title=&quot;http://cran.r-project.org/web/packages/&quot;&gt;CRAN&lt;/a&gt; 2326 packages, &lt;a href=&quot;http://blog.revolution-computing.com/2010/01/rs-exponential-package-growth-ctd.html&quot; title=&quot;http://blog.revolution-computing.com/2010/01/rs-exponential-package-growth-ctd.html&quot;&gt;R’s exp growth&lt;/a&gt;, and adoption in &lt;a href=&quot;http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html&quot; title=&quot;http://www.nytimes.com/2009/01/07/technology/business-computing/07program.html&quot;&gt;NY Times&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Public repositories: Github, google code, Sourceforge.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://hdl.handle.net/10.1038/440413a&quot; title=&quot;doi:10.1038/440413a&quot;&gt;Nature commentary&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Luckily this is paralleled by the exponential growth of &lt;a href=&quot;http://www.slideshare.net/CameronNeylon/science-in-the-open&quot; title=&quot;http://www.slideshare.net/CameronNeylon/science-in-the-open&quot;&gt;your capacity&lt;/a&gt; and free time… whoops.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;big-science&quot;&gt;Big Science&lt;/h3&gt;
&lt;h4 id=&quot;collaborating-across-barriers&quot;&gt;&lt;strong&gt;Collaborating across barriers&lt;/strong&gt;&lt;/h4&gt;
&lt;p&gt;Which is harder: research &lt;a href=&quot;http://dx.doi.org/10.1177/0306312705055535&quot; title=&quot;http://dx.doi.org/10.1177/0306312705055535&quot;&gt;across institutes or across disciplines&lt;/a&gt;?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Geographic distance&lt;/strong&gt;:
&lt;ul&gt;
&lt;li&gt;Who has worked with someone at another institution? Multiple institutions?&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nescent.org/index.php&quot; title=&quot;http://www.nescent.org/index.php&quot;&gt;National Evolutionary Synthesis Center&lt;/a&gt;. who has attended working groups, catalysis meetings?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Collaborating across disciplines&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Rise of interdisciplinary centers, initiatives, and &lt;a href=&quot;http://hdl.handle.net/10.1126/science.1095480&quot; title=&quot;doi:10.1126/science.1095480&quot;&gt;education&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Effectiveness and Challenges&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.nescent.org/science/sos.php&quot; title=&quot;https://www.nescent.org/science/sos.php&quot;&gt;Science of Science&lt;/a&gt;, &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=501084&quot; title=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=501084&quot;&gt;New NSF funding&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://portal.acm.org/citation.cfm?id=1460563.1460633&quot; title=&quot;http://portal.acm.org/citation.cfm?id=1460563.1460633&quot;&gt;Who collaborates successfully&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://dx.doi.org/10.1287/mnsc.1030.0134&quot; title=&quot;http://dx.doi.org/10.1287/mnsc.1030.0134&quot;&gt;Successful working groups share knowledge externally&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;What makes these effective / ineffective? &lt;a href=&quot;http://csz.csu.edu.tw/pp/MISQ/2007/Vol.31_Issue.3/THE%20SPATIAL,%20TEMPORAL,%20AND%20CONFIGURATIONAL%20CHARACTERISTICS%20OF%20GEOGRAPHIC%20DISPERSION%20IN%20TEAMS,MIS%20Quarterly,2007.pdf&quot; title=&quot;http://csz.csu.edu.tw/pp/MISQ/2007/Vol.31_Issue.3/THE%20SPATIAL,%20TEMPORAL,%20AND%20CONFIGURATIONAL%20CHARACTERISTICS%20OF%20GEOGRAPHIC%20DISPERSION%20IN%20TEAMS,MIS%20Quarterly,2007.pdf&quot;&gt;Research on geographic distance&lt;/a&gt; and &lt;a href=&quot;http://scholar.google.com/scholar?as_q=&amp;amp;num=100&amp;amp;btnG=Search+Scholar&amp;amp;as_epq=Leading+Groups+from+a+Distance&amp;amp;as_oq=&amp;amp;as_eq=&amp;amp;as_occt=title&amp;amp;as_sauthors=&amp;amp;as_publication=&amp;amp;as_ylo=&amp;amp;as_yhi=&amp;amp;as_allsubj=all&amp;amp;hl=en&quot; title=&quot;http://scholar.google.com/scholar?as_q=&amp;amp;num=100&amp;amp;btnG=Search+Scholar&amp;amp;as_epq=Leading+Groups+from+a+Distance&amp;amp;as_oq=&amp;amp;as_eq=&amp;amp;as_occt=title&amp;amp;as_sauthors=&amp;amp;as_publication=&amp;amp;as_ylo=&amp;amp;as_yhi=&amp;amp;as_allsubj=all&amp;amp;hl=en&quot;&gt;more&lt;/a&gt; from &lt;a href=&quot;http://netvis.fuqua.duke.edu/papers/&quot; title=&quot;http://netvis.fuqua.duke.edu/papers/&quot;&gt;Prof. Cummings, NESCent&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;really-really-big-collaborations-informal-groups&quot;&gt;&lt;strong&gt;Really really big collaborations, informal groups?&lt;/strong&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Coordinate simultaneous development of a project with hundreds of collaborators? Regularly happens in software development&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://lumberjaph.net/blog/index.php/2010/03/25/github-explorer/&quot; title=&quot;http://lumberjaph.net/blog/index.php/2010/03/25/github-explorer/&quot;&gt;Computer Scientists work in huge groups&lt;/a&gt;,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://quaid.fedorapeople.org/TOS/Practical_Open_Source_Software_Exploration/html/sn-Foreword-Why_Traditional_Student_Projects_Are_Ineffective.html&quot; title=&quot;http://quaid.fedorapeople.org/TOS/Practical_Open_Source_Software_Exploration/html/sn-Foreword-Why_Traditional_Student_Projects_Are_Ineffective.html&quot;&gt;not often taught how&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Informal collaborations. Mailing lists, stackoverflow, social networks.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;evaluating-science-quality-reproducibility-impact&quot;&gt;Evaluating science? Quality? Reproducibility? Impact?&lt;/h3&gt;
&lt;h4 id=&quot;quality&quot;&gt;Quality&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Peer review/nature comments vs Amazon.com model… Cultural barriers. New solutions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;reproducibility&quot;&gt;Reproducibility&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.bepress.com/sagmb/vol4/iss1/art2/&quot; title=&quot;http://www.bepress.com/sagmb/vol4/iss1/art2/&quot;&gt;Reproducibility&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;impact&quot;&gt;Impact&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Article level metrics. Data contribution. software contribution.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rising demands for broader impacts. Science in the eye of the public. Communicating science.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Paper vs package. push button reproducibility. Open science&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Mailing lists. &lt;a href=&quot;http://stackoverflow.com/questions/2134583/looking-for-fast-algorithm-to-find-distance-between-two-nodes-in-binary-tree&quot; title=&quot;http://stackoverflow.com/questions/2134583/looking-for-fast-algorithm-to-find-distance-between-two-nodes-in-binary-tree&quot;&gt;stack overflow.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Social networks&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Picnic Day, Obama’s NAS speech, educational outreach, who should communicate science and how?&lt;/li&gt;
&lt;li&gt;Open = Impact&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt; - What is the minimum unit of science? A p-value? An equation? Definition? Hypothesis? A page or edit on a wiki? A paper. - What moves science forward in comparative phylogenetics. Lots of kinds of contributions: data, methods, software, technical support. - Synthetic science and linking big.&lt;/p&gt;
&lt;h3 id=&quot;ways-science-is-changing-to-face-these-challenges&quot;&gt;Ways Science is changing to face these challenges&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Generative Science, Synthetic Science, Open Science&lt;/li&gt;
&lt;li&gt;New thinking – google mindset vs yahoo. tags. &lt;a href=&quot;http://www.youtube.com/watch?v=x3wOhXsjPYM&quot; title=&quot;http://www.youtube.com/watch?v=x3wOhXsjPYM&quot;&gt;Everything is miscellaneous.&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Crowd sourcing&lt;/li&gt;
&lt;li&gt;Tools waste time / save time&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; From the eyes of a young college student, this is fantastic. This is the dawn of a golden era of science. From the eyes of an aging graduate student looking ahead on an uncertain career trajectory, this is terrifying.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Solutions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.slideshare.net/CameronNeylon/now-about-that-filter&quot; title=&quot;http://www.slideshare.net/CameronNeylon/now-about-that-filter&quot;&gt;filter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;survey&quot;&gt;Survey&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Use a social networking site&lt;/li&gt;
&lt;li&gt;have joined a scientific social networking site&lt;/li&gt;
&lt;li&gt;subscribe to a help mailing list&lt;/li&gt;
&lt;li&gt;have asked a question to a mailing list&lt;/li&gt;
&lt;li&gt;have answered a question on a list&lt;/li&gt;
&lt;li&gt;collaborated with someone at another institution&lt;/li&gt;
&lt;li&gt;have collaborated with someone they’ve never met&lt;/li&gt;
&lt;li&gt;read articles as pdfs&lt;/li&gt;
&lt;li&gt;keep pdfs in a database system&lt;/li&gt;
&lt;li&gt;used an encyclopedia in the past 5 years&lt;/li&gt;
&lt;li&gt;used wikipedia in the past 48 hours&lt;/li&gt;
&lt;li&gt;used software for analysis / calculations / figures yesterday&lt;/li&gt;
&lt;li&gt;how long would it take for you to reproduce that analysis now?&lt;/li&gt;
&lt;li&gt;how long to reproduce the computational analysis/figures in a paper you’ve published?&lt;/li&gt;
&lt;li&gt;how do you find most articles you read? ToC? recommendation? citation?&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;notes&quot;&gt;Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Post to friendfeed for input before presentation&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Primate chronogram</title>
   <link href="/2010/04/12/Primate-chronogram.html"/>
   <updated>2010-04-12T00:00:00-07:00</updated>
   <id>h/2010/04/12/Primate-chronogram</id>
   <content type="html">&lt;p&gt;From User:Daniel Mietchen/Notebook/Evolutionary MRI/2010/04/12:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://sites.google.com/site/chuanchuaner/&quot; title=&quot;http://sites.google.com/site/chuanchuaner/&quot;&gt;Jinchuan Xing&lt;/a&gt; recommended &lt;a href=&quot;http://www.pnas.org/content/107/11/4797&quot; title=&quot;http://www.pnas.org/content/107/11/4797&quot;&gt;New perspectives on anthropoid origins&lt;/a&gt; whose &lt;a href=&quot;http://www.pnas.org/content/107/11/4797/F2.expansion.html&quot; title=&quot;http://www.pnas.org/content/107/11/4797/F2.expansion.html&quot;&gt;Fig. 2&lt;/a&gt; goes into our direction.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Effective warning signals</title>
   <link href="/2010/04/11/Effective-warning-signals.html"/>
   <updated>2010-04-11T00:00:00-07:00</updated>
   <id>h/2010/04/11/Effective-warning-signals</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Predicting variance of variance by direct calculation – still need to crunch some math for the expected convergence.
&lt;ul&gt;
&lt;li&gt;Still, the approach should be able to do more than describe single points as unexpected deviates.&lt;/li&gt;
&lt;li&gt;Still need to address gradual change vs change point analysis.&lt;/li&gt;
&lt;li&gt;Essentially the same as the phyolgenentic problem – one rate vs two rates. Model selection approaches?&lt;/li&gt;
&lt;li&gt;So far theory is essentially built on a model selection between linear models.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Calculate the eigenvalue directly rather than ratio of eigenvalue to noise:
&lt;ul&gt;
&lt;li&gt;Estimate the eigenvalue from the correlation function and from power spectrum, rather than the lag-1 autocorrelation, or variance.&lt;/li&gt;
&lt;li&gt;Proper signal processing techniques for detecting bifurcations?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;coding-progress&quot;&gt;Coding Progress&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Added a proper autocorrelation function calculation, log transform and linear regression gives the eigenvalue and the variance.&lt;/li&gt;
&lt;li&gt;Tested using the Langevin model&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/a/4/b/a4b7d6a34ddae316029729bd7c1b9303.png&quot; alt=&quot;x_{t+1} = x_t \left(1- \frac{\kappa}{\gamma} \Delta t \right) + \Delta t \sqrt{\frac{2 K_B T}{\gamma} } \xi_t&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;x_{t+1} = x_t \left(1- \frac{\kappa}{\gamma} \Delta t \right) + \Delta t \sqrt{\frac{2 K_B T}{\gamma} } \xi_t&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Whose correlation function is given by&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/7/8/1/7811817fde052d555cadbfd36a77d213.png&quot; alt=&quot;\frac{K_BT}{\gamma} e^{-\kappa t / \gamma}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{K_BT}{\gamma} e^{-\kappa t / \gamma}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/09/Research.html"/>
   <updated>2010-04-09T00:00:00-07:00</updated>
   <id>h/2010/04/09/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Working on bootstrapping theta parameters&lt;/li&gt;
&lt;li&gt;bootstrapping multiple parameters doesn’t seem effective in the context of the boot package, despite claiming it can use a vector of stats. Certainly part of challenge is that different models have different numbers of parameters, so this isn’t a fixed size vector. Approaching manually for the moment, inhibits use of bootstrap confidence intervals function from the boot package.&lt;/li&gt;
&lt;li&gt;Some irregular behavior in bootstrapping parameters – have to load package and then reload likelihood_bootstrap library source file or else bootstraps are NAs, needs further investigation.&lt;/li&gt;
&lt;li&gt;formatting bootstrapping meaningfully – following the ouch style for the moment&lt;/li&gt;
&lt;li&gt;Sent Peter Wainwright a rough draft of Bio Let. manuscript.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;goals-todo&quot;&gt;Goals / ToDo&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Add bootstraps of parameters to manuscript,&lt;/li&gt;
&lt;li&gt;Function to bootstrap all parameters given list of all models. Plotting function also.&lt;/li&gt;
&lt;li&gt;Write up &lt;em&gt;Evolution&lt;/em&gt; note on AIC.&lt;/li&gt;
&lt;li&gt;Conference registrations&lt;/li&gt;
&lt;li&gt;NESCent whitepaper&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;primates&quot;&gt;Primates&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Graham pointed out a rather promising looking chronogram from a supermatrix for &lt;a href=&quot;http://hdl.handle.net/10.1186/1471-2148-9-259&quot; title=&quot;doi:10.1186/1471-2148-9-259&quot;&gt;Primate phylogenetic trees&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Contacted &lt;a href=&quot;http://www.ucl.ac.uk/biology/academic-staff/chatterjee/chatterjee.htm&quot; title=&quot;http://www.ucl.ac.uk/biology/academic-staff/chatterjee/chatterjee.htm&quot;&gt;Helen Chatterjee&lt;/a&gt; re: primate phylogenies.&lt;/li&gt;
&lt;li&gt;Also see project details in Daniel’s notebook&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reading-notes&quot;&gt;Reading &amp;amp; Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Embedding google spreadsheets sounds much more promising than formatting tables in OWW/html: Example from Anthony / Koch Lab&lt;/li&gt;
&lt;li&gt;OWW Stats&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://friendfeed.com/sciencecommons/1416691d/hi-everyone-today-i-m-here-discussing-my&quot; title=&quot;http://friendfeed.com/sciencecommons/1416691d/hi-everyone-today-i-m-here-discussing-my&quot;&gt;FF discussion&lt;/a&gt; on Chelsea’s Open Science article&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Embedding/Transclusion in &lt;a href=&quot;http://en.citizendium.org/wiki/CZ:Transclusion&quot; title=&quot;http://en.citizendium.org/wiki/CZ:Transclusion&quot;&gt;OWW/mediawiki&lt;/a&gt; and &lt;a href=&quot;http://en.citizendium.org/wiki/User:Daniel_Mietchen#Research_areas&quot; title=&quot;http://en.citizendium.org/wiki/User:Daniel_Mietchen#Research_areas&quot;&gt;examples&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Exploring gist for code fragments. Embeddable gist:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/08/Research.html"/>
   <updated>2010-04-08T00:00:00-07:00</updated>
   <id>h/2010/04/08/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Reviewed timescales manuscript.&lt;/li&gt;
&lt;li&gt;Revisiting&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;meeting&quot;&gt;Meeting&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Basically I want to apply central limit theorem for stationary processes (accounts for covariances), assuming mean zero&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/4/1/141abb117709d04302d240f2cbbf2df6.png&quot; alt=&quot;\frac{X_1 + … + X_n}{\sqrt{\sigma^2 n}} \propto N(0,1)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{X_1 + … + X_n}{\sqrt{\sigma^2 n}} \propto N(0,1)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/b/7/2b7baf7dc6d72616ccd1a5d72d4323cf.png&quot; alt=&quot;\sigma^2 = E X^2 + 2 \sum_{i,j}^n Cov(X_i, X_j)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\sigma^2 = E X^2 + 2 \sum_{i,j}^n Cov(X_i, X_j)&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Discussion of &lt;a href=&quot;http://en.wikipedia.org/wiki/Freidlin%E2%80%93Wentzell_theorem&quot; title=&quot;http://en.wikipedia.org/wiki/Freidlin%E2%80%93Wentzell_theorem&quot;&gt;Freidlin–Wentzell&lt;/a&gt; theory in connection to Arrhenius law and the well-defined stochastic tipping point which occurs before the branch point.&lt;/li&gt;
&lt;li&gt;Kurtz results don’t really help in the case of ergodicity, can make statements about the (even non-stationary) ensemble limit.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Goals / To Do&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;send Alan manuscript outline on ergodicity problem&lt;/li&gt;
&lt;li&gt;Finish both reviews&lt;/li&gt;
&lt;li&gt;variance of variance calculation!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Comparative Phylogenetics Notebook</title>
   <link href="/2010/04/08/Comparative-Phylogenetics-Notebook.html"/>
   <updated>2010-04-08T00:00:00-07:00</updated>
   <id>h/2010/04/08/Comparative-Phylogenetics-Notebook</id>
   <content type="html">&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Wrote summary function using bootstrap confidence intervals for the bootstraps of the likelihoods directly.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;On interpreting&lt;/strong&gt; the bootstraps of likelihoods directly:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;The extent to which the distributions themselves are distinct provides an indication of the ability to distinguish between models on the given phylogenetic tree and the actual data. For instance, if the tree was a star tree and the data produced by either BM or OU1, then all distributions would fall on top of one another.&lt;/li&gt;
&lt;li&gt;The extent to which the observed likelihood matches those produced by the bootstraps under that model gives an indication of how well that model is fitting the actual data.&lt;/li&gt;
&lt;li&gt;May also be interesting to look at the bootstrap confidence intervals around theta parameters, to see if they are distinct.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;labrids&quot;&gt;Labrids&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAADIAAAAyADrSnyWAABaRElEQVR42u29Z5Ac95nm+cvM8t609wbohjckBIIAKIISjShRtKJEiZJmZnUbcYq5nZidudXtxZjQzsxqNXMxihntfpiQdKuQ9kjKgEb0FEHQgAThG64J0432vru8zaw096HUBba6G2iH7oZYD0NBsbqy6l+Z+eT/tc8rGIZhUEQRRcwIsXgKiiiiSJAiiigSpIgiigQpoogiQYoookiQIoooEqSIIooEKaKIP1CYiqfg2lBVlZ6eHjKZDMFgkMrKSgRBmPG9siyjqipOp7PwWiqVwmQyYbVaF7UOXdcZGRmhrKwMk8nEyMgINpuNbDaLJEnYbDbcbveUY8bHxzGbzWQyGaxWK4Ig4Pf75/R9siwTDoeprKz8RF9/6bvf/e53izSYHSMjI3z7299mZGSEF198kXXr1tHR0UF/fz/l5eW0t7dz/PhxXC4X7733Hm+++SYNDQ0cPXoUk8nEU089xfj4OKIocunSJVRV5ejRo2iahqqqnD59mv7+fmw2G+3t7bS3t2M2m0mlUhw9ehSn00k8Hufdd9/lhz/8IXfccQdOp5Pvfve7aJrGyZMnOXLkCNFoFI/HQzab5ciRIwiCwE9/+lNCoRAnTpzg0qVLvPnmm0iShM/n48qVKxw7dgyHwwHAu+++SyaTwefzceLECQ4dOsQvfvELmpubaWtrw+FwTCNgcQcpAk3TyGazuN1uJiYmeOeddzhy5AiGYbBr1y4+/PBDamtrefXVVwkGg4yOjvLDH/6Q8+fPs2XLFoaHh5FlmRMnTjA8PMymTZs4cuQIdrudPXv28Prrr+P1eqmurubkyZPs2rWLp556CpvNhiRJvPLKK2iahmEYDA4OMlkZlEqliMfj9Pb2YrVaef755xkbGyMSidDV1YUgCBiGQWVlJd3d3dTW1nLx4kV6enpoamqiq6uLmpoaXn31VWpra7ly5QqqqnL77bdz/PhxvF4vfX19/P3f/z2pVIpdu3bxn/7Tf0IUP1lWedEHmQOsViu1tbXkcjna29vZvHkz69at4+jRo3i9Xp588kmi0Sh1dXWUlZWxc+dOqquruXz5MqIo0tLSgtVq5Ytf/CKlpaWIokg0GiWdTrNp0yY2btzIlStXqKio4Ktf/SpDQ0O0tbVhtVoJh8P09PTwwAMP4PV6+XjpnKqqJBIJDMPg2LFjAFy5cgWz2YyiKGQyGXRdJ5FIoOs6+/bt48477+TChQs4HA6+8Y1vMDExwdmzZ7nvvvuw2+0cOXKEzZs3c++992Kz2di1axcul4uOjg5kWS6aWEVMRTab5Z133iEWi+FyuXjkkUc4dOgQqVSKf//v/z1dXV389re/5c4772TDhg1cuXIFu91OIpGgtLSUuro6YrEYDoeDxsZGUqkUfX19NDU14XA4eO211zCbzdx2220cOHCArq4u9u7dy86dOwmHw9x5553U1dXx+uuvEwgEuO+++7DZbJw+fZr6+noURaGkpITdu3czMTHBli1bmJiYYNu2bXg8Hmpqashms1RXV+P1enE4HJSUlKDrOq+88gp79+5l3759PPvss9TW1vLkk0/y1ltv0d7eTn19PV6vl0wmQ319Pbt370aSpE/U9ReK1bzXd46TySS5XA673Y7D4SCVSiEIAg6Hg2w2WzDBBEEgk8lgMplIpVI4HA4kSUKWZSRJwmQyIQgC2WwWm83G008/TSQS4U//9E/58MMPefnll/mrv/qrgl+QTCZxOp0IgkA6ncZisRSc7UwmgyRJaJqGIAiIooiqqpjNZtLpdCEoIIoimqYhiuKU4IJhGGQymcK6k8kkVqsVq9VKKpVC13WsViu6rpPJZHC5XJjN5k/c9S8SZAURjUbRdZ1AIEA6nSaRSFBeXl48MUWCFFFE0UkvoogiQYoookiQIoooEqSIIoooEqSIIuaBG1pqksvlUFV11uK+IoqYK5Yi2CoIAhaLZV7lMqYbSY6DBw8iCMInLvtaxNJBlmUGBgbweDyLIokgCMRiMe68807WrVu38gRRVRWA3bt3Y7FYluVkCggYGIV/ryYs1ZomixCXbF1L/HlLes4EgYmJCex2O7fffvui1ilJEocPHyYaja4OE0sQBEwmExaLZVkIoqISI4YfP5FcBI/Jg1lYHaURmqERyUQI2AOIwsLdPk3TiKaiBNyBJTFbFUUhkUgQCARW7Q4yWV5js9kW/VmTZTqfSCd9ggme4RkyRoanx55mIjexataWVJI8c/4ZMmpmUZ8TSoT4X2/+L1RNXZJ1dXd38+yzzxbtuE8CQXR0kiTR0EhqSTRDW1UOZjqXXrQpo+s6yUxySf3EVCp1U13nJEmGGSZKtGCyZjIZjh8/fkO+7w+mYcqPnzBhfiL8hMdKH6PEXLJq1ua0OPnShi9hN9kX9xvdfp6464klC3o0NDTw0EMP3VTX+Sme4p/5Zx7gAf6Rf8SMGVVVeeuttxgdHaW1tZXe3l6i0ShOp5Pdu3fj9XqLBAkR4mVeJkeOx+yPYcO2atZmFs00+5sXb0ObraypXrNk63K5XLhcrpvuOnfQwRBDU4IeFouFYDDI/v37cblcGIZBWVkZfX19bN68uUiQfvoZZBANjYPpgzxpexKLaFkVa8tpOTojnawNrMUkLvyUyzmZ7uFuWmpbFuXsTyIejzM2NsaaNWtumuv8OI+zkY1UU43pd7fvZF6jq6uL+vp6fD4fVqsVj8ez6B6WPxiCXOEKZszYDTv/c+J/cn/5/VRYK1bF2lK5FL+5+Bv+j53/By7Lwp/YkUSEZ997lu888R1E0+IJ0t/fz5tvvsmf//mf3zTXee3v/vk4HA4H/+7f/TtyuVwhXyIIQqGRrEiQ3+0gVVRhwoQiKUjC6klOioKI2+pedGhWFEVc9qUziUwm0xSJopsVgiDg8/lmDURMEmbZCBKLxUgmk/T29tLa2kowGFzxk9RHH2tZiyqolJSXUCKtHifdZXHx5OYnr+ukG4bBQGIAt8WNzzb9ggc9Qf7ovj/CJC3Nc62pqYmKioqbigwdmQ4upC5Qba1mu3s74u8CsYqiFNqidV1HEASi0Si/+c1veOSRR+asBzbtobSQgw4ePMizzz5LMpnk4MGDK56JVVAYYYRmmqmhhrQpjSasnjCvKIj4bL7r+g3nxs7x8C8e5u/f+3tyem7a3yVRwufyLVltm9lsXlSEZyXwy7Ff8tDZh/h+3/dRdbWwS7zyyivs37+fEydOcOrUKQ4fPlzQEsjlcgu/dgs5yOl0FsJodrt9xYsRM2QYZxwZmRJKODl+kn/s+0euZK6siouaUTO83fM2iqZc832vdLzC2ZGzvHjpRQbiA9P+nswkefv022j60pB/bGyMDz744KYiSJmljHWuddTZ6gr3naIoJJNJPB4Pg4OD9Pb20tXVhd1up7y8fFEP8AURxOfz0djYyJUrVzCZTNe0DZcDMjJhwowyijPrpKuni+/3fJ//1vffUAxlxS9qVs3yft/71ySIrMl80PcB+xr3IQoil0OXp70nkU7wXtt76Lq+JOsaHR3lyJEjNxVBvlb2Nd7a9hZ/Xf/XmARTwUlvbW0t1GxZLBaqqqrweDy0trYuys9akDGbTCZxuVxYLBay2ewUJ2hwcJDx8XGy2SyDg4PLctKSJIkTp4YaRkZGqKSSb9V/i2dGnqEr08U6x7oVvahm0czawFokcfbAwWB8kO5IN3+680/5+Zmf0xnu5L7m+6a8x2qxsqZ2zZI9eDweD5XVlZy5coa6sjr8bv+qJ4hLcuGSXNMexDt37iz898eTn+vXr1+cebyQg+644w62bdvG2rVrufPOO6dcMLvdjt/vx+VyEQqFluxpdy1MMIEDB7uV3bw78S5ihcid5XciCRJnkmdWhZN+vUz6hYkLyJrM3rq9VLoruRKebh763X6+ctdXlsxJr6+vx1Rm4r7/dB/ff+b7S1bjtZqgqurym1iSJBEIBHC5XPT19U1ZQCAQoL6+nrq6Oux2+7I48CFC2LBxOX6ZTq0Tza/hsDiot9ZzPnV+xS+S8bt/roUP+j6g3ldPo6+RGk8NA4mB6fVkS3wqVU3ltaOvoWoqL77/Ij0jPav+hn+7523+rwP/F0+ff3rK+clkMsTjcTRNKzjmJ0+e5Oc//zkHDx5cXoIcP36cN954g8OHDzMyMrLiTnqYMGnS/Dr2a7w2L9aklayWZY19DR2ZDnT0FV1fSknx7EfPzlrNG5fjfNj/IbfX3I7b6qbaXc1wYhhZnaqFG01G+fW7v16yJ31fXx+HDx3mj+//Y8wmM++fe3/VE+T93vf5p4P/xHPtzxWCFblcjldffZXnnnuOY8eOcfLkST744AN0XWfLli2EQqHlJcikvKbVai34ICuJECE0XSOSjHC7+3bsWTtZI0uzvZl+uZ+kmlzR9eX0HB3hjlmjTyeHT9Ib6y34HJXuSpJKkpgcm+rsK1ku915esvM9Oj5KJprh3h33ckvLLRw8dXDJImQ3CpvLN/P49se5o+GOQthcURTS6TRut5uxsTF6e3vp7u5mYGCA9vZ2br311uV10vfu3cvg4CCqqlJdXb3iO8gYY5gUE4ZicLvrdjqsHcSlOLXWWhJqgoiab6BaKdhMNu6ouwOLZJnR/Hrh4gusDa5le+V2AEqdpciqTDwbp9J1dYCNy+Hijm13LNkIgoSawOQ30VzVzGe2f4Z/euafGBgfoL68ftUS5OF1D/PwuoenvOZwONi0aROhUIitW7dy/PhxysvL0XWdXC5HKBSiubl5+QhiMpmor18dJ9HAYJxxBFnIb6n2LZjcJqJE2WrdSlpPE1Wj1LNy67Wb7Oxr2Dfj30aSIxzqO8SfbPuTQp1Wib0ERVNIKIkp73Xb3Xxm+2eWbF0DsQE8VR58Lh97N+/lvz393zhw8gDf+vy3bipHXBAEtm/fXvjvz3/+80v22Td9w5SGRpgwSlbBKTppsDZg1+yECVNqKUVAYEQZWdE16oZOJBtBN6b7Qh2hDqLZKLtrdxdeK3WUggAT6aldkZquEU1Gl8zEGhwbpMRZgtVspbGykc/t/Bz/89X/yXBoeNVeb13XyWm5OZmCsViMs2fPLr8PspqQI8cYY6SyKfwWPw7RgWXUQlgJ45AceEweBpXBFV1jUknyzLmZW27Pj50nYAtQ66m9ajKYHbgtbkZSU4kdjoeXtOV2aHCIEqUEm8WGIAj87w/+7yTTSf5l/7+gaavTF/nF27/g3v/zXr731PemnIcLFy7w4YcfMj4+zvDwMAMDA7S1tXH8+HFee+215fVBVhMSJEiRIiWn8Jq92EQb5pyZuBHHZrLhkTyMKWMrvoPE5NiMT/5LoUvUeGumFCdaTVbcVjfhdHjKe1VdJZqILsmaVF1lPDxOmb2skFdprW3lPzz2H/jeU9/jq5/9KtvWbFt117trsIt3jrxDibuksCOn02lOnDiB1WplfHwcl8tFMplkzZo1mM1mrly58skmSEbPYFbMNNub8YpeqkuriZljOAQHfpOfIWVoRdfoNDt5dP2j2ExTuxxlVaY32kuTv2mKA28z2fBYPdNMLL/Lz5f2fWlJWm4zcoZILsLG1o1TXn9w94P86OUfceDkgVVJkHs+dQ82q411desKlQmT6jnpdJqamhrOnDlTkDOajG59ogmS0BOYVTN1ljoEBMod5ZzgBBISZZYyxpVxckZuxWSAzJKZ1mDrtNfTapqx1Bh3Nd41Lerls/oYT49Pfd1iY33d+iVZk6zIpHIpquqqprxe5i9j57qdHD5/GPlRGavZuqqu923rb+O29bdNec1isXD//feTzWYJBoM0NTVhsViw2WyEQqFFtWPc9D5IjBgxPYaiKqjmvE1qzpiJ63FkZKosVYTVMIq+ckWLk3mQyfLsj/smoUyIOm/dtGNKnaWEM+EpBY5yTqZzqHNGZ3++yCpZwtEwRnq62bejdQeXBy4TiodumvvA4/FQVlaGJElUVFQQCARwOBzU1tYWRtp9IgkyyiiGbpDUkpy2nEZGpne8l2QuSZo0peZSImqEnJFbsTWmlBTPX3ierJqd8vp4ahzd0Cl3Th+7FrQHicvxKQSJJCL86u1fLYkDncwmCY+HudR2adrfWmtbUXIK/WP9q+56j4yMcOrUKXp6eqZN/JVlGcMw0HW9UAN46tQpzp49+8klyDjjWHNWHDhwm/O2plW0khbSZMhQaakkpsZIaSun/yQIAjaTbVpCdTw9jlk0z9g96LP5SCrJKY1ToiBisyyNWkskEcn7R47ppeDVpdVIkkTfaN+qu95PPfUU+/bt4+/+7u8KjVCqqvLaa6/xq1/9ira2Ntra2jhy5Ahnzpzh1KlTDA0t3Ae96X2QMcbQVZ1KsZJvSt/EipXPln+Wt0xvkSFDwBzAMAwiaoRqa/WKrNFlcfHkluktt6F0CJNkmpEgJY6S/A6iXt1BAp4A37z3m0tSzRtNRCmpKOGhR6brYgU9Qcp8ZXQOdq666y2KIiaTacrU3mw2SzQaxe1209PTgyAIpFKpgmrLpE70J5IgI4yQU3M4BSc1Yg0ADeYGNDRSpPCZ8q2uETWyYmuUBImgfbqjOJYaw2l24rV6ZySIrMrElTjl5E0wk2SixLs0vfaJTAKbzUZF2fSedKvZSnVpNb2jvavuen/961/nnnvuwev1Fpr1HA4HTU1NhEIhduzYwYcffojP5+OLX/wi0Wh0UeqRNzVBsmQJEUJURXJCjnPSOWqooT3WTswVIybFaJAakASJmBpbuXWqWU4MnWBn9c4p4dzBxCBlzrIZa7TcVjeiKBLJXiV2KpvidOdpdm3Ydc3mqzntIMkoiViCC+cvUPuZ2qk3hWSiuqSai30XUTV1yfpPlgKlpaWUlpZO21X27NlT+O/HH3+88P8X23Mv3uwECRPGnXOjiApHpaNkjAwfRj5EU/MlKF6TFxOmFRWzzqgZ3ul5Z4rDbRgGoXSIgD0w483uNDuRBImEfLUeK56Kc+DEgSVpQosmo0QmIpw8dnLGv9eU1hCKh0ikE3yScdMTZIIJrDkrFaYKGoVGJCRa7C34RB8hQthFOx6Th1FldMXWaRbNNPgapmh1aYbGaGqUcmf5jGonTosTk2giqSSnmD71lfVLUj0dToSprqimrq5uxr+X+8tJZVNLKpa9EBiGsaLtFDe1iRUlSpIkkirRZGriq3wVm2Djj8r+iJeElwgTxiSYCJqDjOVWrtzEaXHy5Y1fxiyZp+wqkUyEMmfZrI69JEhEMldNLL/bz9c++7VFmzy6oROKhdi6cStfeuxLM76nIlBBOptecYJYLBbC4fCi1VdEUeTixYts2LBh+QiSTqex2WxL1p+wkAiWaIiYNTNuk7uQKXfixIOHCSbyDrI5SCgXKkyfWm4ICEiCNOW743KcjJqZlSBOsxO72T7FBxEEYdG+B+QrYhPpBH63f1ZVmlJfKZquMR4bZz3rV4wgbrebffv2LUrbapIgoihit9tvPEFOnz7NRx99xOXLl7nrrru48847V+TkjTOOCROiJmLYDV7iJT5nfI7XJl5D9+mEzCEQoNRcyrnUOTRDK0jFLCdSSorXOl/jgZYHCvVYKSWFoin47TMriZhEE36bn1AmNMVvOHDyAA/vfXhRu4hhGKTkFFbdyuuvv84XvvCF6Tem3Y3T5mQ0snKm6eRDYTG1VB+H1+udd8h3QY/+yspKvF4vZrOZpqamFTt5QwxhMSyYVBNmycwlLpEjx0epj3DrbiJE0NAot5QTVaMrlixUdIULExemlJok5ARZNTvrDiIKIh6rh2g2etUskzO0d7Uv2ibXdI1YMoau6HRc7pjxPXabHafNyUR09UzqWgl/ZsG2USaTIZ1Ok0yunI3aTz9OzYmhG1SZqriN27BgYZd3F3VSHVGiKCiUmcvIaJkVI4hNsrGrZtcUH2QiM4GAMGN+ZJIgTouTeDZeqL1y2p3s2rRr0SZtKpsilU2xtnEtO3bsmNnEszpx2V2Mx8aLUaz54ujRo3g8Hr7whS9w8uTJKaycbKBPpVKLymBe145GZ5hh/LofDKg31bOPfVgFK5/1f5a1prVEiCAj4zP5kA2ZtJ5ekZNsN9u5p+kerNLVytjh5DBemxeH2TErQQL2AJFspHB+PQ4P933qvkX7IRk5g6qptK5pZe8de2des9WO3+3/g9pBlo0gO3fuRNM0JiYm2L1795SwY29vL0eOHOH48eNEIpEbJuigoDDIIKV6KRj5p3SGDAYGGS1DmVFGkiQJElRYKshoGeJafEVOsm7oxOX4lAfJRHoCp8U5rUfk4wjYA8TleKEea9K5Xuw46bScRtVUbGYb2Ux2Vtu/1FfKRHziD1JQ7oYSpKKigvvvv5/Pfe5z0+y65uZmPv3pT7Nnzx6CweANi2FHiBAnToVekXc6xdTVKbejT6PmVERExhknYAogCRITyso8DWeacjuSGMFv88+6gwB4rV4yaoZ0Lr/zhRNh/r8D/9+id+askpdqGh0aZf/+/bMT1B0gloqR03KfWIIsKBQyNDTEqVOnkGWZmpqaKZIqk+E0s9l8Q8O/IUKkSRPUg+joOEwO+ulHQ2MsN0aNUYMJE2HC1Eg1uCU3I7mVEW/QDZ1QOlTwJSaThCWOkhnLTCbhs/lQNIV0Lk3AHiCn5RiPLN4nyCpZDAysJisTQ7M/NAKeAJFEhJyaw26xFwkyV0z2//p8Pjo7O9m5c+eya2MNM4yKSkAPkNWz1Iq1tNCCXbDzYMmD2Ew2JCTGGMMhOnBIjhUrN3GYHTzY+mDBnJJVmVAmxPaK7dc8zmV1oekaspZXWPS5fDxyxyOL9kFSmRRKTmF9y3q8G2avVSr3lxNLxZAVGRyfSH4szMTatWsXANFolD179qyIcFw33QQJIqkSgiBQZipjAxswYWKjcyMVUgVu3AwzjF204zV5GZFXZgexSBY2lW0qDPBUNOWaWfRJeCweFE0hk8ubZnaLnc1Nmxe9M0eTUSRRorqimtZ1rbO+z+/2o2oqsXSMTyoWtIOUlZVx3333rejCu+iilFIETcApOdEFnQEGqKSSwewgfoufMrGMQQaRRIkycxljuTF0Q1+SCbHzgaqrDMQHqPXUIokS6VyaSCZClbvqmsd93MQCUFSF4dAwdWV1i3ooxVIx3A43OSXH4OAg1dUz98l4nV4EBGLJTy5BbspiRRWVHnqoow5ZlbGJNuJCnF/xKzJGhl+O/5JYLkYllQyTF0GrsFQQyoVWZKBOUkmy/6P9BSc9lAnN2mo7ZQexehAFsZAsjCQiPHPwmUVHlaLJKE67k6GBIV54/oVZ3+e0OUHIm2RFgtxESJNmhBEaaSSrZ7GLdsyCuTDQUULCjJlqqhliKD+azVxCVI2uSG/6ZA3VZC3WRHoiP29whk7Cj8NqsuK0OKeIWC9FLVYyk8RmtmGSTIjS7LeA1+kt7DhFE+smQpIkY4xRTz2XtcuYBTMVQgVf42s4BAdPlj9JmbmMaqoL06cm1U2yeha35F7W9bosLr62+WvYzflIUCQTKZSSXNN3ES3YTLZCwWLQE1ySlttkJonD5qC1pZXGusbZdzCnB7NkJpqKFneQmwkjjJAjRy21JLUkTsmJQ3BQRhkiIuWWcgRBoIIK0qSJE6fUUkpOzxHOhZd9vZIgTen7GE2N5rWvrrODmCUzNslGPJtPcJokE+X+8kUHRSKJCHaLHZfTNa07bwpBzRbcDvcnOpt+0xLEjJkgQaJqFLtoRxZlTnCCHDmOJ46T1tLUUIOMzCijBEwBREEkrC4/QWRV5ujg0ULCbTg5TNAevGYWfdLEclldBZX3dDbNsQvHFtVRqBs6iUwCr9NLIpagra1tdvNCNOF1em8qfawiQchrYVmx4jbcxNQYLslFkiS/5bdkjSxvhN8gqkYpoQQ3brrpLphVcXX5y00yaoYDXQcK+YxQOkTQESyEfa9lYtlN9kLTVCwV47Vjry1qyE1OzZHOpvG5fQwNDV1zPJkkSbjsrk+0D3JTEmSIIXz4sGNHNmS8Ji9WrFRSiYRElbUKk2DChYsAAXrpxW/yYxJMhHLL/zSURIlqdzWiIGIYBhPpCYL24HUdbkmU8iXvchQDA4vZQnXJ4gYWKTmFZCaJ1+nF4XBQUVFxTRPP7/YTToQ/sQS5KZ30EUYopRRd14mrcRySgwCBQsvt18q+hkW0ICBQSSU99GCVrLgk14q03rosLp7Y9AQ2kw1ZkxlPj7OxdOOcuhv9Nj+9sV4UTSHgDvD1e76+KCdd1VXknIzT5qShsYHKqsprRt+CniCD44OrTt2kuIPMZkOjM8EEZZQhIKAaasF8spIvJ7eKVkREBASaaGKQQXJCjoApsCIEERAKNVcpJUVaSVPimJu+ldfmJakkUXUVQRAWLSatqipZJYvbnj9nFovl2t/v9JKW02SVbNHEuhmgoTHOOKXky9zTehq7aCdOnJd5mayR5aXQS4VoVTPNDDKILMj4Tf4ViWKlcileuvwSiqaQUlJk1MysrbYz7T6ZXAZN14in4vzm8G8WlShUcgrxdByf28fI8AhvvPHGtXcwt5+0nCYjZ4oEuRmQIkWSZN7EMnQUQ8Fv8pMmzVnOkiPHmcSZQnNUAw2kSDEhTFBqLmUiN7Hofop535SawtnRs6i6SkbN5HvRbXMjSMAeyO8ghkpaTnPm8plFtRBkc1lUVSXgDhAOh2lvb7/m+90ON7IiI+fkIkFuBiRIkCVLgACKrpBQEzglJy5cbGc7Fizc4r4Fp5QXZS6nvFDVW2ouJapGkfXlvdhWycqtVbdikSykc+lrijX8Pnw2H6lcClnN+w23rrt1UbVksVQMQRCwW+0Eg0G2bNly7e93+VBU5RNLkJvO68qQQUHBi5e0nkY3dDwmDy5c3M/9CILAF4JXVToqqMCOnV56CZqDpLU0aS2NTbQt25odZgefX5OfvDrZQjvXHcRtcaPqKrFsjMqSSh64/YFFrSWeimOSTNgtdsoryrmn4p5r72DuABk5UzSxbhakSaOg4MdPSkshCiJW0Vogj4FBWktfFTrASQ01XOEKHpOHjJ5Z9t503dBJKfmCv3AmjNPivGYn4e8TxCSaCsnCVDa1KBMxlU0hSRI2iw1Dz48ouxY8Dg8Cwic21HvTESRJEg2NAAGSWhJJkHCIDsKE+QW/IGNkeGbsGcZz+c47CxZqqc0nC01uZF0mqy9vRCalpHjm/DMomkI0G8Vhdlyzk/DjsJvtiIJIOpcmmojy9IGnF+Wkp7IpJFHCbrXT09PDc889d+3vt9qx2+xEk9GiiTVX9Pb2cvr0aXRdp6WlhY0bNy7bgiNEsGDBiZMBfQBJkLCJNmRkRhhBQ2NYGS5U7QoINNDAq7yaFynQs6S15d1BJltsNUMjLsexStY5E8RmshUIklNzDE0MsZgYQzwVx2wy47A7GBodYnT02sJwFrMFq9lKPBX/RBJkQTvIqVOnCIVCWK1WTpw4sSRq43NFmDAOHFixktbTGBhIgoQfP/dzPzbBxheCX8Bn8hWOqaaaOHEw5QsHl3tWiN1s5/NrP49NshHOhHFYHFhNc8tnuCwuBEEgmo3ic/l4YPcDiyp5T6QTWM1W7BY71dXV3HPPtX0Qq9mKxWQhnv5kEmRBO0hTUxM2m41MJoPL5VpWbd4ECezYsWAho2ewClYcogMbNraT7/He7pra611JJSlSqKKaN8eWuWDRKlkL/efRbBS3xT1FI+tacFqcWEQLCTmB2Wzm1pZbF/eASYRx2/N+jd/vx+/3X9/Esn5yTawF3dk2m40zZ87Q3t4+bzHgpSCIAwcWLMTUWF6dQ7SiojLEEDo6Q/LQlKm2lVSioxMTY9hE27InCydbbhVNISbH8Fq9cw7VWiQLLquLcDaMrusMTgwuKg8SSUTwOD2Iokgmk2F4ePja19piw2lzfmLbbhdEkM7OTlwuF1VVVXR2dk65YMPDw5w9e5bz588Tj8eXXNAhTLiwg0x2EzolJxNM8Et+SdpI88zYM1MUTDzkw8ARMZLPui+zgFxKSfGr9l+RUBLE5Tg+u2/Ox0qChN/mJ5KJMBGfWJSTrhs6qWwKj8ODJEr09PTw/PPPX/v7RQmfy0ckGVnROR0rTpDx8XHefvttenp6UJRr921/+tOfpqSkBEmS2LFjxxQSSJKE1WrFYrHcENMrSRIPHkREwrkwFtGChISBgU7eF9LRp4RC7dhx4iQhJvImVm5lQpaqrpLOpXFb5t7RKAoiLouLpJLMjzhexIx0XdeJp+N4XflW2smRydeD3+0nlop9IhUWC3ew3W5nZGSEH/zgB/zsZz+jr2/2EcBut5sdO3YUhI8//mQpKyujtbWVlpYWXC7Xkj51NDTixHGSz5Kn9TR+kx9BECihhCd4It9yW/YkpearnXIOHLhxExWjeEweoury2tNOi5Ovbv5qIZN+vVbb399BXBYXsWwMv9u/qGpeXdcJx8OFXvPGxkYee+yx6wcK7C7S2fSi+lBuaifdMAza29tJJpM88MADlJWVXfPpf+HCBc6dO4dhGDQ1NS2bLlaOHEmSVJOXqYmrcRyiAxERCanwepV1qpyODRtBgkwwgcfsIaJGUA112WaFmEQTla5KQpkQCTlx3Vbbj0MQBHw2H/2xfiRJorpk4aOss7ks6Wy6MCnXbrfPyYf0uXwkM8lFEySXy2EymVZER21RO0g6nebChQuoqko0GqWqqoqamppZD+ru7sbhcFBSUjLNB7mR0NDIkMGNu7CD2KXfJdJIc5rT5MhxOnl62qiDUkoJEcJhcpBQE6jG8pkLsibTNtJGUkkiq/KsIw9mNXFsfpK5JNFUlLaOtgWH1VOZFIqq4HPlCRqJRDh37tz1v9/lJ5qMLsrEeu+99/jmN7/JT37yk0VPi1p2gkxMTLBt2zYCgQBmsxmz2XzNg+68804qKytxuVzcd999y/ZEUFFJk86bWL8rdXdJLgQEIkR4lVfJGlleCb0yLdcRJJg3z0xOknoSzVg+cyGTy/BG5xtMpCfQDb2gbjJngtj9KJrCcHSYlz98ecognnkRJJsip+Zw2V0ADA4O8uabb87JB8kqWVLZhelj9fb28p3vfIcLFy7wX//rf+Wdd965uQhSX1+P3++noiKvlK5p1755nE4nt956K7fddhuBQGD5nFxUMmTw4cPAKPSjA5gxU0opEhKlltLCvMJJlFBCnDhuU76PfTn1sSRBotxVTkpJIYp5p3s+8Fg9yJpMzsgtStUkq2RRdRW3I78D22w2Skqu37jlcrgKBFsInnvuOZLJJD//+c+55ZZbeOqpp27o7Jgb4qQnk0nOnj3L+Pg4Y2Njq3KxKiopUnjwoBkaGS2D3+QvEOBJnsQu2Pl6+denOOmTJlaKFHaznbSWJqMvX3XqpC4WQr70xW6a3w7iNDvz5e4O56J0sZKZJDk1h9/lLzjpX/rSl66/fpsrr4aygJnpsViMF198kQceeIAtW7bw6KOPcvToUfr7+28ugjidTlRVRVEUvF7vqlxsmjQqKh6uVuXaRfvvfoiIAwcCQt5x/71E3OSuY5iMgoO/XBAEAatkLYhQz7XM5PdNrKyaxWa1LXhS76Q6yaQPIkkSDsf1q4rtVjsCwoLabs+dO0dvb29hUOjOnTvRdf2ackOrkiDRaJSysjLuvffeZTWb5mVDk0JCwomTjJ5BN3S8pjyZo0R5ndeRDZnXwq9N80HcuDEw0MS8+bicycJ0Ls1vr/yWUDqEJErzNrH8Nj+6rjMcHeaNY29c1wSeDROxCVw2F3Zr/qEyNDTEgQMHrnvcpEm2kJnp77zzDtXV1WzevBmA2tpaGhsbOXr06M1FkNraWmw2G5cvX0aWV2f3WJz8TW3DRkbPoBgKDslRIM9JTqKgcCJ+YloUa3J3MaT8rPTlHOgpazInh08SyUby5fnm+Q3bcFlcWE1W+iP9HL9wfMHJwlA8hNvhLgg/hEIhzpw5M2eCzNfESqfTfPDBB+zcuROfL79r2e12tm/fTltbG9ls9uYhiKIoxONxLBbLdTPpKwUZGQkpr4ely2iGVjCxHDjYxCbMmNni2oJDnHoTesg3/ogmERFxWXcQi2RhS/kWEkoCq2Sdc6Hix4+3mfIPhS1rtizYSY8mozhsDsymfADD7/ezfv366x7nsDqwW+3zbprq7++ns7OTO+64Y8rrW7duZXh4+Lql9quKIKOjo1y+fJmjR48yPr46R/+myZe3W7CgGAo6ekHyx4+fL/JFbIKNB0seJGAOTDOxTJjQJA2TYCKmLl/xndPs5Atrv0BOy+Gz+a6rqDgbQSSzxIN7Hlywkz4RncDr9GKz5NuNa2pquP/++697nEnKS5DOt6L3zJkzmEymgnk1ifXr15NOp+np6bl5CBIIBPD7/VRVVbFmzZpVSxAzZly4SGkpFF0phHl1dBQUDAxkXS7UZRVuMix48JASU7hN7mVVWDQMg6yaLXQTzld0wWay4bQ4iWTy8wIXAk3XmIhNEPQECwTTNG1O5rQkSjjtznlLkB49epT6+vppSefKykqCwSAXLly4OQhy4cIF3n33XTZt2oTdbieRSKzKxaZIISBgw0ZCSyAKYsFJDxG6OkBn7JfTJtpKSLhxExNiuCX3ss4rTOaS/OL8L5hIT+CwLIwgLouLzrFOnnlrYQN0skqWcDJMmf/q2Lfe3l5eeOGF6xNEyrfozscHSafTnDp1ih07dmC1TjUpA4EANTU1nD9//uYgSEdHB7fddhuf//znKSsru2ah4koiRgwLFuzYian53g6LkG9dVVAKU277s/3TJklNEiQjZHCb3MtasKjqKv3x/nxXoM03745Ak2jCZ/Mxkhiha6hrQaU9iqqQTCcJeK6anqlUisHBwTmZWD6nj0hi7p2Yvb29DA0NsXPnzumfZzLR0tLClStXrisasSoI4nK5ePfdd/nlL3/J5cuXcblcq3Kxk0lCEZGIGsEhOrCIeYL48HEP92DDxr2Bews7y8cJ4sFDSkjhM/mW1cRymBzc03RPodR9IXmMgC2ALuncteOuBbXcyopMJBmhMnBVi7eqqop9+/Zd/yYRRLxOL/FUfM4RtEuXLgGwYcOGGf++fv16BgYGVq21UiAzwL59+7j99tsxDANRFKdtiasFESI4cSIiktSS2ERboSLXiZOd7AQBdnp2zvAkEPHiZZRRasw19GR7UAylsAPdSFhNVraUb0HRFLzWhSVhvTYvhmCwo3XHgvpsoskoWTlLme+qiRUMBgkG51Y46XF6SGaTZJUsDuv1w9RtbW3U1dXNqh7f3NyMLMsMDg5SXl6+uncQURSx2+04HA5sNtuqLUeerOQVEUloCRySo3CD58gxxhg6OmPK2Iy1Vn7yEqVOs7MgILcc0A2d3lgvsibjtS2MIEFHkHAmzEBoYEHHj0XHMJlM+N1Xe9Cz2eycI5Z+l59MNjOnbLosy5w5c4b169fPao1UVVUhiiK9vb03RxRrtcPAIEkSC/mxBuFcGIfowCyaC076MzxD2kjz9NjTBV2sj8OHjwwZHCYHGT2zbPVYKSXFT9t+SiQTmXcWfRIljhJ6xnv46Rs/XZCTHo6HsZgseJxXm7V6enp49tln53S82+lGURWU3PVzZKFQiK6uLrZv3z7re0pLSwkGg3R0dBQJslQESZHChy/vsKsxPCZPYQfR0ZHJhyxlXZ7RkfXgQUbGYXYs6w5iYJDMJVE0ZcEECdgC+ZbZzMISnKORUSxmS6EOC/Jh3rkmhd12N1klOyeCdHd3k8lkpuU/Pg673U59ff0fJkEymQy9vb2F7PtyNEwZGMSI4caNZmgktEShkhfy1bxf4SvYBTtPlD1BiXl6GbcTZ1621OInq2dJasllOckui4uH1z2MWTTPq912yg1qdeP3+Lnn9nsWlCgcHB8k4A7gsl0laENDA4888sjcCOr5nUavcv1d98KFC7hcLmpra2d3fk0mmpub6enpWdUlJwsiyHvvvcc777zDsWPHePPNNxdcPDdf/yNNGjd5Mee4Fp8SqbJgoZ56JCTqbfUFvd7f90GyZLFKVsyCedmG6YiCSKmjFEVXFkwQp9mJ1Wwl4J9/IalhGAyHh6kMViJJVyNgTqdzyk2sKAr79+/nX//1XxkZGZlKEHcATdeumwsxDIO2tjYaGxuvGwBYs2YNoVCIcDj8h0UQwzDYvn07mUyG0dHRZRGOU1DQ0PDgQTVUMlpmCkEyZGinHRWV9lT7jOaTHz85chiSgVNyzuin3AhohsbxwXyRoc/qW/AupGs6bZ3zLxPXdI3h0DAV/oopIeJYLDYlm/3SSy/xF3/xF/zjP/4j3//+96e0xtqtdixmy3VnpmezWS5evMiWLVswma690zU2NhKLxZiYmPjDIsj27dsZGRnBMAx27969LATJkCFLNm8mGQoJLUHQdPUJFSbMi7xIxsjwm4nfzKie6MCBCRM5KYdLcjGqLE+xXDqX5qXLL2EWzdjMCxu74LF6EFWRN4+9ia7Nr5o3nU0zEZugunSq4EN/fz+vv/46APF4nB/96Ed88Ytf5J/+6Z946aWXOH36dOG9kxKk10sWDg8PMzw8PGv+4+Oorq7GbDbT1dX1h0WQEydOoGkaFouFixcvTvFBNE1DVVVyudySavbmyKGh4cJV8B+C5qsEMWHCjx8REb/ZP6NiiQ0bduzkpBw+k48heWjZTCybyYbT7JyzaPU0p9Zsx2Pz5HNU84zCR5IR0nKaisDUnITFYik0x50+fZqOjg6eeOIJHnjgASoqKnj11VevEsRixWq2XrcnpLu7G1mW51Ql7Pf7CQaDq7pocUFloWvXruXs2bPE43HWrFkzJW/S1dVFf38/qVSKUCi0ZDkVGZkcOVy4iKr5scgfN7FKKeVJnsQhOPh6+denlbtDfsinDRuyIFNpqWREGVkW+R+n2cnO6p0MxAcWTBCTaKLEW0JDfcO8d+x4Ko6ck6ckCSGvsVxVlZdIevvtt6mqqmLLli14vV7uuusu3n33XRKJBG63G7vFjs1iu67Ke3t7OyUlJYXPvRa8Xi8VFRWrOpK1oDujpaWFlpYWstksXV352qBJIjQ3N9PU1EQsFmNwcHDJIlxZsuTI4cFDWA3nBdUk18e2QrEgBzRZAj8bQWLEqLZW8378fXJGbln0sWRVxmlxYjMtzMSSBAmPzUOW+Ud8QokQOTU3bQcxmUy4XC4ymQxHjx5l165dhR3lzjvv5JlnnqGjo4NbbrkFuzVPkGuZWIZhcO7cOZqamubUti1JEk1NTVy8eJFsNovNZlt1BFmQiRWLxfjggw/48MMPcblcU3YJURSRJGnJBcIyZNDQ8OIlrsYxCabCHELIFzK+xVvIhsyByIEZixEnTawIEeqsdYwqo8uSC1E0hbaRNlxmFzZpYTeBSTQRMAcY7Rudt+k6MD6A2+6ekgMBGBkZ4dChQwwMDNDd3c2ePXsKf9u0aRNer5cTJ07kzTGTBa/LSyQ5O0ESiQQdHR1s3rz5ug76xx+2AwMDpFIpViMWRJBDhw4Rj8cRRZFDhw4tSx4kQqTQTRhRI5gEE17p6lMqSZIjHEFB4cPYhzPmOKxY8eIlQoRKWyVZPcto7sY76hk1Q1+sb0GVvB9H0BIkPhafty7WSGgEr8tb6EWfxPj4OCdPnqSjowNN06b4DaWlpbS0tHDs2DF0XUcQBIKeIJFEZFaFxdHRUQYHB687GPT3I1mpVGpaWPmmJshkR9jo6CgbN25cltqtOHFcuLBiZTw3jkN0TDGx7NhppRUzZtY71xdacafdZASJECFoDmJgMKaMLcNJFrFKVgL2xYlhlLhLSFqSpHLze9oOh4fxu/3Tigy9Xi9r1qzh9OnTVFZWTvEbTCYTO3fu5Ny5c8Ri+UYpr9NLPB2ftdSls7OzYDbNFZM1WUNDQ384BGlubuaRRx7hscceY9u2bcuy0DhxLFgQERlWhik1lxbqsAACBHiER7AJNh4tfXRay23hpsBLnDgllhIsgoV++cbrM4miiN1sX3ChYuE3ugNk/VnSubmbhZquMRoepdxfjsU8NUBQV1fHvffey+nTp2lpacHtnuq7bd++nUgkUigo9Lv9xJPxWXeQc+fOFZqh5orKykqcTidXrlz5wyHIx32N5UKCBDZsmDARyoXwm/1IXP1+AwMNDQPjmrq7AQLEiGGTbFRaKulI3/gIiqqpxOU4JY6SRX2Oz+ZDySlk1LkXWWaVLBOxCSqDlTM61aFQiL6+PrZu3TrNEmhubsZkMtHe3p7fwbwlRJIzt/3qus6ZM2fYuHHjvPqJHA7Hqq7JummKFSNE8ok+w8SoMkqpuRRJuEqQECH2s5+skeXXY7+etaW2lNK8PyPlS1K6sl2LGqs8p5tUyy4JQUotpWSGMiTludeQyYpMOBGeFuKFfKLwRz/6ERMTE6xbt27a38vKymhubi446n63Hzknz5gLiUajBQd9PmFoq9VKbW0tnZ2dq1KO9KYhSJw4btzous5EboIqy9Q4u4xMN92oqHRlupB1edYdREYmS5YWewsD8gAJ7cZ2tUUyEXRDn7eq+zTz0OzFyBiE0nPvhkxlU0STUaqC0/MSqVSKAwcOYLFYqKurmx71s9nYsmUL58+fR5HzqvCGYcwo3tDX10c4HGbTpk3z/l1r165lZGSEaDRaJMhCoKMTJYoHD0k1SVpPU26Z2oXmwcM+9mHFymf8n8Fjmrko0IcPAYEoURptjUzkJojkbuzU22g2iiAICy5ULAQibHYcZQ7GM3OvIRuPjWMYxhSxhklUVFRQXl6Oz+ebtavvlltuYXBwkOHhYTxOD7qhz7iDnD9/HpvNRktLy4J82kgkQigUKhJkIciRI06cIEGSWpKsnp0mTu3GzR72YBEs7PHuwSPNfDNOJhPjxGm2N5PW0jc81BuX4wgIuK3uRX2Ow+bAXeYmnJ179WsoHsqLLvxeDgTA5/MRCARoamqa5qB/PGKZy+W4eOlioRtxporekydP0tTUNCe1+N9HY2NjYRcqEmQhTu7vVN19+Ajnwii6QqW1ctp7QoTQ0QnlQrOON/j4DlJmLsMpOenOdN/Q9U+kJ5AEadFhXqtkxWbYmEjNvfo1FAshSRIex/QHRjKZ5OLFi7S0tMzqN1RXV1NRUcGJEyfwOX2Igjgtm55IJDh79izbtm1bUDY8GAwSCARWZSTrptlBEiQIEGBAHsApOQmYpt5sE0zwDM+QMTI8Pfb0rE66Fy8WLIwyit/sx2fy0Zu9sX3Rw8lhrCYrDpNjUZ+jZBWSfcl5+SBj0TEcVseUXvRJdHd309PTQ2tr6+x+j9fLtm3bOHnyJIZm4LK7GI1M3XEHBgbo6+ubUeJnLvD7/ZSXl3Px4sUiQRZ0Y6AQI0aQIIPyIH6Tf0qZyaSfkiSZ/7c2+wSpyXmFAwzgkBxUWivpyfbc0EjWaHIUi2RZdELVMAzQYSw1Rk6fm8LiSHiEUm8pFtP0IslYLIYgCNTX11/zMz71qU/R0dFBNBIl4AkwEZv68Glra8NsNrNx48YF/S6TycSaNWvo6upadcLpNwVBYsTIkcNH/mlfYi6ZkkWHfIb8cR7HITj4cumXZ2y5hXxZfIAAE+Qvcr21ngF5AEW/cYLdw8lhmvxNCy5ULJiHbh+333I74WyYnJabE6HGo+OU+EpmzFmNjIxM6yqcCdu2bSObyXL54mWC3iDheHjKd7z77ru0trZSXb3wAaOtra309/eTTCaLBJl3FIgoEhJW3cqgMkidrW5aBa4VK800IyHRbG/GJs58M1qwUEYZwwwD0GBrYEgZIqvfmL5oWZMZSY6wJrBm3qLV08gtmdhQt4FIJoKiXZ/Qk52E5b7yGWvALl26REVFBR7PtaNrTU1N1NbVcuL4Cfwu/xQTa7Ke66677sJiWbjG2Jo1a0ilUgwMDBQJMu8oEHEkJCRdYkQZodY6/YmXJcslLqGicil96ZqSPtVUM8EEMjJ1tjpSWuqGafXGsjEi2ciCZ3pMueE1jUgoQjQbnVM9VkbOEElEZs2iX7p0iZqaGpxO5zU/x+VysXv3bj54/wMsWIgmo2Tk/Pk9ceIEkUiEvXv3Luq31dXVIQjCqotk3RQECRNGRETQBMaUMRptjTO+5wVeIGNkeG7iuWtKi1ZSSZQoMWKUm8vR0W8YQRJygon0BBcmLsyrRGQmRBIR3j7+NjktNydHPZaKkZJTlAfKZ4xg9fX14fV655T5vvvuu+nr62N0YJSUnCItpzEMgxdffJH169fPmImfD8rKyigtLS1IlhYJMg+MM44DB0k574RXW6fbuhISLlyIiLgk15QylN9HFVUkSRInToWlAgxuWH/6WHqMlJKi3Fm+4NmCkxAEgWp/NaIgEs1Gr0/OdIKsnCXomZ7Bj8fjDA4OXnf3mMT27dupr6/n2PvHSKQSKKrChQsXePvtt3nsscfmNOvwWnA4HDQ2Nq66SNZNQZBhhimjjLASxiyYZ3TAJ6fcOgQH3yj/xrRE4sdRQw0aGoMMEjAF8Jl9N6yqtzvSTYWrgm/v+PainfSAJ8BfPPwXWE1WQpnr7yDRZBQ5J1Pun76DDA4Oouv6nAboQD7c+/iXH2fwwiCj/aOEYiF+8uOfEAgE+PznP7/o8zSp+N7Z2bmqBK1vCoKMMUYJJQxmB3FKzhlvfgmpkAT0mXzXbKP148eDhz76sIpWysxl9Mk3xva9ErlCiaOEBl/Doj9LEAQaShpwWpwMJ4av/2AJD2Oz2GbcQbq6unA6nTQ0zH1djz76KJ++7dPEzsT427/6W5577jn+/M//fMnEp9etW8f4+PiqKjlZ9QTR0BhmuECQGmsNdsk+oyP/Hu+hGArvRt+95og1Hz78+OmhB7NopsJSwYC89NETTdfoDHdS5izj+NDxOUWeroVkJskH5z4gYAswmLj+XI/h0DA+lw+Hbbr509HRgaqqXL58ec7fX1JSwt/+3d/i9Xu5cO4Cf/O3f8Ojjz66ZOdrUudgNQlaz5sghmFw6NAhfv7zn/Pcc89x/PjxG7rAJElChCg3yhmUB6m11WIWzNPtbRIc4hAyMu9F37tmha4TJ3XU0UlnPoJiy/enL/Xk27SapivSRYOvgQ/7P1w0QRLpBB+e/ZASRwlDiet34A2FhvIE+b1OQk3TuHLlCg6HY05Tbj+O9RvWU39nPd/6z9/iW9/6FmazecnOV0VFBYFAYF6kvdGYd2BeEATKysrIZrPU1dVRVlZ2QxcYI0aKFG7NzZA8xG2e22Z8nw0bzTRjwsQax5oZpUc/jlZaeYM3yJKlylJFTI2R1JLTMvSLwWhylPHUOFvLt2KRLIvqR4e8NtWGhg0omsKp0VMomjKrjJBu6AyOD1LmL5vWi57NZunu7mbHjh3znkfpcXgI+oLzqgebK4LBIFVVVYUGrZvWxIrH40SjUc6dO8epU6du6AKjREmTxqE6SGgJam0zZ30DBPgSX8Iu2Hm89PFZM+kFe5d1jDDCKKPUWmuJqtElHw3dFelCR2dL+RYeW/8YdpN9UZ/nd/t54q4nqPXVEsvGiMmzm5FZOctIZISakuntr6Ojo0xMTHD33Xfz8MMPz++JKpmoDFYyMDGwoDEM13PU161bR0dHx6oRtF4QQZLJJJIkYbPZSCQSU1RNBgYGaGtr48yZM0Sj0UXXHw0wgISEJWchpaVmTBIuBA00oKHRSy+11loMDIbl4SU9uR+Nf4TP5qPaUz1rbdj87Nt8a3GNp4aEkiAuz07orJIlFAtRWzb9fA0NDSHLMk1NTQtSpKkKVjEaHp1Tuct8sWXLFnp7e1eNo74gguzdu5dbb72V1tZW7rzzzikkcDqdlJSUEAgEFlV6MIluugkQICEnCg71TAgT5jmeI2NkeHb82evOIKyjDjduLnIRr8mLS3IxoCydo25gcHr0NC3BFgQE9n+0f9GJwmgyyq/f+TVVriqyuew1k4XRVJRoMjojQS5fvozX60XXdV588cX5P1wqGhiLjpHOLr2m2Jo1a1AUZdVk1BdEEEmS8Hg8OBwO+vr6pjyF/H4/tbW11NbW4nA4Fq2ZdYUrlFFGXI4XbuQZn5hk6aADFZXL6cvXra1y46aJJtpow21y45bc9GeXLhcSy8boDHeypWwLkiDREe6YVQ1krsgqWS71XiJgC+CyuOiNzR7tGQmP5P3FGToJL1y4QE1NDYZhLKgHo6qkCiWnMBZZesmkhoYGbDbbqhkRvaDquWPHjtHX14coirhcLrZu3XpDFicj00UXTTQxmh2lxFxyzU7BPezBipU7fHfMKj86CQsWtrCFgxxEl/LZ+cmy98VmvAFGU6OMpcbYWLYRm8nGHXV3LFiXdxIuh4u9W/fit/vx2Xz0RHuuSRCzZKbEM9UXk2WZy5cvs2bNGhobG+c8YerjqAxWomka49Fx1tevX9Jr7vP5WLt2LefOnbt5dxBZlpEkCYvFgqIoN0xZMU2aAQaoN+oZlAeptlYXxj5Pi678rifdIljY59s3bQz0TNjMZoYZZoKJJS97vxK+goDA2sBazJKZfQ37Fk0Qt93NXdvvwmf3Uemu5Er4yqx9LL0jvbgdbkq8UwkSjUbp6+tjw4YNlJaWLqjIsCJQgcVsoW9s6c0gq9XKhg0b+Oijj1ZF6fuCCLJnzx527tzJ5s2buffee2+YsuIggyRIUK/XM6KMUG+bvbFHQyNKXvU9qkavqY01iQ1swMDgEpdosbcwKA+S0pcmF3Jx4iJBe5ASRwmGYSxJRa+ma0STUURBpDnQTG+sl2xuZlOyZ7SH6tJqbJap5S19fX0kEgk2btyIrusF1cT5wGlzUhGo4MrQjWmR3bp1K4ODg4yNjd2cBDGZTNTW1tLY2HhDFbl76MmXkGg+RpSRGat4JzHZcps20jw9+vScqnMrqaSCCs5whnpbPWk9vSSRLMMwuBi6SIOvAb/dT0JJ8My5ZxbtpIfjYf7Xm/8LQzdoDbbSH++fMdSr6Rq9I73UltZiNpmn+R8Oh4O6ujq6urrYv3//vNfhsDqoLaule/jG9PJv2LABTdNWRcJwVZeafMRHlFKKoAjkjBw11tklLVVUokTR0YmokTntIB48bGITZzhDibUEzdAYUhavEZtRM3RFulhXsg4BAd3QicmxRZuiqq4STeR3yTWBNeS0HAPx6ZG3eCrOSHiEpqrpGrmnTp2ivr6e8vJystnsgnYQURRZU72GvrG+684sXAiqqqooKSnh7NmzRYJcK0zaTjtrWUtcjucHYV6jQjdIkEd4BLtg50ulX5oyfepa2MY2LnEJq8WK1+SlM9O56LWHM2GG4kO0luTFEJxmJ4+uf3TR1bx+l58v7fsSoiBS561DEvPRsWnfnwiTSCeoK5sqBpfJZDh37hzbtm1DkiTq6ur44he/uKC1rK1Zy2h49Loj2RbqqG/YsIETJ05MmZNYJMjHECNGJ51sZCOD2UEckoMyy+xlLTZsrGMdJky0OlpnVXf/fWxiEwkSjEqjNFmbuJRefMNOf7yfnJ6j1pPPQZglM63B1kW33NosNtbXrQcBShwl1HnqODs6/Sk7Fhkjo2Sor5jqsw0MDDA0NMT27dvzO6jHw9q1axe0ltbaVhRVoXvkxphZu3bt4uLFiyueMFy1BBlllAkmWMc6rmSuUGetu2ad1GRIWEOjK9M15x7ztazFhYtOsZO1jrVczlxedH96X6wPk2gqECSn5+gId8x7rse035iT6RzqxDAM7CY7G8s2cmbkDFl16nq7hrtw293T9HjPnTuHrusFedBkMrng+YCVgUq8Ti8X+25Mg9PmzZvJZDIrrpW1agnSSScCAg1GA53ZTprsTViE2cOkIUI8y7NkjAy/Hv/1dTPpk/DipYUW2mijxdHCkDw044Tc+eBy6DJV7ioCjrx2V0pJ8fyF56fdyPNFJBHhV2//qlADtbN6Jz3Rnmml793D3QS9wWlicYcPH6a5ubkwnqC3t3dBmXSAoDdIY2UjbR1tNyTMv2bNGvx+P0ePHi0SZCac4xxllCHlJAbkAdba117nh4hYsSIgYBWtcw49W7BwC7fQTjtVziqSWpK+7OLi+53hTuq99YXiREEQsJlsiw6Hi4I4JWx7S8Ut6IbOqeFTUyJoXcNdVJdU43JcrTqIxWIcP36c22+/vdAeK0lSfmruAiCJEp9a9ynOXDkzo5j1YuH3+9m6dSuHDx9eUT9kVRJEReUsZ1nPerK5LBE1Qovj2qLIJZTwNb6GXbBft+X297Gd7QwxhGEx8EreRfkhcTlOT7SHtcG1iEL+9LosLp7c8uSiq3kDngDfvPebmKS8L1Pnq2ND6QZe73y9UAyZltMMjA/QWNk4pSKgvb2d/v5+Pv3pTxdea2xs5PHHH1/wej7V+inGo+N0DCz9bA9RFNm7dy8XL15keHi4SJApNxlxLnOZbWzjcuoyVtFKs635mseYMFFCCSIiQXNwxqaq2bCOdVixMmQZosHWwMnkyQWvPZQJMZYaY23w6o4nCRJBe7BAmIXCJOVHQU/uRFbJygMtD3C4/zDdkbyzHE/HGZwYZE311D6PAwcOUFFRMWV+oNVqJRBYuF7wpsZN+F1+3j3z7g25D3bu3ImiKLS1tRUJMsWGppsYMTawgVOJU9Raa68ZwYJ85+GHfIhiKByOHZ5Xb0cllTTSyGnhNJtdmzmXPLfg7sK+WB+KprA2cJUgWTXL+33vL7qjMJVN8cH5D6YUPd7ddDdm0cwrHa8A+YGdOTVHU2XTFPPqrbfeYt++ffj9VzV6JyYmOHbs2ILXU+orZd/2fbx69NXrzk9fCBoaGli7di0HDx4sEuTjOM95rFgp18o5njzODveO64ZtY8Q4yEFkZA5GDhJX537BLFjYxS7aaKPJ1cSIMrLgHvXJHpBy51Uhg4ya4Z2edxZNkHgqzoETB6aMga7z1vGFli/w7EfPksglGBgfKDQ1TeL48eP09/fzuc99bsrnDQ8Pc+jQoUWt6aE9D9E91M3h9sNLfh/Y7Xb27dvHhx9+yPj4eJEgkzjCEdaznlgmRne2m73e6xfUWbFSRx0mTNTb62ctapwNe9jDCCOYnWZERE4nTy9o7e3j7dR6awk6riYqzaKZBl/DNbW65gKr2Up9Zf00Z//R9Y8ymBjkUO8hOgc78bl8hRCvpmns37+f9evXc+utt045zuVyzWvg5ky4peUWtjRv4Zdv/3LJOwwBPvvZzxIKhVYsmrXqCBImzGlOcxu3cSR6BK/Jy3bX9uuHHQnyFb6CXbDzRNkT83LSATayEQ8euq3dbHBs4K3IW+jMr7gwqSQ5P3qereVbp0zgdVqcfHnjl7GZF5lJd/v52me/VnDSJ7GlbAvbKrbx6/Zfc6brDM1VzQWhhvb2dg4ePMhXvvKVaSJx9fX1i1YlcVgdPHn3kxw6e4j2nqXvJd+wYQObNm3ihRdeQNO0IkHOcY4xxtisbeaN8Bvs9e69rv9RcIZ/N/X249Nv54ogQW7ndg6Lh9kd2M2H8Q/nHe7tj/czlBhiR9WOKa8LCEiCtCTKijMJP1hNVh5qfYh3r7zLuxfeZX3deiRJwtANfvaznxEMBmcUiBMEYUkmFd+1/S5KfaU8f+j5Jb8fbDYbjz32GO+///6KqC6uKoIoKDzDM7TQQi6Z41L6Eg8GH5zTjRUhwou8SNbI8sLEC4Rz80v2CQh8gS9wkYtUBioxYeLZ8Wfn9RnHBo9hkkxsLts81blWUjx/cfGJwmgyyvOHnp/RlNnXuA+H4WA4MszGhvycjlNtp3jhhRf4kz/5E0pLp++oAwMDvPLKK4u+bqW+Uh7a8xAvHX6JoYmhJb8v7r33XlwuF7/61a9uDoJM9hFEIpElGd07wAB/w9/wEA/xKq/yx/wxB8YO0GRvYqdnblOLMmT4iI/IkaM91X5NdffZcBu3UUstR2xH+Er5V/jJ8E84lZibaousyrxy+RV2VO6gxjPVrld0hQsTFxZdapKRM7R3tc+Yua711HJP5T04JAeN1Y3IWZkf/vCHNDY28thjj81MuGh0yUrKH7njEdLZNC8feXnJb9KKigq+8Y1v8Itf/GLZOw0XRJCTJ0/yxhtvcODAAd59d3Ex8ChR/pK/5HmeZy1r+R/8D1pSLbwafpUnyp64butsweHExU52YsHCbd7bZu1dvxZ8+PgG3+BFXmRT5SbW2dfx191/zXju+hGU16+8zrHBY3x545enFSXaJBu7anZhlhYnsua0O9m1adeMauwCAq6sixgxDgwd4Kc/+ynvvPMO3/nOdwgGZ65sLikp4ZZbblmSG6mltoWH9j7E//vy/8vA+NKrVD7xxBOUl5fzz//8z6RSqeVjiLEAHDx40Hj++eeNV155xXjhhRcMXdenvScWixn/9m//ZqTT6Wt+1g+MHxiNRqPxvvG+YRiGkdEyxv928X8z9p7aa4zKo8ZyI2JEjIeMh4x7jXuNFxMvGluObTH+svMvjayWnfH93ZFu4/8+8H8b9f9Sb3z7lW8baSV9w9c44/lOxoy7//JuY/1frjeq/n2VUVZVZvzDP/yDoWnasp27y/2Xjc3/brPxZ//9z4yMnFnyz3/99deNuro647/8l/9iZDLz//yPPvrIOHv27LyOkb773e9+d97bjihy/PhxhoeH2bFjBxUV06V4ZFnm/PnzbN26dVZ5ysMc5q/5a77Nt/kKX6Ev28f3+r7HS6GX+H7z99nm2jbnNWlopEhhwUJSS2ISTAvKXNuwsZGNPM3TXLRc5A7zHTw98DQ20cZ29/ZCqNYwDN7vf59vv/xtzo+f5z/c9h/4j7v+44yjnnVDJ6EkFjWn0DAMLvZf5Mcv/5gXPngBzdCoLqkudAy+cfQNfvzrH9OYaqTvzT7ktTLbHt/G9trtOMwzjyZQVZV0Or0k8kwAQU+QymAl/7r/X0llU9zacitWs3XJHuZNTU14PB5+8IMfMDAwQHNzM36/f87ndGJiAl3X5yW2vaAGhTNnzrBu3TqcTidnz55l06ZNhW1flmVUVSWZTKKqKoZhFP4nIKCg0EYbZ4Wz/A/lf0AazIqZP0/8OW9F3kIwBL7f+H3u9d1bOO76dqLIuDDOi7zI14yv8fTI0zxY8iCVlsoF9YFvZjM/5sf8Z+E/s79kP8jwV/1/xanEKT5r+Sxm2UzbUBu//ujXfKrqU/zDXf/AmuAaDMOYksSbjBQl5ATPnH+Gr2/+Ok6Lc06/SRAEcmqOts42+kf7OX7iOPvf2k/faB+o8GPzj7lr811sqNpAaCLE2x+8TXwgTqg+xD/8zT9gvtXMv5z6F94feZ8H1z1Ia7CVGk8NW8u2IokSgiDQ1dXF4cOH+eM//uNp615olO2Lt3+RaDLK3/387zh5+SSP3vEozdXN3Lr2VuxW+6IqfwVB4I/+6I/w+/1873vf47e//S07d+5k48aNVFVV4fF4sNvzCeXJ1ya/b/L+nO8DakEEue2222hrayMUCrFnz54pNnFfXx/9/f1kMpl8qNEwCo68gECIED/khwwySH20np7+Hn5k/Ih6Wz3fqvgWD/geoMHWgKEZqMzNqdXRyZJlVBxF0RRG5VGyuSyqqC5oeq2Gxla28jN+xqu8ypvlb3LBeoH3R97n0IlDqFGVOncd//G2/8gTG5/Ab/Nfs+JUySmMp8bJqTlUcW6/SUAgmozyL/v/hdMXTqNd1NBiGgElgN/pR1RFek/3cuXsFQyzwac//Wnu/8z9fOpTnyok/3Y17OKp80/x7EfPEpfj7K7dzQ/u/gEOswNRFEmlUoyPjxceZEuFJz/7JPVl9fzby//G//OL/4ea0hr++5/9d5oqm5bkex5++GFuueUWDhw4wPvvv89LL71EJJLvbDSbzQiCwHe+8x2+/OUvF4g/08NrTtfBWMSKJxXwmpubC8zUdR3DMMhkMhw5coRPf/rTU7ZwHZ0xxpCQsOt2IrkIZsGMz+SbdfDmXKNYV7jCOtZxMXWRJlsTDsmxJBc8Q4YwYQzdIJfKoagKlc5K3Bb3nELQiqZwOXSZdSXr5tVVaBgG47FxZEXGpJlIpVMMh4epLc2L8tnsNhRVwRAMfG7fjEEA3dBJyAmichSX2TUlwx+NRhkeHmb9+qXVtir8blUhHA9jGAZl/rJFi3fPZibKskwymSzo+QqCQGlpaWE3mcSFCxdQVZXNmzffWIIMDg5y6tQpZFmmtraW226brriezWb54IMPuOOOO5bMxi2iiMVgIQRZcJjXYrFQUVFBZ2fnDROOm9fTCoU++tDQ6Mv2IeurZyC9qqv0RHsWLT2qqAq9o71Ldr5X49jl1YYFEeT2229HFEXi8Th79+69YcJx80GIEPvZT8bI8KvxX92wqbULQVJJsv/C/iWZcvuLg79YsqLA3t5eXnjhhSILltpJLy0t5Z577rluxCEajXLixIl5TyESBIFcLkc8Hp/bsQaEbWF6K3p5t/9d+oQ+DncepsQoWZCTPidHXtPQNG1O5mNKTdE/0c97yfewSQv3s6KpKP19/bz99tvTChZnss11XZ91fZMzyXt6elak3yKXy+FyubBarctigYiiyODgIM3NzcvnpF/PwQyFQgsSRxZFkeHhYbq7u+eW6TXAMBngAiEuYDgMyICgCXADNjdBEBgZGWFkZITt27dfPzoigGExEOTFLcbAAOl3v+s66+vr6yMSibB169ZZb8DJ15fbAhBFkY8++gifz0dDQ8OShJjnet0CgcC8+vBNN3IxJSUliyJYJpOZ1xRWAPzLc5HNZjOiKFJXV7cqTQNd17Hb7dTX16/K9UWjUVwu14xJ5pveB1muG9Dtdq/aE2exWHC5XKt2fTabbVr/x2qCw+G4obrOS/agN1ZDCGqWHUTX9SXpVyiub3XucJPmVpEgRRRxk0IsnoIiilgBJ30xyGQyJBIJ/H4/ly5dorq6mmw2y8TEBK2trSuamVcUhYsXL+JyufB6vXR0dFBdXY0oiiSTSdauXbuiZkM6nebSpUtUVlbidDrp7u6mpaWFWCxGKBSitbV1Rc2uRCLBpUuXqKmpIZfLMTQ0xJo1a0gkEmQyGVpaWlaVWbgqCXLixAn6+vrYsmULZ8+e5ezZswiCgMPhIJFIsHv37hVb28TEBBcvXmRsbAyfz8epU6e45557iMfj5HI5HA4HtbW1K7a+sbEx2tvbOXXqFLW1tYyNjRGNRgmFQiSTSSwWC2vWrFmx9XV1dTEwMMC5c+eIx+OEQiHuuusuxsfHEUURXdfZuHFjkSC/77B1d3eTzWYLNVySJOFyuWhtbeWDDz6gsrKSbdu2cfr06RVxeHt7e0kmk9hsNm655RZefvllGhsb2bRpE4cOHaKkpISqqiqi0eiyEySbzdLT04Ou6/h8Pnbs2MGJEyfo7e1lx44ddHR0IIoiDQ0NhMPhZT9/iqLQ3d2Nqqq43W78fj/l5eXYbDZkWeadd95h586dBIPBVTMffdX5IBaLBYvFQklJCbt378bv99PQ0MDp06cL2c+33npr/nmRJYLZbMZmsxGJRDhy5Ah+vx/DMPjoo4+oq6vDbDbT19dHZWXl8kdaBAGLxYLNZmNoaIjjx48jiiKVlZWcPHmSlpYWHA4Hly9fXrQO1mLXd/r0aU6ePIlhGMRiMTo7O9m+fTvDw8OcOnVq1eWVVmUUS9d1crkcFouFSCSCy+VCVVVSqRTBYHBFbXxd1wmHw1itVqxWK5FIBL/fj6qqKIqCz+db0XOnaVphfQ6Hg1gsht/vR1EUMpkMPp9vRWvnkskk8Xgcm82G1WotXNNUKoWqqvPqEPzEEqSIIoomVhFFFAlSRBFFghRRRJEgRRRRJEgRRRRRJMhCkUqlCIVC6LpONBqd9X2T3YaGYRQk+3Vdn1G+P51O097ezpUrV64p759KpchkrrbsqqpKLJYfnpnNZkkmkxiGQTQavW6HXjabLbxH1/WCLJOqqoV153K5FRk3sNpgKt72c8fp06d5+eWX+bM/+zOOHDnCI488Mu090WiUV155BYfDQWlpKb29vXzmM5/h3LlzpFIpPve5z02Ro7l48SJtbW1YLBZkWaa6uhqrNT+lN5VK4Xa7kWWZw4cPEwgE2L59eyEnNDQ0hMVi4fTp04yMjODxeBgdHeXuu+8mGAzOWNPU2dnJG2+8wbe+9S1MJhOvv/46kUiEbdu2cfbsWTweDz6fj8OHD3P33XdPG7pTJEgRs2Kyievtt9/GZMqfung8TjgcxmazUVFRwcjICB0dHfh8PiKRCC0tLYU5gBaLhaGhoSl90ZqmEY1GsdvtRKNRjh49it1uR5IkwuFwoSnrypUr+Hw+enp6iMViWK1WNE3jzJkzDAwM4HA40DSNZDLJ008/zV133cXWrVsZHR0tJAh9Ph9erxdRFNE0DVEU6enpIRwOU19fz9q1a3nnnXeor6/H5XIxMjKSV8RcRYm7oom1ynHHHXcwMTFBb28vAP39/Rw8eJC2tjY0TaOvr49bbrkFl8uFYRhEIhFsNhuKopBOp6eJUAiCQE1NDcFgkAsXLiCKIkNDQ8iyzO7du+np6SEQCNDU1ITX66WtrY3+/n5kWWZsbAyLxcK6devw+/2UlpayZs0adu/eTSKRAPIysQcPHqS7Oz8FNxgMFjLr4XAYp9PJjh07OHfuHLqu43a7aWhoYM+ePUQikU+8mVXMpM8DQ0NDSJKELMv09/ezZ8+eQunEZB3ZyMgIx48fp6qqCrfbTU9PD7fffjuXL18mnU5z++23F3afyc98//338fl8VFZW0tHRgdPppKSkhPr6ekZHRxkdHSUej7Np0yYmJiYKZSSTZSXj4+O0trYSiUTweDyUlpaiqio1NTWEQiFkWcbtduN2uzEMg0uXLlFeXk44HCaZTNLX10d9fT0DAwP4/X5KSkpob29n8+bN81YBKRKkiCKKJlYRRRRRJEgRRRQJUkQRRYIUUUSRIEUUUSRIEUWsIvz/Y/nyYsU947wAAAAuelRYdGNyZWF0ZS1kYXRlAAB42jMyMDTQNTDRNbAMMTCzMjCzMrTQNjCwMjAAAEFxBQ2p1QpNAAAALnpUWHRtb2RpZnktZGF0ZQAAeNozMjA00DUw0TWwDDEwszIwszI00TYwsDIwAABBVQUJyAu+7wAAACl6VFh0cGRmOkhpUmVzQm91bmRpbmdCb3gAAHjaMzUwqTA1MNE20DYAAA8fAmFqyfi2AAAAHXpUWHRwZGY6VmVyc2lvbgAAeNoLcHHTNdQzUQAACL8Bu3R9uVkAAAAASUVORK5CYII=&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;200 reps, bootstraps that refit painting&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;observed likelihoods of BM &amp;amp; OU1 are indistinguishable from one another but outside the 95% confidence interval of the other distributions. The observed likelihoods lie easily within the distribution produced by those models for both BM &amp;amp; OU1.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Observed likelihood for OU2 falls within the bootstrap likelihoods produced under OU2.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Observed likelihood for OU3 and OU4 fall significantly below the likelihoods expected by data simulated under these models, suggesting that OU2 is indeed the best fit.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;anoles&quot;&gt;Anoles&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAADIAAAAyADrSnyWAABcHklEQVR42u29aVhc55nn/at9p6Cg2Ip9BwmBhHZLlrzJa+wkjh3HSdxZOtPTSXomk0zydk+mk8z0Mtd0ZpJcnu50Z9LTncRxe4njRbbkVdYuIQkECBA7FMVWQEHt+3LeD0SFywUSYNlaXH99EafqOU+dc57/ee79FgmCIJBCCiksCXHqFqSQQoogKaSQIkgKKaQIkkIKKYKkkEKKICmkkCJICimkCJJCCjcppKlbcHlEIhHMZjN+v5/MzEzy8vIQiURLfjcYDBKJRNBoNPFjXq8XqVSKQqH4QL8jFothtVrJzs5GKpVitVpRKpUEAgEkEglKpRKdTpcwZnZ2FplMht/vR6FQIBKJyMjIWNF8wWCQ+fl58vLyPtbPX/KjH/3oRykaLA+r1cqf/umfYrVa2b9/PzU1NQwMDDA2NkZOTg7d3d2cO3cOrVbLsWPHePvttykpKeHMmTNIpVKefvppZmdnEYvF9PX1EYlEOHPmDNFolEgkQnt7O2NjYyiVSrq7u+nu7kYmk+H1ejlz5gwajQaXy8XRo0d58skn2b17NxqNhh/96EdEo1FaW1tpbm7G4XCQlpZGIBCgubkZkUjEv/7rvzI3N0dLSwt9fX28/fbbSCQS0tPTGRoa4uzZs6jVagCOHj2K3+8nPT2dlpYWjh8/zrPPPkt5eTltbW2o1eokAqZ2kBSIRqMEAgF0Oh02m40jR47Q3NyMIAhs376d06dPU1hYyMGDB8nMzGR6eponn3ySrq4uNmzYwNTUFMFgkJaWFqampli/fj3Nzc2oVCpuueUW3njjDfR6PSaTidbWVrZv387TTz+NUqlEIpFw4MABotEogiAwMTHBpcggr9eLy+VidHQUhULBSy+9xMzMDHa7neHhYUQiEYIgkJeXx8jICIWFhfT29mI2mykrK2N4eJiCggIOHjxIYWEhQ0NDRCIRduzYwblz59Dr9VgsFv7qr/4Kr9fL9u3b+e53v4tY/PGSylM6yAqgUCgoLCwkHA7T3d1NfX09NTU1nDlzBr1ez+c//3kcDgdFRUVkZ2ezdetWTCYT/f39iMViqqqqUCgUfOITn8BoNCIWi3E4HPh8PtavX8+6desYGhoiNzeXz33uc0xOTtLW1oZCoWB+fh6z2cwDDzyAXq/nvaFzkUgEt9uNIAicPXsWgKGhIWQyGaFQCL/fTywWw+12E4vF2Lt3L3v27KGnpwe1Ws0Xv/hFbDYbFy5c4O6770alUtHc3Ex9fT379u1DqVSyfft2tFotAwMDBIPBlIiVQiICgQBHjhzB6XSi1Wr51Kc+xfHjx/F6vXzta19jeHiYt956iz179lBXV8fQ0BAqlQq3243RaKSoqAin04laraa0tBSv14vFYqGsrAy1Ws3rr7+OTCZj27ZtvPPOOwwPD7Nr1y62bt3K/Pw8e/bsoaioiDfeeAODwcDdd9+NUqmkvb2d4uJiQqEQWVlZ7Ny5E5vNxoYNG7DZbDQ2NpKWlkZBQQGBQACTyYRer0etVpOVlUUsFuPAgQPs2rWLvXv38vvf/57CwkI+//nPc+jQIbq7uykuLkav1+P3+ykuLmbnzp1IJJKP1fMXpaJ5r6wcezwewuEwKpUKtVqN1+tFJBKhVqsJBAJxEUwkEuH3+5FKpXi9XtRqNRKJhGAwiEQiQSqVIhKJCAQCKJVK/u3f/g273c43vvENTp8+zWuvvcb3v//9uF7g8XjQaDSIRCJ8Ph9yuTyubPv9fiQSCdFoFJFIhFgsJhKJIJPJ8Pl8caOAWCwmGo0iFosTjAuCIOD3++O/2+PxoFAoUCgUeL1eYrEYCoWCWCyG3+9Hq9Uik8k+ds8/RZBrCIfDQSwWw2Aw4PP5cLvd5OTkpG5MiiAppJBS0lNIIUWQFFJIEeR9GBgY4IUXXmBsbIz29nZisVjqTqaQIsgldHR0kJmZSVtbG62trSmCpHDTYk2e9HXr1sVNjMDHzjaewscHq7ZiCYKAw+HA7XYDxB1PSyESiRCJRFJ3OYU14WobWEUiEXK5fFXhMtK1TNLc3MzQ0BAlJSUUFBQkEGR4eJiJiQnC4TCDg4OUlJSkdpgUVrW+nE4nc3NzaLXaq0aSS+fds2cPNTU1H66Idfvtt3PrrbeiVCqx2+0IghD30mZnZ6PT6XC5XHR0dLBt2zZUKtWN84AQISCs+Pilz4BlP7/Sg3vvInj/3x87pVgsZnBwEJfLRUNDw1XTbyUSCadOncLhcHz4OohcLicWi+FyuXA6nWRmZsY/02q1aLVaFAoFarUauVyOXC6/IR5OVIjiiDjIkGUgfo/9IkAAHz4MGJYc5w17icaipCnSVjVfMBzEG/SSoV3I0YhGo9jtdgwGw8cuavb960ulUn3gHJr341KYzqoIu5aJLly4wP79+3nrrbewWq2rnvR6hTPq5Onpp/FH/QnHhxjiNV5bdlzrZCvvDL+z6vmGJod46fhL8b/dbjdPPfXUxzJq9rrd0dYyyGq1olKpSE9PZ3Jy8qYRCWJCDE/UkyQqRYjgZ5E0UaIJn4eiIfwR/6rni0Qj+IK+xfn/EJqeiv5534sLJ1NM4cYdPzY3N0dnZ+eHPveaRKw9e/YwPDxMOBxm586dN80OopfqeTT7UVTiRJ2plFIyWBCD3uANfsfv+BJfYje7AWjMbSQUDa16vtLcUtI0i2KZTqfj8ccfv+qixY2MKFH+J/+TF3iBr/N1vsW3gIVI5wMHDjA9PU1xcTH9/f0Eg0H0ej27du26avdwTQRRKpXU1dXddA9DJpJRoapIOp72h3/jjPNDfsgoo1iw8DzPk0EGWeqsNc2nU+vQqRfTWGUyGRUVFSlWvAcCAlNMMcAANmwJn2m1WiQSCc8991w818Xlcl3VXPpULNZ7RaVYiD5fHxEh0XfjwIEZM6/zOn78/JSfYsbMOc4BMOOdYcw1tnrRwetkaHIo/nc4HKanpyfugE0BJEj4D/wHXuZlvsAXEl4mfr8fq9VKWVkZlZWV1NXVUVxcfFUNHCmCvAeuqIsXbS8SiAUSjluwsJ/9vMVbbGUr93EfRRRxlKMLRovpCxwbPbbq+UanR3n97OsJSvoLL7yQUtLfAxEiNrKRh3iIGhb9F7m5uXz1q19l3759fOYzn2Hv3r00NTWxc+dOjEbjtdVBblqLhUiMRqKJ+zUuQY4cO3a66eYH/AA9eraxjXOcI0wYhVSBSrp6X49MIkOjXCwRJBaL0Wq1N41O96E+K7EYg2Fps3s4HL5qu0iKIO9BuiSdL+Z8EbVEnXC8iioKKURAoImmBcWcRvaznwkm2Jq3lbAQXvV85aZy8rPyF3WdtDS+9KUvoVQqUw/jPTpIh6cDS8BClbqKGvXiLuL3L1gO3+tnGx8f58iRIzz++ONXJUU4RZD37SAZ0owl5FAx3XRTTDFFFAFQRx1+/AwxRImsBAWrt5rIpXLkUnnCW3Glhd0+NlYsIcpPx3/KbyZ/w1+U/AV/W/a3cXF0//79SKVSCgsL0ev1TE5OUl1dHc+pT+kgVxm+mI8jjiOEhEST7RhjvMVb7GBHnAh55GHESC+9mOfNdEx3rFz3cI7yV8f+ir8/+fec7D6Z8EY8fPgw4XDibhSLxZKOfZx0kAJFAdXaanLluYv6osuFSCRCJBIxNTXFyMgIo6OjGAwGMjIyrpovKUWQ9xIk6uO44zihWCJBxhnHho1tbIsf06OnkEJ66WXAPkCHdWUE8YV9/OXhv+T/nv+/fP/17/PquVcXP/P5OHLkSAIZAoEAP/nJT/jyl7/MhQsXPn5WLJGE7xZ+l3cb3+XLeV+OH8/OziYvL4+cnBy2bt1KMBikuroapVLJ+vXrkUqvjnCUErHeK/KI5JSrypGIEqOPRxghgwxqqX3PjZNSTTWttKJQKygQF6xojpNjJzluPs6T9zzJi+dfpH22HX/Yj0qmQi6XU1lZmRD9/Pbbb/Pkk0+iUqn47//9v/OrX/0KrVb78dINpemkk55o4JDJuO222+J/FxYWxv9fX19/9cTuFC0WkSZNW9KTfprTVFJJDokleWqpZZRRynLLuK3kthXJ0y9cfIH6nHrur7yfRzc/yqBokP75fmDBk/7YY4/FvcCRSITf/e537Ny5kyeffJLz58/T3NycelCXU+oFgXA4nBKxPiyLyfthx855zrONbShJtC5VUEGUKOOMJ5mGl8KEa4KTlpN8ovoTyCVymvKa0Mg0nB47HX+474XVauX8+fPcdddd7N27l6qqKvbv3/+xeiYxIcYLF1/ge+98j7eG3kr4zOPx4PV644l5wWCQI0eO8NRTT9HW1pYiyNWGO+rm97O/T3AUDvzh31JWqjzyUKDg5emXOT56/Irnb51qJRQNsatoFwBBT5DATIDT46eJCTG8Xi/PP/983FF48eJFgsEgW7ZsQaFQcO+993Ly5Emmp6c/VgTZ37ufH7/7Yw6PHI4fdzqdvPzyy+zfv5/Tp0/T09PDoUOHyM3NRaFQYLFYUgS52gjGgvT7+hNCTU5xCj/+pAhegCyyMGLklPcUo47RK57/0PAharJqKE0vBcDr96IJa+iz9WEP2AmHwvT19cVDTdra2jAajRQXFwOwa9cuHA4H7e3tH5tnIhaJ2VG0g0c2PkJjXmP8uNfrRSwWIxaLmZ2dZXh4mNHRUWw2Gzk5OVfN2bomggSDQfr6+uju7sbj8dw0D0Mj1nBL+i3IxQu+CT9+DnGIfezjVm5N+r4SJaWUEs2Isi533WXPPeub5czEGXYX70YpXRDVcjJyeOyWx5j1zWJxWlCr1dx6663IZLJ475C6ujrS0hYifqurqyktLeXw4cMfK4L86eY/5flHnuez6z6bYMUqKiqisLCQ7du3IxKJ2LhxI1qtFq/Xy8aNG6+dFevYsWN4vV4UCgU9PT08/PDDN0V4hFqi5vb02+N/99JLDz38lJ+yne1LvF3ElFNOr6GXCi4fhds108Wcf45bixeJZsww8tjOx3jK/BQXZy+yMXcjd9xxB7BQt3dwcJAvfOEL8Xur1WrZs2cPhw4dwuVyxYnzcYRUKmXXrl3xvx988MH4/68WOda8g2RlZREMBnG5XBiNxpsmdigmxHBEHHFlfT/7ySSTjWxMSNZ5v6I+F55jMjR52XMfMR+hQFdAdWZ1/FgoEkIlUpGvy6d7tjteMQZgamoKj8dDdfXC92OxGC39LViCFvoG++jr6/vYkCEaixKOhlfsHbfZbHi93mtHkMbGRh544AHuvffeBBbf6LiUchuMBjFj5vf8nod5GA8eXuEVokKUqBBNIohzysnZ4bPLntcRcHB45DB7S/aSrkyPHx+eHOZg80GqMqvotfUyZ5/jN7/5DeFwGIvFQiQSobR0QV/53dHf8fhfPc7x4ePMeec4cfzEx4Yc//v5/82+/7yPX735q8Xjf2g/197ejtVqxWazYTabsdvtPPPMMwwMDFwbEUsQBN59910GBwdJT0+nuLiY7dsXxY9IJBJvW3aj5TVcKtoQIsT/4/8hRswjPEK7q51/nPlHDoQOoBKr2JK2hfsM91GsLCaHHDIiGZfdQdqt7Yy7xtlXvi9RlwsH8fq81JpqOT1+mnnfPA77QkuE/v5+0tPTycnOoW2wjR/+6w/59K2f5o/v+2P+xPMnvPb6a/zxv/tjdNqbu2+gIAh0DXVx5PQRttcurrOZmRl6enqQSCSYzeZ4R69wOIzT6cRut18bgohEIsrLy8nNzaWwsDBJvBoZGWF8fByPx4Pdbr+hxK80SRqPGB/hkPgQv+E3/Igf0WHr4HtD36NQUYhJZ2ImPMPPJ37OLyZ/wV8U/QX3Zd+HKceEPdO+rNj2u4u/o9xQTkNuQ8JnJbkl6NV6BvwDeENevCIvj332MWQyGQMDAxQWFiJIBP7umb+jPK+c7z32PQw6A19+/Mt859vfoaOzg107dt3UBBGLxXx+3+epr6hn57qdiwYSpZJYLBbv3NvS0oJEImHTpk3xhkHXTEkvKSkBFuKEhoaGqKurixOhoqKCiooKnE5nQtPJGwFysZyAOsAP+AGf4lPUeGr4yvBXeDDzQX5Q8gP0Uj1RIcp4cJx/mPwHvjf8PSJChIqcCkYYIUwYGYkh1q1Trbw5+Cb/9db/ik6e+LbXa/ToNXpCcyFC0RBWv5V7a+4lEAgwPDxMXV0dLQMtnOw8yS/+8y8w6BbyH27ddSsZGRm89fZbNz9BRGLu3nI3d2+5O+F4RkYGDzzwALAQgVBZWYlGo0Gv11NfX39tzbxzc3McPnyYo0ePolarE37MpQjL97f8uhHgFtz8N/9/I1/I5zux7/DL8V9SqCjkm8XfxCV1AQvBc8XKYv665K/5Qs4X+JvRvyEwG2DcM46XRMVw3j/PXx39K6oyq3io5qHk+XxuLDMWstRZGDVGLlovMjoyitPpZHZ2FlOhid++/VuaqpvY07AnPq7AVMDOXTt58/U3mbfPf2wtWQaDAYPBgEwmIz8/P95PUSqVIhaLGR8fx2KxxPNGPjKCnDx5kmAwiFqt5uTJkzdNmZrDkcO0zLbwfeH7TLgnOOw4zNfzv45P5uN1Xk/abb5V8C1MShPvtr3LpHmSaRY93OFYmP916n/RY+vhB3t+QIYyOc/DbDVz4PQBNHINpjQT50fP8+xzzzI1NYXD7iAsC3Om5wyfv/PzqBXqxLfqvXfTP9h/08dmCYLA6Ogo58+fZ3IyUc8LhUKEQiFisRixWAxBEDh+/Djz8/OMjY3xyiuvcP78eV599dWPliANDQ0EAgGmp6fZtGnTTWHmDRPmBV6gQlxBg9DAb2d+S5W6ijsz7kSEaMlQE6PMyFfzvoo1aGVWmGWMxcINbw6+yb91/hs/2vsjthdsX1a+lslkKCQKyjPKGXWOEpPGGBsbQyKR0DnRiV6jZ/eG3cnPoLEBdZaa5559jlAodNMSJBaL8Xd/93fs3buXf/mXf4kf93g8vPjii+zfv5+Wlhb6+vo4duwYDoeDaDRKJBLB7/d/4Jf3mnSQ4uJiiouLE2ry3ugYZ5wWaQvfzvk29pCdw/bDfKvwW2ilWsopJ4+ly8jcnn479Tn1tKhbGGKIO7kTd9DN35/9e/aU7OEztZ9Zds4KUwV5mQvnLc8o55DkEI98/hGOv36cqChK20gb9+y+h5yM5MaeBbkFVDZV8sbbb9DR0cGWLVtuakVdIpEkKN4OhwNBEIjFYlgsFrRaLdPT08hkMtxuNz6fD5PJxLZt2z5QluYHUvVvpuICHXQQFUXZI9vDm/Y3EYvE7MtYMMsqUMQLx70f2bJs9mXtAw/0RnsBODt5lr65Pr6y8SsopMun4ipkirjiXZZRhiPoIKaMMT42jj1gxxl0csemO5Ycq1Vq2bhlIzOeGX7z69/ctKWCxGIxf/7nf87x48f56le/unjfs7PjOkhTUxN2u52ioiKKioo4ffo0g4ODNDQ0kJ+f/4GKp6cSpv6Ac5zDGDPS4+zh97O/Z0/6HoqUC/nnVqyMM85mNi85dpt8G8zCoH+QsDbM6wOvU2mopCmv6bJzzjhmsExb2Fy9GZPOhDgq5vcHfs/gwCB+kZ+C9AI2lG9YdvyG6g1Ii6S8euBV/vhrf0xDQ8NN91xEIhEmkwmTyZSoA8rl3H33omXrkkMVuKrO61Q0LxAixAUuUBYr47eTv6XL28WDmQ/GczymmOIMZ5YdLw/IkcxLGPeM0+fv44TlBHeW3YlWfvnMv0nbJCc7F3LSszRZqFHzymuvMDg0iCfiYXPNZrLTs5cdX11YTUZJBvagnWf+7ZnUg/wwdrDULYA55phggkZRI/awnWJlMZvTFncLHTpMmJYdn6XOolZfi9Vl5aTtJHO+OXYX777ivFq1FlP2wnnTlenkpefhwcOMbQaRVsQt9bcgES/ffKgwu5D8vHxqt9Ty+uuvMzQ0dFNZr64HpEQsYJppXLgoE8rwx/zcbbgbg3SxKFkZZRRTvOz4zXmb+Wr0q/yl7S/53fTvMKqNVBoqrzhvWV4ZxdkL55WJZZTllmGpsGA/ZsdYaGRj5eWjUo16I3mZeeiNei6OXOTgwYP82Z/92Q3/PJRKJRcvXsTj8Vy91FmxmN7e3lXXlE4RBBhmGCVK5txzWENW7jYkem1FiBIa6iQLyrBRtxHZuIzmkWY+l/05MtWZV5avEcV3CBEiyg3l/F/L/yXqiHJL2S1x8iy7kORKqguqGZsZY+/te3nppZd44okn0Ov1N/TzyM3NZffu3VfV8HApuWq1CnuKIIAZM+mkc2r+FNnybKrV1Umf99HHPdyz5PjO6U4mXBPkCXlctF1kc93mFeWoW2YsdJu7uW/bfQuKproUaY+UqCjKprpN6DVXXuj1ZfUcu3CMz3/i8xx89SCtra3cfvvtN7zl6sMguV6vX3VT2ZQO8gcCiMNiWuwtpEnTkqqaOHAwyOCy460eKy6Pi1JRKTpBR33OysrO2N12BsYG4vknJrUJjUeDSCViU82mFZ2jurAaX8BHRl4GFRUVHDx4MPVAL6PXrFZk+9gTJEiQSSZxepw4w072GfYhEyUGHGaTzUaW1weK9EVsyd1CcbSYdEU6+en5K5o7Oz2bxsrG+G6Tl5aHTqUjPTOddWXrVnSOktwSJGIJ0+5p7rvvPo4cOfKxKuqQsmJ9yAgQYJJJph3TVKoq+Xd5/w6pKFHyNGHiFm5Z/i2eVU1TXhMijwifyoddtrJchPys/IQgRIVYgUqiori4mNL80hWdw5BmwJRlotvcze23347D4eDMmTOplZ0iyNWBEycz0RlmXDPs1O9cst1ziBAeli9OEYwGsQfsjNnHsMvtjEfGVzR3OBLG61+MAI4EIwQcASoqKxJas10OaoWa6qJqLgxdoKikiJqaGg4dOpRa2SmCXB3MMIMn4EEb0FKtruaZmWfwx/xJVq5XWT4itG2qjee6n2PEOUJMHmMstLJuU8NTw7x0crHL7ezMLE63E3/60mWGlkNDeQMTsxMEY0Fuu+02Tp8+zezsbGp1pwjywTHHHA6vgxxxDlXqKmZCM8SEWJIY5sCx7Dl8YR9d013MBeeQ6+R0+bpWJt6FAsy75uM7lsViwRv2MiGewBtaedGBuuI65t3zTNgm2Lt370fWATZFkOWsNlYrp0+f5vTp00xMTNzQN2CaaYKuIHXKOipVlXwi6xMoxYklRosp5g7uWPYc9Tn1GDVG0hXpbMzcyLhvnAhXNicW5RSxb/O+uJI+PjZOSBzCJrVh89lWfA1FOUWkqdPoHO6kprqGgoICjh49mlrd14ogZ86c4a233mJ4eJhjx45dtWYl1wIT0QnwwgbNBvRSPfWa+iQlPYMMqqha9hxGtZFgJEixrpg9mXsY9Y8yH7typl+GNoOaooWOSQICF3svYsgxINVKGXeNr/gajOlG8rPy6RjsQKPVsHPnTk6cOIHb7U6t8GtBkEtFGwRBuOF76k2HpxEHxTTqGhEQGA2MJpX2ceNmnOUX7Kx3lnOT56jNqqVMV8ZseJa58NwV5/b4PUzYFnbgcDhM32AfpTmlaBQaLI6V15ZVyBQ0lDdwYfgCoUiI22+7HbPZfFPFZt1QBElPTycnJweXy4XJZLphCSIgMBGYIF1Ip1xVjjPi5LnZ55KU9BFGeIM3lj1P+3Q7JywnqDXWUqeqQ4gIzIRnrjj/iHWEV08tKP9zjjkmxieQBWVkq7MZtA+u6lqaqpoYmxljwjZB/YZ6dDpdytx7rQhy/vx5VCoVDQ0N9PT0JHgnp6amuHDhAl1dXfE2WdcrfPiY9c2SJ8mjULHQpFOCJClMRIwYCctH1UZjUZRSJWUZZZiUJiRiCd2B7ivOf6m4BcDYxBiT05NkZmRSkl7CiH0kaSe7HGqLa4lEI/RZ+sjNzaW+vp6jR4+uOrQihatAkJ07dyKRSHA4HDQ1NSWQQCKRoFAokMvlV7Wh+4cBN27mfHOUK8vRSrSkSdL4fM7nUUkSQ03KKecTfGJ5gghRDCoDhWmF6CQ6MqQZTAWmrjh/RX4Fn9r9KQB6h3qRiCT8+6/9e2pzaxlzjuEPr7waR2F2IbmGXM4PnAdg7969dHZ2YrVaU6v8A2BNwYpZWVnceeedBINBhoeHE3LTs7Ozyc7OxuVy0drael1XPPEJPhx+B5XqShTihdTY9zaKvATVH/4th6H5IYwaI0aNEZ1ER5mijAH/wJJ1st4LpVyJUr5gMbvQcwGVUkVjYyMBbwBn0InNZ7ti0tUlpKnTaChv4FzvOaKxKFu3bCUQCNDd3U1BQUFqpX+UO8jo6Cgvv/wyr776ary63Y0IZ9iJL+SjSr1gofLH/Jx1n03qeT7DDO20L3ueXlsvBWkFqGVqJEjIUeUwHBxO0mXeD5vTRsdQB96gl66eLtLT0rl48SJ56jx84QXxbzXYWrOVoYkhpuamKCsvo6ioiOPHj6dW+UdNkI6ODpRKJTk5ObS1td2wdbGmI9NIIhIqlAutC7xRL2/Ov0kwFkz43iSTnOLUkucIRAKMOEYo1hcjlyz0FalT1uEMOPFGL+/sm7BNcPzCcWxOG32DfaTr0zly9AhGhRG5RI7ZYV7V9TRWNuIL+bg4ehGNRsP27dtpbm6+qXq43BAEueWWW1AoFPj9fvbu3XvD7iCjgVEkSMhXLkTfSkVS8uX5SV1u1aiTGnjGd6Ggk2nPNPm6xQjeclU59pid4fDwZedXK9TkZuYyMjHCrHWW8vJyyivK0av05GhyGJpfnZm2OKeY3IxcWvpa4s9pdHQUs9mcWukfpQ6SmZmZ0IL3RsVsYBadTIdWuiDn66V6Pp/z+SRPejnly6bczvnmcAadNOQsVhTJlmcjQsRMcAbUy89fll9GaX4pv3jxF3idXurX1/PEE08glojJ0+UxZF8dQfQaPRsrNnKu9xzhaJj6+nqUSiXnzp1j/fr1qdX+Ue0gNwtsfhuFssJ4/rkIUVxZT7xJYuTIlzyHxWlBKpZSkLaoCJfISzCIDQwGLu/LkIgliEQi2nrbEIVFlJSUIJPJkIgllGeUM+YawxteXSOYnfU76RvrY3x2nAJTAevWrePkyZM3dLRDiiDXAH7BT0+gB6PSiFq08Jp3R928ans1ocstgAUL7/DOkucZd40z55tj1LnYxFMj0ZAhz+Ci/+Jlf8PY7BgvHX+JiwMX0Sg1GDINvPrqq0TDUcoyyphyT60qaBFgQ9kGwpEwPaM9iMQidu3axfnz51PRvSmCrA6hWIiZ0AxZyqxFhTsWoMPTkWTFmmeePpZueTbqHMUddDPhWgzaVIlVVCursQashFi+bq7D7eDtc28zbB4mKyMLjUbD+fPniUajVBgq8IV9THtXlx1YlF1EobGQcz3nANi2bRtOp5Pe3t7Uak8RZOVwhp24wi6KVEUJC3ujbiNyUaI4lUUW60mW4SOxCCOOEbYXbqfOuFhORoKEClUFw8FhZiLLh5xkpWchk8uYnZ4lKyMLk8nEpk2bEEvE5GhzkIqlK2ov/V7o1DoaKho413eOYDhIZUUlOTk5nDx5MrXaUwRZOSZDkzhxYpIvFoTTSrTcn3l/kh5SSCF72Zt0jmA0iNlh5t6Ke5MquBepinBH3DgjzmV/Q54hj0xdJjFXDJPJRE5ODp/4xCeQyqRka7LRyDWYnau3QG2t3YrZambaPk16RjqbN2+mubmZQCCQWvEpgqwM1pCVAAGy5IsiVowY/qg/KeU2QgQfvqRz2P12nAEnpjQT0Vhi3FStohYhKjAYWl5R9wV9tA+0QwiKCouQSCR4vd6FKGm5lmJ98apNvQD1pfUEw0F6LQti1Y4dOxgcHEzqr5FCiiDLYjQwikKqIEO2WLXdFXHxbzP/luQBH2KI13gt2QrmsxETYky6J3lnJFGJN8gNKKQK+vzLt2s2W82097dDcKGtnd/v57e//S3BYHCh0mJGGYPzg0Riqws4LMwuJCcjh9b+VmChb3gsFktlGaYIsjqCKBVK0kSLxREiQoSp4FRSyq0fPzaSM/xmvDNEhSgamYZZb6KVKFuaTbG0mOHAcNKOFP8N06O4nW50Kh2mAhPRaJTJycm4SbbCUMGUewp7YHUdW/UaPetK1nG+7zyRaISioiJMJhPnzp1LrfgUQa6MmBDDErSgUWgwiA1JOsj7HYXL6SCjzlG0ci27i3cn6SBaiZYiVRGd/k68wtKm2qHJIUKBEFqFlry8PNRqNQ8++CBy+YKRoDyjHE/Yk0S+lWBLzRb6x/uZc82hVqvZtGkTLS0tKT0kRZArwxV1MRmaJF2RnhClqxQr2aTblJRym0kmdSQXPR5zjsULVVcYKpI+r1XVYg1YmYslZxcKgkD7YDs6sQ6lTInJZEIqldLU1IRUujB/cXox0ViUMdfYqq9xXck6fEEfw1ML4S7btm3DYrHc8DUEUgT5COCMOLFGrGQrshPC0SNChIngRJKI5cWLleS8ijHXGLnaXILRIHP+ZBJUq6qZC80tGZNl99jpGulCEVWQl5uHXq8nFosxMTERF7EMKgNZ6iz6bH2rvsay/DLUCjVdwwsVVurq6giHw/T396dWfYogl8d8eJ656BxZyqwEgjgjTp6deXbJulgHOJBogQr7mHJPUawvpmumi0PDycXaCpWFyAQZA8GBZHLNjGG2mpmanMKYZUSr1eJyueJKOoBeocekM9E3t3qCZGgzqDBV0DbQBoDJZCIvL4/W1tbUql8LQWZnZzl8+DBms/mKXVNjsRjBYBCbzUY4HL7hLtoStOCT+MiR5ySl0q40zdUb9mIP2CnQFyw0kxSSY52KFEVkiDNoC7QlfdZt7l5oYeyPYSowoVQq400pL6UPSMVSqrKqGLYP4wv7VnWNcpmcxspGeiw9uHwu9Ho9dXV1XLhwIZWGuxaCqFQqrFYrP/nJT/j1r3+NxbJ8VY3Tp0/z3HPPcfDgQQ4fPnzDXfRYYIyIJEKuJDF78FI07/uru5dTzgM8kHDME/JgD9jJ1+azKW8Td5bdmTRPmjSNEkUJF3wXcJLoMGwbbKPaVE2dqY7CwkIAdDodX/ziF1EqF40EdVl1jLnGcAVdq77ODWUbmLBNMGNf8ObX19czMjKCw+FIrfzVEEQQBLq7u/F4PDzwwANs2bLlsvnk0WiU0dFRioqK1lRS/prvIAELIpkIo9SYcFwqkmJSmBCLEq99qXyQac80sViMXG0uWrmWLHVW0jxqsZoqZRWDvkEmhUUnnTfgpXOok7qCOkQhEYVFCwSRSqUUFBQk3PvKzEpCkdCqk6cAqgqrECGKOwzr6+uZn59nbGwstfJXQxCfz0dPTw+RSASHw0F+fv5l85ibmprYuXMngUCAzZs331AJUyEhxGhwFJlSRqYosQtUIBagzdOWFKxow0Y3iVVKJt2TKGVKDCoDk+5JBueX9pjXqmtxBV1cjCxG9lrnrYzOjJKry8Xr88Z3kGAwyPnz5xNEoIK0AhRSxbLnvxwKsgowZhjpGllQ1IuLi1Gr1QwMDKRW/moIYrPZaGxsxGAwIJPJkMlklx106tQpvF4vIpGII0eO3FA7SDAWZCw4hkKpIJdEEcsT9XBg7kBSyu044xzlaBJBNDINmepMLs5e5PT46SXnq1RXIoQFzoUXnXS9ll7EIjFasRaJRILRuLCTeb1e9u/fn6ADZqmzKNYXc2H6wqqvVavSUl1QTddIF9FYlOzsbIxGI93d3amVvxqCFBcXk5GREa+WeKXecFlZWfj9fpxOJ1lZWQk7yODgIEePHuX48ePYbLbrbnexh+1MR6bRK/WkkZYkYhllxiQRS4WKTBJ3mzHXGFnqLLRyLRq5hnRl+pLzlShLMIgMtPhb8LLgMOwY6sCYYUQek6NSqeIEkUgkZGdnJ4hYComCOmMdXTNdhKKhVV2rSCSioaKBvrE+XF4XKpWKqqoq+vr6rmr/v5sZcY+Yx+PhwoULyOVyZmZmyMrKWnZQY2MjNTU1+P1+ZmZmEsr+FBYWkpeXh8vlwmw2X3e7izVkxY6dAkUBGjRJSvoXcr6wpJJexGJYfDQWZdI9iUlnQoSIprymZa/TKDdSJC2ix9fDWOYY1dFq2gbaqC2qxWa1kZOTg06nW1Dq09L4oz/6IxSKxGji+px6Xh98HavHSpG+aFXXu65kHS6vi7GZMTJ0GdTU1PD000/jcrnIyMhIMWClViyNRkMkEiEUCl2xgWIwGGRkZITR0dGk2rwKhQKNRoNGo4l7hK83gjhwkCnPTCKICBEaiSapsqIUaYLHPRKLMOWZwpS2ECovl8hRSBVLzpcuTadGVYPVZ6WHHmxOG4MTgzSUNTA1OUVBQUFcpBWJRGg0mqRdtz67Hl/Yt+ocdYAKUwUikYj+8QUHYWVlJW63O9WmbbUEcTgcZGdns2/fPgwGw2UHHT16lMHBQWZmZmhubr6hdJCRwAiCVMAgMyQRxBP1cHD+YJIOMsYYh1k0Z7tCLmw+G4VpC8p1z2wPZyaWroMrQsR6zXpivhitQitDU0M4vU5qCmqwWCwYsg1xkcrn8/Haa68l+aGK9EXkanNpmWxZ9fVm6bMoyS2hfbAdgLKyMiKRSCrkZLUEKSwsRKlU0t/fH/fkLofc3Fz8fj8Oh4OcnJwbyoo14h8BBeSJ85J6n/tjflpdrYSE0GWtWDafjWAkGC/1M+Yco3d2+ZTWWk0t0rCU1lArxwePY9Qb0cv1WGesiJSL987v93Pu3LkkR55BZWBd9jrOTZxbtR6iUWqoLKik29xNOBrGaDSSkZGRSsFdrQ4SCoVwuVzk5+df0ZO+YcMGKisrEQRh1Y3ZryVCQoiRwAioIUeUXOdKKVayXrs+qcutAQM11MT/nvfPE4lFyNEunCMvLQ+1fPn6PmWqMrLJpsvTRWgwRFVhFUTA6XZSXFKcIJ5u2LABiSS5UPZ203Z+2vxTbD5bQg2ulWBD2QaOdRxjzjlHpj4Tk8mUMvWudgeZnp6mv7+fM2fOXLEChkgkQq1Wo9ForvsC1e+FM+JkMjwJKsgjL+lznUTHQ1kPXbHD1IRrAolIQrYmG4D12eu5pWj5Lrh58jyKZEVMzE7QMtpCU2UTM9YZVHIVd+28K/49rVbLpz/96SQlHWBT3ib8YT+dM6tPeqovq8cT8GCZsSCTyaisrGRkZCQV+r4aghgMBjIyMsjPz6eiouKmvFhHxMFUeAqpUprkA4GFfiGhWGjJlNsgi2KnxWkhS5OFRqaJK+3h6PIxaTqJjhp1DcKIQGQuQmNlI2azmQxDBmrN4s4jCALBYHBJna7CUEGBvoCTltUXXyjKLkKn0nHRvOCsrKioYGJiIlWSdKUE6enp4ejRo6xfvx6VSnXTtu4aC4zhxo1eqU/ya8BCyu2zM88m1cV6fzTvmGuMXE0uatnC4m6bauOwefmYNIlIwjrtOhiGfGk+5aZyRkZG8MV8HOk6Ev+e2+3m6aefXlIH1Mq17CjYwamxU3hCq1vYxgwjxbnFcUW9srISh8PBzMxMigErIcjAwADbtm3jvvvuIzs7+7KBijcyhv3D+KQ+dFIdBpItdWEhzFhgLCmi9735IOFomDHnGKY0U7xYtSPgYNpzebPpOvU65FNyZPkyYuoYo+ZRMrIymHcvdrkNh8NYLJZlqyDeWnwrI46RVYedyCQy6svqFyKIIyHy8/ORyWSMjo6mGLASgmi1Wo4ePcpzzz1Hf38/Wq32przYIf8QEVkErVS75A6ilWjZZ9iXVPangAJ2sxsAT9jDjG+GkvSS+OfVWdVsMW257Nwl4hIMcwas5VZ6o71YJ63s3rqbPRv3xP0uGo2Ge++9d9lQn425G0lXpC8b1nIlRX1idoLx2XHycvPQaDSMjIykGLASK9bevXvZsWMHgiAgFouXVBJvdISEEMOBYVQqFbni3CUb4ijFSralbUsWUf7wD8AddGPz2SjWL1qf3vv/ZcUsrwSpW8pMwQynnaeZnplme9N2NpRuWJxfqWT79u3LniNHk0NjXiOHRw7z1Y1fje9gK8G6knWEIiEGJwYp3VRKfn5+KrtwpTuIWCxGpVKhVqtRKpU3dNfa5eCL+jAHzIjVYrLJXrIYdUSIMB2aXrKqySwLlr0pzxSRaIRCfeGi7hByX7HyyOjkKPOBeWK6GG+NvkVMiGHIMmD3LI6LRqNMT08vK2KJRCL2luyla7aLSffqalyZskzkGfLoGOxAJBZRXl7O0NBQKnlqpVasmx3WkBVH1IGgEsghZ8nWaCupizXuGkcpU5KpWhTRzk+d553hdy47f1t/Gz61D2TQam5FoVTgE3y8dPylBCX9qaeeuqyjdnP+ZiLRCG3WtlVdv16jp6qoKt7DsKqqisnJSex2e4oFKYLARHACj+AhTZFGPks72gQEgrFgkpk3RowIC2/aUccoOrkuIUHqSmbecCTMhaELVBZVkiZOI9QZwphlJD09nUBo0WIWi8UIBAKXDd0pSS+hwlDBCcuJVV2/SCRiU+Um+sf6mffMU1ZahtvtTlmyUgRZwIB/AKQL3uqlnISwkCL7uezPJUXzllHG/dy/cJ75AQrTCtHINQnK8x1ldyw7t8PjoGesh0/Wf5IcIQe6oKS4hNrSWh665aHF+dPS+MIXvnBZHVAlVbG9YDvnJs7hDDpXdQ82VW7C7rHTP9ZPWVkZ0Wg0FZOVIsgC+n39ZCgziIqjmDAt+R2ZSEaxsjipBZsWLfnkE4qGGHWOUm4oT/iOQWUgR5Oz7NzDU8O4vC7uqLmDCirAAqWVpaRp0jBlLf4WqVRKSUnJkqEm78WOwh1MeiZXnYZbbionXZvO+f7zGI1GsrKyUop6iiALQYh9vj7UKjVq8fL9BoOxIF3eLiJCouI6zzz99OMIOJhyT1GVWZXw+ZRn6rKLtdvcjVKhpKGogZpQDfggWBnEGXDSN7ZY0icUCtHZ2XlFxbnOWIdGpuHcxOpKiWalZbGueB3N3c0o1cpUTFaKIH9Y4OF5rCErOrWOtD/8WwruqJtXbK8kedLHGOMIR5hyT+EJeRJ8IABdM12X1QnaBtoozy/HqDdS46+BCPRW9DJgHeCtlrfiOo/H4+HFF1+8YrBojiaHqswqzkycWbLc0LIPWyxmW902usxdeINeqqqqGB4exu/3p5hwNQkSjUYJh8NMTEzcEDd3MjSJO+KOE0TP0glhEpGEDGlGUhi8HDnppGN2mBEhSiKIWqZGp9AteU5fwMdF80Xqy+qRiCXIJmSghiHDEAFpgHRNetxRKJFIMBgMVzSzS8VStpq2cmH6wqr1kC01W3B4HPSN9VFbU8vY2NhNG1p0zQhy9uxZ/vEf/5Ef//jHnDhx4rq/yH5fPyqpCkEhYMSYlCh1CXqpni/mfhGVJFFJr6CCB3mQ7tluTGmmBBMvQFNeE/vK9i15zqn5KSbnJmmsaARgpG8E0mBKNIU6X81ndn8m/l2dTseXvvSlhLpYyy70/C3YfLZV9w+pKqgiNyOXU92nqKysxOPxMD4+nmLC1SRIY2MjO3bsoLS0lKampuv+Iru93WTIMwjJQpgwJaXULt4MMTqJLulzGTJkgoyu2S7KMsqSdgulVIlKtnRezNDkEJFohLqSOiKRCH39fZAPc9E5JsWTCfk0YrEYnU63IkdtdVY1apmajumOVd2LDF0Gm2s2c6zjGOmZ6SiVSoaHh1NMuJoECYfD+Hw+0tPTr3sRKxQL0eProVJdiUPsoJDCZb/rjXp52/52UsrtJJMcCBxg1D7KhpwNSQTqm+ujdWrpmredw51kp2eTZ8jD6XQyPDJMeW05EX+Ed2ff5VTnqUVxzOfjzTffvKIOApCpyqQ6s3pNabi3bbyNXksvvpiPnOycVBmgq02QY8eO4fP5KC0t5ejRowmOLafTycTExHWjn9gjdswBM7maXLx4E6qTJOkLMR/NzuYlC8e97nmdGe9MQrPOSxh1jNI13ZV0PBKN0D7YTlVhFenadCwWCx6Xh3s23oMsJOPk9EnO9Z2LK+l+v59Tp06tKPxDLpGzKX8TnTOdOAKO1ekh1VtQypS0DbdRXV1NT09PqgzQ1SRIbW0tPp+PqakpampqEkQCh8PB2NgYExMTBAKBax7XNRocJRANkKXOIkp0yUSpuKgkVlKjqUnqD2LAQHAmiFwipzyjPGlctiabkoySpOMev4f+8X7qy+qBhZphUrmUu+ruIj2Szrx0ntzC3PiOpFAoqK2tvaIf5L16iNVjxeJcXXpCfmY+TdVNHO44TGlFKUNDQ6mQk+UMImsZVF5eTnl5OYFAgOHh4YS6WMXFxRQXF+NyuRgaGrrmFU96fb3IxXLUSjUxYpcliE6i49NZn05yFBZQQPZ0Nvlp+eTpkr3wDTkNS7ZZG5sZY941z/rShRbSnZ2d5OblsqlwE6ZBEzatjS3Vi2HyWq2WRx99dMVpzNWZ1aikKrpmutiQs2Hlb0WxmPu3388P/vUH7NyzE5fLxcTExGVroaV2kNWILXY7x44d48SJE0vWcbqe0O5up1RZikvmQot2yUSpSxAQiBJNWuz+iJ+2qTY25m5EJU1WxmNCbEl/RP94P2KxmPL8cmKxGN3d3VTXVJOny6NOVYfNbWM0upi0JAgCkUhkxS+VHE0OJeklnJ08u+r7smPdDhQyBWanGYVcQU9PT4oNV4sgJ06cwOfzIZfLOXHixHVbF8sX89Ht62a9Zj02sY1cclGyvAnVFXHx/MzzSY7CQc8gPc4emvKWtti1Wds4Yj6ypIJuyjKRl5nH7OwsZrOZ+vp6pCIpjbpGfGYfp08sJj95PB6effbZK5ZdugSFVEFTXhMXpi/gDXtXLWbduuFWzg6eRZ+pp729PcWGq0WQ9evX4/P5mJ6eZsOGDdftDmIL2ZgITrBOu45xxskjDwXLBwKGhTAj/pGklNtR2yjSqJT6nPolx83755lwTyypoNcW16JWqLFYLDgcDtavXxC31mvXI3PLGJocIsbC7hMKhRgaGlo2H2QpbMrbxLhrnHHX6nwZIpGIB295kCnHFDFNjM4LnXi93hQjroYOUlpaSklJSfxGX6/o8fUQjAUp1hQzxRS3cduyPhAAjUTD3oy9SSm3rROtFKcVU5C2dEuICkNFkm4y55pjfHac+7bfB0BXVxc6nY7S0lIAKpWV5GfmY9FaCBFCiRK1Ws0dd9xxxer670WdsQ4RIrpnuqnOrF6dNatmC+X55fRN9TE/Mc/09DRlZWUpVnzQHeQSMa73zMMOTwc5shz0Cj1zzF3WxAugEqvYrd+dUDguEAnQMtlCY24jaYqlY7jKMsqoz65fUkGvK14wC3d0dFBYWEhm5oIXPk+eR6WxEnOOOZ6tqFKpuPXWW1dFkHxdPkX6ojX5Q9LUaTy06yHsgp0ZxwwXL15MMeJqEeR6R0SI0OZpY71mPVFpFAcOirl87nhUiDIXnouLPABWj5X++X7WmdYtO84b9ia1SOsc6SRNk0ZZfhl+n5+uri4aGhriuR4qsYoGRQOTs5OYY+aF+aNRbDbbqkQstUxNY24jrVOt+MOr9zvt27yP3Lxc5gPzNDc3pxjxcSGIPWKn19dLk66JKaZQoLisiRfAGXXy9PTT+KOLC61ntodpYRpHjmPZca2TrUkpt10jXZiMJrLTs5mYnGBsbIzNmzcnfKch3ECoLURvaKFO7kpSbpfCVtNWLE4LU56pVd+nsrwy7rvlPtDAmTNnUnrIx4UgQ/4h3FE3DZoGxhlHh4500i87JibE8EQ9CWbe1slWpFopMv3yYk8oGsIfWSSVP+ina7iL+tJ6pBJpPOeiqioxj6RUXorKr6Ldv2BBisViuN3uVVsF67PriQpRemyrN9WKRCIe3vMwhhIDPf09WEYtKVZ8HAjS7mlHJ9FRpi5jkEGMGMng8g1j9FI9j2Y/Gk+5DcfCtEy1cH/O/XxK/qllxzXmNnJbyW3xv6ft01hmLDRVLZiFW1tbyc7OjvcivITq/Gqq66vpcHfgxEmaLo3HH3981WWXTGkm8nX5a9JDYCEVd88te5icm6SltSXFipudIAICZ11nqVZXo5FqGGGEYoqXrGTyXshEMipUFXFP+pR7isH5Qe7Iv+OyCn6WOiuh4vrg5CDRWJTqompisRjnz59n/fr1SQX5jFoj24u2M+AeYEKYQCqTUlFRseJQk0vQyXVsyN5Ah7Vj1e0RAFRyFZ+793NI06ScOH5iVTpQiiA3IObD8/T4etii2wIisGChnPIrjgvFQvT5+uIpt0P2IQKRAEU5RYywfBXCGe8MY67F1sodgx1k6DIozilmenqakZERtmzZkmT18/q8ZLoy8fg9dIe7EcLCmgMHm/KbGJgfYNY3u6Z7dnvT7WzetpnTZ05fsbp/iiA3OCxBCzPhGZp0Tdiw4cBBKaVXHOeKunjR9mLck35+6jx52jwEvcDbvL3suAvTFzg2eiyuR7T0tbCuZB16jR6z2YzL5WLdumQrmNlqZvLiJKqIitO+09g9dl544YVVK+kA643rCUQCDMytLcc8My2TRx58hNGJUbq6ulLMuJkJ0u5pRyvRLvQGxEqU5SuZJNwMkRiNRINYJCYqRGm3tlOVWUW2Mhs1yzfIUUgV8Rgtm9PGwPgAm6sXLFYdHR1kZGTEHasJ80nE1KXXUaWo4rTrNC6xC51Wtyb/UllGGQaVYdm8lJXggdsfwJBl4O133k4x42YliIBAq7uVcmU5OfIcRhhBjPiyiVKXkC5J54s5X0QtVuMIOOiz9dGQ20CNqIYHeXDZcZvzNrOvfF9c/7C77Wyq3BRX0MvLy5eMlC03lfOV277CLWm30Ofow6qx8pUvf2VFKbfvR5oyjTpjHa2TrUmhMitFeVE5d95+J++8+w62eVuKHTcjQTxRDx2eDjbpNi10d6WfXHKXrWTy/h0kQ7pg6RqxjzDnn6MxtxEJksuOV8lUaOULCvj5/vMY0gyUm8pxOp10dnbS1NS0pOItl8pJ06Rxq/5WgoEgp0OnSUtPW9MOIhFJ2JK/hb65PmzetS1usUjMg/c/iHnUTHNLyml4UxLEHDAzHZpeUNCBAQYopPCyItIl+GI+jjiOECNG92w3apmaiowKrFhpZvkFMzg/SMd0B7FYjDM9Z6gtrsWoNzIyMsLc3FySg/ASrPNWzvacpVHXiElk4lXrqxw4fIBwOLyma9+YtxFHwMGIY+1tDbZu3kp+bj4vvfYS0Vgqy3BNBBEE4bpN0ezx9iARSahV1+LFyxhjVFKJhCubTn1RH8cdx/FFfbRNtVGeUU6OJgcrVlpY3j8wbB/mwvQF5l3zdI10sb1uoYVBT08PMpls2ZZ21nkrp7tPkyfPY3fabk5NnOLpw08TDa/t3pZllJGuTOf81Pk137+cnBz27NrDoUOHGBobShFkLYMuXLjA008/zcDAACdPnryuyHLGfWahq6w8m3nmmWaaKqpWNFYuklOuLicUCdE100V9Tj0SyYJ4VULJsuOy1FkU6gu5OHoRt88dzxJsbW2lrKyM7OzspfUGTRrFecVIRVL2GfYRCUVwFboQS9a2sRvVRmqzajk7cXbNegjAvrv3YZuy8c7Jd1IEWcuggYEBKisruXjx4nVlEnRH3bR72mnSNqEUKxlllAABKqlcmaIrTeOx7MeY9y7kdzTmNgJQSin3cu+y4xpzG9lbvJeTXSfJM+RRXViN3++no6ODDRs2LKt0l+aW8sD2BwDYmbaTirQK5u+ex6NYW3NNsUjM1oKtdM50YvevPcd88+bNlJhK2P/afrwBb4ogq0VTUxNyuRyTyURZWdl10wp6IjiBJWBha9rWuP6hQ7dsLd6lLGAiRPTN9RGJRVhnXBc/vlTOeQI5/W6Odx5nS+0W0jRpTE1NMT4+ftm6Ye89Z4GigPsy7qPd1s6pyKk134OmvCacAScD82uvuZubm8tte27j7KmzdA51pgiyWszOzjI8PMzo6Oh1lRdywXMBmUhGnXohB6Ob7oWCC2SveAd6wfYCpydOU5BWEE+CMmPmDd5YdlznTCe/av4VQxND7G3cCywkSEUikSUdhJcwah3l9TOvAyBCxCPaR1C+ruSF2RcIszZFvTqzmnRlOs3ja7dCiUQi7rn3HoLOIG8dfStFkNXC5/MhkUiQy+X4fL6E6NOxsTHOnz9PW1sbDofjIyXPWfdZSpQlmBQmggS5yEVqqb1iDNYlhGIhLjgv0GJtoTarFr1ioYavEydmzMuOm/PN8fzJ59EqtfEAxbNnz1JYWEhBQcGy45xeJ8OTw/GdpEpWRflUOW+Ov0l3dG3F3AwqA035TZwcO7mmuKy4NWvrVqrLqnnzjTdxeBwpgqwGu3btYsuWLVRVVVFbW5tAAp1OR3Z2Nkaj8SNtBuqNeml1t7I5bTMKsYIZZrBgYSMbV3wOrURLjbwG87yZzfmLptlcctnC8l1s87X5OKwOGisbyc/MJxAI0N7ezsaNGy/bMTjXkMuW2i3xNGCdWscX9n2BcCDMM7PPrFkP2VO8h4szF5lwrb05jtFoZN9d++hs7aS9rz1FkFUNEovRaDTodDrk8sRmmOnp6RQUFFBQUIBKpfrIKp6MBkeZDE6yVbegfwwxRIAANdSs+BxKsZKCaAHRaDShzlQeeWxj2/L3Iygm7Axz1+a7EIlEWK1WhoeH2bLl8q2hcw257Fy3c9GKppLzzU98kydMT/Dc2HO0+9a2MLcVbENAWFO76Pfi/vvuRxQU8ea7b6YIshqcOXOGQ4cO0dzcTF9f33VxIa3uViQiCfWahdzw85wnk8zLmmeXQvNUM2mKNEozFoMbgwRxsnybgXfPv4tUKmXHuh1x/SMcDrNhw+WLuYUiIVy+xVTdWCyG1+nlK/lfQSwT8+PRH+OOrr41QZG+iIacBl4ffJ1IbO1dbBsaG9jcsJl33nqHOddciiArRTgcRiwWI5FICAaD17wuloDAcedxajW15MnziBDhDGeop/6KWYQJOkHYyWvDr7EhZwMZysXkqiGGeJVXlxwTCAU40HyA7eu2U5i9EO/V3NxMUVERxcWXz4EfmhxK6nL7q9/8ijLK+FTJp/id83f8y9S/XNGC9n7IxDIerH6QM+NnPpA1Ky0tjU984hMMdA7Q3t2eIshKsXPnTrZt20ZjYyP79u275las2fAsbe42btXfilwsZ4opeuhhF7uSmuFcDvO+eWads+wq2oVYtDguTBgPS/smeiw9nB88z4a6DYhFYrxeL2fPnmXr1q1oNJrL7yDhEE7v4s4UjUax2+1IYhIeTX+UNFMaP574Mc2u1Vuk9pTsQSPX8Grfqx/o3t51111oFVpef+v1FEFWCqlUSkFBAcXFxR+pIr4cOj2d2CN2btHfsiBu0UqQ4GX1hqUwYBsgHAknKOgAJZSwj6Ub5Lze/DqZ+kzu3nQ3ABaLBbPZzM6dO684X0luCfdtu2/RSPCH2rxShZQGGrgt7zYmtBP87ejfMh+ZX9W1mHQmHqp+iGe7nl11Ubn3oqq6ir279/LW629hnbOmCHIj4l3HuxQqCqlWLxROe5M3qaWWMlZXBO2E5QRF+iJK0xOTq/TolzzXnGuOg2cO8tCOh6jOXZj77NmzKBQKGhoarjifXqOnwrQYpyWXy+PV3ZUoeVT6KOoiNYd8h3h2+tlV35fPrv8svrCP57qeW/O9lUllfOrTn2J8eJzmc80pgtxomI/Mc9h+mNvSb0Mn0THKKMc5zj3cc9kyo++HO+TmhOUEFTkVaBWJplkXriX9IGd7zjI1N8WOxh3M+GaIxWIcPnyYDRs2YDJdOUHL7XMzOj2aoNsNDg7GY9v2spcGXQPyHDn/NPlPC73eV4HarFqeaHiCf2n7F3ptvWu+x7t37aa0qJSXX375Ayn9KYJcA5xzncMasnK3YUHEeZ3XiRHjLu5a1Xl6bb30zPfg1DoJCokpr2bMvEWiRzkai/Li8RdpKGsgpo5x2HyYqckpWlpa2Lt374oKL5itZg40H4j/7fF4eO655+Ipt0aMPMRDaPI02MV2/nXqX1etsP9R4x+hV+p58syThKNr885nZ2fzyU9+kiPvHGFwaDBFkBsFMSHGK7ZXqFZXU6+pZ555nuEZ7uXeFeWgvxdvD71NmiqN2pzaJKucBEnSbjQ4McjxjuN8Zu9nyNBkIJfKaW5uJhQKsXv37pXdfLEYuWzRjyQSiVAoFAlGj4d4iDRFGnl5ebwy+woXvasrD2rSmfj2jm9zsP8gbw6t3Z/x0EMPEY1EefmVl1MEuVEwFBjiiOMIDxsfRi1R8yqvMskkT/DE6qxX/nkODhzk4aqH+Q+l/yFeF+sSyilPSrk90HwApVzJnsY9bMrbxB7THl478BoNDQ0rLgBdYarg07s/Hf/7Upfb9xo+qqjiDu4gYowglUv5jfU3q95FHqh6gNvKbuPHJ3+M1bM2Rbuuro59+/bxzNPPMDE5kSLIjYBXbK8gF8u5x3APs8zyS37JAzxAPfWrVs6nPFN8quZTZEozkyrAK1EmFJ2bd83z4rEXuXf7vZiyTKikKmwTNk6fPs2DDz6YFF2wHBQyBQbdYkMfiURCVlZWQnS0GDGf43N4ZB6Kc4t5de5Vur2ri9NSSpV8d+d3mQvM8Q/n/mFNuSJSiZQvf+XLWGes/PrXv04R5HrHVGiK52ee55NZn6RAUcAzPMMss3yVr65q9/BH/Pym4zdsyd9CRVYFp1ynCAmJQX7vzyg80nGEqbkpHt7zMAAWl4Wf/OYnqFVqbrvtthXPPeOYoaVv8byBQIATJ04kpdxuYQvb2c5M1gwKmYKnrE+tehepM9bxnR3f4amOp3hj8I013fOtm7dyzyfv4R/+4R84fPhwiiDXM16YfQFHxMFjxscYYohf8kse53HWsW5V53l35F3OTZ7jKxu/giAWODR/iFAskSBTTHGGMwuECvp56s2n2F63nQ1lC6EkPcM9PPX0Uzz04EOXjd59PyZtk5zsPBlf7F6vl7fffjuJIHLkfJWvYpPZyMnN4RXbK7R52lZ9zx5b9xj7Kvbx/UPfX1Narlwq55tf/ybo4c+++WccP3b8uu0u9rEmyGRokl9bf81DWQ9RqinlZ/wMLVr+mD++bIOc98Pms/Gz0z9jT/Eebi2+FalISpGyKKmJpw5dvK7W8c7jtA+188TdTyCXLohSfSf7yBZn8/AjD6/qOrRqLaZsU/w3y2QySkpKlkxAu4VbuJd7MWeZESlE/Hzi50lEvhJUMhU/3PNDCvWFfO3Vr60pZ6Sprok/+daf0GPr4Yk/eoJ//uU/4/P5bl6GCB8SnE6n8E//9E+Cz+e76uf+6dhPhZozNUKvt1c4KBwUioVi4Vnh2VWdIxKLCH997K+F6r+vFtqm2gRBEISYEBOCsWDSd6NCVAgLYcEX9Amf+eFnhId/8LDgCyxc19jYmLB582bhe9/7nhCNRlf1G6KxqBAKh+J/x2IxIRgMCrFYbMnv9wg9wgZhg7DOtk4oOF0g/H7292u6f6OOUeHTz31aqP77auF33b8TwtHwqsbPOGaE+797v0ARgjpNLXzjG98QpqenhesdFy9eFC5cuLCqMTccQQZ9g0L92Xrhb8x/IwwLw8IWYYvwNeFrgl/wr+o8B/oPCAU/KRD+8dw/JhHn/YgJCwv25RMvCyWfLRHePPfmwgKPRoUf/OUPhHXr1wm9/b2rvpZYLJZEqkgkctkxvxV+K2RHs4Ws/iyh8Vyj0OXpWtN9nPXOCt99+7tCwU8KhB+f/LHgD6/u/nWbu4VbvnmLoGhSCGnGNOGxxx4TpqamUgS5lgQJx8LCtwe/LWxp2SK0BFqER4RHhJ3CTmFEGFnVeTqnO4WGf2oQ/uTVPxG8IW/8uCviEl6YeUHwRxMXi1kwC7+Y/oWw/U+3C3/yv/9ECIYXdpk33nhDKCkuEb7x378hHLccX/X1mK1m4UDzgfjfbrdbeP7554VAILDsmKAQFP6b8N8EXUAniNpFwt3tdwuDvsE13c9AJCA8eeZJwfQTk/DDwz8UfOHVPavO4U5h73/aK6h2qASZXiY89tnrmyRrIciadJBYLIbT6cRutxOJfHShB2/Mv8HvZ37P44WP8zPFz+iiix/z41XlfEy4J/jOW9/BqDbyl7f+JWrZYkG5QCzARe9FwkI4yU/y46d+TCgc4j898p+QS+V0d3fzF3/xF9x5x53c8eAdDM8Pr/p67G47A2MDcSU9GAzS1dV12TJKcuR8h+/w54o/x1Bh4M3Ym3yh5wscdhwmxOp0EoVEwTe2fIO/vu2v+ee2f+Zvj/8t3tDKq5isL13Pr/6/X/H4px9HsU7Bc68+x3/8j/8R86iZQDhAKBK64ZV4yY9+9KMfrXZQS0sLLS0tjIyMMDMzs6Rj7NLDbmhoWFVTyuXQ4+vhWwPfwpRhwlxgpk/Ux8/5ObvZveJzzHhn+Pab38bisvBPD/wTFYbkgm5RopSrypGKFhoA25w2fvKrn9BztoefffNnbKvdRldXF9/4xjfQ6/X87Gc/Iz0znTRFWkKPkJW+aOQyOSW5JQnHysvLLxuqIkfOdrazRb6FcHqYDk8Hz088z5noGebUc2glWtJJX1GxPJFIRH1OPdnqbP7Pmf9D/3w/9Tn1Cfkwl0O6Np07N91JZUUltpiNY28fY/+r+3n74tscbDvI2b6zzLvnSdelo1PprmlqxKX+jzk5OSsftJat6t133xVeeukl4cCBA8LLL7+8pFJ5NUWsDk+HcFvbbYKuXScUBAqEPcIe4axwdnW6y/yg8Mjzjwj1P68XTlhOXPH73oBXeOPsG8Kd37lTqPtSnbD/1H4hFAoJr732mtDQ0CDcc889Qm9v7zUXG/yCX+iOdAv/Y/x/COVnywVxi1gwjZmEJ7xPCC9FXxLGhXEhLFxZCY8JMeGNwTeEpl80CRv+cYPwP0/8T6FzulPwhDxJzzcaiwr+sF/wBD1CIBKI62gOj0N44/Abwv333y/INDJBlCsSxLViQbVdJax/fL3wN7/5G2FgfECIRCM3jIglEtawB46OjrJ//34CgQB33333kqmlLpeLZ555hieeeAKVSrWq80eECPaIncnQJO/Y3+GX1l/Sp+zDUGHgUeWj/Bf+S0K19kv1rARBSHhDhaIhpjxTvDX0Fj8/93NUMhU/vfunbDMtnScSDAexzFlo7mzmhWMv0D3Szc51O/n6Q19HGpTyq//3K/bv38+9997LD3/4Q/LzF3aMYCRITIihkq3uOsORMKFwCI1KE989vF4vWq121W9aAYEB/wC/tf6W38/9nv5oP2KVmFJ1KVsVW6kSV5EpzkSBAplIhlQkJUuWRb4iH6PciEFqQCqSMuYc49ftv+bF3hfxhDyUpZexzriOIn0RUokUd9DNqGOUKc8UvrCPNEUaZYYytpi2sClvE0X6InwuHwcPHOS1V1+jq7uLWfssNpeNiDRCSWUJ9911H3ftuYvq0mp0Wh0yqYxYLEYouCAiqtVq0nRpC5KHCBBIENXWWmqqp6eHSCRCff3KIy3WRJD9+/ejUqnQaDQMDw/z+OOPx233wWCQSCSC0+nkpZde4stf/nK8eINIJCIQC9DmbcMVcREgQCgaIhwLYwvbmAhPMBmaZD40z1R4inHPOPP2eYQ0AUOOgbu4i52Bnfh8Pmb9s7iDbvxhP/6IH6VUiS/sQ6/UIxFJCEaCWD1WpjxThCIhHqp5iG9s+QZ6qZ7z/ecJR8NEohHcPjd2jx2z1Uz3cDcdFzqYnZ0lQ53B7Rtup1BXSFd3F+2d7ZQVlPH1r3+dBx98ELVaTSwWQywWc9Jykjn/HA9WP7ji9mVisZheSy8tfS08fsfjiEQinE4nTz/9dMI9W/GDZGHRRIUok6FJzrnOccp5in5/P7aojcnoJF68hAkTI4YQExBFRahFanJluZQoSihTl1GtqkYpUdLl7+KI9Qj9tn7cLjcinwiiIMgF1Do11WnVqCQqwqEwcpucGfsMiKA0o5Q6Yx3lmeXoRDqCriDWKSuTlknEVjH9Xf1c7LuIL+hDqVai1+pRypVEYhEC/oXGRTqtDqPBiEqlQpumJRQMEfAH4v4iqUyKwWBAr9eTlZWF0WhEq9Wi1WrjYT7r1q0jPz8/fg/FYnG8e9f69etXHmKzFllu27ZttLW1MTc3xy233JLg2LJYLIyNjeH3+5FIJAiCEFfkRYiYDc3yP0b/B6PBUXz4CMaCC280iRSVTIVGqsGkNvGQ8iHcIjcHeg4gWAVkfTIuRC/QK+lFr9KjV+hJU6SRpkhDp9AhQkSaYrF1gFwix5RmosZQw+a8zVQYKlBIFZzsPsl/+ef/QiAUIBqLEolGUCvV5BpyyVRlghUK/YXIvXK6j3UzlzOHukbNw195mO9v/z6ZWZnEYrG4t1skiHD5Xcx554hFYiuOcxJiAh6fh1n7LJFIBLFYTDAYxGq1Eg6HP5DelifJ45MZn+TBjAcJC2G8US+OmAM3buzY8eAhKARxR91MhicZCA5g9pl51/su79rfJRANEBVHEUvF7Niwg7LsMnxBH86YE4fMgV/mRyFWIEFClpDFfw3/V3RuHe0z7bRYWxiYG+DE6Ak8YQ8yycKzTctP48k/epISdQnjE+MMDQ0xbB7G7Vro6iuSiZBKpAgIhIIhZmZmGBkfwTxjxuVz4Q14iYkXXj5SQUottdjtds6fP4/D4cDv9yOTyZBIJIhEIr73ve/x6KOPxl9YgiCsqffimnaQuAgTCmGxWCgvL48vzFgshiAI+P1+mpubufXWWxOC92LEmA3NEogFCBIkTBilRIlCrEAn0iEVSZGL5MiQEYqGmPHOxBedRCRBJ9chk8iQiCVIRBKkYumqxZpp+3S8tL9MKkOr0qKQKoiJY3SMd5BDDhKxBLVajVajxavwMi+eX7bG75R7ikA0kJSJeEUrlsfO9Pw0NUU18fvZ29tLXV0dUqmUjwoRIoQIEYlFFogb9RARIogQkS5LRyVRESNGhEg8Pz9KFAEBGTJyyEH6h3etgEAoGiIUDeEJeeLF66RiKTmanBU/L0EQCEVCRKIRIpEIbr+bqBBFhAixSExmWiYSkYRIJEI4HMbtdsetfyKRCKPRmCTaf2Qi1sTEBOfPnycYDFJYWMi2bckyfSAQ4OTJk+zevXvF0a0ppPBhYi0EWZMfpLW1FblcTm5uLoODgzdNwFpYCDMaGE0Sk9y4GWf5wgd2v51p7/Sq5/P4PUzYFnMrIpEIZrP5uu298nHEmgiyY8cOxGIxLpeLXbt2XTfFqz8oXFEXz9uej3e5vYQrFa9us7Zx2Lz68G+z1cxrp19bJKLbzTPPPLOmLrcpfDhYk6BrNBq56667ruiAcjgctLS0XBVH4XJyqsPhiCtmHxRu3FikFo72H0WJMq6Em3VmhvXDHB4/jCAS3veGEdPp6sQRcfCG5Q1kctmKfotIJMI8a2ZocohDhw4hEonweDyMj49z9OjRD1xOKRgMIpVKV5Qb/6HvzOEwWq0WhUJxzaQNsVjMxMQE5eXlH52SfqXFOzc3RygU+lAuWCQSEQgEaG5ujvcr+eAnBUEtLJg0hbiDAUEhgAJELhFJ0fQCCDKBmBDjzPEzbNmyZcUvBEEkgBhEUVHCffugZBcEgXPnzlFRUUFmZuY1FYFFIhGdnZ1kZmZSWlq6JkvS1fwtBoNhVS8f6Yf5Y5ZqfXw1EQgEyM7OpqSk5KMxBGQu/1E0GmU0d5SSkpIPbcdcDcbHxyksLMRoNF7z32Kz2cjIyCA3N/fjoYNcNz9eLCYtLe260IFEItF181tgoQDE9UBUAI1Gs6be79cDPjQR66NCNBq9LuTs6/G3iMXi64Kw19Nv+dgRJIUUUiJWCilcI0hv1B8+Pj6OTCYjOzub3t7ea6oEjo6OMj8/T2VlJePj4ygUCkpKSq6JSDExMcHs7CzV1dXMzMwQiUQoKyu7ZuLNzMwMSqUSp9OJy+Wiurr6Iw2j+VgSRBAEjhw5QllZGYFAgJaWFpRKJZ/85Cc/csX0UvyUzWajtbWVzMxMgsEgCoUiHg7/Ud4Xs9nMuXPnsNlszM3NEYlESEtLuybWLK/Xy4svvkhJSQlutxuJREIoFGLjxo03zFq7IUUskUhETU0NMpkMu91OcXHxQnDbh+RzuRxkMhllZWXk5OSg1WopKysjOzsbu91+Te5NZWUljY2NWCwWVCoVBoMBt9t9TV5ib7/9Nlarlf7+frRaLXV1ddhstpSI9VFAqVQSjUbJy8vj/PnzGI3Ga2JK9Pv9vPnmm+j1esrLy2lvb0csFtPY2HhN7svZs2dxuVykp6fj8/mIRCIfuj9qOTQ0NBAIBFAqlTgcDk6dOsWuXbturJfxjWrFupSPcWkXUSqVq85cvBqIxWLY7XaCwSDp6ekEg0HEYjF6vf6a3Be/34/T6YyLerFYjLS0tGv6nC5FPQSDQQwGww1l7k2ZeVNI4WbTQVJIIUWQFFJIESSFFFIESSGFFEFSSCFFkI8x7HY7brc7XkFjKcRisXiJo1gsFs8tj0Qi/KFQ+JL55uFwmN7eXnp7ewkEAsv+hmAwiMfjSTjm8XgSapEBOJ3OK+a1X/pNsBBtGwqFiEajCWWaIpHINU1wuh4gTS39leHgwYPMzc3xwAMPMDQ0lJRyfCn8xWw2s3v3biwWC06nk6qqKi5cuEBhYSESiYSRkRHuueceMjMXs69mZmY4dOgQ2dnZzM7O0tTURDAYJC0tDZ/PhyAIqNVqOjs7mZ+f54477iAUCiGVSpmamkKn0+F2uzl//jyZmZnMzs6ydetWioqKlgy96enpobW1lcrKSrZtW6g1fO7cORQKBcXFxYyPj1NUVITZbEar1XLvvfd+4BTgFEFucqSlpTExMcGZM2cwGBYab87NzeF2u9HpdGRkZFBcXIzf72dkZASv14tGo+HgwYM8+uijHD9+HL/fT3V1NQMDAwkEicViuFwuJBIJBoOBU6dOceHCBZqamujv7ycSiaDX67FYLCiVSjweD1NTUxQUFCAWi7Hb7fEQjvHxcQRB4OWXX2bDhg3cdddd8Ur8SqWS7OxsOjs72b17NydPnqShoYENGzbgcrmIRqNYrVZ27NjBO++8w/bt2+no6CAUCn1sCZISsVYIiUTCXXfdRWdnJw6HA4De3l4OHTpEb28vABcvXiQYDFJbWxsXh5RKJVarNZ405HA4lkwPzs7OprCwEJ/Ph8fjQSwWMzY2RklJCfn5+YyPj1NZWUlOTg69vb3Y7XbMZjMKhSJevM9gMJCTk0NOTg533XVXvDWaxWLh3Xffpa2tDUEQEIvFWK3WeBsLm83G1NQU9fX1hMNhpqenCYVCtLe3s379ejQaTUrESuHyqK6uJjs7m89+9rPxUqvr1q2jtLQ0XqdXJpMRDocRi8XU1NTgdrvZvn07ra2t8cISo6Oj1NTUJJw7PT0dg8FALBajqamJgYEBAAoLC8nKyiIajWIymbBYLGzatInKysr4Gz0jIwOj0cjo6CgbNmyIlzE1mUyo1Qu9T0pLS8nMzEQulyORSNixYwfnzp1jy5YteL1eFAoFGzduJDMzkw0bNmA2m9m0aRMWiwW73R4n98cRqVCTFFJIiVgppJAiSAoppAiSQgopgqSQQoogKaSQIkgKKdzQ+P8BVmMxrmwyK28AAAAuelRYdGNyZWF0ZS1kYXRlAAB42jMyMDTQNTDRNbAMMbSwMrGwMjDWNjCwMjAAAEGuBRC5/+A0AAAALnpUWHRtb2RpZnktZGF0ZQAAeNozMjA00DUw0TWwDDG0sDKxsDIw1jYwsDIwAABBrgUQ28cXywAAACl6VFh0cGRmOkhpUmVzQm91bmRpbmdCb3gAAHjaMzUwqTA1MNE20DYAAA8fAmFqyfi2AAAAHXpUWHRwZGY6VmVyc2lvbgAAeNoLcHHTNdQzUQAACL8Bu3R9uVkAAAAASUVORK5CYII=&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;2000 reps, painting fixed, refit hansen pars&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The observed likelihood scores of the first three models (BM, OU1, OU3) lie within the 95% confidence intervals for those models.&lt;/li&gt;
&lt;li&gt;The observed likelihood scores of OU4 and OU(LP) lie within the 95% confidence intervals of all models.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; NESCent ——-&lt;/p&gt;
&lt;h3 id=&quot;possible-topics&quot;&gt;Possible topics&lt;/h3&gt;
&lt;p&gt;. Comparative Methods Workflow in R – hackathon&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Interfaces between programs&lt;/li&gt;
&lt;li&gt;Extensibility of existing software&lt;/li&gt;
&lt;li&gt;Redundancy of approaches&lt;/li&gt;
&lt;li&gt;User / developer dialog and interface&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;. Reliability: evaluating the robustness of current methods&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Model choice criteria&lt;/li&gt;
&lt;li&gt;Robustness to assumptions in tree, etc&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;. Future of methods&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bayesian implementations&lt;/li&gt;
&lt;li&gt;High-dimensional data&lt;/li&gt;
&lt;li&gt;databases, standards&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### People&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nescent.org/science/awards_summary.php?id=66&quot; title=&quot;http://www.nescent.org/science/awards_summary.php?id=66&quot;&gt;Marc Lajeunesse&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nescent.org/science/awards_summary.php?id=184&quot; title=&quot;http://www.nescent.org/science/awards_summary.php?id=184&quot;&gt;Liam Revell&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.linkedin.com/in/hlapp&quot; title=&quot;http://www.linkedin.com/in/hlapp&quot;&gt;Hilmar Lapp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://visionlab.bio.unc.edu/&quot; title=&quot;http://visionlab.bio.unc.edu/&quot;&gt;Todd Vision&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Sam Price&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.brianomeara.info/&quot; title=&quot;http://www.brianomeara.info/&quot;&gt;Brian O’Meara&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes-and-reading&quot;&gt;Notes and Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.arl.org/sparc/advocacy/frpaa/index.shtml&quot; title=&quot;http://www.arl.org/sparc/advocacy/frpaa/index.shtml&quot;&gt;Federal Research Public Access Act&lt;/a&gt;, mentioned in &lt;a href=&quot;http://www.nature.com/news/2010/100407/full/464822a.html&quot; title=&quot;http://www.nature.com/news/2010/100407/full/464822a.html&quot;&gt;Nature&lt;/a&gt; article on rise of open access.&lt;/li&gt;
&lt;li&gt;another &lt;a href=&quot;http://www.nature.com/nature/journal/v464/n7290/full/464813a.html&quot; title=&quot;http://www.nature.com/nature/journal/v464/n7290/full/464813a.html&quot;&gt;Nature article&lt;/a&gt;. on open access.&lt;/li&gt;
&lt;li&gt;I’m mentioned in &lt;a href=&quot;http://sciencecareers.sciencemag.org/career_magazine/previous_issues/articles/2010_04_09/caredit.a1000036&quot; title=&quot;http://sciencecareers.sciencemag.org/career_magazine/previous_issues/articles/2010_04_09/caredit.a1000036&quot;&gt;&lt;em&gt;Science Careers&lt;/em&gt;&lt;/a&gt; on Open Notebook Science.
&lt;ul&gt;
&lt;li&gt;Article discussed by &lt;a href=&quot;http://usefulchem.blogspot.com/2010/04/scientists-embrace-openness-article-in.html&quot; title=&quot;http://usefulchem.blogspot.com/2010/04/scientists-embrace-openness-article-in.html&quot;&gt;Jean-Claude Bradley&lt;/a&gt;, &lt;a href=&quot;http://bit.ly/aV94bp&quot; title=&quot;http://bit.ly/aV94bp&quot;&gt;friendfeed&lt;/a&gt;, &lt;a href=&quot;http://blogs.nature.com/stories/2590&quot; title=&quot;http://blogs.nature.com/stories/2590&quot;&gt;Nature blogs&lt;/a&gt;, &lt;a href=&quot;http://timestopsnow.blogspot.com/2010/04/science-moves-toward-becoming-more-open.html&quot; title=&quot;http://timestopsnow.blogspot.com/2010/04/science-moves-toward-becoming-more-open.html&quot;&gt;qbit&lt;/a&gt;, &lt;a href=&quot;http://duncan.hull.name/2010/04/08/ons/&quot; title=&quot;http://duncan.hull.name/2010/04/08/ons/&quot;&gt;Duncan Hull&lt;/a&gt;, &lt;a href=&quot;http://gradness.blogspot.com/2010/04/kochlab-and-other-labs-in-news.html&quot; title=&quot;http://gradness.blogspot.com/2010/04/kochlab-and-other-labs-in-news.html&quot;&gt;Anthony&lt;/a&gt;, &lt;a href=&quot;https://www.lib.uwo.ca/blogs/digitalscholarly/2010/04/openness-in-sci.html&quot; title=&quot;https://www.lib.uwo.ca/blogs/digitalscholarly/2010/04/openness-in-sci.html&quot;&gt;library&lt;/a&gt;, &lt;a href=&quot;http://mndoci.com/2010/04/09/the-open-guys-hit-the-big-time/&quot; title=&quot;http://mndoci.com/2010/04/09/the-open-guys-hit-the-big-time/&quot;&gt;Deepak&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/07/Research.html"/>
   <updated>2010-04-07T00:00:00-07:00</updated>
   <id>h/2010/04/07/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Goal: complete outline for tomorrow’s meeting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;h3 id=&quot;theory-coffee&quot;&gt;Theory Coffee&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Two more days before eve speaker nominations are due. Potentially nominating:
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fish.washington.edu/people/rayh/&quot; title=&quot;http://www.fish.washington.edu/people/rayh/&quot;&gt;Brice Kendall&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.fish.washington.edu/people/rayh/&quot; title=&quot;http://www.fish.washington.edu/people/rayh/&quot;&gt;Ray Hillborn&lt;/a&gt; Model choice (Ecological Detective).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Discussion of post-doc / job application process.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;education&quot;&gt;Education&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;NIMBioS Computational Biology &lt;a href=&quot;http://www.nimbios.org/tutorials/TT_curriculum&quot; title=&quot;http://www.nimbios.org/tutorials/TT_curriculum&quot;&gt;Curriculum Development&lt;/a&gt; July 6-9&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Towards a meaningful warning signal metric</title>
   <link href="/2010/04/06/Towards-a-meaningful-warning-signal-metric.html"/>
   <updated>2010-04-06T00:00:00-07:00</updated>
   <id>h/2010/04/06/Towards-a-meaningful-warning-signal-metric</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Most papers do not give a statistical approach, but merely argue for the existence of a trend.&lt;/li&gt;
&lt;li&gt;Kendall’s tau approach proved very unreliable. While the preliminary de-trending approach is unjustified in that the simulated data is known to be absent from trends, as a kind of windowed averaging it may sense as a way to detect changes.&lt;/li&gt;
&lt;li&gt;Should distinguish between the gradual slow changes and change-point estimation. Perhaps change-point provides a more rigorous starting point.&lt;/li&gt;
&lt;li&gt;need to predict the expected variance in the various warning signals, this entry&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/06/Research.html"/>
   <updated>2010-04-06T00:00:00-07:00</updated>
   <id>h/2010/04/06/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Seem to have successfully fixed the behavior when getting over parameterized models. See diffs against the git log for details.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Will work on acceleration of code (avoiding refitting), meanwhile a little more trouble shooting and queuing some long runs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ace function fails on certain data sets for unknown reasons. Think rewriting this from scratch will be an important step.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;mixture-models-in-bayesian-context&quot;&gt;Mixture Models in Bayesian context&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Josh sent me this &lt;a href=&quot;http://www.jstor.org/stable/3085902&quot; title=&quot;http://www.jstor.org/stable/3085902&quot;&gt;paper&lt;/a&gt; regarding our discussion on model choice in Bayesian context last Friday.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;workstation&quot;&gt;Workstation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Settled on workstation, completed final pricing adjustments. Now seeking &lt;a href=&quot;/images/e/e7/Myworkstation.pdf&quot; title=&quot;Myworkstation.pdf&quot;&gt;approval&lt;/a&gt; from Krell / CSGF.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-reading&quot;&gt;Misc / Reading&lt;/h2&gt;
&lt;h4 id=&quot;mcelreaths-class&quot;&gt;&lt;a href=&quot;http://xcelab.net/rm/?p=432&quot; title=&quot;http://xcelab.net/rm/?p=432&quot;&gt;McElreath’s Class&lt;/a&gt;&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Looks like a fantastic class on model choice, should sit in. Read through the slides for weeks 1 &amp;amp; 2 so far. Every practicing ecologist should read the &lt;a href=&quot;http://xcelab.net/rm/wp-content/uploads/2010/03/week2.pdf&quot; title=&quot;http://xcelab.net/rm/wp-content/uploads/2010/03/week2.pdf&quot;&gt;week 2 presentation&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;in-science-today&quot;&gt;In &lt;em&gt;Science&lt;/em&gt; today&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://hdl.handle.net/10.1126/science.1167742&quot; title=&quot;doi:10.1126/science.1167742&quot;&gt;Computational Social Science&lt;/a&gt; Exciting stuff, interesting what these approaches can tell us about the way we do science.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://hdl.handle.net/10.1126/science.1185745&quot; title=&quot;doi:10.1126/science.1185745&quot;&gt;Empowering Young Scientists&lt;/a&gt; an international NAS for young scientists. Interesting motivation but why exclusive membership? How about &lt;a href=&quot;http://ways.org/&quot; title=&quot;http://ways.org/&quot;&gt;ways&lt;/a&gt; as a better model.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;web&quot;&gt;Web&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Excellent &lt;a href=&quot;http://michaelnielsen.org/blog/the-future-of-science-2/&quot; title=&quot;http://michaelnielsen.org/blog/the-future-of-science-2/&quot;&gt;science-2.0&lt;/a&gt; / future of science post. Forwarded to openscience discussion group. favorite quote:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;“If shoestores operated like scientists trading ideas, first Alice and Bob would need to get to know one another, maybe go for a few beers in a nearby bar. Only then would Alice finally say “you know, I’m looking for some shoes”. After a pause, and a few more beers, Bob would say “You know what, I just happen to have some shoes I’m looking to sell”. Every working scientist recognizes this dance; I know scientists who worry less about selling their house than they do about exchanging scientific information.&amp;quot;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/05/Research.html"/>
   <updated>2010-04-05T00:00:00-07:00</updated>
   <id>h/2010/04/05/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Bootstrapping procedures should have the option to refit the painting. Currently use the fixed painting but refit parameters.&lt;/li&gt;
&lt;li&gt;wrote the function peaks_update() which update the painting as well as the OU peak parameters.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/e1/Bootstrap_painting.png/600px-Bootstrap_painting.png&quot; alt=&quot;20 replicates, bootstraps the painting step as well&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;20 replicates, bootstraps the painting step as well&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;20 replicates, bootstraps the painting step as well&lt;/p&gt;
&lt;h2 id=&quot;computing-package&quot;&gt;Computing / Package&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;LR_bootstrap and model_bootstrap should be the same function call with an optional second model for the LR bootstrapping. Similarly the LR_bootstrap_all and model_bootstrap_all() should be the same function call. Will simplify documentation, error handling, redundancy etc.
&lt;ul&gt;
&lt;li&gt;Will need to combine the return object types: model_boots object or an LR_boots object though. Will need an indicator for their type, and combine a plot function that can handle both.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The fit_k_peaks can’t actually take an ouchtree, though it will try, due to the strange behavior of the ape package in tree pruning discussed earlier. Will eventually need a better work around than writing out and reading back in the nexus file. Should post this issue to r-sig-phylo.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The refit painting bootstrap needs the original ape-format (phylo class) tree, due to the above problem. It’s been added as an argument to the bootstrapping calls.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;troubleshooting&quot;&gt;Troubleshooting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The partitions function may assign all points to only three regimes even though it is given four regimes to fit to. This has been causing a rather subtle bug in bootstrapping the ou4 model in the labrid dataset. Trying to address by modifying the function infer_painting(), a function child of fit_k_peaks() function, to calculate k as the maximum value in the factor list, rather than the length of the factor list. Still leads to other errors…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;also tried modifying so that factor matching is explicit, lines 54, 55 of infer_niches.R Still get NAs in regime inference when its failed to use all the peaks.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Ways to force utilizing all peaks??&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;speed-concerns&quot;&gt;Speed concerns&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Refitting is much slower. Will need to explore parallelizing each of the bootstrapping fits. Should also perform profiling and start moving slowest parts into C code. Will also need to avoid any redundant bootstrapping.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;em&gt;Shouldn’t refit the true model in each row.&lt;/em&gt; Should be able to reuse the simulated data and the fit of the true model, and just refit each comparison model to that simulated dataset. Doesn’t seem fit naturally in the framework of the bootstrap package, however.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Profiling Results&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Profiling with Rprof(), summaryRprof()&lt;/li&gt;
&lt;li&gt;fit_k_peaks() is 90% of computational time
&lt;ul&gt;
&lt;li&gt;it’s member function, fit_k_partitions() is 65% total time&lt;/li&gt;
&lt;li&gt;it’s member function, infer_painting() is 10% of total time&lt;/li&gt;
&lt;li&gt;optim function, called by fit_k_partitions() (also called by hansen) is 71% of total time&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-notes&quot;&gt;Misc / Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Following phylogenetics discussion group Friday, Samantha passed on new suggestions to Brian, now on the &lt;a href=&quot;http://code.google.com/p/brownie/issues/list&quot; title=&quot;http://code.google.com/p/brownie/issues/list&quot;&gt;planned updates&lt;/a&gt; for Brownie.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;talks&quot;&gt;Talks&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Need to prepare Evolution Discussion Group talk for next week.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Survey for CSGF&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Computing tool&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Teaching with technology – GTC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Effective Assessment – GTC&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ievobio?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;meetings-etc&quot;&gt;Meetings, etc&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Grad Teaching Community – tonight&lt;/li&gt;
&lt;li&gt;Open Science Meeting – Weds&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/04/Research.html"/>
   <updated>2010-04-04T00:00:00-07:00</updated>
   <id>h/2010/04/04/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Trouble-shooting on parameter refitting version of LR bootstraps.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;a href=&quot;http://www.nescent.org/index.php&quot; title=&quot;http://www.nescent.org/index.php&quot;&gt;NESCent&lt;/a&gt; ——————————————————————————&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Considering a visit to NESCent, meet researchers and learn about programs, post-docs, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;people&quot;&gt;People&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://visionlab.bio.unc.edu/index.ptml&quot; title=&quot;http://visionlab.bio.unc.edu/index.ptml&quot;&gt;Todd Vision&lt;/a&gt;, UNC – Ass. Director &lt;a href=&quot;http://www.nescent.org/informatics/&quot; title=&quot;http://www.nescent.org/informatics/&quot;&gt;Informatics&lt;/a&gt;. Contact Re: Dryad project. Consider a &lt;a href=&quot;http://www.nescent.org/informatics/whitepapers.php&quot; title=&quot;http://www.nescent.org/informatics/whitepapers.php&quot;&gt;white paper&lt;/a&gt; on interdisciplinary evolutionary synthesis.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www4.ncsu.edu/unity/users/b/bwiegman/public_html/labweb/index.html&quot; title=&quot;http://www4.ncsu.edu/unity/users/b/bwiegman/public_html/labweb/index.html&quot;&gt;Brian Weigmann&lt;/a&gt; NCSU Diptera Systematics. Ass. Director Outreach NESCent&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://fds.duke.edu/db/aas/Biology/faculty/rodrigo&quot; title=&quot;http://fds.duke.edu/db/aas/Biology/faculty/rodrigo&quot;&gt;Allen Rodrigo&lt;/a&gt; Director NESCent. (Computational evolutionary biology). Discuss possible catalysis meeting, working group, visiting scholar.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://fds.duke.edu/db/aas/Biology/alberts&quot; title=&quot;http://fds.duke.edu/db/aas/Biology/alberts&quot;&gt;Susan Alberts&lt;/a&gt; Director of Science and Synthesis. (Marcrofauna behavior). Discuss possible catalysis meeting, working group, visiting scholar.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://anolis.oeb.harvard.edu/~liam/&quot; title=&quot;http://anolis.oeb.harvard.edu/~liam/&quot;&gt;Liam Revell&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://hdl.handle.net/10.1111/j.1558-5646.2009.00892.x&quot; title=&quot;doi:10.1111/j.1558-5646.2009.00892.x&quot;&gt;Linking Big&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&quot;activities&quot;&gt;Activities&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Would be fantastic to explore the potential for a &lt;a href=&quot;http://www.nescent.org/science/meetings.php&quot; title=&quot;http://www.nescent.org/science/meetings.php&quot;&gt;Catalysis Meeting&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;“Typically, proposals that have been selected for support by NESCent are those that explicitly capitalize on NESCent’s in-house community, its linkages locally, nationally, and internationally, and the IT and logistic resources that are available”&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;“We greatly encourage synergy between sabbatical scholars, short-term visitors, working groups, catalysis groups, and postdoctoral fellows.”&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://www.nescent.org/science/sos.php&quot; title=&quot;http://www.nescent.org/science/sos.php&quot;&gt;Science of Science&lt;/a&gt;&lt;/strong&gt; Project, Professor Cummings on Science Collaboration. Fascinating set of &lt;a href=&quot;http://netvis.fuqua.duke.edu/papers/&quot; title=&quot;http://netvis.fuqua.duke.edu/papers/&quot;&gt;papers&lt;/a&gt;. Also contact &lt;a href=&quot;http://www.nescent.org/science/chris_shields.php&quot; title=&quot;http://www.nescent.org/science/chris_shields.php&quot;&gt;Chris Shields&lt;/a&gt;. These ideas are also attracting strong &lt;a href=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=501084&quot; title=&quot;http://www.nsf.gov/funding/pgm_summ.jsp?pims_id=501084&quot;&gt;NSF support&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www.nescent.org/science/workinggroup.php&quot; title=&quot;http://www.nescent.org/science/workinggroup.php&quot;&gt;Working Group&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Fantastic Open Science &lt;a href=&quot;http://www.nescent.org/informatics/data_software_policy.php&quot; title=&quot;http://www.nescent.org/informatics/data_software_policy.php&quot;&gt;Policy&lt;/a&gt; on data and code.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc —-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.hackademe.com/2010/03/turn-an-old-laptop-into-a-multi-purpose-office-door-sign/&quot; title=&quot;http://www.hackademe.com/2010/03/turn-an-old-laptop-into-a-multi-purpose-office-door-sign/&quot;&gt;Laptop into a door sign?&lt;/a&gt; The things you find on the &lt;a href=&quot;http://kaboodle.nescent.org/?q=taxonomy/term/4&amp;amp;page=1&quot; title=&quot;http://kaboodle.nescent.org/?q=taxonomy/term/4&amp;amp;page=1&quot;&gt;NESCent website blogs&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals Research</title>
   <link href="/2010/04/03/Warning-Signals-Research.html"/>
   <updated>2010-04-03T00:00:00-07:00</updated>
   <id>h/2010/04/03/Warning-Signals-Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Deuterium early warning signal used for Glaciation I-IV presented in &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0802430105&quot; title=&quot;doi:10.1073/pnas.0802430105&quot;&gt;Dakos 2008&lt;/a&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/ec/DeuteriumCore.png/600px-DeuteriumCore.png&quot; alt=&quot;Deuterium signal over past 4 glaciations&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Deuterium signal over past 4 glaciations&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Deuterium signal over past 4 glaciations&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Does smoothing to remove trends – longer-scale fluctuations? Seems unnatural, many of those are part of the signal. Also applied to simulated time series – even those these are at stationarity! Bandwidth chosen by visual inspection.&lt;/li&gt;
&lt;li&gt;Get the CaCO3 presented in &lt;a href=&quot;http://hdl.handle.net/10.1038/nature08227&quot; title=&quot;doi:10.1038/nature08227&quot;&gt;Scheffer 2010&lt;/a&gt; and &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0802430105&quot; title=&quot;doi:10.1073/pnas.0802430105&quot;&gt;Dakos 2008&lt;/a&gt;. – Done: &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot; title=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot;&gt;CaCO3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Warning Signals</title>
   <link href="/2010/04/02/Warning-Signals.html"/>
   <updated>2010-04-02T00:00:00-07:00</updated>
   <id>h/2010/04/02/Warning-Signals</id>
   <content type="html">&lt;h3 id=&quot;current-puzzles-goals&quot;&gt;Current Puzzles &amp;amp; Goals&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/c/cb/Warning.png/150px-Warning.png&quot; alt=&quot;1 rep&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;1 rep&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;1 rep&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/d/df/Warning100.png/150px-Warning100.png&quot; alt=&quot;100 reps&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;100 reps&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;100 reps&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kendall’s tau unreliable, exploring alternatives. Sliding window for identifying when warning is first detected? Goal is to detect any decrease in stability or distance from critical point?&lt;/li&gt;
&lt;li&gt;Chasing down data from &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/19727193&quot; title=&quot;pmid:19727193&quot;&gt;Scheffer&lt;/a&gt;. Climate data reuses the CaCO3 from Dakos.&lt;/li&gt;
&lt;li&gt;Chasing down data from &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/18787119&quot; title=&quot;pmid:18787119&quot;&gt;Dakos&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/pubs/hughen2000/hughen2000.html&quot; title=&quot;http://www.ncdc.noaa.gov/paleo/pubs/hughen2000/hughen2000.html&quot;&gt;Fig. 1 M&lt;/a&gt; Cariaco Basin, &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/hughen2000/cariaco2000_pc56_greyscale.txt&quot; title=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/hughen2000/cariaco2000_pc56_greyscale.txt&quot;&gt;data file&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/metadata/noaa-icecore-2453.html&quot; title=&quot;http://www.ncdc.noaa.gov/paleo/metadata/noaa-icecore-2453.html&quot;&gt;Vostok&lt;/a&gt; &lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/vostok/deutnat.txt&quot; title=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/icecore/antarctica/vostok/deutnat.txt&quot;&gt;deuterium&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot; title=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/paleo/contributions_by_author/tripati2005/tripati2005.txt&quot;&gt;CaCO3 data&lt;/a&gt; Tropical Pacific core 1218&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Warning signals examples with actual tipping points (Figures left).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;more-reviews&quot;&gt;More reviews&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;JTB, but can’t comment in an open notebook.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Misc Notes ———-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://blog-di-j.blogspot.com/2007/12/role-of-bioinformatics-in-open-notebook.html&quot; title=&quot;http://blog-di-j.blogspot.com/2007/12/role-of-bioinformatics-in-open-notebook.html&quot;&gt;open source / open notebook?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.scientificamerican.com/article.cfm?id=science-2-point-0-great-new-tool-or-great-risk&amp;amp;page=1&quot; title=&quot;http://www.scientificamerican.com/article.cfm?id=science-2-point-0-great-new-tool-or-great-risk&amp;amp;page=1&quot;&gt;Science 2.0&lt;/a&gt; in Scientific American&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/02/Research.html"/>
   <updated>2010-04-02T00:00:00-07:00</updated>
   <id>h/2010/04/02/Research</id>
   <content type="html">&lt;h3 id=&quot;graham-peter-meeting&quot;&gt;Graham &amp;amp; Peter Meeting&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/22/Simulated_LR.png/100px-Simulated_LR.png&quot; alt=&quot;Fig 1&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 1&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig 1&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/12/Simulated_2_LR_fitpar.png/100px-Simulated_2_LR_fitpar.png&quot; alt=&quot;Fig 2&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Fig 2&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Fig 2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decided that bootstrapping against fixed model parameters would be more difficult to interpret, Fig 1.&lt;/li&gt;
&lt;li&gt;Simulated data results with refitting seem strange (Fig. 2), perhaps related to fitting of the tree. Observed LR for data should at least remain symmetric, so something has gone wrong.&lt;/li&gt;
&lt;li&gt;Expected pattern should be deducible simply by upper left triangle of graphs, should accept the first model where the data becomes typical.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/04/01/Research.html"/>
   <updated>2010-04-01T00:00:00-07:00</updated>
   <id>h/2010/04/01/Research</id>
   <content type="html">&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/7/7a/False_warning.png/200px-False_warning.png&quot; alt=&quot;Single replicate. Almost all warning signals have significant correlation despite the constant environment.&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Single replicate. Almost all warning signals have significant correlation despite the constant environment.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Single replicate. Almost all warning signals have significant correlation despite the constant environment.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/a/a8/False_warning_with_replicates.png/200px-False_warning_with_replicates.png&quot; alt=&quot;False warning signals remain just as common when signals are averaged across 100 replicates?&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;False warning signals remain just as common when signals are averaged across 100 replicates?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;False warning signals remain just as common when signals are averaged across 100 replicates?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exploring statistical qualification of early warning signals. &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0802430105&quot; title=&quot;doi:10.1073/pnas.0802430105&quot;&gt;Dakos et. al. (2008)&lt;/a&gt; use a correlation significance test (based on Kendall’s tau) on the autocorrelation to detect the warning signals.&lt;/li&gt;
&lt;li&gt;Correlation significance test seems a very poor estimate of signal, high false positive rate at any threshold p-value for sufficiently frequent sampling. Carpenter [&lt;a href=&quot;#bibkey_Carpenter&quot;&gt;1&lt;/a&gt;] Fits a dynamic linear model of the SD and argues it appears to trend up visually.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=16958897&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Carpenter SR and Brock WA. .&lt;/a&gt; pmid:16958897. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=16958897&quot; title=&quot;PMID 16958897&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=16958897&quot; title=&quot;PMID 16958897&quot;&gt;HubMed&lt;/a&gt; [Carpenter]&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Detecting switch points vs gradual change? See change point estimation?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Data from Dakos et. al. study available from &lt;a href=&quot;http://www.ncdc.noaa.gov/paleo/data.html&quot; title=&quot;http://www.ncdc.noaa.gov/paleo/data.html&quot;&gt;NOAA&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Just wrote the R interface. Faster than running the C code, generating a text file and reading it into Python (though could spend time with swig at some point).&lt;/li&gt;
&lt;li&gt;added a minimal version, popdyn.c, that just reads out raw data without all the on-the-fly statistics the full function does.&lt;/li&gt;
&lt;li&gt;Kendall statistics on metrics to determine warning signals. R function.&lt;/li&gt;
&lt;li&gt;Fixed the gillespie interface. Gillespie function does get passed the parameter structure, just makes an actual copy, allocating new memory, in the gillespie function rather than calling alloc for the first time.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Will want to be able to adjust the rate of change in the environment from the R commandline.&lt;/li&gt;
&lt;li&gt;The parallelization compiler flags are included in makevars and called by R CMD SHLIB, but the .C call doesn’t seem to engage all processors. Exploring this with the r-sig-hpc list.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;alan-meeting&quot;&gt;Alan Meeting&lt;/h2&gt;
&lt;p&gt;Goals:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Purchase workstation by/before Sept 1st&lt;/li&gt;
&lt;li&gt;demonstrate simulations: Arbitrarily sensitive false alarms to oversampling&lt;/li&gt;
&lt;li&gt;review manuscript outline&lt;/li&gt;
&lt;li&gt;Discuss the bootstrapping model comparisons example from the Labrid dataset.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;further-reading&quot;&gt;Further Reading&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Regarding the references, the statement about the “genericity” of the saddle-node bifurcation can be found in section 4.2 of Perko’s “Differential equations and dynamical systems” book. The CLT for stationary, ergodic sequences can be found in Durrett’s book “Probability: Theory and Examples”. (from Sebastian)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;workstation-choices&quot;&gt;Workstation choices&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Sizing up options for our new computer server. Would be nice to be able to explore &lt;a href=&quot;http://en.wikipedia.org/wiki/CUDA#Supported_GPUs&quot; title=&quot;http://en.wikipedia.org/wiki/CUDA#Supported_GPUs&quot;&gt;CUDA GPU&lt;/a&gt; computing, considering &lt;a href=&quot;http://www.nvidia.com/object/product_tesla_c1060_us.html&quot; title=&quot;http://www.nvidia.com/object/product_tesla_c1060_us.html&quot;&gt;tesla&lt;/a&gt; and fermi (better double-precision performance) options. Other option, AMD released a 12 core chip, could possibly setup a 24 processor machine on two sockets. Getting comparisons from &lt;a href=&quot;http://www.siliconmechanics.com/&quot; title=&quot;http://www.siliconmechanics.com/&quot;&gt;silicon mechanics&lt;/a&gt;. Ok, options under $5000 (after educational discount) are in:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;2x Xeon Quad 2.4GHz, 12Mb Cache, 24GB RAM + Tesla C1060 active cooled&lt;/li&gt;
&lt;li&gt;2x Opteron 6128 8-core, 2 GHz, 32GB RAM + Tesla C1060 active cooled&lt;/li&gt;
&lt;li&gt;2x Opteron 12-core, 1.9 GHz, 32 GB RAM&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Available on 4U and 1U forms. the 24 core machine could add 1-2 GPUs later. The Tesla C2050 GPU is $1888 and is much better at double precision, while the Tesla C1060 is $950.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Double precision vs single precision&lt;/strong&gt; &lt;a href=&quot;http://en.wikipedia.org/wiki/Nvidia_Tesla&quot; title=&quot;http://en.wikipedia.org/wiki/Nvidia_Tesla&quot;&gt;comparisons&lt;/a&gt;. C1060 does order of magnitude worse (933 vs 78 gigaflops) on single vs double precision. The C2050 gets (1040 GFLOPS single, 520 GFLOPS double). Looking into C2050 options…&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.nvidia.com/object/product_tesla_C2050_C2070_us.html&quot; title=&quot;http://www.nvidia.com/object/product_tesla_C2050_C2070_us.html&quot;&gt;C2050, next gen/Fermi&lt;/a&gt; Release April 20th, we’ll see.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/31/Research.html"/>
   <updated>2010-03-31T00:00:00-07:00</updated>
   <id>h/2010/03/31/Research</id>
   <content type="html">&lt;p&gt;Writing up work just on ensemble vs single instance detection of regime shifts. See this entry&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Outline&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Title&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;On the ability to detect leading indicators of catastrophe in unreplicated time series&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Introduction&lt;/strong&gt; Background on Warning Signals&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mendeley.com/research-papers/collections/1374711/EarlyWarningSigns/&quot; title=&quot;http://www.mendeley.com/research-papers/collections/1374711/EarlyWarningSigns/&quot;&gt;literature&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Saddle Node bifurcation&lt;/li&gt;
&lt;li&gt;Detecting decreasing stabilization – gradual vs changepoint estimation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Reasons detection can fail:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Ergodicity: ensembles vs single instances&lt;/li&gt;
&lt;li&gt;Sufficient statistical power&lt;/li&gt;
&lt;li&gt;Appropriate dynamics&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Methods&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Defining an indicator – significant Kendall rank correlation coefficient τ as in &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0802430105&quot; title=&quot;doi:10.1073/pnas.0802430105&quot;&gt;doi:10.1073/pnas.0802430105&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Simulation approach&lt;/li&gt;
&lt;li&gt;Analytic limits&lt;/li&gt;
&lt;li&gt;accounting for delay?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Figures&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Saddle node bifurcation example – should discuss difference between stochastic and deterministic edge?&lt;/li&gt;
&lt;li&gt;Single replicates using standard detection statistics&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Results/Discussion&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Misleading indicators&lt;/li&gt;
&lt;li&gt;Need for further exploration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Comparative Phylogenetics Notebook</title>
   <link href="/2010/03/31/Comparative-Phylogenetics-Notebook.html"/>
   <updated>2010-03-31T00:00:00-07:00</updated>
   <id>h/2010/03/31/Comparative-Phylogenetics-Notebook</id>
   <content type="html">&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;h3 id=&quot;labrid-paper-outline&quot;&gt;Labrid Paper Outline&lt;/h3&gt;
&lt;p&gt;Biology Letters &lt;a href=&quot;http://rsbl.royalsocietypublishing.org/site/misc/styleandpolicy.xhtml&quot; title=&quot;http://rsbl.royalsocietypublishing.org/site/misc/styleandpolicy.xhtml&quot;&gt;format&lt;/a&gt;, 2500 words, 2 figures.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABkAAAAZACHJl7mAAAVG0lEQVR42u2d23NT1/XHP/tcdLEk323Adzs12CHhHhKSQgjkOhkmIb+2SUObpg/N9LEPfWinf0pnOm1n2k5T0kwekjQJEFIgAQIEAo5DsMHGNja+ypasy9E5Z/8ejiXbWLZlW76Qas0wDPjoSN7fs9Z3re9ae0tIKSU5WzOm5JYgB0jOcoDkAMlZDpAcIDnLAZIDJGc5QHKA5GwNmbaQi6WURKNRcmrL4k1KiaqqeDwehBCZAyKlJB6PE4/HCQQCKIpCNBqlo6ODgoKCHChLsFAoRENDA263O3NAEokEp0+fRkrJo48+Sn5+PpZlEQgEqKyszO4ntO2JAPq/EUG7urqwk79zphyi6zoPPvggNTU16Lqe8o7R0dHsfjrTxPzwQ+wzZ/5nPCRdqMqI1Ds6OmhpaUFVVbxeL+Xl5ViWle1PB5p2X3jH2Bh8843EMFaB1IUQPPLII0QiEVwul3Oxps2J7qJMVdGeecYBZo1bR4fNZ59JiosV1q8XKwtIMmwVFBSsQPJ9f3DHxo0KZWWSsjKx8h6Ss5nm8cCGDcvrybnC8PtWqUvDgFxNsjYAkcPDmP/4B/L69dxKrgkPUVWkZSG1HBUtO6nbts2NGzcwTZPGxsZU6jstNS4oQP/ZzxC6nlvJ5fYQKSXhcJihoSEMw8CyLEKh0IzCULhc90UNMZdduWJx6pTFLGrG2gBEURQKCwtxu91omoZlWUQikVk1mKVIJ7KnB+LxVVuE/n5JTw9kW4TIOockEgmi0Si6ruNyuVi3bh16lsOTvHMH8w9/wHrvvfkvjsWQfX0s9VG27emJ4f79Gq+8orIWIq8yl3TS1NTEk08+iaqqy/YBRHk5ork5o2utlhbsd99F9vcv+v0MA95+2+LKFTlFkYA0FLm2SH0qMFnzhkgEolFEcfEk73g8aL/5TUbyiVJRgdy8GZGfv+jPkEhIYjEIhSSw9rhv0fmq3dMDHR0oO3c6mkImT/i//408dw7tt79F1NZO/iBNoybtw7FhA2LDhnuzj+STk9E9fD7BT36irhmPyFodYvf2Yl25goxGM3+zrVshEIBQKAP0LOTQEJjmHC4nsT//HPvUKUgkyFQXz8tzFP/7qg6Z94XbtiE3bUIEApkD8tBDiN//HpGXl5EHmu++i7p5M6K0FOXhhyENl8lIBGwb8/PPoa8P7fBh1uzjv6yVuqYtCIxkWBGBQNqFnXFpSQnKE0/A6Cj2+fOQzhOFQD1wAPWZZyAvD+n1zn3v+0Bz0+ZOD21M00xbpS+3CZ8Pbdcu7NpaGB9H6jpCSqRpIjRtkjMmAFAbG7EMAxmNIvz+mRGwvR27tRX9wAEnZqXBai3Ut9rs6aHB+fPnMQyD3bt340/zSy67JRJYZ85ALIYZj6M1NGDdvo22ZYsTwqYu6NAQ1rlzqBs2gN8/WeUlPSYcdtLlRGLG21y6ZDE2Jtm7V2MZM/ylAaJpGuvWrcMwDBRFIRaL0dPTg7GcDeV0Ic7vB7cbNR5HBAIIVcW6dg3R0IDw+SZjb10drjffRBQWgm1jffIJaBrqwYNOaHv4YdTm5rT8MjwsGR52CsY1C4hlWdy5cwfDMKipqcHr9VJSUsLAwMDSapGBAeTduyhNTfOnOpqGdvDgtLRW5udjvfcesrMTNmxwahJVBVVFeDyOZ2ga5OUhpq6uosxK9vv3a0hJqlKXEr77zsbrFdTUrGwcm5XUVVWlubmZbdu2pabsPB4PyhL737K1FXniBASDGXsJQiD7+5FDQ6i1tei/+AX25csYv/oV9smTznXRKNY772CfOOF8/r17UR5/PCNi0DSmySaGITl92uTsWXvteIiiKJSXl2c/Cj30EGL9eigqygA96fwxDKx33kEJBBCvvoooLkZUVKA2NTleMcEVorTUCVkLKBTTmcslOHBAz7TezT4ghmEQjUbJz8/P/pjPvYAUF0NxcWbedOsW8quvEAcPoj79NOg60jShrQ11927kli1Y776L6vEgdu5Eee65lEctRnBMvlQIqK9fnZRLAbh58yanTp0ilEkFvYImpUTaNiQS2DduIDs7sVtbMf/5T+SdOwi/H6WhAcrKJnkiAzBMc7rab1lw/LjJf/5jrboEr5mmyeDgIKFQaNm9Y8FPS0MD1NU5KxaLOf955w5KYSGishJcLpSnnlrwff/7X5OrV+GNN1SKisQEbzhArXbtqGmaht/vx+/3Z7/5lIW0N5lBqS+95ISWzk4nvni90x/5JDtnQEuDgxKXCzwekSpVnn9eQ4jVn9lTkgQ+Pj6+tjWFCWAIBLCuXUPevZsK/tYnn2B99NFk48qykMPDaVuAo6OSr76SlJQoJBKSW7fsVP1xLximObe2uSyABINBOjo6qK2tJW+KpCClpLe3l66uLszl+FSJBOaXXyLv3MnsesPAvHABefs29vAwTMgkifffd/5dWpriD7ujA+PPf3ZqlSRJTFToqgolJVBYKGhpsfjLXxJcvmylDVUnT5r88Y8mY2MrnGWFw2E0TcM0zVSL1rIsbty4QTwep7CwkEAgQDwez1pYk5EI1vnzKNu2ISoq5r9+fBzriy/Qd+3C/cYbqf+TQ0No27c70n4y0pWVoe7Z45C9bZN45x0A9MOHCQR03nrLSWkTCZVbt2w+/dSivl6dkYkXFAjWr5cr2toVUkp58eJFBgYGeOKJJwhMKLhSSjo7OxkdHWXTpk0AXL9+nUQiwa5du7KRQiGDQUeKz6RBlbw+EMBqa8O6cAH90CHn9eniTSKBdfo0orwc+/ZtpKJyd9N+AsU6BfmCr7+26O2VbN2qEotJCgsFIyOS6mplGhXNJzqapvP2C8mHuru7KSkpwTuVB6dyiNvtpr+/f1qWlUgkuHXrFiMjI8RiMTweD1VVVdlTfoVAFBXNC4YcG0uFNVFUhIzHMU+cgK4uZxV0PT0TJxLYra3Y584h29uIFFXz0aca5885senGDZuvvrJxuQR1dQrXrknef9/m5k2JlJN0NNdCj49L/vSnBFev2tkNWZZl4bmnLNV1nd27dwPM+NmK2EShIC9cQLa1oR45Aj4fdn8/IhhEEQJ5+TJi797pqyYlRCJOr/5HP0Levo38+mvy9ARbtymUFTuAvPiizvi4TIWp+nqBlIKyMvjgAxO/X/Dkk+q89YyqphWQlwaIy+VCUZRp5C2EwDdFTV1ps48fh3AYsXev03+fcG+1pgblzTexL150Fj4pJibxGBnBPnoU5ZFHsIJB6O5GPXwY0d7OLtcVqN068ZCB2y2IRp2Xaxo89pia0iB1ff4YVFAgOHJEz2qDMvWbxGIxQqEQhUktaLVLkNpaiMUc3WuqB6gqoqICEY8jjx1DXrmC2Llz8nVeL6KpCdatQ/F6sb74wgEXSUzN46b6MFXVCj4fnDhhc/UqbNkC165JDhxQ2LJF8PTTWqoWvTc4TJVYksBmPctSFAWv17syu6UyBWTz5vSccvMmcmgIUVcH9fVwrwDq9aLs2+fcY/165KOPQjiM+vRBBoddHH9Psm+vZNMmQXe3pKBAUFEBn39uc+kStLcL9u0TtLdLPvrI5plnFB59VEEIJ0QdO2ahqoIDB5Rl6Z1oo6OjXLx4kaqqqlUNURknZ+3tyFu3UB58EPH00/NUWQpqUlpRFEo98KP/kxQXC9xuePVVZxzItuGJJySxmKC1VfL444LhYbh4Efx+m507lVTq290NPp9ctnav5vf72bhxIwMDAxiGkTYVW0E1EbuzE+F2z5y/Sq7xnj3ILVvS9sWZjL/Yly45XcX166cV+1O3pE29xVNPqUgJ+/ZJAgFBUZHk2WcFr7yiYBiS8+dtmpsVXn9dTZtlZ61SV1U1NVA9m+K6YmYYWMePY33wQXrNIh7HunZt3uJAjo87M2MZqACJBJw/b9HTIyeUGee+O3YoPPYYdHRIBgYkly/bDA46IGY417c4DwmFQhiGQWlp6TRQTNOkpaWFaDTK1q1bV8Zz3G7UF15AuN1phUIZiWBeuIAuxLQnfwb/FBejvf76ZM/dspy4lKbkjsUkly9bGIagulpMSfvh5k3Jxx/bvPWWyhtvaOTlLb8arhmGQW9vLxX3yBfJItHj8WBZFoZh0NfXRyKbSXc6l51DRhGFhbh+/vP5B+2EQCQTFMsicfQoCIH+8supvvroqOTbby02b9Z47TU9pfxOtR07FEZGEqiqmvKcZQekuLiYgxODBFM9RAhBOBxGVVVs206dYBNfxX0c0xY6Y4QVJ8bEYtNGSnp6JGfOSEpKJD/4wczFjkQkx44lePhhje3bV06T14QQacORbdvouk4sFsOyLFRVpbCwcO3L9GlA1A8dmjbj46jykv37lRlTJVLCt99aJBJO4ehyrWzTbs65rKSIKO7zLWupXsqE3b0rOXlS8uCDCi4XhMNxBgclVVUepIQvv7TIz1c4csS14g0rbW5v/36eK1BaKjhwQKW8XBAOj3HqVB9nzkh+/OMCtm5dx0sv6QjhdBbz80XaDDsScego21P039uTHOTwMPann8LIyIyfuVzQ1CTIzzfp6+tn9+5ajhx5AI8nwt27dykoENg2HD1qcunSTCV3dFTy978n0v4sB8hs4mRbG/annzp7TGaxYDBIXl4eJSVumps1GhvrGBsLEYlECAQEzz6r4fPBX/9qEwxO1mMeDzQ0KJSXixwg85plYZ89izx+3NlxVVMza8EbCoUomtImVBSF9evX09fXB1hs3CjweATxuJy2G8LtdkJeXZ2Ylgxko4b+/gGSSCDb2hAVFSgvvjjrPG80GiVdhhkIBPD5fPT29k5km5K6OkFJiSAclty4IQmHJV98YdHdLVNgnDxp8/779pJ3d88JSCgUIhgM3l8HXno8KIcPo/70p7N6B0B/fz8ejz819T7VysvLsW2bgYEBrl+HmzdtDMOp3D/80JFZrl51/p4EGKJRueTDB2bNEUzT5MsvvyQej/PDH/6QQCCAbdurDo5pmkSjUXw+36xZoJhHtTYMg3B4lPHxDRw7luDllzVqa8W0oriiooLOzk4OHvShqnn4/dDYKCgsVKioUKiomKzuhYDnn1ew7aVnXcpcdci2bdtobGxEVVWGhoY4e/Ys4XB4VQHp7u6mq6uL/iXsVQ+Hw5SWllNd7WbPHoXSUoEzMmzR32+nfv+ysjL6+rrw+ZyH0Nme4AxBBAICXXeKyI8+SiBldlJgZfZQnKClpYWuri7i8TjFxcVs3759VXsm4XAYKSWNjY2Ew+FF62qDgyFOn/Zw/brN7t0qPh98/LHJ735n8skn9jQ+UVWV4eHhNJ4KY2OS3l64fXty0nXZCkNVVXnggQcwDCO1P8Tr9a5qsRgMBikqKkLXdQKBAMFgkLLkoHXGnJ8gFjOJRvMYGZkMvyUlcOiQyv796rTQVVVVRWfnHTo6CqisVFOHX377rc1nn1kcOqSxa5fTEl5WQBRFmaEAr242axGPx9kw0bgqKCigra2NoqKiWXs56WxsbIyysjxee809raXyyCMaZWU2165Z+HwaydECR1BVOHZslL17i1KArF8v2LFDoaAgu9vg7pu0N3kITvLcFY/Hg8vlWhCnSSkZGxujsLAQXZ8e89vaJEeP2ly+LIhGpycuNTVFvPBChB07FK5ft7l1S1JaKtizR+XrryX/+pdNJLICWtZasnA4PG32GGDdunULmpSJTKxaOnW7uBh27lRoahIzTh4NBPz4/YNYlsWZM5JQSOHXv3b68pWVAk3L3lkF9wUgUkp6enpSI61Jy8vLY2hoCNu2M+K2wcHBaZX5vYLjwYNiVj41TZ1EIsJTT/nR9ck2bkODoKFB/G+FrHg8jt/vn+Ehuq6ntmzPB2hfX1/qULaFWigEJ07kcfXqKPX1gqqq5WtH3BeARCIR8vPz03qB3++fdSueZVkMDAzQ3t6OZVmLTlJcLti4MYCixJFyZine0yNpa5NZOSJQmSur6ezs5JtvvlnZwwJmIfS8WfrogUCA8fHxGQqCYRh0dnZiWRY1NTVUVlYu+iA2txsOHHBTXa0zPh65x/vg3Dmbd96xycYWzTkPDjh79ix+v5/KykpcLldW94csxJK1UPrFciOEIBaLpchaSklXVxdFRUUUZ7jjNxNLeuPUY0aEgH37FPbsgSWcqzY/ILqu89xzzxGJRPB6vUSjUYLBYNpvhVlu7UpKOedZj4FAgJGRkRQg/f39uN3urIIB4PP5UmLr1LZ2aekKkXp7ezvBYDBVpdfU1KQ29KwkoWuaNmcWVVRURCQSYXR0lP7+fiKRSKqAzE6W53QJhXCnvvppuWzO7w/Zvn07QohpT8NKq73RaHTe/SmqqlJZWUlfXx+6rlNVVZXVgzvHxiR/+5vB9u0umpoCjI2Nzcpps0s2TiE637zInB6iKMqqT5xM5Ya5zOv1Ul9fT1VVVdaPss3LE+zapVJbC4FAPnfv3l1QojM6Knn77QTffGMvLWSthYLQMIwV562ZfAq7d2tUVAg0Tae4uHhB38UlBBlnYGsakOSx5voaO1u+pKRkQQOD+fmCX/5Sp7lZmTfsL0g6URSF0dFR5wySRXBJ8jz5TBY4mcqGQqFUpjWVV5Y6/B0Oh/F6vYvmmv7+foLBIIFAAF3X510PISaHIMbHx2c9aUnIBaxsMoQsltgty6Krq4vq6uqMuCn5PlOvtW2b27dvU1NTs6TezLVr16irqyMQCCz69+nr68Pn81FYWLigeyiKMutu5gUBkg1OiMfjS9rVK6VMbdNeSsKxVA9JFqyKoiyoHzNvZJC571BdU7Zi8ns8Huf69eu43W7y8vKorq5e1H1GRkYYGRnBtm0aGhoWFba+++47vF4vkUiE+vr6RR2G0NvbSygUQkq56HusKiCJRIKenh5GRkaorq6msrJyUYt59uxZhoaGKC8vp6qqasHhz7Zturq6Ul9SU1JSQmlp6YI/R2trK93d3RQVFS36HqsKiKqq1NbW8sADD5CXl7doQt66dWtqI9FinkpFUWhsbMS2bQzDIH+RimBzczMbNmxAUZRF3yPHIfeB5b5YMgdIztYEhyyHmaZJa2vrxB6PEmzbZmhoiHXr1iGESBG32+0mEAjcFzvC7mtADMOgvb0dr9dLS0sLQghu3rxJXV0dQGrDqmmaHDp0aNaJk7Vk9zWpm6aZqkni8TimaeJ2u4nFYgSDQTo7O2lubiaRSNDU1LQqX7uRy7Km1D2GYdwXB+rk0t5clpWzTO3/Abh47zcqeF8VAAAALnpUWHRjcmVhdGUtZGF0ZQAAeNozMjA00DUw1jU0CTEysjI1tTIx1jYwsDIwAABBKQUIhVppRwAAAC56VFh0bW9kaWZ5LWRhdGUAAHjaMzIwNNA1MNY1NAkxMrIyNbUyMdY2MLAyMAAAQSkFCOdinrgAAABLelRYdHNvZnR3YXJlAAB42vPMTUxP9U1Mz0zOVjDTM9EzVDAw0zcw0TewUAg0NFPIKCkpsNLXLy8v18vMTUxPzU1Mz0zO1ssvSgcA5CIRv41HDIUAAAAhelRYdFRodW1iOjpEb2N1bWVudDo6UGFnZXMAAHjaMwQAADIAMgwS4oQAAAAhelRYdFRodW1iOjpJbWFnZTo6aGVpZ2h0AAB42jOxMAAAAT8Ancl0RG0AAAAgelRYdFRodW1iOjpJbWFnZTo6V2lkdGgAAHjaM7EwAAABPwCdRWFCOAAAACJ6VFh0VGh1bWI6Ok1pbWV0eXBlAAB42svMTUxP1S/ISwcAEXsDeF85R+IAAAAgelRYdFRodW1iOjpNVGltZQAAeNozNDKzMDMwNzYxBgALMgIJYvHudwAAAB56VFh0VGh1bWI6OlNpemUAAHjaMzbQMzEytchOAgAJfAIycdMlUAAAAE96VFh0VGh1bWI6OlVSSQAAeNoFwVEKgCAQBNAbNdSP0GViwkmWTEUX9vq991jVCQCZToRuLO+TRQh7baEPtZAHp2AfixYS0o7jynRuo5UfElgXZ3V77V4AAAAASUVORK5CYII=&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Fig 1?&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAABIAAAASABGyWs+AAAACXZwQWcAAABkAAAAZACHJl7mAAAX+0lEQVR42u2dS28cV3qGn7p2V1/ZZPMmUqRkybaA2J5YgYHAGQVGEASe7JN9/kSW2SUIEATIZhb5AckiCLLxBAZmMzMxMhhrBrbGY1mURJOUSJFskk2yL3W/nCzaVWKzq7t5aVLyhIcrlbqrqs97vsv7nu+cIwkhBFfttWnyVRdcAXLVrgD5/jT1dXmRMAzZ2dmhUChQLBaT61EUdUaOLBNFEZIkIUnSwHsFQUAQBAgh8H2fKIool8tIkoRt2z3X0r6bzWb/fwOyu7vLj3/8YxYWFrhz5w7FYhHLsmg0GoRhSD6f5+DgAMMwmJycxDRNgiBAVVUURUFVVXzfZ2xsjOXlZUqlEoqisLy8zIsXL/j4449xHIetrS0cx2FpaYkf/ehHGIaBruuYpsn09DRff/01pmmyuLjIBx98cOnAvFYWcnh4iGVZHB4eJqNYVVWy2SwrKytMT0+jaRqzs7N89tlnmKbJwsICvu+TzWZpNpvcuHGDnZ0d7t27h6qqbGxssLS0RBiGmKbJxMQEURRhWRaff/45vu8jhEAIwcTEBFtbW2iaxhdffMHNmzeZn5+/1H6QXpe013VdlpaWKBQK+L5PoVDAtm3y+Tye52GaJoVCASEEhmFQq9X45JNP+OEPf8j6+jp3794lm81SKBTY29ujWq2iqiqNRiOxpCAIMAwjcUu5XA7Lsshms1iWRaVSYW9vj0wmg+d53Lx5k0wm8/8TkLO0RqORAGYYxtDY8n1o0hUxvEp7r9qogroQAtu2edVGFT//tC7qrN8b9bsrikI2m019j1MBYts2a2trlMvlVwaKJEmYponneYyPj5/4PSRJYnd3l1wuRy6Xe6WDqtVq8cYbb6QmDKcCJIoiisUic3NzrzyY27bNzMxM6gjsZwExGTxKPF9FW19fTwjva8tDzmr+7XabfD6PLMu0222ePHmC7/tMTU0RhiGu67K7u8udO3cG3utJ7Qklo8RMaWbocx3HQdM0FEU5s5X/3gV1SZIIgoBarUYQBIkr8DyPWq3G48eP+fbbb9ne3sayLGq1Wt9RGUYhf//ff8+//erfhj7X8zyWlpbY29v7/WbqEREBATr6ia1D0zRu376dXJuamsKyLObn55PObzQaGIYxUAJp2k2CMODB+gMszyKn5wZah67rOI7z+532/obf8Hf8HQ7OiS3EDVy+eP4Fjt/5TrvdZn19nW+++QbTNGk0GrTbbb766iuCIOjrKppOk+nSNFEU0bAbA5/r+36S1PSzuAsDJIoiPM+7FEAe8IBvvvs7ESBI1M06//zTf6bergNgWRaGYeA4Ds+ePWNzcxPbtslms4lI2Q+QarFKRsvQtJtDAYlT1n73uxCX5fs+9+/fx/M8PvjgAwqFwoW6qwYN/oq/4if8hHnmmWJqqMuaKc3wL3/9L4wXxhOX5fs+i4uLSVxpt9sYhoGqqn1T3abdZCI/QS1bo27WBz43CALy+XwSwzRNuxwLkSSJdruN53mJqZ/HRNf8NR66D/FEr8W5uFhY/Dl/znWu87f8LeusD72nL/msl9bxZT/x7/V6nfX1dYIgwHVdNE1DluXBMcRpMpYbY25sjn1zf+AzwzBMMizf9y/PZUmSxOTkJLlcrosUHh4envohZmTyPHhOW7RZ9pZ7/t/CAmCMMf6Gv+EmN/mKr4a6rAYN/p1/p0HH7zebTVzXZWtri6WlJZaXl7EsC9M02d3d7TugWk6LslHmzsydgTEkiiKEEKiqmqjHl+ayZFlmdnYW0zRRVZVMJsPs7Cybm5unfkgzajImj3FLu8Xv3N8REqKgdAGioiYZ1p/wJzzj2VA3N8MM/8A/oKF1uawbN24QhmEymvP5PIeHh8hy+vgzXZPZ8iwThQm2nm0NBUSW5WRC7NIsJAxDnjx5wtraWjISZFk+kw5kCpO8nCcrd9yGL7p/iImJjp6ANMNMMuoHWUhExGF4SCjCJF6srKzw5MkT9vb2aLfbTE9PD1UXHN8hp+coZouYnjnQXcVTyKqqXm5QV1WVDz/8kCiKzj1JY0UWU8oUCgqqpOIKl6z00qe3aZPjZe4/xhgWFgEB6gCq5OLy2HvMH2X+CFVSsSyLZ8+eJSP37bffTqxiEKu2PIu8nqeYLWJ7NkEUoMpqKiDxoLx0QICRZBACgStcDNno3FPScIXb9ZnjgBQoEBDg4qYCIkkSAoGBwYfGh4lljY+Pc+/evSSAn0SzikSEG7gYukEhU8APfdzARdXV1AwrBjYGZJB29loy9UAEhCIkI3WsTJf0VEAKvEyrs2SRkbGwyJNPTXkdx8GyrJ5UdnZ2NrkmhMA0zQREx3Eol8vdmVroE0YhhmaQ1bLIkozldiwmjQrEg1RRlIQcnlXTeiWA+MJHkiQ0qfNDNLSeGHK84zU0VFRs7NR7GoZBq9Vif3//VO+SyWR60t8YkIyWQVM0VEXFdE0mi5OpgOi63hVPv3eAeMJD+e4vdlmOcHoAmeRlBygo6OhJOny86bo+smoQN3CRJAld0ZElmZyeo+k0B5LC2OJitj5KcnjhWpYlrK4Arkm9FuLgdMUQAAODNu0Ll2xsz0aVVTSl06nFbJFD6zDVTR7tfEmSkGV55IF9qJZ1XvJjRRY5OdcFSED3PW3snliRI3cpgJiuia7qqErHWYwZYxxYB6kZVhRFXdagKMrIyaE8CIz79+/z6aefnktgNIVJXsp3ARLzhiQLw8XA6PpenvylANJ0ml0BvJKvpFqI7/vIstxFLhVFGbmFqIOkk/HxcaIo6stwT5LyesJLUt44PkRECAQSEuF3fxkyPYCYmBcOSMtpkc+8BKSULdF226mAqKraleJeBCADmXqtVsOyLBzHwXEcNjY2TmUtvvC7Ut4YEIEgoqMrBQRERD2A5Mj1DeojtRC7SSlbSv5dzBaxPKsvIEfbpQKiKAo3btxgZmYm0bImJyd7XmpgBiNcZElOUl4ARVKIREQkXgKSZiE5cieerDpPO7AOqOQrL0lptoAbuPih3zflPapmXKqFrKyssL29nWg4mUzmVO7LEhYZKYN85DEKSiddpPNDPDwkpEQgPOqyLgOQht3oAiSv5wmjEC/welLey7CQC9Wy7MjuSnmT/B2pE9ilTsqroPRIJAYGLm4Say5ERYgCTNdkPDf+kjyqGSQkHN/pii1xJf5xRTyunB+VfHKhWpYjHAzJOGaSchLMYws5ShyTjiGTuDP1gvir4zv4oU8x+1Lz0lQNRVawfbsLjDRGfhGAXCgx9ITXFdChI5vLyEnq6+CgoXW5NQAdPalEuajWdtoostJVZRKTxKOBPe704+76KCDfC6buC78HEABVUvHxE9kkS+/0aoYMIeGFAlI36+T0HLraHawN3ehKfeOldGmAxHrWaw9IzC90qbfOSkEhEMFAQDQ0JKQEuItou61dxvPjPddzeo620wvIcbcUX/teABKJiIioK+VN07P22e9h6Z3gpqKg4OJeGCA7rZ1UVbeQKdByW10Z52sByHn8Y0CAhNQTrGOXFbuibbZTAVFQkJHxuLi6sH1zn2qhmgqI6ZhdgPRL90ctMMpxx/d0aBBw//59fvnLX2JZp2fMgQiQkZElOdUdxRayzXaqy4pT4Yu0kJbTopKr9FzPZ/Jdc+uD5jzi5dojBWRzc5Of/exnbG11V1x4npeshj1LhqWgpHKI4y4rbVYwDuz9JqnO29zAxfZsxnJjqRZyNMu6VAsRQrCyssLu7m7qjeOCAdu2ef78Oa7rnhiQtPgRAxKIgIAAB6dr+vayALE8i0hEFDK9zy5kC9ie3eUt+lnIqNm6HC/Kz+VyVCqVHi3r2rVryVrxqampE5NFS1h9AdElnZAQDw8X95UA0nJa6KpOVsumZlle6BFGYWIh/TS8kQMSV+Ht7+933TgIAh4+fMj6+jqu25nmzGazJ9aymmEzNeWNM6iICBubkDA1qEOn2OGi9KyG1SCn5VDk3pFvaAZBGCQC46ApiFEDosYSycLCQpdmpWkaH374IWEYUiqVTn1jU5hUpWr6QyUVRMeKkEgN6rGedVEWUjfrFI30MqGMliESEX7ok9WyA4O6oigXk/batt2DdKlUolKpnFqniYhSZZPkR0gdxbcpmigofS3kIgFZ2l5KDehAp+BBlhM9axggI097LctK9vwYCUsXIYEI+gPyXUq7L/aZYKJnLiTx5eQuBBAhBE+2nzCRn0gHRNXR5O/0LEGqjnUUkFEu3pH39/eTNRSjKh728RGInjmOLrcgZdgVu8wz33cZm4FxITHECRwadoOpYvoaFFmSyWpZ2k47IceDeMgoBUZV13UqlUqyZm9UoqKM3DfLigGpi3pXPVaahVwEMTRdEy/0uiam0shh02kiIjFwj65YYAzDcCQFc2qhUOC9994b6Q/2hEdOzqFI/V8wK2XZE3v8AX/Q/zNk8fBGPknVsBpk1WzXPEiqnuW0CKMwVem9KD3rQsRFV7iU5XLPHEdXZ8tZ6qJOidJAQILv/kYtKr4181bXjODxNpbr1GeFweCRL0nSSOuzBtZlPX78mOXlZWz7dIHVEU5X6U8/C8mKLGXKAwEJCUcuwdeaNW5N3hpodeP5cRp2A8/zhrqiUS7eGVjksLm5yaNHj04NiBu5PXPpafLJTW4yISb6xxkyndquESu+O60dpkvTAz9TyVVo2S2a7ebQSptLASTOGuIVrJ7nsbOzc6IH+/h9WXpi6khMM02R/n5cQ0NBGXmm1bAbqbJ7FwczSti+TbPdHJrsaJp2Yo3vREy930PefPNNGo0Guq6jKAqZTGboDgYCQSCCoYD4ko+JiSIU+nkO9bu/UXKRWOUt58oDP5fP5PEDn7bTHgqIqqo4jnOuKs8TuazV1VW2trYStbNcLg/1p6HoP3XblXpi8kR60rN4p/vlZAwMWrRGmvIKRFe1YmrKrec6K33NBrqmDwUkCIKRMPa+FqIoCrdu3Tr1HrYhnWVew0p3WrTYkDZ61or0pJ8Uhi4APa270pV0lberY2SVqfwUyJwohsSC7Hm53MBi62vXrp2Jg8iSPJCDABxySEEq4EWDA/YYYxxwMDpRsV2nZJRSZzKPtx/M/YBxbRxJHsyB4qr4UaS+I+chvvBRUQdyEIADDpiSpoZaSIXKSAHZN/cpG+UTfXa+NI+kDiekkiShadpIMq2RA+IJryOvD2mHHDItTdOIGkkVYz9AmjRHB4i1n1r6k8qnPIf/Xflfgmj4yI/3A34tARkW0KEzlz4rzWJHds8St6NtgglatAaCdpp2YB4MTXmTOGe1+J/l/+mq0freAeIKt6/s3hVcaTArzSbr2Pu1MmU8vJGkvkIImk7zRBYihCCrZvGFP3SHoJgmjCLLeiWAxB1clapokoYV9S8zypNHReWQw5FwENd3TxRDwjAkp+eYKE6weTh8f5ejGwlcGCC2bacuzj8vS4/n0suUGVPGMIU5kK0XKFCnfm5A4kqTQaJi3IIgQFd13p1/l1qzNvTzo5qoGiid/Pa3v+Xx48cn9o0CQSjCgfMgAE2aaGhkyVJVqtjRYHc0wQQ77JwbkLjSJKNmTgSIoii8O/8uu63d4R15ZF7kwpi6bdvU63U8zzuRlhWJiJDhgOyyS4kSCgoluYQt7GTNYVq7xjVWWR0JBylmi6mVJj2W7vsoisJ8ZZ59c39opjUqLiIPY+rT09PIspxoWYO0moDOqTaDpm4BNthgmo7ampNzRCLCjPq7retc50u+PPcy6Z3WTt959DRAVE2lWqzih37qUum0wH7ePSoHWsizZ8+o1WrJ9OQwLcsX/olY+jrrLLLYAR6FklJiN+zvFmaZxcbmBS/O9WNrzdpQ2f0oIJqmkdNylIwSLw6GP1vX9XOrvkMt5K233jqxluUJbyhL9/CoU2eel3uVTCqTHIT92XiRIre5zVOenpulpy0/6DcgY13q+vh1VvZWhn4nPgjmQgCJtayFhYUTL4V2hTs0ftSpIxBM8NJ1lOQSvvBTN8iM25/xZ6ywcuYf6oUebbd9IlJ4fE3hreot1uprJ7KQIAjOlWmNlIdYwho6dfst3zLNdFe1YkbKoEkazai/RPI2b1OnfmYpvmk3iaKob3HcceuIuQXAzcmbHJqHQ/f01TSts8HzOdzWaAGJrK59TdLaE57wJm/2XB9Txga6rXHGyZNng40zvdt2Y5tCtjBwG/Gj8ePoviaVXIWiUeTpztOhImMul6Pdbr96QCIibGFTkAsDSeMmm9zmdm+Hy+M0ogaCdBIqIbHAAsssn+n9VvdWma+cbI8tz/N65jXem3+PL559MfS7xWIR0zTP7LZGBogTOYQi7FmXfjx+BARJytv1Q+QinvAGyihv8AZrrJ0ZkJvVmyeLha7bs43G+9ffZ3Vvdeje8PHhZPHWgq8MkHpUJyfnBkrv3/ANE0ykVrurksqYMsZWsDWQj9Spn7rowfIs9tp7LEwsnBiQ45nlZHGSucocv1r51dDvVyoV6vX6maxkoHSytbWVbNs9UJKIWjz3n7OgLgzUr/6T/+QP+cO+n7mh3qAW1mhH6T54iilU1KGbLB9vDzcfYuhG31re4/EjCILU7UT+8t2/5BePf8Fee/DZIaVSCV3X2draOrXYOJAYPnz4kK+++iq10kQgaEZNvna/5oH7gOvqdSpKJTW2/Ibf8E/8E4ss8gEf9H2ZnJxjQVvgS/dLWlFvNqWgcJe7/Af/wU/4Cb/m15iYfWWXndYOn/7uU/71F//KR299NHTaVgiRHO+alurfrN7kj2/9Mf/46T/yX1/810CNa3p6Gtd1qdVquK6L53knAqfvOYZBEPDzn/8c13X56KOP0DSN1dVV9sw9Jt+bpBW08ITHjDrDNeUaGTnTKd3/LihLSHwpfclP+Sk2Nn8h/oL3eR8Do3/gliQiEbHqr7IVbpGX8uTlPAvqQmdXbNGxtE/4hDZtttjClExy5BhnnHd4hz/lT9k83OTT333Kyt4KixOLvL/wPncX7qLIStdJbVEUcXh4iG3bCX+QJIm5uTk0TevpQEmSCKOQp7Wn/Hrt1yxtL/FG9Q0+fudj5ipzXZ+PT0/Y3t5ODjSIDwVotVrMz8+nEu6+gAgh2N7eptlssri4iKqq1LZrHLqHjN0YI0OGslweSAQf85gGDd7hnZ5NLk9CMhtRA094TClTqZJ+SMguu5iYbLNNgQI/4AfstnZ5vP2Yt2beGuimhBC0Wi2EEOi63tmdVNdPXFu13dxmubbM2zNv91UAji5ViE+q3t/f59q1a6cDJAxDHjx4gGVZ3L17l3w+T7vd5uDggOvXr3PVzt7W19epVqsYRtoOFgNITj6fR9f1JCeXZZlGo5Gg3mq1Rn6gSSxdeJ438qOzJUlKtCZd10d+lqHv+xiGkerujjbTNJmamjpdDOlnfnFwiqKIZ8+ecf369XOXTx7vNNd12d7eZmFhYeSAxKerVavVkQIiSRJbW1sUCoWhB2/KstzDc84EyHFwHMfpe4To62gh8SiOdadRN8/zkrNFzgzs1WnRr1dTz2odL168oNFokMlkcF2XN998s68ZnopVWxb7+/vJIciGYYwsiVhbW8M0zcTFVqtVJicnz33fMAx5+vRp4rqEEMzNzZ3piFf1LO5kZWWFzz77jLGxsU65TC7H9PQ01Wr13GB8/vnnbG1tUS6XabVazM3NMTc3d+44dXBwwIsXL9jY2EjYtO/75wZECMHu7i71ep21tTUymUyyg+tZADm1yxJCYFlWIgsIIQiCgNu3b5/bQsIwpF6v02w2E5KWzWZHYiG+77O+vp7s4R5FEZOTk+ceRDG/eP78edcS6WvXrl0OIFftYpt81QVXgFy1UWdZF9WEEKyurpLJZJiYmCCbzRIEATs7O8ksXLxp8fj4OJOTk+zt7bG+vs7i4iKaphEEQRLnyuUyrusihGBvbw9FUVhYWEj4TaPRSDhPrVZLSFu5XH5l8tBrBUgURTx69IiDgwPu3btHo9FgcXGR1dVVNjY2iKIoqey4c+cOk5OTbG9vc//+fR49eoSmaRiGgWVZyakO1WoVVVUTQOJlZ7GIaJomxWIRz/Oo1+scHBwwNzf3ygB5rYK6EIKdnR1qtRrz8/M0m01mZmYwTZP9/f2ubb0rlUpiIWtrayiKQrxvy/7+PrIs4/s+xWIx2cQzm80yMTGBbduoqkqpVMI0zaQQcGdnJwFr1LLNVZZ1FdSv2hUgv4ft/wB9NgfhZGVEywAAAC56VFh0Y3JlYXRlLWRhdGUAAHjaMzIwNNA1MNY1tAgxtLAyMrEyNtY2MLAyMAAAQXYFDD0PJQwAAAAuelRYdG1vZGlmeS1kYXRlAAB42jMyMDTQNTDWNbQIMbSwMjKxMjbWNjCwMjAAAEF2BQxfN9LzAAAAS3pUWHRzb2Z0d2FyZQAAeNrzzE1MT/VNTM9MzlYw0zPRM1QwMNM3MNE3sFAINDRTyCgpKbDS1y8vL9fLzE1MT81NTM9MztbLL0oHAOQiEb+NRwyFAAAAIXpUWHRUaHVtYjo6RG9jdW1lbnQ6OlBhZ2VzAAB42jMEAAAyADIMEuKEAAAAIXpUWHRUaHVtYjo6SW1hZ2U6OmhlaWdodAAAeNozsTAAAAE/AJ3JdERtAAAAIHpUWHRUaHVtYjo6SW1hZ2U6OldpZHRoAAB42jOxMAAAAT8AnUVhQjgAAAAielRYdFRodW1iOjpNaW1ldHlwZQAAeNrLzE1MT9UvyEsHABF7A3hfOUfiAAAAIHpUWHRUaHVtYjo6TVRpbWUAAHjaMzQys7A0NjMzNwYAC14CFHIE0JwAAAAeelRYdFRodW1iOjpTaXplAAB42jM20LOwNDPNTgIACbICOxUnpOcAAABVelRYdFRodW1iOjpVUkkAAHjaBcFBCoAwDATAH7lHwaMfkUi3Jdg2pQnk+85U7bwAoEgIki88bEsjUj912OJMRsomdEijo6KeuM3CY8t6hhV2P9ZsPyQaHEHu8ubjAAAAAElFTkSuQmCC&quot; /&gt;
&lt;/div&gt;
&lt;p&gt;Fig 2?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Title&lt;/strong&gt;: &lt;em&gt;Phylogenetic Evidence for Multiple Morphological Niches in Coral Reef Fish&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Summary&lt;/strong&gt; (&amp;lt; 200 words)
&lt;ul&gt;
&lt;li&gt;We present phylogenetic evidence for two distinct evolutionary optima in the fin morphology of Labrid Fish.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Keywords&lt;/strong&gt;: Evolution, Phylogenetics, Comparative Methods, Labrids, Multiple Niches&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Introduction&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Labrid Fin Morphology&lt;/li&gt;
&lt;li&gt;Is clustering in Trait space evidence of Selection or Phylogenetic Inertia?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Material and Methods&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;as in this entry&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Results&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Evidence for and significance of the two-peak model&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Figures&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;possibly fin morphology and data in single panel? Maybe bootstraps as well?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Understanding multiple niches within current methodology&lt;/li&gt;
&lt;li&gt;Novel methodology to approach this in a phylogenetic context&lt;/li&gt;
&lt;li&gt;Future questions&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Acknowledgements&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;References&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;h3 id=&quot;r-package-to-do&quot;&gt;R Package – To Do&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Should move example scripts into a demo directory&lt;/li&gt;
&lt;li&gt;Should wrap as an R package&lt;/li&gt;
&lt;li&gt;Need function to automate the analysis of bootstrap data and recommend the right number of peaks&lt;/li&gt;
&lt;li&gt;Need prototype stochastic partition and stochastic reconstruction&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-notes&quot;&gt;Misc / Notes&lt;/h2&gt;
&lt;h3 id=&quot;f1000-reviews&quot;&gt;F1000 reviews&lt;/h3&gt;
&lt;p&gt;﻿Constable, H. et al., 2010. VertNet: a new model for biodiversity data sharing. PLoS biology, 8(2), e1000309. Available at: &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20169109&quot; title=&quot;http://www.ncbi.nlm.nih.gov/pubmed/20169109&quot;&gt;http://www.ncbi.nlm.nih.gov/pubmed/20169109&lt;/a&gt;. &lt;em&gt;Must read&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Summary:&lt;/strong&gt; Authors describe VertNet, a cloud-computing resource for vertibrate biodiversity data. Data is publicly accessible can be user annotated while remaining contributor-mediated, retaining primacy and expertise of the orignal contributor.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Opinion:&lt;/strong&gt; Scientists have long argued for the importance of openly accessible, standardized and georeferenced biodiversity data. This work represents a significant accomplishment in overcoming technological, sociological, and idiosynchratic barriers to make this a reality.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ﻿Cadotte, M.W. et al., 2010. Phylogenetic diversity metrics for ecological communities: integrating species richness, abundance and evolutionary history. Ecology Letters, 13(1), 96-105. Available at: &lt;a href=&quot;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01405.x&quot; title=&quot;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01405.x&quot;&gt;http://blackwell-synergy.com/doi/abs/10.1111/j.1461-0248.2009.01405.x&lt;/a&gt;. &lt;em&gt;Recommended&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Summary:&lt;/strong&gt; Existing phylogenetic diversity metrics do not account for relative abundance.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Opinion:&lt;/strong&gt; This work represents a significant improvement on existing approaches of phylogenetic diversity which are commonly used to evaluate species conservation value.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Ziebarth, N.L., Abbott, K.C. &amp;amp; Ives, A.R., 2010. Weak population regulation in ecological time series. Ecology letters, 13(1), 21-31. Available at: &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/19849710&quot; title=&quot;http://www.ncbi.nlm.nih.gov/pubmed/19849710&quot;&gt;http://www.ncbi.nlm.nih.gov/pubmed/19849710&lt;/a&gt;. &lt;em&gt;Recommended&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Summary:&lt;/strong&gt; Authors evaluate two large data collections of population dynamics to find that many long time series express only weak regulation using autoregressive moving average (ARMA) models. The variation of the stationary distribution relative to the variation in the moving average component is taken as the measure of population regulation (1 if strong, much larger under weaker regulation).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Opinion:&lt;/strong&gt; An intriguing paper that brings extensive analysis to a long-standing and fundamental question in population biology. These methods deserve further exploration for their ability to detect strong regulation, as it should be possible to establish confidence intervals on this estimate.&lt;/p&gt;
&lt;h3 id=&quot;mendeley&quot;&gt;Mendeley&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Can I get an rss feed of articles I’ve recently added to my Mendeley collection? Two-way cite-u-like integration? &lt;em&gt;To explore later&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;libraries-for-stochastic-simulation&quot;&gt;Libraries for stochastic simulation&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;with various levels of course graining, different tau-leaping methods, sdes, etc. Will have to explore more at some point, should see if Arkin’s group uses any either. See:&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://synbioss.sourceforge.net/simulator/examples/&quot; title=&quot;http://synbioss.sourceforge.net/simulator/examples/&quot;&gt;SynBioSS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cain.sourceforge.net/&quot; title=&quot;http://cain.sourceforge.net/&quot;&gt;Cain&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Came across more tau-leaping methods for &lt;a href=&quot;http://hdl.handle.net/10.1063/1.3310808&quot; title=&quot;doi:10.1063/1.3310808&quot;&gt;spatial dynamics&lt;/a&gt; and &lt;a href=&quot;http://hdl.handle.net/10.1073/pnas.0809340106&quot; title=&quot;doi:10.1073/pnas.0809340106&quot;&gt;another&lt;/a&gt; how to do tau-leaping when timescales vary widely (stiff dynamics).&lt;/li&gt;
&lt;li&gt;Mario has some interesting &lt;a href=&quot;http://pineda-krch.com/category/gillespie-algorithm/&quot; title=&quot;http://pineda-krch.com/category/gillespie-algorithm/&quot;&gt;entries on Gillespie methods&lt;/a&gt; as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;other&quot;&gt;Other&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://www.hypios.com/thinking/2010/03/18/facebook-for-scientists-a-scientist-weighs-in/&quot; title=&quot;https://www.hypios.com/thinking/2010/03/18/facebook-for-scientists-a-scientist-weighs-in/&quot;&gt;Interesting post&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://flowingdata.com/2010/03/31/mapping-the-github-community/#&quot; title=&quot;http://flowingdata.com/2010/03/31/mapping-the-github-community/#&quot;&gt;neat github collaboration map&lt;/a&gt; might be worth learning more about this kind of visualization.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/30/Research.html"/>
   <updated>2010-03-30T00:00:00-07:00</updated>
   <id>h/2010/03/30/Research</id>
   <content type="html">&lt;h3 id=&quot;current-situation-challenges&quot;&gt;Current Situation &amp;amp; Challenges&lt;/h3&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/22/Simulated_LR.png/200px-Simulated_LR.png&quot; alt=&quot;2000 bootstraps of models fitted to simulated ou2 data&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;2000 bootstraps of models fitted to simulated ou2 data&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;2000 bootstraps of models fitted to simulated ou2 data&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A single data set is produced by simulation under a specified ou2 model on the Labrid tree (actually one that was fitted to the original Labrid data).&lt;/li&gt;
&lt;li&gt;Each model (Brownian motion and 1 to 5 separate OU peaks (assigned by my partition function) is fitted to this dataset.&lt;/li&gt;
&lt;li&gt;Each fitted model is used to generate 2000 replicate datasets&lt;/li&gt;
&lt;li&gt;For each replicate dataset, the model used to generate it is compared to each other model in likelihood ratio test 2(log(&lt;em&gt;L&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt;) − log(&lt;em&gt;L&lt;/em&gt;&lt;sub&gt;2&lt;/sub&gt;)), where &lt;em&gt;L&lt;/em&gt;&lt;sub&gt;1&lt;/sub&gt; is the likelihood of the model that generated the data. In this version, the model likelihood is simply evaluated with its original parameter assignments, not refit to the data first.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;The pattern&lt;/strong&gt; seems to be: each model fit the data it produced better than any other model, particularly for the more complicated models. Consequently, the bootstrap distributions are always positive.&lt;/li&gt;
&lt;li&gt;The more complicated models have higher likelihood scores on the original data, making the location of the red line marking the original data always fall in the negative region for the upper triangle of the graph matrix, where simulations coming from simpler models are compared against the more complicated ones. This seems to consistently reject the simpler model in favor of the complicated one.&lt;/li&gt;
&lt;li&gt;Meanwhile, the lower triangle compares data generated under the complicated against the simple. When the complex (ou2+) are compared against ou1 and bm in this way, the simple model does not reject the complex one – that is, data produced by the complex model scores an expected amount better than the simple one; the red line falls near the center of the bootstrap distribution.&lt;/li&gt;
&lt;li&gt;However, as the models get more complex, the data appears to fall at relatively unlikely small scores. (comparing ou2 vs ou3 for instance) This suggests while the more complex model is still performing better, one would actually suspect it to perform much better still than it actually is; and on the whole its performance is unexpectedly poor for it to be the correct model.&lt;/li&gt;
&lt;li&gt;The balance of rejecting one but not both comparisons might make an argument for ou2 being correct, though the case is not as clear as might hope with simulated data. Of course the power to distinguish depends on the tree as well.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h3&gt;
&lt;h2 id=&quot;miscnotes&quot;&gt;Misc/Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Seminar nominations – submitted. &lt;a href=&quot;http://kinglab.eeb.lsa.umich.edu/&quot; title=&quot;http://kinglab.eeb.lsa.umich.edu/&quot;&gt;Aaron King&lt;/a&gt;, &lt;a href=&quot;http://evolution.genetics.washington.edu/&quot; title=&quot;http://evolution.genetics.washington.edu/&quot;&gt;Joe Felsenstein&lt;/a&gt;, &lt;a href=&quot;http://xcelab.net/rm/&quot; title=&quot;http://xcelab.net/rm/&quot;&gt;Richard McElreath&lt;/a&gt;, &lt;a href=&quot;http://www.webpages.uidaho.edu/~lukeh/index.html&quot; title=&quot;http://www.webpages.uidaho.edu/~lukeh/index.html&quot;&gt;Luke Harmon&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;F1000 Reviews&lt;/strong&gt; Need to submit evaluations&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[1] Weak population regulation in ecological time series Nicolas L. Ziebarth, Karen C. Abbott, Anthony R. Ives &lt;a href=&quot;http://www3.interscience.wiley.com/journal/122659274/abstract&quot; title=&quot;http://www3.interscience.wiley.com/journal/122659274/abstract&quot;&gt;http://www3.interscience.wiley.com/journal/122659274/abstract&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[2] Field theory for biogeography: a spatially explicit model for predicting patterns of biodiversity James P. O’Dwyer, Jessica L. Green &lt;a href=&quot;http://www3.interscience.wiley.com/journal/122680792/abstract&quot; title=&quot;http://www3.interscience.wiley.com/journal/122680792/abstract&quot;&gt;http://www3.interscience.wiley.com/journal/122680792/abstract&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[3] Phylogenetic diversity metrics for ecological communities: integrating species richness, abundance and evolutionary history Marc W. Cadotte, T. Jonathan Davies, James Regetz, Steven W. Kembel, Elsa Cleland, Todd H. Oakley &lt;a href=&quot;http://www3.interscience.wiley.com/journal/122680036/abstract&quot; title=&quot;http://www3.interscience.wiley.com/journal/122680036/abstract&quot;&gt;http://www3.interscience.wiley.com/journal/122680036/abstract&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;&lt;a href=&quot;http://ievobio.org/&quot; title=&quot;http://ievobio.org/&quot;&gt;ievobio conference&lt;/a&gt;&lt;/strong&gt; Registration&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Interesting seminar by &lt;a href=&quot;http://www.cs.ucdavis.edu/people/faculty/tagkopoulos.html&quot; title=&quot;http://www.cs.ucdavis.edu/people/faculty/tagkopoulos.html&quot;&gt;Ilias Tagkopoulos&lt;/a&gt; at CPB today. Good example of high performance computing for stochastic simulations. Latest versions are also explicitly spatial. Strange choice of birth death dynamics however – fixed population size, and when birth occurs, a weaker individual is replaced, when death occurs, a random individual replaces it. Resembles the Moran model, though other work has shown order is important here.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Still puzzling on LR</title>
   <link href="/2010/03/26/Still-puzzling-on-LR.html"/>
   <updated>2010-03-26T00:00:00-07:00</updated>
   <id>h/2010/03/26/Still-puzzling-on-LR</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;The likelihood ratios when parameters are not held fixed, using data originally generated from a two peak model. Has 1000 bootstrap replicates per plot.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/1/12/Simulated_2_LR_fitpar.png/300px-Simulated_2_LR_fitpar.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;The likelihood ratios when parameters are held fixed, after being generated from a two-peak model. (2000 replicates each)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/22/Simulated_LR.png/300px-Simulated_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;parameters held fixed, three peak model (200 replicates each)&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/0/00/Simulated_3_LR.png/300px-Simulated_3_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/25/Research.html"/>
   <updated>2010-03-25T00:00:00-07:00</updated>
   <id>h/2010/03/25/Research</id>
   <content type="html">&lt;h3 id=&quot;new-simulations&quot;&gt;New Simulations&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Now have code to run partitioned models on the Anoles dataset, compare partitioned models to the paintings chosen by Butler and King. Preliminary figures below. Models with _s are partitioned by my algorithm, others are the the original ones from earlier.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/c/cb/Anoles_partition.png/300px-Anoles_partition.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Also have examples with simulated data with a known number of partitions, to check the method. Tested with data produced at two peaks on the Labrid tree, the pattern seems similar to that of the Labrids – comparisons involving any model with more than 2 peaks produce LR ratios that become very unlikely in either pairwise comparison. Still needs further exploration. Preliminary figures:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/2/22/Simulated_LR.png/300px-Simulated_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; ### Interpreting Results&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Pattern: In the bootstrapping, the model generating the data always scores substantially higher than the test model, making all distributions fall in the positive range. Note that parameters are fixed, hence the more complicated model does not have an advantage in this bootstrapping. Meanwhile, the more complicated model does substantially better at the real data than the simpler model, since in this case both have there parameters fit to the data. Consequently the red line falls deep in the negative for the bootstraps simulated under the simple model and makes it appear as though the more complicated model is always correct. Perhaps comparing models in which the parameters are allowed to vary may indeed be more meaningful.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare to parameter varying case.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Now simulating with parameter varying using simulated two-peak dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;beating-bugs-and-improving-code&quot;&gt;Beating bugs and improving code&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Found a work-around in the bug that was preventing me from running the Anoles dataset under partitioning. The problem seems to be the reorder.phylo() by pruning order command, which is called by the ace() function on the phylogenetic tree. This function calls a C function to do the reordering, which somehow gets stuck on an infinite loop when given a file converted from ouch format to ape format using my function. Writing my converted tree out to a nexus file with write.nexus() and then reading it back in seems to solve this problem.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Made my convert() function build its “phylo” tree arguments in the same order (edge, Nnode, tip.label, edge.length) as they are assigned in the “phylo” objects created by read.nexus, though this doesn’t seem to matter as most calls are made with phy$edge rather than phy[1].&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code now avoids bootstrapping a model against itself.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Could avoid re-simulating&lt;/strong&gt; datasets for each figure in the same row, but should profile the code first to make sure this is worth while.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;should start logging simulation runs directly and fixing seed.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;png and cairo devices haven’t been installed on the server, figures output in pdf and converted to png by imagemagick with bash:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;for i in *.pdf; do convert &amp;quot;$i&amp;quot; &amp;quot;${i/.pdf}&amp;quot;.png; done&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;see &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics/commits/master&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics/commits/master&quot;&gt;git log&lt;/a&gt; for more details.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Google Summer of Code includes &lt;a href=&quot;https://www.nescent.org/wg/phyloinformatics/index.php?title=Phyloinformatics_Summer_of_Code_2010#Mentors&quot; title=&quot;https://www.nescent.org/wg/phyloinformatics/index.php?title=Phyloinformatics_Summer_of_Code_2010#Mentors&quot;&gt;NesCent “phyloinformatics” research&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&quot;http://www3.interscience.wiley.com/journal/123328987/abstract?CRETRY=1&amp;amp;SRETRY=0&quot; title=&quot;http://www3.interscience.wiley.com/journal/123328987/abstract?CRETRY=1&amp;amp;SRETRY=0&quot;&gt;obvious…&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;still reading: &lt;a href=&quot;http://blog.openwetware.org/scienceintheopen/2009/11/05/reflections-on-science-20-from-a-distance-part-i/&quot; title=&quot;http://blog.openwetware.org/scienceintheopen/2009/11/05/reflections-on-science-20-from-a-distance-part-i/&quot;&gt;open science&lt;/a&gt;, &lt;a href=&quot;http://blog.openwetware.org/scienceintheopen/2009/11/06/reflections-on-science-20-from-a-distance-part-ii/&quot; title=&quot;http://blog.openwetware.org/scienceintheopen/2009/11/06/reflections-on-science-20-from-a-distance-part-ii/&quot;&gt;part 2&lt;/a&gt;, and also enjoyed this&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;csgf-conference-hpc-survey&quot;&gt;CSGF Conference HPC Survey&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Not directly phylogentics, but also working on today:&lt;/li&gt;
&lt;li&gt;I was contacted by Mary Ann 3 days ago on doing another survey of CSGF fellows. &lt;a href=&quot;http://www.surveymonkey.com/s/VMTTFXS&quot; title=&quot;http://www.surveymonkey.com/s/VMTTFXS&quot;&gt;Last year’s survey&lt;/a&gt; was pretty basic (&lt;a href=&quot;http://www.surveymonkey.com/MySurvey_Responses.aspx?sm=SXNbpnWs3a%2blQnEwe%2bfNiKvBGCZEs/jdQhlVfunE9YI%3d&quot; title=&quot;http://www.surveymonkey.com/MySurvey_Responses.aspx?sm=SXNbpnWs3a%2blQnEwe%2bfNiKvBGCZEs/jdQhlVfunE9YI%3d&quot;&gt;results&lt;/a&gt;). Also interested to explore alternatives to surveymonkey, though it did make things quite easy and Krell can probably get the subscription. Possibly Google forms?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Some goals I have for the survey:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;strong&gt;Who knows/uses what.&lt;/strong&gt; Be able to see what languages, parallelization, and scale of computation fellows are computing on. The crucial goal for this year is to be able to break this down by subject area and by year in the fellowship.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Effective practices in computing.&lt;/strong&gt; Hugely important but too rarely taught (in sciences anyway). Version control, debugging, visualization, etc. A great example of this stuff is to see the quiz on &lt;a href=&quot;http://software-carpentry.org/intro.html&quot; title=&quot;http://software-carpentry.org/intro.html&quot;&gt;Software Carpentry&lt;/a&gt;(scroll down to #5)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://openwetware.org/wiki/Science_2.0/Brainstorming&quot; title=&quot;http://openwetware.org/wiki/Science_2.0/Brainstorming&quot;&gt;&lt;strong&gt;Science 2.0&lt;/strong&gt;&lt;/a&gt; This goes a little further afield and might deserve its own session. Computers and the internet continue to change many aspects in the way we do science and it makes sense that CSGFs should be at the forefront. Large-scale online collaborations. The benefits and risks of science blogging. Standardized and publicly accessible data, source code, publications, and notebooks. Social networking for scientists. There’s a wealth of rapidly emerging tools in this area that I think we should all know about. Two quick examples: Mendeley for organizing our collections of scientific papers and stackoverflow.com for solving programming problems collaboratively.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Entry title</title>
   <link href="/2010/03/25/Entry-title.html"/>
   <updated>2010-03-25T00:00:00-07:00</updated>
   <id>h/2010/03/25/Entry-title</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Insert content here…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parallel R</title>
   <link href="/2010/03/24/Parallel-R.html"/>
   <updated>2010-03-24T00:00:00-07:00</updated>
   <id>h/2010/03/24/Parallel-R</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Parallelized LR_bootstrap_all() and model_bootstrap_all() bootstrapping functions. Lets the bootstrapping of different models (or LRs between models) to be performed on different machines.&lt;/li&gt;
&lt;li&gt;Using the &lt;em&gt;snowfall&lt;/em&gt; package in R for easy parallel computing. The parallel loop is done through the sfLapply() function.&lt;/li&gt;
&lt;li&gt;Had to get libraries and functions exported to all loops using sfLibrary() and sfExportAll(). R-sig-hpc mailing list was very helpful at getting this up and running at 4am.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;references-for-parallel-r&quot;&gt;References for parallel R&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/views/HighPerformanceComputing.html&quot; title=&quot;http://cran.r-project.org/web/views/HighPerformanceComputing.html&quot;&gt;Taskview on Parallel on HPC R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/snowfall/vignettes/snowfall.pdf&quot; title=&quot;http://cran.r-project.org/web/packages/snowfall/vignettes/snowfall.pdf&quot;&gt;Snowfall Tutorial (vignette)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://stat.ethz.ch/mailman/listinfo/r-sig-hpc&quot; title=&quot;https://stat.ethz.ch/mailman/listinfo/r-sig-hpc&quot;&gt;R-sig-hpc mailing list&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Research ——–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Still exploring model comparisons. Trying labrid data with up to 5 partitions.&lt;/li&gt;
&lt;li&gt;Attempted partitioning on the Anoles data, but for some reason the ape ace() fn for discrete ancestral state reconstruction fails on this data (seems to get stuck in an infinite loop). Not obvious why this should occur; geiger’s fitDiscrete() works fine on the partitioned data. Well, was planning on rewriting the ancestral state reconstruction in simmap style anyway…&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;anoles&quot;&gt;Anoles&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/a/aa/Anoles_lik.png/400px-Anoles_lik.png&quot; alt=&quot;image&quot; /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/4/47/Anoles_LR.png/400px-Anoles_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;labrids&quot;&gt;Labrids&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/1/1b/Labrid_lik.png/400px-Labrid_lik.png&quot; alt=&quot;image&quot; /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/f/fc/Labrid_LR.png/400px-Labrid_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Seems like the more complicated models continually perform better. However, the observed likelihood ratios become less and less likely themselves, even against simple models.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Recall I simulate the dataset under the model labeled “true” and then evaluate the likelihood ratio of that model vs the test model. So along a row data is produced by simulation of the same model. The pattern is basically that the upper triangle of the matrix (simulate simple, compare to complex) always has negative LR for the true data but a very positive distribution of LRs. It’s still a bit surprising to me that when data simulated under the simpler model that the simple model should always drastically outperform the complex one in LR, but it does.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;misc-notes&quot;&gt;Misc Notes&lt;/h2&gt;
&lt;p&gt;Listened to some talks while coding yesterday. Listing here in case I want to return to them.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.youtube.com/watch?v=khQ9BaXZAjM&quot; title=&quot;http://www.youtube.com/watch?v=khQ9BaXZAjM&quot;&gt;Richard Florida&lt;/a&gt; What’s your city? (excellent)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.youtube.com/watch?v=tke6X2eME3c&quot; title=&quot;http://www.youtube.com/watch?v=tke6X2eME3c&quot;&gt;Tony Schwartz&lt;/a&gt; Managing your time managing your energy&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.youtube.com/watch?v=43DZEy_J694&quot; title=&quot;http://www.youtube.com/watch?v=43DZEy_J694&quot;&gt;David Weinberger&lt;/a&gt; Everything is Miscellaneous&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bootstrapping Likelihood ratios</title>
   <link href="/2010/03/23/Bootstrapping-Likelihood-ratios.html"/>
   <updated>2010-03-23T00:00:00-07:00</updated>
   <id>h/2010/03/23/Bootstrapping-Likelihood-ratios</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Bootstraps of the likelihood ratio, holding the parameters fixed, finally completed.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anoles: &lt;img src=&quot;http://openwetware.org/images/thumb/4/47/Anoles_LR.png/600px-Anoles_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;p&gt;Summary Anoles table:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; summary(anoles_boots)
            [,1]        [,2]       [,3]       [,4]        [,5]
[1,] 0.500000000 0.981399498 0.26514573 0.06668672 0.018154938
[2,] 0.009580545 0.500000000 0.15610274 0.04819938 0.011616566
[3,] 0.039233893 0.075349644 0.50000000 0.05699877 0.005443493
[4,] 0.004211230 0.004592917 0.01389950 0.50000000 0.006648916
[5,] 0.173457542 0.198303402 0.38893099 0.33891430 0.500000000
&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Labrids: &lt;img src=&quot;http://openwetware.org/images/thumb/f/fc/Labrid_LR.png/600px-Labrid_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt; 
&amp;gt; summary(labrid_boots)
          [,1]         [,2]      [,3] [,4]
[1,] 0.5000000 6.036842e-05 0.0000000  0.0
[2,] 0.5424613 5.000000e-01 0.0000000  0.0
[3,] 0.5546890 4.384114e-01 0.5000000  0.0
[4,] 0.4081957 3.488395e-01 0.0295128  0.5
&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; Note that the location of the red line now just flips sign in the pairwise comparison.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - Functions for bootstrapping of the likelihood directly also written. Currently running with 1000 replicates.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;model_bootstrap() bootstraps a single model&lt;/li&gt;
&lt;li&gt;model_bootstrap_all() applies this to a list of models&lt;/li&gt;
&lt;li&gt;plot.model_boots() plots the object returned by bootstrapping all models on a single plot axis.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Working on a summary function for both LR and likelihood bootstraps.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Phylogenetic Tree formats</title>
   <link href="/2010/03/22/Phylogenetic-Tree-formats.html"/>
   <updated>2010-03-22T00:00:00-07:00</updated>
   <id>h/2010/03/22/Phylogenetic-Tree-formats</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Consider a tree with N nodes. has &lt;img src=&quot;http://openwetware.org/images/math/8/0/6/806f2a93c92cf6d7d9f090494e22ca5c.png&quot; alt=&quot;\frac{N+1}{2}&quot; /&gt; tips and &lt;img src=&quot;http://openwetware.org/images/math/b/2/9/b29839ea7c81cf5145ad5cc82365a8ed.png&quot; alt=&quot;\frac{N-1}{2}&quot; /&gt; internal nodes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;ape-format-class-phylo&quot;&gt;ape Format: class “phylo”&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Elements of the data structure:&lt;/li&gt;
&lt;li&gt;phy$edge – Topology. 2 by N-1 matrix. First column has internal nodes only, each node appearing twice. Internal nodes range from 1+(N+1)/2 to N-1, while the tip numbers go from 1 to (N+1)/2. Each node appears once in the second column, and is a child of the node identified in the first column.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The order of the rows in the matrix doesn’t matter.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;phy&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?edge.length -- the N-1 length numeric. Lengths of the edges in     the same order as phy\inline&quot;/&gt;&lt;/span&gt;edge. Optional for plotting.&lt;/li&gt;
&lt;li&gt;phy$tip.label – &lt;img src=&quot;http://openwetware.org/images/math/8/0/6/806f2a93c92cf6d7d9f090494e22ca5c.png&quot; alt=&quot;\frac{N+1}{2}&quot; /&gt; length character vector. The index values correspond to the&lt;/li&gt;
&lt;li&gt;phy$Nnode – Number of internal nodes, equals &lt;img src=&quot;http://openwetware.org/images/math/b/2/9/b29839ea7c81cf5145ad5cc82365a8ed.png&quot; alt=&quot;\frac{N-1}{2}&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are the essential components of a phylo object. Optional parameter includes a list of names for internal nodes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;phy &amp;lt;- makeNodeLabel(phy) adds phy$node.label&lt;/li&gt;
&lt;li&gt;phy$node.label&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ape format is very picky. Any tree topology is completely specified by listing the ancestor for each node. If the nodes are identified as 1:n, then the topology is an ordered vector of length n. This is the representation used by ouch. The node numbers can be arbitrary identifiers. Ape chooses a more restrictive representation. Nodes are assigned numbers such that the numbers 1 to (n+1)/2 are assigned exclusively to tips, and those after are assigned exclusively to internal nodes. Topology is specified by listing the ancestor of each node. The identity is stored in edge[,2] and the ancestor in edge[,1]. However, it appears that the root node cannot be assigned as n. Whichever is the ancestor will be missing from the node list on the right (edge[,2]), as it has no corresponding ancestor on the left. It seems the (n+1)/2 + 1 does best assigned to the root. Ouch2ape conversion could easily preserve the node-numbering used in the ape representation, but for some reason the function chooses to renumber them anyway. Reversing is harder, as not all applicable codings of a tree in the ouch representation meet the additional constraints of the ape tree.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; #### ouch Format: class “ouchtree”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Topology specified in tree@ancestors&lt;/li&gt;
&lt;li&gt;each node lists its ancestor&lt;/li&gt;
&lt;li&gt;fitted models have class “hansentree” or “browntree” and contain parameter fitting details.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/20/Research.html"/>
   <updated>2010-03-20T00:00:00-07:00</updated>
   <id>h/2010/03/20/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Bootstrap the fitted models (rather than allow the parameters to be refit, simply evaluate the likelihood of the model under each simulated dataset)&lt;/li&gt;
&lt;li&gt;Directly evaluate &lt;a href=&quot;http://en.wikipedia.org/wiki/Neyman%E2%80%93Pearson_lemma&quot; title=&quot;http://en.wikipedia.org/wiki/Neyman%E2%80%93Pearson_lemma&quot;&gt;Neyman-Pearson lemma&lt;/a&gt; for each pairwise model comparison.&lt;/li&gt;
&lt;li&gt;Also analyze the bootstrapped likelihoods directly (and without refitting) for each model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;to-do&quot;&gt;To Do&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Add a summary function for the likelihood_ratio_bootstrap.R library&lt;/li&gt;
&lt;li&gt;final wrapper function for infer_niches.R partitioning library&lt;/li&gt;
&lt;li&gt;More error handling and documentation&lt;/li&gt;
&lt;li&gt;Example of partitioning Anoles then bootstrapping&lt;/li&gt;
&lt;li&gt;Bootstrapping likelihoods directly&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;references-on-thinking-about-bootstrapping-model-comparisons&quot;&gt;References on thinking about bootstrapping model comparisons&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jstor.org/stable/91247&quot; title=&quot;http://www.jstor.org/stable/91247&quot;&gt;The original Neyman-Pearson paper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.springerlink.com/content/r12g32/?p=10d7defb56d34e0d99143df5d6000f35&amp;amp;pi=2&quot; title=&quot;http://www.springerlink.com/content/r12g32/?p=10d7defb56d34e0d99143df5d6000f35&amp;amp;pi=2&quot;&gt;Testing Statistical Hypotheses&lt;/a&gt; Text by Lehmann &amp;amp; Romano&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.springerlink.com/content/978-0-387-20279-2&quot; title=&quot;http://www.springerlink.com/content/978-0-387-20279-2&quot;&gt;Permutation, Parametric and Bootstrap Tests of Hypotheses&lt;/a&gt; by Good&lt;/li&gt;
&lt;li&gt;Thanks to Peter on these; &lt;a href=&quot;http://www.bibsonomy.org/user/peter.ralph&quot; title=&quot;http://www.bibsonomy.org/user/peter.ralph&quot;&gt;Bibsonomy collection&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;ouch2ape.R function needs debugging!&lt;/em&gt;&lt;/strong&gt; Works only some of the time. Seems to error on converting back from an ape2ouch conversion.&lt;/p&gt;
&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Adding documentation and testing the new bootstrapping functions.&lt;/li&gt;
&lt;li&gt;New functions make up the bootstrapping likelihood ratio suite:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;BM_loglik&lt;/li&gt;
&lt;li&gt;my_update&lt;/li&gt;
&lt;li&gt;LR_bootstrap&lt;/li&gt;
&lt;li&gt;LR_bootstrap_all&lt;/li&gt;
&lt;li&gt;plot.LR_boots&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The function should be easy to call on a list of ouch models.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; plot(LR_bootstrap_all(model_list))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Inline documentation provides more details. Functions in this library are contained in the likelihood_ratio_bootstrap.R file.&lt;/p&gt;
&lt;h2 id=&quot;general-notes&quot;&gt;General Notes&lt;/h2&gt;
&lt;h4 id=&quot;break-reading&quot;&gt;Break Reading&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sciencenews.org/view/feature/id/57091/title/Odds_Are%2C_Its_Wrong&quot; title=&quot;http://www.sciencenews.org/view/feature/id/57091/title/Odds_Are%2C_Its_Wrong&quot;&gt;P values&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://disqus.com/comments/&quot; title=&quot;http://disqus.com/comments/&quot;&gt;another commenting forum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://ways.org/en/blogs/2010/mar/12/summary_of_the_open_science_session_at_eurodoc_2010&quot; title=&quot;http://ways.org/en/blogs/2010/mar/12/summary_of_the_open_science_session_at_eurodoc_2010&quot;&gt;on open science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot; title=&quot;http://scholarlykitchen.sspnet.org/2010/02/08/science-and-web-2-0-talking-about-science-versus-doing-science/&quot;&gt;Doing vs Discussing Science&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://docs.google.com/present/edit?id=0ASQvcnWHnwgmZGR3aHFkNmtfMjEyZHo5YjNyZzI&amp;amp;hl=en#&quot; title=&quot;http://docs.google.com/present/edit?id=0ASQvcnWHnwgmZGR3aHFkNmtfMjEyZHo5YjNyZzI&amp;amp;hl=en#&quot;&gt;Cameron’s research cycle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://scienceblogs.com/geneticfuture/2009/06/nature_news_article_on_confere.php&quot; title=&quot;http://scienceblogs.com/geneticfuture/2009/06/nature_news_article_on_confere.php&quot;&gt;Nature’s position on pre-published blogging science&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/19/Research.html"/>
   <updated>2010-03-19T00:00:00-07:00</updated>
   <id>h/2010/03/19/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Bootstrapped against 2000 replicate simulations overnight on both the Anoles dataset and the Labrids dataset.&lt;/li&gt;
&lt;li&gt;Distributions that overlap zero represent replicates that choose the wrong model.&lt;/li&gt;
&lt;li&gt;The Anoles data below; the first column corresponds to the likelihood ratios shown in &lt;a href=&quot;http://www.journals.uchicago.edu/doi/abs/10.1086/426002&quot; title=&quot;http://www.journals.uchicago.edu/doi/abs/10.1086/426002&quot;&gt;Butler &amp;amp; King (2004)&lt;/a&gt;, comparing each model against BM.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/0/0f/Anoles_full_LR.png/600px-Anoles_full_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;The Labrid dataset:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/6/6c/Labrid_full_LR.png/600px-Labrid_full_LR.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Find matching figures for the case of parameters held fixed on more recent entry&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Recall I simulate the dataset under the model labeled “true” and then evaluate the likelihood ratio of that model vs the test model. So along a row data is produced by simulation of the same model. The pattern is basically that the upper triangle of the matrix (simulate simple, compare to complex) always has negative LR for the true data but a very positive distribution of LRs. It’s still a bit surprising to me that when data simulated under the simpler model that the simple model should always drastically outperform the complex one in LR, but it does.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;discussion-w-peter&quot;&gt;Discussion w/ Peter&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Bootstraps in this implementation refit the model to the simulated data each time.&lt;/li&gt;
&lt;li&gt;This largely comes from relying on the behavior of the built-in functions: the bootstrap call and the update call on ouch models both refit the model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;computing&quot;&gt;Computing&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;R objects can have multiple classes. For instance, in ouch, a hansentree and a browntree are both also of class ouchtree. To check if an object is a member of a class, calling class(object) directly only returns the top class. use:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;is(object, &amp;quot;classname&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;to check if the object is a member of a class.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Was trying to figure out the best way for an R function to return multiple objects, particularly when those objects are complicated classes and not just things that can be concatenated into a data.frame, equivalent to an array of pointers to objects in C. A vector of type “list” does the trick:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;out &amp;lt;- vector(&amp;quot;list&amp;quot;, 5)
out[[1]] &amp;lt;- object 1&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;etc.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Trying to include more error handling in my codes. For instance, checking classes of objects&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;if (!is(tree,&amp;#39;ouchtree&amp;#39;))
  stop(sQuote(&amp;quot;tree&amp;quot;),&amp;quot; must be an object of class &amp;quot;,sQuote(&amp;quot;ouchtree&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;Trying to start following Google’s literate programming &lt;a href=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html#functiondefinition&quot; title=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html#functiondefinition&quot;&gt;inline documentation for functions&lt;/a&gt; in R. The standard R documentation method really encourages writing documentation &lt;em&gt;after&lt;/em&gt; writing the code, rather antithetical to literate programming.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/18/Research.html"/>
   <updated>2010-03-18T00:00:00-07:00</updated>
   <id>h/2010/03/18/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;A some point I’ll want to think more seriously about incorporating geographic information into comparative analyses. At some level this data is more available than appropriate continuous traits, as illustrated in the &lt;a href=&quot;http://iphylo.org/treebase/Doi:10.1016/j.ympev.2008.02.021&quot; title=&quot;http://iphylo.org/treebase/Doi:10.1016/j.ympev.2008.02.021&quot;&gt;example phylogenetics wiki&lt;/a&gt; from Prof. Roderic Page that I just came across.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;todays-goals&quot;&gt;Today’s Goals&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Repeating last night’s bootstraps on the likelihood ratio. Need to clean up and incorporate my bootstrap codes first.&lt;/li&gt;
&lt;li&gt;Should also explore the bootstrapping of the partitioning functions from yesterday.&lt;/li&gt;
&lt;li&gt;Begin implementing stochastic partitioning and stochastic ancestral state painting/inference.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;bootstrapping-likelihood-ratios&quot;&gt;Bootstrapping Likelihood ratios&lt;/h4&gt;
&lt;p&gt;Preliminary bootstrap of the likelihood ratios of the Anoles data (click for larger). Red lines indicate where the true data falls.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/3f/LR_boots.png/480px-LR_boots.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Compare to the earlier bootstraps of likelihoods directly:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/71/Anoles_boot.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Research</title>
   <link href="/2010/03/17/Research.html"/>
   <updated>2010-03-17T00:00:00-07:00</updated>
   <id>h/2010/03/17/Research</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Maximum likelihood assignment based on arbitrary number of partitions now completed. Working on stochastic assignment.&lt;/li&gt;
&lt;li&gt;Now have functions for:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;partitioning data into k groups,&lt;/li&gt;
&lt;li&gt;inferring an ancestral state painting based on this partition&lt;/li&gt;
&lt;li&gt;inferring a continuous model with k OU regimes based on this painting&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;need to add my function for the proper model-comparison bootstrap of likelihood ratio values rather than the likelihoods themselves. See my original entry on this approach.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Currently running the bootstraps on the inferred models for two peaks and three peaks compared to a single partition under either BM or OU.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/f/f7/Bootstrap_models.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;As three peaks includes 2 peaks as a subset, it necessarily performs better. However, the relative increase is much smaller. Comparing likelihood ratios should help tease this apart further.&lt;/p&gt;
&lt;h2 id=&quot;wainwright-meeting&quot;&gt;Wainwright Meeting&lt;/h2&gt;
&lt;p&gt;Discussed target papers for this research.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Target a short paper focusing on the biological aspects of identifying two peaks in the Labrid data. Working on with Peter. Will probably add the three peak comparison (running now).&lt;/li&gt;
&lt;li&gt;Develop a commentary on phylogenetic signal and bootstrapping methods&lt;/li&gt;
&lt;li&gt;Full manuscript with the complete inference of multiple niches that integrates over uncertainty&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Graham & Peter Meeting</title>
   <link href="/2010/03/16/Graham-and-Peter-Meeting.html"/>
   <updated>2010-03-16T00:00:00-07:00</updated>
   <id>h/2010/03/16/Graham-and-Peter-Meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Discussed inverse problem approach.&lt;/li&gt;
&lt;li&gt;Discussed bootstrapping likelihoods directly vs bootstrapping likelihood ratio&lt;/li&gt;
&lt;li&gt;Integrating over uncertainty in the likelihood assignment&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Research Progress —————–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Completed writing the bootstrapping function for the partition scheme,&lt;/li&gt;
&lt;li&gt;ouch2ape function completed for converting ouch tree formats back to ape. modifies code from &lt;a href=&quot;http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/trunk/misc/ouch2ape.R?rev=47&amp;amp;root=phyloc&amp;amp;view=log&quot; title=&quot;http://r-forge.r-project.org/plugins/scmsvn/viewcvs.php/trunk/misc/ouch2ape.R?rev=47&amp;amp;root=phyloc&amp;amp;view=log&quot;&gt;r-forge&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;More details and log on the &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics&quot;&gt;repository&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;goals-for-wainwright-meeting-tomorrow&quot;&gt;Goals for Wainwright meeting tomorrow&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Repeat Labrid Fin analysis with tripartition&lt;/li&gt;
&lt;li&gt;Bootstrap likelihood ratio functions&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt; Misc —-&lt;/p&gt;
&lt;p&gt;Thinking about nominations for EVE Seminar speaker&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Aaron King&lt;/li&gt;
&lt;li&gt;Joe Felsenstein&lt;/li&gt;
&lt;li&gt;Marc Mangel&lt;/li&gt;
&lt;li&gt;Luke Harmon&lt;/li&gt;
&lt;li&gt;Richard McElreath&lt;/li&gt;
&lt;li&gt;co-sponsor &lt;a href=&quot;http://fds.duke.edu/db/aas/Biology/katia.koelle&quot; title=&quot;http://fds.duke.edu/db/aas/Biology/katia.koelle&quot;&gt;Katia Koelle&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Computing</title>
   <link href="/2010/03/15/Computing.html"/>
   <updated>2010-03-15T00:00:00-07:00</updated>
   <id>h/2010/03/15/Computing</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Exploring parallel computing options. &lt;a href=&quot;http://www.ecn.purdue.edu/ParaMount/publications/HIPS07-smin.pdf&quot; title=&quot;http://www.ecn.purdue.edu/ParaMount/publications/HIPS07-smin.pdf&quot;&gt;OpenMP for distributed memory applications&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;learning git – need to get used to the branch and merge, install on one.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;p&gt;The failure of the Anoles data set to robustly select the more common model can easily be explained by the likelihood distribution: Not surprising since this dataset consists of only 23 taxa. The Labrid tree of 114 taxa clearly resolves the difference between the different models. Bootstrapping should be a more reliable guide than comparing AIC scores.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/71/Anoles_boot.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Compare to the Labrid data set:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/7b/6_boot.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;These use 200 bootstrap simulations, repeating with 2000 for better resolution.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Significance&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Breakthrough!&lt;/strong&gt; This approach has far greater implications than I first realized. This provides an inverse approach which solves the hardest part of my original problem, and then tests that under the phylogenetic context. Solving the partition problem independent of the phylogeny, reconstructing the ancestral states as a purely discrete problem, and then scoring the resulting continuous time model on the phylogeny is likely to be far more effective, efficient, and robust, then the direct calculation of the joint probability that I’ve been pursuing. While the three steps: partitioning, discrete inference, and continuous inference; all need refining, I think I’m very close to my first implementation of the full problem!&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Next Steps&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Compare likelihood scores under different levels of partitioning.&lt;/li&gt;
&lt;li&gt;Parametric bootstrapping of partitioning&lt;/li&gt;
&lt;li&gt;look at parametric bootstrap of parameter values inferred as well as the model likelihood.&lt;/li&gt;
&lt;li&gt;Stochastic Painting from ancestral state reconstruction on discrete traits&lt;/li&gt;
&lt;li&gt;Functionalize the three steps to inference&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Other Progress&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Working on implementing an ouch2ape function to get ouch trees back into ape.&lt;/li&gt;
&lt;li&gt;Begun functionalizing partitioning, discrete and continuous inference. Converting between formats without getting data misaligned is remarkably complicated.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;from-the-git-log&quot;&gt;From the git log&lt;/h2&gt;
&lt;p&gt;commit ddf6db6fca626c8f6ed31f4ab2a7cb78ed70f226 Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Mon Mar 15 09:40:08 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   Updated doxygen comments&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 17dd3775004741c9c590828b498dacd75c5bfc49 Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Mon Mar 15 09:39:34 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   added license and multimin fn&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 02b9bfc02cb830297fc7fad81cfcd05598d482f1 Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Mon Mar 15 09:22:21 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   mcmc is basics now implemented.&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 220ccae12fbbdf78cd5e082555c04b99af92c4af Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Sun Mar 14 20:51:50 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   adding the mcmc routine&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;commit 94642c8d406fb0d6e8970dc31cfd5304dda2c007 Author: Carl Boettiger &lt;cboettig@gmail.com\&gt; Date: Sun Mar 14 15:33:39 2010 -0700&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;   first commit&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Post-Workshop</title>
   <link href="/2010/03/14/Post-Workshop.html"/>
   <updated>2010-03-14T00:00:00-08:00</updated>
   <id>h/2010/03/14/Post-Workshop</id>
   <content type="html">&lt;p&gt;Working on a couple new ideas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Multiple partitions&lt;/li&gt;
&lt;li&gt;Community phylogenetics nulls&lt;/li&gt;
&lt;li&gt;Diversification rates w/ stationary distributions&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;tools-exploration&quot;&gt;Tools exploration&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Finding &lt;a href=&quot;http://phylogenetics.uservoice.com/forums/43843-general&quot; title=&quot;http://phylogenetics.uservoice.com/forums/43843-general&quot;&gt;my forum&lt;/a&gt; a very useful tool for recording and organizing around idea. Nice complement to this notebook which helps me organize temporally instead.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Becoming convinced I should transition from svn to git. Created a &lt;a href=&quot;http://github.com/cboettig&quot; title=&quot;http://github.com/cboettig&quot;&gt;git-hub account&lt;/a&gt; and have started learning the basic git commands. The &lt;a href=&quot;http://book.git-scm.com/index.html&quot; title=&quot;http://book.git-scm.com/index.html&quot;&gt;Git community book&lt;/a&gt; and the &lt;a href=&quot;http://learn.github.com/p/setup.html&quot; title=&quot;http://learn.github.com/p/setup.html&quot;&gt;website video tutorials&lt;/a&gt; have been very helpful.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Meanwhile, &lt;a href=&quot;http://rabbitvcs.org/&quot; title=&quot;http://rabbitvcs.org/&quot;&gt;RabbitVCS&lt;/a&gt; is a very slick SVN manager integrated directly into the Nautilus browser. I’ve also added the svn commands to hotkeys through my vimrc script.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;listened to an interesting &lt;a href=&quot;http://cyber.law.harvard.edu/events/luncheon/2010/03/wilbanks&quot; title=&quot;http://cyber.law.harvard.edu/events/luncheon/2010/03/wilbanks&quot;&gt;talk by Willbanks&lt;/a&gt; on science commons and &lt;em&gt;Generative Science’.’&lt;/em&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;research&quot;&gt;Research&lt;/h2&gt;
&lt;p&gt;Working on the multiple partitions question for discretization of continuous data.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Maximum likelihood implementation in R for an arbitrary but fixed number of peaks.&lt;/li&gt;
&lt;li&gt;Writing the MCMC approach now to allow Bayesian partitioning.
&lt;ul&gt;
&lt;li&gt;Will be a good test case for the reversible jump process&lt;/li&gt;
&lt;li&gt;Potentially a good test case to explore Dirchlet Process Prior&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;project-now-has-a-code-repository&quot;&gt;Project now has a &lt;a href=&quot;http://github.com/cboettig/Comparative-Phylogenetics&quot; title=&quot;http://github.com/cboettig/Comparative-Phylogenetics&quot;&gt;code repository&lt;/a&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Hosting through github.&lt;/li&gt;
&lt;li&gt;Several advantages to the git system – no central repository, easier branching / merging, faster.&lt;/li&gt;
&lt;li&gt;github interface also seems to have several advantages relative to google code. In addition to supporting git, provides a more intuitive and visually appealing layout for the project.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega Workshop Presentations</title>
   <link href="/2010/03/12/Bodega-Workshop-Presentations.html"/>
   <updated>2010-03-12T00:00:00-08:00</updated>
   <id>h/2010/03/12/Bodega-Workshop-Presentations</id>
   <content type="html">&lt;p&gt;Final day of Bodega Phylogenetics workshop: a full day of student presentations. (High resolution images for the trees available by clicking on them)&lt;/p&gt;
&lt;p&gt;Principle figures from my investigation of the Labrid data. While morphospace doesn’t present an obvious clustering, it can be effectively divided by my maximum likelihood partitioning scheme on fin angle. A smoothed density plot of fin angle alone reveals two identifiable modes in the traitspace.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/71/2_data.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Based on the discretized partition, ancestral states are reconstructed under both the equal rates and independent rates model. Independent rates offers a negligible improvement in likelihood score (-loglik of 72 vs 73)&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/9/90/3_discrete.png/480px-3_discrete.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Without discretizing, I infer ancestral state based on Brownian motion. information is rapidly lost in the inference, and the ancestral states become simple averages of the observed traits.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/5/52/4_cts.png/480px-4_cts.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Using the discrete trait analysis, I assign nodes to their more likely reconstruction and use this as the painting scheme for the inference under continuous traits. A stochastic mapping reconstruction could assign nodes randomly based on the probability inferred by the reconstruction. The full simmap approach could also be taken. I doubt the results would differ much between the approaches, as most of the information is in the tips anyway.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/37/5_painted.png/480px-5_painted.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The likelihood distributions generated by bootstrapping 200 replicates shows strong confirmation of the more complex model. Very satisfying in light of the challenges in the Anoles data!&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/7/7b/6_boot.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Feedback from the results has been quite compelling and am beginning to write this up a small manuscript. We’ll need to reduce to two figures.&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Phylogenetics Workshop Day 5</title>
   <link href="/2010/03/11/Phylogenetics-Workshop-Day-5.html"/>
   <updated>2010-03-11T00:00:00-08:00</updated>
   <id>h/2010/03/11/Phylogenetics-Workshop-Day-5</id>
   <content type="html">&lt;p&gt;Last day of lectures: Lineage Diversification&lt;/p&gt;
&lt;h3 id=&quot;brian-moore-rates-of-lineage-diversification&quot;&gt;Brian Moore: Rates of Lineage Diversification&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Diversification_Rates_%28Moore%29&quot; title=&quot;http://bodegaphylo.wikispot.org/Diversification_Rates_%28Moore%29&quot;&gt;Bodega Wiki slides &amp;amp; tutorial&lt;/a&gt;&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Detecting significant diversification rate variation across tree&lt;/li&gt;
&lt;li&gt;locate shifts along branches&lt;/li&gt;
&lt;li&gt;and through time (niche-filling, density dep models?)&lt;/li&gt;
&lt;li&gt;correlates of differential rates&lt;/li&gt;
&lt;li&gt;parameter estimation speciation/extinction&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/7/c/27c62056e13cc9ba6d2455dd467aaf0a.png&quot; alt=&quot;P = \frac{2r}{n-1}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;P = \frac{2r}{n-1}&lt;/p&gt;
&lt;/div&gt;
&lt;h4 id=&quot;correlates-of-differential-rates&quot;&gt;correlates of differential rates&lt;/h4&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Apply Felsenstein pruning algorithm to calc likelihood and hence fit model this is just the definition of a joint probability!&lt;/li&gt;
&lt;li&gt;Use this to estimate the model, then do rejection sampling to create the tree painting. as in &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/12396587&quot; title=&quot;pmid:12396587&quot;&gt;Nielsen &amp;amp; Yang 2002&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;This is applied to differential rates question in &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed/16396171&quot; title=&quot;pmid:16396171&quot;&gt;Ree et. al. 2005&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Simply ask if group A or B observed more branching events along the stochastic map. Compare to a null that randomizes the branch lengths as waiting times under pure yule model.
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Methinks&lt;/em&gt; this creates null trees that violate the coalescent pattern of longer branches near the base, but guess Yule is the opposite of coalescent anyway…&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Comparison method: Moore’s cross-validation approach: split tree into two parts, generate background rate from one, use that rate to create a distribution, of possible outcomes and compare that distribution to the observed rate in the test clade. Also handle uncertainty in the time of the rate transition, (Bayesian). Good when traits fall out in clades.
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Methinks&lt;/em&gt; should compare the two-rate directly to the single rate fitted to the entire tree, for completeness.&lt;/li&gt;
&lt;li&gt;Wonder where else we should start trying cross-validation approaches in comparative methods. Perhaps in comparison to the OU(LP) Anoles painting approach?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Trickle-down problem – one rapid clade can inflate the score farther down the tree.&lt;/li&gt;
&lt;li&gt;AIC comparison of assigning different shift points.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&quot;r88s&quot;&gt;r88s&lt;/h4&gt;
&lt;p&gt;Parameter estimation Bayesian approach to explore shifts in diversification rate via DPP!&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Community Phylogenetics Sharon Strauss, Jean Burns&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Community_Phylogenetics&quot; title=&quot;http://bodegaphylo.wikispot.org/Community_Phylogenetics&quot;&gt;Details on Bodega Wiki&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Community assembly: Niche, History, or random?
&lt;ul&gt;
&lt;li&gt;(Janzen Connell hypothesis of diversity optimal radius in seed-shadow for recruitment)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;build a tree of a regional species pool&lt;/li&gt;
&lt;li&gt;build a tree of local community&lt;/li&gt;
&lt;li&gt;generate null comunities&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt; - &lt;em&gt;Methinks&lt;/em&gt; Not robust to incomplete sampling of the community phylogenetics null model vs comparative trait methods&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Null distribution should be generated by the non-interacting model!!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Phylocom tutorial&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;thoughts-ideas-scratch-pad&quot;&gt;Thoughts &amp;amp; Ideas scratch pad&lt;/h2&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Density dependent estimates&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Levins model (logistic) style: &lt;img src=&quot;http://openwetware.org/images/math/f/a/4/fa43e4271b9fd0673552b69b447d9860.png&quot; alt=&quot;\dot n = b n (S - n) - e n&quot; /&gt;&lt;/p&gt;
&lt;p&gt;calculate probability n conditional on non-extinction for remaining time. let’s start by assuming stationarity across whole tree. Then the number of lineages observed at time &lt;em&gt;t&lt;/em&gt; should decrease exponentially. This pattern looks just like the pure birth model or the constant rates model. When this pattern ceases to hold, we’re out of the realm of constant rates and we head into the dynamic model. What should be the signal? slower than exponential fall-off.&lt;/p&gt;
&lt;p&gt;ha, we often look for the other pattern – accelerating rates.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Community phylogenetics should generate nulls under evolutionary models, not random reshuffling.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;(Will develop this further. Also, evening session to focus on Labrid analysis, general research progress).&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega Workshop Day 4</title>
   <link href="/2010/03/10/Bodega-Workshop-Day-4.html"/>
   <updated>2010-03-10T00:00:00-08:00</updated>
   <id>h/2010/03/10/Bodega-Workshop-Day-4</id>
   <content type="html">&lt;p&gt;Morphological Evolution Day:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Peter Wainwright&lt;/li&gt;
&lt;li&gt;Sam Price&lt;/li&gt;
&lt;li&gt;Johnathan Eisen&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;We have the afternoon session off for field trips and research.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### Peter Wainwright, Comparative Analysis of Morphological Diversity&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fantastic diversity in morphology, corresponds to niche! But morphological diversity isn’t evenly distributed across tree of life. (See slides, parallels Peter’s section on core and gives the best biological coverage we’ve had this week).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;What changes morphological diversification rate&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Intrinsic factors&lt;/strong&gt; functional innovations (endothermy, flight), decoupling (gene duplication, pharangial jaws), increased complexity (new parts), loss in complexity (parasitoid/parasite examples – perhaps this hasn’t been well studied in phylogenetic context?)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Extrinsic factors:&lt;/strong&gt; change adaptive landscape, invade new geography, new community composition, sexual selection.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;How about traits that constrain morphological diversification rate?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disparity as a measure of diversity. Are Galapagos finches more diverse than mainland finches? Does disparity always increase?&lt;/li&gt;
&lt;li&gt;Brian Moore comments on interface between rates of lineage diversfication and increases in trait disparity.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;samantha-price-brownie-tutorial&quot;&gt;Samantha Price, brownie tutorial&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Does the one-rate or two-rate model fit the data best?&lt;/li&gt;
&lt;li&gt;My version of the question: can the data discriminate between a one-rate and two-rate model?
&lt;ul&gt;
&lt;li&gt;(based on Sam’s analogy explanation of OU, Justen jests: implementation of brownian motion is sort of like jumping of a bridge, minus the bungie cord (but assuming no ground). )&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Discusses the censored rate tests vs non-censored. (painted).&lt;/li&gt;
&lt;li&gt;Brownie implementation accomplishes hansen fits of ouch, and also brownian motion.&lt;/li&gt;
&lt;li&gt;Brownie and ouch make alpha and sigma globals, so can’t compare across trees. some other stuff out there has started to do that.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;jonathan-eisen-microbial-phylogenomics&quot;&gt;Jonathan Eisen, Microbial Phylogenomics&lt;/h3&gt;
&lt;p&gt;8p&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No such thing as a core set of genes in bacteria. More genomes you look at, the smaller the overlap.&lt;/li&gt;
&lt;li&gt;16s: good but not perfect – comparisons to whole genome trees!&lt;/li&gt;
&lt;li&gt;Gene function as evolutionary character state, not distance (BLAST). Infer ancestral states on functions on &lt;em&gt;phylogram&lt;/em&gt; trees! Eisen 1998 Genome Res.&lt;/li&gt;
&lt;li&gt;Non-homology functional prediction methods, phylogenetic profiling.&lt;/li&gt;
&lt;li&gt;Michael Eisen assembled the complete wolbachia genome from within the drosphilia genome… Many assemblies of symbiont genomes from the host sequencing project.&lt;/li&gt;
&lt;li&gt;Kelly’s comment: many can’t be cultured do to dependence on other bacteria in the community. How can we measure ecological interactions? (Brilliant example of ecological thinking often missing from microbial research).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Research Progress —————–&lt;/p&gt;
&lt;h3 id=&quot;bodega-project&quot;&gt;Bodega Project&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Began basic data import and exploration. Some notes are available on my &lt;a href=&quot;http://bodegaphylo.wikispot.org/Users/Carl&quot; title=&quot;http://bodegaphylo.wikispot.org/Users/Carl&quot;&gt;Bodega page&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Wrote an R function using geiger’s name.check function that will take a tree and traits and return only a pruned tree and pruned dataset that contains only species that are both on the tree and have trait data.&lt;/li&gt;
&lt;li&gt;Divided continuous data into discrete categories based on my new maximum likelihood function. Ancestral state reconstruction on discretized fin angle:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/b/b7/Discrete.png/600px-Discrete.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;h3 id=&quot;adaptive-landscapes-from-trees&quot;&gt;Adaptive landscapes from trees&lt;/h3&gt;
&lt;p&gt;Going after fitting the stationary distribution of the Discretizing a continuous trait involves an arbitrary threshhold. Should be able to fit a multi-regime model to the data, and estimate the number of regimes. Important that this uses the joint stationary distribution of the multiregime model, rather than first assigning points to regimes.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;specify the model&lt;/li&gt;
&lt;li&gt;evaluate density of the model at the location of each data point&lt;/li&gt;
&lt;li&gt;product of all these densities (sum the log densities)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;10am&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tried exploring packages on &lt;a href=&quot;http://cran.r-project.org/web/packages/&quot; title=&quot;http://cran.r-project.org/web/packages/&quot;&gt;CRAN&lt;/a&gt; for clustering an Bayesian clustering. There are several but none seem to take the approach I would like. Should be easy enough to write myself in R or C. Beginning the prototype in R.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;1:30pm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Implemented the two regimes model in R using Nelder-Mead search for optimum thetas and sigmas.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;scratch-pad-random-thoughts-and-ideas&quot;&gt;Scratch pad: random thoughts and ideas&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Consider writeup/talk on evaluating a method (at least in comparative context) Why this should happen before and independent of testing with data.&lt;/li&gt;
&lt;li&gt;How well could we formulate Peter’s take on morphological diversification directly into models? Could we then derive approximations to those descriptions that resemble / disagree with Brownian motion?&lt;/li&gt;
&lt;li&gt;Picking units successfully is crucial to comparing diversification rates, particularly across broad phylogenies.&lt;/li&gt;
&lt;li&gt;Independence of traits / base-pairs in sequence alignment, things that create correlation, things that remove it. OU weakens the time/disparity correlation, introduces new reason for traits to be correlated (other than phylogeny).&lt;/li&gt;
&lt;li&gt;Rich Glor introduced me to &lt;a href=&quot;http://treethinkers.blogspot.com/&quot; title=&quot;http://treethinkers.blogspot.com/&quot;&gt;dechronization&lt;/a&gt;, excellent source of ideas in the field.&lt;/li&gt;
&lt;li&gt;Added several ideas, partly inspired by today’s lecture, onto my newly created &lt;a href=&quot;http://phylogenetics.uservoice.com/forums/43843-general&quot; title=&quot;http://phylogenetics.uservoice.com/forums/43843-general&quot;&gt;idea forum&lt;/a&gt; for phyologenetic comparative methods. Several have been started.&lt;/li&gt;
&lt;li&gt;Should be able to infer the painting under BM&lt;/li&gt;
&lt;li&gt;Simmap – a proprietary license, runs only on OSX, and only creates simulated output. Ought to translate this into R.&lt;/li&gt;
&lt;li&gt;MK1, Jukes-Cantor, can’t believe we use arbitrary names to specify different finite state continuous time Markov processes. Can’t we just specify the dimension and the level of symmetry imposed?&lt;/li&gt;
&lt;li&gt;Would be great to have the Bodega wiki hosted/mirrored locally to deal with the limited bandwidth here.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega Phylogenetics Workshop Day 3</title>
   <link href="/2010/03/09/Bodega-Phylogenetics-Workshop-Day-3.html"/>
   <updated>2010-03-09T00:00:00-08:00</updated>
   <id>h/2010/03/09/Bodega-Phylogenetics-Workshop-Day-3</id>
   <content type="html">&lt;h2 id=&quot;rich-glor-character-evolution&quot;&gt;Rich Glor, Character Evolution&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Discrete_Character_Evolution_%28Glor%29_2010&quot; title=&quot;http://bodegaphylo.wikispot.org/Discrete_Character_Evolution_%28Glor%29_2010&quot;&gt;Official slides and tutorial&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Weakness of ancestral state reconstruction
&lt;ul&gt;
&lt;li&gt;Cunningham 1999&lt;/li&gt;
&lt;li&gt;Losos 1999&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Testing hypotheses with ancestral reconstruction
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Parsimony&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Farris method. Downward/upward pass. Gives a maximum parsimony reconstruction. May miss other ones.&lt;/li&gt;
&lt;li&gt;Apparently this Parsimony analysis can be done for continuous traits as well, needs a measure of distance&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Likelihood&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Pagel 1994&lt;/li&gt;
&lt;li&gt;Schluter 1997&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;r-tutorial&quot;&gt;R tutorial&lt;/h3&gt;
&lt;p&gt;(see anolis_cheat.R)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Discrete trait ancestral state reconstruction
&lt;ul&gt;
&lt;li&gt;Wouldn’t it be nice to have functions that applied Rich’s awesome plots to any data? Segway to writing functions&lt;/li&gt;
&lt;li&gt;Wouldn’t a zoomable updatable plot interface be nice? update plot fn and cairo pdf.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Testing for phylogenetic signal
&lt;ul&gt;
&lt;li&gt;Lambda: rescale all internal branches by a factor of lambda.&lt;/li&gt;
&lt;li&gt;Compare likelihood of output under rescaled and original trees.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;The model for these is a single constant rate of transition between all states. Wondering what would happen if we didn’t refit the model to each tree but simply compared the likelihood of the model fit to the original tree when analyzed with the dataset on the modified tree.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;carl-boettiger-useful-software&quot;&gt;Carl Boettiger: useful software&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;I gave a 20 minute introduction to subversion and Mendeley.
&lt;ul&gt;
&lt;li&gt;Gave a demonstration on using subversion with MrBayes. Useful example, but should have emphasized the generality. Also didn’t have a chance to demonstrate the rapidsvn GUI.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;I’ve added information about &lt;strong&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Version_Management&quot; title=&quot;http://bodegaphylo.wikispot.org/Version_Management&quot;&gt;using subversion&lt;/a&gt;&lt;/strong&gt; to the Bodega wiki.
&lt;ul&gt;
&lt;li&gt;Settled on rapidsvn as the suggested GUI, even though I’m not totally happy with it. The kdesvn gui seems a better choice for linux, but rapidsvn works on all platforms and has an &lt;a href=&quot;http://www.rapidsvn.org/index.php/Main_Page&quot; title=&quot;http://www.rapidsvn.org/index.php/Main_Page&quot;&gt;excellent guide.&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; Justin Whittall: cts character traits ————————————-&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Whittall%29_2010&quot; title=&quot;http://bodegaphylo.wikispot.org/Continuous_Character_Evolution_%28Whittall%29_2010&quot;&gt;Official slides and tutorial&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check out the Charlie Nunn Papers.&lt;/li&gt;
&lt;li&gt;Compare incoperates uncertainty in the species means.&lt;/li&gt;
&lt;li&gt;Are contrasts standardized by branch length? Absolute value of contrast independent of standard deviation of contrast? If not, transform data..&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; My Thoughts and Explorations for the Day —————————————-&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Many analyses are not explicit about the model used and the assumptions it involves!&lt;/li&gt;
&lt;li&gt;Not happy with the independence assumption on columns of the alignment in DNA data. We can quantify the predictive capacity of that information…&lt;/li&gt;
&lt;li&gt;Rich Glor’s likelihood test under Pagel’s lambda. seems a strange thing to do, what does it actually mean?&lt;/li&gt;
&lt;li&gt;Need to explore the later applications of independent contrasts further.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;research-progress&quot;&gt;Research Progress&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Figuring out strange behavior in ouch. the value kept at model@alpha is actually the &lt;a href=&quot;http://en.wikipedia.org/wiki/Cholesky_decomposition&quot; title=&quot;http://en.wikipedia.org/wiki/Cholesky_decomposition&quot;&gt;Cholesky decomposition&lt;/a&gt; of the alpha matrix, just as the values of sigma are the Cholesky decomposition of the σ&lt;sup&gt;2&lt;/sup&gt; matrix. This seems like a strange convention, surely the user would rather specify the matrices as full matrices and let the software do the decomposition? Because this decomposes matrix &lt;em&gt;M&lt;/em&gt; into &lt;em&gt;M&lt;/em&gt; = &lt;em&gt;LL&lt;/em&gt;&lt;sup&gt;&lt;em&gt;T&lt;/em&gt;&lt;/sup&gt;, for single trait value alpha is a scalar and this is the square root. sym.par() function in ouch is often called in the source to assemble M from the decomposition…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega Phylogenetics Workshop Day 2</title>
   <link href="/2010/03/08/Bodega-Phylogenetics-Workshop-Day-2.html"/>
   <updated>2010-03-08T00:00:00-08:00</updated>
   <id>h/2010/03/08/Bodega-Phylogenetics-Workshop-Day-2</id>
   <content type="html">&lt;p&gt;Marine lab researchers are back, and network speeds have just about given up (down to bytes/s). This post is composed offline and will be uploaded to the notebook. Details are well logged on the &lt;a href=&quot;http://bodegaphylo.wikispot.org&quot; title=&quot;http://bodegaphylo.wikispot.org&quot;&gt;Bodgea Phylogenetics Wiki&lt;/a&gt; so these are reasonably sketchy with my comments.&lt;/p&gt;
&lt;h3 id=&quot;my-updates-to-bodega-phylogenetics-wiki&quot;&gt;My Updates to Bodega Phylogenetics Wiki&lt;/h3&gt;
&lt;p&gt;Made several contributions to the Bodega Phylogenetics Wiki today:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Users/Carl&quot; title=&quot;http://bodegaphylo.wikispot.org/Users/Carl&quot;&gt;User page&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Phylogenetics_on_Linux&quot; title=&quot;http://bodegaphylo.wikispot.org/Phylogenetics_on_Linux&quot;&gt;Phylogenetics on Linux&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Becoming_a_programmer&quot; title=&quot;http://bodegaphylo.wikispot.org/Becoming_a_programmer&quot;&gt;Becoming a Programmer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Advice_for_Aspiring_Phylogeneticists&quot; title=&quot;http://bodegaphylo.wikispot.org/Advice_for_Aspiring_Phylogeneticists&quot;&gt;Edits on Advice for Aspiring Phylogeneticists&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;todays-agenda&quot;&gt;Today’s agenda&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;BEAST continued. (Brian Moore)&lt;/li&gt;
&lt;li&gt;Species Tree and Gene Trees (Bob Thompson)&lt;/li&gt;
&lt;li&gt;RAxML Tutorial (Greg Pauly)&lt;/li&gt;
&lt;li&gt;Model selection and MCMC diagnosis (Brian Moore)&lt;/li&gt;
&lt;li&gt;R tutorial (Rich Glor)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;brian-moore-beast&quot;&gt;Brian Moore: BEAST&lt;/h2&gt;
&lt;p&gt;8:30 - 9:30a Diving into the XML and actually running BEAST. &lt;a href=&quot;http://bodegaphylo.wikispot.org/Divergence_Time_Estimation_%28Moore%29&quot; title=&quot;http://bodegaphylo.wikispot.org/Divergence_Time_Estimation_%28Moore%29&quot;&gt;Wiki page.&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;bob-thompson-species-tree-vs-gene-tree&quot;&gt;Bob Thompson: Species Tree vs Gene Tree&lt;/h2&gt;
&lt;p&gt;9:45&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Coalescent! Why don’t species tree and gene tree agree?&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Incomplete Coalescence (&lt;strong&gt;Typically we focus on this.&lt;/strong&gt;)&lt;/li&gt;
&lt;li&gt;Gene duplication&lt;/li&gt;
&lt;li&gt;Horizontal transfer&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Differences are common and Widespread! Pollard et. al. (2006), PMID:17132051&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Gene_Trees/Species_Trees_2010&quot; title=&quot;http://bodegaphylo.wikispot.org/Gene_Trees/Species_Trees_2010&quot;&gt;slides&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;BEST&lt;/strong&gt;: Bayesian Estimation of Species Trees Works with MrBayes, build on MrBayes&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Generating_Species_Trees_with_BEST&quot; title=&quot;http://bodegaphylo.wikispot.org/Generating_Species_Trees_with_BEST&quot;&gt;Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;greg-pauly-raxml&quot;&gt;Greg Pauly, RAxML&lt;/h2&gt;
&lt;p&gt;Really large trees can be done no other way. (Garli works, but doesn’t permit partitions or amino acid based inference).&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/RAxML_Tutorial_%28Pauly%29&quot; title=&quot;http://bodegaphylo.wikispot.org/RAxML_Tutorial_%28Pauly%29&quot;&gt;Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;rich-glor-introduction-to-r&quot;&gt;Rich Glor, Introduction to R&lt;/h2&gt;
&lt;p&gt;1:30 p&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; “We’re going into combat, but we’re not the Marines. The Marines have this slogan &lt;em&gt;Leave no man behind.&lt;/em&gt; This isn’t like that.” -R. Glor&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Phylogenetics_and_Comparative_Methods_in_R&quot; title=&quot;http://bodegaphylo.wikispot.org/Phylogenetics_and_Comparative_Methods_in_R&quot;&gt;Tutorial&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;brian-moore-model-selection-and-mcmc-diagnosis&quot;&gt;Brian Moore, Model Selection and MCMC diagnosis&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/Model_Selection&quot; title=&quot;http://bodegaphylo.wikispot.org/Model_Selection&quot;&gt;slides&lt;/a&gt; Estimation under the prior alone!&lt;/p&gt;
&lt;p&gt;Brian’s scripts for keeping track of what parameters he’s tried. Very interesting idea.&lt;/p&gt;
&lt;p&gt;(We didn’t actually get through all 181 slides…)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Bodega Phylogenetics Workshop Day 1</title>
   <link href="/2010/03/07/Bodega-Phylogenetics-Workshop-Day-1.html"/>
   <updated>2010-03-07T00:00:00-08:00</updated>
   <id>h/2010/03/07/Bodega-Phylogenetics-Workshop-Day-1</id>
   <content type="html">&lt;p&gt;Lecture notes for the phyolgenetics workshop. These are taken in real time, so may contain errors. I’ll see if I keep this up throughout the course. See &lt;a href=&quot;http://bodegaphylo.wikispot.org/2010_Workshop&quot; title=&quot;http://bodegaphylo.wikispot.org/2010_Workshop&quot;&gt;course website.&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;huelsenbeck&quot;&gt;Huelsenbeck&lt;/h3&gt;
&lt;p&gt;9a-11a&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parameters θ&lt;/li&gt;
&lt;li&gt;Observation &lt;em&gt;X&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;p&lt;/em&gt;(&lt;em&gt;X&lt;/em&gt; | θ) is known as the &lt;em&gt;likelihood.&lt;/em&gt; Adjust parameter to maximize likelihood.&lt;/li&gt;
&lt;li&gt;Coin toss example&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;θ = prob of heads on a single toss of a coin, &lt;em&gt;X&lt;/em&gt; is # of heads observed on &lt;em&gt;n&lt;/em&gt; tosses. Choose a model: binomial:&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/0/8/8/08814f7faf92d830f210e2d233344ecd.png&quot; alt=&quot;p(x|\theta) = {n \choose{x}} \theta^x ( 1-\theta)^{n-x}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;p(x|\theta) = {n \choose{x}} \theta^x ( 1-\theta)^{n-x}&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Maximize likelihood, find &lt;img src=&quot;http://openwetware.org/images/math/d/9/3/d93b13daa45e31c971a3b81deedcbc22.png&quot; alt=&quot;\hat \theta = \frac{x}{n}&quot; /&gt;&lt;/li&gt;
&lt;li&gt;Bayesian&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/8/1/0/810d3eb56ca4c96ecbe28c931a57bdc0.png&quot; alt=&quot;p(\theta | x) = \frac{p(x|\theta)p(\theta)}{p(x)}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;p(\theta | x) = \frac{p(x|\theta)p(\theta)}{p(x)}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;likelihood times prior over marginal equals the posterior. The prior is the source of controversy, though mathematically required if you want a posterior probability.&lt;/p&gt;
&lt;p&gt;The marginal can be hard to solve. &lt;img src=&quot;http://openwetware.org/images/math/c/2/e/c2ec8ba5b21c63d5aa3063012cd7ea2b.png&quot; alt=&quot;\int_0^1 p(x|\theta) p(\theta) d\theta&quot; /&gt;&lt;/p&gt;
&lt;p&gt;So Bayesians solved trivial problems or just estimated moments (mean, etc), until along came MCMC and they could do these integrals…&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Phylogenetic Model&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parameters: Tree. (comments on notation). Life is more simple than you think: all phylogenetic models are continuous time Markov models&lt;/li&gt;
&lt;li&gt;“Observations:” could be:
&lt;ul&gt;
&lt;li&gt;Alignment (note that it’s not actually observed, it’s an inference from the chronogram from the sequencer! we’ll ignore that.)&lt;/li&gt;
&lt;li&gt;Character matrix&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Calculate the &lt;strong&gt;probability of alignment given a tree?&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(Lecture moves to &lt;a href=&quot;http://bodegaphylo.wikispot.org/Bayesian_Phylogenetics_Huelsenbeck_2010&quot; title=&quot;http://bodegaphylo.wikispot.org/Bayesian_Phylogenetics_(Huelsenbeck)_2010&quot;&gt;slides&lt;/a&gt;, will probably ve available on Bodega Wiki?)&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Summing over all possible combinations literally is crazy. Felsenstein Pruning algorithm (sum-product algorithm from graphical models) makes this much faster (many of those trees are related).&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;“This is the exponential distribution, it is the only distribution you’ll see/need in this course”&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;moments later…&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;“This is the gamma distribution, it is the only distribution you’ll need”&lt;/li&gt;
&lt;li&gt;“Oh, and this is the Poisson distribution.”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; &lt;em&gt;Dice activity: Exact simulation of finite-state continuous time Markov process&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Interesting hands-on activity to demonstrate Gillespie algorithm simulation.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Substitution_model&quot; title=&quot;http://en.wikipedia.org/wiki/Substitution_model&quot;&gt;&lt;strong&gt;Codon models&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;(Note, this wiki entry should be expanded).&lt;/li&gt;
&lt;li&gt;Sequence model, sparse matrices with arbitrary correlations. Approximate pruning via MCMC.&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Rate variation across sites.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Approximate the gamma by likelihood catagories, using the mean of a catagory.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;em&gt;l&lt;/em&gt;&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt; =&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;∑&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;em&gt;p&lt;/em&gt;(&lt;em&gt;x&lt;/em&gt;&lt;sub&gt;&lt;em&gt;i&lt;/em&gt;&lt;/sub&gt; | &lt;em&gt;x&lt;/em&gt;) / &lt;em&gt;k&lt;/em&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;em&gt;k&lt;/em&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;&lt;ul&gt;
&lt;li&gt;Heterotachy – different models on different parts of the tree.&lt;/li&gt;
&lt;li&gt;Nielsen &amp;amp; Yang 1998&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Jeremy Brown, Mr. Bayes&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Using Mr. Bayes&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can’t calculate the marginal probability. Luckily, in ratio that normalizing constant cancels out: So we can find the ratio of posterior probabilities. This is where MCMC comes in.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/MrBayes_Tutorial_%28Brown%29?sendfile=true&amp;amp;file=Brown_MrBayes_Lecture.pdf&amp;amp;download=true&quot; title=&quot;http://bodegaphylo.wikispot.org/MrBayes_Tutorial_%28Brown%29?sendfile=true&amp;amp;file=Brown_MrBayes_Lecture.pdf&amp;amp;download=true&quot;&gt;See the slides&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;rannala-divergence-times&quot;&gt;Rannala, Divergence Times&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Molecular clock and fossil dating&lt;/li&gt;
&lt;li&gt;branch lengths as estimates&lt;/li&gt;
&lt;li&gt;Bayesian approaches to contain this uncertainty, given sequences times and fossil calibrations:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/e/2/d/e2df7c8faa415cdefa1b5bab5e8f7472.png&quot; alt=&quot;f(\theta, t, u | X) = \frac{f(X|t,u,\theta)f(u|\theta) f(t| \theta) f(\theta) }{f(X)}&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;f(\theta, t, u | X) = \frac{f(X|t,u,\theta)f(u|\theta) f(t| \theta) f(\theta) }{f(X)}&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;substitution rate (clock) &lt;em&gt;u&lt;/em&gt;, branch length &lt;em&gt;v&lt;/em&gt;, age &lt;em&gt;t&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Prior for the divergence times. Priors from fossils. Dangers of hard bounds (will confidently predict the wrong answer).&lt;/p&gt;
&lt;p&gt;When do you have enough DNA sequence that your divergence estimate becomes limited only by fossil age uncertainty? Regress width of posterior distribution for divergence times against the mean. Once that regression is sufficiently tight, more DNA data won’t help.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Irregular Molecular clocks&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Tom Near, Rocks for Gel Jocks&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(a.k.a) BEAST tutorial&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://bodegaphylo.wikispot.org/BEAST_Tutorial_Near&quot; title=&quot;http://bodegaphylo.wikispot.org/BEAST_Tutorial_(Near)&quot;&gt;slides&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Ideas/Topics ————&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Reaching the developers&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;Help lists.&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://phylogenetics.uservoice.com/&quot; title=&quot;http://phylogenetics.uservoice.com/&quot;&gt;uservoice&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;stackoverflow for phylogenetics?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Managing the literature: &lt;a href=&quot;http://www.mendeley.com&quot; title=&quot;http://www.mendeley.com&quot;&gt;Mendeley&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.mendeley.com/research-papers/collections/1369391/PhylogeneticComparativeMethods/&quot; title=&quot;http://www.mendeley.com/research-papers/collections/1369391/PhylogeneticComparativeMethods/&quot;&gt;Phylogenetic Comparative Methods&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Poll faculty for useful software,tools or tricks. Attempt a talk: &lt;em&gt;5 minutes, 5 tools to change your life.&lt;/em&gt;
&lt;ul&gt;
&lt;li&gt;Mendeley: an itunes for your pdfs, pandora for the literature.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Thoughts/things to investigate or share&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;When, if ever, can you actually fit a model with trending rate changes over time. i.e. can we really detect accelerating BM in character evolution?&lt;/li&gt;
&lt;li&gt;Common intuitive mechanisms that generate the familiar distributions. Exponential, Poisson, Gamma, Normal, Log Normal, Binomial, Uniform, Dirchlet.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting</title>
   <link href="/2010/03/05/Meeting.html"/>
   <updated>2010-03-05T00:00:00-08:00</updated>
   <id>h/2010/03/05/Meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Basically I want to apply central limit theorem for stationary processes (accounts for covariances), assuming mean zero&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/1/4/1/141abb117709d04302d240f2cbbf2df6.png&quot; alt=&quot;\frac{X_1 + … + X_n}{\sqrt{\sigma^2 n}} \propto N(0,1)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{X_1 + … + X_n}{\sqrt{\sigma^2 n}} \propto N(0,1)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/2/b/7/2b7baf7dc6d72616ccd1a5d72d4323cf.png&quot; alt=&quot;\sigma^2 = E X^2 + 2 \sum_{i,j}^n Cov(X_i, X_j)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\sigma^2 = E X^2 + 2 \sum_{i,j}^n Cov(X_i, X_j)&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Discussion of &lt;a href=&quot;http://en.wikipedia.org/wiki/Freidlin%E2%80%93Wentzell_theorem&quot; title=&quot;http://en.wikipedia.org/wiki/Freidlin%E2%80%93Wentzell_theorem&quot;&gt;Freidlin–Wentzell&lt;/a&gt; theory in connection to Arrhenius law and the well-defined stochastic tipping point which occurs before the branch point.&lt;/li&gt;
&lt;li&gt;Kurtz results don’t really help in the case of ergodicity, can make statements about the (even non-stationary) ensemble limit.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2010/03/05/Friday.html"/>
   <updated>2010-03-05T00:00:00-08:00</updated>
   <id>h/2010/03/05/Friday</id>
   <content type="html">&lt;p&gt;11a Sebastian Meeting (see Stochastic Population Dynamics Notebook)&lt;/p&gt;
&lt;p&gt;12p - 1p&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Lunch talk in joint lab group (Schreiber Coop Moore Rannala Eisen) on coalescents for wARG. Remember to check out kcachegrind as interface to valgrind and profiler, and also mauve as a dynamic sequence alignment display tool.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;comparative-phylogenetics-discussion-group&quot;&gt;Comparative Phylogenetics Discussion group&lt;/h2&gt;
&lt;p&gt;4-5p. Discussing:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=20133569&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Van Bocxlaer I, Loader SP, Roelants K, Biju SD, Menegon M, and Bossuyt F. .&lt;/a&gt; pmid:20133569. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=20133569&quot; title=&quot;PMID 20133569&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=20133569&quot; title=&quot;PMID 20133569&quot;&gt;HubMed&lt;/a&gt; [VanBocxlaer2010]&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Big Picture Comparative Phylogenetics</title>
   <link href="/2010/03/04/Big-Picture-Comparative-Phylogenetics.html"/>
   <updated>2010-03-04T00:00:00-08:00</updated>
   <id>h/2010/03/04/Big-Picture-Comparative-Phylogenetics</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;A &lt;a href=&quot;http://www.bio.unc.edu/faculty/vision/lab/CPM_taskview.html&quot; title=&quot;http://www.bio.unc.edu/faculty/vision/lab/CPM_taskview.html&quot;&gt;Task View&lt;/a&gt; on Phylogenetic Comparative Methods (in R on CRAN) has been released today, maintained by Brian O’Meara. Quite thorough and concise.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;Follow-up discussion on:
&lt;ul&gt;
&lt;li&gt;List is useful, but would be nice to be able to expand / collapse the list to see more / less details about the functions available. More detail makes it harder to maintain, perhaps get the developers involved?&lt;/li&gt;
&lt;li&gt;List is also quite provocative source to realize what’s missing (there’s no way to estimate ancestral states under OU using existing software?) I’m interested in exploring a way users could both suggest and then rank / vote for certain requests to be implemented, in the style of &lt;a href=&quot;http://www.uservoice.com&quot; title=&quot;http://www.uservoice.com&quot;&gt;uservoice&lt;/a&gt; or &lt;a href=&quot;http://www.stackoverflow.com&quot; title=&quot;http://www.stackoverflow.com&quot;&gt;stackoverflow&lt;/a&gt;. Piloting an &lt;a href=&quot;http://phylogenetics.uservoice.com&quot; title=&quot;http://phylogenetics.uservoice.com&quot;&gt;example of this&lt;/a&gt; during the phylogenetics workshop at Bodega.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;1:30 pm Meeting with &lt;a href=&quot;http://www.yale.edu/eeb/near&quot; title=&quot;http://www.yale.edu/eeb/near&quot;&gt;Tom Near&lt;/a&gt;, visiting from Yale. Chance to discuss both projects in this notebook:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inferring multistate optima and transitions.&lt;/li&gt;
&lt;li&gt;Assessing power in trees; bootstrapping model fits.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;2pm 4pm Installing software for &lt;a href=&quot;http://bodegaphylo.wikispot.org/2010_Workshop&quot; title=&quot;http://bodegaphylo.wikispot.org/2010_Workshop&quot;&gt;Bodega Phylogenetics Workshop next week&lt;/a&gt;. Some packages are Linux friendly, others less so. Java packages are particularly useful/reliable as cross-platform apps.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;BEAST – Java&lt;/li&gt;
&lt;li&gt;BEST – C compiles fine with make.&lt;/li&gt;
&lt;li&gt;Brownie – C++ won’t compile (no configure script)&lt;/li&gt;
&lt;li&gt;FigTree - Java&lt;/li&gt;
&lt;li&gt;Garli – C++, requires Nexus Class Library installed (C++ library which installs fine with configure, make, make install). However Garli still refuses to compile with enough errors to make me feel a header file is missing (things undefined, stdio.h undeclared, etc).&lt;/li&gt;
&lt;li&gt;Mesquite – Java&lt;/li&gt;
&lt;li&gt;Phylocom – R, src (in C, which compiles fine with make), directory also contains Win and Mac binaries&lt;/li&gt;
&lt;li&gt;MrBayes – Is in the Ubuntu repositories, just apt-get it. Rock on!&lt;/li&gt;
&lt;li&gt;RaxML – C, just run the gcc version of the makefile. Haven’t tried the MPI version&lt;/li&gt;
&lt;li&gt;Tracer – Java&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; * * * * *&lt;/p&gt;
&lt;p&gt;4pm EVE Seminar: Tom Near&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Antarctic fishes as an example of an adaptive radiation. Fossil record shows cosmopolitian mix of species: skates, labrids, sharks, cods. At the time the continent was farther north and warmer (geological record and δO&lt;sub&gt;18&lt;/sub&gt; isotope describes temperature.) Mass extinction, followed by invasion of this antarctic group with protein for antifreeze that rapidly radiates into dominant fish diversity form in the region. Strong result for much faster speciation relative to nearby groups.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Solution to the strange behavior in ouch</title>
   <link href="/2010/03/03/Solution-to-the-strange-behavior-in-ouch.html"/>
   <updated>2010-03-03T00:00:00-08:00</updated>
   <id>h/2010/03/03/Solution-to-the-strange-behavior-in-ouch</id>
   <content type="html">&lt;p&gt;Looks like my troubles actually stem from a bug in the code. I summarize the problem here, just as I posted in my query to R sig phylo. Essentially the program erroneously squares alpha at the moment, explaining the pattern I found yesterday. Giving it root alpha preemptively should be a good work around.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ~~~~ {.de1} data(bimac) tree &amp;lt;- with(bimac,ouchtree(node,ancestor,time/max(time),species)) print(h2 &amp;lt;- hansen(log(bimac[‘size’]),tree,bimac[‘OU.1’],alpha=1,sigma=1)) ~~~~&lt;/p&gt;
&lt;p&gt;The print command says alpha = 0.1921554 The call h2@alpha says alpha = .4383554&lt;/p&gt;
&lt;p&gt;which is the sqrt of the other. Certainly these should all agree. The summary command agrees with the print command:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;smry = summary(h2)
smry$alpha&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A little exploration seems to show that the print command is the correct one. If we want to simulate a model with a particular alpha value, we first have to generate a fitted model as above, then update the alpha value and call simulate on the fitted model. I believe ouch is accidentally squaring the value of alpha we give it before running the simulation. For example:&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; h2@alpha = 5
&amp;gt; replicates &amp;lt;- as.data.frame(simulate(h2, 1000))
&amp;lt;/syntax&amp;gt;
 
I find the expected variance by averaging the variance across the replicates,
 
&amp;lt;syntaxhighlight&amp;gt;
&amp;gt; mean(sapply(1:1000, function(i){var(replicates[i], na.rm=T)} ) )
[1] 0.0009774488&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So did it use 5 or 25 as the alpha value? Since either value is large compared to the length of the tree, the tip variance should be stationary independent of tree structure so we can check it against the analytic predicted variance (sigma^2/2 alpha):&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; (h2@sigma)^2/(2*h2@alpha)
[1] 0.004836469
&amp;gt; (h2@sigma)^2/(2*(h2@alpha)^2)
[1] 0.0009672938&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;As the second equation agrees with the simulation, it believe that ouch has erroneously squared the value of alpha in the simulation.&lt;/p&gt;
&lt;h2 id=&quot;limits-to-power-in-trees&quot;&gt;Limits to Power in Trees&lt;/h2&gt;
&lt;p&gt;Now that I’m sure I can compare apples to apples (matching stationary distributions), I can finally perform my intended comparison.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;First, confirm that the distributions generated by the models on the star tree are indistinguishable:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/2/2e/Star_tree_likelihoods.png&quot; alt=&quot;Image:Star_tree_likelihoods.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Star_tree_likelihoods.png&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Next, the same models are distinguishable on the Felsenstein Tree:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/1/18/Fels_tree_likelihoods.png&quot; alt=&quot;Image:Fels_tree_likelihoods.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Fels_tree_likelihoods.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Here α = 1 and σ = 3&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Intuition at the moment:&lt;/strong&gt; The longer the two branches before the polytome in the Felsenstein tree, the more powerful the tree will be. More precisely, we can ask what is the smallest value of alpha that can be reliably distinguished from BM on this particular tree? That answer should be proportional to how close the variances of two branches can get to their stationary values, 1 − &lt;em&gt;e&lt;/em&gt;^−\ 2α&lt;em&gt;s&lt;/em&gt;^ where &lt;em&gt;s&lt;/em&gt; is the branch length, 0.9 in this case, giving us 83% of the way to the equilibrium.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Compare moving the branch points from t=0.9 to t=0.45 vs halving alpha:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/3/3a/Weaker.png&quot; alt=&quot;Image:Weaker.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Weaker.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Both show an roughly equal reduction on the discriminatory power, and the ability to discriminate between models is lost.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; - On the flip size, we can increase the power by doubling alpha from 1 to 2,&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/4/4c/Stronger.png&quot; alt=&quot;Image:Stronger.png&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;Image:Stronger.png&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt; - Still need to explore the effect of simply increasing the length of time in the entire tree, doesn’t match doubling alpha. Increasing alpha also tightens the distribution, so reaching the stationary distribution along the branch isn’t enough.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; Computational Comments ———————-&lt;/p&gt;
&lt;p&gt;Have started using &lt;a href=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html&quot; title=&quot;http://google-styleguide.googlecode.com/svn/trunk/google-r-style.html&quot;&gt;google style guidelines for R&lt;/a&gt; code. Will also be implementing &lt;a href=&quot;http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml&quot; title=&quot;http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml&quot;&gt;google style for C&lt;/a&gt;.&lt;/p&gt;
&lt;h3 id=&quot;svn-log&quot;&gt;SVN log&lt;/h3&gt;
&lt;hr /&gt;
&lt;p&gt;r214 | cboettig | 2010-03-03 18:43:28 -0800 (Wed, 03 Mar 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;final version of the day. continues tomorrow…&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r213 | cboettig | 2010-03-03 17:48:33 -0800 (Wed, 03 Mar 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;figure three: weaker&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r212 | cboettig | 2010-03-03 17:29:29 -0800 (Wed, 03 Mar 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;code for felsenstein_tree.R as produced the first two plots in today’s entry, about to modify for plots 3 and 4&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r211 | cboettig | 2010-03-03 15:52:37 -0800 (Wed, 03 Mar 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;resolved problem discussed in yesterday’s entry, see todays entry&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r210 | cboettig | 2010-03-03 01:23:14 -0800 (Wed, 03 Mar 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;Commiting version that appears in March 2nd notes&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Power in trees</title>
   <link href="/2010/03/02/Power-in-trees.html"/>
   <updated>2010-03-02T00:00:00-08:00</updated>
   <id>h/2010/03/02/Power-in-trees</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Back to Phylogenetics after a week with only population dynamics.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;exploration&quot;&gt;Exploration&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;data created by brown simulation on the star tree in ouch matches the expected variance, σ&lt;sup&gt;2&lt;/sup&gt;&lt;em&gt;t&lt;/em&gt;. This variance is slightly reduced when simulated on the Felsenstein tree, as might be intuitively expected due to the increased correlations. The degree of decrease should be analytically attainable, but isn’t obvious to me at the moment. Example using functions in felsenstein_tree.R, revision 210:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; bm &amp;lt;- init_brown_model(star_tree, 5)
&amp;gt; E_trait_var(bm)
[1] 24.52429 
&amp;gt; bm &amp;lt;- init_brown_model(fels_tree, 5)
&amp;gt; E_trait_var(bm)
[1] 17.47615 
&amp;gt; E_trait_var(bm, reps=1000)
[1]  18.65548&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E_trait_var simulates reps replicates under the given model and computes the variance across the tips of each dataset generated, and averages this variance across the replicates.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Meanwhile, data created by the hansen simulation on the star tree falls significantly short of σ&lt;sup&gt;2&lt;/sup&gt; / 2α even when rates are certainly high enough to have reached the stationary distribution.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; ou &amp;lt;- init_hansen_model(star_tree, alpha=50, sigma=20)
&amp;gt; E_trait_var(ou)
[1] 0.0779675277 
&amp;gt; E_trait_var(ou, 1000)
[1] 0.0800359241 
&amp;gt; # whereas theory would predict
&amp;gt; 20^2/(2*50)
[1] 4&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;not sure why this is. The simulations seems to think the steadystate variances is σ&lt;sup&gt;2&lt;/sup&gt; / 2α&lt;sup&gt;2&lt;/sup&gt; instead. Using the deprecated function hansen.dev, I seem to recover the expected variance (averaging variance over 100 replicates):&lt;/p&gt;
&lt;pre class=&quot;de1&quot;&gt;&lt;code&gt;&amp;gt; deviates &amp;lt;- as.data.frame(hansen.dev(100, star_tree@nodes, star_tree@ancestors, star_tree@times, regimes= NULL, alpha=5,sigma=3, theta=0))
Warning messages:
1: &amp;#39;hansen.dev&amp;#39; is deprecated.
Use &amp;#39;simulate&amp;#39; instead.
See help(&amp;quot;Deprecated&amp;quot;) and help(&amp;quot;ouch-deprecated&amp;quot;). 
2: &amp;#39;is.valid.ouch.tree&amp;#39; is deprecated.
Use &amp;#39;ouchtree&amp;#39; instead.
See help(&amp;quot;Deprecated&amp;quot;) and help(&amp;quot;ouch-deprecated&amp;quot;). 
&amp;gt; out = sapply(1:100, function(i){var(deviates[i], na.rm=T)} )
&amp;gt; mean(out)
[1] 0.905187
&amp;gt; #which agrees with theory; 3^2/(2*5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br /&gt; - ouch has a convenient function to bootstrap a model&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ouch hansen trees give false impressions of accuracy around star (and hence nearly star) trees, where result is actually very sensitive to the original initialized search parameters for alpha and sigma.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;brainstorming&quot;&gt;Brainstorming&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Current methods don’t permit divergent selection models, for instance of parts of the tree. Again probably an information-limited arena, but interesting to think what one would do or do differently if you had geographic information or range overlaps along the tree (or at least for the tips).&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/03/01/Teaching.html"/>
   <updated>2010-03-01T00:00:00-08:00</updated>
   <id>h/2010/03/01/Teaching</id>
   <content type="html">&lt;h2 id=&quot;evolution-of-mimicry-levels-of-selection&quot;&gt;Evolution of Mimicry &amp;amp; Levels of Selection&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Today my turn to help facilitate in Begun’s Monte Carlo on designing a course on evolution for non-majors. Worked with Elizabeth on an interactive case study teaching levels of selection through the example of mimicry in butterflies.&lt;/li&gt;
&lt;li&gt;Following a brief introduction, we gave a pilot run of a hands-on activity to explore population dynamics in a predator-control-model-mimic (jay-cabbage-monarch-viceroy) system. Here’s the &lt;a href=&quot;http://docs.google.com/Doc?docid=0AR6sK_1tc7DZZGdmYnQyZzVfODE0NGs3ODRmeA&amp;amp;hl=en&quot; title=&quot;http://docs.google.com/Doc?docid=0AR6sK_1tc7DZZGdmYnQyZzVfODE0NGs3ODRmeA&amp;amp;hl=en&quot;&gt;description&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The game activity went pretty quickly, we were able to do seven iterations in about 15 minutes, with the later iterations going much faster than the beginning ones. Our group was only nine people, hence the cups allowing people to play multiple prey at once, but this could easily scale to a very large classroom (though probably making iterations take longer). The group did seem to find the activity becoming repetitive by round seven.&lt;/li&gt;
&lt;li&gt;One modification I’d make to the rules after this is that the reproduction rate must be per capita up to the carrying capacity, with set reproductive rates for each species (i.e. 1 for model, 2 for mimic and control).&lt;/li&gt;
&lt;li&gt;We discussed but didn’t try following up the interactive simulation with a computer-based netlogo simulation. Ideally, the students could write the simulation from a netlogo template, implementing the rules of the game and adding sliding bars for the parameters. This would allow them to explore the model with more statistically meaningful sample sizes, but also be a good introduction to programming for modeling. Learning the specific rules of the game hopefully serves as a concrete example of what a model and simulation involve. Having to write the model one’s self should help empower students to ask and then explore questions about what if this rule or that rule were different.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;response&quot;&gt;Response&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Overall the feedback seemed quite positive. People found the activity engaging and thought the netlogo exercise sounded like a promising extension.&lt;/li&gt;
&lt;li&gt;I’m wondering what aspects of active group activity make them most effective. One idea we discussed before presenting was the chance for students to engage in trying out strategies vs simply iterating the rules. The current structure doesn’t involve many decisions – the predators have a simple decision to make and the prey have none. Adding decisions without making the activity too complicated is challenging; the prisoner’s dilemma is a good a example of a game with simple rules but a non-trivial decision for all players. Another idea I’m thinking about is the collaborative aspect of the game. Without prompting, predators today tended to chat about strategy and try to guess what would happen next, which gets them more engaged into the activity. Seeding the activity with questions to answer might also help (such as trying to predict the long-term outcome).&lt;/li&gt;
&lt;li&gt;Julia suggested trying this module in the Sacramento Teachers workshop this May. Might have to actually develop the netlogo module.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;comments&quot;&gt;Comments?&lt;/h3&gt;
&lt;p&gt;Testing an html plugin for leaving comments in the notebook directly. If you’re reading this feel free to give the comments script a try.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parallel at last</title>
   <link href="/2010/03/01/Parallel-at-last.html"/>
   <updated>2010-03-01T00:00:00-08:00</updated>
   <id>h/2010/03/01/Parallel-at-last</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;svn revision 27 should have functional parallel code! Certainly I’ve gotten much better at openmp in the past few days. Difficult to maintain a general API that is agnostic to the model details and still knows enough about the data formats to declare them appropriately for each thread. My lesson for my future coding: by writing with parallelization concepts in mind from the start I should be able to significantly reduce the overhead time when I go back and add openmp directives. Gillespie API still needs perfecting but should be able to push ahead with the science now.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;still need to add const qualifiers and expand documentation.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;science-goals&quot;&gt;Science Goals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Next steps are the analytic approximations for the expected variance about the warning signals (variance of the variance estimate essentially). This also should be implemented in the code, which is more straight forward.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; * * * * *&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;http://www.htmlcommentbox.com&quot;&gt;HTML Comment Box&lt;/a&gt; is loading comments…&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parallelizing Code</title>
   <link href="/2010/02/28/Parallelizing-Code.html"/>
   <updated>2010-02-28T00:00:00-08:00</updated>
   <id>h/2010/02/28/Parallelizing-Code</id>
   <content type="html">&lt;h3 id=&quot;a-solution&quot;&gt;A solution!&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;After a good bit more exploring permutations of openmp commands and experimenting with code (should have been done in a branch version so would be in the version management, instead done in my local experimental sandbox so will have to implement and merge into real code still!) was able to understand the root of my problem and pose a coherent question.&lt;/li&gt;
&lt;li&gt;Posting that question on stack overflow &lt;a href=&quot;http://stackoverflow.com/questions/2352895/how-to-ensure-a-dynamically-allocated-array-is-private-in-openmp&quot; title=&quot;http://stackoverflow.com/questions/2352895/how-to-ensure-a-dynamically-allocated-array-is-private-in-openmp&quot;&gt;solved my problem&lt;/a&gt; in under an hour. Two for two on fast and thorough solutions there, a fantastic resource.&lt;/li&gt;
&lt;li&gt;As I understand it, the += strategy still risks collisions, perhaps these can be avoided by dynamically allocating the shared variable my_report in the same fashion (i.e. after it is declared shared), but not ideal..&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;to-do&quot;&gt;To Do&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Merge changes into actual code.&lt;/li&gt;
&lt;li&gt;Add use of const (and possibly restrict) as often as possible, and start implementing these regularly when writing functions. Also more literate programming.&lt;/li&gt;
&lt;li&gt;Illustrations of the ensemble variance vs time-averaged variance and it’s expected deviations.&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;http://www.htmlcommentbox.com&quot;&gt;HTML Comment Box&lt;/a&gt; is loading comments…&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Friday</title>
   <link href="/2010/02/26/Friday.html"/>
   <updated>2010-02-26T00:00:00-08:00</updated>
   <id>h/2010/02/26/Friday</id>
   <content type="html">&lt;p&gt;Not much chance for progress.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;11-noon (I was interviewed by Science Careers reporter).&lt;/li&gt;
&lt;li&gt;noon-1 Lunch w/ John Huelsenbeck. Good perspective on having formula representation of models rather than on/off switch for parameters! Will have to implement eventually in the phylogenetics project.&lt;/li&gt;
&lt;li&gt;1-1:30 Wainwrighters lunch meeting.&lt;/li&gt;
&lt;li&gt;1:30-3:30 prep Monte Carlo for teaching non-majors evolution course – case study on mimicry and levels of selection. Presenting Monday, we’ll see how it goes in [User:Carl_Boettiger/Notebook/Teaching]&lt;/li&gt;
&lt;li&gt;4-6 Phylogenetics discussion group (followed by CPB happy hour = more phylogenetics discussion). Working out correlated trait evolution model for suction index?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Thursday</title>
   <link href="/2010/02/25/Thursday.html"/>
   <updated>2010-02-25T00:00:00-08:00</updated>
   <id>h/2010/02/25/Thursday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Some exploration with felsenstein_tree.R, see svn log.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>The Ergodicity Question- Time averaging vs Ensemble averaging</title>
   <link href="/2010/02/25/The-Ergodicity-Question--Time-averaging-vs-Ensemble-averaging.html"/>
   <updated>2010-02-25T00:00:00-08:00</updated>
   <id>h/2010/02/25/The-Ergodicity-Question--Time-averaging-vs-Ensemble-averaging</id>
   <content type="html">&lt;p&gt;11am – 3pm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tried time averaging over the entire time window (set sample_size to 1 less than max time); in close agreement with the ensemble predictions (getting around 1355).&lt;/li&gt;
&lt;li&gt;Mystery doesn’t seem to actually be a problem in the method, but just innate variability! Even over reasonable time-averages and ensemble averages there’s significant deviation from the expected variance! This variation around the warning signal/leading indicator is exactly what might frustrate the warning signal. So within a run, the observed variance averaged over a given window may fluctuate significantly.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/c/ca/Falsealarmpng.png/400px-Falsealarmpng.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;/skins/common/images/magnify-clip.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Note that variance almost doubles just by chance, and the average looks pretty close to the analytic calculation for these parameters (1352). This samples every unit time on a window of 149 time units (single replicate).&lt;/li&gt;
&lt;li&gt;Code that produces this found in version 26 (run warning_signals and then plot data with that version of plot.py). &lt;strong&gt;Note:&lt;/strong&gt; seed was randomized in this compile.&lt;/li&gt;
&lt;li&gt;Gillespie header file has a flag to turn on random seed!&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;next-steps&quot;&gt;Next Steps&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Parallelization – restructure my_pars and record classes.&lt;/li&gt;
&lt;li&gt;Compute variance in variance (and in other warning signals) across ensembles. Shows not just the expected signal, but the collection of possible signals. Think about analytic version of this calculation.&lt;/li&gt;
&lt;li&gt;Update records class for these kinds of ensemble averaging. Ensemble Variance in temporal mean with windowsize 1 will then give the variance across ensembles alone, rather than calculating separately (which I’m currently using the ar1 and arN blocks to compute).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### Parallelizing Code&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Large ensemble averaging can benefit from relatively trivial parallelization. Parallelizing other sections of the code will be more demanding and less obviously an efficiency boost. I have been doing basic parallelization for multicore, shared memory machines using OpenMP, allowing me to take advantage of the up to eight cores we have on the server (&lt;code&gt;one&lt;/code&gt;.)&lt;/li&gt;
&lt;li&gt;Makefile now has a make parallel option to call the compiler with the openmp flag, &lt;code&gt;-f openmp&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;My first try added an OpenMP command to the Gillespie code to parallelize the for loop over ensembles:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;syntax type=&quot;c&quot;\&gt;&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;pragma omp parallel for default(none) shared(rng, rate_fn, outcome) private(lambda, t, tmp, i, check) firstprivate(rates_data, my_pars)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;for(l = 0; l &amp;lt; ensembles; l++){ &lt;/syntax\&gt;&lt;/p&gt;
&lt;p&gt;I haven’t worked with firstprivate before, but seems necessary for dynamically allocated private variables. This isn’t going to work, as my_pars contains information that must be shared (like where the global data is collected) and private (like the state variables). A successful parallelization of this algorithm will require being more explicit. Basically everything in &lt;code&gt;record&lt;/code&gt; needs to be shared and the rest of &lt;code&gt;my_pars&lt;/code&gt; needs to be private…&lt;/p&gt;
&lt;p&gt;As the random number generator is called in a different order in parallel and serial runs I don’t think I can compare values simply by keeping constant seed, but I can compare convergent values.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Will need to separate my parameters data structure into global recording data and private state variable data&lt;/strong&gt; before the Gillespie code can be effectively parallelized. Will need to consider checks to prevent user from mismatching these.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;edit on Fri 26th&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Anything declared private in openmp must be initialized in the loop or declared firstprivate instead. If it’s dynamically allocated compiler will complain about private but not firstprivate. Making a copy of a constant pointer (as in promotions from void pointers) lets you change the values of things it points to.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Parallel code not very compatible with GSL’s creative use of void pointers as agnostic ways to pass parameters to functions. Fine for shared parameters, creates a problem for private parameters. Using restrict declaration might help with this, will need to investigate further. Meanwhile, experimental directory has simplified code for exploring the parallel error. currently cannot get time series to cumulatively sum results from different replicates rather than overwrite.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;edits Sun Feb 28&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parallel code works if I can avoid firstprivate. this means specifying predetermined size arrays for checkpts and my_pars explicitly. Will have to figure out how to get openmp to work with dynamically allocated variables. Time to actually spend some time in openmp tutorials…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Derin And Alan Meeting</title>
   <link href="/2010/02/24/Derin-and-Alan-Meeting.html"/>
   <updated>2010-02-24T00:00:00-08:00</updated>
   <id>h/2010/02/24/Derin-and-Alan-Meeting</id>
   <content type="html">&lt;p&gt;1-2pm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Discussion of reasons early warning signals fail&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Insufficient signal-to-noise ratio for early warning&lt;/li&gt;
&lt;li&gt;Ensemble vs time average – satisfying ergodicity assumption?&lt;/li&gt;
&lt;li&gt;Role of bifurcation type. existing literature focuses mostly on 1D saddle node.&lt;/li&gt;
&lt;li&gt;Role of chaos (certainly frustrates warning signals, but not required).&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;How general are warning signals? Normal forms of bifurcations. Fitting a good model vs. general warning signals. Problem of extrapolation.&lt;/li&gt;
&lt;li&gt;Classification scheme of warning signals – TREE paper(?)&lt;/li&gt;
&lt;li&gt;Mean First passage time from potential&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;analytic-calculations-continued&quot;&gt;Analytic calculations continued&lt;/h2&gt;
&lt;h3 id=&quot;expected-variance-across-ensembles&quot;&gt;Expected Variance across Ensembles&lt;/h3&gt;
&lt;p&gt;The expected variance across ensembles can be calculated from the Fokker-Planck Equation derived from the linear noise approximation. This should agree with the variance computed over a time window when the system has reached stationarity. I do these calculations and compare:&lt;/p&gt;
&lt;p&gt;Equilibrium population size solves&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;&lt;div style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?e n - a = \frac{e K n^2}{n^2+h^2}&quot; alt=&quot;e n - a = \frac{e K n^2}{n^2+h^2}&quot; /&gt;&lt;/div&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Equilibrium variance should be given by&lt;/p&gt;
&lt;p&gt;&lt;span class=&quot;math&quot;&gt;\[ \hat \sigma^2 = \frac{d(\hat n)}{b&amp;#39;(\hat n)-d&amp;#39;(\hat n)} =
\frac{e \hat n - a}{ 2 e K \hat n (1 - \frac{\hat n}{\hat n^2 +
h^2}) - e} \]&lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;time-averaging-from-simulation-doesnt-match-analytic-prediction&quot;&gt;Time averaging from simulation doesn’t match analytic prediction!&lt;/h3&gt;
&lt;p&gt;The analytic solution to &lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat n\inline&quot;/&gt;&lt;/span&gt; is the general solution to a cubic so not very pretty, but easy to calculate numerically in order to give the variance estimate; using the values below I confirm that ODE solver and analytic solution above agree $ ^2 = 1352$, which is &lt;em&gt;only about half that computed over the time window (approx 2360)!&lt;/em&gt; Parameter values and solutions from analytics are:&lt;/p&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;e&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;K&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;h&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;a&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;160&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;n&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;570.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;&lt;span class=&quot;math&quot;&gt;&lt;img src=&quot;http://latex.codecogs.com/png.latex?\hat \sigma^2\inline&quot;/&gt;&lt;/span&gt;&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1352&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;test-of-higher-order-corrections&quot;&gt;Test of higher order corrections&lt;/h3&gt;
&lt;p&gt;I try the higher order correction to the mean dynamics (accounts for inflation effect of the variance):&lt;/p&gt;
&lt;p&gt; E(n) = &lt;em&gt;1(n) +  ^2 &lt;/em&gt;1’’(n)&lt;/p&gt;
&lt;p&gt;Though not surprisingly, the effect is negligible. In this case the average is slightly higher (572.5) and variance slightly lower (1349), so the curvature at equilibrium must be positive (in contrast to the deflation example with logistic or Levins model). Perhaps this is a consequence of the ergodicity assumption failing; I’ll check against simply computing ensemble variance rather than the (mean-over-ensembles) time-averaged variance.&lt;/p&gt;
&lt;h3 id=&quot;ensemble-averaging-simulation-does-match-theory-though-time-averaging-doesnt&quot;&gt;Ensemble averaging simulation does match theory, though time averaging doesn’t&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Okay, variance computed over ensembles only matches the theory (averaging over all time over an ensemble of 1000 I’m getting 1362 ensemble variance, while the time averaged (over a sampletime of 100, sample interval of .1, and max time 500) variance averaged over ensembles comes out a steady 2339. So much for ergodicity? &lt;strong&gt;Note:&lt;/strong&gt; these conditions should match the code found in subversion revision 25.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;reflections-on-warning-signals-literature&quot;&gt;Reflections on Warning Signals literature&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Created a separate &lt;a href=&quot;http://www.mendeley.com/collections/1374711/EarlyWarningSigns/&quot; title=&quot;http://www.mendeley.com/collections/1374711/EarlyWarningSigns/&quot;&gt;Mendeley collection&lt;/a&gt; for literature on Early Warning Signals, still very underpopulated. Note that my Mendeley library wasn’t available online for a couple days due to some stupid syncing mistakes I made, but the Mendeley support team was fantastic in getting things back in working order (Let’s just say I may be responsible for the release of 0.9.6.1). Note that one can subscribe to this collection as an &lt;a href=&quot;http://www.mendeley.com/collections/rss/1374711/&quot; title=&quot;http://www.mendeley.com/collections/rss/1374711/&quot;&gt;rss feed&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I’m bothered to see the phrase “tipping point” used synonymously with bifurcation – they invoke very different ideas. A tipping point such as the maximum angle you can push a canoe before it flips is not a bifurcation, it is a perturbation to the state directly large enough to push it over the seperatrix, and directly related to the first passage time problem in the stochastic models. The bifurcations under consideration are changes in a parameter, not the state of interest, which destroys a stable point. Phase transitions are examples, though often lacking hysteresis.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Another annoying quality is the lack of distinguishing bifurcation from rare event. If alternate stable states are present, what is the probability we would simply jump into them by chance?&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Detrending before fitting AR(1) model to data is also unjustified. Trends influence variance as well!&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Taking a sliding window size equal to half the size of the available time series is arbitrary and unjustified, as it is neither the most promising way to detect the trend nor should the window size choice depend on such things as knowing the time the crash occurs.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;current-library&quot;&gt;Current Library&lt;/h3&gt;
&lt;p&gt;(Also a chance to test Mendeley library embedding)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;a href=&quot;http://www.mendeley.com&quot;&gt;Research&lt;/a&gt; collected using Mendeley&lt;/p&gt;
&lt;h2 id=&quot;subversion-log&quot;&gt;Subversion Log&lt;/h2&gt;
&lt;p&gt;r25 | cboettig | 2010-02-25 00:12:09 -0800 (Thu, 25 Feb 2010) | 1 line&lt;/p&gt;
&lt;p&gt;made samplefreq into a double instead of size_t, still co-opting the autocorrelations, seems to show successfully a different ensemble vs time-averaged variance&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r24 | cboettig | 2010-02-24 23:46:07 -0800 (Wed, 24 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;co-opted the autoregressive data for the moment to explore direct ensemble mean and variance (without any time-averaging)&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r23 | cboettig | 2010-02-24 21:53:12 -0800 (Wed, 24 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;ode integrator seems to accurately compute mean and variance dynamics, though the time-averaged variance doesn’t seem to agree with the analytic ensemble variance; will have to compute that directly from simulation to compare. Runge-Kutta solver on adaptive mesh seems significantly slower than my simple Euler scheme; particularly with the (nearly irrelevant) higher order correction to the mean dynamics.&lt;/p&gt;
&lt;hr /&gt;</content>
 </entry>
 
 <entry>
   <title>Comparing to Analytic Dynamics</title>
   <link href="/2010/02/23/Comparing-to-Analytic-Dynamics.html"/>
   <updated>2010-02-23T00:00:00-08:00</updated>
   <id>h/2010/02/23/Comparing-to-Analytic-Dynamics</id>
   <content type="html">&lt;p&gt;Goal for today: implement analytic calculations for warning signals.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;10am-12pm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Abstraction/functionalizing code.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;4pm-7pm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Implement GSL ode solvers for linear noise approximation:&lt;/p&gt;
&lt;p&gt;Recall our dynamics are &lt;img src=&quot;http://openwetware.org/images/math/b/0/f/b0f86bdecd1ecc1882bcbc4a61d7b2e7.png&quot; alt=&quot;b(n) = \frac{e K n^2}{h^2+n^2}&quot; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;d&lt;/em&gt;(&lt;em&gt;n&lt;/em&gt;) = &lt;em&gt;en&lt;/em&gt; + &lt;em&gt;a&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;and defining the jump moments (van Kampen) α&lt;sub&gt;1&lt;/sub&gt;(&lt;em&gt;n&lt;/em&gt;) = &lt;em&gt;b&lt;/em&gt;(&lt;em&gt;n&lt;/em&gt;) − &lt;em&gt;d&lt;/em&gt;(&lt;em&gt;n&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;α&lt;sub&gt;2&lt;/sub&gt;(&lt;em&gt;n&lt;/em&gt;) = &lt;em&gt;b&lt;/em&gt;(&lt;em&gt;n&lt;/em&gt;) + &lt;em&gt;d&lt;/em&gt;(&lt;em&gt;n&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; recall that we have a linear Fokker-Planck equation whose solution is Gaussian and specified by the first two moments: &lt;img src=&quot;http://openwetware.org/images/math/7/c/f/7cf6568c3252fa68c7b4c28acf3025e0.png&quot; alt=&quot;\frac{d}{dt} E(n) = \alpha_1(n)&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/math/f/4/1/f4149089d99a43125c9d91ceca4d8ea5.png&quot; alt=&quot;\frac{d}{dt} \sigma^2_n = 2 \sigma_2(n) \frac{d}{dn} \alpha_1(n) + \alpha_2(n)&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;\frac{d}{dt} \sigma^2_n = 2 \sigma_2(n) \frac{d}{dn} \alpha_1(n) + \alpha_2(n)&lt;/p&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;These are implemented in code using GSL ode library.&lt;/li&gt;
&lt;li&gt;The variance calculation seems not to agree with the simulated results, though no obvious bug. Perhaps I’ve been too cavalier about the scaling above?&lt;/li&gt;
&lt;li&gt;Will try implementing simpler functions I’ve tested before to confirm.&lt;/li&gt;
&lt;li&gt;Need to repeat this analysis for the multivariate case where parameter &lt;em&gt;a&lt;/em&gt; changes dynamically at specified rate.&lt;/li&gt;
&lt;li&gt;Will also consider making &lt;em&gt;a&lt;/em&gt; change according to stochastic rules, adding environmental variability.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt; ### svn log&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r22 | cboettig | 2010-02-23 23:45:12 -0800 (Tue, 23 Feb 2010) | 1 line&lt;/p&gt;
&lt;p&gt;Implemented ode functions solving the linear noise approximation equations. Mean agrees well, variance calculation seems off.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r21 | cboettig | 2010-02-23 11:39:25 -0800 (Tue, 23 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;gillespie.h and gillespie.c abstraction completed. Documentation should still explain how to create the necessary functions to run a gillespie simulation, but is otherwise complete.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r20 | cboettig | 2010-02-23 10:30:03 -0800 (Tue, 23 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;Functionalizing code into seperate files. The main gillespie code has been broken off into its own file, gillespie.c along with its own header. To keep the function calls agnostic to the details of the parameters structure, all the gillespie functions my_pars is passed as a void pointer and promoted to a pars pointer inside the function defs.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/02/22/Teaching.html"/>
   <updated>2010-02-22T00:00:00-08:00</updated>
   <id>h/2010/02/22/Teaching</id>
   <content type="html">&lt;h2 id=&quot;gtc-session-student-centered-learning-successes-failures-and-strategies&quot;&gt;GTC Session: Student Centered Learning: Successes, Failures and Strategies&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Gabrielle and I facilitated a GTC section on Student-Centered learning. Details in the &lt;a href=&quot;http://gtc-blog.blogspot.com/2010/02/student-centered-learning-successes.html&quot; title=&quot;http://gtc-blog.blogspot.com/2010/02/student-centered-learning-successes.html&quot;&gt;GTC blog post&lt;/a&gt;. Small group of about a dozen of us, still worked to break into four groups for the discussion section. Overall went very well, don’t have a lot of comments to add about the experience or things I’d do differently. Did get some positive feedback and comments that we could have used much more time to explore these ideas! Certainly the hour seems to fly by rather than drag on in this style. I was impressed by one group’s method of summarizing there discussion by having each member share a point; very organized and egalitarian.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Will try and add a Mendeley library link to the Student Centered Learning literature here when I get a chance. Maybe should add one to the GTC blog too. Should add notes from the group sections also.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Monday</title>
   <link href="/2010/02/22/Monday.html"/>
   <updated>2010-02-22T00:00:00-08:00</updated>
   <id>h/2010/02/22/Monday</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Not a very successful day research-wise. Begun’s Monte Carlo and then my facilitation at GTC seminar went well though.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Implementing an example of low and high power trees</title>
   <link href="/2010/02/20/Implementing-an-example-of-low-and-high-power-trees.html"/>
   <updated>2010-02-20T00:00:00-08:00</updated>
   <id>h/2010/02/20/Implementing-an-example-of-low-and-high-power-trees</id>
   <content type="html">&lt;p&gt;Code implementation in felsenstein_tree.R&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;I consider a star tree and a Felsenstein tree each of N nodes; M = (N+1)/2 tips.&lt;/li&gt;
&lt;li&gt;I consider an uncorrelated data set of M normal random variables, such as would be generated by either BM or OU models on the star tree.&lt;/li&gt;
&lt;li&gt;I produce a correlated data set such as would be generated by Brownian motion on the felsenstein tree.&lt;/li&gt;
&lt;li&gt;I generate 8 model fits – fitting BM and OU to each tree under each data set.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;results&quot;&gt;Results&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;For the four fits on the star tree, the likelihood of BM and OU are identical within each dataset, as required. The likelihood of OU/BM fit is higher on the uncorrelated data set (since it is normal, not bimodal), as expected.&lt;/li&gt;
&lt;li&gt;On the Felsenstein tree, the OU model does better than the BM on the uncorrelated data (as expected, since the OU model produces something asymptotically normal on that tree (i.e. at least if branch lengths are long enough relative to alpha), while the BM does better than OU on the correlated data (by the same logic).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Output of these results found in revision 209 in the subversion repository.&lt;/p&gt;
&lt;h3 id=&quot;discussion-and-future-goals&quot;&gt;Discussion and Future Goals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;branch lengths probably not long enough relative to alpha to allow a more powerful discrimination, or does that simply scale out? Also level of heterogeniety in the original data (i.e. are the two peaks in the correlated model far enough apart?&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/02/19/Teaching.html"/>
   <updated>2010-02-19T00:00:00-08:00</updated>
   <id>h/2010/02/19/Teaching</id>
   <content type="html">&lt;h2 id=&quot;faculty-mentoring-faculty-presentation&quot;&gt;Faculty Mentoring Faculty Presentation&lt;/h2&gt;
&lt;h3 id=&quot;short-cuts-to-excellent-teaching-a-primer&quot;&gt;“Short Cuts to Excellent Teaching: A Primer”&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;by James Shaffrath,&lt;/li&gt;
&lt;li&gt;from Exercise Biology, The Department of Neurobiology, Physiology and Behavior&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Just saw this presentation in the Faculty Mentoring Faculty program. Good program, though pretty basic, not really touching on peer learning but focusing on lecture content and style. Things like rolling lexicon (using both jargon and simple phrases), being present, being engaging. The broad introduction was definitely the best part, and an inspiring view about the role of education. What I took away most, though, was the paradigm of &lt;strong&gt;Teachers as heroes, teachers as friends.&lt;/strong&gt; The human element dominates the teaching experience, it’s captured in the photograph of the girl’s expression on finding the word “brilliant” in her first dictionary, and in James’ penetrating assertion that there’s someone else in the room seeing that expression. His highest goal was lighting the spark of education, the W.B. Yeats quote I’ve had to add to the notebook cover. A bit on my reaction follows.&lt;/p&gt;
&lt;h3 id=&quot;reflection-on-the-talk&quot;&gt;Reflection on the talk&lt;/h3&gt;
&lt;p&gt;Some of my favorite professors would walk into the classroom with nothing but a piece of chalk, offer no more introduction than to kick off his shoes to some corner and begin lecturing, scrawling away on the blackboard regardless of whether half the class hadn’t yet arrived or sat down. We’d all copy notes furiously in that class, understand very little of it; everyone trying to keep up with the logic of the formulae for as many minutes as possible before falling back into scribe mode; but it didn’t matter. We’d been given the spark, the professor knew something we wanted to know, and we worked like hell to learn it. The learning always came after though, from each other and the TAs in all those night-long problem sessions. I’ve focused on that element more in my thoughts on teaching, and how it can be facilitated and improved – the actual learning itself. But I think I must remember the role of the teacher as that spark as well, as a hero. After all, the will to learn comes first.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Power in trees continues</title>
   <link href="/2010/02/19/Power-in-trees-continues.html"/>
   <updated>2010-02-19T00:00:00-08:00</updated>
   <id>h/2010/02/19/Power-in-trees-continues</id>
   <content type="html">&lt;p&gt;Discussion of power in trees need a counterpoint to the example of the star tree as being devoid of information content. The best example here is probably the example tree used in the introduction of Felsenstein 1985: two star trees sharing a common ancestor. Implemented the basic creation of a balanced tree of arbitrary depth having this structure. The balanced tree has 2&lt;sup&gt;&lt;em&gt;h&lt;/em&gt;&lt;/sup&gt; − 1 nodes, all internal nodes occuring at time = 1/2 and all tips at time = 1. This sets many branch lengths to zero, which effectively turns a binary tree in an unresolved star. Setting the time of all internal nodes to zero, the age of the root, turns this into a star tree.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt; ### From the subversion log&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r208 | cboettig | 2010-02-20 14:44:25 -0800 (Sat, 20 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;Implemented the creation of Felstein-style tree and a star syle tree as examples of information-rich and information-poor structure in the code felsenstein_tree.R&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r207 | cboettig | 2010-02-19 11:18:01 -0800 (Fri, 19 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;removing old R code&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Power in Trees</title>
   <link href="/2010/02/18/Power-in-Trees.html"/>
   <updated>2010-02-18T00:00:00-08:00</updated>
   <id>h/2010/02/18/Power-in-Trees</id>
   <content type="html">&lt;p&gt;Following up after yesterday’s meeting, I am working on implementing the confidence interval analysis and quantifying information in trees. This second point I will develop by comparing the Felsenstein example tree (information-rich) to the star tree (uninformative), and develop this discussion in the context of assessing the importance of phylogenetic corrections and phylogenetic intertia (my original theme again: noise or data??).&lt;/p&gt;
&lt;h2 id=&quot;primate-brain-morphometry&quot;&gt;Primate Brain Morphometry&lt;/h2&gt;
&lt;p&gt;Daniel Mietchen contacted me through openwetware 11 days ago with interest in applying phylogenetic comparative methods to Primate Brain Morphometry data. The initial &lt;a href=&quot;/images/2/23/Primate_brain_comparisons.xls&quot; title=&quot;Primate brain comparisons.xls&quot;&gt;data spreadsheet&lt;/a&gt; includes 2 continuous traits for 61 Primate species. To get rolling on this in the comparative methods framework, I’ll first need to create or find a decent ultrametric tree and then will be up and running. This should both help Dan and be a good experimental dataset for me, which I’ll be exploring more during my time at the &lt;a href=&quot;http://bodegaphylo.wikispot.org/&quot; title=&quot;http://bodegaphylo.wikispot.org/&quot;&gt;Bodega Phylogenetics Workshop&lt;/a&gt; March 6-13.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting Goals</title>
   <link href="/2010/02/17/Meeting-Goals.html"/>
   <updated>2010-02-17T00:00:00-08:00</updated>
   <id>h/2010/02/17/Meeting-Goals</id>
   <content type="html">&lt;h3 id=&quot;discussion-of-information-in-phyologenetic-trees-analysis&quot;&gt;Discussion of information in phyologenetic trees analysis&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Review manuscript outline. More examples of comparisons? Sequence of presentation?&lt;/li&gt;
&lt;li&gt;Parametric bootstrapping approach; see this entry.&lt;/li&gt;
&lt;li&gt;Quantifying information in a tree a priori to any trait data&lt;/li&gt;
&lt;li&gt;Stationary distribution fits vs full model fits as measure of phylogenetic signal&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;discussion-of-regimes-model&quot;&gt;Discussion of Regimes model&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Review project status of implementing the more complicated regimes model, discussed here&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Hastings Meeting</title>
   <link href="/2010/02/17/Hastings-Meeting.html"/>
   <updated>2010-02-17T00:00:00-08:00</updated>
   <id>h/2010/02/17/Hastings-Meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Discussion of cases where variance decreases before crash – misleading warning signals. Schreiber 2003&lt;/li&gt;
&lt;li&gt;Aaron King and Bill Schaffer JMB Hamiltonian vs Dissipative/gradient systems. Are Hamiltonian systems non-biological?&lt;/li&gt;
&lt;li&gt;Follow up with Darren&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;reasons-warning-signals-fail&quot;&gt;Reasons Warning Signals fail&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Present (saddle-node model) but insufficient sensitivity to detect (lack ensembles, lack sampling frequency)&lt;/li&gt;
&lt;li&gt;dissipative but warning signals are backwards (other higher dimensional bifurcations, limit cycles –&amp;gt; no potential)&lt;/li&gt;
&lt;li&gt;Hamiltonian instead of dissipative (centers, stochastically become random walks)&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;code-updates&quot;&gt;Code Updates&lt;/h2&gt;
&lt;p&gt;Early warning signals code now does ensemble averaging, which works! The next step is to compute variance around the ensemble average to determine significance of a signal.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/e/ef/Ensemble_warning.png/600px-Ensemble_warning.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The red line shows the environmental change, which begins around t = 200. The black line shows when the environmental variable hits the bifurcation point. Hence a reliable warning signal should occur between these two points. Looks like these work! Note that expected variance appears the least noisy. Dynamics of the model are &lt;img src=&quot;http://openwetware.org/images/math/1/1/d/11dec717f8992ae05dde012fe7cd0aee.png&quot; alt=&quot;\dot N = \frac{eKN^2}{h^2+N^2} - e N - a&quot; /&gt;&lt;/p&gt;
&lt;p&gt;With&lt;/p&gt;
&lt;table&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;e&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;0.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;K&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;h&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;200&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;and the bifurcation occurs near a = 200.&lt;/p&gt;
&lt;h2 id=&quot;progress-on-code&quot;&gt;Progress on Code&lt;/h2&gt;
&lt;hr /&gt;
&lt;p&gt;r19 | cboettig | 2010-02-18 00:58:00 -0800 (Thu, 18 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;early warning works with ensemble averaging. This commit is paired with the figure in the Feb 17 2010 entry in the openwetware notebook&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r18 | cboettig | 2010-02-17 23:16:20 -0800 (Wed, 17 Feb 2010) | 2 lines&lt;/p&gt;
&lt;p&gt;minor fixes to warning_signals&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r17 | cboettig | 2010-02-17 23:06:41 -0800 (Wed, 17 Feb 2010) | 1 line&lt;/p&gt;
&lt;p&gt;Completed implementation of ensemble averaging&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;r16 | cboettig | 2010-02-17 21:04:23 -0800 (Wed, 17 Feb 2010) | 1 line&lt;/p&gt;
&lt;p&gt;src directory uncessary, moved code up&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Updating manuscript</title>
   <link href="/2010/02/16/Updating-manuscript.html"/>
   <updated>2010-02-16T00:00:00-08:00</updated>
   <id>h/2010/02/16/Updating-manuscript</id>
   <content type="html">&lt;p&gt;The progress of the past few days has lead to substantial revision proposals in my manuscript draft. Rewriting for discussion with Brian tomorrow. Currently revised outline:&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;strong&gt;Intro&lt;/strong&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Biological Motivation&lt;/li&gt;
&lt;li&gt;Comparative Methods and Comparing Models&lt;/li&gt;
&lt;li&gt;Model choice paradigm: the right direction, but incomplete&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Simple Example&lt;/strong&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;The Star Tree&lt;/li&gt;
&lt;li&gt;Two hypotheses: stabilizing vs disruptive selection&lt;/li&gt;
&lt;li&gt;Information Criteria approach is insufficient&lt;/li&gt;
&lt;li&gt;Likelihood surfaces&lt;/li&gt;
&lt;li&gt;Likelihood ratio distribution&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Anoles Example&lt;/strong&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Background to example and models&lt;/li&gt;
&lt;li&gt;Initial conclusions from Butler &amp;amp; King&lt;/li&gt;
&lt;li&gt;Raising skepticism – simulated data sets&lt;/li&gt;
&lt;li&gt;A robust approach: parametric bootstrap&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Power of a Tree&lt;/strong&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Quantifying information content of a tree a priori&lt;/li&gt;
&lt;li&gt;independent of data&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Discussion&lt;/strong&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Model choice paradigm&lt;/li&gt;
&lt;li&gt;Need for power analysis&lt;/li&gt;
&lt;li&gt;Future of model comparisons in comparative methods&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Original draft is in phylotrees/writeups/note_on_aic.tex preserved in revision 205 of the svn repository (in case I’m trying to refer to some of that draft text later). Also have copies with comments from Chris, Matt, and Roi.&lt;/p&gt;
&lt;h3 id=&quot;repository-updates&quot;&gt;Repository Updates&lt;/h3&gt;
&lt;p&gt;Reorganized the svn repository for the project. Trying to keep a standard structure and version manage all contents. Current structure is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;project
&lt;ul&gt;
&lt;li&gt;articles&lt;/li&gt;
&lt;li&gt;writeups&lt;/li&gt;
&lt;li&gt;code&lt;/li&gt;
&lt;li&gt;images&lt;/li&gt;
&lt;li&gt;data&lt;/li&gt;
&lt;li&gt;presentations&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;articles are imported into My Mendeley Library, which keeps its own master copies so the articles section here is no longer needed. Writeups are drafts of papers, relevant images are in the images directory which may need an image database manager such as picasa as it gets large. Images I’m unlikely to need can be deleted and the whole directory can be kept under version management. Similarly the data folder can also be version managed, even though not getting regular updates. Having the entire project under svn makes the working directory for a project expendable, and easy to keep only active projects. Can always look into the svn repository to checkout a copy of an old project or part of one.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Parametric bootstrapping</title>
   <link href="/2010/02/15/Parametric-bootstrapping.html"/>
   <updated>2010-02-15T00:00:00-08:00</updated>
   <id>h/2010/02/15/Parametric-bootstrapping</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;There are several ways we can frame the bootstrapping question. What is the probability that we see a given likelihood ratio statistic (that the log likelihoods differ by a certain spread) just by chance? We have two versions of chance – the chance we see this ratio when model a is correct and the chance we see this ratio when model b is correct. We simulate 2000 data sets under each model, generating a distribution of likelihood ratio scores for each data set. These distributions we can plot together with the likelihood ratio score observed for the real data:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/e/eb/Fig1.png/200px-Fig1.png&quot; alt=&quot;image&quot; /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/c/cd/Fig2.png/200px-Fig2.png&quot; alt=&quot;image&quot; /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/c/cd/Fig3.png/200px-Fig3.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This shows the pattern we have been observing before. If the data is generated by OU(LP), the observed outcome (vertical line) can be quite confidently ascribed to the OU(LP) model (blue curves on the left and right panels are signficantly higher at this point). The best-fit OU and BM models are quite similar to eachother (center panel) in likelihood ratio scores they assign to all parameters, making it quite impossible to distinguish.&lt;/li&gt;
&lt;li&gt;This style of comparison closes the explanation quite convincingly in favor of OU(LP). While if we assume that BM or OU(1) were the correct models (unlikely as the observed likelihood ratio comes from the tails of those distributions, red line hits red curve; left and right panels) then the false positive rate would be quite higher.&lt;/li&gt;
&lt;li&gt;It remains to see how this depends on different values of possible data – particularly for what data the OU(1) and BM models (center) can be reliably teased apart under this tree.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Implementing warning signals metrics</title>
   <link href="/2010/02/15/Implementing-warning-signals-metrics.html"/>
   <updated>2010-02-15T00:00:00-08:00</updated>
   <id>h/2010/02/15/Implementing-warning-signals-metrics</id>
   <content type="html">&lt;p&gt;The &lt;a href=&quot;http://code.google.com/p/popdyn/source/checkout&quot; title=&quot;http://code.google.com/p/popdyn/source/checkout&quot;&gt;code&lt;/a&gt; now contains implementation of the basic warning signals metrics computed over a given window size into the past.&lt;/p&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;mean&lt;/li&gt;
&lt;li&gt;variance&lt;/li&gt;
&lt;li&gt;skew&lt;/li&gt;
&lt;li&gt;lag-1 autocorrelation&lt;/li&gt;
&lt;li&gt;lag-n autocorrelation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;These are implemented through the fixed interval sampler function. Recall that the Gillespie simulation API permits two kinds of events, random events occurring with exponential time distribution and events occurring at fixed (scheduled) times, which can be used for discretizations of deterministic continuous time dynamics (i.e. Forward/Backward Euler, Runge-Kutta), as well as scheduled events such as sampling. Just as each random event can have its own rate, fixed events can occur at different frequencies.&lt;/p&gt;
&lt;p&gt;A sample run provided below. Note that the simulation terminates when it hits extinction, even though this zero point is not necessarily sampled on the fixed interval. Created using the parameter values and settings as found in the commit to the svn repository revision 14. The environmental degradation starts at t=5000, marked by the red line.&lt;/p&gt;
&lt;div class=&quot;figure&quot;&gt;
&lt;img src=&quot;http://openwetware.org/images/thumb/3/32/Earlywarning.png/400px-Earlywarning.png&quot; alt=&quot;image&quot; /&gt;&lt;p class=&quot;caption&quot;&gt;image&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;A python script in the code repository produces this plot. The script in the original form used to create the plot can also always be found in revision 14; meanwhile the plotting script can continue to evolve for later exploration. (Definitely one of the great strengths of version management!)&lt;/p&gt;
&lt;h3 id=&quot;notes&quot;&gt;Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Currently the user sets the size of the window by number of samples to store and frequency of sampling, rather than directly entering the length of time the window should average over (and the sampling frequency). This should be changed and will mean dynamically allocating the window block.&lt;/li&gt;
&lt;li&gt;Many of the metrics can be handed the mean after it is computed, currently they recompute the mean. (all metrics are implemented through the use of the GSL stats library).&lt;/li&gt;
&lt;li&gt;We will want to be able to average the metrics over ensembles to demonstrate convergence to the theory.&lt;/li&gt;
&lt;li&gt;API is still embedded in the single file, will need to be functionalized further and made into its own library. Need more documentation, particularly on the fixed interval sampler.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/02/11/Teaching.html"/>
   <updated>2010-02-11T00:00:00-08:00</updated>
   <id>h/2010/02/11/Teaching</id>
   <content type="html">&lt;h2 id=&quot;regime-shifts-seminar-take-two&quot;&gt;Regime Shifts Seminar take two&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Today I was again up for the regime shifts class to cover the details Alan’s Ecology Letters paper. Board lecture style on content I’m comfortable with, so enjoyable for me but hardly much of an experiment in effective teaching. Still, something that can be done well or poorly, so I think today went well.&lt;/li&gt;
&lt;li&gt;Began with individuals at the board to review the four principle figures from the previous class – birth rates and death rates, difference in rates, the bifurcation diagram and the potential landscape. Proceeded in traditional board lecture style without prepared notes, which worked better than I expected from my point of view though probably with the same low uptake efficiency of even good or entertaining lectures. One of the key exercises was in demonstrating how the potential landscape emerges from integrating the rate (force) equation using the visual boxes of Riemann sums on the board. I think this helps demystify the landscapes. The worst thing about the landscapes is that the bifurcations are much harder to visualize than in any of the former graphs, as the whole landscape contorts. Going in the reverse from the non-smooth landscape to the discontinuous birth and death rules was also illustrative.&lt;/li&gt;
&lt;li&gt;It would be interesting to explore if plotting by hand the functions and integrals was significantly more or less effective than plotting them in a computer. It’s good to be reminded that the integrals can be qualitatively visualized by hand without rigorous math or a computer. Learning computer tools and getting the more accurate picture has advantages too, and leaves a record of what you did. In either case, having others do this by hand would probably have been more useful.&lt;/li&gt;
&lt;li&gt;Lastly, learning to wait long enough for questions, go slow enough to keep people following without condescending, asking more questions and knowing when to sit back are some good general goals.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting w- Alan</title>
   <link href="/2010/02/10/Meeting-w--Alan.html"/>
   <updated>2010-02-10T00:00:00-08:00</updated>
   <id>h/2010/02/10/Meeting-w--Alan</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Weekly check-in, following up on last week’s meeting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;goals-for-meeting&quot;&gt;Goals for meeting&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Discuss goals for regime shifts seminar tomorrow&lt;/li&gt;
&lt;li&gt;Discuss my manuscript outline on detection limits for early warning signals&lt;/li&gt;
&lt;li&gt;Discuss energy model formulation for analytic approximations to &lt;em&gt;Tribolium&lt;/em&gt; model.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;meeting-notes&quot;&gt;Meeting Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Early warning signals&lt;/strong&gt; - starting in simple models, proof of principle. Discuss three challenges to detection:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;ergodicity&lt;/li&gt;
&lt;li&gt;sensitivity&lt;/li&gt;
&lt;li&gt;complexity&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Eventually develop robust tools to give confidence estimates (parametric bootstrap) on potential early warning signals. Tool could be implemented as an R package.
&lt;ul&gt;
&lt;li&gt;Follow up with Darren&lt;/li&gt;
&lt;li&gt;General model testing principles: see Noel Cressie (spatial statistics). Durrett.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Structured Populations&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;I’m now using energy tracking to make the system Markov.&lt;/li&gt;
&lt;li&gt;Implemented in the analytics, need to add to energy accounting to simulation.&lt;/li&gt;
&lt;li&gt;Suggested further background reading, including some of the work of S.A.S. Kooijman, and&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;a href=&quot;http://www.jstor.org/page/termsConfirm.jsp?redirectUri=/stable/pdfplus/4567.pdf&quot; title=&quot;http://www.jstor.org/page/termsConfirm.jsp?redirectUri=/stable/pdfplus/4567.pdf&quot;&gt;Systematic formulation of tractable single species population models incorporating age structure&lt;/a&gt;, Gurney, Nisbet, Lawton 1983, [Gurney1983]&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/elink.fcgi?cmd=prlinks&amp;amp;dbfrom=pubmed&amp;amp;retmode=ref&amp;amp;id=7434253&quot; title=&quot;View or buy article from publisher (if available)&quot;&gt;Gurney WS and Nisbet RM. .&lt;/a&gt; pmid:7434253. &lt;a href=&quot;http://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=pubmed&amp;amp;rettype=abstract&amp;amp;id=7434253&quot; title=&quot;PMID 7434253&quot;&gt;PubMed&lt;/a&gt; &lt;a href=&quot;http://www.hubmed.org/display.cgi?uids=7434253&quot; title=&quot;PMID 7434253&quot;&gt;HubMed&lt;/a&gt; [Gurney1980]&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;conferences&quot;&gt;Conferences&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Also touched on possible conferences to attend this summer. Discussed &lt;strong&gt;&lt;a href=&quot;http://www.sm.u-bordeaux2.fr/CMPD3/index.html&quot; title=&quot;http://www.sm.u-bordeaux2.fr/CMPD3/index.html&quot;&gt;Conference&lt;/a&gt;&lt;/strong&gt; on Computational and Mathematical Population Dynamics. Should I go? Probably.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;targets-for-next-week&quot;&gt;Targets for Next Week&lt;/h3&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Early warning signals examples of three challenges&lt;/li&gt;
&lt;li&gt;Add the various warning signal metrics to the regime shifts simulation&lt;/li&gt;
&lt;li&gt;Add energy accounting to the beetles.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Follow-up on Parametric Bootstrapping</title>
   <link href="/2010/02/10/Follow-up-on-Parametric-Bootstrapping.html"/>
   <updated>2010-02-10T00:00:00-08:00</updated>
   <id>h/2010/02/10/Follow-up-on-Parametric-Bootstrapping</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Continuing on yesterday’s discussion of parametric boostrapping implementation. Peter sent some very helpful comments and agreed to having them here for reference; I’ve added some links.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;quot;I’ve read up a bit on the bootstrap just now. First off, although parametric and nonparametric bootstrapping has always seemed very different to me, they fit in the same natural framework. The general idea is that in reality, there’s some real parameters x and some probability distribution P that’s given us some data. We get an estimate x’ from that data. To estimate confidence (or what-have-you) in x’, we get some estimate P’ of *the probability distribution*, and use P’ to make a bunch more fake data, to which we apply the estimation procedures, etcetera. We could get P’ by assuming a parametric model and plugging in x’. Or, we could resample from the data, or permute it, etcetera.&lt;/p&gt;
&lt;p&gt;I suppose that you’ve seen the &lt;a href=&quot;http://cran.r-project.org/web/packages/boot/index.html&quot; title=&quot;http://cran.r-project.org/web/packages/boot/index.html&quot;&gt;‘boot’&lt;/a&gt; package in R? It does both parametric and nonparametric bootstrapping, and its function boot.ci() computes confidence intervals in some sophisticated ways. Sophisticated ways? Why do we need to be more sophisticated? Well, the simple, straightforward method that we were using in the discussion is fine, really, but there’s some corrections to it that make it better. Briefly, the bootstrap introduces (small) biases. Some references are:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;quot;Bootstrap confidence intervals&amp;quot;, a review,
  http://www.jstor.org/stable/2246110
&amp;quot;Better bootstrap confidence intervals&amp;quot;, describing the method BCa,
  http://www.jstor.org/stable/2289144&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;(and which does *not* come after the above article, btw) both by Bradley Efron. Note that here ABC refers to “approximate bootstrap”, not “approximate bayesian”.&lt;/p&gt;
&lt;p&gt;One message is that one needs about 1,000 bootstrap replicates to get good confidence intervals.&lt;/p&gt;
&lt;p&gt;One interesting note from the first article: the “standard” confidence intervals are not transformation invariant: often it is advisable to apply some transformation (e.g. tanh^{-1}) to the data to get the intervals. The BCa bootstrap intervals are, by contrast, transformation invariant.&amp;quot;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The boot() function from the R package looks like a straight-forward way to implement these methods, though I will probably rely mostly on the standard method discussed yesterday which is basically a direct implementation of the Confidence Interval definition and hence a more transparent statistic for the user than the fancy methods. If I implement it with the boot() function, it will be easy for the user to obtain which-so-ever they want and for me to explore how they differ in practice in any case.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Meeting with Graham and Peter</title>
   <link href="/2010/02/09/Meeting-with-Graham-and-Peter.html"/>
   <updated>2010-02-09T00:00:00-08:00</updated>
   <id>h/2010/02/09/Meeting-with-Graham-and-Peter</id>
   <content type="html">&lt;h3 id=&quot;discussion-of-model-comparisons&quot;&gt;Discussion of Model Comparisons&lt;/h3&gt;
&lt;p&gt;Primary focus of today’s discussion was rooted in Sunday’s entry&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On &lt;strong&gt;plotting quirks,&lt;/strong&gt; haven’t figured out lattice but here’s yet another &lt;a href=&quot;http://had.co.nz&quot; title=&quot;http://had.co.nz&quot;&gt;newer plotting engine for R&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;I need to revisit how OUCH computes likelihood ratios and P values. Since some parameters are bounded to the positive real line (and may be small) the standard chi square isn’t correct. I should repeat the AIC-style analysis for likelihood ratios, though this is just a shift of where I put the zero line. The correct thing to do would be to ask what is the probability the observed difference in likelihood ratio (or AIC, etc) would have occurred by chance using the distributions I have calculated,&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/4/43/Aic_panels.png/60px-Aic_panels.png&quot; alt=&quot;image&quot; /&gt; (click for larger)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The approach I am advocating for goes by the name &lt;strong&gt;&lt;a href=&quot;http://en.wikipedia.org/wiki/Bootstrapping_statistics#Parametric_bootstrap&quot; title=&quot;http://en.wikipedia.org/wiki/Bootstrapping_(statistics)#Parametric_bootstrap&quot;&gt;Parametric Bootstrapping&lt;/a&gt;&lt;/strong&gt; (that link isn’t that helpful actually, could improve the wiki entry). I should implement this as above, comparing to the observed differences in the model scores of the real data, rather than the measure of slightly greater which I report.&lt;/li&gt;
&lt;li&gt;Using this approach I can also &lt;strong&gt;evaluate the power&lt;/strong&gt; to detect any OU model by overlap in distributions. For instance, if the tree is the starburst, even strong selection OU will have no power, while on another tree it might. This can be done by testing a variety of OU models, rather than the one that best fits the data, and will be a great way to start quantifying the &lt;em&gt;information contained in the tree&lt;/em&gt; relative to the model choice question. This is a &lt;em&gt;crucial step&lt;/em&gt; before I try more complicated models, giving some measure of whether a tree contains enough taxa with enough covariance to tease out temporal information accurately.&lt;/li&gt;
&lt;li&gt;Discussed my concern that the &lt;strong&gt;BM model and OU model aren’t really embedded,&lt;/strong&gt; since the OU model likelihood cannot be computed accurately for small α. Of course it works in the limit, but is something to be cautious about. It has been suggested that model comparison should fit OU alone, and wait and see if α comes out small. There are two reasons to be skeptical of this&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;the star burst tree demonstrates that α and σ aren’t independent; then the tip variance is &lt;img src=&quot;http://openwetware.org/images/math/0/8/e/08e417731492414f9f1c6aaf090ad471.png&quot; alt=&quot;\frac{\sigma^2}{2\alpha}(1-e^{-2\alpha t})&quot; /&gt;&lt;/li&gt;
&lt;li&gt;The likelihood calculation may be numerically inaccurate for small α&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;speed-of-computing-probabilities-for-the-regimes-model&quot;&gt;Speed of computing probabilities for the Regimes model&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;So I can compute the joint probability for an arbitrary model rather quickly using my discretized matrix approach; if I’m given the transition matrices along each branch. Unfortunately, I spend all the computational time computing these matrices in the first place. We discussed several strategies to speed this up.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;&lt;strong&gt;Look-up tables.&lt;/strong&gt; For instance, rather than calculating &lt;img src=&quot;http://openwetware.org/images/math/d/a/e/daead000f739dd5aa84fd9f58b511b67.png&quot; alt=&quot;e^{-(x_1-x_2)^2/2\sigma^2t}&quot; /&gt; I could use the look-up of &lt;img src=&quot;http://openwetware.org/images/math/4/3/7/437ccc3edf32ee596e40ed14de1e3259.png&quot; alt=&quot;e^{-\beta^2}&quot; /&gt; There’s a variety of places this kind of trick can help with. Also, judicious use of logs – never exponentiate when I can multiply, or multiply when I can add.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MCMC approaches.&lt;/strong&gt; The general version of this just does MCMC over all the internal nodes. The key here is that if I know the values of all the internal nodes, the joint probability is just a product of all the transitions – no non-independence. Alternately, I could rely on the fact that I can solve this analytically if I were only told the regimes of the internal nodes, so I just have to MCMC over the handful of possible regimes at each node, and not the traits as well. This seems quite promising.&lt;/li&gt;
&lt;li&gt;Going from &lt;strong&gt;the generator&lt;/strong&gt; – this could be done for the truly nonlinear models, as it completely ignores the ability to get analytic solutions. The generator could be raised to the power of the branch length. Doing so for the largest branch would allow all other branches to be calculated in the process. This will probably be slow but easy to implement.&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;so-what-to-target-next&quot;&gt;So what to target next&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;First: the the parametric bootstrap extension and paper.
&lt;ul&gt;
&lt;li&gt;modification of the code I currently have to do likelihood ratio and compare to the true data.&lt;/li&gt;
&lt;li&gt;Also add a function to give scores to trees regarding ability to distinguish OU and BM models as a measure of the temporal information they contain.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Lookup tables – means that giant data structure I wrote for the regimes model will be useful, (yay and yikes). More memory and probably more time with valgrind debugging, but could be promising.&lt;/li&gt;
&lt;li&gt;After that I think I’ll try MCMC over regimes and possibly the generator approach. An effective regimes calculation is probably a ways off yet, but plenty of things to try!&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Code Development for Exploring Regimes Shifts</title>
   <link href="/2010/02/09/Code-Development-for-Exploring-Regimes-Shifts.html"/>
   <updated>2010-02-09T00:00:00-08:00</updated>
   <id>h/2010/02/09/Code-Development-for-Exploring-Regimes-Shifts</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Just &lt;a href=&quot;http://code.google.com/p/popdyn/source/list&quot; title=&quot;http://code.google.com/p/popdyn/source/list&quot;&gt;committed changes&lt;/a&gt; to the google project. &lt;code&gt;warning_signals.c&lt;/code&gt; now provides a fully functional, ensemble enabled simulation written with functional API for general Gillespie simulations (at last! I’ve come quite a way in my C coding from those early Gillespie simulations for adaptive dynamics two years ago). Still need to pull the API out of the single file. Doxygen-compatible literate programming included, but needs significant expansion before it can really be used effectively as an API for other users. Getting there… Meanwhile, on the science side:&lt;/li&gt;
&lt;li&gt;Simulation represents demographic stochasticity in a population following dynamics that are capable of the saddle node bifurcation. Can add environmental noise, remove demographic stochasticity, and allow a slow parameter change that will force the saddle node bifurcation either deterministically or stochastically.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;next-steps&quot;&gt;Next steps&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;add reporter functions to monitor the classic warning signals, based a single replicate (using time-averaging) and on the ensemble.
&lt;ul&gt;
&lt;li&gt;Variance is the easiest warning signal to implement for both cases.&lt;/li&gt;
&lt;li&gt;Autocorrelation over a specified window-size&lt;/li&gt;
&lt;li&gt;Power spectrum over time window (chance to become familiar with GSL’s fft, though I have this analysis implemented in some old Python all ready.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Observer function will need to be able to pass its data up to a higher-level language like R. Might be time to learn .Call over .C interface…&lt;/li&gt;
&lt;li&gt;Would be nice to have an R (command-line) and a Python based GUI, slider-bar, real-time graphing interface to the simulation to make it easy for users to explore how slow changes needed to be, how big the autocorrelation window, etc, to detect a warning signal.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;notebook-reflections&quot;&gt;Notebook Reflections&lt;/h3&gt;
&lt;p&gt;Ok, so that’s part vague list of accomplishments, part dense list of goals. Code development stage doesn’t really have simulations to chronicle with all there parameters and results to plot and show, but I’ll get there. Still figuring out what kind of notes are most useful for this stage, will be more obvious once things are coded and I can start exploring preliminary results. &lt;script type=&quot;text/javascript&quot;&gt;
&lt;!--
h='&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#46;&amp;#x63;&amp;#x6f;&amp;#x6d;';a='&amp;#64;';n='&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;';e=n+a+h;
document.write('&lt;a h'+'ref'+'=&quot;ma'+'ilto'+':'+e+'&quot;&gt;'+'Comments'+'&lt;\/'+'a'+'&gt;');
// --&gt;
&lt;/script&gt;&lt;noscript&gt;&amp;#x43;&amp;#x6f;&amp;#x6d;&amp;#x6d;&amp;#x65;&amp;#110;&amp;#116;&amp;#x73;&amp;#32;&amp;#40;&amp;#x63;&amp;#98;&amp;#x6f;&amp;#x65;&amp;#116;&amp;#116;&amp;#x69;&amp;#x67;&amp;#32;&amp;#x61;&amp;#116;&amp;#32;&amp;#x67;&amp;#x6d;&amp;#x61;&amp;#x69;&amp;#108;&amp;#32;&amp;#100;&amp;#x6f;&amp;#116;&amp;#32;&amp;#x63;&amp;#x6f;&amp;#x6d;&amp;#x29;&lt;/noscript&gt; welcome; they can also be added to the talk page or directly to this notebook. Hope to figure out how to get a comment form bubble to appear so viewers can leave in-notebook comments without wiki-editing (possibly without logging in to OWW?). Thoughts on how to do that also appreciated.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Updates to Code</title>
   <link href="/2010/02/08/Updates-to-Code.html"/>
   <updated>2010-02-08T00:00:00-08:00</updated>
   <id>h/2010/02/08/Updates-to-Code</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Mostly organizational updates at the moment. Restructured the directory tree, and added proper &lt;a href=&quot;http://en.wikipedia.org/wiki/Literate_programming&quot; title=&quot;http://en.wikipedia.org/wiki/Literate_programming&quot;&gt;literate programming&lt;/a&gt; headers to the code using &lt;a href=&quot;http://en.wikipedia.org/wiki/Doxygen&quot; title=&quot;http://en.wikipedia.org/wiki/Doxygen&quot;&gt;Doxygen&lt;/a&gt; markup.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&quot;http://code.google.com/p/popdyn/&quot; title=&quot;http://code.google.com/p/popdyn/&quot;&gt;code&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Exploring Difficulties with Existing Methods continued</title>
   <link href="/2010/02/08/Exploring-Difficulties-with-Existing-Methods-continued.html"/>
   <updated>2010-02-08T00:00:00-08:00</updated>
   <id>h/2010/02/08/Exploring-Difficulties-with-Existing-Methods-continued</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Working on manuscript for this today, hope to have a draft soon.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Just added a basic example using a star-burst tree to illustrate the challenges associated with this kind of model choice inference.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Sent draft to Brian and Peter, and Wainwright lab.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Still needs a figure explaining the BM, OU(1) and OU(LP) models for those not familiar with Butler and King 2004 paper, general polishing.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;further-revisions-based-on-feedback&quot;&gt;Further Revisions based on feedback&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Need to explain the simulation approach much more clearly as a model testing alternative to AIC/SIC. Need to explain how this can be done independent of AIC/SIC. Need proper discussion section.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Exploring Difficulties with Existing Methods</title>
   <link href="/2010/02/07/Exploring-Difficulties-with-Existing-Methods.html"/>
   <updated>2010-02-07T00:00:00-08:00</updated>
   <id>h/2010/02/07/Exploring-Difficulties-with-Existing-Methods</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Model choice plays an increasingly dominant role in comparative phylogenetics. The software OUCH of Butler and King (2004) is built around the model comparison framework and returns a variety of information criteria for choosing between different models fitted to the tree.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I’ve written a short R script to explore how robust these inferences are, and the results are rather surprising. None of the inferences holds up to the classical P value standard of 95% probability of being right, and the inference can be wrong more often than it is right – a coin flip out-performs the model choice method based on these information criteria in certain cases. This provides good motivation for my proposed new methods and should also provide material for a note to Evolution.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;http://openwetware.org/images/thumb/4/43/Aic_panels.png/400px-Aic_panels.png&quot; alt=&quot;image&quot; /&gt; &lt;img src=&quot;http://openwetware.org/images/thumb/8/8c/Sic_panels.png/400px-Sic_panels.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Histogram in the difference between AIC (or SIC) score of the model used to produce the data and the alternative model. Values falling to the left of the dotted line choose the model actually used to create the simulated data on the tree. In the first row, the data is created under the OU(LP) model and the model choice always selects OU(LP), without error. But when the data is created under BM (last row) the OU(1) and OU(LP) models often outperform the BM model. When the data is created under OU(1), middle row, the model inference chooses the other models most of the time. While stricter criteria of SIC make fewer errors relative to AIC when the data is created under the simpler BM model, SIC performs even worse when OU(1) generates the data.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uses the Anoles tree of the Northern Lesser Antilles and trait of log body size as in the example in OUCH and in Bulter and King paper.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;challenges-with-figures&quot;&gt;Challenges with Figures&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The figure doesn’t appear exactly as I’d like it to, still mastering R lattice graphics. It fills the rows from left to right but from bottom to top. Also, I’d like to leave off the diagonal (self-comparisons, here appearing as the cross diagonal), since differences between scores is of course zero for these cases. They could be replaced with the labels for those row/columns (BM, OU(1), OU(LP) ).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;code-notes&quot;&gt;Code Notes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Code is implemented in the robust_model_choice.R file in codebranches directory. Uses sapply instead of for loop, but the evaluation of the true and test models for each of the simulated data sets is quite slow still. Not sure if it can be accelerated using OUCH, will try in my own C code implementation. I’ll need to extend the C code to handle OUCH-style painting for this.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Lunch with Wainwright Lab</title>
   <link href="/2010/02/05/Lunch-with-Wainwright-Lab.html"/>
   <updated>2010-02-05T00:00:00-08:00</updated>
   <id>h/2010/02/05/Lunch-with-Wainwright-Lab</id>
   <content type="html">&lt;p&gt;Friday lunch with Wainwright lab continues to be a very useful chance to bounce ideas off of lab members with an excellent grasp of both the models involved and the real biology, morphology and evolution in question. Today’s discussion hit several topics.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Should regime transitions be restricted to nodes?&lt;/strong&gt; The general consensus was &lt;strong&gt;No.&lt;/strong&gt; On one hand, the position of nodes may contain information about the timing of an actual environmental change responsible for a regime shift. On the other hand: (1) the exact temporal position of the node is uncertain anyway, as it comes from inference of the tree, (2) the evolutionary response may occur immediately after or before the actual position of the node, and indeed it may be interesting to say which it is, (3) this ignores information about the branch lengths, and that transitions are more likely to occur on longer branches (4) this ignores the fact that many more nodes exist than are inferred, but are absent from the phylogeny because the lineage subsequently goes extinct. That said, restricting transitions to nodes seems like a reasonable place to start.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;log transforming data.&lt;/strong&gt; This is a minor comment, which we might submit as a note to Evolution. While nondimensionalizing data is good, this makes interpreting the Brownian motion model more challenging, as the average size continues to increase. The problem is slightly remedied by the OU process, in which the average size increases only until the stationary distribution is reached. Discussion seemed encouraging and now I need to think of how to usefully illustrate the concern in four or fewer figures…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Model choice and AIC scores&lt;/strong&gt; This is another note I’m preparing to submit. The correct way to choose between BM and OU models may not be as simple as AIC, as any simulation can explore. Accurately characterizing false-positive rates may be more informative and is easily done using existing methods and software. The degree of error will be particular to the tree topology, but this kind of analysis could be performed for each data set automatically.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/02/04/Teaching.html"/>
   <updated>2010-02-04T00:00:00-08:00</updated>
   <id>h/2010/02/04/Teaching</id>
   <content type="html">&lt;h2 id=&quot;early-warning-signals-to-regime-shifts-seminar&quot;&gt;Early Warning Signals to Regime Shifts Seminar&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I was just responsible for covering a relatively technical paper on the idea of detecting early warning signals to regime shifts. This is a class of about 10 people. First half we took turns on the board, relying entirely on graphical analysis, and going from a birth death model through stability analysis to illustrate bi-stability to the bifurcation diagram and the energy landscape representation. In the second half we explored an individual-based stochastic simulation module in netlogo in which we could move slider bars for parameters and observe the bifurcation and population crash.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The board work went very well with people taking turns getting us to the next step. I believe it was clear that (a) not everyone understood this analysis at the beginning and (b) were able to figure it out at the board with a little bit of guidance and (c) seemed very engaged in the process. The netlogo activity ended up being done predominately on my machine connected to the projector rather than in pairs at individual computers in front of everyone. Getting groups started on an activity seems to be a challenge to me, and transitioning between little groups and whole class discussion remains something I really need to figure out. In this case the whole-group exploration of the netlogo simulation guided by me was probably best anyway, as I didn’t have clear directions or time for people to work in groups.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;evaluation&quot;&gt;Evaluation&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;I was also pleased by the prepwork required to do this. Initially it took me about 3 hrs (while stuck on a train) to learn how to get a population model into netlogo. Realizing that I can only do individual-based birth and death rates (so divide the population rates by population size), and learning the &lt;code&gt;count sheep&lt;/code&gt; command were key steps. I debated coding the dynamics in R, or in C and writing a python interface for slider bars, but the netlogo approach was much easier. Still, I was frustrated by not knowing how to make netlogo do graphs that don’t have time on the x axis, or the rather cumbersome way I have to calculate warning signals such as variance. Once I figured out the basics, I was able to write the actual netlogo code we used in about an hour this morning, and guide the board discussion without more than a sketch of my plan.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;I still debate whether interactive learning must involve slower pace and less coverage than traditional approaches. Overall I was happy with how much we covered today and think it successfully facilitated an accelerated discovery process relative to what would happen in normal lecture + homework exercise. The fact that we hardly talked about the article I was supposed to cover notwithstanding…&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;On the science side, the simulation did a good job of illustrating a case where there was a mathematical warning signal, in terms of a weakening eigenvalue, (despite the model having the stochasticity built in intrinsically and not just added to the landscape picture), but at the same time it was hard to detect without long-time averages, slow changes, or replicates.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;going-forward&quot;&gt;Going Forward&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Thinking about writing up a little manuscript with the examples and discussion of the theory we covered.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Trying to figure out what makes this post useful and what just wastes time. Thinking about adding the netlogo code up here, and/or figures covering the examples. Might be better placed in my lab notebook on stochastic population dynamics.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>Hastings Meeting</title>
   <link href="/2010/02/03/Hastings-Meeting.html"/>
   <updated>2010-02-03T00:00:00-08:00</updated>
   <id>h/2010/02/03/Hastings-Meeting</id>
   <content type="html">&lt;ul&gt;
&lt;li&gt;Meeting with Dr. Alan Hastings soon to discuss progress on this project. We’ll also see what he thinks of the open lab notebook. There’s a lot I want to cover in this meeting.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;warning-signals&quot;&gt;Warning Signals&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Tomorrow I’m leading a discussion in seminar on regime shift literature, so I need to review major ideas of the paper with Alan. Particularly need to be clear on the role of dimensionality and if/when the population dynamics lack an appropriate Hamiltonian and whether that’s an important part of the argument.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;beetle-dynamics&quot;&gt;Beetle Dynamics&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Summary of where we are / what I’ve done and the primary goals for the project. I’m hoping the intro to the lab notebook will help facilitate this.&lt;/li&gt;
&lt;li&gt;Finish discussion of Denis et al Eco Monographs (2001) paper. Discuss alternate approaches that use model comparison.&lt;/li&gt;
&lt;li&gt;Dealing with the age classes in continuous time when rates are time dependent remains a source of frustration. There are several possible approaches here, so might be good to compare how each performs against the data:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;assume constant rates of transition between age classes, restoring temporal homogeneity.&lt;/li&gt;
&lt;li&gt;add an energy function that explicitly models energy uptake and make transition rates between age classes dependent upon this&lt;/li&gt;
&lt;li&gt;see how far I can get with the straight-forward / correct approach of integrating directly. Certainly fine for the ODE but less familiar with the theory for temporally heterogeneous stochastic process, since it loses the Markov property (rate depends on how long you’ve been in a state).&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;post-meeting-eval&quot;&gt;Post Meeting Eval&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Goals for next time: Feb 10th&lt;/li&gt;
&lt;/ul&gt;
&lt;ol style=&quot;list-style-type: decimal&quot;&gt;
&lt;li&gt;Implement the analytic energy-based model for transitions between states, solve for fluctuation dynamics&lt;/li&gt;
&lt;li&gt;Review &lt;a href=&quot;http://www.eeb.cornell.edu/Ellner/pubs/EasterlingIntegral00.pdf&quot; title=&quot;http://www.eeb.cornell.edu/Ellner/pubs/EasterlingIntegral00.pdf&quot;&gt;integral projection models&lt;/a&gt; of Steve Ellner as an approach to handling age / stage structure&lt;/li&gt;
&lt;li&gt;Experiment with adding individual heterogeneity and environmental variation to the continuous time simulation&lt;/li&gt;
&lt;li&gt;Explore implementation strategies for likelihood evaluation of the various models to simulated and real data&lt;/li&gt;
&lt;li&gt;Continue &lt;a href=&quot;http://www.mendeley.com/collections/972151/StochasticPopulationDynamics/&quot; title=&quot;http://www.mendeley.com/collections/972151/StochasticPopulationDynamics/&quot;&gt;background reading&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>The Lab Notebook Goes Open</title>
   <link href="/2010/02/02/The-Lab-Notebook-Goes-Open-.html"/>
   <updated>2010-02-02T00:00:00-08:00</updated>
   <id>h/2010/02/02/The-Lab-Notebook-Goes-Open-</id>
   <content type="html">&lt;p&gt;(Originally posted on OpenWetWare)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;This is the first entry in my lab notebook, but not the beginning of the project. I have been exploring demographic and colored environmental noise since beginning my graduate program at UC Davis. Much of that time has been spent in building the appropriate tool set though, so now it’s time to dive in.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;A good starting point is Denis et. al. (2001) &lt;em&gt;Ecological Monographs&lt;/em&gt; 71.2. In this paper they reconsider the LPA model for &lt;em&gt;Tribolium&lt;/em&gt; and determine that most of the variation can be attributed to demographic noise rather than chaos, limit cycles or environmental noise, contrary to their earlier work.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Thus far I’ve implemented a continuous time individual-based stochastic population model with four age classes. Currently demographic stochasticity is the only source of variation, though the age structure creates large shocks. Analytic treatment is difficult in a continuous time framework since having fixed ages of maturity makes the model time heterogeneous.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Code for the project is hosted open source through &lt;a href=&quot;http://code.google.com/p/popdyn/&quot; title=&quot;http://code.google.com/p/popdyn/&quot;&gt;Google code&lt;/a&gt; and managed with subversion.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;early-warning-signals&quot;&gt;Early Warning Signals&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;I’ve also done some work towards the early warning signal modeling. I’ve implemented a simple population individual-based model with saddle-node bifurcation in both C and netlogo. The netlogo implementation allows for a better visualization with slider-bars that change the parameters and dynamic plotting, the C code allows larger numbers, longer times, and replicates (ensemble) simulation. The C code is also in continuous time (via Gillespie method), while netlogo is in discrete time. Both need some modification.&lt;/li&gt;
&lt;/ul&gt;</content>
 </entry>
 
 <entry>
   <title>Teaching</title>
   <link href="/2010/01/25/Teaching.html"/>
   <updated>2010-01-25T00:00:00-08:00</updated>
   <id>h/2010/01/25/Teaching</id>
   <content type="html">&lt;h2 id=&quot;clash-of-old-and-new&quot;&gt;Clash of Old and New&lt;/h2&gt;
&lt;p&gt;Today was my day to facilitate for a graduate student discussion seminar. The seminar is well attended by quite a handful of faculty and post-docs, some thirty people. The discussion is almost always dominated by a few faculty, which is a great source of information but offers little opportunity for students to ask questions or wrestle with ideas themselves. To get at this, I tried breaking the class into small groups for the first half and passing out different sets of discussion questions. Things didn’t go as planned…&lt;/p&gt;
&lt;p&gt;The faculty organizer of the course left the room during the discussion, apologizing that he was busy and would return when the small-group part was finished. I introduced the concept poorly and without discussing the idea with these professors before hand. Senior faculty present informed me that that it was inappropriate to treat this like an “undergraduate lab.” Some small groups had excellent discussions, others had more trouble getting going. The questions I had chosen tended to be too specific and the time for group discussion considered too long, despite that fact that no group covered both questions they had been given.&lt;/p&gt;
&lt;p&gt;I underestimated the resistance and discomfort people would experience in being asked to form groups and talk to each other about that day’s reading. My tone and manner of introduction was probably too energetic and directive, which heightened the sense of “undergraduate lab.” The obvious opposition to the proposal from the faculty involved when the idea was introduced also seemed to set an expectation that being in small groups would accomplish nothing, setting a tone that I found stifling towards active group discussion.&lt;/p&gt;
&lt;p&gt;I asked many people involved for feedback afterwards. While this feedback was not anonymous, many still gave direct critiques, particularly of the time allowed, the questions, and some of the approach as a whole. Overall, I found many of the quieter students, post-docs, and faculty supportive to very positive about the experience, while those speaking more frequently tended to be more negative.&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;</content>
 </entry>
 
 <entry>
   <title>CPB thesis proposal</title>
   <link href="/2010/01/10/cpb-thesis-proposal.html"/>
   <updated>2010-01-10T06:07:20-08:00</updated>
   <id>h/2010/01/10/cpb-thesis-proposal</id>
   <content type="html">&lt;p&gt;In the spirit of archiving work in the lab notebook, this was my PhD dissertation proposal, a requirement to advance to candidacy submitted before our oral defense in the second or third year. Following some excellent advice, this is focused more narrowly than my actual dissertation. As a historical note, I started keeping an open lab notebook the month following this, on OpenWetWare (so work leading up to this isn’t archived, though admittedly first two years were largely coursework). I’ve back-dated the post to the date on the proposal.&lt;/p&gt;
&lt;embed src=&quot;http://www.carlboettiger.info/assets/files/thesis_proposal.pdf&quot; width=700 height=500&gt;</content>
 </entry>
 
 <entry>
   <title>Popbio Core Review Notes</title>
   <link href="/2008/06/09/PopBio-Core-Review-Notes.html"/>
   <updated>2008-06-09T00:00:00-07:00</updated>
   <id>h/2008/06/09/PopBio-Core-Review-Notes</id>
   <content type="html">&lt;p&gt;Embedded versions of my summary sheets for the Population Biology graduate group core course, organized by faculty member’s section.&lt;/p&gt;
&lt;h3 id=&quot;schreiber-single-species-population-dynamics&quot;&gt;Schreiber: Single species population dynamics&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/Schreiber2.pdf&quot; width=700 height=500&gt;

&lt;h3 id=&quot;schoener-multispecies-population-dynamics&quot;&gt;Schoener: multispecies population dynamics&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/Schoener2.pdf&quot; width=700 height=500&gt;

&lt;h3 id=&quot;stachowicz-community-ecology&quot;&gt;Stachowicz: Community ecology&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/Stachowicz2.pdf&quot; width=700 height=500&gt;

&lt;h3 id=&quot;sih-animal-behavior&quot;&gt;Sih: Animal behavior&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/SihReview2.pdf&quot; width=700 height=500&gt;

&lt;h3 id=&quot;turelli-population-genetics-and-speciation&quot;&gt;Turelli: Population genetics and speciation&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/TurelliReview2.pdf&quot; width=700 height=500&gt;

&lt;h3 id=&quot;wainwright-macroevolution-and-comparative-phylogenetics&quot;&gt;Wainwright: macroevolution and comparative phylogenetics&lt;/h3&gt;
&lt;embed src=&quot;/assets/files/pbg-core-notes/Wainwright.pdf&quot; width=700 height=500&gt;</content>
 </entry>
 
 
</feed>
